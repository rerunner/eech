; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\3d\terrain\terrdrcl.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?draw_3d_terrain_clipped_fan_word_face@@YGXH@Z	; draw_3d_terrain_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_clipped_fan_byte_face@@YGXH@Z	; draw_3d_terrain_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_texture_x_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_texture_x_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_texture_x_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_texture_x_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_texture_z_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_texture_z_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_texture_z_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_texture_z_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_texture_x_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_texture_x_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_texture_x_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_texture_x_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_texture_z_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_texture_z_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_texture_z_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_texture_z_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_colour_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_colour_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_colour_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_colour_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_colour_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_colour_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_colour_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_colour_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_texture_x_colour_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_texture_x_colour_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_texture_x_colour_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_texture_x_colour_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_texture_z_colour_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_texture_z_colour_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_texture_z_colour_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_texture_z_colour_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_texture_x_colour_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_texture_x_colour_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_texture_x_colour_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_texture_x_colour_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_texture_z_colour_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_texture_z_colour_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_texture_z_colour_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_texture_z_colour_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_twopass_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_twopass_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_twopass_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_twopass_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_twopass_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_twopass_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_twopass_colour_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_twopass_colour_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_twopass_colour_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_colour_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_twopass_colour_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_twopass_colour_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_twopass_colour_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_colour_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_colour_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_colour_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_colour_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_colour_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_colour_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_x_colour_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_colour_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_twopass_texture_z_colour_clipped_strip_byte_face
PUBLIC	?draw_3d_terrain_threepass_clipped_fan_word_face@@YGXH@Z ; draw_3d_terrain_threepass_clipped_fan_word_face
PUBLIC	?draw_3d_terrain_threepass_clipped_fan_byte_face@@YGXH@Z ; draw_3d_terrain_threepass_clipped_fan_byte_face
PUBLIC	?draw_3d_terrain_threepass_clipped_strip_word_face@@YGXH@Z ; draw_3d_terrain_threepass_clipped_strip_word_face
PUBLIC	?draw_3d_terrain_threepass_clipped_strip_byte_face@@YGXH@Z ; draw_3d_terrain_threepass_clipped_strip_byte_face
EXTRN	?clip_3d_polygon@@YGPAUVERTEX@@PAU1@H@Z:PROC	; clip_3d_polygon
EXTRN	?clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@H@Z:PROC ; clip_3d_dual_texture_polygon
EXTRN	?draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon@@YGXPAUVERTEX@@PAUSCREEN@@@Z:PROC ; draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon
EXTRN	?hither_clip_3d_polygon@@YGPAUVERTEX@@PAU1@PAH@Z:PROC ; hither_clip_3d_polygon
EXTRN	?yonder_clip_3d_polygon@@YGPAUVERTEX@@PAU1@PAH@Z:PROC ; yonder_clip_3d_polygon
EXTRN	?hither_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z:PROC ; hither_clip_3d_dual_texture_polygon
EXTRN	?yonder_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z:PROC ; yonder_clip_3d_dual_texture_polygon
EXTRN	?apply_perspective_to_polygon_texture@@YGXPAUVERTEX@@@Z:PROC ; apply_perspective_to_polygon_texture
EXTRN	?remove_perspective_from_polygon_texture@@YGXPAUVERTEX@@@Z:PROC ; remove_perspective_from_polygon_texture
EXTRN	?apply_perspective_to_polygon_dual_texture@@YGXPAUVERTEX@@@Z:PROC ; apply_perspective_to_polygon_dual_texture
EXTRN	?remove_perspective_from_polygon_dual_texture@@YGXPAUVERTEX@@@Z:PROC ; remove_perspective_from_polygon_dual_texture
EXTRN	?outcode_3d_terrain_triangle@@YGHPAH0@Z:PROC	; outcode_3d_terrain_triangle
EXTRN	?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z:PROC ; construct_3d_terrain_triangle
EXTRN	?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z:PROC ; construct_3d_terrain_xy_triangle
EXTRN	?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z:PROC ; construct_3d_terrain_zy_triangle
EXTRN	?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z:PROC ; construct_3d_terrain_dual_texture_triangle
EXTRN	?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z:PROC ; construct_3d_terrain_dual_texture_xy_triangle
EXTRN	?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z:PROC ; construct_3d_terrain_dual_texture_zy_triangle
EXTRN	?render_3d_terrain_secondary_vertex_polygon@@YGXPAUVERTEX@@@Z:PROC ; render_3d_terrain_secondary_vertex_polygon
EXTRN	?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z:PROC ; terrain_3d_copy_and_recolour_polygon
EXTRN	?clip_3d_coord@@3HA:DWORD			; clip_3d_coord
EXTRN	?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A:DWORD ; terrain_3d_sector_point_byte_references
EXTRN	?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A:DWORD ; terrain_3d_sector_point_word_references
EXTRN	?current_terrain_type_class@@3PAUTERRAIN_TYPE_INFO@@A:DWORD ; current_terrain_type_class
EXTRN	?terrain_3d_faces_outcoded@@3HA:DWORD		; terrain_3d_faces_outcoded
EXTRN	?terrain_3d_faces_hither_clipped@@3HA:DWORD	; terrain_3d_faces_hither_clipped
EXTRN	?terrain_3d_faces_screen_clipped@@3HA:DWORD	; terrain_3d_faces_screen_clipped
EXTRN	?terrain_3d_faces_constructed@@3HA:DWORD	; terrain_3d_faces_constructed
EXTRN	?terrain_3d_faces_rejected@@3HA:DWORD		; terrain_3d_faces_rejected
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_threepass_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_threepass_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_threepass_clipped_strip_byte_face, COMDAT

; 2695 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2696 : 
; 2697 : 	vertex
; 2698 : 		*poly;
; 2699 : 
; 2700 : 	terrain_3d_point_byte_reference
; 2701 : 		*point_refs;
; 2702 : 
; 2703 : 	int
; 2704 : 		fan_point_refs[3],
; 2705 : 		triangle_outcode,
; 2706 : 		count;
; 2707 : 
; 2708 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2709 : 
; 2710 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2711 : 
; 2712 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d ba 01 00
	00		 jge	 $LN1@draw_3d_te

; 2713 : 	{
; 2714 : 
; 2715 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 2716 : 		{
; 2717 : 
; 2718 : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00056	ba 04 00 00 00	 mov	 edx, 4
  0005b	6b c2 00	 imul	 eax, edx, 0
  0005e	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 2719 : 			fan_point_refs[1] = point_refs[count+2].point;

  00062	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00065	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00068	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  0006c	ba 04 00 00 00	 mov	 edx, 4
  00071	c1 e2 00	 shl	 edx, 0
  00074	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2720 : 			fan_point_refs[2] = point_refs[count+1].point;

  00078	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007b	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007e	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2721 : 		}
; 2722 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 2723 : 		{
; 2724 : 
; 2725 : 			fan_point_refs[0] = point_refs[count].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 2726 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2727 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 2728 : 		}
; 2729 : 
; 2730 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2731 : 	
; 2732 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	0f 84 09 01 00
	00		 je	 $LN7@draw_3d_te

; 2733 : 		{
; 2734 : 	
; 2735 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000f1	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f4	50		 push	 eax
  000f5	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000fa	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2736 : 	
; 2737 : 			clip_3d_coord = 0;

  000fd	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 2738 : 
; 2739 : 			if ( triangle_outcode )

  00107	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  0010b	0f 84 c8 00 00
	00		 je	 $LN8@draw_3d_te

; 2740 : 			{
; 2741 : 			
; 2742 : 				if ( triangle_outcode & CLIP_YONDER )

  00111	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00114	83 e0 10	 and	 eax, 16			; 00000010H
  00117	74 37		 je	 SHORT $LN9@draw_3d_te

; 2743 : 				{
; 2744 : 
; 2745 : 					poly = yonder_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  00119	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0011c	50		 push	 eax
  0011d	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00120	51		 push	 ecx
  00121	e8 00 00 00 00	 call	 ?yonder_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; yonder_clip_3d_dual_texture_polygon
  00126	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2746 : 			
; 2747 : 					terrain_3d_faces_hither_clipped++;

  00129	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  0012e	83 c0 01	 add	 eax, 1
  00131	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2748 : 			
; 2749 : 					if ( !poly )

  00136	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  0013a	75 14		 jne	 SHORT $LN9@draw_3d_te

; 2750 : 					{
; 2751 : 
; 2752 : 						triangle_outcode = 0;

  0013c	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2753 : 
; 2754 : 						terrain_3d_faces_rejected++;

  00143	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00148	83 c0 01	 add	 eax, 1
  0014b	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN9@draw_3d_te:

; 2755 : 					}
; 2756 : 				}
; 2757 : 		
; 2758 : 				if ( triangle_outcode & CLIP_HITHER )

  00150	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00153	83 e0 20	 and	 eax, 32			; 00000020H
  00156	74 37		 je	 SHORT $LN11@draw_3d_te

; 2759 : 				{
; 2760 : 			
; 2761 : 					poly = hither_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  00158	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0015b	50		 push	 eax
  0015c	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0015f	51		 push	 ecx
  00160	e8 00 00 00 00	 call	 ?hither_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; hither_clip_3d_dual_texture_polygon
  00165	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2762 : 			
; 2763 : 					terrain_3d_faces_hither_clipped++;

  00168	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  0016d	83 c0 01	 add	 eax, 1
  00170	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2764 : 			
; 2765 : 					if ( !poly )

  00175	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00179	75 14		 jne	 SHORT $LN11@draw_3d_te

; 2766 : 					{
; 2767 : 
; 2768 : 						triangle_outcode = 0;

  0017b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2769 : 
; 2770 : 						terrain_3d_faces_rejected++;

  00182	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00187	83 c0 01	 add	 eax, 1
  0018a	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN11@draw_3d_te:

; 2771 : 					}
; 2772 : 				}
; 2773 : 			
; 2774 : 				if ( triangle_outcode )

  0018f	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  00193	74 44		 je	 SHORT $LN8@draw_3d_te

; 2775 : 				{
; 2776 : 			
; 2777 : 					apply_perspective_to_polygon_dual_texture ( poly );

  00195	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00198	50		 push	 eax
  00199	e8 00 00 00 00	 call	 ?apply_perspective_to_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; apply_perspective_to_polygon_dual_texture

; 2778 : 			
; 2779 : 					poly = clip_3d_dual_texture_polygon ( poly, triangle_outcode );

  0019e	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  001a1	50		 push	 eax
  001a2	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  001a5	51		 push	 ecx
  001a6	e8 00 00 00 00	 call	 ?clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_dual_texture_polygon
  001ab	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2780 : 			
; 2781 : 					terrain_3d_faces_screen_clipped++;

  001ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA ; terrain_3d_faces_screen_clipped
  001b3	83 c0 01	 add	 eax, 1
  001b6	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA, eax ; terrain_3d_faces_screen_clipped

; 2782 : 			
; 2783 : 					if ( !poly )

  001bb	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  001bf	75 0f		 jne	 SHORT $LN14@draw_3d_te

; 2784 : 					{
; 2785 : 			
; 2786 : 						terrain_3d_faces_rejected++;

  001c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  001c6	83 c0 01	 add	 eax, 1
  001c9	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2787 : 					}
; 2788 : 					else

  001ce	eb 09		 jmp	 SHORT $LN8@draw_3d_te
$LN14@draw_3d_te:

; 2789 : 					{
; 2790 : 				
; 2791 : 						remove_perspective_from_polygon_dual_texture ( poly );

  001d0	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  001d3	50		 push	 eax
  001d4	e8 00 00 00 00	 call	 ?remove_perspective_from_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; remove_perspective_from_polygon_dual_texture
$LN8@draw_3d_te:

; 2792 : 					}
; 2793 : 				}
; 2794 : 			}
; 2795 : 
; 2796 : 			if ( poly )

  001d9	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  001dd	74 1b		 je	 SHORT $LN7@draw_3d_te

; 2797 : 			{
; 2798 : 			
; 2799 : 				draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon ( poly, current_terrain_type_class->texture );

  001df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_terrain_type_class@@3PAUTERRAIN_TYPE_INFO@@A ; current_terrain_type_class
  001e4	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001e7	51		 push	 ecx
  001e8	8b 55 fc	 mov	 edx, DWORD PTR _poly$[ebp]
  001eb	52		 push	 edx
  001ec	e8 00 00 00 00	 call	 ?draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon@@YGXPAUVERTEX@@PAUSCREEN@@@Z ; draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon

; 2800 : 
; 2801 : 				render_3d_terrain_secondary_vertex_polygon ( poly );

  001f1	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  001f4	50		 push	 eax
  001f5	e8 00 00 00 00	 call	 ?render_3d_terrain_secondary_vertex_polygon@@YGXPAUVERTEX@@@Z ; render_3d_terrain_secondary_vertex_polygon
$LN7@draw_3d_te:

; 2802 : 			}
; 2803 : 		}
; 2804 : 	}

  001fa	e9 2e fe ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2805 : }

  001ff	5f		 pop	 edi
  00200	5e		 pop	 esi
  00201	5b		 pop	 ebx
  00202	8b e5		 mov	 esp, ebp
  00204	5d		 pop	 ebp
  00205	c2 04 00	 ret	 4
?draw_3d_terrain_threepass_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_threepass_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_threepass_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_threepass_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_threepass_clipped_strip_word_face, COMDAT

; 2578 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2579 : 
; 2580 : 	vertex
; 2581 : 		*poly;
; 2582 : 
; 2583 : 	terrain_3d_point_word_reference
; 2584 : 		*point_refs;
; 2585 : 
; 2586 : 	int
; 2587 : 		fan_point_refs[3],
; 2588 : 		triangle_outcode,
; 2589 : 		count;
; 2590 : 
; 2591 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2592 : 
; 2593 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2594 : 
; 2595 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d c0 01 00
	00		 jge	 $LN1@draw_3d_te

; 2596 : 	{
; 2597 : 
; 2598 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 2599 : 		{
; 2600 : 
; 2601 : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00057	b8 04 00 00 00	 mov	 eax, 4
  0005c	6b c8 00	 imul	 ecx, eax, 0
  0005f	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 2602 : 			fan_point_refs[1] = point_refs[count+2].point;

  00063	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00066	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00069	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  0006e	b8 04 00 00 00	 mov	 eax, 4
  00073	c1 e0 00	 shl	 eax, 0
  00076	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2603 : 			fan_point_refs[2] = point_refs[count+1].point;

  0007a	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007d	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00080	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2604 : 		}
; 2605 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 2606 : 		{
; 2607 : 
; 2608 : 			fan_point_refs[0] = point_refs[count].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 2609 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2610 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 2611 : 		}
; 2612 : 
; 2613 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2614 : 	
; 2615 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	0f 84 09 01 00
	00		 je	 $LN7@draw_3d_te

; 2616 : 		{
; 2617 : 	
; 2618 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000f7	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000fa	50		 push	 eax
  000fb	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  00100	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2619 : 	
; 2620 : 			clip_3d_coord = 0;

  00103	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 2621 : 
; 2622 : 			if ( triangle_outcode )

  0010d	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  00111	0f 84 c8 00 00
	00		 je	 $LN8@draw_3d_te

; 2623 : 			{
; 2624 : 			
; 2625 : 				if ( triangle_outcode & CLIP_YONDER )

  00117	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0011a	83 e0 10	 and	 eax, 16			; 00000010H
  0011d	74 37		 je	 SHORT $LN9@draw_3d_te

; 2626 : 				{
; 2627 : 
; 2628 : 					poly = yonder_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  0011f	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00122	50		 push	 eax
  00123	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00126	51		 push	 ecx
  00127	e8 00 00 00 00	 call	 ?yonder_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; yonder_clip_3d_dual_texture_polygon
  0012c	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2629 : 			
; 2630 : 					terrain_3d_faces_hither_clipped++;

  0012f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  00134	83 c0 01	 add	 eax, 1
  00137	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2631 : 			
; 2632 : 					if ( !poly )

  0013c	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00140	75 14		 jne	 SHORT $LN9@draw_3d_te

; 2633 : 					{
; 2634 : 
; 2635 : 						triangle_outcode = 0;

  00142	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2636 : 
; 2637 : 						terrain_3d_faces_rejected++;

  00149	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  0014e	83 c0 01	 add	 eax, 1
  00151	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN9@draw_3d_te:

; 2638 : 					}
; 2639 : 				}
; 2640 : 		
; 2641 : 				if ( triangle_outcode & CLIP_HITHER )

  00156	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00159	83 e0 20	 and	 eax, 32			; 00000020H
  0015c	74 37		 je	 SHORT $LN11@draw_3d_te

; 2642 : 				{
; 2643 : 			
; 2644 : 					poly = hither_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  0015e	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00161	50		 push	 eax
  00162	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?hither_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; hither_clip_3d_dual_texture_polygon
  0016b	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2645 : 			
; 2646 : 					terrain_3d_faces_hither_clipped++;

  0016e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  00173	83 c0 01	 add	 eax, 1
  00176	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2647 : 			
; 2648 : 					if ( !poly )

  0017b	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  0017f	75 14		 jne	 SHORT $LN11@draw_3d_te

; 2649 : 					{
; 2650 : 
; 2651 : 						triangle_outcode = 0;

  00181	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2652 : 
; 2653 : 						terrain_3d_faces_rejected++;

  00188	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  0018d	83 c0 01	 add	 eax, 1
  00190	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN11@draw_3d_te:

; 2654 : 					}
; 2655 : 				}
; 2656 : 			
; 2657 : 				if ( triangle_outcode )

  00195	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  00199	74 44		 je	 SHORT $LN8@draw_3d_te

; 2658 : 				{
; 2659 : 			
; 2660 : 					apply_perspective_to_polygon_dual_texture ( poly );

  0019b	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  0019e	50		 push	 eax
  0019f	e8 00 00 00 00	 call	 ?apply_perspective_to_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; apply_perspective_to_polygon_dual_texture

; 2661 : 			
; 2662 : 					poly = clip_3d_dual_texture_polygon ( poly, triangle_outcode );

  001a4	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  001a7	50		 push	 eax
  001a8	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  001ab	51		 push	 ecx
  001ac	e8 00 00 00 00	 call	 ?clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_dual_texture_polygon
  001b1	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2663 : 			
; 2664 : 					terrain_3d_faces_screen_clipped++;

  001b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA ; terrain_3d_faces_screen_clipped
  001b9	83 c0 01	 add	 eax, 1
  001bc	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA, eax ; terrain_3d_faces_screen_clipped

; 2665 : 			
; 2666 : 					if ( !poly )

  001c1	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  001c5	75 0f		 jne	 SHORT $LN14@draw_3d_te

; 2667 : 					{
; 2668 : 			
; 2669 : 						terrain_3d_faces_rejected++;

  001c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  001cc	83 c0 01	 add	 eax, 1
  001cf	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2670 : 					}
; 2671 : 					else

  001d4	eb 09		 jmp	 SHORT $LN8@draw_3d_te
$LN14@draw_3d_te:

; 2672 : 					{
; 2673 : 				
; 2674 : 						remove_perspective_from_polygon_dual_texture ( poly );

  001d6	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  001d9	50		 push	 eax
  001da	e8 00 00 00 00	 call	 ?remove_perspective_from_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; remove_perspective_from_polygon_dual_texture
$LN8@draw_3d_te:

; 2675 : 					}
; 2676 : 				}
; 2677 : 			}
; 2678 : 
; 2679 : 			if ( poly )

  001df	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  001e3	74 1b		 je	 SHORT $LN7@draw_3d_te

; 2680 : 			{
; 2681 : 			
; 2682 : 				draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon ( poly, current_terrain_type_class->texture );

  001e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_terrain_type_class@@3PAUTERRAIN_TYPE_INFO@@A ; current_terrain_type_class
  001ea	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001ed	51		 push	 ecx
  001ee	8b 55 fc	 mov	 edx, DWORD PTR _poly$[ebp]
  001f1	52		 push	 edx
  001f2	e8 00 00 00 00	 call	 ?draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon@@YGXPAUVERTEX@@PAUSCREEN@@@Z ; draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon

; 2683 : 
; 2684 : 				render_3d_terrain_secondary_vertex_polygon ( poly );

  001f7	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  001fa	50		 push	 eax
  001fb	e8 00 00 00 00	 call	 ?render_3d_terrain_secondary_vertex_polygon@@YGXPAUVERTEX@@@Z ; render_3d_terrain_secondary_vertex_polygon
$LN7@draw_3d_te:

; 2685 : 			}
; 2686 : 		}
; 2687 : 	}

  00200	e9 28 fe ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2688 : }

  00205	5f		 pop	 edi
  00206	5e		 pop	 esi
  00207	5b		 pop	 ebx
  00208	8b e5		 mov	 esp, ebp
  0020a	5d		 pop	 ebp
  0020b	c2 04 00	 ret	 4
?draw_3d_terrain_threepass_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_threepass_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_threepass_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_threepass_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_threepass_clipped_fan_byte_face, COMDAT

; 2471 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2472 : 
; 2473 : 	vertex
; 2474 : 		*poly;
; 2475 : 
; 2476 : 	terrain_3d_point_byte_reference
; 2477 : 		*point_refs;
; 2478 : 
; 2479 : 
; 2480 : 	int
; 2481 : 		fan_point_refs[3],
; 2482 : 		triangle_outcode,
; 2483 : 		count;
; 2484 : 
; 2485 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2486 : 
; 2487 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2488 : 
; 2489 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 76 01 00
	00		 jge	 $LN1@draw_3d_te

; 2490 : 	{
; 2491 : 
; 2492 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 2493 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2494 : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2495 : 
; 2496 : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2497 : 	
; 2498 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	0f 84 09 01 00
	00		 je	 $LN5@draw_3d_te

; 2499 : 		{
; 2500 : 	
; 2501 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000ad	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000b0	50		 push	 eax
  000b1	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000b6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2502 : 	
; 2503 : 			clip_3d_coord = 0;

  000b9	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 2504 : 
; 2505 : 			if ( triangle_outcode )

  000c3	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  000c7	0f 84 c8 00 00
	00		 je	 $LN6@draw_3d_te

; 2506 : 			{
; 2507 : 	
; 2508 : 				if ( triangle_outcode & CLIP_YONDER )

  000cd	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000d0	83 e0 10	 and	 eax, 16			; 00000010H
  000d3	74 37		 je	 SHORT $LN7@draw_3d_te

; 2509 : 				{
; 2510 : 
; 2511 : 					poly = yonder_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  000d5	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000d8	50		 push	 eax
  000d9	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000dc	51		 push	 ecx
  000dd	e8 00 00 00 00	 call	 ?yonder_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; yonder_clip_3d_dual_texture_polygon
  000e2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2512 : 			
; 2513 : 					terrain_3d_faces_hither_clipped++;

  000e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  000ea	83 c0 01	 add	 eax, 1
  000ed	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2514 : 			
; 2515 : 					if ( !poly )

  000f2	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  000f6	75 14		 jne	 SHORT $LN7@draw_3d_te

; 2516 : 					{
; 2517 : 
; 2518 : 						triangle_outcode = 0;

  000f8	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2519 : 
; 2520 : 						terrain_3d_faces_rejected++;

  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00104	83 c0 01	 add	 eax, 1
  00107	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN7@draw_3d_te:

; 2521 : 					}
; 2522 : 				}
; 2523 : 
; 2524 : 				if ( triangle_outcode & CLIP_HITHER )

  0010c	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0010f	83 e0 20	 and	 eax, 32			; 00000020H
  00112	74 37		 je	 SHORT $LN9@draw_3d_te

; 2525 : 				{
; 2526 : 			
; 2527 : 					poly = hither_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  00114	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00117	50		 push	 eax
  00118	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0011b	51		 push	 ecx
  0011c	e8 00 00 00 00	 call	 ?hither_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; hither_clip_3d_dual_texture_polygon
  00121	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2528 : 			
; 2529 : 					terrain_3d_faces_hither_clipped++;

  00124	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  00129	83 c0 01	 add	 eax, 1
  0012c	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2530 : 			
; 2531 : 					if ( !poly )

  00131	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00135	75 14		 jne	 SHORT $LN9@draw_3d_te

; 2532 : 					{
; 2533 : 
; 2534 : 						triangle_outcode = 0;

  00137	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2535 : 
; 2536 : 						terrain_3d_faces_rejected++;

  0013e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00143	83 c0 01	 add	 eax, 1
  00146	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN9@draw_3d_te:

; 2537 : 					}
; 2538 : 				}
; 2539 : 			
; 2540 : 				if ( triangle_outcode )

  0014b	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  0014f	74 44		 je	 SHORT $LN6@draw_3d_te

; 2541 : 				{
; 2542 : 			
; 2543 : 					apply_perspective_to_polygon_dual_texture ( poly );

  00151	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00154	50		 push	 eax
  00155	e8 00 00 00 00	 call	 ?apply_perspective_to_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; apply_perspective_to_polygon_dual_texture

; 2544 : 			
; 2545 : 					poly = clip_3d_dual_texture_polygon ( poly, triangle_outcode );

  0015a	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0015d	50		 push	 eax
  0015e	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00161	51		 push	 ecx
  00162	e8 00 00 00 00	 call	 ?clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_dual_texture_polygon
  00167	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2546 : 			
; 2547 : 					terrain_3d_faces_screen_clipped++;

  0016a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA ; terrain_3d_faces_screen_clipped
  0016f	83 c0 01	 add	 eax, 1
  00172	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA, eax ; terrain_3d_faces_screen_clipped

; 2548 : 			
; 2549 : 					if ( !poly )

  00177	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  0017b	75 0f		 jne	 SHORT $LN12@draw_3d_te

; 2550 : 					{
; 2551 : 			
; 2552 : 						terrain_3d_faces_rejected++;

  0017d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00182	83 c0 01	 add	 eax, 1
  00185	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2553 : 					}
; 2554 : 					else

  0018a	eb 09		 jmp	 SHORT $LN6@draw_3d_te
$LN12@draw_3d_te:

; 2555 : 					{
; 2556 : 				
; 2557 : 						remove_perspective_from_polygon_dual_texture ( poly );

  0018c	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  0018f	50		 push	 eax
  00190	e8 00 00 00 00	 call	 ?remove_perspective_from_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; remove_perspective_from_polygon_dual_texture
$LN6@draw_3d_te:

; 2558 : 					}
; 2559 : 				}
; 2560 : 			}
; 2561 : 
; 2562 : 			if ( poly )

  00195	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00199	74 1b		 je	 SHORT $LN5@draw_3d_te

; 2563 : 			{
; 2564 : 			
; 2565 : 				draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon ( poly, current_terrain_type_class->texture );

  0019b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_terrain_type_class@@3PAUTERRAIN_TYPE_INFO@@A ; current_terrain_type_class
  001a0	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001a3	51		 push	 ecx
  001a4	8b 55 fc	 mov	 edx, DWORD PTR _poly$[ebp]
  001a7	52		 push	 edx
  001a8	e8 00 00 00 00	 call	 ?draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon@@YGXPAUVERTEX@@PAUSCREEN@@@Z ; draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon

; 2566 : 
; 2567 : 				render_3d_terrain_secondary_vertex_polygon ( poly );

  001ad	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  001b0	50		 push	 eax
  001b1	e8 00 00 00 00	 call	 ?render_3d_terrain_secondary_vertex_polygon@@YGXPAUVERTEX@@@Z ; render_3d_terrain_secondary_vertex_polygon
$LN5@draw_3d_te:

; 2568 : 			}
; 2569 : 		}
; 2570 : 	}

  001b6	e9 72 fe ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2571 : }

  001bb	5f		 pop	 edi
  001bc	5e		 pop	 esi
  001bd	5b		 pop	 ebx
  001be	8b e5		 mov	 esp, ebp
  001c0	5d		 pop	 ebp
  001c1	c2 04 00	 ret	 4
?draw_3d_terrain_threepass_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_threepass_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_threepass_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_threepass_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_threepass_clipped_fan_word_face, COMDAT

; 2365 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2366 : 
; 2367 : 	vertex
; 2368 : 		*poly;
; 2369 : 
; 2370 : 	terrain_3d_point_word_reference
; 2371 : 		*point_refs;
; 2372 : 
; 2373 : 	int
; 2374 : 		fan_point_refs[3],
; 2375 : 		triangle_outcode,
; 2376 : 		count;
; 2377 : 
; 2378 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2379 : 
; 2380 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2381 : 
; 2382 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 78 01 00
	00		 jge	 $LN1@draw_3d_te

; 2383 : 	{
; 2384 : 
; 2385 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 2386 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2387 : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2388 : 
; 2389 : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2390 : 	
; 2391 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	0f 84 09 01 00
	00		 je	 $LN5@draw_3d_te

; 2392 : 		{
; 2393 : 	
; 2394 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000af	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000b2	50		 push	 eax
  000b3	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000b8	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2395 : 	
; 2396 : 			if ( triangle_outcode )

  000bb	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  000bf	0f 84 d2 00 00
	00		 je	 $LN6@draw_3d_te

; 2397 : 			{
; 2398 : 	
; 2399 : 				clip_3d_coord = 0;

  000c5	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 2400 : 
; 2401 : 				if ( triangle_outcode & CLIP_YONDER )

  000cf	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000d2	83 e0 10	 and	 eax, 16			; 00000010H
  000d5	74 37		 je	 SHORT $LN7@draw_3d_te

; 2402 : 				{
; 2403 : 
; 2404 : 					poly = yonder_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  000d7	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000da	50		 push	 eax
  000db	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000de	51		 push	 ecx
  000df	e8 00 00 00 00	 call	 ?yonder_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; yonder_clip_3d_dual_texture_polygon
  000e4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2405 : 			
; 2406 : 					terrain_3d_faces_hither_clipped++;

  000e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  000ec	83 c0 01	 add	 eax, 1
  000ef	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2407 : 			
; 2408 : 					if ( !poly )

  000f4	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  000f8	75 14		 jne	 SHORT $LN7@draw_3d_te

; 2409 : 					{
; 2410 : 
; 2411 : 						triangle_outcode = 0;

  000fa	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2412 : 
; 2413 : 						terrain_3d_faces_rejected++;

  00101	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00106	83 c0 01	 add	 eax, 1
  00109	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN7@draw_3d_te:

; 2414 : 					}
; 2415 : 				}
; 2416 : 			
; 2417 : 				if ( triangle_outcode & CLIP_HITHER )

  0010e	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00111	83 e0 20	 and	 eax, 32			; 00000020H
  00114	74 37		 je	 SHORT $LN9@draw_3d_te

; 2418 : 				{
; 2419 : 			
; 2420 : 					poly = hither_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  00116	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00119	50		 push	 eax
  0011a	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0011d	51		 push	 ecx
  0011e	e8 00 00 00 00	 call	 ?hither_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; hither_clip_3d_dual_texture_polygon
  00123	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2421 : 			
; 2422 : 					terrain_3d_faces_hither_clipped++;

  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  0012b	83 c0 01	 add	 eax, 1
  0012e	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2423 : 			
; 2424 : 					if ( !poly )

  00133	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00137	75 14		 jne	 SHORT $LN9@draw_3d_te

; 2425 : 					{
; 2426 : 
; 2427 : 						triangle_outcode = 0;

  00139	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2428 : 
; 2429 : 						terrain_3d_faces_rejected++;

  00140	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00145	83 c0 01	 add	 eax, 1
  00148	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN9@draw_3d_te:

; 2430 : 					}
; 2431 : 				}
; 2432 : 			
; 2433 : 				if ( triangle_outcode )

  0014d	83 7d e8 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  00151	74 44		 je	 SHORT $LN6@draw_3d_te

; 2434 : 				{
; 2435 : 			
; 2436 : 					apply_perspective_to_polygon_dual_texture ( poly );

  00153	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00156	50		 push	 eax
  00157	e8 00 00 00 00	 call	 ?apply_perspective_to_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; apply_perspective_to_polygon_dual_texture

; 2437 : 			
; 2438 : 					poly = clip_3d_dual_texture_polygon ( poly, triangle_outcode );

  0015c	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0015f	50		 push	 eax
  00160	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00163	51		 push	 ecx
  00164	e8 00 00 00 00	 call	 ?clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_dual_texture_polygon
  00169	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2439 : 			
; 2440 : 					terrain_3d_faces_screen_clipped++;

  0016c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA ; terrain_3d_faces_screen_clipped
  00171	83 c0 01	 add	 eax, 1
  00174	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA, eax ; terrain_3d_faces_screen_clipped

; 2441 : 			
; 2442 : 					if ( !poly )

  00179	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  0017d	75 0f		 jne	 SHORT $LN12@draw_3d_te

; 2443 : 					{
; 2444 : 			
; 2445 : 						terrain_3d_faces_rejected++;

  0017f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00184	83 c0 01	 add	 eax, 1
  00187	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2446 : 					}
; 2447 : 					else

  0018c	eb 09		 jmp	 SHORT $LN6@draw_3d_te
$LN12@draw_3d_te:

; 2448 : 					{
; 2449 : 				
; 2450 : 						remove_perspective_from_polygon_dual_texture ( poly );

  0018e	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00191	50		 push	 eax
  00192	e8 00 00 00 00	 call	 ?remove_perspective_from_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; remove_perspective_from_polygon_dual_texture
$LN6@draw_3d_te:

; 2451 : 					}
; 2452 : 				}
; 2453 : 			}
; 2454 : 
; 2455 : 			if ( poly )

  00197	83 7d fc 00	 cmp	 DWORD PTR _poly$[ebp], 0
  0019b	74 1b		 je	 SHORT $LN5@draw_3d_te

; 2456 : 			{
; 2457 : 			
; 2458 : 				draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon ( poly, current_terrain_type_class->texture );

  0019d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_terrain_type_class@@3PAUTERRAIN_TYPE_INFO@@A ; current_terrain_type_class
  001a2	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001a5	51		 push	 ecx
  001a6	8b 55 fc	 mov	 edx, DWORD PTR _poly$[ebp]
  001a9	52		 push	 edx
  001aa	e8 00 00 00 00	 call	 ?draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon@@YGXPAUVERTEX@@PAUSCREEN@@@Z ; draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon

; 2459 : 
; 2460 : 				render_3d_terrain_secondary_vertex_polygon ( poly );

  001af	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  001b2	50		 push	 eax
  001b3	e8 00 00 00 00	 call	 ?render_3d_terrain_secondary_vertex_polygon@@YGXPAUVERTEX@@@Z ; render_3d_terrain_secondary_vertex_polygon
$LN5@draw_3d_te:

; 2461 : 			}
; 2462 : 		}
; 2463 : 	}

  001b8	e9 70 fe ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2464 : }

  001bd	5f		 pop	 edi
  001be	5e		 pop	 esi
  001bf	5b		 pop	 ebx
  001c0	8b e5		 mov	 esp, ebp
  001c2	5d		 pop	 ebp
  001c3	c2 04 00	 ret	 4
?draw_3d_terrain_threepass_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_threepass_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z
_TEXT	SEGMENT
_poly$ = 8						; size = 4
_triangle_outcode$ = 12					; size = 4
?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z PROC ; draw_3d_terrain_twopass_clipped_polygon, COMDAT

; 2885 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2886 : 
; 2887 : 	clip_3d_coord = 0;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 2888 : 
; 2889 : 	if ( triangle_outcode )

  00013	83 7d 0c 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  00017	0f 84 c3 00 00
	00		 je	 $LN2@draw_3d_te

; 2890 : 	{
; 2891 : 
; 2892 : 		if ( triangle_outcode & CLIP_YONDER )

  0001d	8b 45 0c	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00020	83 e0 10	 and	 eax, 16			; 00000010H
  00023	74 35		 je	 SHORT $LN3@draw_3d_te

; 2893 : 		{
; 2894 : 
; 2895 : 			poly = yonder_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  00025	8d 45 0c	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00028	50		 push	 eax
  00029	8b 4d 08	 mov	 ecx, DWORD PTR _poly$[ebp]
  0002c	51		 push	 ecx
  0002d	e8 00 00 00 00	 call	 ?yonder_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; yonder_clip_3d_dual_texture_polygon
  00032	89 45 08	 mov	 DWORD PTR _poly$[ebp], eax

; 2896 : 	
; 2897 : 			terrain_3d_faces_hither_clipped++;

  00035	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  0003a	83 c0 01	 add	 eax, 1
  0003d	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2898 : 	
; 2899 : 			if ( !poly )

  00042	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00046	75 12		 jne	 SHORT $LN3@draw_3d_te

; 2900 : 			{
; 2901 : 
; 2902 : 				terrain_3d_faces_rejected++;

  00048	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  0004d	83 c0 01	 add	 eax, 1
  00050	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2903 : 
; 2904 : 				return;

  00055	e9 a7 00 00 00	 jmp	 $LN1@draw_3d_te
$LN3@draw_3d_te:

; 2905 : 			}
; 2906 : 		}
; 2907 : 
; 2908 : 		if ( triangle_outcode & CLIP_HITHER )

  0005a	8b 45 0c	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0005d	83 e0 20	 and	 eax, 32			; 00000020H
  00060	74 32		 je	 SHORT $LN5@draw_3d_te

; 2909 : 		{
; 2910 : 	
; 2911 : 			poly = hither_clip_3d_dual_texture_polygon ( poly, &triangle_outcode );

  00062	8d 45 0c	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00065	50		 push	 eax
  00066	8b 4d 08	 mov	 ecx, DWORD PTR _poly$[ebp]
  00069	51		 push	 ecx
  0006a	e8 00 00 00 00	 call	 ?hither_clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; hither_clip_3d_dual_texture_polygon
  0006f	89 45 08	 mov	 DWORD PTR _poly$[ebp], eax

; 2912 : 	
; 2913 : 			terrain_3d_faces_hither_clipped++;

  00072	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  00077	83 c0 01	 add	 eax, 1
  0007a	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2914 : 	
; 2915 : 			if ( !poly )

  0007f	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00083	75 0f		 jne	 SHORT $LN5@draw_3d_te

; 2916 : 			{
; 2917 : 
; 2918 : 				terrain_3d_faces_rejected++;

  00085	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  0008a	83 c0 01	 add	 eax, 1
  0008d	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2919 : 
; 2920 : 				return;

  00092	eb 6d		 jmp	 SHORT $LN1@draw_3d_te
$LN5@draw_3d_te:

; 2921 : 			}
; 2922 : 		}
; 2923 : 	
; 2924 : 		if ( triangle_outcode )

  00094	83 7d 0c 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  00098	74 46		 je	 SHORT $LN2@draw_3d_te

; 2925 : 		{
; 2926 : 	
; 2927 : 			apply_perspective_to_polygon_dual_texture ( poly );

  0009a	8b 45 08	 mov	 eax, DWORD PTR _poly$[ebp]
  0009d	50		 push	 eax
  0009e	e8 00 00 00 00	 call	 ?apply_perspective_to_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; apply_perspective_to_polygon_dual_texture

; 2928 : 	
; 2929 : 			poly = clip_3d_dual_texture_polygon ( poly, triangle_outcode );

  000a3	8b 45 0c	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000a6	50		 push	 eax
  000a7	8b 4d 08	 mov	 ecx, DWORD PTR _poly$[ebp]
  000aa	51		 push	 ecx
  000ab	e8 00 00 00 00	 call	 ?clip_3d_dual_texture_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_dual_texture_polygon
  000b0	89 45 08	 mov	 DWORD PTR _poly$[ebp], eax

; 2930 : 	
; 2931 : 			terrain_3d_faces_screen_clipped++;

  000b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA ; terrain_3d_faces_screen_clipped
  000b8	83 c0 01	 add	 eax, 1
  000bb	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA, eax ; terrain_3d_faces_screen_clipped

; 2932 : 	
; 2933 : 			if ( !poly )

  000c0	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  000c4	75 11		 jne	 SHORT $LN8@draw_3d_te

; 2934 : 			{
; 2935 : 	
; 2936 : 				terrain_3d_faces_rejected++;

  000c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  000cb	83 c0 01	 add	 eax, 1
  000ce	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2937 : 
; 2938 : 				return;

  000d3	eb 2c		 jmp	 SHORT $LN1@draw_3d_te

; 2939 : 			}
; 2940 : 			else

  000d5	eb 09		 jmp	 SHORT $LN2@draw_3d_te
$LN8@draw_3d_te:

; 2941 : 			{
; 2942 : 		
; 2943 : 				remove_perspective_from_polygon_dual_texture ( poly );

  000d7	8b 45 08	 mov	 eax, DWORD PTR _poly$[ebp]
  000da	50		 push	 eax
  000db	e8 00 00 00 00	 call	 ?remove_perspective_from_polygon_dual_texture@@YGXPAUVERTEX@@@Z ; remove_perspective_from_polygon_dual_texture
$LN2@draw_3d_te:

; 2944 : 			}
; 2945 : 		}
; 2946 : 	}
; 2947 : 
; 2948 : 	if ( poly )

  000e0	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  000e4	74 1b		 je	 SHORT $LN1@draw_3d_te

; 2949 : 	{
; 2950 : 
; 2951 : 		draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon ( poly, current_terrain_type_class->texture );

  000e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_terrain_type_class@@3PAUTERRAIN_TYPE_INFO@@A ; current_terrain_type_class
  000eb	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000ee	51		 push	 ecx
  000ef	8b 55 08	 mov	 edx, DWORD PTR _poly$[ebp]
  000f2	52		 push	 edx
  000f3	e8 00 00 00 00	 call	 ?draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon@@YGXPAUVERTEX@@PAUSCREEN@@@Z ; draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon

; 2952 : 
; 2953 : 		render_3d_terrain_secondary_vertex_polygon ( poly );

  000f8	8b 45 08	 mov	 eax, DWORD PTR _poly$[ebp]
  000fb	50		 push	 eax
  000fc	e8 00 00 00 00	 call	 ?render_3d_terrain_secondary_vertex_polygon@@YGXPAUVERTEX@@@Z ; render_3d_terrain_secondary_vertex_polygon
$LN1@draw_3d_te:

; 2954 : 	}
; 2955 : }

  00101	5f		 pop	 edi
  00102	5e		 pop	 esi
  00103	5b		 pop	 ebx
  00104	8b e5		 mov	 esp, ebp
  00106	5d		 pop	 ebp
  00107	c2 08 00	 ret	 8
?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ENDP ; draw_3d_terrain_twopass_clipped_polygon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z
_TEXT	SEGMENT
_poly$ = 8						; size = 4
_triangle_outcode$ = 12					; size = 4
?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z PROC ; draw_3d_terrain_clipped_polygon, COMDAT

; 2812 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2813 : 
; 2814 : 	if ( triangle_outcode )

  00009	83 7d 0c 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  0000d	0f 84 d2 00 00
	00		 je	 $LN2@draw_3d_te

; 2815 : 	{
; 2816 : 
; 2817 : 		clip_3d_coord = 0;

  00013	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 2818 : 
; 2819 : 		if ( triangle_outcode & CLIP_YONDER )

  0001d	8b 45 0c	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00020	83 e0 10	 and	 eax, 16			; 00000010H
  00023	74 37		 je	 SHORT $LN3@draw_3d_te

; 2820 : 		{
; 2821 : 
; 2822 : 			poly = yonder_clip_3d_polygon ( poly, &triangle_outcode );

  00025	8d 45 0c	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00028	50		 push	 eax
  00029	8b 4d 08	 mov	 ecx, DWORD PTR _poly$[ebp]
  0002c	51		 push	 ecx
  0002d	e8 00 00 00 00	 call	 ?yonder_clip_3d_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; yonder_clip_3d_polygon
  00032	89 45 08	 mov	 DWORD PTR _poly$[ebp], eax

; 2823 : 	
; 2824 : 			terrain_3d_faces_hither_clipped++;

  00035	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  0003a	83 c0 01	 add	 eax, 1
  0003d	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2825 : 	
; 2826 : 			if ( !poly )

  00042	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00046	75 14		 jne	 SHORT $LN3@draw_3d_te

; 2827 : 			{
; 2828 : 
; 2829 : 				triangle_outcode = 0;

  00048	c7 45 0c 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2830 : 
; 2831 : 				terrain_3d_faces_rejected++;

  0004f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00054	83 c0 01	 add	 eax, 1
  00057	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN3@draw_3d_te:

; 2832 : 			}
; 2833 : 		}
; 2834 : 	
; 2835 : 		if ( triangle_outcode & CLIP_HITHER )

  0005c	8b 45 0c	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0005f	83 e0 20	 and	 eax, 32			; 00000020H
  00062	74 37		 je	 SHORT $LN5@draw_3d_te

; 2836 : 		{
; 2837 : 	
; 2838 : 			poly = hither_clip_3d_polygon ( poly, &triangle_outcode );

  00064	8d 45 0c	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  00067	50		 push	 eax
  00068	8b 4d 08	 mov	 ecx, DWORD PTR _poly$[ebp]
  0006b	51		 push	 ecx
  0006c	e8 00 00 00 00	 call	 ?hither_clip_3d_polygon@@YGPAUVERTEX@@PAU1@PAH@Z ; hither_clip_3d_polygon
  00071	89 45 08	 mov	 DWORD PTR _poly$[ebp], eax

; 2839 : 	
; 2840 : 			terrain_3d_faces_hither_clipped++;

  00074	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA ; terrain_3d_faces_hither_clipped
  00079	83 c0 01	 add	 eax, 1
  0007c	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_hither_clipped@@3HA, eax ; terrain_3d_faces_hither_clipped

; 2841 : 	
; 2842 : 			if ( !poly )

  00081	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  00085	75 14		 jne	 SHORT $LN5@draw_3d_te

; 2843 : 			{
; 2844 : 
; 2845 : 				triangle_outcode = 0;

  00087	c7 45 0c 00 00
	00 00		 mov	 DWORD PTR _triangle_outcode$[ebp], 0

; 2846 : 
; 2847 : 				terrain_3d_faces_rejected++;

  0008e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  00093	83 c0 01	 add	 eax, 1
  00096	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected
$LN5@draw_3d_te:

; 2848 : 			}
; 2849 : 		}
; 2850 : 	
; 2851 : 		if ( triangle_outcode )

  0009b	83 7d 0c 00	 cmp	 DWORD PTR _triangle_outcode$[ebp], 0
  0009f	74 44		 je	 SHORT $LN2@draw_3d_te

; 2852 : 		{
; 2853 : 	
; 2854 : 			apply_perspective_to_polygon_texture ( poly );

  000a1	8b 45 08	 mov	 eax, DWORD PTR _poly$[ebp]
  000a4	50		 push	 eax
  000a5	e8 00 00 00 00	 call	 ?apply_perspective_to_polygon_texture@@YGXPAUVERTEX@@@Z ; apply_perspective_to_polygon_texture

; 2855 : 	
; 2856 : 			poly = clip_3d_polygon ( poly, triangle_outcode );

  000aa	8b 45 0c	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000ad	50		 push	 eax
  000ae	8b 4d 08	 mov	 ecx, DWORD PTR _poly$[ebp]
  000b1	51		 push	 ecx
  000b2	e8 00 00 00 00	 call	 ?clip_3d_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_polygon
  000b7	89 45 08	 mov	 DWORD PTR _poly$[ebp], eax

; 2857 : 	
; 2858 : 			terrain_3d_faces_screen_clipped++;

  000ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA ; terrain_3d_faces_screen_clipped
  000bf	83 c0 01	 add	 eax, 1
  000c2	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_screen_clipped@@3HA, eax ; terrain_3d_faces_screen_clipped

; 2859 : 	
; 2860 : 			if ( !poly )

  000c7	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  000cb	75 0f		 jne	 SHORT $LN8@draw_3d_te

; 2861 : 			{
; 2862 : 	
; 2863 : 				terrain_3d_faces_rejected++;

  000cd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_rejected@@3HA ; terrain_3d_faces_rejected
  000d2	83 c0 01	 add	 eax, 1
  000d5	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_rejected@@3HA, eax ; terrain_3d_faces_rejected

; 2864 : 			}
; 2865 : 			else

  000da	eb 09		 jmp	 SHORT $LN2@draw_3d_te
$LN8@draw_3d_te:

; 2866 : 			{
; 2867 : 		
; 2868 : 				remove_perspective_from_polygon_texture ( poly );

  000dc	8b 45 08	 mov	 eax, DWORD PTR _poly$[ebp]
  000df	50		 push	 eax
  000e0	e8 00 00 00 00	 call	 ?remove_perspective_from_polygon_texture@@YGXPAUVERTEX@@@Z ; remove_perspective_from_polygon_texture
$LN2@draw_3d_te:

; 2869 : 			}
; 2870 : 		}
; 2871 : 	}
; 2872 : 
; 2873 : 	if ( poly )

  000e5	83 7d 08 00	 cmp	 DWORD PTR _poly$[ebp], 0
  000e9	74 12		 je	 SHORT $LN1@draw_3d_te

; 2874 : 	{
; 2875 : 
; 2876 : 		draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon ( poly, current_terrain_type_class->texture );

  000eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_terrain_type_class@@3PAUTERRAIN_TYPE_INFO@@A ; current_terrain_type_class
  000f0	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000f3	51		 push	 ecx
  000f4	8b 55 08	 mov	 edx, DWORD PTR _poly$[ebp]
  000f7	52		 push	 edx
  000f8	e8 00 00 00 00	 call	 ?draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon@@YGXPAUVERTEX@@PAUSCREEN@@@Z ; draw_wbuffered_gouraud_coloured_distance_fogged_textured_polygon
$LN1@draw_3d_te:

; 2877 : 	}
; 2878 : }

  000fd	5f		 pop	 edi
  000fe	5e		 pop	 esi
  000ff	5b		 pop	 ebx
  00100	8b e5		 mov	 esp, ebp
  00102	5d		 pop	 ebp
  00103	c2 08 00	 ret	 8
?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ENDP ; draw_3d_terrain_clipped_polygon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_colour_clipped_strip_byte_face, COMDAT

; 2311 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2312 : 
; 2313 : 	vertex
; 2314 : 		*poly;
; 2315 : 
; 2316 : 	terrain_3d_point_byte_reference
; 2317 : 		*point_refs;
; 2318 : 
; 2319 : 	int
; 2320 : 		fan_point_refs[3],
; 2321 : 		triangle_outcode,
; 2322 : 		count;
; 2323 : 
; 2324 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2325 : 
; 2326 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2327 : 
; 2328 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d2 00 00
	00		 jge	 $LN1@draw_3d_te

; 2329 : 	{
; 2330 : 
; 2331 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 2332 : 		{
; 2333 : 
; 2334 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 2335 : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2336 : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2337 : 		}
; 2338 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 2339 : 		{
; 2340 : 
; 2341 : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 2342 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2343 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 2344 : 		}
; 2345 : 
; 2346 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2347 : 	
; 2348 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 25		 je	 SHORT $LN7@draw_3d_te

; 2349 : 		{
; 2350 : 	
; 2351 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2352 : 	
; 2353 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000fc	50		 push	 eax
  000fd	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00102	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2354 : 
; 2355 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  00105	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00108	50		 push	 eax
  00109	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0010c	51		 push	 ecx
  0010d	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 2356 : 		}
; 2357 : 	}

  00112	e9 16 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2358 : }

  00117	5f		 pop	 edi
  00118	5e		 pop	 esi
  00119	5b		 pop	 ebx
  0011a	8b e5		 mov	 esp, ebp
  0011c	5d		 pop	 ebp
  0011d	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_colour_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_colour_clipped_strip_word_face, COMDAT

; 2257 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2258 : 
; 2259 : 	vertex
; 2260 : 		*poly;
; 2261 : 
; 2262 : 	terrain_3d_point_word_reference
; 2263 : 		*point_refs;
; 2264 : 
; 2265 : 	int
; 2266 : 		fan_point_refs[3],
; 2267 : 		triangle_outcode,
; 2268 : 		count;
; 2269 : 
; 2270 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2271 : 
; 2272 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2273 : 
; 2274 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d8 00 00
	00		 jge	 $LN1@draw_3d_te

; 2275 : 	{
; 2276 : 
; 2277 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 2278 : 		{
; 2279 : 
; 2280 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 2281 : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2282 : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2283 : 		}
; 2284 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 2285 : 		{
; 2286 : 
; 2287 : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 2288 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2289 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 2290 : 		}
; 2291 : 
; 2292 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2293 : 	
; 2294 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 25		 je	 SHORT $LN7@draw_3d_te

; 2295 : 		{
; 2296 : 	
; 2297 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2298 : 	
; 2299 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000ff	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00108	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2300 : 
; 2301 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  0010b	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0010e	50		 push	 eax
  0010f	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00112	51		 push	 ecx
  00113	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 2302 : 		}
; 2303 : 	}

  00118	e9 10 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2304 : }

  0011d	5f		 pop	 edi
  0011e	5e		 pop	 esi
  0011f	5b		 pop	 ebx
  00120	8b e5		 mov	 esp, ebp
  00122	5d		 pop	 ebp
  00123	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_colour_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_colour_clipped_strip_byte_face, COMDAT

; 2203 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2204 : 
; 2205 : 	vertex
; 2206 : 		*poly;
; 2207 : 
; 2208 : 	terrain_3d_point_byte_reference
; 2209 : 		*point_refs;
; 2210 : 
; 2211 : 	int
; 2212 : 		fan_point_refs[3],
; 2213 : 		triangle_outcode,
; 2214 : 		count;
; 2215 : 
; 2216 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2217 : 
; 2218 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2219 : 
; 2220 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d2 00 00
	00		 jge	 $LN1@draw_3d_te

; 2221 : 	{
; 2222 : 
; 2223 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 2224 : 		{
; 2225 : 
; 2226 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 2227 : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2228 : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2229 : 		}
; 2230 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 2231 : 		{
; 2232 : 
; 2233 : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 2234 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2235 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 2236 : 		}
; 2237 : 
; 2238 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2239 : 	
; 2240 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 25		 je	 SHORT $LN7@draw_3d_te

; 2241 : 		{
; 2242 : 	
; 2243 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2244 : 	
; 2245 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000fc	50		 push	 eax
  000fd	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00102	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2246 : 
; 2247 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  00105	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00108	50		 push	 eax
  00109	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0010c	51		 push	 ecx
  0010d	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 2248 : 		}
; 2249 : 	}

  00112	e9 16 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2250 : }

  00117	5f		 pop	 edi
  00118	5e		 pop	 esi
  00119	5b		 pop	 ebx
  0011a	8b e5		 mov	 esp, ebp
  0011c	5d		 pop	 ebp
  0011d	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_colour_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_colour_clipped_strip_word_face, COMDAT

; 2149 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2150 : 
; 2151 : 	vertex
; 2152 : 		*poly;
; 2153 : 
; 2154 : 	terrain_3d_point_word_reference
; 2155 : 		*point_refs;
; 2156 : 
; 2157 : 	int
; 2158 : 		fan_point_refs[3],
; 2159 : 		triangle_outcode,
; 2160 : 		count;
; 2161 : 
; 2162 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2163 : 
; 2164 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2165 : 
; 2166 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d8 00 00
	00		 jge	 $LN1@draw_3d_te

; 2167 : 	{
; 2168 : 
; 2169 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 2170 : 		{
; 2171 : 
; 2172 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 2173 : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2174 : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2175 : 		}
; 2176 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 2177 : 		{
; 2178 : 
; 2179 : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 2180 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2181 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 2182 : 		}
; 2183 : 
; 2184 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2185 : 	
; 2186 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 25		 je	 SHORT $LN7@draw_3d_te

; 2187 : 		{
; 2188 : 
; 2189 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2190 : 	
; 2191 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000ff	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00108	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2192 : 
; 2193 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  0010b	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0010e	50		 push	 eax
  0010f	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00112	51		 push	 ecx
  00113	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 2194 : 		}
; 2195 : 	}

  00118	e9 10 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2196 : }

  0011d	5f		 pop	 edi
  0011e	5e		 pop	 esi
  0011f	5b		 pop	 ebx
  00120	8b e5		 mov	 esp, ebp
  00122	5d		 pop	 ebp
  00123	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_colour_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_colour_clipped_fan_byte_face, COMDAT

; 2106 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2107 : 
; 2108 : 	vertex
; 2109 : 		*poly;
; 2110 : 
; 2111 : 	terrain_3d_point_byte_reference
; 2112 : 		*point_refs;
; 2113 : 
; 2114 : 	int
; 2115 : 		fan_point_refs[3],
; 2116 : 		triangle_outcode,
; 2117 : 		count;
; 2118 : 
; 2119 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2120 : 
; 2121 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2122 : 
; 2123 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 8e 00 00
	00		 jge	 $LN1@draw_3d_te

; 2124 : 	{
; 2125 : 
; 2126 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 2127 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2128 : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2129 : 
; 2130 : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2131 : 	
; 2132 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 25		 je	 SHORT $LN5@draw_3d_te

; 2133 : 		{
; 2134 : 	
; 2135 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2136 : 	
; 2137 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b5	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000b8	50		 push	 eax
  000b9	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000be	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2138 : 
; 2139 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000c1	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c4	50		 push	 eax
  000c5	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000c8	51		 push	 ecx
  000c9	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 2140 : 		}
; 2141 : 	}

  000ce	e9 5a ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2142 : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_colour_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_colour_clipped_fan_word_face, COMDAT

; 2063 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2064 : 
; 2065 : 	vertex
; 2066 : 		*poly;
; 2067 : 
; 2068 : 	terrain_3d_point_word_reference
; 2069 : 		*point_refs;
; 2070 : 
; 2071 : 	int
; 2072 : 		fan_point_refs[3],
; 2073 : 		triangle_outcode,
; 2074 : 		count;
; 2075 : 
; 2076 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2077 : 
; 2078 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2079 : 
; 2080 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 90 00 00
	00		 jge	 $LN1@draw_3d_te

; 2081 : 	{
; 2082 : 
; 2083 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 2084 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2085 : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2086 : 
; 2087 : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2088 : 	
; 2089 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 25		 je	 SHORT $LN5@draw_3d_te

; 2090 : 		{
; 2091 : 	
; 2092 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2093 : 	
; 2094 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b7	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000c0	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2095 : 
; 2096 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000c3	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c6	50		 push	 eax
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 2097 : 		}
; 2098 : 	}

  000d0	e9 58 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2099 : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_colour_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_colour_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_colour_clipped_fan_byte_face, COMDAT

; 2020 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2021 : 
; 2022 : 	vertex
; 2023 : 		*poly;
; 2024 : 
; 2025 : 	terrain_3d_point_byte_reference
; 2026 : 		*point_refs;
; 2027 : 
; 2028 : 	int
; 2029 : 		fan_point_refs[3],
; 2030 : 		triangle_outcode,
; 2031 : 		count;
; 2032 : 
; 2033 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 2034 : 
; 2035 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 2036 : 
; 2037 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 8e 00 00
	00		 jge	 $LN1@draw_3d_te

; 2038 : 	{
; 2039 : 
; 2040 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 2041 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2042 : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 2043 : 
; 2044 : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2045 : 	
; 2046 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 25		 je	 SHORT $LN5@draw_3d_te

; 2047 : 		{
; 2048 : 	
; 2049 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2050 : 	
; 2051 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b5	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000b8	50		 push	 eax
  000b9	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000be	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2052 : 
; 2053 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000c1	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c4	50		 push	 eax
  000c5	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000c8	51		 push	 ecx
  000c9	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 2054 : 		}
; 2055 : 	}

  000ce	e9 5a ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2056 : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_colour_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_colour_clipped_fan_word_face, COMDAT

; 1977 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1978 : 
; 1979 : 	vertex
; 1980 : 		*poly;
; 1981 : 
; 1982 : 	terrain_3d_point_word_reference
; 1983 : 		*point_refs;
; 1984 : 
; 1985 : 	int
; 1986 : 		fan_point_refs[3],
; 1987 : 		triangle_outcode,
; 1988 : 		count;
; 1989 : 
; 1990 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1991 : 
; 1992 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1993 : 
; 1994 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 90 00 00
	00		 jge	 $LN1@draw_3d_te

; 1995 : 	{
; 1996 : 
; 1997 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1998 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1999 : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 2000 : 
; 2001 : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 2002 : 	
; 2003 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 25		 je	 SHORT $LN5@draw_3d_te

; 2004 : 		{
; 2005 : 
; 2006 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2007 : 	
; 2008 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b7	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000c0	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 2009 : 
; 2010 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000c3	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c6	50		 push	 eax
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 2011 : 		}
; 2012 : 	}

  000d0	e9 58 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 2013 : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_colour_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_colour_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_colour_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_colour_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_colour_clipped_strip_byte_face, COMDAT

; 1923 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1924 : 
; 1925 : 	vertex
; 1926 : 		*poly;
; 1927 : 
; 1928 : 	terrain_3d_point_byte_reference
; 1929 : 		*point_refs;
; 1930 : 
; 1931 : 	int
; 1932 : 		fan_point_refs[3],
; 1933 : 		triangle_outcode,
; 1934 : 		count;
; 1935 : 
; 1936 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1937 : 
; 1938 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1939 : 
; 1940 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d2 00 00
	00		 jge	 $LN1@draw_3d_te

; 1941 : 	{
; 1942 : 
; 1943 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 1944 : 		{
; 1945 : 
; 1946 : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00056	ba 04 00 00 00	 mov	 edx, 4
  0005b	6b c2 00	 imul	 eax, edx, 0
  0005e	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1947 : 			fan_point_refs[1] = point_refs[count+2].point;

  00062	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00065	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00068	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  0006c	ba 04 00 00 00	 mov	 edx, 4
  00071	c1 e2 00	 shl	 edx, 0
  00074	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1948 : 			fan_point_refs[2] = point_refs[count+1].point;

  00078	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007b	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007e	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1949 : 		}
; 1950 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1951 : 		{
; 1952 : 
; 1953 : 			fan_point_refs[0] = point_refs[count].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1954 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1955 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 1956 : 		}
; 1957 : 
; 1958 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1959 : 	
; 1960 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 25		 je	 SHORT $LN7@draw_3d_te

; 1961 : 		{
; 1962 : 	
; 1963 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1964 : 	
; 1965 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000fc	50		 push	 eax
  000fd	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00102	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1966 : 
; 1967 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  00105	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00108	50		 push	 eax
  00109	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0010c	51		 push	 ecx
  0010d	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1968 : 		}
; 1969 : 	}

  00112	e9 16 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1970 : }

  00117	5f		 pop	 edi
  00118	5e		 pop	 esi
  00119	5b		 pop	 ebx
  0011a	8b e5		 mov	 esp, ebp
  0011c	5d		 pop	 ebp
  0011d	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_colour_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_colour_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_colour_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_colour_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_colour_clipped_strip_word_face, COMDAT

; 1869 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1870 : 
; 1871 : 	vertex
; 1872 : 		*poly;
; 1873 : 
; 1874 : 	terrain_3d_point_word_reference
; 1875 : 		*point_refs;
; 1876 : 
; 1877 : 	int
; 1878 : 		fan_point_refs[3],
; 1879 : 		triangle_outcode,
; 1880 : 		count;
; 1881 : 
; 1882 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1883 : 
; 1884 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1885 : 
; 1886 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d8 00 00
	00		 jge	 $LN1@draw_3d_te

; 1887 : 	{
; 1888 : 
; 1889 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 1890 : 		{
; 1891 : 
; 1892 : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00057	b8 04 00 00 00	 mov	 eax, 4
  0005c	6b c8 00	 imul	 ecx, eax, 0
  0005f	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1893 : 			fan_point_refs[1] = point_refs[count+2].point;

  00063	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00066	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00069	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  0006e	b8 04 00 00 00	 mov	 eax, 4
  00073	c1 e0 00	 shl	 eax, 0
  00076	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1894 : 			fan_point_refs[2] = point_refs[count+1].point;

  0007a	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007d	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00080	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1895 : 		}
; 1896 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1897 : 		{
; 1898 : 
; 1899 : 			fan_point_refs[0] = point_refs[count].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1900 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1901 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 1902 : 		}
; 1903 : 
; 1904 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1905 : 	
; 1906 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 25		 je	 SHORT $LN7@draw_3d_te

; 1907 : 		{
; 1908 : 	
; 1909 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1910 : 	
; 1911 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000ff	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00108	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1912 : 
; 1913 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  0010b	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0010e	50		 push	 eax
  0010f	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00112	51		 push	 ecx
  00113	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1914 : 		}
; 1915 : 	}

  00118	e9 10 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1916 : }

  0011d	5f		 pop	 edi
  0011e	5e		 pop	 esi
  0011f	5b		 pop	 ebx
  00120	8b e5		 mov	 esp, ebp
  00122	5d		 pop	 ebp
  00123	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_colour_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_colour_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_colour_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_colour_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_colour_clipped_fan_byte_face, COMDAT

; 1826 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1827 : 
; 1828 : 	vertex
; 1829 : 		*poly;
; 1830 : 
; 1831 : 	terrain_3d_point_byte_reference
; 1832 : 		*point_refs;
; 1833 : 
; 1834 : 	int
; 1835 : 		fan_point_refs[3],
; 1836 : 		triangle_outcode,
; 1837 : 		count;
; 1838 : 
; 1839 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1840 : 
; 1841 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1842 : 
; 1843 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 8e 00 00
	00		 jge	 $LN1@draw_3d_te

; 1844 : 	{
; 1845 : 
; 1846 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1847 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1848 : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1849 : 
; 1850 : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1851 : 	
; 1852 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 25		 je	 SHORT $LN5@draw_3d_te

; 1853 : 		{
; 1854 : 	
; 1855 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1856 : 	
; 1857 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b5	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000b8	50		 push	 eax
  000b9	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000be	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1858 : 
; 1859 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000c1	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c4	50		 push	 eax
  000c5	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000c8	51		 push	 ecx
  000c9	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1860 : 		}
; 1861 : 	}

  000ce	e9 5a ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1862 : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_colour_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_colour_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_colour_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_colour_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_colour_clipped_fan_word_face, COMDAT

; 1783 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1784 : 
; 1785 : 	vertex
; 1786 : 		*poly;
; 1787 : 
; 1788 : 	terrain_3d_point_word_reference
; 1789 : 		*point_refs;
; 1790 : 
; 1791 : 	int
; 1792 : 		fan_point_refs[3],
; 1793 : 		triangle_outcode,
; 1794 : 		count;
; 1795 : 
; 1796 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1797 : 
; 1798 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1799 : 
; 1800 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 90 00 00
	00		 jge	 $LN1@draw_3d_te

; 1801 : 	{
; 1802 : 
; 1803 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1804 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1805 : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1806 : 
; 1807 : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1808 : 	
; 1809 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 25		 je	 SHORT $LN5@draw_3d_te

; 1810 : 		{
; 1811 : 	
; 1812 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1813 : 	
; 1814 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b7	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000c0	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1815 : 
; 1816 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000c3	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c6	50		 push	 eax
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1817 : 		}
; 1818 : 	}

  000d0	e9 58 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1819 : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_colour_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_colour_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_clipped_strip_byte_face, COMDAT

; 1731 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1732 : 
; 1733 : 	vertex
; 1734 : 		*poly;
; 1735 : 
; 1736 : 	terrain_3d_point_byte_reference
; 1737 : 		*point_refs;
; 1738 : 
; 1739 : 	int
; 1740 : 		fan_point_refs[3],
; 1741 : 		triangle_outcode,
; 1742 : 		count;
; 1743 : 
; 1744 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1745 : 
; 1746 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1747 : 
; 1748 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d c6 00 00
	00		 jge	 $LN1@draw_3d_te

; 1749 : 	{
; 1750 : 
; 1751 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 1752 : 		{
; 1753 : 
; 1754 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1755 : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1756 : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1757 : 		}
; 1758 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1759 : 		{
; 1760 : 
; 1761 : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1762 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1763 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 1764 : 		}
; 1765 : 
; 1766 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1767 : 	
; 1768 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 19		 je	 SHORT $LN7@draw_3d_te

; 1769 : 		{
; 1770 : 	
; 1771 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1772 : 	
; 1773 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000f9	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000fc	50		 push	 eax
  000fd	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00100	51		 push	 ecx
  00101	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1774 : 		}
; 1775 : 	}

  00106	e9 22 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1776 : }

  0010b	5f		 pop	 edi
  0010c	5e		 pop	 esi
  0010d	5b		 pop	 ebx
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_clipped_strip_word_face, COMDAT

; 1679 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1680 : 
; 1681 : 	vertex
; 1682 : 		*poly;
; 1683 : 
; 1684 : 	terrain_3d_point_word_reference
; 1685 : 		*point_refs;
; 1686 : 
; 1687 : 	int
; 1688 : 		fan_point_refs[3],
; 1689 : 		triangle_outcode,
; 1690 : 		count;
; 1691 : 
; 1692 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1693 : 
; 1694 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1695 : 
; 1696 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d cc 00 00
	00		 jge	 $LN1@draw_3d_te

; 1697 : 	{
; 1698 : 
; 1699 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 1700 : 		{
; 1701 : 
; 1702 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1703 : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1704 : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1705 : 		}
; 1706 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1707 : 		{
; 1708 : 
; 1709 : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1710 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1711 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 1712 : 		}
; 1713 : 
; 1714 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1715 : 	
; 1716 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 19		 je	 SHORT $LN7@draw_3d_te

; 1717 : 		{
; 1718 : 	
; 1719 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1720 : 	
; 1721 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000ff	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00102	50		 push	 eax
  00103	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00106	51		 push	 ecx
  00107	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1722 : 		}
; 1723 : 	}

  0010c	e9 1c ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1724 : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_clipped_strip_byte_face, COMDAT

; 1627 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1628 : 
; 1629 : 	vertex
; 1630 : 		*poly;
; 1631 : 
; 1632 : 	terrain_3d_point_byte_reference
; 1633 : 		*point_refs;
; 1634 : 
; 1635 : 	int
; 1636 : 		fan_point_refs[3],
; 1637 : 		triangle_outcode,
; 1638 : 		count;
; 1639 : 
; 1640 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1641 : 
; 1642 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1643 : 
; 1644 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d c6 00 00
	00		 jge	 $LN1@draw_3d_te

; 1645 : 	{
; 1646 : 
; 1647 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 1648 : 		{
; 1649 : 
; 1650 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1651 : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1652 : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1653 : 		}
; 1654 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1655 : 		{
; 1656 : 
; 1657 : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1658 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1659 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 1660 : 		}
; 1661 : 
; 1662 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1663 : 	
; 1664 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 19		 je	 SHORT $LN7@draw_3d_te

; 1665 : 		{
; 1666 : 	
; 1667 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1668 : 	
; 1669 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000f9	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000fc	50		 push	 eax
  000fd	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00100	51		 push	 ecx
  00101	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1670 : 		}
; 1671 : 	}

  00106	e9 22 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1672 : }

  0010b	5f		 pop	 edi
  0010c	5e		 pop	 esi
  0010d	5b		 pop	 ebx
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_clipped_strip_word_face, COMDAT

; 1574 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1575 : 
; 1576 : 	vertex
; 1577 : 		*poly;
; 1578 : 
; 1579 : 	terrain_3d_point_word_reference
; 1580 : 		*point_refs;
; 1581 : 
; 1582 : 	int
; 1583 : 		fan_point_refs[3],
; 1584 : 		triangle_outcode,
; 1585 : 		count;
; 1586 : 
; 1587 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1588 : 
; 1589 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1590 : 
; 1591 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d cc 00 00
	00		 jge	 $LN1@draw_3d_te

; 1592 : 	{
; 1593 : 
; 1594 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 1595 : 		{
; 1596 : 
; 1597 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1598 : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1599 : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1600 : 		}
; 1601 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1602 : 		{
; 1603 : 
; 1604 : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1605 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1606 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 1607 : 		}
; 1608 : 
; 1609 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1610 : 	
; 1611 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 19		 je	 SHORT $LN7@draw_3d_te

; 1612 : 		{
; 1613 : 
; 1614 : 
; 1615 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1616 : 	
; 1617 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000ff	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00102	50		 push	 eax
  00103	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00106	51		 push	 ecx
  00107	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1618 : 		}
; 1619 : 	}

  0010c	e9 1c ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1620 : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_clipped_fan_byte_face, COMDAT

; 1533 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1534 : 
; 1535 : 	vertex
; 1536 : 		*poly;
; 1537 : 
; 1538 : 	terrain_3d_point_byte_reference
; 1539 : 		*point_refs;
; 1540 : 
; 1541 : 	int
; 1542 : 		fan_point_refs[3],
; 1543 : 		triangle_outcode,
; 1544 : 		count;
; 1545 : 
; 1546 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1547 : 
; 1548 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1549 : 
; 1550 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 82 00 00
	00		 jge	 $LN1@draw_3d_te

; 1551 : 	{
; 1552 : 
; 1553 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1554 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1555 : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1556 : 
; 1557 : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1558 : 	
; 1559 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 19		 je	 SHORT $LN5@draw_3d_te

; 1560 : 		{
; 1561 : 	
; 1562 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1563 : 	
; 1564 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000b5	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1565 : 		}
; 1566 : 	}

  000c2	e9 66 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1567 : }

  000c7	5f		 pop	 edi
  000c8	5e		 pop	 esi
  000c9	5b		 pop	 ebx
  000ca	8b e5		 mov	 esp, ebp
  000cc	5d		 pop	 ebp
  000cd	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_z_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_z_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_z_clipped_fan_word_face, COMDAT

; 1492 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1493 : 
; 1494 : 	vertex
; 1495 : 		*poly;
; 1496 : 
; 1497 : 	terrain_3d_point_word_reference
; 1498 : 		*point_refs;
; 1499 : 
; 1500 : 	int
; 1501 : 		fan_point_refs[3],
; 1502 : 		triangle_outcode,
; 1503 : 		count;
; 1504 : 
; 1505 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1506 : 
; 1507 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1508 : 
; 1509 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 84 00 00
	00		 jge	 $LN1@draw_3d_te

; 1510 : 	{
; 1511 : 
; 1512 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1513 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1514 : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1515 : 
; 1516 : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1517 : 	
; 1518 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 19		 je	 SHORT $LN5@draw_3d_te

; 1519 : 		{
; 1520 : 	
; 1521 : 			poly = construct_3d_terrain_dual_texture_xy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_xy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1522 : 	
; 1523 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000b7	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000ba	50		 push	 eax
  000bb	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000be	51		 push	 ecx
  000bf	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1524 : 		}
; 1525 : 	}

  000c4	e9 64 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1526 : }

  000c9	5f		 pop	 edi
  000ca	5e		 pop	 esi
  000cb	5b		 pop	 ebx
  000cc	8b e5		 mov	 esp, ebp
  000ce	5d		 pop	 ebp
  000cf	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_z_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_z_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_clipped_fan_byte_face, COMDAT

; 1451 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1452 : 
; 1453 : 	vertex
; 1454 : 		*poly;
; 1455 : 
; 1456 : 	terrain_3d_point_byte_reference
; 1457 : 		*point_refs;
; 1458 : 
; 1459 : 	int
; 1460 : 		fan_point_refs[3],
; 1461 : 		triangle_outcode,
; 1462 : 		count;
; 1463 : 
; 1464 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1465 : 
; 1466 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1467 : 
; 1468 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 82 00 00
	00		 jge	 $LN1@draw_3d_te

; 1469 : 	{
; 1470 : 
; 1471 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1472 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1473 : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1474 : 
; 1475 : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1476 : 	
; 1477 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 19		 je	 SHORT $LN5@draw_3d_te

; 1478 : 		{
; 1479 : 	
; 1480 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1481 : 	
; 1482 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000b5	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1483 : 		}
; 1484 : 	}

  000c2	e9 66 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1485 : }

  000c7	5f		 pop	 edi
  000c8	5e		 pop	 esi
  000c9	5b		 pop	 ebx
  000ca	8b e5		 mov	 esp, ebp
  000cc	5d		 pop	 ebp
  000cd	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_texture_x_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_texture_x_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_texture_x_clipped_fan_word_face, COMDAT

; 1409 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1410 : 
; 1411 : 	vertex
; 1412 : 		*poly;
; 1413 : 
; 1414 : 	terrain_3d_point_word_reference
; 1415 : 		*point_refs;
; 1416 : 
; 1417 : 	int
; 1418 : 		fan_point_refs[3],
; 1419 : 		triangle_outcode,
; 1420 : 		count;
; 1421 : 
; 1422 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1423 : 
; 1424 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1425 : 
; 1426 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 84 00 00
	00		 jge	 $LN1@draw_3d_te

; 1427 : 	{
; 1428 : 
; 1429 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1430 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1431 : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1432 : 
; 1433 : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1434 : 	
; 1435 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 19		 je	 SHORT $LN5@draw_3d_te

; 1436 : 		{
; 1437 : 
; 1438 : 
; 1439 : 			poly = construct_3d_terrain_dual_texture_zy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_zy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1440 : 	
; 1441 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000b7	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000ba	50		 push	 eax
  000bb	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000be	51		 push	 ecx
  000bf	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1442 : 		}
; 1443 : 	}

  000c4	e9 64 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1444 : }

  000c9	5f		 pop	 edi
  000ca	5e		 pop	 esi
  000cb	5b		 pop	 ebx
  000cc	8b e5		 mov	 esp, ebp
  000ce	5d		 pop	 ebp
  000cf	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_texture_x_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_texture_x_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_clipped_strip_byte_face, COMDAT

; 1357 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1358 : 
; 1359 : 	vertex
; 1360 : 		*poly;
; 1361 : 
; 1362 : 	terrain_3d_point_byte_reference
; 1363 : 		*point_refs;
; 1364 : 
; 1365 : 	int
; 1366 : 		fan_point_refs[3],
; 1367 : 		triangle_outcode,
; 1368 : 		count;
; 1369 : 
; 1370 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1371 : 
; 1372 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1373 : 
; 1374 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d c6 00 00
	00		 jge	 $LN1@draw_3d_te

; 1375 : 	{
; 1376 : 
; 1377 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 1378 : 		{
; 1379 : 
; 1380 : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00056	ba 04 00 00 00	 mov	 edx, 4
  0005b	6b c2 00	 imul	 eax, edx, 0
  0005e	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1381 : 			fan_point_refs[1] = point_refs[count+2].point;

  00062	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00065	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00068	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  0006c	ba 04 00 00 00	 mov	 edx, 4
  00071	c1 e2 00	 shl	 edx, 0
  00074	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1382 : 			fan_point_refs[2] = point_refs[count+1].point;

  00078	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007b	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007e	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1383 : 		}
; 1384 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1385 : 		{
; 1386 : 
; 1387 : 			fan_point_refs[0] = point_refs[count].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1388 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1389 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 1390 : 		}
; 1391 : 
; 1392 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1393 : 	
; 1394 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 19		 je	 SHORT $LN7@draw_3d_te

; 1395 : 		{
; 1396 : 	
; 1397 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1398 : 	
; 1399 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000f9	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000fc	50		 push	 eax
  000fd	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00100	51		 push	 ecx
  00101	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1400 : 		}
; 1401 : 	}

  00106	e9 22 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1402 : }

  0010b	5f		 pop	 edi
  0010c	5e		 pop	 esi
  0010d	5b		 pop	 ebx
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_clipped_strip_word_face, COMDAT

; 1305 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1306 : 
; 1307 : 	vertex
; 1308 : 		*poly;
; 1309 : 
; 1310 : 	terrain_3d_point_word_reference
; 1311 : 		*point_refs;
; 1312 : 
; 1313 : 	int
; 1314 : 		fan_point_refs[3],
; 1315 : 		triangle_outcode,
; 1316 : 		count;
; 1317 : 
; 1318 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1319 : 
; 1320 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1321 : 
; 1322 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d cc 00 00
	00		 jge	 $LN1@draw_3d_te

; 1323 : 	{
; 1324 : 
; 1325 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 1326 : 		{
; 1327 : 
; 1328 : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00057	b8 04 00 00 00	 mov	 eax, 4
  0005c	6b c8 00	 imul	 ecx, eax, 0
  0005f	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1329 : 			fan_point_refs[1] = point_refs[count+2].point;

  00063	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00066	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00069	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  0006e	b8 04 00 00 00	 mov	 eax, 4
  00073	c1 e0 00	 shl	 eax, 0
  00076	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1330 : 			fan_point_refs[2] = point_refs[count+1].point;

  0007a	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007d	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00080	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1331 : 		}
; 1332 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1333 : 		{
; 1334 : 
; 1335 : 			fan_point_refs[0] = point_refs[count].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1336 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1337 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 1338 : 		}
; 1339 : 
; 1340 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1341 : 	
; 1342 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 19		 je	 SHORT $LN7@draw_3d_te

; 1343 : 		{
; 1344 : 	
; 1345 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1346 : 	
; 1347 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000ff	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00102	50		 push	 eax
  00103	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00106	51		 push	 ecx
  00107	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN7@draw_3d_te:

; 1348 : 		}
; 1349 : 	}

  0010c	e9 1c ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1350 : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_clipped_fan_byte_face, COMDAT

; 1263 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1264 : 
; 1265 : 	vertex
; 1266 : 		*poly;
; 1267 : 
; 1268 : 	terrain_3d_point_byte_reference
; 1269 : 		*point_refs;
; 1270 : 
; 1271 : 
; 1272 : 	int
; 1273 : 		fan_point_refs[3],
; 1274 : 		triangle_outcode,
; 1275 : 		count;
; 1276 : 
; 1277 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1278 : 
; 1279 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1280 : 
; 1281 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 82 00 00
	00		 jge	 $LN1@draw_3d_te

; 1282 : 	{
; 1283 : 
; 1284 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1285 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1286 : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1287 : 
; 1288 : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1289 : 	
; 1290 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 19		 je	 SHORT $LN5@draw_3d_te

; 1291 : 		{
; 1292 : 	
; 1293 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1294 : 	
; 1295 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000b5	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1296 : 		}
; 1297 : 	}

  000c2	e9 66 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1298 : }

  000c7	5f		 pop	 edi
  000c8	5e		 pop	 esi
  000c9	5b		 pop	 ebx
  000ca	8b e5		 mov	 esp, ebp
  000cc	5d		 pop	 ebp
  000cd	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_twopass_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_twopass_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_twopass_clipped_fan_word_face, COMDAT

; 1222 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1223 : 
; 1224 : 	vertex
; 1225 : 		*poly;
; 1226 : 
; 1227 : 	terrain_3d_point_word_reference
; 1228 : 		*point_refs;
; 1229 : 
; 1230 : 	int
; 1231 : 		fan_point_refs[3],
; 1232 : 		triangle_outcode,
; 1233 : 		count;
; 1234 : 
; 1235 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1236 : 
; 1237 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1238 : 
; 1239 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 84 00 00
	00		 jge	 $LN1@draw_3d_te

; 1240 : 	{
; 1241 : 
; 1242 : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 1243 : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1244 : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1245 : 
; 1246 : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1247 : 	
; 1248 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 19		 je	 SHORT $LN5@draw_3d_te

; 1249 : 		{
; 1250 : 	
; 1251 : 			poly = construct_3d_terrain_dual_texture_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_dual_texture_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_dual_texture_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1252 : 	
; 1253 : 			draw_3d_terrain_twopass_clipped_polygon ( poly, triangle_outcode );

  000b7	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000ba	50		 push	 eax
  000bb	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000be	51		 push	 ecx
  000bf	e8 00 00 00 00	 call	 ?draw_3d_terrain_twopass_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_twopass_clipped_polygon
$LN5@draw_3d_te:

; 1254 : 		}
; 1255 : 	}

  000c4	e9 64 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1256 : }

  000c9	5f		 pop	 edi
  000ca	5e		 pop	 esi
  000cb	5b		 pop	 ebx
  000cc	8b e5		 mov	 esp, ebp
  000ce	5d		 pop	 ebp
  000cf	c2 04 00	 ret	 4
?draw_3d_terrain_twopass_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_twopass_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_colour_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_colour_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_colour_clipped_strip_byte_face, COMDAT

; 1168 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1169 : 
; 1170 : 	vertex
; 1171 : 		*poly;
; 1172 : 
; 1173 : 	terrain_3d_point_byte_reference
; 1174 : 		*point_refs;
; 1175 : 
; 1176 : 	int
; 1177 : 		fan_point_refs[3],
; 1178 : 		triangle_outcode,
; 1179 : 		count;
; 1180 : 
; 1181 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1182 : 
; 1183 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1184 : 
; 1185 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d2 00 00
	00		 jge	 $LN1@draw_3d_te

; 1186 : 	{
; 1187 : 
; 1188 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 1189 : 		{
; 1190 : 
; 1191 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1192 : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1193 : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1194 : 		}
; 1195 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1196 : 		{
; 1197 : 
; 1198 : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1199 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1200 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 1201 : 		}
; 1202 : 
; 1203 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1204 : 	
; 1205 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 25		 je	 SHORT $LN7@draw_3d_te

; 1206 : 		{
; 1207 : 	
; 1208 : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1209 : 	
; 1210 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000fc	50		 push	 eax
  000fd	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00102	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1211 : 
; 1212 : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  00105	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00108	50		 push	 eax
  00109	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0010c	51		 push	 ecx
  0010d	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 1213 : 		}
; 1214 : 	}

  00112	e9 16 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1215 : }

  00117	5f		 pop	 edi
  00118	5e		 pop	 esi
  00119	5b		 pop	 ebx
  0011a	8b e5		 mov	 esp, ebp
  0011c	5d		 pop	 ebp
  0011d	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_colour_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_colour_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_colour_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_colour_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_colour_clipped_strip_word_face, COMDAT

; 1114 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1115 : 
; 1116 : 	vertex
; 1117 : 		*poly;
; 1118 : 
; 1119 : 	terrain_3d_point_word_reference
; 1120 : 		*point_refs;
; 1121 : 
; 1122 : 	int
; 1123 : 		fan_point_refs[3],
; 1124 : 		triangle_outcode,
; 1125 : 		count;
; 1126 : 
; 1127 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1128 : 
; 1129 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1130 : 
; 1131 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d8 00 00
	00		 jge	 $LN1@draw_3d_te

; 1132 : 	{
; 1133 : 
; 1134 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 1135 : 		{
; 1136 : 
; 1137 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1138 : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1139 : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1140 : 		}
; 1141 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1142 : 		{
; 1143 : 
; 1144 : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1145 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1146 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 1147 : 		}
; 1148 : 
; 1149 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1150 : 	
; 1151 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 25		 je	 SHORT $LN7@draw_3d_te

; 1152 : 		{
; 1153 : 	
; 1154 : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1155 : 	
; 1156 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000ff	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00108	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1157 : 
; 1158 : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  0010b	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0010e	50		 push	 eax
  0010f	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00112	51		 push	 ecx
  00113	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 1159 : 		}
; 1160 : 	}

  00118	e9 10 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1161 : }

  0011d	5f		 pop	 edi
  0011e	5e		 pop	 esi
  0011f	5b		 pop	 ebx
  00120	8b e5		 mov	 esp, ebp
  00122	5d		 pop	 ebp
  00123	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_colour_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_colour_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_colour_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_colour_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_colour_clipped_strip_byte_face, COMDAT

; 1060 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1061 : 
; 1062 : 	vertex
; 1063 : 		*poly;
; 1064 : 
; 1065 : 	terrain_3d_point_byte_reference
; 1066 : 		*point_refs;
; 1067 : 
; 1068 : 	int
; 1069 : 		fan_point_refs[3],
; 1070 : 		triangle_outcode,
; 1071 : 		count;
; 1072 : 
; 1073 : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1074 : 
; 1075 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1076 : 
; 1077 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d2 00 00
	00		 jge	 $LN1@draw_3d_te

; 1078 : 	{
; 1079 : 
; 1080 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 1081 : 		{
; 1082 : 
; 1083 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1084 : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1085 : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1086 : 		}
; 1087 : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1088 : 		{
; 1089 : 
; 1090 : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 1091 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 1092 : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 1093 : 		}
; 1094 : 
; 1095 : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1096 : 	
; 1097 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 25		 je	 SHORT $LN7@draw_3d_te

; 1098 : 		{
; 1099 : 	
; 1100 : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1101 : 	
; 1102 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000fc	50		 push	 eax
  000fd	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00102	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1103 : 
; 1104 : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  00105	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00108	50		 push	 eax
  00109	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0010c	51		 push	 ecx
  0010d	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 1105 : 		}
; 1106 : 	}

  00112	e9 16 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1107 : }

  00117	5f		 pop	 edi
  00118	5e		 pop	 esi
  00119	5b		 pop	 ebx
  0011a	8b e5		 mov	 esp, ebp
  0011c	5d		 pop	 ebp
  0011d	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_colour_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_colour_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_colour_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_colour_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_colour_clipped_strip_word_face, COMDAT

; 1006 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1007 : 
; 1008 : 	vertex
; 1009 : 		*poly;
; 1010 : 
; 1011 : 	terrain_3d_point_word_reference
; 1012 : 		*point_refs;
; 1013 : 
; 1014 : 	int
; 1015 : 		fan_point_refs[3],
; 1016 : 		triangle_outcode,
; 1017 : 		count;
; 1018 : 
; 1019 : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 1020 : 
; 1021 : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 1022 : 
; 1023 : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d8 00 00
	00		 jge	 $LN1@draw_3d_te

; 1024 : 	{
; 1025 : 
; 1026 : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 1027 : 		{
; 1028 : 
; 1029 : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1030 : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1031 : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1032 : 		}
; 1033 : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 1034 : 		{
; 1035 : 
; 1036 : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 1037 : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 1038 : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 1039 : 		}
; 1040 : 
; 1041 : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 1042 : 	
; 1043 : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 25		 je	 SHORT $LN7@draw_3d_te

; 1044 : 		{
; 1045 : 
; 1046 : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1047 : 	
; 1048 : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000ff	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00108	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 1049 : 
; 1050 : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  0010b	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0010e	50		 push	 eax
  0010f	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00112	51		 push	 ecx
  00113	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 1051 : 		}
; 1052 : 	}

  00118	e9 10 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 1053 : }

  0011d	5f		 pop	 edi
  0011e	5e		 pop	 esi
  0011f	5b		 pop	 ebx
  00120	8b e5		 mov	 esp, ebp
  00122	5d		 pop	 ebp
  00123	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_colour_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_colour_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_colour_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_colour_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_colour_clipped_fan_byte_face, COMDAT

; 963  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 964  : 
; 965  : 	vertex
; 966  : 		*poly;
; 967  : 
; 968  : 	terrain_3d_point_byte_reference
; 969  : 		*point_refs;
; 970  : 
; 971  : 	int
; 972  : 		fan_point_refs[3],
; 973  : 		triangle_outcode,
; 974  : 		count;
; 975  : 
; 976  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 977  : 
; 978  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 979  : 
; 980  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 8e 00 00
	00		 jge	 $LN1@draw_3d_te

; 981  : 	{
; 982  : 
; 983  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 984  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 985  : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 986  : 
; 987  : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 988  : 	
; 989  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 25		 je	 SHORT $LN5@draw_3d_te

; 990  : 		{
; 991  : 	
; 992  : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 993  : 	
; 994  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b5	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000b8	50		 push	 eax
  000b9	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000be	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 995  : 
; 996  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000c1	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c4	50		 push	 eax
  000c5	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000c8	51		 push	 ecx
  000c9	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 997  : 		}
; 998  : 	}

  000ce	e9 5a ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 999  : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_colour_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_colour_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_colour_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_colour_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_colour_clipped_fan_word_face, COMDAT

; 920  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 921  : 
; 922  : 	vertex
; 923  : 		*poly;
; 924  : 
; 925  : 	terrain_3d_point_word_reference
; 926  : 		*point_refs;
; 927  : 
; 928  : 	int
; 929  : 		fan_point_refs[3],
; 930  : 		triangle_outcode,
; 931  : 		count;
; 932  : 
; 933  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 934  : 
; 935  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 936  : 
; 937  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 90 00 00
	00		 jge	 $LN1@draw_3d_te

; 938  : 	{
; 939  : 
; 940  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 941  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 942  : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 943  : 
; 944  : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 945  : 	
; 946  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 25		 je	 SHORT $LN5@draw_3d_te

; 947  : 		{
; 948  : 	
; 949  : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 950  : 	
; 951  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b7	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000c0	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 952  : 
; 953  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000c3	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c6	50		 push	 eax
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 954  : 		}
; 955  : 	}

  000d0	e9 58 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 956  : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_colour_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_colour_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_colour_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_colour_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_colour_clipped_fan_byte_face, COMDAT

; 877  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 878  : 
; 879  : 	vertex
; 880  : 		*poly;
; 881  : 
; 882  : 	terrain_3d_point_byte_reference
; 883  : 		*point_refs;
; 884  : 
; 885  : 	int
; 886  : 		fan_point_refs[3],
; 887  : 		triangle_outcode,
; 888  : 		count;
; 889  : 
; 890  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 891  : 
; 892  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 893  : 
; 894  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 8e 00 00
	00		 jge	 $LN1@draw_3d_te

; 895  : 	{
; 896  : 
; 897  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 898  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 899  : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 900  : 
; 901  : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 902  : 	
; 903  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 25		 je	 SHORT $LN5@draw_3d_te

; 904  : 		{
; 905  : 	
; 906  : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 907  : 	
; 908  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b5	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000b8	50		 push	 eax
  000b9	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000be	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 909  : 
; 910  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000c1	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c4	50		 push	 eax
  000c5	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000c8	51		 push	 ecx
  000c9	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 911  : 		}
; 912  : 	}

  000ce	e9 5a ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 913  : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_colour_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_colour_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_colour_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_colour_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_colour_clipped_fan_word_face, COMDAT

; 834  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 835  : 
; 836  : 	vertex
; 837  : 		*poly;
; 838  : 
; 839  : 	terrain_3d_point_word_reference
; 840  : 		*point_refs;
; 841  : 
; 842  : 	int
; 843  : 		fan_point_refs[3],
; 844  : 		triangle_outcode,
; 845  : 		count;
; 846  : 
; 847  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 848  : 
; 849  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 850  : 
; 851  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 90 00 00
	00		 jge	 $LN1@draw_3d_te

; 852  : 	{
; 853  : 
; 854  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 855  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 856  : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 857  : 
; 858  : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 859  : 	
; 860  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 25		 je	 SHORT $LN5@draw_3d_te

; 861  : 		{
; 862  : 
; 863  : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 864  : 	
; 865  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b7	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000c0	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 866  : 
; 867  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000c3	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c6	50		 push	 eax
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 868  : 		}
; 869  : 	}

  000d0	e9 58 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 870  : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_colour_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_colour_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_colour_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_colour_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_colour_clipped_strip_byte_face, COMDAT

; 780  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 781  : 
; 782  : 	vertex
; 783  : 		*poly;
; 784  : 
; 785  : 	terrain_3d_point_byte_reference
; 786  : 		*point_refs;
; 787  : 
; 788  : 	int
; 789  : 		fan_point_refs[3],
; 790  : 		triangle_outcode,
; 791  : 		count;
; 792  : 
; 793  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 794  : 
; 795  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 796  : 
; 797  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d2 00 00
	00		 jge	 $LN1@draw_3d_te

; 798  : 	{
; 799  : 
; 800  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 801  : 		{
; 802  : 
; 803  : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00056	ba 04 00 00 00	 mov	 edx, 4
  0005b	6b c2 00	 imul	 eax, edx, 0
  0005e	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 804  : 			fan_point_refs[1] = point_refs[count+2].point;

  00062	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00065	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00068	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  0006c	ba 04 00 00 00	 mov	 edx, 4
  00071	c1 e2 00	 shl	 edx, 0
  00074	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 805  : 			fan_point_refs[2] = point_refs[count+1].point;

  00078	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007b	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007e	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 806  : 		}
; 807  : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 808  : 		{
; 809  : 
; 810  : 			fan_point_refs[0] = point_refs[count].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 811  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 812  : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 813  : 		}
; 814  : 
; 815  : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 816  : 	
; 817  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 25		 je	 SHORT $LN7@draw_3d_te

; 818  : 		{
; 819  : 	
; 820  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 821  : 	
; 822  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000fc	50		 push	 eax
  000fd	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00102	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 823  : 
; 824  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  00105	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00108	50		 push	 eax
  00109	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  0010c	51		 push	 ecx
  0010d	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 825  : 		}
; 826  : 	}

  00112	e9 16 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 827  : }

  00117	5f		 pop	 edi
  00118	5e		 pop	 esi
  00119	5b		 pop	 ebx
  0011a	8b e5		 mov	 esp, ebp
  0011c	5d		 pop	 ebp
  0011d	c2 04 00	 ret	 4
?draw_3d_terrain_colour_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_colour_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_colour_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_colour_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_colour_clipped_strip_word_face, COMDAT

; 726  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 727  : 
; 728  : 	vertex
; 729  : 		*poly;
; 730  : 
; 731  : 	terrain_3d_point_word_reference
; 732  : 		*point_refs;
; 733  : 
; 734  : 	int
; 735  : 		fan_point_refs[3],
; 736  : 		triangle_outcode,
; 737  : 		count;
; 738  : 
; 739  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 740  : 
; 741  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 742  : 
; 743  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d d8 00 00
	00		 jge	 $LN1@draw_3d_te

; 744  : 	{
; 745  : 
; 746  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 747  : 		{
; 748  : 
; 749  : 			fan_point_refs[0] = point_refs[count].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00057	b8 04 00 00 00	 mov	 eax, 4
  0005c	6b c8 00	 imul	 ecx, eax, 0
  0005f	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 750  : 			fan_point_refs[1] = point_refs[count+2].point;

  00063	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00066	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00069	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  0006e	b8 04 00 00 00	 mov	 eax, 4
  00073	c1 e0 00	 shl	 eax, 0
  00076	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 751  : 			fan_point_refs[2] = point_refs[count+1].point;

  0007a	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007d	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00080	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 752  : 		}
; 753  : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 754  : 		{
; 755  : 
; 756  : 			fan_point_refs[0] = point_refs[count].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 757  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 758  : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 759  : 		}
; 760  : 
; 761  : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 762  : 	
; 763  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 25		 je	 SHORT $LN7@draw_3d_te

; 764  : 		{
; 765  : 	
; 766  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 767  : 	
; 768  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000ff	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  00108	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 769  : 
; 770  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  0010b	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  0010e	50		 push	 eax
  0010f	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00112	51		 push	 ecx
  00113	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 771  : 		}
; 772  : 	}

  00118	e9 10 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 773  : }

  0011d	5f		 pop	 edi
  0011e	5e		 pop	 esi
  0011f	5b		 pop	 ebx
  00120	8b e5		 mov	 esp, ebp
  00122	5d		 pop	 ebp
  00123	c2 04 00	 ret	 4
?draw_3d_terrain_colour_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_colour_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_colour_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_colour_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_colour_clipped_fan_byte_face, COMDAT

; 683  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 684  : 
; 685  : 	vertex
; 686  : 		*poly;
; 687  : 
; 688  : 	terrain_3d_point_byte_reference
; 689  : 		*point_refs;
; 690  : 
; 691  : 	int
; 692  : 		fan_point_refs[3],
; 693  : 		triangle_outcode,
; 694  : 		count;
; 695  : 
; 696  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 697  : 
; 698  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 699  : 
; 700  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 8e 00 00
	00		 jge	 $LN1@draw_3d_te

; 701  : 	{
; 702  : 
; 703  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 704  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 705  : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 706  : 
; 707  : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 708  : 	
; 709  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 25		 je	 SHORT $LN5@draw_3d_te

; 710  : 		{
; 711  : 	
; 712  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 713  : 	
; 714  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b5	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000b8	50		 push	 eax
  000b9	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000be	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 715  : 
; 716  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000c1	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c4	50		 push	 eax
  000c5	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000c8	51		 push	 ecx
  000c9	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 717  : 		}
; 718  : 	}

  000ce	e9 5a ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 719  : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 04 00	 ret	 4
?draw_3d_terrain_colour_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_colour_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_colour_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_colour_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_colour_clipped_fan_word_face, COMDAT

; 640  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 641  : 
; 642  : 	vertex
; 643  : 		*poly;
; 644  : 
; 645  : 	terrain_3d_point_word_reference
; 646  : 		*point_refs;
; 647  : 
; 648  : 	int
; 649  : 		fan_point_refs[3],
; 650  : 		triangle_outcode,
; 651  : 		count;
; 652  : 
; 653  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 654  : 
; 655  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 656  : 
; 657  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 90 00 00
	00		 jge	 $LN1@draw_3d_te

; 658  : 	{
; 659  : 
; 660  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 661  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 662  : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 663  : 
; 664  : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 665  : 	
; 666  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 25		 je	 SHORT $LN5@draw_3d_te

; 667  : 		{
; 668  : 	
; 669  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 670  : 	
; 671  : 			poly = terrain_3d_copy_and_recolour_polygon ( poly );

  000b7	8b 45 fc	 mov	 eax, DWORD PTR _poly$[ebp]
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?terrain_3d_copy_and_recolour_polygon@@YGPAUVERTEX@@PAU1@@Z ; terrain_3d_copy_and_recolour_polygon
  000c0	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 672  : 
; 673  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000c3	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000c6	50		 push	 eax
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 674  : 		}
; 675  : 	}

  000d0	e9 58 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 676  : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c2 04 00	 ret	 4
?draw_3d_terrain_colour_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_colour_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_clipped_strip_byte_face, COMDAT

; 588  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 589  : 
; 590  : 	vertex
; 591  : 		*poly;
; 592  : 
; 593  : 	terrain_3d_point_byte_reference
; 594  : 		*point_refs;
; 595  : 
; 596  : 	int
; 597  : 		fan_point_refs[3],
; 598  : 		triangle_outcode,
; 599  : 		count;
; 600  : 
; 601  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 602  : 
; 603  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 604  : 
; 605  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d c6 00 00
	00		 jge	 $LN1@draw_3d_te

; 606  : 	{
; 607  : 
; 608  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 609  : 		{
; 610  : 
; 611  : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 612  : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 613  : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 614  : 		}
; 615  : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 616  : 		{
; 617  : 
; 618  : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 619  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 620  : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 621  : 		}
; 622  : 
; 623  : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 624  : 	
; 625  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 19		 je	 SHORT $LN7@draw_3d_te

; 626  : 		{
; 627  : 	
; 628  : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 629  : 	
; 630  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000f9	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000fc	50		 push	 eax
  000fd	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00100	51		 push	 ecx
  00101	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 631  : 		}
; 632  : 	}

  00106	e9 22 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 633  : }

  0010b	5f		 pop	 edi
  0010c	5e		 pop	 esi
  0010d	5b		 pop	 ebx
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_clipped_strip_word_face, COMDAT

; 536  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 537  : 
; 538  : 	vertex
; 539  : 		*poly;
; 540  : 
; 541  : 	terrain_3d_point_word_reference
; 542  : 		*point_refs;
; 543  : 
; 544  : 	int
; 545  : 		fan_point_refs[3],
; 546  : 		triangle_outcode,
; 547  : 		count;
; 548  : 
; 549  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 550  : 
; 551  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 552  : 
; 553  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d cc 00 00
	00		 jge	 $LN1@draw_3d_te

; 554  : 	{
; 555  : 
; 556  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 557  : 		{
; 558  : 
; 559  : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 560  : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 561  : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 562  : 		}
; 563  : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 564  : 		{
; 565  : 
; 566  : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 567  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 568  : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 569  : 		}
; 570  : 
; 571  : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 572  : 	
; 573  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 19		 je	 SHORT $LN7@draw_3d_te

; 574  : 		{
; 575  : 	
; 576  : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 577  : 	
; 578  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000ff	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00102	50		 push	 eax
  00103	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00106	51		 push	 ecx
  00107	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 579  : 		}
; 580  : 	}

  0010c	e9 1c ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 581  : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_clipped_strip_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_clipped_strip_byte_face, COMDAT

; 484  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 485  : 
; 486  : 	vertex
; 487  : 		*poly;
; 488  : 
; 489  : 	terrain_3d_point_byte_reference
; 490  : 		*point_refs;
; 491  : 
; 492  : 	int
; 493  : 		fan_point_refs[3],
; 494  : 		triangle_outcode,
; 495  : 		count;
; 496  : 
; 497  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 498  : 
; 499  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 500  : 
; 501  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d c6 00 00
	00		 jge	 $LN1@draw_3d_te

; 502  : 	{
; 503  : 
; 504  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 505  : 		{
; 506  : 
; 507  : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 508  : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 509  : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 510  : 		}
; 511  : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 512  : 		{
; 513  : 
; 514  : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 515  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 516  : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 517  : 		}
; 518  : 
; 519  : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 520  : 	
; 521  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 19		 je	 SHORT $LN7@draw_3d_te

; 522  : 		{
; 523  : 	
; 524  : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 525  : 	
; 526  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000f9	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000fc	50		 push	 eax
  000fd	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00100	51		 push	 ecx
  00101	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 527  : 		}
; 528  : 	}

  00106	e9 22 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 529  : }

  0010b	5f		 pop	 edi
  0010c	5e		 pop	 esi
  0010d	5b		 pop	 ebx
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_clipped_strip_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_clipped_strip_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_clipped_strip_word_face, COMDAT

; 432  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 433  : 
; 434  : 	vertex
; 435  : 		*poly;
; 436  : 
; 437  : 	terrain_3d_point_word_reference
; 438  : 		*point_refs;
; 439  : 
; 440  : 	int
; 441  : 		fan_point_refs[3],
; 442  : 		triangle_outcode,
; 443  : 		count;
; 444  : 
; 445  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 446  : 
; 447  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 448  : 
; 449  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d cc 00 00
	00		 jge	 $LN1@draw_3d_te

; 450  : 	{
; 451  : 
; 452  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 453  : 		{
; 454  : 
; 455  : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 456  : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 457  : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 458  : 		}
; 459  : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 460  : 		{
; 461  : 
; 462  : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 463  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 464  : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 465  : 		}
; 466  : 
; 467  : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 468  : 	
; 469  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 19		 je	 SHORT $LN7@draw_3d_te

; 470  : 		{
; 471  : 	
; 472  : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 473  : 	
; 474  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000ff	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00102	50		 push	 eax
  00103	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00106	51		 push	 ecx
  00107	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 475  : 		}
; 476  : 	}

  0010c	e9 1c ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 477  : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_clipped_strip_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_clipped_fan_byte_face, COMDAT

; 391  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 392  : 
; 393  : 	vertex
; 394  : 		*poly;
; 395  : 
; 396  : 	terrain_3d_point_byte_reference
; 397  : 		*point_refs;
; 398  : 
; 399  : 	int
; 400  : 		fan_point_refs[3],
; 401  : 		triangle_outcode,
; 402  : 		count;
; 403  : 
; 404  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 405  : 
; 406  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 407  : 
; 408  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 82 00 00
	00		 jge	 $LN1@draw_3d_te

; 409  : 	{
; 410  : 
; 411  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 412  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 413  : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 414  : 
; 415  : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 416  : 	
; 417  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 19		 je	 SHORT $LN5@draw_3d_te

; 418  : 		{
; 419  : 	
; 420  : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 421  : 	
; 422  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000b5	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 423  : 		}
; 424  : 	}

  000c2	e9 66 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 425  : }

  000c7	5f		 pop	 edi
  000c8	5e		 pop	 esi
  000c9	5b		 pop	 ebx
  000ca	8b e5		 mov	 esp, ebp
  000cc	5d		 pop	 ebp
  000cd	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_z_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_z_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_z_clipped_fan_word_face, COMDAT

; 350  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 351  : 
; 352  : 	vertex
; 353  : 		*poly;
; 354  : 
; 355  : 	terrain_3d_point_word_reference
; 356  : 		*point_refs;
; 357  : 
; 358  : 	int
; 359  : 		fan_point_refs[3],
; 360  : 		triangle_outcode,
; 361  : 		count;
; 362  : 
; 363  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 364  : 
; 365  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 366  : 
; 367  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 84 00 00
	00		 jge	 $LN1@draw_3d_te

; 368  : 	{
; 369  : 
; 370  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 371  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 372  : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 373  : 
; 374  : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 375  : 	
; 376  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 19		 je	 SHORT $LN5@draw_3d_te

; 377  : 		{
; 378  : 	
; 379  : 			poly = construct_3d_terrain_xy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_xy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_xy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 380  : 	
; 381  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000b7	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000ba	50		 push	 eax
  000bb	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000be	51		 push	 ecx
  000bf	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 382  : 		}
; 383  : 	}

  000c4	e9 64 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 384  : }

  000c9	5f		 pop	 edi
  000ca	5e		 pop	 esi
  000cb	5b		 pop	 ebx
  000cc	8b e5		 mov	 esp, ebp
  000ce	5d		 pop	 ebp
  000cf	c2 04 00	 ret	 4
?draw_3d_terrain_texture_z_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_z_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_clipped_fan_byte_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_clipped_fan_byte_face, COMDAT

; 309  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 310  : 
; 311  : 	vertex
; 312  : 		*poly;
; 313  : 
; 314  : 	terrain_3d_point_byte_reference
; 315  : 		*point_refs;
; 316  : 
; 317  : 	int
; 318  : 		fan_point_refs[3],
; 319  : 		triangle_outcode,
; 320  : 		count;
; 321  : 
; 322  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 323  : 
; 324  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 325  : 
; 326  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 82 00 00
	00		 jge	 $LN1@draw_3d_te

; 327  : 	{
; 328  : 
; 329  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 330  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 331  : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 332  : 
; 333  : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 334  : 	
; 335  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 19		 je	 SHORT $LN5@draw_3d_te

; 336  : 		{
; 337  : 	
; 338  : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 339  : 	
; 340  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000b5	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 341  : 		}
; 342  : 	}

  000c2	e9 66 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 343  : }

  000c7	5f		 pop	 edi
  000c8	5e		 pop	 esi
  000c9	5b		 pop	 ebx
  000ca	8b e5		 mov	 esp, ebp
  000cc	5d		 pop	 ebp
  000cd	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_clipped_fan_byte_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_texture_x_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_texture_x_clipped_fan_word_face@@YGXH@Z PROC ; draw_3d_terrain_texture_x_clipped_fan_word_face, COMDAT

; 268  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 269  : 
; 270  : 	vertex
; 271  : 		*poly;
; 272  : 
; 273  : 	terrain_3d_point_word_reference
; 274  : 		*point_refs;
; 275  : 
; 276  : 	int
; 277  : 		fan_point_refs[3],
; 278  : 		triangle_outcode,
; 279  : 		count;
; 280  : 
; 281  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 282  : 
; 283  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 284  : 
; 285  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 84 00 00
	00		 jge	 $LN1@draw_3d_te

; 286  : 	{
; 287  : 
; 288  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 289  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 290  : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 291  : 
; 292  : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 293  : 	
; 294  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 19		 je	 SHORT $LN5@draw_3d_te

; 295  : 		{
; 296  : 	
; 297  : 			poly = construct_3d_terrain_zy_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_zy_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_zy_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 298  : 	
; 299  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000b7	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000ba	50		 push	 eax
  000bb	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000be	51		 push	 ecx
  000bf	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 300  : 		}
; 301  : 	}

  000c4	e9 64 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 302  : }

  000c9	5f		 pop	 edi
  000ca	5e		 pop	 esi
  000cb	5b		 pop	 ebx
  000cc	8b e5		 mov	 esp, ebp
  000ce	5d		 pop	 ebp
  000cf	c2 04 00	 ret	 4
?draw_3d_terrain_texture_x_clipped_fan_word_face@@YGXH@Z ENDP ; draw_3d_terrain_texture_x_clipped_fan_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_clipped_strip_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_clipped_strip_byte_face@@YGXH@Z PROC	; draw_3d_terrain_clipped_strip_byte_face, COMDAT

; 216  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 217  : 
; 218  : 	vertex
; 219  : 		*poly;
; 220  : 
; 221  : 	terrain_3d_point_byte_reference
; 222  : 		*point_refs;
; 223  : 
; 224  : 	int
; 225  : 		fan_point_refs[3],
; 226  : 		triangle_outcode,
; 227  : 		count;
; 228  : 
; 229  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 230  : 
; 231  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 232  : 
; 233  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d c6 00 00
	00		 jge	 $LN1@draw_3d_te

; 234  : 	{
; 235  : 
; 236  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 42		 je	 SHORT $LN5@draw_3d_te

; 237  : 		{
; 238  : 
; 239  : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00050	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00053	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00057	ba 04 00 00 00	 mov	 edx, 4
  0005c	6b c2 00	 imul	 eax, edx, 0
  0005f	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 240  : 			fan_point_refs[1] = point_refs[count+1].point;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00066	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00069	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006d	ba 04 00 00 00	 mov	 edx, 4
  00072	c1 e2 00	 shl	 edx, 0
  00075	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 241  : 			fan_point_refs[2] = point_refs[count+0].point;

  00079	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  0007c	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00082	ba 04 00 00 00	 mov	 edx, 4
  00087	d1 e2		 shl	 edx, 1
  00089	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 242  : 		}
; 243  : 		else

  0008d	eb 40		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 244  : 		{
; 245  : 
; 246  : 			fan_point_refs[0] = point_refs[count+0].point;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00092	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00095	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00098	ba 04 00 00 00	 mov	 edx, 4
  0009d	6b c2 00	 imul	 eax, edx, 0
  000a0	89 4c 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], ecx

; 247  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000a7	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000aa	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  000ae	ba 04 00 00 00	 mov	 edx, 4
  000b3	c1 e2 00	 shl	 edx, 0
  000b6	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 248  : 			fan_point_refs[2] = point_refs[count+2].point;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  000bd	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  000c0	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  000c4	ba 04 00 00 00	 mov	 edx, 4
  000c9	d1 e2		 shl	 edx, 1
  000cb	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx
$LN6@draw_3d_te:

; 249  : 		}
; 250  : 
; 251  : 		terrain_3d_faces_outcoded++;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000d4	83 c0 01	 add	 eax, 1
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 252  : 	
; 253  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000dc	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000df	50		 push	 eax
  000e0	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e3	51		 push	 ecx
  000e4	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000e9	85 c0		 test	 eax, eax
  000eb	74 19		 je	 SHORT $LN7@draw_3d_te

; 254  : 		{
; 255  : 	
; 256  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000ed	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000f6	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 257  : 	
; 258  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000f9	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000fc	50		 push	 eax
  000fd	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00100	51		 push	 ecx
  00101	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 259  : 		}
; 260  : 	}

  00106	e9 22 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 261  : }

  0010b	5f		 pop	 edi
  0010c	5e		 pop	 esi
  0010d	5b		 pop	 ebx
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c2 04 00	 ret	 4
?draw_3d_terrain_clipped_strip_byte_face@@YGXH@Z ENDP	; draw_3d_terrain_clipped_strip_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_clipped_strip_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_clipped_strip_word_face@@YGXH@Z PROC	; draw_3d_terrain_clipped_strip_word_face, COMDAT

; 164  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 165  : 
; 166  : 	vertex
; 167  : 		*poly;
; 168  : 
; 169  : 	terrain_3d_point_word_reference
; 170  : 		*point_refs;
; 171  : 
; 172  : 	int
; 173  : 		fan_point_refs[3],
; 174  : 		triangle_outcode,
; 175  : 		count;
; 176  : 
; 177  : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 178  : 
; 179  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 180  : 
; 181  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d cc 00 00
	00		 jge	 $LN1@draw_3d_te

; 182  : 	{
; 183  : 
; 184  : 		if ( count & 1 )

  00045	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00048	83 e0 01	 and	 eax, 1
  0004b	74 45		 je	 SHORT $LN5@draw_3d_te

; 185  : 		{
; 186  : 
; 187  : 			fan_point_refs[0] = point_refs[count+2].point;

  0004d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00050	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00053	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00058	b8 04 00 00 00	 mov	 eax, 4
  0005d	6b c8 00	 imul	 ecx, eax, 0
  00060	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 188  : 			fan_point_refs[1] = point_refs[count+1].point;

  00064	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00067	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0006a	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006f	b8 04 00 00 00	 mov	 eax, 4
  00074	c1 e0 00	 shl	 eax, 0
  00077	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 189  : 			fan_point_refs[2] = point_refs[count+0].point;

  0007b	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007e	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00081	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00085	b8 04 00 00 00	 mov	 eax, 4
  0008a	d1 e0		 shl	 eax, 1
  0008c	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 190  : 		}
; 191  : 		else

  00090	eb 43		 jmp	 SHORT $LN6@draw_3d_te
$LN5@draw_3d_te:

; 192  : 		{
; 193  : 
; 194  : 			fan_point_refs[0] = point_refs[count+0].point;

  00092	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00098	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0009c	b8 04 00 00 00	 mov	 eax, 4
  000a1	6b c8 00	 imul	 ecx, eax, 0
  000a4	89 54 0d ec	 mov	 DWORD PTR _fan_point_refs$[ebp+ecx], edx

; 195  : 			fan_point_refs[1] = point_refs[count+1].point;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000ab	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000ae	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  000b3	b8 04 00 00 00	 mov	 eax, 4
  000b8	c1 e0 00	 shl	 eax, 0
  000bb	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 196  : 			fan_point_refs[2] = point_refs[count+2].point;

  000bf	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  000c5	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  000ca	b8 04 00 00 00	 mov	 eax, 4
  000cf	d1 e0		 shl	 eax, 1
  000d1	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx
$LN6@draw_3d_te:

; 197  : 		}
; 198  : 
; 199  : 		terrain_3d_faces_outcoded++;

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  000da	83 c0 01	 add	 eax, 1
  000dd	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 200  : 	
; 201  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  000e2	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  000e5	50		 push	 eax
  000e6	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000ef	85 c0		 test	 eax, eax
  000f1	74 19		 je	 SHORT $LN7@draw_3d_te

; 202  : 		{
; 203  : 	
; 204  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000f3	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000f6	50		 push	 eax
  000f7	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000fc	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 205  : 	
; 206  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000ff	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  00102	50		 push	 eax
  00103	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  00106	51		 push	 ecx
  00107	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN7@draw_3d_te:

; 207  : 		}
; 208  : 	}

  0010c	e9 1c ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 209  : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 04 00	 ret	 4
?draw_3d_terrain_clipped_strip_word_face@@YGXH@Z ENDP	; draw_3d_terrain_clipped_strip_word_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_clipped_fan_byte_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_clipped_fan_byte_face@@YGXH@Z PROC	; draw_3d_terrain_clipped_fan_byte_face, COMDAT

; 123  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 124  : 
; 125  : 	vertex
; 126  : 		*poly;
; 127  : 
; 128  : 	terrain_3d_point_byte_reference
; 129  : 		*point_refs;
; 130  : 
; 131  : 	int
; 132  : 		fan_point_refs[3],
; 133  : 		triangle_outcode,
; 134  : 		count;
; 135  : 
; 136  : 	point_refs = terrain_3d_sector_point_byte_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_byte_references@@3PAUTERRAIN_3D_POINT_BYTE_REFERENCE@@A ; terrain_3d_sector_point_byte_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 137  : 
; 138  : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 139  : 
; 140  : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 82 00 00
	00		 jge	 $LN1@draw_3d_te

; 141  : 	{
; 142  : 
; 143  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 01 00 00 00	 mov	 eax, 1
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 144  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00063	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  00066	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0006a	ba 04 00 00 00	 mov	 edx, 4
  0006f	c1 e2 00	 shl	 edx, 0
  00072	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 145  : 		fan_point_refs[2] = point_refs[count+2].point;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _point_refs$[ebp]
  00079	03 45 e4	 add	 eax, DWORD PTR _count$[ebp]
  0007c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00080	ba 04 00 00 00	 mov	 edx, 4
  00085	d1 e2		 shl	 edx, 1
  00087	89 4c 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], ecx

; 146  : 
; 147  : 		terrain_3d_faces_outcoded++;

  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00090	83 c0 01	 add	 eax, 1
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 148  : 	
; 149  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  00098	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009b	50		 push	 eax
  0009c	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a5	85 c0		 test	 eax, eax
  000a7	74 19		 je	 SHORT $LN5@draw_3d_te

; 150  : 		{
; 151  : 	
; 152  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000a9	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000b2	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 153  : 	
; 154  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000b5	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 155  : 		}
; 156  : 	}

  000c2	e9 66 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 157  : }

  000c7	5f		 pop	 edi
  000c8	5e		 pop	 esi
  000c9	5b		 pop	 ebx
  000ca	8b e5		 mov	 esp, ebp
  000cc	5d		 pop	 ebp
  000cd	c2 04 00	 ret	 4
?draw_3d_terrain_clipped_fan_byte_face@@YGXH@Z ENDP	; draw_3d_terrain_clipped_fan_byte_face
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\terrain\terrdrcl.c
;	COMDAT ?draw_3d_terrain_clipped_fan_word_face@@YGXH@Z
_TEXT	SEGMENT
_count$ = -28						; size = 4
_triangle_outcode$ = -24				; size = 4
_fan_point_refs$ = -20					; size = 12
_point_refs$ = -8					; size = 4
_poly$ = -4						; size = 4
_number_of_points$ = 8					; size = 4
?draw_3d_terrain_clipped_fan_word_face@@YGXH@Z PROC	; draw_3d_terrain_clipped_fan_word_face, COMDAT

; 82   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 83   : 
; 84   : 	vertex
; 85   : 		*poly;
; 86   : 
; 87   : 	terrain_3d_point_word_reference
; 88   : 		*point_refs;
; 89   : 
; 90   : 	int
; 91   : 		fan_point_refs[3],
; 92   : 		triangle_outcode,
; 93   : 		count;
; 94   : 
; 95   : 	point_refs = terrain_3d_sector_point_word_references;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_sector_point_word_references@@3PAUTERRAIN_3D_POINT_WORD_REFERENCE@@A ; terrain_3d_sector_point_word_references
  0000e	89 45 f8	 mov	 DWORD PTR _point_refs$[ebp], eax

; 96   : 
; 97   : 	terrain_3d_faces_constructed += ( number_of_points - 2 );

  00011	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?terrain_3d_faces_constructed@@3HA ; terrain_3d_faces_constructed
  0001a	8d 54 01 fe	 lea	 edx, DWORD PTR [ecx+eax-2]
  0001e	89 15 00 00 00
	00		 mov	 DWORD PTR ?terrain_3d_faces_constructed@@3HA, edx ; terrain_3d_faces_constructed

; 98   : 
; 99   : 	for ( count = 0; count < ( number_of_points - 2 ); count++ )

  00024	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@draw_3d_te
$LN2@draw_3d_te:
  0002d	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 e4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@draw_3d_te:
  00036	8b 45 08	 mov	 eax, DWORD PTR _number_of_points$[ebp]
  00039	83 e8 02	 sub	 eax, 2
  0003c	39 45 e4	 cmp	 DWORD PTR _count$[ebp], eax
  0003f	0f 8d 84 00 00
	00		 jge	 $LN1@draw_3d_te

; 100  : 	{
; 101  : 
; 102  : 		fan_point_refs[0] = point_refs[0].point;

  00045	b8 02 00 00 00	 mov	 eax, 2
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _point_refs$[ebp]
  00050	0f b7 04 0a	 movzx	 eax, WORD PTR [edx+ecx]
  00054	b9 04 00 00 00	 mov	 ecx, 4
  00059	6b d1 00	 imul	 edx, ecx, 0
  0005c	89 44 15 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+edx], eax

; 103  : 		fan_point_refs[1] = point_refs[count+1].point;

  00060	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  00066	0f b7 54 41 02	 movzx	 edx, WORD PTR [ecx+eax*2+2]
  0006b	b8 04 00 00 00	 mov	 eax, 4
  00070	c1 e0 00	 shl	 eax, 0
  00073	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 104  : 		fan_point_refs[2] = point_refs[count+2].point;

  00077	8b 45 e4	 mov	 eax, DWORD PTR _count$[ebp]
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _point_refs$[ebp]
  0007d	0f b7 54 41 04	 movzx	 edx, WORD PTR [ecx+eax*2+4]
  00082	b8 04 00 00 00	 mov	 eax, 4
  00087	d1 e0		 shl	 eax, 1
  00089	89 54 05 ec	 mov	 DWORD PTR _fan_point_refs$[ebp+eax], edx

; 105  : 
; 106  : 		terrain_3d_faces_outcoded++;

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?terrain_3d_faces_outcoded@@3HA ; terrain_3d_faces_outcoded
  00092	83 c0 01	 add	 eax, 1
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?terrain_3d_faces_outcoded@@3HA, eax ; terrain_3d_faces_outcoded

; 107  : 	
; 108  : 		if ( outcode_3d_terrain_triangle ( fan_point_refs, &triangle_outcode ) )

  0009a	8d 45 e8	 lea	 eax, DWORD PTR _triangle_outcode$[ebp]
  0009d	50		 push	 eax
  0009e	8d 4d ec	 lea	 ecx, DWORD PTR _fan_point_refs$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?outcode_3d_terrain_triangle@@YGHPAH0@Z ; outcode_3d_terrain_triangle
  000a7	85 c0		 test	 eax, eax
  000a9	74 19		 je	 SHORT $LN5@draw_3d_te

; 109  : 		{
; 110  : 	
; 111  : 			poly = construct_3d_terrain_triangle ( fan_point_refs );

  000ab	8d 45 ec	 lea	 eax, DWORD PTR _fan_point_refs$[ebp]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?construct_3d_terrain_triangle@@YGPAUVERTEX@@PAH@Z ; construct_3d_terrain_triangle
  000b4	89 45 fc	 mov	 DWORD PTR _poly$[ebp], eax

; 112  : 
; 113  : 			draw_3d_terrain_clipped_polygon ( poly, triangle_outcode );

  000b7	8b 45 e8	 mov	 eax, DWORD PTR _triangle_outcode$[ebp]
  000ba	50		 push	 eax
  000bb	8b 4d fc	 mov	 ecx, DWORD PTR _poly$[ebp]
  000be	51		 push	 ecx
  000bf	e8 00 00 00 00	 call	 ?draw_3d_terrain_clipped_polygon@@YGXPAUVERTEX@@H@Z ; draw_3d_terrain_clipped_polygon
$LN5@draw_3d_te:

; 114  : 		}
; 115  : 	}

  000c4	e9 64 ff ff ff	 jmp	 $LN2@draw_3d_te
$LN1@draw_3d_te:

; 116  : }

  000c9	5f		 pop	 edi
  000ca	5e		 pop	 esi
  000cb	5b		 pop	 ebx
  000cc	8b e5		 mov	 esp, ebp
  000ce	5d		 pop	 ebp
  000cf	c2 04 00	 ret	 4
?draw_3d_terrain_clipped_fan_word_face@@YGXH@Z ENDP	; draw_3d_terrain_clipped_fan_word_face
_TEXT	ENDS
END
