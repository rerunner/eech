; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\keysite\ks_updt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_keysite_update_functions@@YGXXZ	; overload_keysite_update_functions
PUBLIC	?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA ; `update_server'::`1'::__LINE__Var
PUBLIC	??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0DL@GEJEAKCM@?$CIKEYSITE?$CJ?5Creating?5REPAIR?5missi@ ; `string'
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4000000000000000
PUBLIC	__real@4024000000000000
PUBLIC	__real@4059000000000000
PUBLIC	__real@41200000
PUBLIC	__real@42700000
PUBLIC	__real@43340000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?update_keysite_cargo@@YGXPAUENTITY@@MHM@Z:PROC	; update_keysite_cargo
EXTRN	?repair_client_server_entity_keysite@@YGHPAUENTITY@@@Z:PROC ; repair_client_server_entity_keysite
EXTRN	?entity_is_object_of_task@@YGHPAUENTITY@@HW4ENTITY_SIDES@@@Z:PROC ; entity_is_object_of_task
EXTRN	?ai_log@@YAXPBDZZ:PROC				; ai_log
EXTRN	?assign_keysite_tasks@@YGXPAUENTITY@@W4TASK_CATEGORY_TYPES@@@Z:PROC ; assign_keysite_tasks
EXTRN	?create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@M22@Z:PROC ; create_repair_task
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_string_type_message@@3PBDB:DWORD ; overload_invalid_string_type_message
EXTRN	?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA:BYTE ; fn_get_local_entity_string
EXTRN	?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_update_client_server_entity
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?keysite_database@@3PAUKEYSITE_DATA@@A:BYTE	; keysite_database
EXTRN	__fltused:DWORD
;	COMDAT __real@43340000
CONST	SEGMENT
__real@43340000 DD 043340000r			; 180
CONST	ENDS
;	COMDAT __real@42700000
CONST	SEGMENT
__real@42700000 DD 042700000r			; 60
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT __real@4000000000000000
CONST	SEGMENT
__real@4000000000000000 DQ 04000000000000000r	; 2
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT ??_C@_0DL@GEJEAKCM@?$CIKEYSITE?$CJ?5Creating?5REPAIR?5missi@
CONST	SEGMENT
??_C@_0DL@GEJEAKCM@?$CIKEYSITE?$CJ?5Creating?5REPAIR?5missi@ DB '(KEYSITE'
	DB	') Creating REPAIR mission to %s (strength %f / %f)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\keysite\ks_up'
	DB	'dt.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA DD 053H ; `update_server'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_updt.c
;	COMDAT ?update_server@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv210 = -92						; size = 8
tv194 = -92						; size = 8
tv332 = -84						; size = 4
tv298 = -84						; size = 4
tv273 = -84						; size = 4
tv241 = -84						; size = 4
tv211 = -84						; size = 8
tv195 = -84						; size = 8
tv324 = -80						; size = 4
tv290 = -80						; size = 4
tv265 = -80						; size = 4
tv233 = -80						; size = 4
_pos$ = -12						; size = 4
_side$ = -8						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_server@@YGXPAUENTITY@@@Z PROC			; update_server, COMDAT

; 83   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 84   : 	keysite
; 85   : 		*raw;
; 86   : 
; 87   : 	entity_sides
; 88   : 		side;
; 89   : 
; 90   : 	vec3d
; 91   : 		*pos;
; 92   : 
; 93   : 	raw = (keysite *) get_local_entity_data (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 94   : 
; 95   : 	if (!raw->alive)

  00012	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00015	8b 88 a0 01 00
	00		 mov	 ecx, DWORD PTR [eax+416]
  0001b	c1 e9 18	 shr	 ecx, 24			; 00000018H
  0001e	83 e1 01	 and	 ecx, 1
  00021	75 05		 jne	 SHORT $LN2@update_ser

; 96   : 	{
; 97   : 		return;

  00023	e9 e0 05 00 00	 jmp	 $LN1@update_ser
$LN2@update_ser:

; 98   : 	}
; 99   : 	
; 100  : 	raw->assist_timer -= get_delta_time ();

  00028	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0002b	f3 0f 10 80 80
	00 00 00	 movss	 xmm0, DWORD PTR [eax+128]
  00033	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0003b	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  0003e	f3 0f 11 81 80
	00 00 00	 movss	 DWORD PTR [ecx+128], xmm0

; 101  : 
; 102  : 	if (raw->assist_timer <= 0.0)

  00046	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00049	f3 0f 5a 80 80
	00 00 00	 cvtss2sd xmm0, DWORD PTR [eax+128]
  00051	0f 57 c9	 xorps	 xmm1, xmm1
  00054	66 0f 2f c8	 comisd	 xmm1, xmm0
  00058	72 0e		 jb	 SHORT $LN3@update_ser

; 103  : 	{
; 104  : 		raw->assist_timer = 0.0;

  0005a	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0005d	0f 57 c0	 xorps	 xmm0, xmm0
  00060	f3 0f 11 80 80
	00 00 00	 movss	 DWORD PTR [eax+128], xmm0
$LN3@update_ser:

; 105  : 	}
; 106  : 
; 107  : 	raw->assign_timer -= get_delta_time ();

  00068	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0006b	f3 0f 10 80 84
	00 00 00	 movss	 xmm0, DWORD PTR [eax+132]
  00073	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0007b	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  0007e	f3 0f 11 81 84
	00 00 00	 movss	 DWORD PTR [ecx+132], xmm0

; 108  : 
; 109  : 	if (raw->assign_timer <= 0.0)

  00086	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00089	f3 0f 5a 80 84
	00 00 00	 cvtss2sd xmm0, DWORD PTR [eax+132]
  00091	0f 57 c9	 xorps	 xmm1, xmm1
  00094	66 0f 2f c8	 comisd	 xmm1, xmm0
  00098	72 78		 jb	 SHORT $LN6@update_ser

; 110  : 	{
; 111  : 		if (raw->in_use)

  0009a	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0009d	8b 88 a0 01 00
	00		 mov	 ecx, DWORD PTR [eax+416]
  000a3	c1 e9 19	 shr	 ecx, 25			; 00000019H
  000a6	83 e1 01	 and	 ecx, 1
  000a9	74 21		 je	 SHORT $LN5@update_ser

; 112  : 		{
; 113  : 			assign_keysite_tasks (en, TASK_CATEGORY_RECON);

  000ab	6a 00		 push	 0
  000ad	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000b0	50		 push	 eax
  000b1	e8 00 00 00 00	 call	 ?assign_keysite_tasks@@YGXPAUENTITY@@W4TASK_CATEGORY_TYPES@@@Z ; assign_keysite_tasks

; 114  : 			assign_keysite_tasks (en, TASK_CATEGORY_STRIKE);

  000b6	6a 01		 push	 1
  000b8	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000bb	50		 push	 eax
  000bc	e8 00 00 00 00	 call	 ?assign_keysite_tasks@@YGXPAUENTITY@@W4TASK_CATEGORY_TYPES@@@Z ; assign_keysite_tasks

; 115  : 			assign_keysite_tasks (en, TASK_CATEGORY_SUPPORT);

  000c1	6a 02		 push	 2
  000c3	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000c6	50		 push	 eax
  000c7	e8 00 00 00 00	 call	 ?assign_keysite_tasks@@YGXPAUENTITY@@W4TASK_CATEGORY_TYPES@@@Z ; assign_keysite_tasks
$LN5@update_ser:

; 116  : 		}
; 117  : 
; 118  : 		raw->assign_timer = KEYSITE_TASK_ASSIGN_TIMER;

  000cc	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000cf	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43340000
  000d7	f3 0f 11 80 84
	00 00 00	 movss	 DWORD PTR [eax+132], xmm0

; 119  : 
; 120  : 		if (raw->keysite_usable_state != KEYSITE_STATE_USABLE)

  000df	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000e2	8b 88 a0 01 00
	00		 mov	 ecx, DWORD PTR [eax+416]
  000e8	c1 e9 1a	 shr	 ecx, 26			; 0000001aH
  000eb	83 e1 07	 and	 ecx, 7
  000ee	74 22		 je	 SHORT $LN6@update_ser

; 121  : 		{
; 122  : 			raw->assign_timer *= 2.0;

  000f0	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000f3	f3 0f 5a 80 84
	00 00 00	 cvtss2sd xmm0, DWORD PTR [eax+132]
  000fb	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4000000000000000
  00103	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00107	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  0010a	f3 0f 11 81 84
	00 00 00	 movss	 DWORD PTR [ecx+132], xmm0
$LN6@update_ser:

; 123  : 		}
; 124  : 	}
; 125  : 
; 126  : 	raw->sleep -= get_delta_time ();

  00112	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00115	f3 0f 10 80 88
	00 00 00	 movss	 xmm0, DWORD PTR [eax+136]
  0011d	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00125	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  00128	f3 0f 11 81 88
	00 00 00	 movss	 DWORD PTR [ecx+136], xmm0

; 127  : 
; 128  : 	if (raw->sleep <= 0.0)

  00130	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00133	f3 0f 5a 80 88
	00 00 00	 cvtss2sd xmm0, DWORD PTR [eax+136]
  0013b	0f 57 c9	 xorps	 xmm1, xmm1
  0013e	66 0f 2f c8	 comisd	 xmm1, xmm0
  00142	0f 82 bb 01 00
	00		 jb	 $LN7@update_ser

; 129  : 	{
; 130  : 		raw->sleep = KEYSITE_UPDATE_SLEEP_TIMER;

  00148	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0014b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42700000
  00153	f3 0f 11 80 88
	00 00 00	 movss	 DWORD PTR [eax+136], xmm0

; 131  : 	
; 132  : 		//
; 133  : 		// Keysite operation depending upon type
; 134  : 		//
; 135  : 
; 136  : 		raw->supplies.ammo_supply_level += AMMO_USAGE_ACCELERATOR * keysite_database [raw->sub_type].default_supply_usage.ammo_supply_level;

  0015b	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0015e	6b 08 44	 imul	 ecx, DWORD PTR [eax], 68
  00161	f3 0f 5a 81 10
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?keysite_database@@3PAUKEYSITE_DATA@@A[ecx+16]
  00169	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00171	8b 55 fc	 mov	 edx, DWORD PTR _raw$[ebp]
  00174	f3 0f 5a 8a 94
	00 00 00	 cvtss2sd xmm1, DWORD PTR [edx+148]
  0017c	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00180	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  00184	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00187	f3 0f 11 80 94
	00 00 00	 movss	 DWORD PTR [eax+148], xmm0

; 137  : 	
; 138  : 		raw->supplies.fuel_supply_level += FUEL_USAGE_ACCELERATOR * keysite_database [raw->sub_type].default_supply_usage.fuel_supply_level;

  0018f	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00192	6b 08 44	 imul	 ecx, DWORD PTR [eax], 68
  00195	f3 0f 5a 81 14
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?keysite_database@@3PAUKEYSITE_DATA@@A[ecx+20]
  0019d	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3ff0000000000000
  001a5	8b 55 fc	 mov	 edx, DWORD PTR _raw$[ebp]
  001a8	f3 0f 5a 8a 98
	00 00 00	 cvtss2sd xmm1, DWORD PTR [edx+152]
  001b0	f2 0f 58 c8	 addsd	 xmm1, xmm0
  001b4	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  001b8	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  001bb	f3 0f 11 80 98
	00 00 00	 movss	 DWORD PTR [eax+152], xmm0

; 139  : 				
; 140  : 		update_keysite_cargo (en, raw->supplies.ammo_supply_level, ENTITY_SUB_TYPE_CARGO_AMMO, CARGO_AMMO_SIZE);

  001c3	51		 push	 ecx
  001c4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  001cc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001d1	6a 00		 push	 0
  001d3	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  001d6	51		 push	 ecx
  001d7	f3 0f 10 80 94
	00 00 00	 movss	 xmm0, DWORD PTR [eax+148]
  001df	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001e4	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001e7	51		 push	 ecx
  001e8	e8 00 00 00 00	 call	 ?update_keysite_cargo@@YGXPAUENTITY@@MHM@Z ; update_keysite_cargo

; 141  : 	
; 142  : 		update_keysite_cargo (en, raw->supplies.fuel_supply_level, ENTITY_SUB_TYPE_CARGO_FUEL, CARGO_FUEL_SIZE);

  001ed	51		 push	 ecx
  001ee	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  001f6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001fb	6a 01		 push	 1
  001fd	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00200	51		 push	 ecx
  00201	f3 0f 10 80 98
	00 00 00	 movss	 xmm0, DWORD PTR [eax+152]
  00209	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0020e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00211	51		 push	 ecx
  00212	e8 00 00 00 00	 call	 ?update_keysite_cargo@@YGXPAUENTITY@@MHM@Z ; update_keysite_cargo

; 143  : 		
; 144  : 		raw->supplies.ammo_supply_level = bound (raw->supplies.ammo_supply_level, KEYSITE_MINIMUM_AMMO_SUPPLY_LEVEL, 100.0);

  00217	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0021a	f3 0f 5a 80 94
	00 00 00	 cvtss2sd xmm0, DWORD PTR [eax+148]
  00222	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4024000000000000
  0022a	66 0f 2f c8	 comisd	 xmm1, xmm0
  0022e	76 0f		 jbe	 SHORT $LN19@update_ser
  00230	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4024000000000000
  00238	f2 0f 11 45 ac	 movsd	 QWORD PTR tv195[ebp], xmm0
  0023d	eb 3e		 jmp	 SHORT $LN20@update_ser
$LN19@update_ser:
  0023f	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  00242	f3 0f 5a 81 94
	00 00 00	 cvtss2sd xmm0, DWORD PTR [ecx+148]
  0024a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4059000000000000
  00252	76 0f		 jbe	 SHORT $LN17@update_ser
  00254	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4059000000000000
  0025c	f2 0f 11 45 a4	 movsd	 QWORD PTR tv194[ebp], xmm0
  00261	eb 10		 jmp	 SHORT $LN18@update_ser
$LN17@update_ser:
  00263	8b 55 fc	 mov	 edx, DWORD PTR _raw$[ebp]
  00266	f3 0f 5a 82 94
	00 00 00	 cvtss2sd xmm0, DWORD PTR [edx+148]
  0026e	f2 0f 11 45 a4	 movsd	 QWORD PTR tv194[ebp], xmm0
$LN18@update_ser:
  00273	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR tv194[ebp]
  00278	f2 0f 11 45 ac	 movsd	 QWORD PTR tv195[ebp], xmm0
$LN20@update_ser:
  0027d	f2 0f 5a 45 ac	 cvtsd2ss xmm0, QWORD PTR tv195[ebp]
  00282	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00285	f3 0f 11 80 94
	00 00 00	 movss	 DWORD PTR [eax+148], xmm0

; 145  : 		
; 146  : 		raw->supplies.fuel_supply_level = bound (raw->supplies.fuel_supply_level, KEYSITE_MINIMUM_FUEL_SUPPLY_LEVEL, 100.0);

  0028d	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00290	f3 0f 5a 80 98
	00 00 00	 cvtss2sd xmm0, DWORD PTR [eax+152]
  00298	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4024000000000000
  002a0	66 0f 2f c8	 comisd	 xmm1, xmm0
  002a4	76 0f		 jbe	 SHORT $LN23@update_ser
  002a6	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4024000000000000
  002ae	f2 0f 11 45 ac	 movsd	 QWORD PTR tv211[ebp], xmm0
  002b3	eb 3e		 jmp	 SHORT $LN24@update_ser
$LN23@update_ser:
  002b5	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  002b8	f3 0f 5a 81 98
	00 00 00	 cvtss2sd xmm0, DWORD PTR [ecx+152]
  002c0	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4059000000000000
  002c8	76 0f		 jbe	 SHORT $LN21@update_ser
  002ca	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4059000000000000
  002d2	f2 0f 11 45 a4	 movsd	 QWORD PTR tv210[ebp], xmm0
  002d7	eb 10		 jmp	 SHORT $LN22@update_ser
$LN21@update_ser:
  002d9	8b 55 fc	 mov	 edx, DWORD PTR _raw$[ebp]
  002dc	f3 0f 5a 82 98
	00 00 00	 cvtss2sd xmm0, DWORD PTR [edx+152]
  002e4	f2 0f 11 45 a4	 movsd	 QWORD PTR tv210[ebp], xmm0
$LN22@update_ser:
  002e9	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR tv210[ebp]
  002ee	f2 0f 11 45 ac	 movsd	 QWORD PTR tv211[ebp], xmm0
$LN24@update_ser:
  002f3	f2 0f 5a 45 ac	 cvtsd2ss xmm0, QWORD PTR tv211[ebp]
  002f8	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  002fb	f3 0f 11 80 98
	00 00 00	 movss	 DWORD PTR [eax+152], xmm0
$LN7@update_ser:

; 147  : 	
; 148  : 		#if (DEBUG_MODULE || DEBUG_SUPPLY)
; 149  : 
; 150  : 		if ((keysite_database [raw->sub_type].default_supply_usage.ammo_supply_level < 0.0) || 	
; 151  : 			(keysite_database [raw->sub_type].default_supply_usage.fuel_supply_level < 0.0))
; 152  : 		{
; 153  : 
; 154  : 			debug_log ("KS_UPDT: SUPPLY_INFO: keysite %s %s ammo %.1f, fuel %.1f (usage %.2f, %.2f)",
; 155  : 						raw->keysite_name,
; 156  : 						entity_sub_type_keysite_names [raw->sub_type],
; 157  : 						raw->supplies.ammo_supply_level, raw->supplies.fuel_supply_level,
; 158  : 						keysite_database [raw->sub_type].default_supply_usage.ammo_supply_level,
; 159  : 						keysite_database [raw->sub_type].default_supply_usage.fuel_supply_level);
; 160  : 		}
; 161  : 
; 162  : 		#endif
; 163  : 	}
; 164  : 
; 165  : 	//
; 166  : 	// Check if keysite is being repaired.
; 167  : 	//
; 168  : 
; 169  : 	if (raw->keysite_usable_state == KEYSITE_STATE_REPAIRING)

  00303	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00306	8b 88 a0 01 00
	00		 mov	 ecx, DWORD PTR [eax+416]
  0030c	c1 e9 1a	 shr	 ecx, 26			; 0000001aH
  0030f	83 e1 07	 and	 ecx, 7
  00312	83 f9 02	 cmp	 ecx, 2
  00315	0f 85 d6 00 00
	00		 jne	 $LN8@update_ser

; 170  : 	{
; 171  : 		raw->repair_timer -= get_delta_time ();

  0031b	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0031e	f3 0f 10 40 7c	 movss	 xmm0, DWORD PTR [eax+124]
  00323	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0032b	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  0032e	f3 0f 11 41 7c	 movss	 DWORD PTR [ecx+124], xmm0

; 172  : 
; 173  : 		if (raw->repair_timer <= 0.0)

  00333	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00336	f3 0f 5a 40 7c	 cvtss2sd xmm0, DWORD PTR [eax+124]
  0033b	0f 57 c9	 xorps	 xmm1, xmm1
  0033e	66 0f 2f c8	 comisd	 xmm1, xmm0
  00342	0f 82 a4 00 00
	00		 jb	 $LN11@update_ser

; 174  : 		{
; 175  : 			raw->repair_timer = 0.0;

  00348	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0034b	0f 57 c0	 xorps	 xmm0, xmm0
  0034e	f3 0f 11 40 7c	 movss	 DWORD PTR [eax+124], xmm0

; 176  : 
; 177  : 			if (!repair_client_server_entity_keysite (en))

  00353	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00356	50		 push	 eax
  00357	e8 00 00 00 00	 call	 ?repair_client_server_entity_keysite@@YGHPAUENTITY@@@Z ; repair_client_server_entity_keysite
  0035c	85 c0		 test	 eax, eax
  0035e	0f 85 88 00 00
	00		 jne	 $LN11@update_ser

; 178  : 			{
; 179  : 				//
; 180  : 				// All buildings repaired - set state back to usable
; 181  : 				//
; 182  : 
; 183  : 				set_client_server_entity_int_value (en, INT_TYPE_KEYSITE_USABLE_STATE, KEYSITE_STATE_USABLE);

  00364	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00368	74 0a		 je	 SHORT $LN25@update_ser
  0036a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0036d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0036f	89 4d b0	 mov	 DWORD PTR tv233[ebp], ecx
  00372	eb 21		 jmp	 SHORT $LN26@update_ser
$LN25@update_ser:
  00374	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  0037a	83 c2 64	 add	 edx, 100		; 00000064H
  0037d	52		 push	 edx
  0037e	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00383	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00388	50		 push	 eax
  00389	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0038e	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv233[ebp], 0
$LN26@update_ser:
  00395	b9 01 00 00 00	 mov	 ecx, 1
  0039a	85 c9		 test	 ecx, ecx
  0039c	74 09		 je	 SHORT $LN27@update_ser
  0039e	c7 45 ac 70 00
	00 00		 mov	 DWORD PTR tv241[ebp], 112 ; 00000070H
  003a5	eb 21		 jmp	 SHORT $LN28@update_ser
$LN27@update_ser:
  003a7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  003ad	83 c2 64	 add	 edx, 100		; 00000064H
  003b0	52		 push	 edx
  003b1	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  003b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  003bb	50		 push	 eax
  003bc	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003c1	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv241[ebp], 0
$LN28@update_ser:
  003c8	6a 00		 push	 0
  003ca	6a 70		 push	 112			; 00000070H
  003cc	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  003cf	51		 push	 ecx
  003d0	69 55 b0 b8 08
	00 00		 imul	 edx, DWORD PTR tv233[ebp], 2232
  003d7	8b 45 ac	 mov	 eax, DWORD PTR tv241[ebp]
  003da	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  003e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  003e7	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  003ea	ff d0		 call	 eax
$LN11@update_ser:

; 184  : 			}
; 185  : 		}
; 186  : 	}
; 187  : 	else

  003ec	e9 17 02 00 00	 jmp	 $LN15@update_ser
$LN8@update_ser:

; 188  : 	{
; 189  : 		//
; 190  : 		// Check if keysite needs repairing.
; 191  : 		//
; 192  : 
; 193  : 		if (raw->keysite_strength < raw->keysite_maximum_strength)

  003f1	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  003f4	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  003f7	f3 0f 10 40 78	 movss	 xmm0, DWORD PTR [eax+120]
  003fc	0f 2f 41 74	 comiss	 xmm0, DWORD PTR [ecx+116]
  00400	0f 86 02 02 00
	00		 jbe	 $LN15@update_ser

; 194  : 		{
; 195  : 			if (keysite_database [raw->sub_type].repairable)

  00406	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00409	6b 08 44	 imul	 ecx, DWORD PTR [eax], 68
  0040c	8b 91 40 00 00
	00		 mov	 edx, DWORD PTR ?keysite_database@@3PAUKEYSITE_DATA@@A[ecx+64]
  00412	c1 ea 07	 shr	 edx, 7
  00415	83 e2 01	 and	 edx, 1
  00418	0f 84 ea 01 00
	00		 je	 $LN15@update_ser

; 196  : 			{
; 197  : 				side = (entity_sides) get_local_entity_int_value (en, INT_TYPE_SIDE);

  0041e	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00422	74 0a		 je	 SHORT $LN29@update_ser
  00424	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00427	8b 08		 mov	 ecx, DWORD PTR [eax]
  00429	89 4d b0	 mov	 DWORD PTR tv265[ebp], ecx
  0042c	eb 21		 jmp	 SHORT $LN30@update_ser
$LN29@update_ser:
  0042e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  00434	83 c2 72	 add	 edx, 114		; 00000072H
  00437	52		 push	 edx
  00438	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0043d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00442	50		 push	 eax
  00443	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00448	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv265[ebp], 0
$LN30@update_ser:
  0044f	b9 01 00 00 00	 mov	 ecx, 1
  00454	85 c9		 test	 ecx, ecx
  00456	74 09		 je	 SHORT $LN31@update_ser
  00458	c7 45 ac bb 00
	00 00		 mov	 DWORD PTR tv273[ebp], 187 ; 000000bbH
  0045f	eb 21		 jmp	 SHORT $LN32@update_ser
$LN31@update_ser:
  00461	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  00467	83 c2 72	 add	 edx, 114		; 00000072H
  0046a	52		 push	 edx
  0046b	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00470	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00475	50		 push	 eax
  00476	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0047b	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv273[ebp], 0
$LN32@update_ser:
  00482	68 bb 00 00 00	 push	 187			; 000000bbH
  00487	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0048a	51		 push	 ecx
  0048b	69 55 b0 5c 04
	00 00		 imul	 edx, DWORD PTR tv265[ebp], 1116
  00492	8b 45 ac	 mov	 eax, DWORD PTR tv273[ebp]
  00495	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0049c	ff d1		 call	 ecx
  0049e	89 45 f8	 mov	 DWORD PTR _side$[ebp], eax

; 198  : 
; 199  : 				if (!entity_is_object_of_task (en, ENTITY_SUB_TYPE_TASK_REPAIR, side))

  004a1	8b 45 f8	 mov	 eax, DWORD PTR _side$[ebp]
  004a4	50		 push	 eax
  004a5	6a 12		 push	 18			; 00000012H
  004a7	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  004aa	51		 push	 ecx
  004ab	e8 00 00 00 00	 call	 ?entity_is_object_of_task@@YGHPAUENTITY@@HW4ENTITY_SIDES@@@Z ; entity_is_object_of_task
  004b0	85 c0		 test	 eax, eax
  004b2	0f 85 50 01 00
	00		 jne	 $LN15@update_ser

; 200  : 				{
; 201  : 					pos = get_local_entity_vec3d_ptr (en, VEC3D_TYPE_POSITION);

  004b8	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  004bc	74 0a		 je	 SHORT $LN33@update_ser
  004be	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  004c1	8b 08		 mov	 ecx, DWORD PTR [eax]
  004c3	89 4d b0	 mov	 DWORD PTR tv290[ebp], ecx
  004c6	eb 21		 jmp	 SHORT $LN34@update_ser
$LN33@update_ser:
  004c8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  004ce	83 c2 76	 add	 edx, 118		; 00000076H
  004d1	52		 push	 edx
  004d2	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  004d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004dc	50		 push	 eax
  004dd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004e2	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv290[ebp], 0
$LN34@update_ser:
  004e9	b9 01 00 00 00	 mov	 ecx, 1
  004ee	85 c9		 test	 ecx, ecx
  004f0	74 09		 je	 SHORT $LN35@update_ser
  004f2	c7 45 ac 08 00
	00 00		 mov	 DWORD PTR tv298[ebp], 8
  004f9	eb 21		 jmp	 SHORT $LN36@update_ser
$LN35@update_ser:
  004fb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  00501	83 c2 76	 add	 edx, 118		; 00000076H
  00504	52		 push	 edx
  00505	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0050a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0050f	50		 push	 eax
  00510	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00515	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv298[ebp], 0
$LN36@update_ser:
  0051c	6a 08		 push	 8
  0051e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00521	51		 push	 ecx
  00522	6b 55 b0 60	 imul	 edx, DWORD PTR tv290[ebp], 96
  00526	8b 45 ac	 mov	 eax, DWORD PTR tv298[ebp]
  00529	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00530	ff d1		 call	 ecx
  00532	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 202  : 
; 203  : 					if (create_repair_task (side, pos, en, 10.0, NULL, NULL))

  00535	6a 00		 push	 0
  00537	6a 00		 push	 0
  00539	51		 push	 ecx
  0053a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00542	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00547	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0054a	50		 push	 eax
  0054b	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  0054e	51		 push	 ecx
  0054f	8b 55 f8	 mov	 edx, DWORD PTR _side$[ebp]
  00552	52		 push	 edx
  00553	e8 00 00 00 00	 call	 ?create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@M22@Z ; create_repair_task
  00558	85 c0		 test	 eax, eax
  0055a	0f 84 a8 00 00
	00		 je	 $LN15@update_ser

; 204  : 					{
; 205  : 						ai_log ("(KEYSITE) Creating REPAIR mission to %s (strength %f / %f)", get_local_entity_string (en, STRING_TYPE_KEYSITE_NAME), raw->keysite_strength, raw->keysite_maximum_strength);

  00560	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00564	74 0a		 je	 SHORT $LN37@update_ser
  00566	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00569	8b 08		 mov	 ecx, DWORD PTR [eax]
  0056b	89 4d b0	 mov	 DWORD PTR tv324[ebp], ecx
  0056e	eb 21		 jmp	 SHORT $LN38@update_ser
$LN37@update_ser:
  00570	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  00576	83 c2 7a	 add	 edx, 122		; 0000007aH
  00579	52		 push	 edx
  0057a	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0057f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00584	50		 push	 eax
  00585	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0058a	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv324[ebp], 0
$LN38@update_ser:
  00591	b9 01 00 00 00	 mov	 ecx, 1
  00596	85 c9		 test	 ecx, ecx
  00598	74 09		 je	 SHORT $LN39@update_ser
  0059a	c7 45 ac 07 00
	00 00		 mov	 DWORD PTR tv332[ebp], 7
  005a1	eb 21		 jmp	 SHORT $LN40@update_ser
$LN39@update_ser:
  005a3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  005a9	83 c2 7a	 add	 edx, 122		; 0000007aH
  005ac	52		 push	 edx
  005ad	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@NHGJCJMI@c?3?2users?2nhv90?2projects?2eech?2ap@
  005b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_string_type_message@@3PBDB ; overload_invalid_string_type_message
  005b7	50		 push	 eax
  005b8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005bd	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv332[ebp], 0
$LN40@update_ser:
  005c4	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  005c7	f3 0f 5a 41 78	 cvtss2sd xmm0, DWORD PTR [ecx+120]
  005cc	83 ec 08	 sub	 esp, 8
  005cf	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  005d4	8b 55 fc	 mov	 edx, DWORD PTR _raw$[ebp]
  005d7	f3 0f 5a 42 74	 cvtss2sd xmm0, DWORD PTR [edx+116]
  005dc	83 ec 08	 sub	 esp, 8
  005df	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  005e4	6a 07		 push	 7
  005e6	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  005e9	50		 push	 eax
  005ea	6b 4d b0 34	 imul	 ecx, DWORD PTR tv324[ebp], 52
  005ee	8b 55 ac	 mov	 edx, DWORD PTR tv332[ebp]
  005f1	8b 84 91 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA[ecx+edx*4]
  005f8	ff d0		 call	 eax
  005fa	50		 push	 eax
  005fb	68 00 00 00 00	 push	 OFFSET ??_C@_0DL@GEJEAKCM@?$CIKEYSITE?$CJ?5Creating?5REPAIR?5missi@
  00600	e8 00 00 00 00	 call	 ?ai_log@@YAXPBDZZ	; ai_log
  00605	83 c4 18	 add	 esp, 24			; 00000018H
$LN15@update_ser:
$LN1@update_ser:

; 206  : 					}
; 207  : 				}
; 208  : 			}
; 209  : 		}
; 210  : 	}
; 211  : }

  00608	5f		 pop	 edi
  00609	5e		 pop	 esi
  0060a	5b		 pop	 ebx
  0060b	8b e5		 mov	 esp, ebp
  0060d	5d		 pop	 ebp
  0060e	c2 04 00	 ret	 4
?update_server@@YGXPAUENTITY@@@Z ENDP			; update_server
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_updt.c
;	COMDAT ?overload_keysite_update_functions@@YGXXZ
_TEXT	SEGMENT
?overload_keysite_update_functions@@YGXXZ PROC		; overload_keysite_update_functions, COMDAT

; 218  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 219  : 	fn_update_client_server_entity[ENTITY_TYPE_KEYSITE][COMMS_MODEL_SERVER]  	= update_server;

  00009	b8 08 00 00 00	 mov	 eax, 8
  0000e	6b c8 0f	 imul	 ecx, eax, 15
  00011	ba 04 00 00 00	 mov	 edx, 4
  00016	6b c2 00	 imul	 eax, edx, 0
  00019	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+eax], OFFSET ?update_server@@YGXPAUENTITY@@@Z ; update_server

; 220  : }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
?overload_keysite_update_functions@@YGXXZ ENDP		; overload_keysite_update_functions
_TEXT	ENDS
END
