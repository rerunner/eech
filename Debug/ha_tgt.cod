; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_havoc_target_acquisition_systems@@YGXXZ ; initialise_havoc_target_acquisition_systems
PUBLIC	?deinitialise_havoc_target_acquisition_systems@@YGXXZ ; deinitialise_havoc_target_acquisition_systems
PUBLIC	?select_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; select_havoc_target_acquisition_system
PUBLIC	?update_havoc_target_acquisition_system@@YGXXZ	; update_havoc_target_acquisition_system
PUBLIC	?centre_havoc_target_acquisition_system@@YGXXZ	; centre_havoc_target_acquisition_system
PUBLIC	?toggle_havoc_show_allied_targets@@YGXXZ	; toggle_havoc_show_allied_targets
PUBLIC	?toggle_havoc_auto_target@@YGXXZ		; toggle_havoc_auto_target
PUBLIC	?toggle_havoc_lock_target@@YGXXZ		; toggle_havoc_lock_target
PUBLIC	?set_havoc_lock_target@@YGXH@Z			; set_havoc_lock_target
PUBLIC	?havoc_target_acquisition_system_misc_function1@@YGXXZ ; havoc_target_acquisition_system_misc_function1
PUBLIC	?havoc_target_acquisition_system_misc_function2@@YGXXZ ; havoc_target_acquisition_system_misc_function2
PUBLIC	??_C@_0CH@DDKDNBNH@Invalid?5target?5acquisition?5syst@ ; `string'
PUBLIC	?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA ; `update_havoc_target_acquisition_system'::`1'::__LINE__Var
PUBLIC	??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?query_TIR_active@@YAHXZ:PROC			; query_TIR_active
EXTRN	?set_view_mode@@YGHW4VIEW_MODES@@@Z:PROC	; set_view_mode
EXTRN	?select_padlock_view_event@@YGXW4PADLOCK_MODES@@@Z:PROC ; select_padlock_view_event
EXTRN	?reset_common_target_acquisition_system_keys@@YGXXZ:PROC ; reset_common_target_acquisition_system_keys
EXTRN	?set_gunship_target@@YGXPAUENTITY@@@Z:PROC	; set_gunship_target
EXTRN	?play_common_cpg_target_acquisition_system_speech@@YGXW4TARGET_ACQUISITION_SYSTEMS@@0H@Z:PROC ; play_common_cpg_target_acquisition_system_speech
EXTRN	?update_common_eo@@YGXXZ:PROC			; update_common_eo
EXTRN	?activate_common_eo@@YGXXZ:PROC			; activate_common_eo
EXTRN	?deactivate_common_eo@@YGXXZ:PROC		; deactivate_common_eo
EXTRN	?slave_common_eo_to_current_target@@YGXXZ:PROC	; slave_common_eo_to_current_target
EXTRN	?laser_is_active@@YGHXZ:PROC			; laser_is_active
EXTRN	?set_laser_is_active@@YGXH@Z:PROC		; set_laser_is_active
EXTRN	?toggle_eo_lock@@YGXXZ:PROC			; toggle_eo_lock
EXTRN	?set_eo_lock@@YGXH@Z:PROC			; set_eo_lock
EXTRN	?update_common_hms@@YGXXZ:PROC			; update_common_hms
EXTRN	?activate_common_hms@@YGXXZ:PROC		; activate_common_hms
EXTRN	?deactivate_common_hms@@YGXXZ:PROC		; deactivate_common_hms
EXTRN	?update_common_ground_radar@@YGXH@Z:PROC	; update_common_ground_radar
EXTRN	?activate_common_ground_radar@@YGXXZ:PROC	; activate_common_ground_radar
EXTRN	?deactivate_common_ground_radar@@YGXXZ:PROC	; deactivate_common_ground_radar
EXTRN	?toggle_ground_radar_active@@YGXXZ:PROC		; toggle_ground_radar_active
EXTRN	?ground_radar_is_active@@YGHXZ:PROC		; ground_radar_is_active
EXTRN	?set_ground_radar_is_active@@YGXH@Z:PROC	; set_ground_radar_is_active
EXTRN	?update_common_air_radar@@YGXXZ:PROC		; update_common_air_radar
EXTRN	?activate_common_air_radar@@YGXXZ:PROC		; activate_common_air_radar
EXTRN	?deactivate_common_air_radar@@YGXXZ:PROC	; deactivate_common_air_radar
EXTRN	?toggle_air_radar_active@@YGXXZ:PROC		; toggle_air_radar_active
EXTRN	?air_radar_is_active@@YGHXZ:PROC		; air_radar_is_active
EXTRN	?set_air_radar_is_active@@YGXH@Z:PROC		; set_air_radar_is_active
EXTRN	?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z:PROC ; update_weapon_lock_type
EXTRN	?initialise_havoc_eo@@YGXXZ:PROC		; initialise_havoc_eo
EXTRN	?deinitialise_havoc_eo@@YGXXZ:PROC		; deinitialise_havoc_eo
EXTRN	?update_havoc_eo@@YGXPAUEO_PARAMS@@@Z:PROC	; update_havoc_eo
EXTRN	?centre_havoc_eo@@YGXXZ:PROC			; centre_havoc_eo
EXTRN	?initialise_havoc_hms@@YGXXZ:PROC		; initialise_havoc_hms
EXTRN	?deinitialise_havoc_hms@@YGXXZ:PROC		; deinitialise_havoc_hms
EXTRN	?update_havoc_hms@@YGXXZ:PROC			; update_havoc_hms
EXTRN	?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z:PROC	; select_havoc_mfd_mode
EXTRN	?get_havoc_mfd_mode@@YG?AW4MFD_MODES@@XZ:PROC	; get_havoc_mfd_mode
EXTRN	?initialise_havoc_radar@@YGXXZ:PROC		; initialise_havoc_radar
EXTRN	?deinitialise_havoc_radar@@YGXXZ:PROC		; deinitialise_havoc_radar
EXTRN	?update_havoc_ground_radar@@YGXXZ:PROC		; update_havoc_ground_radar
EXTRN	?centre_havoc_ground_radar@@YGXXZ:PROC		; centre_havoc_ground_radar
EXTRN	?update_havoc_air_radar@@YGXXZ:PROC		; update_havoc_air_radar
EXTRN	?centre_havoc_air_radar@@YGXXZ:PROC		; centre_havoc_air_radar
EXTRN	?command_line_manual_laser_radar@@3HA:DWORD	; command_line_manual_laser_radar
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?view_mode@@3W4VIEW_MODES@@A:DWORD		; view_mode
EXTRN	?in_cockpit@@3HA:DWORD				; in_cockpit
EXTRN	?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A:DWORD ; target_acquisition_system
EXTRN	?target_locked@@3HA:DWORD			; target_locked
EXTRN	?hms_target_locked@@3HA:DWORD			; hms_target_locked
EXTRN	?hud_mode@@3W4HUD_MODES@@A:DWORD		; hud_mode
EXTRN	?ground_radar@@3URADAR_PARAMS@@A:BYTE		; ground_radar
EXTRN	?air_radar@@3URADAR_PARAMS@@A:BYTE		; air_radar
EXTRN	?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A:DWORD ; comanche_damage
EXTRN	?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A:DWORD	; havoc_damage
EXTRN	?havoc_flir@@3UEO_PARAMS@@A:BYTE		; havoc_flir
EXTRN	?havoc_llltv@@3UEO_PARAMS@@A:BYTE		; havoc_llltv
;	COMDAT ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_t'
	DB	'gt.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA DD 0156H ; `update_havoc_target_acquisition_system'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CH@DDKDNBNH@Invalid?5target?5acquisition?5syst@
CONST	SEGMENT
??_C@_0CH@DDKDNBNH@Invalid?5target?5acquisition?5syst@ DB 'Invalid target'
	DB	' acquisition system = %d', 00H		; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?deselect_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z
_TEXT	SEGMENT
tv64 = -68						; size = 4
_system$ = 8						; size = 4
?deselect_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z PROC ; deselect_havoc_target_acquisition_system, COMDAT

; 106  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 107  : 	switch (system)

  00009	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  0000c	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  0000f	83 7d bc 0a	 cmp	 DWORD PTR tv64[ebp], 10	; 0000000aH
  00013	77 51		 ja	 SHORT $LN13@deselect_h
  00015	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  00018	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN15@deselect_h[ecx*4]
$LN4@deselect_h:

; 108  : 	{
; 109  : 		////////////////////////////////////////
; 110  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 111  : 		////////////////////////////////////////
; 112  : 		{
; 113  : 			// laser is on in all modes but OFF in automatic mode
; 114  : 			if (!command_line_manual_laser_radar)

  0001f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  00026	75 07		 jne	 SHORT $LN5@deselect_h

; 115  : 				set_laser_is_active(TRUE);

  00028	6a 01		 push	 1
  0002a	e8 00 00 00 00	 call	 ?set_laser_is_active@@YGXH@Z ; set_laser_is_active
$LN5@deselect_h:

; 116  : 			
; 117  : 			break;

  0002f	eb 46		 jmp	 SHORT $LN1@deselect_h
$LN6@deselect_h:

; 118  : 		}
; 119  : 		////////////////////////////////////////
; 120  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 121  : 		////////////////////////////////////////
; 122  : 		{
; 123  : 			if (!command_line_manual_laser_radar)

  00031	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  00038	75 05		 jne	 SHORT $LN7@deselect_h

; 124  : 				deactivate_common_ground_radar ();

  0003a	e8 00 00 00 00	 call	 ?deactivate_common_ground_radar@@YGXXZ ; deactivate_common_ground_radar
$LN7@deselect_h:

; 125  : 
; 126  : 			break;

  0003f	eb 36		 jmp	 SHORT $LN1@deselect_h
$LN8@deselect_h:

; 127  : 		}
; 128  : 		////////////////////////////////////////
; 129  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 130  : 		////////////////////////////////////////
; 131  : 		{
; 132  : 			if (!command_line_manual_laser_radar)

  00041	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  00048	75 05		 jne	 SHORT $LN9@deselect_h

; 133  : 				deactivate_common_air_radar ();

  0004a	e8 00 00 00 00	 call	 ?deactivate_common_air_radar@@YGXXZ ; deactivate_common_air_radar
$LN9@deselect_h:

; 134  : 
; 135  : 			break;

  0004f	eb 26		 jmp	 SHORT $LN1@deselect_h
$LN10@deselect_h:

; 136  : 		}
; 137  : 		////////////////////////////////////////
; 138  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 139  : 		////////////////////////////////////////
; 140  : 		{
; 141  : 			deactivate_common_eo ();

  00051	e8 00 00 00 00	 call	 ?deactivate_common_eo@@YGXXZ ; deactivate_common_eo

; 142  : 
; 143  : 			break;

  00056	eb 1f		 jmp	 SHORT $LN1@deselect_h
$LN11@deselect_h:

; 144  : 		}
; 145  : 		////////////////////////////////////////
; 146  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 147  : 		////////////////////////////////////////
; 148  : 		{
; 149  : 			deactivate_common_eo ();

  00058	e8 00 00 00 00	 call	 ?deactivate_common_eo@@YGXXZ ; deactivate_common_eo

; 150  : 
; 151  : 			break;

  0005d	eb 18		 jmp	 SHORT $LN1@deselect_h
$LN12@deselect_h:

; 152  : 		}
; 153  : 		////////////////////////////////////////
; 154  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 155  : 		////////////////////////////////////////
; 156  : 		{
; 157  : 			deactivate_common_hms ();

  0005f	e8 00 00 00 00	 call	 ?deactivate_common_hms@@YGXXZ ; deactivate_common_hms

; 158  : 
; 159  : 			break;

  00064	eb 11		 jmp	 SHORT $LN1@deselect_h
$LN13@deselect_h:

; 160  : 		}
; 161  : 		////////////////////////////////////////
; 162  : 		default:
; 163  : 		////////////////////////////////////////
; 164  : 		{
; 165  : 			debug_fatal ("Invalid target acquisition system = %d", system);

  00066	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  00069	50		 push	 eax
  0006a	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@DDKDNBNH@Invalid?5target?5acquisition?5syst@
  0006f	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00074	83 c4 08	 add	 esp, 8
$LN1@deselect_h:

; 166  : 
; 167  : 			break;
; 168  : 		}
; 169  : 	}
; 170  : }

  00077	5f		 pop	 edi
  00078	5e		 pop	 esi
  00079	5b		 pop	 ebx
  0007a	8b e5		 mov	 esp, ebp
  0007c	5d		 pop	 ebp
  0007d	c2 04 00	 ret	 4
$LN15@deselect_h:
  00080	00 00 00 00	 DD	 $LN4@deselect_h
  00084	00 00 00 00	 DD	 $LN6@deselect_h
  00088	00 00 00 00	 DD	 $LN8@deselect_h
  0008c	00 00 00 00	 DD	 $LN10@deselect_h
  00090	00 00 00 00	 DD	 $LN13@deselect_h
  00094	00 00 00 00	 DD	 $LN13@deselect_h
  00098	00 00 00 00	 DD	 $LN11@deselect_h
  0009c	00 00 00 00	 DD	 $LN13@deselect_h
  000a0	00 00 00 00	 DD	 $LN13@deselect_h
  000a4	00 00 00 00	 DD	 $LN13@deselect_h
  000a8	00 00 00 00	 DD	 $LN12@deselect_h
?deselect_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ENDP ; deselect_havoc_target_acquisition_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?havoc_target_acquisition_system_misc_function2@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?havoc_target_acquisition_system_misc_function2@@YGXXZ PROC ; havoc_target_acquisition_system_misc_function2, COMDAT

; 867  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 868  : 	switch (target_acquisition_system)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 0a	 cmp	 DWORD PTR tv64[ebp], 10	; 0000000aH
  00015	0f 87 b5 00 00
	00		 ja	 $LN1@havoc_targ
  0001b	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  0001e	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN19@havoc_targ[ecx]
  00025	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN20@havoc_targ[edx*4]
$LN4@havoc_targ:

; 869  : 	{
; 870  : 		////////////////////////////////////////
; 871  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 872  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 873  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 874  : 		case TARGET_ACQUISITION_SYSTEM_DTV:
; 875  : 		case TARGET_ACQUISITION_SYSTEM_DVO:
; 876  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 877  : 		////////////////////////////////////////
; 878  : 		{
; 879  : 			if (ground_radar.sweep_mode == RADAR_SWEEP_MODE_SINGLE_INACTIVE)

  0002c	83 3d 28 00 00
	00 01		 cmp	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 1
  00033	75 1d		 jne	 SHORT $LN5@havoc_targ

; 880  : 			{
; 881  : 				if (!havoc_damage.radar)

  00035	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  0003a	83 e0 01	 and	 eax, 1
  0003d	75 11		 jne	 SHORT $LN7@havoc_targ

; 882  : 				{
; 883  : 					ground_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_ACTIVE;

  0003f	c7 05 28 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 2

; 884  : 					set_ground_radar_is_active(TRUE);

  00049	6a 01		 push	 1
  0004b	e8 00 00 00 00	 call	 ?set_ground_radar_is_active@@YGXH@Z ; set_ground_radar_is_active
$LN7@havoc_targ:

; 885  : 				}
; 886  : 			}

  00050	eb 2b		 jmp	 SHORT $LN6@havoc_targ
$LN5@havoc_targ:

; 887  : 			else if (ground_radar.sweep_mode == RADAR_SWEEP_MODE_SINGLE_ACTIVE)

  00052	83 3d 28 00 00
	00 02		 cmp	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 2
  00059	75 13		 jne	 SHORT $LN8@havoc_targ

; 888  : 			{
; 889  : 				ground_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_INACTIVE;

  0005b	c7 05 28 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 1

; 890  : 				set_ground_radar_is_active(FALSE);

  00065	6a 00		 push	 0
  00067	e8 00 00 00 00	 call	 ?set_ground_radar_is_active@@YGXH@Z ; set_ground_radar_is_active
  0006c	eb 0f		 jmp	 SHORT $LN6@havoc_targ
$LN8@havoc_targ:

; 891  : 			}
; 892  : 			else if (!havoc_damage.radar)

  0006e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00073	83 e0 01	 and	 eax, 1
  00076	75 05		 jne	 SHORT $LN6@havoc_targ

; 893  : 				toggle_ground_radar_active();

  00078	e8 00 00 00 00	 call	 ?toggle_ground_radar_active@@YGXXZ ; toggle_ground_radar_active
$LN6@havoc_targ:

; 894  : 
; 895  : 			break;

  0007d	eb 51		 jmp	 SHORT $LN1@havoc_targ
$LN11@havoc_targ:

; 896  : 		}
; 897  : 		////////////////////////////////////////
; 898  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 899  : 		////////////////////////////////////////
; 900  : 		{
; 901  : 			if (air_radar.sweep_mode == RADAR_SWEEP_MODE_SINGLE_INACTIVE)

  0007f	83 3d 28 00 00
	00 01		 cmp	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 1
  00086	75 1d		 jne	 SHORT $LN12@havoc_targ

; 902  : 			{
; 903  : 				if (!havoc_damage.radar)

  00088	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  0008d	83 e0 01	 and	 eax, 1
  00090	75 11		 jne	 SHORT $LN14@havoc_targ

; 904  : 				{
; 905  : 					air_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_ACTIVE;

  00092	c7 05 28 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 2

; 906  : 					set_air_radar_is_active(TRUE);

  0009c	6a 01		 push	 1
  0009e	e8 00 00 00 00	 call	 ?set_air_radar_is_active@@YGXH@Z ; set_air_radar_is_active
$LN14@havoc_targ:

; 907  : 				}
; 908  : 			}

  000a3	eb 2b		 jmp	 SHORT $LN1@havoc_targ
$LN12@havoc_targ:

; 909  : 			else if (air_radar.sweep_mode == RADAR_SWEEP_MODE_SINGLE_ACTIVE)

  000a5	83 3d 28 00 00
	00 02		 cmp	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 2
  000ac	75 13		 jne	 SHORT $LN15@havoc_targ

; 910  : 			{
; 911  : 				air_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_INACTIVE;

  000ae	c7 05 28 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 1

; 912  : 				set_air_radar_is_active(FALSE);

  000b8	6a 00		 push	 0
  000ba	e8 00 00 00 00	 call	 ?set_air_radar_is_active@@YGXH@Z ; set_air_radar_is_active
  000bf	eb 0f		 jmp	 SHORT $LN1@havoc_targ
$LN15@havoc_targ:

; 913  : 			}
; 914  : 			else if (!havoc_damage.radar)

  000c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  000c6	83 e0 01	 and	 eax, 1
  000c9	75 05		 jne	 SHORT $LN1@havoc_targ

; 915  : 				toggle_air_radar_active();

  000cb	e8 00 00 00 00	 call	 ?toggle_air_radar_active@@YGXXZ ; toggle_air_radar_active
$LN1@havoc_targ:

; 916  : 
; 917  : 			break;
; 918  : 		}
; 919  : 	}
; 920  : }

  000d0	5f		 pop	 edi
  000d1	5e		 pop	 esi
  000d2	5b		 pop	 ebx
  000d3	8b e5		 mov	 esp, ebp
  000d5	5d		 pop	 ebp
  000d6	c3		 ret	 0
  000d7	90		 npad	 1
$LN20@havoc_targ:
  000d8	00 00 00 00	 DD	 $LN4@havoc_targ
  000dc	00 00 00 00	 DD	 $LN11@havoc_targ
  000e0	00 00 00 00	 DD	 $LN1@havoc_targ
$LN19@havoc_targ:
  000e4	00		 DB	 0
  000e5	00		 DB	 0
  000e6	01		 DB	 1
  000e7	00		 DB	 0
  000e8	00		 DB	 0
  000e9	00		 DB	 0
  000ea	02		 DB	 2
  000eb	02		 DB	 2
  000ec	02		 DB	 2
  000ed	02		 DB	 2
  000ee	00		 DB	 0
?havoc_target_acquisition_system_misc_function2@@YGXXZ ENDP ; havoc_target_acquisition_system_misc_function2
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?havoc_target_acquisition_system_misc_function1@@YGXXZ
_TEXT	SEGMENT
tv83 = -68						; size = 4
tv73 = -68						; size = 4
tv64 = -68						; size = 4
?havoc_target_acquisition_system_misc_function1@@YGXXZ PROC ; havoc_target_acquisition_system_misc_function1, COMDAT

; 803  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 804  : 	switch (target_acquisition_system)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 0a	 cmp	 DWORD PTR tv64[ebp], 10	; 0000000aH
  00015	0f 87 f3 00 00
	00		 ja	 $LN1@havoc_targ
  0001b	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  0001e	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN23@havoc_targ[ecx]
  00025	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN24@havoc_targ[edx*4]
$LN4@havoc_targ:

; 805  : 	{
; 806  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 807  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 808  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 809  : 		case TARGET_ACQUISITION_SYSTEM_DTV:
; 810  : 		case TARGET_ACQUISITION_SYSTEM_DVO:
; 811  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 812  : 		{
; 813  : 			if (havoc_damage.radar)

  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00031	83 e0 01	 and	 eax, 1
  00034	74 10		 je	 SHORT $LN5@havoc_targ

; 814  : 			{
; 815  : 				set_ground_radar_is_active(FALSE);

  00036	6a 00		 push	 0
  00038	e8 00 00 00 00	 call	 ?set_ground_radar_is_active@@YGXH@Z ; set_ground_radar_is_active

; 816  : 				set_air_radar_is_active(FALSE);

  0003d	6a 00		 push	 0
  0003f	e8 00 00 00 00	 call	 ?set_air_radar_is_active@@YGXH@Z ; set_air_radar_is_active
  00044	eb 56		 jmp	 SHORT $LN6@havoc_targ
$LN5@havoc_targ:

; 817  : 			}
; 818  : 			else if (ground_radar.sweep_mode == RADAR_SWEEP_MODE_CONTINUOUS)

  00046	83 3d 28 00 00
	00 00		 cmp	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 0
  0004d	75 21		 jne	 SHORT $LN7@havoc_targ

; 819  : 			{
; 820  : 				if (ground_radar_is_active())

  0004f	e8 00 00 00 00	 call	 ?ground_radar_is_active@@YGHXZ ; ground_radar_is_active
  00054	85 c0		 test	 eax, eax
  00056	74 0c		 je	 SHORT $LN9@havoc_targ

; 821  : 					ground_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_ACTIVE;

  00058	c7 05 28 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 2

; 822  : 				else

  00062	eb 0a		 jmp	 SHORT $LN10@havoc_targ
$LN9@havoc_targ:

; 823  : 					ground_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_INACTIVE;

  00064	c7 05 28 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 1
$LN10@havoc_targ:

; 824  : 			}
; 825  : 			else

  0006e	eb 2c		 jmp	 SHORT $LN6@havoc_targ
$LN7@havoc_targ:

; 826  : 			{
; 827  : 				set_ground_radar_is_active(ground_radar.sweep_mode == RADAR_SWEEP_MODE_SINGLE_ACTIVE);

  00070	83 3d 28 00 00
	00 02		 cmp	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 2
  00077	75 09		 jne	 SHORT $LN19@havoc_targ
  00079	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv73[ebp], 1
  00080	eb 07		 jmp	 SHORT $LN20@havoc_targ
$LN19@havoc_targ:
  00082	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN20@havoc_targ:
  00089	8b 45 bc	 mov	 eax, DWORD PTR tv73[ebp]
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?set_ground_radar_is_active@@YGXH@Z ; set_ground_radar_is_active

; 828  : 				
; 829  : 				ground_radar.sweep_mode = RADAR_SWEEP_MODE_CONTINUOUS;

  00092	c7 05 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 0
$LN6@havoc_targ:

; 830  : 			}
; 831  : 
; 832  : 			break;

  0009c	eb 70		 jmp	 SHORT $LN1@havoc_targ
$LN11@havoc_targ:

; 833  : 		}
; 834  : 		////////////////////////////////////////
; 835  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 836  : 		////////////////////////////////////////
; 837  : 		{
; 838  : 			if (havoc_damage.radar)

  0009e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  000a3	83 e0 01	 and	 eax, 1
  000a6	74 10		 je	 SHORT $LN12@havoc_targ

; 839  : 			{
; 840  : 				set_ground_radar_is_active(FALSE);

  000a8	6a 00		 push	 0
  000aa	e8 00 00 00 00	 call	 ?set_ground_radar_is_active@@YGXH@Z ; set_ground_radar_is_active

; 841  : 				set_air_radar_is_active(FALSE);

  000af	6a 00		 push	 0
  000b1	e8 00 00 00 00	 call	 ?set_air_radar_is_active@@YGXH@Z ; set_air_radar_is_active
  000b6	eb 56		 jmp	 SHORT $LN1@havoc_targ
$LN12@havoc_targ:

; 842  : 			}
; 843  : 			else if (air_radar.sweep_mode == RADAR_SWEEP_MODE_CONTINUOUS)

  000b8	83 3d 28 00 00
	00 00		 cmp	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 0
  000bf	75 21		 jne	 SHORT $LN14@havoc_targ

; 844  : 			{
; 845  : 				if (air_radar_is_active())

  000c1	e8 00 00 00 00	 call	 ?air_radar_is_active@@YGHXZ ; air_radar_is_active
  000c6	85 c0		 test	 eax, eax
  000c8	74 0c		 je	 SHORT $LN16@havoc_targ

; 846  : 					air_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_ACTIVE;

  000ca	c7 05 28 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 2

; 847  : 				else

  000d4	eb 0a		 jmp	 SHORT $LN17@havoc_targ
$LN16@havoc_targ:

; 848  : 					air_radar.sweep_mode = RADAR_SWEEP_MODE_SINGLE_INACTIVE;

  000d6	c7 05 28 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 1
$LN17@havoc_targ:

; 849  : 			}
; 850  : 			else

  000e0	eb 2c		 jmp	 SHORT $LN1@havoc_targ
$LN14@havoc_targ:

; 851  : 			{
; 852  : 				set_air_radar_is_active(air_radar.sweep_mode == RADAR_SWEEP_MODE_SINGLE_ACTIVE);

  000e2	83 3d 28 00 00
	00 02		 cmp	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 2
  000e9	75 09		 jne	 SHORT $LN21@havoc_targ
  000eb	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv83[ebp], 1
  000f2	eb 07		 jmp	 SHORT $LN22@havoc_targ
$LN21@havoc_targ:
  000f4	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN22@havoc_targ:
  000fb	8b 45 bc	 mov	 eax, DWORD PTR tv83[ebp]
  000fe	50		 push	 eax
  000ff	e8 00 00 00 00	 call	 ?set_air_radar_is_active@@YGXH@Z ; set_air_radar_is_active

; 853  : 				
; 854  : 				air_radar.sweep_mode = RADAR_SWEEP_MODE_CONTINUOUS;

  00104	c7 05 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 0
$LN1@havoc_targ:

; 855  : 			}
; 856  : 
; 857  : 			break;
; 858  : 		}
; 859  : 	}
; 860  : }

  0010e	5f		 pop	 edi
  0010f	5e		 pop	 esi
  00110	5b		 pop	 ebx
  00111	8b e5		 mov	 esp, ebp
  00113	5d		 pop	 ebp
  00114	c3		 ret	 0
  00115	0f 1f 00	 npad	 3
$LN24@havoc_targ:
  00118	00 00 00 00	 DD	 $LN4@havoc_targ
  0011c	00 00 00 00	 DD	 $LN11@havoc_targ
  00120	00 00 00 00	 DD	 $LN1@havoc_targ
$LN23@havoc_targ:
  00124	00		 DB	 0
  00125	00		 DB	 0
  00126	01		 DB	 1
  00127	00		 DB	 0
  00128	00		 DB	 0
  00129	00		 DB	 0
  0012a	02		 DB	 2
  0012b	02		 DB	 2
  0012c	02		 DB	 2
  0012d	02		 DB	 2
  0012e	00		 DB	 0
?havoc_target_acquisition_system_misc_function1@@YGXXZ ENDP ; havoc_target_acquisition_system_misc_function1
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?set_havoc_lock_target@@YGXH@Z
_TEXT	SEGMENT
tv64 = -68						; size = 4
_lock$ = 8						; size = 4
?set_havoc_lock_target@@YGXH@Z PROC			; set_havoc_lock_target, COMDAT

; 753  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 754  : 	switch (target_acquisition_system)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  00014	83 e9 01	 sub	 ecx, 1
  00017	89 4d bc	 mov	 DWORD PTR tv64[ebp], ecx
  0001a	83 7d bc 09	 cmp	 DWORD PTR tv64[ebp], 9
  0001e	77 3a		 ja	 SHORT $LN1@set_havoc_
  00020	8b 55 bc	 mov	 edx, DWORD PTR tv64[ebp]
  00023	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN10@set_havoc_[edx]
  0002a	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN11@set_havoc_[eax*4]

; 755  : 	{
; 756  : 		////////////////////////////////////////
; 757  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 758  : 		////////////////////////////////////////
; 759  : 		{
; 760  : 			break;

  00031	eb 27		 jmp	 SHORT $LN1@set_havoc_
$LN5@set_havoc_:

; 761  : 		}
; 762  : 		////////////////////////////////////////
; 763  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 764  : 		////////////////////////////////////////
; 765  : 		{
; 766  : 			ground_radar.target_locked = lock;

  00033	8b 45 08	 mov	 eax, DWORD PTR _lock$[ebp]
  00036	a3 20 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+32, eax

; 767  : 
; 768  : 			break;

  0003b	eb 1d		 jmp	 SHORT $LN1@set_havoc_
$LN6@set_havoc_:

; 769  : 		}
; 770  : 		////////////////////////////////////////
; 771  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 772  : 		////////////////////////////////////////
; 773  : 		{
; 774  : 			air_radar.target_locked = lock;

  0003d	8b 45 08	 mov	 eax, DWORD PTR _lock$[ebp]
  00040	a3 20 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+32, eax

; 775  : 
; 776  : 			break;

  00045	eb 13		 jmp	 SHORT $LN1@set_havoc_
$LN7@set_havoc_:

; 777  : 		}
; 778  : 		////////////////////////////////////////
; 779  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 780  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 781  : 		////////////////////////////////////////
; 782  : 		{
; 783  : 			set_eo_lock(lock);

  00047	8b 45 08	 mov	 eax, DWORD PTR _lock$[ebp]
  0004a	50		 push	 eax
  0004b	e8 00 00 00 00	 call	 ?set_eo_lock@@YGXH@Z	; set_eo_lock

; 784  : 
; 785  : 			break;

  00050	eb 08		 jmp	 SHORT $LN1@set_havoc_
$LN8@set_havoc_:

; 786  : 		}
; 787  : 		////////////////////////////////////////
; 788  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 789  : 		////////////////////////////////////////
; 790  : 		{
; 791  : 			hms_target_locked = lock;

  00052	8b 45 08	 mov	 eax, DWORD PTR _lock$[ebp]
  00055	a3 00 00 00 00	 mov	 DWORD PTR ?hms_target_locked@@3HA, eax ; hms_target_locked
$LN1@set_havoc_:

; 792  : 
; 793  : 			break;
; 794  : 		}
; 795  : 	}
; 796  : }

  0005a	5f		 pop	 edi
  0005b	5e		 pop	 esi
  0005c	5b		 pop	 ebx
  0005d	8b e5		 mov	 esp, ebp
  0005f	5d		 pop	 ebp
  00060	c2 04 00	 ret	 4
  00063	90		 npad	 1
$LN11@set_havoc_:
  00064	00 00 00 00	 DD	 $LN5@set_havoc_
  00068	00 00 00 00	 DD	 $LN6@set_havoc_
  0006c	00 00 00 00	 DD	 $LN7@set_havoc_
  00070	00 00 00 00	 DD	 $LN8@set_havoc_
  00074	00 00 00 00	 DD	 $LN1@set_havoc_
$LN10@set_havoc_:
  00078	00		 DB	 0
  00079	01		 DB	 1
  0007a	02		 DB	 2
  0007b	04		 DB	 4
  0007c	04		 DB	 4
  0007d	02		 DB	 2
  0007e	04		 DB	 4
  0007f	04		 DB	 4
  00080	04		 DB	 4
  00081	03		 DB	 3
?set_havoc_lock_target@@YGXH@Z ENDP			; set_havoc_lock_target
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?toggle_havoc_lock_target@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?toggle_havoc_lock_target@@YGXXZ PROC			; toggle_havoc_lock_target, COMDAT

; 688  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 689  : 	switch (target_acquisition_system)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  00014	83 e9 01	 sub	 ecx, 1
  00017	89 4d bc	 mov	 DWORD PTR tv64[ebp], ecx
  0001a	83 7d bc 09	 cmp	 DWORD PTR tv64[ebp], 9
  0001e	77 72		 ja	 SHORT $LN1@toggle_hav
  00020	8b 55 bc	 mov	 edx, DWORD PTR tv64[ebp]
  00023	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN14@toggle_hav[edx]
  0002a	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN15@toggle_hav[eax*4]

; 690  : 	{
; 691  : 		////////////////////////////////////////
; 692  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 693  : 		////////////////////////////////////////
; 694  : 		{
; 695  : 			break;

  00031	eb 5f		 jmp	 SHORT $LN1@toggle_hav
$LN5@toggle_hav:

; 696  : 		}
; 697  : 		////////////////////////////////////////
; 698  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 699  : 		////////////////////////////////////////
; 700  : 		{
; 701  : 			ground_radar.target_locked ^= 1;

  00033	a1 20 00 00 00	 mov	 eax, DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+32
  00038	83 f0 01	 xor	 eax, 1
  0003b	a3 20 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+32, eax

; 702  : 
; 703  : 			break;

  00040	eb 50		 jmp	 SHORT $LN1@toggle_hav
$LN6@toggle_hav:

; 704  : 		}
; 705  : 		////////////////////////////////////////
; 706  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 707  : 		////////////////////////////////////////
; 708  : 		{
; 709  : 			air_radar.target_locked ^= 1;

  00042	a1 20 00 00 00	 mov	 eax, DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+32
  00047	83 f0 01	 xor	 eax, 1
  0004a	a3 20 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+32, eax

; 710  : 
; 711  : 			break;

  0004f	eb 41		 jmp	 SHORT $LN1@toggle_hav
$LN7@toggle_hav:

; 712  : 		}
; 713  : 		////////////////////////////////////////
; 714  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 715  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 716  : 		////////////////////////////////////////
; 717  : 		{
; 718  : 			toggle_eo_lock();

  00051	e8 00 00 00 00	 call	 ?toggle_eo_lock@@YGXXZ	; toggle_eo_lock

; 719  : 
; 720  : 			break;

  00056	eb 3a		 jmp	 SHORT $LN1@toggle_hav
$LN8@toggle_hav:

; 721  : 		}
; 722  : 		////////////////////////////////////////
; 723  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 724  : 		////////////////////////////////////////
; 725  : 		{
; 726  : 			hms_target_locked ^= 1;

  00058	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hms_target_locked@@3HA ; hms_target_locked
  0005d	83 f0 01	 xor	 eax, 1
  00060	a3 00 00 00 00	 mov	 DWORD PTR ?hms_target_locked@@3HA, eax ; hms_target_locked

; 727  : 
; 728  : 			if (hms_target_locked)

  00065	74 1b		 je	 SHORT $LN9@toggle_hav

; 729  : 			{
; 730  : 				if (in_cockpit && !query_TIR_active())

  00067	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?in_cockpit@@3HA, 0 ; in_cockpit
  0006e	74 10		 je	 SHORT $LN11@toggle_hav
  00070	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  00075	85 c0		 test	 eax, eax
  00077	75 07		 jne	 SHORT $LN11@toggle_hav

; 731  : 				{
; 732  : 					set_view_mode (VIEW_MODE_VIRTUAL_COCKPIT_TRACK_TARGET);

  00079	6a 22		 push	 34			; 00000022H
  0007b	e8 00 00 00 00	 call	 ?set_view_mode@@YGHW4VIEW_MODES@@@Z ; set_view_mode
$LN11@toggle_hav:

; 733  : 				}
; 734  : 			}
; 735  : 			else

  00080	eb 10		 jmp	 SHORT $LN1@toggle_hav
$LN9@toggle_hav:

; 736  : 			{
; 737  : 				if (get_view_mode () == VIEW_MODE_VIRTUAL_COCKPIT_TRACK_TARGET)

  00082	83 3d 00 00 00
	00 22		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 34 ; view_mode, 00000022H
  00089	75 07		 jne	 SHORT $LN1@toggle_hav

; 738  : 				{
; 739  : 					select_padlock_view_event (PADLOCK_MODE_NONE);

  0008b	6a 00		 push	 0
  0008d	e8 00 00 00 00	 call	 ?select_padlock_view_event@@YGXW4PADLOCK_MODES@@@Z ; select_padlock_view_event
$LN1@toggle_hav:

; 740  : 				}
; 741  : 			}
; 742  : 
; 743  : 			break;
; 744  : 		}
; 745  : 	}
; 746  : }

  00092	5f		 pop	 edi
  00093	5e		 pop	 esi
  00094	5b		 pop	 ebx
  00095	8b e5		 mov	 esp, ebp
  00097	5d		 pop	 ebp
  00098	c3		 ret	 0
  00099	0f 1f 00	 npad	 3
$LN15@toggle_hav:
  0009c	00 00 00 00	 DD	 $LN5@toggle_hav
  000a0	00 00 00 00	 DD	 $LN6@toggle_hav
  000a4	00 00 00 00	 DD	 $LN7@toggle_hav
  000a8	00 00 00 00	 DD	 $LN8@toggle_hav
  000ac	00 00 00 00	 DD	 $LN1@toggle_hav
$LN14@toggle_hav:
  000b0	00		 DB	 0
  000b1	01		 DB	 1
  000b2	02		 DB	 2
  000b3	04		 DB	 4
  000b4	04		 DB	 4
  000b5	02		 DB	 2
  000b6	04		 DB	 4
  000b7	04		 DB	 4
  000b8	04		 DB	 4
  000b9	03		 DB	 3
?toggle_havoc_lock_target@@YGXXZ ENDP			; toggle_havoc_lock_target
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?toggle_havoc_auto_target@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?toggle_havoc_auto_target@@YGXXZ PROC			; toggle_havoc_auto_target, COMDAT

; 637  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 638  : 	switch (target_acquisition_system)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 01	 cmp	 DWORD PTR tv64[ebp], 1
  00015	74 0a		 je	 SHORT $LN5@toggle_hav
  00017	83 7d bc 02	 cmp	 DWORD PTR tv64[ebp], 2
  0001b	74 13		 je	 SHORT $LN6@toggle_hav
  0001d	eb 1e		 jmp	 SHORT $LN1@toggle_hav

; 639  : 	{
; 640  : 		////////////////////////////////////////
; 641  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 642  : 		////////////////////////////////////////
; 643  : 		{
; 644  : 			break;

  0001f	eb 1c		 jmp	 SHORT $LN1@toggle_hav
$LN5@toggle_hav:

; 645  : 		}
; 646  : 		////////////////////////////////////////
; 647  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 648  : 		////////////////////////////////////////
; 649  : 		{
; 650  : 			ground_radar.auto_target ^= 1;

  00021	a1 24 00 00 00	 mov	 eax, DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+36
  00026	83 f0 01	 xor	 eax, 1
  00029	a3 24 00 00 00	 mov	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+36, eax

; 651  : 
; 652  : 			break;

  0002e	eb 0d		 jmp	 SHORT $LN1@toggle_hav
$LN6@toggle_hav:

; 653  : 		}
; 654  : 		////////////////////////////////////////
; 655  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 656  : 		////////////////////////////////////////
; 657  : 		{
; 658  : 			air_radar.auto_target ^= 1;

  00030	a1 24 00 00 00	 mov	 eax, DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+36
  00035	83 f0 01	 xor	 eax, 1
  00038	a3 24 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+36, eax
$LN1@toggle_hav:

; 659  : 
; 660  : 			break;
; 661  : 		}
; 662  : 		////////////////////////////////////////
; 663  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 664  : 		////////////////////////////////////////
; 665  : 		{
; 666  : 			break;
; 667  : 		}
; 668  : 		////////////////////////////////////////
; 669  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 670  : 		////////////////////////////////////////
; 671  : 		{
; 672  : 			break;
; 673  : 		}
; 674  : 		////////////////////////////////////////
; 675  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 676  : 		////////////////////////////////////////
; 677  : 		{
; 678  : 			break;
; 679  : 		}
; 680  : 	}
; 681  : }

  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi
  0003f	5b		 pop	 ebx
  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c3		 ret	 0
?toggle_havoc_auto_target@@YGXXZ ENDP			; toggle_havoc_auto_target
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?toggle_havoc_show_allied_targets@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?toggle_havoc_show_allied_targets@@YGXXZ PROC		; toggle_havoc_show_allied_targets, COMDAT

; 588  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 589  : 	switch (target_acquisition_system)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 02	 cmp	 DWORD PTR tv64[ebp], 2
  00015	74 06		 je	 SHORT $LN6@toggle_hav
  00017	eb 11		 jmp	 SHORT $LN1@toggle_hav

; 590  : 	{
; 591  : 		////////////////////////////////////////
; 592  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 593  : 		////////////////////////////////////////
; 594  : 		{
; 595  : 			break;

  00019	eb 0f		 jmp	 SHORT $LN1@toggle_hav

; 596  : 		}
; 597  : 		////////////////////////////////////////
; 598  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 599  : 		////////////////////////////////////////
; 600  : 		{
; 601  : 			break;

  0001b	eb 0d		 jmp	 SHORT $LN1@toggle_hav
$LN6@toggle_hav:

; 602  : 		}
; 603  : 		////////////////////////////////////////
; 604  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 605  : 		////////////////////////////////////////
; 606  : 		{
; 607  : 			air_radar.show_allied_targets ^= 1;

  0001d	a1 1c 00 00 00	 mov	 eax, DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+28
  00022	83 f0 01	 xor	 eax, 1
  00025	a3 1c 00 00 00	 mov	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+28, eax
$LN1@toggle_hav:

; 608  : 
; 609  : 			break;
; 610  : 		}
; 611  : 		////////////////////////////////////////
; 612  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 613  : 		////////////////////////////////////////
; 614  : 		{
; 615  : 			break;
; 616  : 		}
; 617  : 		////////////////////////////////////////
; 618  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 619  : 		////////////////////////////////////////
; 620  : 		{
; 621  : 			break;
; 622  : 		}
; 623  : 		////////////////////////////////////////
; 624  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 625  : 		////////////////////////////////////////
; 626  : 		{
; 627  : 			break;
; 628  : 		}
; 629  : 	}
; 630  : }

  0002a	5f		 pop	 edi
  0002b	5e		 pop	 esi
  0002c	5b		 pop	 ebx
  0002d	8b e5		 mov	 esp, ebp
  0002f	5d		 pop	 ebp
  00030	c3		 ret	 0
?toggle_havoc_show_allied_targets@@YGXXZ ENDP		; toggle_havoc_show_allied_targets
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?centre_havoc_target_acquisition_system@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?centre_havoc_target_acquisition_system@@YGXXZ PROC	; centre_havoc_target_acquisition_system, COMDAT

; 533  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 534  : 	switch (target_acquisition_system)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  00014	83 e9 01	 sub	 ecx, 1
  00017	89 4d bc	 mov	 DWORD PTR tv64[ebp], ecx
  0001a	83 7d bc 05	 cmp	 DWORD PTR tv64[ebp], 5
  0001e	77 26		 ja	 SHORT $LN1@centre_hav
  00020	8b 55 bc	 mov	 edx, DWORD PTR tv64[ebp]
  00023	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN11@centre_hav[edx*4]

; 535  : 	{
; 536  : 		////////////////////////////////////////
; 537  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 538  : 		////////////////////////////////////////
; 539  : 		{
; 540  : 			break;

  0002a	eb 1a		 jmp	 SHORT $LN1@centre_hav
$LN5@centre_hav:

; 541  : 		}
; 542  : 		////////////////////////////////////////
; 543  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 544  : 		////////////////////////////////////////
; 545  : 		{
; 546  : 			centre_havoc_ground_radar ();

  0002c	e8 00 00 00 00	 call	 ?centre_havoc_ground_radar@@YGXXZ ; centre_havoc_ground_radar

; 547  : 
; 548  : 			break;

  00031	eb 13		 jmp	 SHORT $LN1@centre_hav
$LN6@centre_hav:

; 549  : 		}
; 550  : 		////////////////////////////////////////
; 551  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 552  : 		////////////////////////////////////////
; 553  : 		{
; 554  : 			centre_havoc_air_radar ();

  00033	e8 00 00 00 00	 call	 ?centre_havoc_air_radar@@YGXXZ ; centre_havoc_air_radar

; 555  : 
; 556  : 			break;

  00038	eb 0c		 jmp	 SHORT $LN1@centre_hav
$LN7@centre_hav:

; 557  : 		}
; 558  : 		////////////////////////////////////////
; 559  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 560  : 		////////////////////////////////////////
; 561  : 		{
; 562  : 			centre_havoc_eo ();

  0003a	e8 00 00 00 00	 call	 ?centre_havoc_eo@@YGXXZ	; centre_havoc_eo

; 563  : 
; 564  : 			break;

  0003f	eb 05		 jmp	 SHORT $LN1@centre_hav
$LN8@centre_hav:

; 565  : 		}
; 566  : 		////////////////////////////////////////
; 567  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 568  : 		////////////////////////////////////////
; 569  : 		{
; 570  : 			centre_havoc_eo ();

  00041	e8 00 00 00 00	 call	 ?centre_havoc_eo@@YGXXZ	; centre_havoc_eo
$LN1@centre_hav:

; 571  : 
; 572  : 			break;
; 573  : 		}
; 574  : 		////////////////////////////////////////
; 575  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 576  : 		////////////////////////////////////////
; 577  : 		{
; 578  : 			break;
; 579  : 		}
; 580  : 	}
; 581  : }

  00046	5f		 pop	 edi
  00047	5e		 pop	 esi
  00048	5b		 pop	 ebx
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
  0004d	0f 1f 00	 npad	 3
$LN11@centre_hav:
  00050	00 00 00 00	 DD	 $LN5@centre_hav
  00054	00 00 00 00	 DD	 $LN6@centre_hav
  00058	00 00 00 00	 DD	 $LN7@centre_hav
  0005c	00 00 00 00	 DD	 $LN1@centre_hav
  00060	00 00 00 00	 DD	 $LN1@centre_hav
  00064	00 00 00 00	 DD	 $LN8@centre_hav
?centre_havoc_target_acquisition_system@@YGXXZ ENDP	; centre_havoc_target_acquisition_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?update_havoc_target_acquisition_system@@YGXXZ
_TEXT	SEGMENT
tv285 = -92						; size = 4
tv264 = -92						; size = 4
tv245 = -92						; size = 4
tv221 = -92						; size = 4
tv200 = -92						; size = 4
tv174 = -92						; size = 4
tv153 = -92						; size = 4
tv129 = -92						; size = 4
tv277 = -88						; size = 4
tv257 = -88						; size = 4
tv237 = -88						; size = 4
tv230 = -88						; size = 4
tv213 = -88						; size = 4
tv193 = -88						; size = 4
tv187 = -88						; size = 4
tv166 = -88						; size = 4
tv146 = -88						; size = 4
tv89 = -88						; size = 4
tv73 = -88						; size = 4
_los_to_target$1 = -20					; size = 4
_laser_on$2 = -16					; size = 4
_radar_on$3 = -12					; size = 4
_target$4 = -8						; size = 4
_source$5 = -4						; size = 4
?update_havoc_target_acquisition_system@@YGXXZ PROC	; update_havoc_target_acquisition_system, COMDAT

; 342  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 343  : 	if (havoc_damage.helmet_mounted_sight)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  0000e	c1 e8 11	 shr	 eax, 17			; 00000011H
  00011	83 e0 01	 and	 eax, 1
  00014	74 13		 je	 SHORT $LN6@update_hav

; 344  : 	{
; 345  : 		if (hud_mode == HUD_MODE_WEAPON)

  00016	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, 2 ; hud_mode
  0001d	75 0a		 jne	 SHORT $LN6@update_hav

; 346  : 		{
; 347  : 			hud_mode = HUD_MODE_NAVIGATION;

  0001f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, 0 ; hud_mode
$LN6@update_hav:

; 348  : 		}
; 349  : 	}
; 350  : 
; 351  : 	if (ground_radar_is_active())

  00029	e8 00 00 00 00	 call	 ?ground_radar_is_active@@YGHXZ ; ground_radar_is_active
  0002e	85 c0		 test	 eax, eax
  00030	74 09		 je	 SHORT $LN8@update_hav

; 352  : 		update_common_ground_radar(FALSE);

  00032	6a 00		 push	 0
  00034	e8 00 00 00 00	 call	 ?update_common_ground_radar@@YGXH@Z ; update_common_ground_radar
  00039	eb 0e		 jmp	 SHORT $LN9@update_hav
$LN8@update_hav:

; 353  : 	else if (air_radar_is_active())

  0003b	e8 00 00 00 00	 call	 ?air_radar_is_active@@YGHXZ ; air_radar_is_active
  00040	85 c0		 test	 eax, eax
  00042	74 05		 je	 SHORT $LN9@update_hav

; 354  : 		update_common_air_radar();

  00044	e8 00 00 00 00	 call	 ?update_common_air_radar@@YGXXZ ; update_common_air_radar
$LN9@update_hav:

; 355  : 
; 356  : 	switch (target_acquisition_system)

  00049	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  0004e	89 45 a8	 mov	 DWORD PTR tv73[ebp], eax
  00051	83 7d a8 0a	 cmp	 DWORD PTR tv73[ebp], 10	; 0000000aH
  00055	0f 87 8e 00 00
	00		 ja	 $LN2@update_hav
  0005b	8b 4d a8	 mov	 ecx, DWORD PTR tv73[ebp]
  0005e	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN65@update_hav[ecx*4]
$LN11@update_hav:

; 357  : 	{
; 358  : 		////////////////////////////////////////
; 359  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 360  : 		////////////////////////////////////////
; 361  : 		{
; 362  : 			target_locked = FALSE;

  00065	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?target_locked@@3HA, 0 ; target_locked

; 363  : 
; 364  : 			update_weapon_lock_type (TARGET_ACQUISITION_SYSTEM_OFF);

  0006f	6a 00		 push	 0
  00071	e8 00 00 00 00	 call	 ?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; update_weapon_lock_type

; 365  : 
; 366  : 			slave_common_eo_to_current_target ();

  00076	e8 00 00 00 00	 call	 ?slave_common_eo_to_current_target@@YGXXZ ; slave_common_eo_to_current_target

; 367  : 
; 368  : 			break;

  0007b	eb 6c		 jmp	 SHORT $LN2@update_hav
$LN12@update_hav:

; 369  : 		}
; 370  : 		////////////////////////////////////////
; 371  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 372  : 		////////////////////////////////////////
; 373  : 		{
; 374  : 			update_havoc_ground_radar ();

  0007d	e8 00 00 00 00	 call	 ?update_havoc_ground_radar@@YGXXZ ; update_havoc_ground_radar

; 375  : 
; 376  : 			update_weapon_lock_type (TARGET_ACQUISITION_SYSTEM_GROUND_RADAR);

  00082	6a 01		 push	 1
  00084	e8 00 00 00 00	 call	 ?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; update_weapon_lock_type

; 377  : 
; 378  : 			slave_common_eo_to_current_target ();

  00089	e8 00 00 00 00	 call	 ?slave_common_eo_to_current_target@@YGXXZ ; slave_common_eo_to_current_target

; 379  : 
; 380  : 			break;

  0008e	eb 59		 jmp	 SHORT $LN2@update_hav
$LN13@update_hav:

; 381  : 		}
; 382  : 		////////////////////////////////////////
; 383  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 384  : 		////////////////////////////////////////
; 385  : 		{
; 386  : 			update_havoc_air_radar ();

  00090	e8 00 00 00 00	 call	 ?update_havoc_air_radar@@YGXXZ ; update_havoc_air_radar

; 387  : 
; 388  : 			update_weapon_lock_type (TARGET_ACQUISITION_SYSTEM_AIR_RADAR);

  00095	6a 02		 push	 2
  00097	e8 00 00 00 00	 call	 ?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; update_weapon_lock_type

; 389  : 
; 390  : 			slave_common_eo_to_current_target ();

  0009c	e8 00 00 00 00	 call	 ?slave_common_eo_to_current_target@@YGXXZ ; slave_common_eo_to_current_target

; 391  : 
; 392  : 			break;

  000a1	eb 46		 jmp	 SHORT $LN2@update_hav
$LN14@update_hav:

; 393  : 		}
; 394  : 		////////////////////////////////////////
; 395  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 396  : 		////////////////////////////////////////
; 397  : 		{
; 398  : 			update_havoc_eo (&havoc_flir);

  000a3	68 00 00 00 00	 push	 OFFSET ?havoc_flir@@3UEO_PARAMS@@A ; havoc_flir
  000a8	e8 00 00 00 00	 call	 ?update_havoc_eo@@YGXPAUEO_PARAMS@@@Z ; update_havoc_eo

; 399  : 
; 400  : 			update_common_eo ();

  000ad	e8 00 00 00 00	 call	 ?update_common_eo@@YGXXZ ; update_common_eo

; 401  : 
; 402  : 			update_weapon_lock_type (TARGET_ACQUISITION_SYSTEM_FLIR);

  000b2	6a 03		 push	 3
  000b4	e8 00 00 00 00	 call	 ?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; update_weapon_lock_type

; 403  : 
; 404  : 			break;

  000b9	eb 2e		 jmp	 SHORT $LN2@update_hav
$LN15@update_hav:

; 405  : 		}
; 406  : 		////////////////////////////////////////
; 407  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 408  : 		////////////////////////////////////////
; 409  : 		{
; 410  : 			update_havoc_eo (&havoc_llltv);

  000bb	68 00 00 00 00	 push	 OFFSET ?havoc_llltv@@3UEO_PARAMS@@A ; havoc_llltv
  000c0	e8 00 00 00 00	 call	 ?update_havoc_eo@@YGXPAUEO_PARAMS@@@Z ; update_havoc_eo

; 411  : 
; 412  : 			update_common_eo ();

  000c5	e8 00 00 00 00	 call	 ?update_common_eo@@YGXXZ ; update_common_eo

; 413  : 
; 414  : 			update_weapon_lock_type (TARGET_ACQUISITION_SYSTEM_LLLTV);

  000ca	6a 06		 push	 6
  000cc	e8 00 00 00 00	 call	 ?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; update_weapon_lock_type

; 415  : 
; 416  : 			break;

  000d1	eb 16		 jmp	 SHORT $LN2@update_hav
$LN16@update_hav:

; 417  : 		}
; 418  : 		////////////////////////////////////////
; 419  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 420  : 		////////////////////////////////////////
; 421  : 		{
; 422  : 			update_havoc_hms ();

  000d3	e8 00 00 00 00	 call	 ?update_havoc_hms@@YGXXZ ; update_havoc_hms

; 423  : 
; 424  : 			update_common_hms ();

  000d8	e8 00 00 00 00	 call	 ?update_common_hms@@YGXXZ ; update_common_hms

; 425  : 
; 426  : 			update_weapon_lock_type (TARGET_ACQUISITION_SYSTEM_HMS);

  000dd	6a 0a		 push	 10			; 0000000aH
  000df	e8 00 00 00 00	 call	 ?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; update_weapon_lock_type

; 427  : 
; 428  : 			slave_common_eo_to_current_target ();

  000e4	e8 00 00 00 00	 call	 ?slave_common_eo_to_current_target@@YGXXZ ; slave_common_eo_to_current_target
$LN2@update_hav:

; 429  : 
; 430  : 			break;
; 431  : 		}
; 432  : 	}
; 433  : 
; 434  : 	////////////////////////////////////////
; 435  : 	//
; 436  : 	// radar / laser / los to target
; 437  : 	//
; 438  : 	////////////////////////////////////////
; 439  : 
; 440  : 	{
; 441  : 		entity
; 442  : 			*source,
; 443  : 			*target;
; 444  : 
; 445  : 		int
; 446  : 			radar_on,
; 447  : 			laser_on,
; 448  : 			los_to_target;
; 449  : 
; 450  : 		source = get_gunship_entity ();

  000e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000ee	89 45 fc	 mov	 DWORD PTR _source$5[ebp], eax

; 451  : 
; 452  : 		target = get_local_entity_parent (source, LIST_TYPE_TARGET);

  000f1	83 7d fc 00	 cmp	 DWORD PTR _source$5[ebp], 0
  000f5	74 0a		 je	 SHORT $LN30@update_hav
  000f7	8b 45 fc	 mov	 eax, DWORD PTR _source$5[ebp]
  000fa	8b 08		 mov	 ecx, DWORD PTR [eax]
  000fc	89 4d a8	 mov	 DWORD PTR tv89[ebp], ecx
  000ff	eb 21		 jmp	 SHORT $LN31@update_hav
$LN30@update_hav:
  00101	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00107	83 c2 6e	 add	 edx, 110		; 0000006eH
  0010a	52		 push	 edx
  0010b	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00115	50		 push	 eax
  00116	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011b	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN31@update_hav:
  00122	b9 01 00 00 00	 mov	 ecx, 1
  00127	85 c9		 test	 ecx, ecx
  00129	74 09		 je	 SHORT $LN32@update_hav
  0012b	c7 45 a4 26 00
	00 00		 mov	 DWORD PTR tv129[ebp], 38 ; 00000026H
  00132	eb 21		 jmp	 SHORT $LN33@update_hav
$LN32@update_hav:
  00134	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  0013a	83 c2 6e	 add	 edx, 110		; 0000006eH
  0013d	52		 push	 edx
  0013e	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  00143	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00148	50		 push	 eax
  00149	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0014e	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN33@update_hav:
  00155	6a 26		 push	 38			; 00000026H
  00157	8b 4d fc	 mov	 ecx, DWORD PTR _source$5[ebp]
  0015a	51		 push	 ecx
  0015b	69 55 a8 b4 00
	00 00		 imul	 edx, DWORD PTR tv89[ebp], 180
  00162	8b 45 a4	 mov	 eax, DWORD PTR tv129[ebp]
  00165	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0016c	ff d1		 call	 ecx
  0016e	89 45 f8	 mov	 DWORD PTR _target$4[ebp], eax

; 453  : 
; 454  : 		//
; 455  : 		// radar on/off
; 456  : 		//
; 457  : 
; 458  : 		radar_on = FALSE;

  00171	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _radar_on$3[ebp], 0

; 459  : 
; 460  : 		if (ground_radar_is_active() && ground_radar.sweep_mode != RADAR_SWEEP_MODE_SINGLE_INACTIVE)

  00178	e8 00 00 00 00	 call	 ?ground_radar_is_active@@YGHXZ ; ground_radar_is_active
  0017d	85 c0		 test	 eax, eax
  0017f	74 12		 je	 SHORT $LN17@update_hav
  00181	83 3d 28 00 00
	00 01		 cmp	 DWORD PTR ?ground_radar@@3URADAR_PARAMS@@A+40, 1
  00188	74 09		 je	 SHORT $LN17@update_hav

; 461  : 			radar_on = TRUE;

  0018a	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _radar_on$3[ebp], 1
  00191	eb 19		 jmp	 SHORT $LN18@update_hav
$LN17@update_hav:

; 462  : 
; 463  : 		else if (air_radar_is_active() && air_radar.sweep_mode != RADAR_SWEEP_MODE_SINGLE_INACTIVE)

  00193	e8 00 00 00 00	 call	 ?air_radar_is_active@@YGHXZ ; air_radar_is_active
  00198	85 c0		 test	 eax, eax
  0019a	74 10		 je	 SHORT $LN18@update_hav
  0019c	83 3d 28 00 00
	00 01		 cmp	 DWORD PTR ?air_radar@@3URADAR_PARAMS@@A+40, 1
  001a3	74 07		 je	 SHORT $LN18@update_hav

; 464  : 			radar_on = TRUE;

  001a5	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _radar_on$3[ebp], 1
$LN18@update_hav:

; 465  : 
; 466  : 		if (radar_on != get_local_entity_int_value (source, INT_TYPE_RADAR_ON))

  001ac	83 7d fc 00	 cmp	 DWORD PTR _source$5[ebp], 0
  001b0	74 0a		 je	 SHORT $LN34@update_hav
  001b2	8b 45 fc	 mov	 eax, DWORD PTR _source$5[ebp]
  001b5	8b 08		 mov	 ecx, DWORD PTR [eax]
  001b7	89 4d a8	 mov	 DWORD PTR tv146[ebp], ecx
  001ba	eb 1d		 jmp	 SHORT $LN35@update_hav
$LN34@update_hav:
  001bc	68 d2 01 00 00	 push	 466			; 000001d2H
  001c1	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001cc	52		 push	 edx
  001cd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d2	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv146[ebp], 0
$LN35@update_hav:
  001d9	b8 01 00 00 00	 mov	 eax, 1
  001de	85 c0		 test	 eax, eax
  001e0	74 09		 je	 SHORT $LN36@update_hav
  001e2	c7 45 a4 a9 00
	00 00		 mov	 DWORD PTR tv153[ebp], 169 ; 000000a9H
  001e9	eb 1d		 jmp	 SHORT $LN37@update_hav
$LN36@update_hav:
  001eb	68 d2 01 00 00	 push	 466			; 000001d2H
  001f0	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  001f5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001fb	51		 push	 ecx
  001fc	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00201	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv153[ebp], 0
$LN37@update_hav:
  00208	68 a9 00 00 00	 push	 169			; 000000a9H
  0020d	8b 55 fc	 mov	 edx, DWORD PTR _source$5[ebp]
  00210	52		 push	 edx
  00211	69 45 a8 5c 04
	00 00		 imul	 eax, DWORD PTR tv146[ebp], 1116
  00218	8b 4d a4	 mov	 ecx, DWORD PTR tv153[ebp]
  0021b	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00222	ff d2		 call	 edx
  00224	39 45 f4	 cmp	 DWORD PTR _radar_on$3[ebp], eax
  00227	0f 84 8c 00 00
	00		 je	 $LN20@update_hav

; 467  : 			set_client_server_entity_int_value (source, INT_TYPE_RADAR_ON, radar_on);

  0022d	83 7d fc 00	 cmp	 DWORD PTR _source$5[ebp], 0
  00231	74 0a		 je	 SHORT $LN38@update_hav
  00233	8b 45 fc	 mov	 eax, DWORD PTR _source$5[ebp]
  00236	8b 08		 mov	 ecx, DWORD PTR [eax]
  00238	89 4d a8	 mov	 DWORD PTR tv166[ebp], ecx
  0023b	eb 21		 jmp	 SHORT $LN39@update_hav
$LN38@update_hav:
  0023d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00243	83 c2 7d	 add	 edx, 125		; 0000007dH
  00246	52		 push	 edx
  00247	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  0024c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00251	50		 push	 eax
  00252	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00257	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv166[ebp], 0
$LN39@update_hav:
  0025e	b9 01 00 00 00	 mov	 ecx, 1
  00263	85 c9		 test	 ecx, ecx
  00265	74 09		 je	 SHORT $LN40@update_hav
  00267	c7 45 a4 a9 00
	00 00		 mov	 DWORD PTR tv174[ebp], 169 ; 000000a9H
  0026e	eb 21		 jmp	 SHORT $LN41@update_hav
$LN40@update_hav:
  00270	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00276	83 c2 7d	 add	 edx, 125		; 0000007dH
  00279	52		 push	 edx
  0027a	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  0027f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00284	50		 push	 eax
  00285	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0028a	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv174[ebp], 0
$LN41@update_hav:
  00291	8b 4d f4	 mov	 ecx, DWORD PTR _radar_on$3[ebp]
  00294	51		 push	 ecx
  00295	68 a9 00 00 00	 push	 169			; 000000a9H
  0029a	8b 55 fc	 mov	 edx, DWORD PTR _source$5[ebp]
  0029d	52		 push	 edx
  0029e	69 45 a8 b8 08
	00 00		 imul	 eax, DWORD PTR tv166[ebp], 2232
  002a5	8b 4d a4	 mov	 ecx, DWORD PTR tv174[ebp]
  002a8	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  002af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  002b4	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  002b7	ff d1		 call	 ecx
$LN20@update_hav:

; 468  : 
; 469  : 		//
; 470  : 		// laser on/off
; 471  : 		//
; 472  : 
; 473  : 		laser_on = laser_is_active() && !comanche_damage.laser_designator;

  002b9	e8 00 00 00 00	 call	 ?laser_is_active@@YGHXZ	; laser_is_active
  002be	85 c0		 test	 eax, eax
  002c0	74 16		 je	 SHORT $LN42@update_hav
  002c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A ; comanche_damage
  002c7	c1 e8 04	 shr	 eax, 4
  002ca	83 e0 01	 and	 eax, 1
  002cd	75 09		 jne	 SHORT $LN42@update_hav
  002cf	c7 45 a8 01 00
	00 00		 mov	 DWORD PTR tv187[ebp], 1
  002d6	eb 07		 jmp	 SHORT $LN43@update_hav
$LN42@update_hav:
  002d8	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv187[ebp], 0
$LN43@update_hav:
  002df	8b 4d a8	 mov	 ecx, DWORD PTR tv187[ebp]
  002e2	89 4d f0	 mov	 DWORD PTR _laser_on$2[ebp], ecx

; 474  : 
; 475  : 		if (laser_on != get_local_entity_int_value (source, INT_TYPE_LASER_ON))

  002e5	83 7d fc 00	 cmp	 DWORD PTR _source$5[ebp], 0
  002e9	74 0a		 je	 SHORT $LN44@update_hav
  002eb	8b 45 fc	 mov	 eax, DWORD PTR _source$5[ebp]
  002ee	8b 08		 mov	 ecx, DWORD PTR [eax]
  002f0	89 4d a8	 mov	 DWORD PTR tv193[ebp], ecx
  002f3	eb 1d		 jmp	 SHORT $LN45@update_hav
$LN44@update_hav:
  002f5	68 db 01 00 00	 push	 475			; 000001dbH
  002fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00305	52		 push	 edx
  00306	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0030b	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv193[ebp], 0
$LN45@update_hav:
  00312	b8 01 00 00 00	 mov	 eax, 1
  00317	85 c0		 test	 eax, eax
  00319	74 09		 je	 SHORT $LN46@update_hav
  0031b	c7 45 a4 78 00
	00 00		 mov	 DWORD PTR tv200[ebp], 120 ; 00000078H
  00322	eb 1d		 jmp	 SHORT $LN47@update_hav
$LN46@update_hav:
  00324	68 db 01 00 00	 push	 475			; 000001dbH
  00329	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  0032e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00334	51		 push	 ecx
  00335	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0033a	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv200[ebp], 0
$LN47@update_hav:
  00341	6a 78		 push	 120			; 00000078H
  00343	8b 55 fc	 mov	 edx, DWORD PTR _source$5[ebp]
  00346	52		 push	 edx
  00347	69 45 a8 5c 04
	00 00		 imul	 eax, DWORD PTR tv193[ebp], 1116
  0034e	8b 4d a4	 mov	 ecx, DWORD PTR tv200[ebp]
  00351	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00358	ff d2		 call	 edx
  0035a	39 45 f0	 cmp	 DWORD PTR _laser_on$2[ebp], eax
  0035d	0f 84 8f 00 00
	00		 je	 $LN21@update_hav

; 476  : 		{
; 477  : 			set_client_server_entity_int_value (source, INT_TYPE_LASER_ON, laser_on);

  00363	83 7d fc 00	 cmp	 DWORD PTR _source$5[ebp], 0
  00367	74 0a		 je	 SHORT $LN48@update_hav
  00369	8b 45 fc	 mov	 eax, DWORD PTR _source$5[ebp]
  0036c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0036e	89 4d a8	 mov	 DWORD PTR tv213[ebp], ecx
  00371	eb 24		 jmp	 SHORT $LN49@update_hav
$LN48@update_hav:
  00373	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00379	81 c2 87 00 00
	00		 add	 edx, 135		; 00000087H
  0037f	52		 push	 edx
  00380	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  00385	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0038a	50		 push	 eax
  0038b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00390	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv213[ebp], 0
$LN49@update_hav:
  00397	b9 01 00 00 00	 mov	 ecx, 1
  0039c	85 c9		 test	 ecx, ecx
  0039e	74 09		 je	 SHORT $LN50@update_hav
  003a0	c7 45 a4 78 00
	00 00		 mov	 DWORD PTR tv221[ebp], 120 ; 00000078H
  003a7	eb 24		 jmp	 SHORT $LN51@update_hav
$LN50@update_hav:
  003a9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  003af	81 c2 87 00 00
	00		 add	 edx, 135		; 00000087H
  003b5	52		 push	 edx
  003b6	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  003bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  003c0	50		 push	 eax
  003c1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003c6	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv221[ebp], 0
$LN51@update_hav:
  003cd	8b 4d f0	 mov	 ecx, DWORD PTR _laser_on$2[ebp]
  003d0	51		 push	 ecx
  003d1	6a 78		 push	 120			; 00000078H
  003d3	8b 55 fc	 mov	 edx, DWORD PTR _source$5[ebp]
  003d6	52		 push	 edx
  003d7	69 45 a8 b8 08
	00 00		 imul	 eax, DWORD PTR tv213[ebp], 2232
  003de	8b 4d a4	 mov	 ecx, DWORD PTR tv221[ebp]
  003e1	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  003e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  003ed	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  003f0	ff d1		 call	 ecx
$LN21@update_hav:

; 478  : 		}
; 479  : 
; 480  : 		//
; 481  : 		// line of sight to target
; 482  : 		//
; 483  : 
; 484  : 		if (target)

  003f2	83 7d f8 00	 cmp	 DWORD PTR _target$4[ebp], 0
  003f6	0f 84 c9 00 00
	00		 je	 $LN22@update_hav

; 485  : 		{
; 486  : 			switch (target_acquisition_system)

  003fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  00401	89 45 a8	 mov	 DWORD PTR tv230[ebp], eax
  00404	83 7d a8 0a	 cmp	 DWORD PTR tv230[ebp], 10 ; 0000000aH
  00408	0f 87 b5 00 00
	00		 ja	 $LN4@update_hav
  0040e	8b 4d a8	 mov	 ecx, DWORD PTR tv230[ebp]
  00411	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN64@update_hav[ecx]
  00418	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN66@update_hav[edx*4]
$LN24@update_hav:

; 487  : 			{
; 488  : 				case TARGET_ACQUISITION_SYSTEM_OFF:
; 489  : 				{
; 490  : 					los_to_target = FALSE;

  0041f	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _los_to_target$1[ebp], 0

; 491  : 
; 492  : 					break;

  00426	e9 98 00 00 00	 jmp	 $LN4@update_hav
$LN25@update_hav:

; 493  : 				}
; 494  : 				case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 495  : 				case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 496  : 				{
; 497  : 					los_to_target = get_local_entity_int_value (target, INT_TYPE_GUNSHIP_RADAR_LOS_CLEAR);

  0042b	83 7d f8 00	 cmp	 DWORD PTR _target$4[ebp], 0
  0042f	74 0a		 je	 SHORT $LN52@update_hav
  00431	8b 45 f8	 mov	 eax, DWORD PTR _target$4[ebp]
  00434	8b 08		 mov	 ecx, DWORD PTR [eax]
  00436	89 4d a8	 mov	 DWORD PTR tv237[ebp], ecx
  00439	eb 24		 jmp	 SHORT $LN53@update_hav
$LN52@update_hav:
  0043b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00441	81 c2 9b 00 00
	00		 add	 edx, 155		; 0000009bH
  00447	52		 push	 edx
  00448	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  0044d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00452	50		 push	 eax
  00453	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00458	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv237[ebp], 0
$LN53@update_hav:
  0045f	b9 01 00 00 00	 mov	 ecx, 1
  00464	85 c9		 test	 ecx, ecx
  00466	74 09		 je	 SHORT $LN54@update_hav
  00468	c7 45 a4 50 00
	00 00		 mov	 DWORD PTR tv245[ebp], 80 ; 00000050H
  0046f	eb 24		 jmp	 SHORT $LN55@update_hav
$LN54@update_hav:
  00471	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00477	81 c2 9b 00 00
	00		 add	 edx, 155		; 0000009bH
  0047d	52		 push	 edx
  0047e	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  00483	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00488	50		 push	 eax
  00489	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0048e	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv245[ebp], 0
$LN55@update_hav:
  00495	6a 50		 push	 80			; 00000050H
  00497	8b 4d f8	 mov	 ecx, DWORD PTR _target$4[ebp]
  0049a	51		 push	 ecx
  0049b	69 55 a8 5c 04
	00 00		 imul	 edx, DWORD PTR tv237[ebp], 1116
  004a2	8b 45 a4	 mov	 eax, DWORD PTR tv245[ebp]
  004a5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  004ac	ff d1		 call	 ecx
  004ae	89 45 ec	 mov	 DWORD PTR _los_to_target$1[ebp], eax

; 498  : 
; 499  : 					break;

  004b1	eb 10		 jmp	 SHORT $LN4@update_hav
$LN26@update_hav:

; 500  : 				}
; 501  : 				case TARGET_ACQUISITION_SYSTEM_FLIR:
; 502  : 				case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 503  : 				{
; 504  : 					los_to_target = TRUE;

  004b3	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _los_to_target$1[ebp], 1

; 505  : 
; 506  : 					break;

  004ba	eb 07		 jmp	 SHORT $LN4@update_hav
$LN27@update_hav:

; 507  : 				}
; 508  : 				case TARGET_ACQUISITION_SYSTEM_HMS:
; 509  : 				{
; 510  : 					los_to_target = TRUE;

  004bc	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _los_to_target$1[ebp], 1
$LN4@update_hav:

; 511  : 
; 512  : 					break;
; 513  : 				}
; 514  : 			}
; 515  : 		}
; 516  : 		else

  004c3	eb 07		 jmp	 SHORT $LN23@update_hav
$LN22@update_hav:

; 517  : 		{
; 518  : 			los_to_target = FALSE;

  004c5	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _los_to_target$1[ebp], 0
$LN23@update_hav:

; 519  : 		}
; 520  : 
; 521  : 		if (los_to_target != get_local_entity_int_value (source, INT_TYPE_LOS_TO_TARGET))

  004cc	83 7d fc 00	 cmp	 DWORD PTR _source$5[ebp], 0
  004d0	74 0a		 je	 SHORT $LN56@update_hav
  004d2	8b 45 fc	 mov	 eax, DWORD PTR _source$5[ebp]
  004d5	8b 08		 mov	 ecx, DWORD PTR [eax]
  004d7	89 4d a8	 mov	 DWORD PTR tv257[ebp], ecx
  004da	eb 1d		 jmp	 SHORT $LN57@update_hav
$LN56@update_hav:
  004dc	68 09 02 00 00	 push	 521			; 00000209H
  004e1	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  004e6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004ec	52		 push	 edx
  004ed	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004f2	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv257[ebp], 0
$LN57@update_hav:
  004f9	b8 01 00 00 00	 mov	 eax, 1
  004fe	85 c0		 test	 eax, eax
  00500	74 09		 je	 SHORT $LN58@update_hav
  00502	c7 45 a4 80 00
	00 00		 mov	 DWORD PTR tv264[ebp], 128 ; 00000080H
  00509	eb 1d		 jmp	 SHORT $LN59@update_hav
$LN58@update_hav:
  0050b	68 09 02 00 00	 push	 521			; 00000209H
  00510	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  00515	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0051b	51		 push	 ecx
  0051c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00521	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv264[ebp], 0
$LN59@update_hav:
  00528	68 80 00 00 00	 push	 128			; 00000080H
  0052d	8b 55 fc	 mov	 edx, DWORD PTR _source$5[ebp]
  00530	52		 push	 edx
  00531	69 45 a8 5c 04
	00 00		 imul	 eax, DWORD PTR tv257[ebp], 1116
  00538	8b 4d a4	 mov	 ecx, DWORD PTR tv264[ebp]
  0053b	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00542	ff d2		 call	 edx
  00544	39 45 ec	 cmp	 DWORD PTR _los_to_target$1[ebp], eax
  00547	0f 84 92 00 00
	00		 je	 $LN1@update_hav

; 522  : 		{
; 523  : 			set_client_server_entity_int_value (source, INT_TYPE_LOS_TO_TARGET, los_to_target);

  0054d	83 7d fc 00	 cmp	 DWORD PTR _source$5[ebp], 0
  00551	74 0a		 je	 SHORT $LN60@update_hav
  00553	8b 45 fc	 mov	 eax, DWORD PTR _source$5[ebp]
  00556	8b 08		 mov	 ecx, DWORD PTR [eax]
  00558	89 4d a8	 mov	 DWORD PTR tv277[ebp], ecx
  0055b	eb 24		 jmp	 SHORT $LN61@update_hav
$LN60@update_hav:
  0055d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00563	81 c2 b5 00 00
	00		 add	 edx, 181		; 000000b5H
  00569	52		 push	 edx
  0056a	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  0056f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00574	50		 push	 eax
  00575	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0057a	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv277[ebp], 0
$LN61@update_hav:
  00581	b9 01 00 00 00	 mov	 ecx, 1
  00586	85 c9		 test	 ecx, ecx
  00588	74 09		 je	 SHORT $LN62@update_hav
  0058a	c7 45 a4 80 00
	00 00		 mov	 DWORD PTR tv285[ebp], 128 ; 00000080H
  00591	eb 24		 jmp	 SHORT $LN63@update_hav
$LN62@update_hav:
  00593	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_target_acquisition_system@@YGXXZ@4JA
  00599	81 c2 b5 00 00
	00		 add	 edx, 181		; 000000b5H
  0059f	52		 push	 edx
  005a0	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BFOPHDEJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  005a5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  005aa	50		 push	 eax
  005ab	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005b0	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv285[ebp], 0
$LN63@update_hav:
  005b7	8b 4d ec	 mov	 ecx, DWORD PTR _los_to_target$1[ebp]
  005ba	51		 push	 ecx
  005bb	68 80 00 00 00	 push	 128			; 00000080H
  005c0	8b 55 fc	 mov	 edx, DWORD PTR _source$5[ebp]
  005c3	52		 push	 edx
  005c4	69 45 a8 b8 08
	00 00		 imul	 eax, DWORD PTR tv277[ebp], 2232
  005cb	8b 4d a4	 mov	 ecx, DWORD PTR tv285[ebp]
  005ce	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  005d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  005da	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  005dd	ff d1		 call	 ecx
$LN1@update_hav:

; 524  : 		}
; 525  : 	}
; 526  : }

  005df	5f		 pop	 edi
  005e0	5e		 pop	 esi
  005e1	5b		 pop	 ebx
  005e2	8b e5		 mov	 esp, ebp
  005e4	5d		 pop	 ebp
  005e5	c3		 ret	 0
  005e6	66 90		 npad	 2
$LN65@update_hav:
  005e8	00 00 00 00	 DD	 $LN11@update_hav
  005ec	00 00 00 00	 DD	 $LN12@update_hav
  005f0	00 00 00 00	 DD	 $LN13@update_hav
  005f4	00 00 00 00	 DD	 $LN14@update_hav
  005f8	00 00 00 00	 DD	 $LN2@update_hav
  005fc	00 00 00 00	 DD	 $LN2@update_hav
  00600	00 00 00 00	 DD	 $LN15@update_hav
  00604	00 00 00 00	 DD	 $LN2@update_hav
  00608	00 00 00 00	 DD	 $LN2@update_hav
  0060c	00 00 00 00	 DD	 $LN2@update_hav
  00610	00 00 00 00	 DD	 $LN16@update_hav
$LN66@update_hav:
  00614	00 00 00 00	 DD	 $LN24@update_hav
  00618	00 00 00 00	 DD	 $LN25@update_hav
  0061c	00 00 00 00	 DD	 $LN26@update_hav
  00620	00 00 00 00	 DD	 $LN27@update_hav
  00624	00 00 00 00	 DD	 $LN4@update_hav
$LN64@update_hav:
  00628	00		 DB	 0
  00629	01		 DB	 1
  0062a	01		 DB	 1
  0062b	02		 DB	 2
  0062c	04		 DB	 4
  0062d	04		 DB	 4
  0062e	02		 DB	 2
  0062f	04		 DB	 4
  00630	04		 DB	 4
  00631	04		 DB	 4
  00632	03		 DB	 3
?update_havoc_target_acquisition_system@@YGXXZ ENDP	; update_havoc_target_acquisition_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?select_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z
_TEXT	SEGMENT
tv65 = -80						; size = 4
_damaged$ = -12						; size = 4
_old_system$ = -8					; size = 4
_new_system$ = -4					; size = 4
_system$ = 8						; size = 4
?select_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z PROC ; select_havoc_target_acquisition_system, COMDAT

; 177  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 178  : 	target_acquisition_systems
; 179  : 		new_system,
; 180  : 		old_system;
; 181  : 
; 182  : 	int
; 183  : 		damaged;
; 184  : 
; 185  : 	new_system = system;

  00009	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  0000c	89 45 fc	 mov	 DWORD PTR _new_system$[ebp], eax

; 186  : 	old_system = target_acquisition_system;

  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  00014	89 45 f8	 mov	 DWORD PTR _old_system$[ebp], eax

; 187  : 
; 188  : 	damaged = FALSE;

  00017	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _damaged$[ebp], 0

; 189  : 
; 190  : 	reset_common_target_acquisition_system_keys ();

  0001e	e8 00 00 00 00	 call	 ?reset_common_target_acquisition_system_keys@@YGXXZ ; reset_common_target_acquisition_system_keys

; 191  : 
; 192  : 	deselect_havoc_target_acquisition_system (target_acquisition_system);

  00023	a1 00 00 00 00	 mov	 eax, DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; target_acquisition_system
  00028	50		 push	 eax
  00029	e8 00 00 00 00	 call	 ?deselect_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; deselect_havoc_target_acquisition_system

; 193  : 
; 194  : 	switch (system)

  0002e	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  00031	89 45 b0	 mov	 DWORD PTR tv65[ebp], eax
  00034	83 7d b0 0a	 cmp	 DWORD PTR tv65[ebp], 10	; 0000000aH
  00038	0f 87 ad 01 00
	00		 ja	 $LN22@select_hav
  0003e	8b 4d b0	 mov	 ecx, DWORD PTR tv65[ebp]
  00041	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN24@select_hav[ecx*4]
$LN4@select_hav:

; 195  : 	{
; 196  : 		////////////////////////////////////////
; 197  : 		case TARGET_ACQUISITION_SYSTEM_OFF:
; 198  : 		////////////////////////////////////////
; 199  : 		{
; 200  : 			target_acquisition_system = system;

  00048	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  0004b	a3 00 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, eax ; target_acquisition_system

; 201  : 
; 202  : 			set_gunship_target (NULL);

  00050	6a 00		 push	 0
  00052	e8 00 00 00 00	 call	 ?set_gunship_target@@YGXPAUENTITY@@@Z ; set_gunship_target

; 203  : 
; 204  : 			if (!command_line_manual_laser_radar)

  00057	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  0005e	75 10		 jne	 SHORT $LN5@select_hav

; 205  : 			{
; 206  : 				select_havoc_mfd_mode (MFD_MODE_OFF);

  00060	6a 00		 push	 0
  00062	e8 00 00 00 00	 call	 ?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z ; select_havoc_mfd_mode

; 207  : 				set_laser_is_active(FALSE);

  00067	6a 00		 push	 0
  00069	e8 00 00 00 00	 call	 ?set_laser_is_active@@YGXH@Z ; set_laser_is_active
  0006e	eb 1b		 jmp	 SHORT $LN6@select_hav
$LN5@select_hav:

; 208  : 			}
; 209  : 			else if (get_havoc_mfd_mode() != MFD_MODE_GROUND_RADAR && get_havoc_mfd_mode() != MFD_MODE_AIR_RADAR)

  00070	e8 00 00 00 00	 call	 ?get_havoc_mfd_mode@@YG?AW4MFD_MODES@@XZ ; get_havoc_mfd_mode
  00075	83 f8 02	 cmp	 eax, 2
  00078	74 11		 je	 SHORT $LN6@select_hav
  0007a	e8 00 00 00 00	 call	 ?get_havoc_mfd_mode@@YG?AW4MFD_MODES@@XZ ; get_havoc_mfd_mode
  0007f	83 f8 03	 cmp	 eax, 3
  00082	74 07		 je	 SHORT $LN6@select_hav

; 210  : 				select_havoc_mfd_mode (MFD_MODE_OFF);

  00084	6a 00		 push	 0
  00086	e8 00 00 00 00	 call	 ?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z ; select_havoc_mfd_mode
$LN6@select_hav:

; 211  : 
; 212  : 			#if 0
; 213  : 
; 214  : 			hud_mode = HUD_MODE_NAVIGATION;
; 215  : 
; 216  : 			#endif
; 217  : 
; 218  : 			break;

  0008b	e9 6c 01 00 00	 jmp	 $LN2@select_hav
$LN8@select_hav:

; 219  : 		}
; 220  : 		////////////////////////////////////////
; 221  : 		case TARGET_ACQUISITION_SYSTEM_GROUND_RADAR:
; 222  : 		////////////////////////////////////////
; 223  : 		{
; 224  : 			if (!havoc_damage.radar)

  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00095	83 e0 01	 and	 eax, 1
  00098	75 2c		 jne	 SHORT $LN9@select_hav

; 225  : 			{
; 226  : 				target_acquisition_system = system;

  0009a	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  0009d	a3 00 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, eax ; target_acquisition_system

; 227  : 
; 228  : 				deactivate_common_air_radar();

  000a2	e8 00 00 00 00	 call	 ?deactivate_common_air_radar@@YGXXZ ; deactivate_common_air_radar

; 229  : 				if (!command_line_manual_laser_radar)

  000a7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  000ae	75 05		 jne	 SHORT $LN10@select_hav

; 230  : 					activate_common_ground_radar ();

  000b0	e8 00 00 00 00	 call	 ?activate_common_ground_radar@@YGXXZ ; activate_common_ground_radar
$LN10@select_hav:

; 231  : 
; 232  : 				select_havoc_mfd_mode (MFD_MODE_GROUND_RADAR);

  000b5	6a 02		 push	 2
  000b7	e8 00 00 00 00	 call	 ?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z ; select_havoc_mfd_mode

; 233  : 
; 234  : 				hud_mode = HUD_MODE_WEAPON;

  000bc	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, 2 ; hud_mode
$LN9@select_hav:

; 235  : 			}
; 236  : 
; 237  : 			damaged = havoc_damage.radar;

  000c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  000cb	83 e0 01	 and	 eax, 1
  000ce	89 45 f4	 mov	 DWORD PTR _damaged$[ebp], eax

; 238  : 
; 239  : 			break;

  000d1	e9 26 01 00 00	 jmp	 $LN2@select_hav
$LN11@select_hav:

; 240  : 		}
; 241  : 		////////////////////////////////////////
; 242  : 		case TARGET_ACQUISITION_SYSTEM_AIR_RADAR:
; 243  : 		////////////////////////////////////////
; 244  : 		{
; 245  : 			if (!havoc_damage.radar)

  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  000db	83 e0 01	 and	 eax, 1
  000de	75 2c		 jne	 SHORT $LN12@select_hav

; 246  : 			{
; 247  : 				target_acquisition_system = system;

  000e0	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  000e3	a3 00 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, eax ; target_acquisition_system

; 248  : 
; 249  : 				deactivate_common_ground_radar();

  000e8	e8 00 00 00 00	 call	 ?deactivate_common_ground_radar@@YGXXZ ; deactivate_common_ground_radar

; 250  : 				if (!command_line_manual_laser_radar)

  000ed	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  000f4	75 05		 jne	 SHORT $LN13@select_hav

; 251  : 					activate_common_air_radar ();

  000f6	e8 00 00 00 00	 call	 ?activate_common_air_radar@@YGXXZ ; activate_common_air_radar
$LN13@select_hav:

; 252  : 
; 253  : 				select_havoc_mfd_mode (MFD_MODE_AIR_RADAR);

  000fb	6a 03		 push	 3
  000fd	e8 00 00 00 00	 call	 ?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z ; select_havoc_mfd_mode

; 254  : 
; 255  : 				hud_mode = HUD_MODE_WEAPON;

  00102	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, 2 ; hud_mode
$LN12@select_hav:

; 256  : 			}
; 257  : 
; 258  : 			damaged = havoc_damage.radar;

  0010c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00111	83 e0 01	 and	 eax, 1
  00114	89 45 f4	 mov	 DWORD PTR _damaged$[ebp], eax

; 259  : 
; 260  : 			break;

  00117	e9 e0 00 00 00	 jmp	 $LN2@select_hav
$LN14@select_hav:

; 261  : 		}
; 262  : 		////////////////////////////////////////
; 263  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 264  : 		////////////////////////////////////////
; 265  : 		{
; 266  : 			if (!havoc_damage.flir)

  0011c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00121	d1 e8		 shr	 eax, 1
  00123	83 e0 01	 and	 eax, 1
  00126	75 1e		 jne	 SHORT $LN15@select_hav

; 267  : 			{
; 268  : 				target_acquisition_system = system;

  00128	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  0012b	a3 00 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, eax ; target_acquisition_system

; 269  : 
; 270  : 				activate_common_eo ();

  00130	e8 00 00 00 00	 call	 ?activate_common_eo@@YGXXZ ; activate_common_eo

; 271  : 
; 272  : 				select_havoc_mfd_mode (MFD_MODE_FLIR);

  00135	6a 04		 push	 4
  00137	e8 00 00 00 00	 call	 ?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z ; select_havoc_mfd_mode

; 273  : 
; 274  : 				hud_mode = HUD_MODE_WEAPON;

  0013c	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, 2 ; hud_mode
$LN15@select_hav:

; 275  : 			}
; 276  : 
; 277  : 			damaged = havoc_damage.flir;

  00146	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  0014b	d1 e8		 shr	 eax, 1
  0014d	83 e0 01	 and	 eax, 1
  00150	89 45 f4	 mov	 DWORD PTR _damaged$[ebp], eax

; 278  : 
; 279  : 			break;

  00153	e9 a4 00 00 00	 jmp	 $LN2@select_hav
$LN16@select_hav:

; 280  : 		}
; 281  : 		////////////////////////////////////////
; 282  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 283  : 		////////////////////////////////////////
; 284  : 		{
; 285  : 			if (!havoc_damage.llltv)

  00158	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  0015d	c1 e8 03	 shr	 eax, 3
  00160	83 e0 01	 and	 eax, 1
  00163	75 1e		 jne	 SHORT $LN17@select_hav

; 286  : 			{
; 287  : 				target_acquisition_system = system;

  00165	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  00168	a3 00 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, eax ; target_acquisition_system

; 288  : 
; 289  : 				activate_common_eo ();

  0016d	e8 00 00 00 00	 call	 ?activate_common_eo@@YGXXZ ; activate_common_eo

; 290  : 
; 291  : 				select_havoc_mfd_mode (MFD_MODE_LLLTV);

  00172	6a 07		 push	 7
  00174	e8 00 00 00 00	 call	 ?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z ; select_havoc_mfd_mode

; 292  : 
; 293  : 				hud_mode = HUD_MODE_WEAPON;

  00179	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, 2 ; hud_mode
$LN17@select_hav:

; 294  : 			}
; 295  : 
; 296  : 			damaged = havoc_damage.llltv;

  00183	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00188	c1 e8 03	 shr	 eax, 3
  0018b	83 e0 01	 and	 eax, 1
  0018e	89 45 f4	 mov	 DWORD PTR _damaged$[ebp], eax

; 297  : 
; 298  : 			break;

  00191	eb 69		 jmp	 SHORT $LN2@select_hav
$LN18@select_hav:

; 299  : 		}
; 300  : 		////////////////////////////////////////
; 301  : 		case TARGET_ACQUISITION_SYSTEM_HMS:
; 302  : 		////////////////////////////////////////
; 303  : 		{
; 304  : 			if (!havoc_damage.helmet_mounted_sight)

  00193	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00198	c1 e8 11	 shr	 eax, 17			; 00000011H
  0019b	83 e0 01	 and	 eax, 1
  0019e	75 3b		 jne	 SHORT $LN19@select_hav

; 305  : 			{
; 306  : 				target_acquisition_system = system;

  001a0	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  001a3	a3 00 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, eax ; target_acquisition_system

; 307  : 
; 308  : 				activate_common_hms ();

  001a8	e8 00 00 00 00	 call	 ?activate_common_hms@@YGXXZ ; activate_common_hms

; 309  : 
; 310  : 				if (!command_line_manual_laser_radar
; 311  : 					|| (get_havoc_mfd_mode() != MFD_MODE_GROUND_RADAR

  001ad	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  001b4	74 14		 je	 SHORT $LN21@select_hav
  001b6	e8 00 00 00 00	 call	 ?get_havoc_mfd_mode@@YG?AW4MFD_MODES@@XZ ; get_havoc_mfd_mode
  001bb	83 f8 02	 cmp	 eax, 2
  001be	74 11		 je	 SHORT $LN20@select_hav
  001c0	e8 00 00 00 00	 call	 ?get_havoc_mfd_mode@@YG?AW4MFD_MODES@@XZ ; get_havoc_mfd_mode
  001c5	83 f8 03	 cmp	 eax, 3
  001c8	74 07		 je	 SHORT $LN20@select_hav
$LN21@select_hav:

; 312  : 						&& get_havoc_mfd_mode() != MFD_MODE_AIR_RADAR))
; 313  : 				{
; 314  : 					select_havoc_mfd_mode (MFD_MODE_OFF);

  001ca	6a 00		 push	 0
  001cc	e8 00 00 00 00	 call	 ?select_havoc_mfd_mode@@YGXW4MFD_MODES@@@Z ; select_havoc_mfd_mode
$LN20@select_hav:

; 315  : 				}
; 316  : 
; 317  : 				hud_mode = HUD_MODE_WEAPON;

  001d1	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, 2 ; hud_mode
$LN19@select_hav:

; 318  : 			}
; 319  : 
; 320  : 			damaged = havoc_damage.helmet_mounted_sight;

  001db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  001e0	c1 e8 11	 shr	 eax, 17			; 00000011H
  001e3	83 e0 01	 and	 eax, 1
  001e6	89 45 f4	 mov	 DWORD PTR _damaged$[ebp], eax

; 321  : 
; 322  : 			break;

  001e9	eb 11		 jmp	 SHORT $LN2@select_hav
$LN22@select_hav:

; 323  : 		}
; 324  : 		////////////////////////////////////////
; 325  : 		default:
; 326  : 		////////////////////////////////////////
; 327  : 		{
; 328  : 			debug_fatal ("Invalid target acquisition system = %d", system);

  001eb	8b 45 08	 mov	 eax, DWORD PTR _system$[ebp]
  001ee	50		 push	 eax
  001ef	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@DDKDNBNH@Invalid?5target?5acquisition?5syst@
  001f4	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  001f9	83 c4 08	 add	 esp, 8
$LN2@select_hav:

; 329  : 
; 330  : 			break;
; 331  : 		}
; 332  : 	}
; 333  : 
; 334  : 	play_common_cpg_target_acquisition_system_speech (new_system, old_system, damaged);

  001fc	8b 45 f4	 mov	 eax, DWORD PTR _damaged$[ebp]
  001ff	50		 push	 eax
  00200	8b 4d f8	 mov	 ecx, DWORD PTR _old_system$[ebp]
  00203	51		 push	 ecx
  00204	8b 55 fc	 mov	 edx, DWORD PTR _new_system$[ebp]
  00207	52		 push	 edx
  00208	e8 00 00 00 00	 call	 ?play_common_cpg_target_acquisition_system_speech@@YGXW4TARGET_ACQUISITION_SYSTEMS@@0H@Z ; play_common_cpg_target_acquisition_system_speech

; 335  : }

  0020d	5f		 pop	 edi
  0020e	5e		 pop	 esi
  0020f	5b		 pop	 ebx
  00210	8b e5		 mov	 esp, ebp
  00212	5d		 pop	 ebp
  00213	c2 04 00	 ret	 4
  00216	66 90		 npad	 2
$LN24@select_hav:
  00218	00 00 00 00	 DD	 $LN4@select_hav
  0021c	00 00 00 00	 DD	 $LN8@select_hav
  00220	00 00 00 00	 DD	 $LN11@select_hav
  00224	00 00 00 00	 DD	 $LN14@select_hav
  00228	00 00 00 00	 DD	 $LN22@select_hav
  0022c	00 00 00 00	 DD	 $LN22@select_hav
  00230	00 00 00 00	 DD	 $LN16@select_hav
  00234	00 00 00 00	 DD	 $LN22@select_hav
  00238	00 00 00 00	 DD	 $LN22@select_hav
  0023c	00 00 00 00	 DD	 $LN22@select_hav
  00240	00 00 00 00	 DD	 $LN18@select_hav
?select_havoc_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ENDP ; select_havoc_target_acquisition_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?deinitialise_havoc_target_acquisition_systems@@YGXXZ
_TEXT	SEGMENT
?deinitialise_havoc_target_acquisition_systems@@YGXXZ PROC ; deinitialise_havoc_target_acquisition_systems, COMDAT

; 93   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 94   : 	deinitialise_havoc_radar ();

  00009	e8 00 00 00 00	 call	 ?deinitialise_havoc_radar@@YGXXZ ; deinitialise_havoc_radar

; 95   : 
; 96   : 	deinitialise_havoc_eo ();

  0000e	e8 00 00 00 00	 call	 ?deinitialise_havoc_eo@@YGXXZ ; deinitialise_havoc_eo

; 97   : 
; 98   : 	deinitialise_havoc_hms ();

  00013	e8 00 00 00 00	 call	 ?deinitialise_havoc_hms@@YGXXZ ; deinitialise_havoc_hms

; 99   : }

  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
?deinitialise_havoc_target_acquisition_systems@@YGXXZ ENDP ; deinitialise_havoc_target_acquisition_systems
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_tgt.c
;	COMDAT ?initialise_havoc_target_acquisition_systems@@YGXXZ
_TEXT	SEGMENT
?initialise_havoc_target_acquisition_systems@@YGXXZ PROC ; initialise_havoc_target_acquisition_systems, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	initialise_havoc_radar ();

  00009	e8 00 00 00 00	 call	 ?initialise_havoc_radar@@YGXXZ ; initialise_havoc_radar

; 82   : 
; 83   : 	initialise_havoc_eo ();

  0000e	e8 00 00 00 00	 call	 ?initialise_havoc_eo@@YGXXZ ; initialise_havoc_eo

; 84   : 
; 85   : 	initialise_havoc_hms ();

  00013	e8 00 00 00 00	 call	 ?initialise_havoc_hms@@YGXXZ ; initialise_havoc_hms

; 86   : }

  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
?initialise_havoc_target_acquisition_systems@@YGXXZ ENDP ; initialise_havoc_target_acquisition_systems
_TEXT	ENDS
END
