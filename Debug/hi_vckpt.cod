; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_hind_virtual_cockpit@@YGXXZ		; initialise_hind_virtual_cockpit
PUBLIC	?deinitialise_hind_virtual_cockpit@@YGXXZ	; deinitialise_hind_virtual_cockpit
PUBLIC	?update_hind_virtual_cockpit@@YGXXZ		; update_hind_virtual_cockpit
PUBLIC	?draw_hind_internal_virtual_cockpit@@YGXI@Z	; draw_hind_internal_virtual_cockpit
PUBLIC	?draw_hind_external_virtual_cockpit@@YGXIPAE@Z	; draw_hind_external_virtual_cockpit
PUBLIC	?damage_hind_virtual_cockpit_main_rotors@@YGXH@Z ; damage_hind_virtual_cockpit_main_rotors
PUBLIC	?restore_hind_virtual_cockpit_main_rotors@@YGXXZ ; restore_hind_virtual_cockpit_main_rotors
PUBLIC	??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA ; `get_display_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0BC@FEOJCDHO@display_viewpoint@		; `string'
PUBLIC	??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ ; `string'
PUBLIC	??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ ; `string'
PUBLIC	?__LINE__Var@?0??draw_hind_internal_virtual_cockpit@@YGXI@Z@4JA ; `draw_hind_internal_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??draw_hind_external_virtual_cockpit@@YGXIPAE@Z@4JA ; `draw_hind_external_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	??_C@_0BC@ENKILJCA@wiper_rle_graphic@		; `string'
PUBLIC	?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA ; `damage_hind_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ ; `string'
PUBLIC	??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@ ; `string'
PUBLIC	??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@ ; `string'
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA ; `restore_hind_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	__real@3c8efa35
PUBLIC	__real@3dcccccd
PUBLIC	__real@3e99999a
PUBLIC	__real@3f12f1aa
PUBLIC	__real@3f33f7cf
PUBLIC	__real@3f800000
PUBLIC	__real@3f847ae147ae147b
PUBLIC	__real@41200000
PUBLIC	__real@461c4000
PUBLIC	__real@be860a92
PUBLIC	__real@bf060a92
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_transpose_matrix3x3_vec3d
EXTRN	?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z:PROC ; multiply_matrix3x3_matrix3x3
EXTRN	?lock_screen@@YGHPAUSCREEN@@@Z:PROC		; lock_screen
EXTRN	?unlock_screen@@YGHPAUSCREEN@@@Z:PROC		; unlock_screen
EXTRN	?blit_rle_graphic@@YGXPBEHH@Z:PROC		; blit_rle_graphic
EXTRN	?clear_zbuffer_screen@@YGXXZ:PROC		; clear_zbuffer_screen
EXTRN	?set_3d_active_environment@@YGXPAUENV_3D@@@Z:PROC ; set_3d_active_environment
EXTRN	?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z:PROC ; set_3d_main_light_source
EXTRN	?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z:PROC ; set_3d_ambient_light
EXTRN	?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z:PROC ; recalculate_3d_environment_settings
EXTRN	?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z:PROC ; set_3d_view_distances
EXTRN	?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z:PROC	; realise_3d_clip_extents
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; destruct_3d_object
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z:PROC ; insert_zbiased_relative_object_into_3d_scene
EXTRN	?draw_3d_scene@@YGXXZ:PROC			; draw_3d_scene
EXTRN	?begin_3d_scene@@YGHXZ:PROC			; begin_3d_scene
EXTRN	?end_3d_scene@@YGXXZ:PROC			; end_3d_scene
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z:PROC ; animate_helicopter_main_rotors
EXTRN	?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z:PROC ; animate_damaged_helicopter_main_rotors
EXTRN	?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_helicopter_virtual_cockpit_main_rotors
EXTRN	?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; damage_helicopter_main_rotor_inst3d
EXTRN	?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z:PROC ; restore_helicopter_main_rotor_inst3d
EXTRN	?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z:PROC ; get_helicopter_main_rotors_blurred
EXTRN	?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z:PROC ; set_rotation_angle_of_helicopter_main_rotors
EXTRN	?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z:PROC ; get_rotation_angle_of_helicopter_main_rotors
EXTRN	?draw_hind_ekran_display_on_texture@@YGXXZ:PROC	; draw_hind_ekran_display_on_texture
EXTRN	?draw_hind_hud_on_texture@@YGXXZ:PROC		; draw_hind_hud_on_texture
EXTRN	?draw_hind_mfd_on_texture@@YGXXZ:PROC		; draw_hind_mfd_on_texture
EXTRN	?get_hind_eo_display_visible@@YGHXZ:PROC	; get_hind_eo_display_visible
EXTRN	?initialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; initialise_common_virtual_cockpit_cameras
EXTRN	?deinitialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; deinitialise_common_virtual_cockpit_cameras
EXTRN	?print_edit_wide_cockpit@@YGXXZ:PROC		; print_edit_wide_cockpit
EXTRN	?move_edit_wide_cockpit@@YGXXZ:PROC		; move_edit_wide_cockpit
EXTRN	?get_havoc_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z:PROC ; get_havoc_virtual_cockpit_adi_angles
EXTRN	?draw_havoc_virtual_cockpit_instruments_on_texture@@YGXXZ:PROC ; draw_havoc_virtual_cockpit_instruments_on_texture
EXTRN	?get_hind_virtual_cockpit_hsi_needle_values@@YGXPAM00@Z:PROC ; get_hind_virtual_cockpit_hsi_needle_values
EXTRN	?initialise_hind_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; initialise_hind_virtual_cockpit_wiper_and_rain_effect
EXTRN	?deinitialise_hind_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; deinitialise_hind_virtual_cockpit_wiper_and_rain_effect
EXTRN	?draw_hind_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@H@Z:PROC ; draw_hind_virtual_cockpit_wiper
EXTRN	?draw_hind_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@H@Z:PROC ; draw_hind_virtual_cockpit_rain_effect
EXTRN	?application_video_colourdepth@@3HA:DWORD	; application_video_colourdepth
EXTRN	?d3d_can_render_to_texture@@3HA:DWORD		; d3d_can_render_to_texture
EXTRN	?active_screen@@3PAUSCREEN@@A:DWORD		; active_screen
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?ix_640_480@@3HA:DWORD				; ix_640_480
EXTRN	?iy_640_480@@3HA:DWORD				; iy_640_480
EXTRN	?full_screen_hi_res@@3HA:DWORD			; full_screen_hi_res
EXTRN	?main_3d_env@@3PAUENV_3D@@A:DWORD		; main_3d_env
EXTRN	?main_3d_single_light_env@@3PAUENV_3D@@A:DWORD	; main_3d_single_light_env
EXTRN	?main_vp@@3UVIEWPOINT@@A:BYTE			; main_vp
EXTRN	?view_mode@@3W4VIEW_MODES@@A:DWORD		; view_mode
EXTRN	?pilot_head_pitch@@3MA:DWORD			; pilot_head_pitch
EXTRN	?wide_cockpit@@3HA:DWORD			; wide_cockpit
EXTRN	?edit_wide_cockpit@@3HA:DWORD			; edit_wide_cockpit
EXTRN	?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A:BYTE ; wide_cockpit_position
EXTRN	?wide_cockpit_nr@@3HA:DWORD			; wide_cockpit_nr
EXTRN	?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A:DWORD ; virtual_cockpit_inst3d
EXTRN	?pilot_head_pitch_datum@@3MA:DWORD		; pilot_head_pitch_datum
EXTRN	?co_pilot_head_pitch_datum@@3MA:DWORD		; co_pilot_head_pitch_datum
EXTRN	?wiper_mode@@3W4WIPER_MODES@@A:DWORD		; wiper_mode
EXTRN	?rain_mode@@3W4RAIN_MODES@@A:DWORD		; rain_mode
EXTRN	?havoc_lamps@@3UHAVOC_LAMP_FLAGS@@A:BYTE	; havoc_lamps
EXTRN	?hind_lamps@@3UHIND_LAMP_FLAGS@@A:BYTE		; hind_lamps
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level1_inst3d
?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level2_inst3d
?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level3_inst3d
?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level1_inst3d
?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level2_inst3d
?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level3_inst3d
?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_inst3d
?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_level1_inst3d
?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_level2_inst3d
?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_level3_inst3d
?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_inst3d
?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_level1_inst3d
?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_level2_inst3d
?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_level3_inst3d
?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_display_inst3d
?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_main_rotor_inst3d
?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_main_rotor_inst3d
?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_adi_inst3d
?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_inst3d
?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_level1_inst3d
?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_level2_inst3d
?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_direction_finder_inst3d
?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_flight_path_inst3d
?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_drift_inst3d
?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_ekran_display_inst3d
?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_crt_display_inst3d
?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_inst3d
?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_level1_inst3d
?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_level2_inst3d
_BSS	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@bf060a92
CONST	SEGMENT
__real@bf060a92 DD 0bf060a92r			; -0.523599
CONST	ENDS
;	COMDAT __real@be860a92
CONST	SEGMENT
__real@be860a92 DD 0be860a92r			; -0.261799
CONST	ENDS
;	COMDAT __real@461c4000
CONST	SEGMENT
__real@461c4000 DD 0461c4000r			; 10000
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@3f847ae147ae147b
CONST	SEGMENT
__real@3f847ae147ae147b DQ 03f847ae147ae147br	; 0.01
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f33f7cf
CONST	SEGMENT
__real@3f33f7cf DD 03f33f7cfr			; 0.703
CONST	ENDS
;	COMDAT __real@3f12f1aa
CONST	SEGMENT
__real@3f12f1aa DD 03f12f1aar			; 0.574
CONST	ENDS
;	COMDAT __real@3e99999a
CONST	SEGMENT
__real@3e99999a DD 03e99999ar			; 0.3
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@3c8efa35
CONST	SEGMENT
__real@3c8efa35 DD 03c8efa35r			; 0.0174533
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA DD 0592H ; `restore_hind_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@
CONST	SEGMENT
??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@ DB 'virtual_cockpit_la'
	DB	'rge_hud_main_rotor_inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
CONST	SEGMENT
??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@ DB 'virtual_cockpit_m'
	DB	'ain_rotor_inst3d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ DB 'get_gunship_entity ('
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA DD 0571H ; `damage_hind_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BC@ENKILJCA@wiper_rle_graphic@
CONST	SEGMENT
??_C@_0BC@ENKILJCA@wiper_rle_graphic@ DB 'wiper_rle_graphic', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_hind_external_virtual_cockpit@@YGXIPAE@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_hind_external_virtual_cockpit@@YGXIPAE@Z@4JA DD 03e2H ; `draw_hind_external_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??draw_hind_internal_virtual_cockpit@@YGXI@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_hind_internal_virtual_cockpit@@YGXI@Z@4JA DD 01e5H ; `draw_hind_internal_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
CONST	SEGMENT
??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ DB 'Failed to loc'
	DB	'ate display viewpoint in virtual cockpit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ DB 'Invalid view mod'
	DB	'e = %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@FEOJCDHO@display_viewpoint@
CONST	SEGMENT
??_C@_0BC@FEOJCDHO@display_viewpoint@ DB 'display_viewpoint', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA DD 0198H ; `get_display_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vc'
	DB	'kpt.c', 00H					; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z
_TEXT	SEGMENT
tv161 = -180						; size = 4
tv153 = -176						; size = 4
tv138 = -176						; size = 4
tv80 = -176						; size = 4
_vp$ = -108						; size = 48
_search$ = -60						; size = 56
_index$ = -4						; size = 4
_mode$ = 8						; size = 4
_display_viewpoint$ = 12				; size = 4
?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z PROC ; get_display_viewpoint, COMDAT

; 408  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b4 00 00
	00		 sub	 esp, 180		; 000000b4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 409  : 	object_3d_sub_object_index_numbers
; 410  : 		index;
; 411  : 
; 412  : 	object_3d_sub_object_search_data
; 413  : 		search;
; 414  : 
; 415  : 	viewpoint
; 416  : 		vp;
; 417  : 
; 418  : 	ASSERT (display_viewpoint);

  0000c	83 7d 0c 00	 cmp	 DWORD PTR _display_viewpoint$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@get_displa
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  00017	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@FEOJCDHO@display_viewpoint@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_displa:

; 419  : 
; 420  : 	if ((!full_screen_hi_res) && (application_video_colourdepth == 16))

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?full_screen_hi_res@@3HA, 0 ; full_screen_hi_res
  00031	0f 85 87 00 00
	00		 jne	 $LN3@get_displa
  00037	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?application_video_colourdepth@@3HA, 16 ; application_video_colourdepth, 00000010H
  0003e	75 7e		 jne	 SHORT $LN3@get_displa

; 421  : 	{
; 422  : 		display_viewpoint->x = 0.0;

  00040	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  00043	0f 57 c0	 xorps	 xmm0, xmm0
  00046	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 423  : 		display_viewpoint->y = 0.0;

  0004a	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  0004d	0f 57 c0	 xorps	 xmm0, xmm0
  00050	f3 0f 11 40 04	 movss	 DWORD PTR [eax+4], xmm0

; 424  : 		display_viewpoint->z = 0.0;

  00055	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  00058	0f 57 c0	 xorps	 xmm0, xmm0
  0005b	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 425  : 
; 426  : 		get_local_entity_attitude_matrix (get_gunship_entity (), display_viewpoint->attitude);

  00060	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00067	74 0f		 je	 SHORT $LN10@get_displa
  00069	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0006e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00070	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv80[ebp], ecx
  00076	eb 24		 jmp	 SHORT $LN11@get_displa
$LN10@get_displa:
  00078	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0007e	83 c2 12	 add	 edx, 18			; 00000012H
  00081	52		 push	 edx
  00082	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00087	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00092	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN11@get_displa:
  0009c	8b 4d 0c	 mov	 ecx, DWORD PTR _display_viewpoint$[ebp]
  0009f	83 c1 0c	 add	 ecx, 12			; 0000000cH
  000a2	51		 push	 ecx
  000a3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000a9	52		 push	 edx
  000aa	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv80[ebp]
  000b0	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  000b7	ff d1		 call	 ecx

; 427  : 
; 428  : 		return;

  000b9	e9 45 02 00 00	 jmp	 $LN1@get_displa
$LN3@get_displa:

; 429  : 	}
; 430  : 
; 431  : 	if (mode == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV)

  000be	83 7d 08 1e	 cmp	 DWORD PTR _mode$[ebp], 30 ; 0000001eH
  000c2	75 09		 jne	 SHORT $LN4@get_displa

; 432  : 	{
; 433  : 		index = OBJECT_3D_SUB_OBJECT_HAVOC_COCKPIT_CRT_CAMERA;

  000c4	c7 45 fc 7d 00
	00 00		 mov	 DWORD PTR _index$[ebp], 125 ; 0000007dH
  000cb	eb 20		 jmp	 SHORT $LN7@get_displa
$LN4@get_displa:

; 434  : 	}
; 435  : 	else if (mode == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD)

  000cd	83 7d 08 1f	 cmp	 DWORD PTR _mode$[ebp], 31 ; 0000001fH
  000d1	75 09		 jne	 SHORT $LN6@get_displa

; 436  : 	{
; 437  : 		index = OBJECT_3D_SUB_OBJECT_HAVOC_COCKPIT_HUD_CAMERA;

  000d3	c7 45 fc 7e 00
	00 00		 mov	 DWORD PTR _index$[ebp], 126 ; 0000007eH

; 438  : 	}
; 439  : 	else

  000da	eb 11		 jmp	 SHORT $LN7@get_displa
$LN6@get_displa:

; 440  : 	{
; 441  : 		debug_fatal ("Invalid view mode = %d", mode);

  000dc	8b 45 08	 mov	 eax, DWORD PTR _mode$[ebp]
  000df	50		 push	 eax
  000e0	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
  000e5	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000ea	83 c4 08	 add	 esp, 8
$LN7@get_displa:

; 442  : 	}
; 443  : 
; 444  : 	virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;

  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000f2	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d

; 445  : 
; 446  : 	search.search_depth = 0;

  000f7	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 447  : 	search.search_object = virtual_cockpit_inst3d;

  000fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00103	89 45 c4	 mov	 DWORD PTR _search$[ebp], eax

; 448  : 	search.sub_object_index = index;

  00106	8b 45 fc	 mov	 eax, DWORD PTR _index$[ebp]
  00109	89 45 d0	 mov	 DWORD PTR _search$[ebp+12], eax

; 449  : 
; 450  : 	if (find_object_3d_sub_object (&search) != SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0010c	8d 45 c4	 lea	 eax, DWORD PTR _search$[ebp]
  0010f	50		 push	 eax
  00110	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00115	83 f8 01	 cmp	 eax, 1
  00118	74 0d		 je	 SHORT $LN8@get_displa

; 451  : 	{
; 452  : 		debug_fatal ("Failed to locate display viewpoint in virtual cockpit");

  0011a	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
  0011f	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00124	83 c4 04	 add	 esp, 4
$LN8@get_displa:

; 453  : 	}
; 454  : 
; 455  : 	virtual_cockpit_inst3d->vp.x = 0.0;

  00127	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0012c	0f 57 c0	 xorps	 xmm0, xmm0
  0012f	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 456  : 	virtual_cockpit_inst3d->vp.y = 0.0;

  00134	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00139	0f 57 c0	 xorps	 xmm0, xmm0
  0013c	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 457  : 	virtual_cockpit_inst3d->vp.z = 0.0;

  00141	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00146	0f 57 c0	 xorps	 xmm0, xmm0
  00149	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 458  : 
; 459  : 	get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  0014e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00155	74 0f		 je	 SHORT $LN12@get_displa
  00157	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0015c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0015e	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv138[ebp], ecx
  00164	eb 24		 jmp	 SHORT $LN13@get_displa
$LN12@get_displa:
  00166	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0016c	83 c2 33	 add	 edx, 51			; 00000033H
  0016f	52		 push	 edx
  00170	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00175	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0017a	50		 push	 eax
  0017b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00180	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv138[ebp], 0
$LN13@get_displa:
  0018a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00190	83 c1 14	 add	 ecx, 20			; 00000014H
  00193	51		 push	 ecx
  00194	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0019a	52		 push	 edx
  0019b	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv138[ebp]
  001a1	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  001a8	ff d1		 call	 ecx

; 460  : 
; 461  : 	get_3d_sub_object_world_viewpoint (search.result_sub_object, &vp);

  001aa	8d 45 94	 lea	 eax, DWORD PTR _vp$[ebp]
  001ad	50		 push	 eax
  001ae	8b 4d c8	 mov	 ecx, DWORD PTR _search$[ebp+4]
  001b1	51		 push	 ecx
  001b2	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 462  : 
; 463  : 	get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &main_vp.position);

  001b7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001be	74 0f		 je	 SHORT $LN14@get_displa
  001c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c5	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c7	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv153[ebp], ecx
  001cd	eb 24		 jmp	 SHORT $LN15@get_displa
$LN14@get_displa:
  001cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  001d5	83 c2 37	 add	 edx, 55			; 00000037H
  001d8	52		 push	 edx
  001d9	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  001de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv153[ebp], 0
$LN15@get_displa:
  001f3	b9 01 00 00 00	 mov	 ecx, 1
  001f8	85 c9		 test	 ecx, ecx
  001fa	74 0c		 je	 SHORT $LN16@get_displa
  001fc	c7 85 4c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv161[ebp], 8
  00206	eb 24		 jmp	 SHORT $LN17@get_displa
$LN16@get_displa:
  00208	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0020e	83 c2 37	 add	 edx, 55			; 00000037H
  00211	52		 push	 edx
  00212	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00217	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0021c	50		 push	 eax
  0021d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00222	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv161[ebp], 0
$LN17@get_displa:
  0022c	68 00 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A ; main_vp
  00231	6a 08		 push	 8
  00233	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00239	51		 push	 ecx
  0023a	6b 95 50 ff ff
	ff 60		 imul	 edx, DWORD PTR tv153[ebp], 96
  00241	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR tv161[ebp]
  00247	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[edx+eax*4]
  0024e	ff d1		 call	 ecx

; 464  : 
; 465  : 	main_vp.x += vp.x;

  00250	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A
  00258	f3 0f 58 45 94	 addss	 xmm0, DWORD PTR _vp$[ebp]
  0025d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A, xmm0

; 466  : 	main_vp.y += vp.y;

  00265	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4
  0026d	f3 0f 58 45 98	 addss	 xmm0, DWORD PTR _vp$[ebp+4]
  00272	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4, xmm0

; 467  : 	main_vp.z += vp.z;

  0027a	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8
  00282	f3 0f 58 45 9c	 addss	 xmm0, DWORD PTR _vp$[ebp+8]
  00287	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8, xmm0

; 468  : 
; 469  : 	memcpy (main_vp.attitude, vp.attitude, sizeof (matrix3x3));

  0028f	6a 24		 push	 36			; 00000024H
  00291	8d 45 a0	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00294	50		 push	 eax
  00295	68 0c 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A+12
  0029a	e8 00 00 00 00	 call	 _memcpy
  0029f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 470  : 
; 471  : 	vp.x = -vp.x;

  002a2	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _vp$[ebp]
  002a7	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002ae	f3 0f 11 45 94	 movss	 DWORD PTR _vp$[ebp], xmm0

; 472  : 	vp.y = -vp.y;

  002b3	f3 0f 10 45 98	 movss	 xmm0, DWORD PTR _vp$[ebp+4]
  002b8	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002bf	f3 0f 11 45 98	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 473  : 	vp.z = -vp.z;

  002c4	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _vp$[ebp+8]
  002c9	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002d0	f3 0f 11 45 9c	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 474  : 
; 475  : 	multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, vp.attitude, &vp.position);

  002d5	8d 45 94	 lea	 eax, DWORD PTR _vp$[ebp]
  002d8	50		 push	 eax
  002d9	8d 4d a0	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  002dc	51		 push	 ecx
  002dd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002e3	83 c2 08	 add	 edx, 8
  002e6	52		 push	 edx
  002e7	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 476  : 
; 477  : 	memcpy (display_viewpoint, &virtual_cockpit_inst3d->vp, sizeof (viewpoint));

  002ec	6a 30		 push	 48			; 00000030H
  002ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002f3	83 c0 08	 add	 eax, 8
  002f6	50		 push	 eax
  002f7	8b 4d 0c	 mov	 ecx, DWORD PTR _display_viewpoint$[ebp]
  002fa	51		 push	 ecx
  002fb	e8 00 00 00 00	 call	 _memcpy
  00300	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@get_displa:

; 478  : }

  00303	5f		 pop	 edi
  00304	5e		 pop	 esi
  00305	5b		 pop	 ebx
  00306	8b e5		 mov	 esp, ebp
  00308	5d		 pop	 ebp
  00309	c2 08 00	 ret	 8
?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ENDP ; get_display_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?set_cockpit_lighting@@YGXQAY02M@Z
_TEXT	SEGMENT
tv82 = -204						; size = 4
tv76 = -200						; size = 4
tv69 = -196						; size = 4
_directional_light_roll$ = -128				; size = 4
_directional_light_pitch$ = -124			; size = 4
_directional_light_heading$ = -120			; size = 4
_directional_light_colour$ = -116			; size = 16
_ambient_light_colour$ = -100				; size = 16
_directional_light_direction$ = -84			; size = 12
_result$ = -72						; size = 36
_directional_light_rotation$ = -36			; size = 36
_attitude$ = 8						; size = 4
?set_cockpit_lighting@@YGXQAY02M@Z PROC			; set_cockpit_lighting, COMDAT

; 281  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 282  : 	matrix3x3
; 283  : 		directional_light_rotation,
; 284  : 		result;
; 285  : 
; 286  : 	vec3d
; 287  : 		directional_light_direction;
; 288  : 
; 289  : 	light_colour
; 290  : 		ambient_light_colour,
; 291  : 		directional_light_colour;
; 292  : 
; 293  : 	float
; 294  : 		directional_light_heading,
; 295  : 		directional_light_pitch,
; 296  : 		directional_light_roll;
; 297  : 
; 298  : 	switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00013	74 0f		 je	 SHORT $LN9@set_cockpi
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0001a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001c	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv69[ebp], ecx
  00022	eb 20		 jmp	 SHORT $LN10@set_cockpi
$LN9@set_cockpi:
  00024	68 2a 01 00 00	 push	 298			; 0000012aH
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	52		 push	 edx
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv69[ebp], 0
$LN10@set_cockpi:
  00044	b8 01 00 00 00	 mov	 eax, 1
  00049	85 c0		 test	 eax, eax
  0004b	74 0c		 je	 SHORT $LN11@set_cockpi
  0004d	c7 85 38 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv76[ebp], 39	; 00000027H
  00057	eb 20		 jmp	 SHORT $LN12@set_cockpi
$LN11@set_cockpi:
  00059	68 2a 01 00 00	 push	 298			; 0000012aH
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00069	51		 push	 ecx
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv76[ebp], 0
$LN12@set_cockpi:
  00079	6a 27		 push	 39			; 00000027H
  0007b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00081	52		 push	 edx
  00082	69 85 3c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv69[ebp], 1116
  0008c	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR tv76[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	89 85 34 ff ff
	ff		 mov	 DWORD PTR tv82[ebp], eax
  000a1	83 bd 34 ff ff
	ff 03		 cmp	 DWORD PTR tv82[ebp], 3
  000a8	0f 87 7a 01 00
	00		 ja	 $LN2@set_cockpi
  000ae	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv82[ebp]
  000b4	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN13@set_cockpi[eax*4]
$LN4@set_cockpi:

; 299  : 	{
; 300  : 		////////////////////////////////////////
; 301  : 		case DAY_SEGMENT_TYPE_DAWN:
; 302  : 		////////////////////////////////////////
; 303  : 		{
; 304  : 			ambient_light_colour.red		 		= 0.0;

  000bb	0f 57 c0	 xorps	 xmm0, xmm0
  000be	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 305  : 			ambient_light_colour.green		  		= 0.0;

  000c3	0f 57 c0	 xorps	 xmm0, xmm0
  000c6	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 306  : 			ambient_light_colour.blue		  		= 0.0;

  000cb	0f 57 c0	 xorps	 xmm0, xmm0
  000ce	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 307  : 
; 308  : 			directional_light_colour.red			= 1.0;

  000d3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000db	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 309  : 			directional_light_colour.green		= 0.574;

  000e0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f12f1aa
  000e8	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 310  : 			directional_light_colour.blue			= 0.0;

  000ed	0f 57 c0	 xorps	 xmm0, xmm0
  000f0	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 311  : 
; 312  : 			directional_light_heading 				= rad (0.0);

  000f5	0f 57 c0	 xorps	 xmm0, xmm0
  000f8	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 313  : 			directional_light_pitch 				= rad (-15.0);

  000fd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  00105	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 314  : 			directional_light_roll 					= rad (0.0);

  0010a	0f 57 c0	 xorps	 xmm0, xmm0
  0010d	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 315  : 
; 316  : 			break;

  00112	e9 11 01 00 00	 jmp	 $LN2@set_cockpi
$LN5@set_cockpi:

; 317  : 		}
; 318  : 		////////////////////////////////////////
; 319  : 		case DAY_SEGMENT_TYPE_DAY:
; 320  : 		////////////////////////////////////////
; 321  : 		{
; 322  : 			ambient_light_colour.red		 		= 0.0;

  00117	0f 57 c0	 xorps	 xmm0, xmm0
  0011a	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 323  : 			ambient_light_colour.green		  		= 0.0;

  0011f	0f 57 c0	 xorps	 xmm0, xmm0
  00122	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 324  : 			ambient_light_colour.blue		  		= 0.0;

  00127	0f 57 c0	 xorps	 xmm0, xmm0
  0012a	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 325  : 
; 326  : 			directional_light_colour.red			= 1.0;

  0012f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00137	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 327  : 			directional_light_colour.green		= 1.0;

  0013c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00144	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 328  : 			directional_light_colour.blue			= 1.0;

  00149	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00151	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 329  : 
; 330  : 			directional_light_heading 				= rad (0.0);

  00156	0f 57 c0	 xorps	 xmm0, xmm0
  00159	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 331  : 			directional_light_pitch 				= rad (-30.0);

  0015e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf060a92
  00166	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 332  : 			directional_light_roll 					= rad (0.0);

  0016b	0f 57 c0	 xorps	 xmm0, xmm0
  0016e	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 333  : 
; 334  : 			break;

  00173	e9 b0 00 00 00	 jmp	 $LN2@set_cockpi
$LN6@set_cockpi:

; 335  : 		}
; 336  : 		////////////////////////////////////////
; 337  : 		case DAY_SEGMENT_TYPE_DUSK:
; 338  : 		////////////////////////////////////////
; 339  : 		{
; 340  : 			ambient_light_colour.red		 		= 0.0;

  00178	0f 57 c0	 xorps	 xmm0, xmm0
  0017b	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 341  : 			ambient_light_colour.green		  		= 0.0;

  00180	0f 57 c0	 xorps	 xmm0, xmm0
  00183	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 342  : 			ambient_light_colour.blue		  		= 0.0;

  00188	0f 57 c0	 xorps	 xmm0, xmm0
  0018b	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 343  : 
; 344  : 			directional_light_colour.red			= 1.0;

  00190	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00198	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 345  : 			directional_light_colour.green		= 0.574;

  0019d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f12f1aa
  001a5	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 346  : 			directional_light_colour.blue			= 0.0;

  001aa	0f 57 c0	 xorps	 xmm0, xmm0
  001ad	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 347  : 
; 348  : 			directional_light_heading 				= rad (0.0);

  001b2	0f 57 c0	 xorps	 xmm0, xmm0
  001b5	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 349  : 			directional_light_pitch 				= rad (-15.0);

  001ba	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  001c2	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 350  : 			directional_light_roll 					= rad (0.0);

  001c7	0f 57 c0	 xorps	 xmm0, xmm0
  001ca	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 351  : 
; 352  : 			break;

  001cf	eb 57		 jmp	 SHORT $LN2@set_cockpi
$LN7@set_cockpi:

; 353  : 		}
; 354  : 		////////////////////////////////////////
; 355  : 		case DAY_SEGMENT_TYPE_NIGHT:
; 356  : 		////////////////////////////////////////
; 357  : 		{
; 358  : 			ambient_light_colour.red		 		= 0.0;

  001d1	0f 57 c0	 xorps	 xmm0, xmm0
  001d4	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 359  : 			ambient_light_colour.green		  		= 0.0;

  001d9	0f 57 c0	 xorps	 xmm0, xmm0
  001dc	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 360  : 			ambient_light_colour.blue		  		= 0.0;

  001e1	0f 57 c0	 xorps	 xmm0, xmm0
  001e4	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 361  : 
; 362  : 			directional_light_colour.red			= 1.0;

  001e9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001f1	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 363  : 			directional_light_colour.green		= 0.703;

  001f6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f33f7cf
  001fe	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 364  : 			directional_light_colour.blue			= 0.0;

  00203	0f 57 c0	 xorps	 xmm0, xmm0
  00206	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 365  : 
; 366  : 			directional_light_heading 				= rad (0.0);

  0020b	0f 57 c0	 xorps	 xmm0, xmm0
  0020e	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 367  : 			directional_light_pitch 				= rad (-15.0);

  00213	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  0021b	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 368  : 			directional_light_roll 					= rad (0.0);

  00220	0f 57 c0	 xorps	 xmm0, xmm0
  00223	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0
$LN2@set_cockpi:

; 369  : 
; 370  : 			break;
; 371  : 		}
; 372  : 	}
; 373  : 
; 374  : 	#if DEMO_VERSION
; 375  : 
; 376  : 	ambient_light_colour.red		 		= 0.0;
; 377  : 	ambient_light_colour.green		  		= 0.0;
; 378  : 	ambient_light_colour.blue		  		= 0.0;
; 379  : 
; 380  : 	directional_light_colour.red			= 1.0;
; 381  : 	directional_light_colour.green		= 1.0;
; 382  : 	directional_light_colour.blue			= 1.0;
; 383  : 
; 384  : 	directional_light_heading 				= rad (0.0);
; 385  : 	directional_light_pitch 				= rad (-30.0);
; 386  : 	directional_light_roll 					= rad (0.0);
; 387  : 
; 388  : 	#endif
; 389  : 
; 390  : 	set_3d_ambient_light (main_3d_single_light_env, &ambient_light_colour);

  00228	8d 45 9c	 lea	 eax, DWORD PTR _ambient_light_colour$[ebp]
  0022b	50		 push	 eax
  0022c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00232	51		 push	 ecx
  00233	e8 00 00 00 00	 call	 ?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z ; set_3d_ambient_light

; 391  : 
; 392  : 	get_3d_transformation_matrix (directional_light_rotation, directional_light_heading, directional_light_pitch, directional_light_roll);

  00238	51		 push	 ecx
  00239	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _directional_light_roll$[ebp]
  0023e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00243	51		 push	 ecx
  00244	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _directional_light_pitch$[ebp]
  00249	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024e	51		 push	 ecx
  0024f	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _directional_light_heading$[ebp]
  00254	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00259	8d 45 dc	 lea	 eax, DWORD PTR _directional_light_rotation$[ebp]
  0025c	50		 push	 eax
  0025d	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 393  : 
; 394  : 	multiply_matrix3x3_matrix3x3 (result, directional_light_rotation, attitude);

  00262	8b 45 08	 mov	 eax, DWORD PTR _attitude$[ebp]
  00265	50		 push	 eax
  00266	8d 4d dc	 lea	 ecx, DWORD PTR _directional_light_rotation$[ebp]
  00269	51		 push	 ecx
  0026a	8d 55 b8	 lea	 edx, DWORD PTR _result$[ebp]
  0026d	52		 push	 edx
  0026e	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 395  : 
; 396  : 	directional_light_direction.x = -result[2][0];

  00273	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00278	d1 e0		 shl	 eax, 1
  0027a	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  0027e	ba 04 00 00 00	 mov	 edx, 4
  00283	6b c2 00	 imul	 eax, edx, 0
  00286	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  0028b	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00292	f3 0f 11 45 ac	 movss	 DWORD PTR _directional_light_direction$[ebp], xmm0

; 397  : 	directional_light_direction.y = -result[2][1];

  00297	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0029c	d1 e0		 shl	 eax, 1
  0029e	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  002a2	ba 04 00 00 00	 mov	 edx, 4
  002a7	c1 e2 00	 shl	 edx, 0
  002aa	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002af	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002b6	f3 0f 11 45 b0	 movss	 DWORD PTR _directional_light_direction$[ebp+4], xmm0

; 398  : 	directional_light_direction.z = -result[2][2];

  002bb	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002c0	d1 e0		 shl	 eax, 1
  002c2	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  002c6	ba 04 00 00 00	 mov	 edx, 4
  002cb	d1 e2		 shl	 edx, 1
  002cd	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002d2	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002d9	f3 0f 11 45 b4	 movss	 DWORD PTR _directional_light_direction$[ebp+8], xmm0

; 399  : 
; 400  : 	set_3d_main_light_source (main_3d_single_light_env, &directional_light_colour, &directional_light_direction, FALSE);

  002de	6a 00		 push	 0
  002e0	8d 45 ac	 lea	 eax, DWORD PTR _directional_light_direction$[ebp]
  002e3	50		 push	 eax
  002e4	8d 4d 8c	 lea	 ecx, DWORD PTR _directional_light_colour$[ebp]
  002e7	51		 push	 ecx
  002e8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  002ee	52		 push	 edx
  002ef	e8 00 00 00 00	 call	 ?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z ; set_3d_main_light_source

; 401  : }

  002f4	5f		 pop	 edi
  002f5	5e		 pop	 esi
  002f6	5b		 pop	 ebx
  002f7	8b e5		 mov	 esp, ebp
  002f9	5d		 pop	 ebp
  002fa	c2 04 00	 ret	 4
  002fd	0f 1f 00	 npad	 3
$LN13@set_cockpi:
  00300	00 00 00 00	 DD	 $LN4@set_cockpi
  00304	00 00 00 00	 DD	 $LN5@set_cockpi
  00308	00 00 00 00	 DD	 $LN6@set_cockpi
  0030c	00 00 00 00	 DD	 $LN7@set_cockpi
?set_cockpit_lighting@@YGXQAY02M@Z ENDP			; set_cockpit_lighting
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?restore_hind_virtual_cockpit_main_rotors@@YGXXZ
_TEXT	SEGMENT
tv93 = -80						; size = 4
tv85 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
?restore_hind_virtual_cockpit_main_rotors@@YGXXZ PROC	; restore_hind_virtual_cockpit_main_rotors, COMDAT

; 1426 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1427 : 	float
; 1428 : 		theta;
; 1429 : 
; 1430 : 	object_3d_instance
; 1431 : 		*inst3d;
; 1432 : 
; 1433 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@restore_hi
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@restore_hi:

; 1434 : 
; 1435 : 	ASSERT (virtual_cockpit_main_rotor_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@restore_hi
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@restore_hi:

; 1436 : 	ASSERT (virtual_cockpit_large_hud_main_rotor_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@restore_hi
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@restore_hi:

; 1437 : 
; 1438 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00073	74 0c		 je	 SHORT $LN7@restore_hi
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0007c	89 4d b4	 mov	 DWORD PTR tv85[ebp], ecx
  0007f	eb 21		 jmp	 SHORT $LN8@restore_hi
$LN7@restore_hi:
  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00087	83 c2 0c	 add	 edx, 12			; 0000000cH
  0008a	52		 push	 edx
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN8@restore_hi:
  000a2	b9 01 00 00 00	 mov	 ecx, 1
  000a7	85 c9		 test	 ecx, ecx
  000a9	74 09		 je	 SHORT $LN9@restore_hi
  000ab	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv93[ebp], 2
  000b2	eb 21		 jmp	 SHORT $LN10@restore_hi
$LN9@restore_hi:
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000ba	83 c2 0c	 add	 edx, 12			; 0000000cH
  000bd	52		 push	 edx
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN10@restore_hi:
  000d5	6a 02		 push	 2
  000d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000dd	51		 push	 ecx
  000de	6b 55 b4 50	 imul	 edx, DWORD PTR tv85[ebp], 80
  000e2	8b 45 b0	 mov	 eax, DWORD PTR tv93[ebp]
  000e5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000ec	ff d1		 call	 ecx
  000ee	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1439 : 
; 1440 : 	ASSERT (inst3d);

  000f1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000f5	75 18		 jne	 SHORT $LN5@restore_hi
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_hind_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000fc	83 c0 0e	 add	 eax, 14			; 0000000eH
  000ff	50		 push	 eax
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0010a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@restore_hi:

; 1441 : 
; 1442 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  0010f	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  00118	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1443 : 
; 1444 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  0011b	51		 push	 ecx
  0011c	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00121	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012b	50		 push	 eax
  0012c	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1445 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_large_hud_main_rotor_inst3d, theta);

  00131	51		 push	 ecx
  00132	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00137	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00141	50		 push	 eax
  00142	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1446 : 
; 1447 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0014c	50		 push	 eax
  0014d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00153	51		 push	 ecx
  00154	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1448 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_large_hud_main_rotor_inst3d);

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0015e	50		 push	 eax
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1449 : 
; 1450 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_main_rotor_inst3d);

  0016b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00170	50		 push	 eax
  00171	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1451 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_large_hud_main_rotor_inst3d);

  00176	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0017b	50		 push	 eax
  0017c	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1452 : }

  00181	5f		 pop	 edi
  00182	5e		 pop	 esi
  00183	5b		 pop	 ebx
  00184	8b e5		 mov	 esp, ebp
  00186	5d		 pop	 ebp
  00187	c3		 ret	 0
?restore_hind_virtual_cockpit_main_rotors@@YGXXZ ENDP	; restore_hind_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?damage_hind_virtual_cockpit_main_rotors@@YGXH@Z
_TEXT	SEGMENT
tv93 = -80						; size = 4
tv85 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
_seed$ = 8						; size = 4
?damage_hind_virtual_cockpit_main_rotors@@YGXH@Z PROC	; damage_hind_virtual_cockpit_main_rotors, COMDAT

; 1393 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1394 : 	float
; 1395 : 		theta;
; 1396 : 
; 1397 : 	object_3d_instance
; 1398 : 		*inst3d;
; 1399 : 
; 1400 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@damage_hin
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@damage_hin:

; 1401 : 
; 1402 : 	ASSERT (virtual_cockpit_main_rotor_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@damage_hin
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@damage_hin:

; 1403 : 	ASSERT (virtual_cockpit_large_hud_main_rotor_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@damage_hin
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@damage_hin:

; 1404 : 
; 1405 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00073	74 0c		 je	 SHORT $LN7@damage_hin
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0007c	89 4d b4	 mov	 DWORD PTR tv85[ebp], ecx
  0007f	eb 21		 jmp	 SHORT $LN8@damage_hin
$LN7@damage_hin:
  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00087	83 c2 0c	 add	 edx, 12			; 0000000cH
  0008a	52		 push	 edx
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN8@damage_hin:
  000a2	b9 01 00 00 00	 mov	 ecx, 1
  000a7	85 c9		 test	 ecx, ecx
  000a9	74 09		 je	 SHORT $LN9@damage_hin
  000ab	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv93[ebp], 2
  000b2	eb 21		 jmp	 SHORT $LN10@damage_hin
$LN9@damage_hin:
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000ba	83 c2 0c	 add	 edx, 12			; 0000000cH
  000bd	52		 push	 edx
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN10@damage_hin:
  000d5	6a 02		 push	 2
  000d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000dd	51		 push	 ecx
  000de	6b 55 b4 50	 imul	 edx, DWORD PTR tv85[ebp], 80
  000e2	8b 45 b0	 mov	 eax, DWORD PTR tv93[ebp]
  000e5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000ec	ff d1		 call	 ecx
  000ee	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1406 : 
; 1407 : 	ASSERT (inst3d);

  000f1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000f5	75 18		 jne	 SHORT $LN5@damage_hin
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_hind_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000fc	83 c0 0e	 add	 eax, 14			; 0000000eH
  000ff	50		 push	 eax
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0010a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@damage_hin:

; 1408 : 
; 1409 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  0010f	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  00118	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1410 : 
; 1411 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  0011b	51		 push	 ecx
  0011c	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00121	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012b	50		 push	 eax
  0012c	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1412 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_large_hud_main_rotor_inst3d, theta);

  00131	51		 push	 ecx
  00132	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00137	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00141	50		 push	 eax
  00142	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1413 : 
; 1414 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0014c	50		 push	 eax
  0014d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00153	51		 push	 ecx
  00154	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1415 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_large_hud_main_rotor_inst3d);

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0015e	50		 push	 eax
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1416 : 
; 1417 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_main_rotor_inst3d, seed);

  0016b	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  0016e	50		 push	 eax
  0016f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00175	51		 push	 ecx
  00176	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1418 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_large_hud_main_rotor_inst3d, seed);

  0017b	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  0017e	50		 push	 eax
  0017f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00185	51		 push	 ecx
  00186	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1419 : }

  0018b	5f		 pop	 edi
  0018c	5e		 pop	 esi
  0018d	5b		 pop	 ebx
  0018e	8b e5		 mov	 esp, ebp
  00190	5d		 pop	 ebp
  00191	c2 04 00	 ret	 4
?damage_hind_virtual_cockpit_main_rotors@@YGXH@Z ENDP	; damage_hind_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?draw_hind_external_virtual_cockpit@@YGXIPAE@Z
_TEXT	SEGMENT
tv333 = -200						; size = 4
tv295 = -200						; size = 4
tv327 = -196						; size = 4
tv289 = -196						; size = 4
tv178 = -196						; size = 4
tv152 = -196						; size = 4
tv320 = -192						; size = 4
tv282 = -192						; size = 4
tv170 = -192						; size = 4
tv145 = -192						; size = 4
tv85 = -192						; size = 4
_roll$1 = -124						; size = 4
_pitch$2 = -120						; size = 4
_heading$3 = -116					; size = 4
_inst3d$ = -112						; size = 4
_theta$ = -108						; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
_wiper_rle_graphic$ = 12				; size = 4
?draw_hind_external_virtual_cockpit@@YGXIPAE@Z PROC	; draw_hind_external_virtual_cockpit, COMDAT

; 994  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c8 00 00
	00		 sub	 esp, 200		; 000000c8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 995  : 	viewpoint
; 996  : 		vp;
; 997  : 
; 998  : 	object_3d_sub_object_search_data
; 999  : 		search;
; 1000 : 
; 1001 : 	float
; 1002 : 		theta;
; 1003 : 
; 1004 : 	object_3d_instance
; 1005 : 		*inst3d;
; 1006 : 
; 1007 : 	////////////////////////////////////////
; 1008 : 	//
; 1009 : 	// virtual cockpit viewpoint is placed at the main object origin
; 1010 : 	//
; 1011 : 	////////////////////////////////////////
; 1012 : 
; 1013 : 	if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV)

  0000c	83 3d 00 00 00
	00 1e		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 30 ; view_mode, 0000001eH
  00013	75 10		 jne	 SHORT $LN6@draw_hind_

; 1014 : 	{
; 1015 : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV, &vp);

  00015	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00018	50		 push	 eax
  00019	6a 1e		 push	 30			; 0000001eH
  0001b	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint
  00020	e9 b8 00 00 00	 jmp	 $LN9@draw_hind_
$LN6@draw_hind_:

; 1016 : 	}
; 1017 : 	else if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD)

  00025	83 3d 00 00 00
	00 1f		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 31 ; view_mode, 0000001fH
  0002c	75 10		 jne	 SHORT $LN8@draw_hind_

; 1018 : 	{
; 1019 : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD, &vp);

  0002e	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00031	50		 push	 eax
  00032	6a 1f		 push	 31			; 0000001fH
  00034	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint

; 1020 : 	}
; 1021 : 	else

  00039	e9 9f 00 00 00	 jmp	 $LN9@draw_hind_
$LN8@draw_hind_:

; 1022 : 	{
; 1023 : 		vp.x = 0.0;

  0003e	0f 57 c0	 xorps	 xmm0, xmm0
  00041	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1024 : 		vp.y = 0.0;

  00046	0f 57 c0	 xorps	 xmm0, xmm0
  00049	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1025 : 		vp.z = 0.0;

  0004e	0f 57 c0	 xorps	 xmm0, xmm0
  00051	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1026 : //VJ wideview mod, date: 18-mar-03
; 1027 : 		if (get_global_wide_cockpit ())

  00056	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  0005d	74 28		 je	 SHORT $LN10@draw_hind_

; 1028 : 		{
; 1029 : 		    vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  0005f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00066	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  0006e	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1030 : 		    vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00073	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0007a	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00082	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN10@draw_hind_:

; 1031 : 		}
; 1032 : 
; 1033 : 		get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  00087	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0008e	74 0f		 je	 SHORT $LN49@draw_hind_
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00095	8b 08		 mov	 ecx, DWORD PTR [eax]
  00097	89 8d 40 ff ff
	ff		 mov	 DWORD PTR tv85[ebp], ecx
  0009d	eb 24		 jmp	 SHORT $LN50@draw_hind_
$LN49@draw_hind_:
  0009f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_hind_external_virtual_cockpit@@YGXIPAE@Z@4JA
  000a5	83 c2 27	 add	 edx, 39			; 00000027H
  000a8	52		 push	 edx
  000a9	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000b3	50		 push	 eax
  000b4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b9	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv85[ebp], 0
$LN50@draw_hind_:
  000c3	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  000c6	51		 push	 ecx
  000c7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000cd	52		 push	 edx
  000ce	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR tv85[ebp]
  000d4	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  000db	ff d1		 call	 ecx
$LN9@draw_hind_:

; 1034 : 	}
; 1035 : 
; 1036 : 	////////////////////////////////////////
; 1037 : 	//
; 1038 : 	// draw 3D scene without lighting
; 1039 : 	//
; 1040 : 	////////////////////////////////////////
; 1041 : 
; 1042 : 	if (flags & (VIRTUAL_COCKPIT_MAIN_ROTOR | VIRTUAL_COCKPIT_STOWED_WIPER | VIRTUAL_COCKPIT_MOVING_WIPER))

  000dd	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  000e0	25 00 d0 00 00	 and	 eax, 53248		; 0000d000H
  000e5	0f 84 05 03 00
	00		 je	 $LN12@draw_hind_

; 1043 : 	{
; 1044 : 		set_3d_active_environment (main_3d_env);

  000eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1045 : 
; 1046 : 		set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  000f6	51		 push	 ecx
  000f7	0f 57 c0	 xorps	 xmm0, xmm0
  000fa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ff	51		 push	 ecx
  00100	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00108	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010d	51		 push	 ecx
  0010e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00116	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0011b	51		 push	 ecx
  0011c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00124	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00129	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0012e	50		 push	 eax
  0012f	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1047 : 
; 1048 : 		realise_3d_clip_extents (main_3d_env);

  00134	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00139	50		 push	 eax
  0013a	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1049 : 
; 1050 : 		recalculate_3d_environment_settings (main_3d_env);

  0013f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00144	50		 push	 eax
  00145	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1051 : 
; 1052 : 		clear_zbuffer_screen ();

  0014a	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1053 : 
; 1054 : 		if (begin_3d_scene ())

  0014f	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00154	85 c0		 test	 eax, eax
  00156	0f 84 94 02 00
	00		 je	 $LN12@draw_hind_

; 1055 : 		{
; 1056 : 			//
; 1057 : 			// main rotor
; 1058 : 			//
; 1059 : 
; 1060 : 			if (flags & VIRTUAL_COCKPIT_MAIN_ROTOR)

  0015c	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0015f	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  00164	0f 84 3d 02 00
	00		 je	 $LN19@draw_hind_

; 1061 : 			{
; 1062 : 				if (!(get_helicopter_main_rotors_blurred (get_gunship_entity ()) && (!get_global_blurred_main_rotors_visible_from_cockpit ())))

  0016a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0016f	50		 push	 eax
  00170	e8 00 00 00 00	 call	 ?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z ; get_helicopter_main_rotors_blurred
  00175	85 c0		 test	 eax, eax
  00177	74 0d		 je	 SHORT $LN15@draw_hind_
  00179	83 3d 1c 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+28, 0
  00180	0f 84 21 02 00
	00		 je	 $LN19@draw_hind_
$LN15@draw_hind_:

; 1063 : 				{
; 1064 : 					if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_MAIN_ROTOR_DAMAGED))

  00186	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0018d	74 0f		 je	 SHORT $LN51@draw_hind_
  0018f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00194	8b 08		 mov	 ecx, DWORD PTR [eax]
  00196	89 8d 40 ff ff
	ff		 mov	 DWORD PTR tv145[ebp], ecx
  0019c	eb 20		 jmp	 SHORT $LN52@draw_hind_
$LN51@draw_hind_:
  0019e	68 28 04 00 00	 push	 1064			; 00000428H
  001a3	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ae	52		 push	 edx
  001af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b4	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv145[ebp], 0
$LN52@draw_hind_:
  001be	b8 01 00 00 00	 mov	 eax, 1
  001c3	85 c0		 test	 eax, eax
  001c5	74 0c		 je	 SHORT $LN53@draw_hind_
  001c7	c7 85 3c ff ff
	ff 81 00 00 00	 mov	 DWORD PTR tv152[ebp], 129 ; 00000081H
  001d1	eb 20		 jmp	 SHORT $LN54@draw_hind_
$LN53@draw_hind_:
  001d3	68 28 04 00 00	 push	 1064			; 00000428H
  001d8	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  001dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001e3	51		 push	 ecx
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv152[ebp], 0
$LN54@draw_hind_:
  001f3	68 81 00 00 00	 push	 129			; 00000081H
  001f8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001fe	52		 push	 edx
  001ff	69 85 40 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv145[ebp], 1116
  00209	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR tv152[ebp]
  0020f	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00216	ff d2		 call	 edx
  00218	85 c0		 test	 eax, eax
  0021a	74 0f		 je	 SHORT $LN16@draw_hind_

; 1065 : 					{
; 1066 : 						animate_damaged_helicopter_main_rotors (get_gunship_entity (), TRUE);

  0021c	6a 01		 push	 1
  0021e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00223	50		 push	 eax
  00224	e8 00 00 00 00	 call	 ?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z ; animate_damaged_helicopter_main_rotors

; 1067 : 					}
; 1068 : 					else

  00229	eb 0f		 jmp	 SHORT $LN17@draw_hind_
$LN16@draw_hind_:

; 1069 : 					{
; 1070 : 						animate_helicopter_main_rotors (get_gunship_entity (), TRUE, FALSE);

  0022b	6a 00		 push	 0
  0022d	6a 01		 push	 1
  0022f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00234	50		 push	 eax
  00235	e8 00 00 00 00	 call	 ?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z ; animate_helicopter_main_rotors
$LN17@draw_hind_:

; 1071 : 					}
; 1072 : 
; 1073 : 					inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0023a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00241	74 0f		 je	 SHORT $LN55@draw_hind_
  00243	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00248	8b 08		 mov	 ecx, DWORD PTR [eax]
  0024a	89 8d 40 ff ff
	ff		 mov	 DWORD PTR tv170[ebp], ecx
  00250	eb 24		 jmp	 SHORT $LN56@draw_hind_
$LN55@draw_hind_:
  00252	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_hind_external_virtual_cockpit@@YGXIPAE@Z@4JA
  00258	83 c2 4f	 add	 edx, 79			; 0000004fH
  0025b	52		 push	 edx
  0025c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00261	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00266	50		 push	 eax
  00267	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0026c	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv170[ebp], 0
$LN56@draw_hind_:
  00276	b9 01 00 00 00	 mov	 ecx, 1
  0027b	85 c9		 test	 ecx, ecx
  0027d	74 0c		 je	 SHORT $LN57@draw_hind_
  0027f	c7 85 3c ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv178[ebp], 2
  00289	eb 24		 jmp	 SHORT $LN58@draw_hind_
$LN57@draw_hind_:
  0028b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_hind_external_virtual_cockpit@@YGXIPAE@Z@4JA
  00291	83 c2 4f	 add	 edx, 79			; 0000004fH
  00294	52		 push	 edx
  00295	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0029a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  0029f	50		 push	 eax
  002a0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a5	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv178[ebp], 0
$LN58@draw_hind_:
  002af	6a 02		 push	 2
  002b1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002b7	51		 push	 ecx
  002b8	6b 95 40 ff ff
	ff 50		 imul	 edx, DWORD PTR tv170[ebp], 80
  002bf	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv178[ebp]
  002c5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  002cc	ff d1		 call	 ecx
  002ce	89 45 90	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1074 : 
; 1075 : 					theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  002d1	8b 45 90	 mov	 eax, DWORD PTR _inst3d$[ebp]
  002d4	50		 push	 eax
  002d5	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  002da	d9 5d 94	 fstp	 DWORD PTR _theta$[ebp]

; 1076 : 
; 1077 : 					if (flags & VIRTUAL_COCKPIT_LARGE_HUD)

  002dd	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  002e0	83 e0 02	 and	 eax, 2
  002e3	74 62		 je	 SHORT $LN18@draw_hind_

; 1078 : 					{
; 1079 : 						set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_large_hud_main_rotor_inst3d, theta);

  002e5	51		 push	 ecx
  002e6	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _theta$[ebp]
  002eb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002f5	50		 push	 eax
  002f6	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1080 : 
; 1081 : 						animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_large_hud_main_rotor_inst3d);

  002fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00300	50		 push	 eax
  00301	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00307	51		 push	 ecx
  00308	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1082 : 
; 1083 : 						memcpy (&virtual_cockpit_large_hud_main_rotor_inst3d->vp, &vp, sizeof (viewpoint));

  0030d	6a 30		 push	 48			; 00000030H
  0030f	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00312	50		 push	 eax
  00313	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00319	83 c1 08	 add	 ecx, 8
  0031c	51		 push	 ecx
  0031d	e8 00 00 00 00	 call	 _memcpy
  00322	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1084 : 
; 1085 : 						insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_large_hud_main_rotor_inst3d->vp.position, virtual_cockpit_large_hud_main_rotor_inst3d);

  00325	51		 push	 ecx
  00326	0f 57 c0	 xorps	 xmm0, xmm0
  00329	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0032e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00333	50		 push	 eax
  00334	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0033a	83 c1 08	 add	 ecx, 8
  0033d	51		 push	 ecx
  0033e	6a 02		 push	 2
  00340	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 1086 : 					}
; 1087 : 					else

  00345	eb 60		 jmp	 SHORT $LN19@draw_hind_
$LN18@draw_hind_:

; 1088 : 					{
; 1089 : 						set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  00347	51		 push	 ecx
  00348	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _theta$[ebp]
  0034d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00352	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00357	50		 push	 eax
  00358	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1090 : 
; 1091 : 						animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  0035d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00362	50		 push	 eax
  00363	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00369	51		 push	 ecx
  0036a	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1092 : 
; 1093 : 						memcpy (&virtual_cockpit_main_rotor_inst3d->vp, &vp, sizeof (viewpoint));

  0036f	6a 30		 push	 48			; 00000030H
  00371	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00374	50		 push	 eax
  00375	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0037b	83 c1 08	 add	 ecx, 8
  0037e	51		 push	 ecx
  0037f	e8 00 00 00 00	 call	 _memcpy
  00384	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1094 : 
; 1095 : 						insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_main_rotor_inst3d->vp.position, virtual_cockpit_main_rotor_inst3d);

  00387	51		 push	 ecx
  00388	0f 57 c0	 xorps	 xmm0, xmm0
  0038b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00390	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00395	50		 push	 eax
  00396	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0039c	83 c1 08	 add	 ecx, 8
  0039f	51		 push	 ecx
  003a0	6a 02		 push	 2
  003a2	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN19@draw_hind_:

; 1096 : 					}
; 1097 : 				}
; 1098 : 			}
; 1099 : 
; 1100 : 			//
; 1101 : 			// wiper
; 1102 : 			//
; 1103 : 
; 1104 : 			if (wiper_mode == WIPER_MODE_STOWED)

  003a7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wiper_mode@@3W4WIPER_MODES@@A, 0 ; wiper_mode
  003ae	75 1c		 jne	 SHORT $LN20@draw_hind_

; 1105 : 			{
; 1106 : 				if (flags & VIRTUAL_COCKPIT_STOWED_WIPER)

  003b0	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  003b3	25 00 40 00 00	 and	 eax, 16384		; 00004000H
  003b8	74 10		 je	 SHORT $LN22@draw_hind_

; 1107 : 				{
; 1108 : 					draw_hind_virtual_cockpit_wiper (&vp, flags & VIRTUAL_COCKPIT_LARGE_HUD);

  003ba	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  003bd	83 e0 02	 and	 eax, 2
  003c0	50		 push	 eax
  003c1	8d 4d d0	 lea	 ecx, DWORD PTR _vp$[ebp]
  003c4	51		 push	 ecx
  003c5	e8 00 00 00 00	 call	 ?draw_hind_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@H@Z ; draw_hind_virtual_cockpit_wiper
$LN22@draw_hind_:

; 1109 : 				}
; 1110 : 			}
; 1111 : 			else

  003ca	eb 1a		 jmp	 SHORT $LN23@draw_hind_
$LN20@draw_hind_:

; 1112 : 			{
; 1113 : 				if (flags & VIRTUAL_COCKPIT_MOVING_WIPER)

  003cc	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  003cf	25 00 80 00 00	 and	 eax, 32768		; 00008000H
  003d4	74 10		 je	 SHORT $LN23@draw_hind_

; 1114 : 				{
; 1115 : 					draw_hind_virtual_cockpit_wiper (&vp, flags & VIRTUAL_COCKPIT_LARGE_HUD);

  003d6	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  003d9	83 e0 02	 and	 eax, 2
  003dc	50		 push	 eax
  003dd	8d 4d d0	 lea	 ecx, DWORD PTR _vp$[ebp]
  003e0	51		 push	 ecx
  003e1	e8 00 00 00 00	 call	 ?draw_hind_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@H@Z ; draw_hind_virtual_cockpit_wiper
$LN23@draw_hind_:

; 1116 : 				}
; 1117 : 			}
; 1118 : 
; 1119 : 			draw_3d_scene ();

  003e6	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1120 : 
; 1121 : 			end_3d_scene ();

  003eb	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN12@draw_hind_:

; 1122 : 		}
; 1123 : 	}
; 1124 : 
; 1125 : 	////////////////////////////////////////
; 1126 : 	//
; 1127 : 	// draw 3D scene with lighting
; 1128 : 	//
; 1129 : 	////////////////////////////////////////
; 1130 : 
; 1131 : 	if (flags & (VIRTUAL_COCKPIT_ADI | VIRTUAL_COCKPIT_HSI | VIRTUAL_COCKPIT_COMPASS))

  003f0	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  003f3	25 80 06 00 00	 and	 eax, 1664		; 00000680H
  003f8	0f 84 1e 04 00
	00		 je	 $LN25@draw_hind_

; 1132 : 	{
; 1133 : 		set_cockpit_lighting (vp.attitude);

  003fe	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00401	50		 push	 eax
  00402	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 1134 : 
; 1135 : 		set_3d_active_environment (main_3d_single_light_env);

  00407	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0040c	50		 push	 eax
  0040d	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1136 : 
; 1137 : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  00412	51		 push	 ecx
  00413	0f 57 c0	 xorps	 xmm0, xmm0
  00416	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0041b	51		 push	 ecx
  0041c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00424	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00429	51		 push	 ecx
  0042a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00432	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00437	51		 push	 ecx
  00438	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00440	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00445	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0044a	50		 push	 eax
  0044b	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1138 : 
; 1139 : 		realise_3d_clip_extents (main_3d_single_light_env);

  00450	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00455	50		 push	 eax
  00456	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1140 : 
; 1141 : 		clear_zbuffer_screen ();

  0045b	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1142 : 
; 1143 : 		if (begin_3d_scene ())

  00460	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00465	85 c0		 test	 eax, eax
  00467	0f 84 af 03 00
	00		 je	 $LN25@draw_hind_

; 1144 : 		{
; 1145 : 			//
; 1146 : 			// ADI
; 1147 : 			//
; 1148 : 
; 1149 : 			if (flags & VIRTUAL_COCKPIT_ADI)

  0046d	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00470	25 80 00 00 00	 and	 eax, 128		; 00000080H
  00475	0f 84 e3 00 00
	00		 je	 $LN26@draw_hind_

; 1150 : 			{
; 1151 : 				search.search_depth = 0;

  0047b	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1152 : 				search.search_object = virtual_cockpit_adi_inst3d;

  00482	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00487	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1153 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_ADI;

  0048a	c7 45 a4 79 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 121 ; 00000079H

; 1154 : 
; 1155 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00491	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00494	50		 push	 eax
  00495	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0049a	83 f8 01	 cmp	 eax, 1
  0049d	75 4a		 jne	 SHORT $LN27@draw_hind_

; 1156 : 				{
; 1157 : 					float
; 1158 : 						heading,
; 1159 : 						pitch,
; 1160 : 						roll;
; 1161 : 
; 1162 : 					get_havoc_virtual_cockpit_adi_angles (vp.attitude, &heading, &pitch, &roll);

  0049f	8d 45 84	 lea	 eax, DWORD PTR _roll$1[ebp]
  004a2	50		 push	 eax
  004a3	8d 4d 88	 lea	 ecx, DWORD PTR _pitch$2[ebp]
  004a6	51		 push	 ecx
  004a7	8d 55 8c	 lea	 edx, DWORD PTR _heading$3[ebp]
  004aa	52		 push	 edx
  004ab	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  004ae	50		 push	 eax
  004af	e8 00 00 00 00	 call	 ?get_havoc_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z ; get_havoc_virtual_cockpit_adi_angles

; 1163 : 
; 1164 : 					search.result_sub_object->relative_heading = -heading;

  004b4	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _heading$3[ebp]
  004b9	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  004c0	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004c3	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 1165 : 
; 1166 : 					search.result_sub_object->relative_pitch = pitch;

  004c8	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004cb	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _pitch$2[ebp]
  004d0	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 1167 : 
; 1168 : 					search.result_sub_object->relative_roll = -roll;

  004d5	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _roll$1[ebp]
  004da	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  004e1	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004e4	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN27@draw_hind_:

; 1169 : 				}
; 1170 : 
; 1171 : //VJ wideview mod, date: 18-mar-03
; 1172 : 				if (get_global_wide_cockpit ())

  004e9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  004f0	74 34		 je	 SHORT $LN28@draw_hind_

; 1173 : 				{
; 1174 : 				    vp.y = wide_cockpit_position[wide_cockpit_nr].c.y+0.01;

  004f2	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  004f9	f3 0f 5a 80 18
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  00501	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  00509	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0050d	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1175 : 				    vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00512	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00519	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00521	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN28@draw_hind_:

; 1176 : 				}
; 1177 : 
; 1178 : 				memcpy (&virtual_cockpit_adi_inst3d->vp, &vp, sizeof (viewpoint));

  00526	6a 30		 push	 48			; 00000030H
  00528	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0052b	50		 push	 eax
  0052c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00532	83 c1 08	 add	 ecx, 8
  00535	51		 push	 ecx
  00536	e8 00 00 00 00	 call	 _memcpy
  0053b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1179 : 
; 1180 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_adi_inst3d->vp.position, virtual_cockpit_adi_inst3d);

  0053e	51		 push	 ecx
  0053f	0f 57 c0	 xorps	 xmm0, xmm0
  00542	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00547	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0054c	50		 push	 eax
  0054d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00553	83 c1 08	 add	 ecx, 8
  00556	51		 push	 ecx
  00557	6a 02		 push	 2
  00559	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN26@draw_hind_:

; 1181 : 			}
; 1182 : 
; 1183 : 			//
; 1184 : 			// HSI
; 1185 : 			//
; 1186 : 
; 1187 : 			if (flags & VIRTUAL_COCKPIT_HSI)

  0055e	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00561	25 00 02 00 00	 and	 eax, 512		; 00000200H
  00566	0f 84 47 01 00
	00		 je	 $LN29@draw_hind_

; 1188 : 			{
; 1189 : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  0056c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00573	74 0f		 je	 SHORT $LN59@draw_hind_
  00575	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0057a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0057c	89 8d 40 ff ff
	ff		 mov	 DWORD PTR tv282[ebp], ecx
  00582	eb 20		 jmp	 SHORT $LN60@draw_hind_
$LN59@draw_hind_:
  00584	68 a5 04 00 00	 push	 1189			; 000004a5H
  00589	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0058e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00594	52		 push	 edx
  00595	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0059a	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv282[ebp], 0
$LN60@draw_hind_:
  005a4	b8 01 00 00 00	 mov	 eax, 1
  005a9	85 c0		 test	 eax, eax
  005ab	74 0c		 je	 SHORT $LN61@draw_hind_
  005ad	c7 85 3c ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv289[ebp], 39 ; 00000027H
  005b7	eb 20		 jmp	 SHORT $LN62@draw_hind_
$LN61@draw_hind_:
  005b9	68 a5 04 00 00	 push	 1189			; 000004a5H
  005be	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  005c3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  005c9	51		 push	 ecx
  005ca	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005cf	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv289[ebp], 0
$LN62@draw_hind_:
  005d9	6a 27		 push	 39			; 00000027H
  005db	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  005e1	52		 push	 edx
  005e2	69 85 40 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv282[ebp], 1116
  005ec	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR tv289[ebp]
  005f2	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  005f9	ff d2		 call	 edx
  005fb	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv295[ebp], eax
  00601	83 bd 38 ff ff
	ff 03		 cmp	 DWORD PTR tv295[ebp], 3
  00608	77 3b		 ja	 SHORT $LN2@draw_hind_
  0060a	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR tv295[ebp]
  00610	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN67@draw_hind_[eax*4]
$LN30@draw_hind_:

; 1190 : 				{
; 1191 : 					////////////////////////////////////////
; 1192 : 					case DAY_SEGMENT_TYPE_DAWN:
; 1193 : 					////////////////////////////////////////
; 1194 : 					{
; 1195 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level2_inst3d;

  00617	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0061c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1196 : 
; 1197 : 						break;

  00621	eb 22		 jmp	 SHORT $LN2@draw_hind_
$LN31@draw_hind_:

; 1198 : 					}
; 1199 : 					////////////////////////////////////////
; 1200 : 					case DAY_SEGMENT_TYPE_DAY:
; 1201 : 					////////////////////////////////////////
; 1202 : 					{
; 1203 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level1_inst3d;

  00623	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00628	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1204 : 
; 1205 : 						break;

  0062d	eb 16		 jmp	 SHORT $LN2@draw_hind_
$LN32@draw_hind_:

; 1206 : 					}
; 1207 : 					////////////////////////////////////////
; 1208 : 					case DAY_SEGMENT_TYPE_DUSK:
; 1209 : 					////////////////////////////////////////
; 1210 : 					{
; 1211 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level2_inst3d;

  0062f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00634	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1212 : 
; 1213 : 						break;

  00639	eb 0a		 jmp	 SHORT $LN2@draw_hind_
$LN33@draw_hind_:

; 1214 : 					}
; 1215 : 					////////////////////////////////////////
; 1216 : 					case DAY_SEGMENT_TYPE_NIGHT:
; 1217 : 					////////////////////////////////////////
; 1218 : 					{
; 1219 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level2_inst3d;

  0063b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00640	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN2@draw_hind_:

; 1220 : 
; 1221 : 						break;
; 1222 : 					}
; 1223 : 				}
; 1224 : 
; 1225 : 				#if DEMO_VERSION
; 1226 : 
; 1227 : 				virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level1_inst3d;
; 1228 : 
; 1229 : 				#endif
; 1230 : 
; 1231 : 				search.search_depth = 0;

  00645	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1232 : 				search.search_object = virtual_cockpit_hsi_inst3d;

  0064c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00651	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1233 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI;

  00654	c7 45 a4 84 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 132 ; 00000084H

; 1234 : 
; 1235 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0065b	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0065e	50		 push	 eax
  0065f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00664	83 f8 01	 cmp	 eax, 1
  00667	75 12		 jne	 SHORT $LN34@draw_hind_

; 1236 : 				{
; 1237 : 					search.result_sub_object->relative_roll = current_flight_dynamics->heading.value;

  00669	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0066c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00672	8b 91 8c 21 00
	00		 mov	 edx, DWORD PTR [ecx+8588]
  00678	89 50 20	 mov	 DWORD PTR [eax+32], edx
$LN34@draw_hind_:

; 1238 : 				}
; 1239 : 
; 1240 : 				memcpy (&virtual_cockpit_hsi_inst3d->vp, &vp, sizeof (viewpoint));

  0067b	6a 30		 push	 48			; 00000030H
  0067d	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00680	50		 push	 eax
  00681	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00687	83 c1 08	 add	 ecx, 8
  0068a	51		 push	 ecx
  0068b	e8 00 00 00 00	 call	 _memcpy
  00690	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1241 : 
; 1242 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_inst3d->vp.position, virtual_cockpit_hsi_inst3d);

  00693	51		 push	 ecx
  00694	0f 57 c0	 xorps	 xmm0, xmm0
  00697	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0069c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  006a1	50		 push	 eax
  006a2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  006a8	83 c1 08	 add	 ecx, 8
  006ab	51		 push	 ecx
  006ac	6a 02		 push	 2
  006ae	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN29@draw_hind_:

; 1243 : 			}
; 1244 : 
; 1245 : 			//
; 1246 : 			// compass
; 1247 : 			//
; 1248 : 
; 1249 : 			if (flags & VIRTUAL_COCKPIT_COMPASS)

  006b3	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  006b6	25 00 04 00 00	 and	 eax, 1024		; 00000400H
  006bb	0f 84 51 01 00
	00		 je	 $LN35@draw_hind_

; 1250 : 			{
; 1251 : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  006c1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  006c8	74 0f		 je	 SHORT $LN63@draw_hind_
  006ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  006cf	8b 08		 mov	 ecx, DWORD PTR [eax]
  006d1	89 8d 40 ff ff
	ff		 mov	 DWORD PTR tv320[ebp], ecx
  006d7	eb 20		 jmp	 SHORT $LN64@draw_hind_
$LN63@draw_hind_:
  006d9	68 e3 04 00 00	 push	 1251			; 000004e3H
  006de	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  006e3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006e9	52		 push	 edx
  006ea	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006ef	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv320[ebp], 0
$LN64@draw_hind_:
  006f9	b8 01 00 00 00	 mov	 eax, 1
  006fe	85 c0		 test	 eax, eax
  00700	74 0c		 je	 SHORT $LN65@draw_hind_
  00702	c7 85 3c ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv327[ebp], 39 ; 00000027H
  0070c	eb 20		 jmp	 SHORT $LN66@draw_hind_
$LN65@draw_hind_:
  0070e	68 e3 04 00 00	 push	 1251			; 000004e3H
  00713	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00718	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0071e	51		 push	 ecx
  0071f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00724	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv327[ebp], 0
$LN66@draw_hind_:
  0072e	6a 27		 push	 39			; 00000027H
  00730	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00736	52		 push	 edx
  00737	69 85 40 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv320[ebp], 1116
  00741	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR tv327[ebp]
  00747	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0074e	ff d2		 call	 edx
  00750	89 85 38 ff ff
	ff		 mov	 DWORD PTR tv333[ebp], eax
  00756	83 bd 38 ff ff
	ff 03		 cmp	 DWORD PTR tv333[ebp], 3
  0075d	77 3b		 ja	 SHORT $LN4@draw_hind_
  0075f	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR tv333[ebp]
  00765	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN68@draw_hind_[eax*4]
$LN36@draw_hind_:

; 1252 : 				{
; 1253 : 					////////////////////////////////////////
; 1254 : 					case DAY_SEGMENT_TYPE_DAWN:
; 1255 : 					////////////////////////////////////////
; 1256 : 					{
; 1257 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level2_inst3d;

  0076c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00771	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1258 : 
; 1259 : 						break;

  00776	eb 22		 jmp	 SHORT $LN4@draw_hind_
$LN37@draw_hind_:

; 1260 : 					}
; 1261 : 					////////////////////////////////////////
; 1262 : 					case DAY_SEGMENT_TYPE_DAY:
; 1263 : 					////////////////////////////////////////
; 1264 : 					{
; 1265 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level1_inst3d;

  00778	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0077d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1266 : 
; 1267 : 						break;

  00782	eb 16		 jmp	 SHORT $LN4@draw_hind_
$LN38@draw_hind_:

; 1268 : 					}
; 1269 : 					////////////////////////////////////////
; 1270 : 					case DAY_SEGMENT_TYPE_DUSK:
; 1271 : 					////////////////////////////////////////
; 1272 : 					{
; 1273 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level2_inst3d;

  00784	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00789	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1274 : 
; 1275 : 						break;

  0078e	eb 0a		 jmp	 SHORT $LN4@draw_hind_
$LN39@draw_hind_:

; 1276 : 					}
; 1277 : 					////////////////////////////////////////
; 1278 : 					case DAY_SEGMENT_TYPE_NIGHT:
; 1279 : 					////////////////////////////////////////
; 1280 : 					{
; 1281 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level2_inst3d;

  00790	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00795	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN4@draw_hind_:

; 1282 : 
; 1283 : 						break;
; 1284 : 					}
; 1285 : 				}
; 1286 : 
; 1287 : 				#if DEMO_VERSION
; 1288 : 
; 1289 : 				virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level1_inst3d;
; 1290 : 
; 1291 : 				#endif
; 1292 : 
; 1293 : 				search.search_depth = 0;

  0079a	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1294 : 				search.search_object = virtual_cockpit_compass_inst3d;

  007a1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007a6	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1295 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_COMPASS_HEADING_NULL;

  007a9	c7 45 a4 7b 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 123 ; 0000007bH

; 1296 : 
; 1297 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  007b0	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  007b3	50		 push	 eax
  007b4	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  007b9	83 f8 01	 cmp	 eax, 1
  007bc	75 1c		 jne	 SHORT $LN40@draw_hind_

; 1298 : 				{
; 1299 : 					search.result_sub_object->relative_heading = -current_flight_dynamics->heading.value;

  007be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  007c3	f3 0f 10 80 8c
	21 00 00	 movss	 xmm0, DWORD PTR [eax+8588]
  007cb	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  007d2	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  007d5	f3 0f 11 41 18	 movss	 DWORD PTR [ecx+24], xmm0
$LN40@draw_hind_:

; 1300 : 				}
; 1301 : 
; 1302 : 				memcpy (&virtual_cockpit_compass_inst3d->vp, &vp, sizeof (viewpoint));

  007da	6a 30		 push	 48			; 00000030H
  007dc	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  007df	50		 push	 eax
  007e0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007e6	83 c1 08	 add	 ecx, 8
  007e9	51		 push	 ecx
  007ea	e8 00 00 00 00	 call	 _memcpy
  007ef	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1303 : 
; 1304 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_compass_inst3d->vp.position, virtual_cockpit_compass_inst3d);

  007f2	51		 push	 ecx
  007f3	0f 57 c0	 xorps	 xmm0, xmm0
  007f6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00800	50		 push	 eax
  00801	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00807	83 c1 08	 add	 ecx, 8
  0080a	51		 push	 ecx
  0080b	6a 02		 push	 2
  0080d	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN35@draw_hind_:

; 1305 : 			}
; 1306 : 
; 1307 : 			draw_3d_scene ();

  00812	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1308 : 
; 1309 : 			end_3d_scene ();

  00817	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN25@draw_hind_:

; 1310 : 		}
; 1311 : 	}
; 1312 : 
; 1313 : 	////////////////////////////////////////
; 1314 : 	//
; 1315 : 	// rendered wiper
; 1316 : 	//
; 1317 : 	////////////////////////////////////////
; 1318 : 
; 1319 : 	if (flags & VIRTUAL_COCKPIT_RENDERED_WIPER)

  0081c	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0081f	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  00824	74 59		 je	 SHORT $LN44@draw_hind_

; 1320 : 	{
; 1321 : 		if (wiper_mode == WIPER_MODE_STOWED)

  00826	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wiper_mode@@3W4WIPER_MODES@@A, 0 ; wiper_mode
  0082d	75 50		 jne	 SHORT $LN44@draw_hind_

; 1322 : 		{
; 1323 : 			ASSERT (wiper_rle_graphic);

  0082f	83 7d 0c 00	 cmp	 DWORD PTR _wiper_rle_graphic$[ebp], 0
  00833	75 1a		 jne	 SHORT $LN43@draw_hind_
  00835	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_hind_external_virtual_cockpit@@YGXIPAE@Z@4JA
  0083a	05 49 01 00 00	 add	 eax, 329		; 00000149H
  0083f	50		 push	 eax
  00840	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00845	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@ENKILJCA@wiper_rle_graphic@
  0084a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN43@draw_hind_:

; 1324 : 
; 1325 : 			if (lock_screen (active_screen))

  0084f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  00854	50		 push	 eax
  00855	e8 00 00 00 00	 call	 ?lock_screen@@YGHPAUSCREEN@@@Z ; lock_screen
  0085a	85 c0		 test	 eax, eax
  0085c	74 21		 je	 SHORT $LN44@draw_hind_

; 1326 : 			{
; 1327 : 				blit_rle_graphic (wiper_rle_graphic, ix_640_480, iy_640_480);

  0085e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?iy_640_480@@3HA ; iy_640_480
  00863	50		 push	 eax
  00864	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ix_640_480@@3HA ; ix_640_480
  0086a	51		 push	 ecx
  0086b	8b 55 0c	 mov	 edx, DWORD PTR _wiper_rle_graphic$[ebp]
  0086e	52		 push	 edx
  0086f	e8 00 00 00 00	 call	 ?blit_rle_graphic@@YGXPBEHH@Z ; blit_rle_graphic

; 1328 : 
; 1329 : 				unlock_screen (active_screen);

  00874	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  00879	50		 push	 eax
  0087a	e8 00 00 00 00	 call	 ?unlock_screen@@YGHPAUSCREEN@@@Z ; unlock_screen
$LN44@draw_hind_:

; 1330 : 			}
; 1331 : 		}
; 1332 : 	}
; 1333 : 
; 1334 : 	////////////////////////////////////////
; 1335 : 	//
; 1336 : 	// rain effect
; 1337 : 	//
; 1338 : 	////////////////////////////////////////
; 1339 : 
; 1340 : 	if (flags & VIRTUAL_COCKPIT_RAIN_EFFECT)

  0087f	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00882	25 00 00 01 00	 and	 eax, 65536		; 00010000H
  00887	0f 84 94 00 00
	00		 je	 $LN47@draw_hind_

; 1341 : 	{
; 1342 : 		if (rain_mode != RAIN_MODE_DRY)

  0088d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?rain_mode@@3W4RAIN_MODES@@A, 0 ; rain_mode
  00894	0f 84 87 00 00
	00		 je	 $LN47@draw_hind_

; 1343 : 		{
; 1344 : 			set_3d_active_environment (main_3d_env);

  0089a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0089f	50		 push	 eax
  008a0	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1345 : 
; 1346 : 			set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  008a5	51		 push	 ecx
  008a6	0f 57 c0	 xorps	 xmm0, xmm0
  008a9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008ae	51		 push	 ecx
  008af	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  008b7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008bc	51		 push	 ecx
  008bd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  008c5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008ca	51		 push	 ecx
  008cb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  008d3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  008dd	50		 push	 eax
  008de	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1347 : 
; 1348 : 			realise_3d_clip_extents (main_3d_env);

  008e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  008e8	50		 push	 eax
  008e9	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1349 : 
; 1350 : 			recalculate_3d_environment_settings (main_3d_env);

  008ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  008f3	50		 push	 eax
  008f4	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1351 : 
; 1352 : 			clear_zbuffer_screen ();

  008f9	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1353 : 
; 1354 : 			if (begin_3d_scene ())

  008fe	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00903	85 c0		 test	 eax, eax
  00905	74 1a		 je	 SHORT $LN47@draw_hind_

; 1355 : 			{
; 1356 : 				draw_hind_virtual_cockpit_rain_effect (&vp, flags & VIRTUAL_COCKPIT_LARGE_HUD);

  00907	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0090a	83 e0 02	 and	 eax, 2
  0090d	50		 push	 eax
  0090e	8d 4d d0	 lea	 ecx, DWORD PTR _vp$[ebp]
  00911	51		 push	 ecx
  00912	e8 00 00 00 00	 call	 ?draw_hind_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@H@Z ; draw_hind_virtual_cockpit_rain_effect

; 1357 : 
; 1358 : 				draw_3d_scene ();

  00917	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1359 : 
; 1360 : 				end_3d_scene ();

  0091c	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN47@draw_hind_:

; 1361 : 			}
; 1362 : 		}
; 1363 : 	}
; 1364 : 
; 1365 : 	move_edit_wide_cockpit ();

  00921	e8 00 00 00 00	 call	 ?move_edit_wide_cockpit@@YGXXZ ; move_edit_wide_cockpit

; 1366 : 
; 1367 : 
; 1368 : 
; 1369 : 	////////////////////////////////////////
; 1370 : 	//
; 1371 : 	// tidy up
; 1372 : 	//
; 1373 : 	////////////////////////////////////////
; 1374 : 
; 1375 : 	#if RECOGNITION_GUIDE
; 1376 : 
; 1377 : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 1378 : 
; 1379 : 	#else
; 1380 : 
; 1381 : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00926	51		 push	 ecx
  00927	0f 57 c0	 xorps	 xmm0, xmm0
  0092a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0092f	51		 push	 ecx
  00930	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00938	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0093d	51		 push	 ecx
  0093e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00946	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0094b	51		 push	 ecx
  0094c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00954	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00959	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0095e	50		 push	 eax
  0095f	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1382 : 
; 1383 : 	#endif
; 1384 : 
; 1385 : 	realise_3d_clip_extents (main_3d_env);

  00964	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00969	50		 push	 eax
  0096a	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1386 : }

  0096f	5f		 pop	 edi
  00970	5e		 pop	 esi
  00971	5b		 pop	 ebx
  00972	8b e5		 mov	 esp, ebp
  00974	5d		 pop	 ebp
  00975	c2 08 00	 ret	 8
$LN67@draw_hind_:
  00978	00 00 00 00	 DD	 $LN30@draw_hind_
  0097c	00 00 00 00	 DD	 $LN31@draw_hind_
  00980	00 00 00 00	 DD	 $LN32@draw_hind_
  00984	00 00 00 00	 DD	 $LN33@draw_hind_
$LN68@draw_hind_:
  00988	00 00 00 00	 DD	 $LN36@draw_hind_
  0098c	00 00 00 00	 DD	 $LN37@draw_hind_
  00990	00 00 00 00	 DD	 $LN38@draw_hind_
  00994	00 00 00 00	 DD	 $LN39@draw_hind_
?draw_hind_external_virtual_cockpit@@YGXIPAE@Z ENDP	; draw_hind_external_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?draw_hind_internal_virtual_cockpit@@YGXI@Z
_TEXT	SEGMENT
tv427 = -196						; size = 4
tv312 = -196						; size = 4
tv282 = -196						; size = 4
tv182 = -196						; size = 4
tv421 = -192						; size = 4
tv306 = -192						; size = 4
tv276 = -192						; size = 4
tv176 = -192						; size = 4
tv414 = -188						; size = 4
tv299 = -188						; size = 4
tv269 = -188						; size = 4
tv169 = -188						; size = 4
tv91 = -188						; size = 4
_drift$1 = -120						; size = 4
_flight_path$2 = -116					; size = 4
_direction_finder$3 = -112				; size = 4
_virtual_cockpit_inst3d$ = -108				; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
?draw_hind_internal_virtual_cockpit@@YGXI@Z PROC	; draw_hind_internal_virtual_cockpit, COMDAT

; 485  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 486  : 	viewpoint
; 487  : 		vp;
; 488  : 
; 489  : 	object_3d_sub_object_search_data
; 490  : 		search;
; 491  : 
; 492  : 	object_3d_instance
; 493  : 		*virtual_cockpit_inst3d;
; 494  : 
; 495  : 	////////////////////////////////////////
; 496  : 	//
; 497  : 	// virtual cockpit viewpoint is placed at the main object origin
; 498  : 	//
; 499  : 	////////////////////////////////////////
; 500  : 
; 501  : 	if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV)

  0000c	83 3d 00 00 00
	00 1e		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 30 ; view_mode, 0000001eH
  00013	75 10		 jne	 SHORT $LN10@draw_hind_

; 502  : 	{
; 503  : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV, &vp);

  00015	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00018	50		 push	 eax
  00019	6a 1e		 push	 30			; 0000001eH
  0001b	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint
  00020	e9 f0 00 00 00	 jmp	 $LN13@draw_hind_
$LN10@draw_hind_:

; 504  : 	}
; 505  : 	else if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD)

  00025	83 3d 00 00 00
	00 1f		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 31 ; view_mode, 0000001fH
  0002c	75 10		 jne	 SHORT $LN12@draw_hind_

; 506  : 	{
; 507  : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD, &vp);

  0002e	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00031	50		 push	 eax
  00032	6a 1f		 push	 31			; 0000001fH
  00034	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint

; 508  : 	}
; 509  : 	else

  00039	e9 d7 00 00 00	 jmp	 $LN13@draw_hind_
$LN12@draw_hind_:

; 510  : 	{
; 511  : 		vp.x = 0.0;

  0003e	0f 57 c0	 xorps	 xmm0, xmm0
  00041	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 512  : 		vp.y = 0.0;

  00046	0f 57 c0	 xorps	 xmm0, xmm0
  00049	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 513  : 		vp.z = 0.0;

  0004e	0f 57 c0	 xorps	 xmm0, xmm0
  00051	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 514  : 
; 515  : //VJ wideview mod, date: 18-mar-03
; 516  : 		if (get_global_wide_cockpit ())

  00056	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  0005d	74 60		 je	 SHORT $LN15@draw_hind_

; 517  : 		{
; 518  : 		   vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  0005f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00066	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  0006e	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 519  : 		   vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00073	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0007a	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00082	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 520  : 			//VJ 050207 included head pitch in fixed view setting
; 521  : 			pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  00087	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0008e	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  00096	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  0009e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 522  : 			if (edit_wide_cockpit)

  000a6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?edit_wide_cockpit@@3HA, 0 ; edit_wide_cockpit
  000ad	74 10		 je	 SHORT $LN15@draw_hind_

; 523  : 				pilot_head_pitch = pilot_head_pitch_datum;

  000af	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch_datum@@3MA
  000b7	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch@@3MA, xmm0
$LN15@draw_hind_:

; 524  : 		}
; 525  : 
; 526  : 		get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  000bf	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000c6	74 0f		 je	 SHORT $LN56@draw_hind_
  000c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000cd	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cf	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv91[ebp], ecx
  000d5	eb 24		 jmp	 SHORT $LN57@draw_hind_
$LN56@draw_hind_:
  000d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_hind_internal_virtual_cockpit@@YGXI@Z@4JA
  000dd	83 c2 29	 add	 edx, 41			; 00000029H
  000e0	52		 push	 edx
  000e1	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000eb	50		 push	 eax
  000ec	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000f1	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv91[ebp], 0
$LN57@draw_hind_:
  000fb	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  000fe	51		 push	 ecx
  000ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00105	52		 push	 edx
  00106	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR tv91[ebp]
  0010c	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  00113	ff d1		 call	 ecx
$LN13@draw_hind_:

; 527  : 	}
; 528  : 
; 529  : 	////////////////////////////////////////
; 530  : 	//
; 531  : 	// render displays onto textures (before draw 3D scenes)
; 532  : 	//
; 533  : 	////////////////////////////////////////
; 534  : 
; 535  : 	if (flags & VIRTUAL_COCKPIT_HUD_DISPLAY)

  00115	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00118	83 e0 08	 and	 eax, 8
  0011b	74 05		 je	 SHORT $LN16@draw_hind_

; 536  : 	{
; 537  : 		draw_hind_hud_on_texture ();

  0011d	e8 00 00 00 00	 call	 ?draw_hind_hud_on_texture@@YGXXZ ; draw_hind_hud_on_texture
$LN16@draw_hind_:

; 538  : 	}
; 539  : 
; 540  : 	if (flags & VIRTUAL_COCKPIT_EKRAN_DISPLAY)

  00122	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00125	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  0012a	74 05		 je	 SHORT $LN17@draw_hind_

; 541  : 	{
; 542  : 		draw_hind_ekran_display_on_texture ();

  0012c	e8 00 00 00 00	 call	 ?draw_hind_ekran_display_on_texture@@YGXXZ ; draw_hind_ekran_display_on_texture
$LN17@draw_hind_:

; 543  : 	}
; 544  : 
; 545  : 	if (flags & VIRTUAL_COCKPIT_CRT_DISPLAY)

  00131	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00134	83 e0 10	 and	 eax, 16			; 00000010H
  00137	74 05		 je	 SHORT $LN18@draw_hind_

; 546  : 	{
; 547  : 		draw_hind_mfd_on_texture ();

  00139	e8 00 00 00 00	 call	 ?draw_hind_mfd_on_texture@@YGXXZ ; draw_hind_mfd_on_texture
$LN18@draw_hind_:

; 548  : 	}
; 549  : 
; 550  : 	// Casm 10SEP05 Havoc Instruments - temporary used for Hind
; 551  : 	if (flags & VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES)

  0013e	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00141	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  00146	74 19		 je	 SHORT $LN19@draw_hind_

; 552  : 	{
; 553  : 		memcpy (&havoc_lamps, &hind_lamps, sizeof (havoc_lamps));

  00148	6a 10		 push	 16			; 00000010H
  0014a	68 00 00 00 00	 push	 OFFSET ?hind_lamps@@3UHIND_LAMP_FLAGS@@A ; hind_lamps
  0014f	68 00 00 00 00	 push	 OFFSET ?havoc_lamps@@3UHAVOC_LAMP_FLAGS@@A ; havoc_lamps
  00154	e8 00 00 00 00	 call	 _memcpy
  00159	83 c4 0c	 add	 esp, 12			; 0000000cH

; 554  : 		draw_havoc_virtual_cockpit_instruments_on_texture ();

  0015c	e8 00 00 00 00	 call	 ?draw_havoc_virtual_cockpit_instruments_on_texture@@YGXXZ ; draw_havoc_virtual_cockpit_instruments_on_texture
$LN19@draw_hind_:

; 555  : 	}
; 556  : 
; 557  : 	////////////////////////////////////////
; 558  : 	//
; 559  : 	// draw 3D scene with lighting
; 560  : 	//
; 561  : 	////////////////////////////////////////
; 562  : 
; 563  : 	if (flags & (VIRTUAL_COCKPIT_COCKPIT | VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES))

  00161	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00164	25 01 00 02 00	 and	 eax, 131073		; 00020001H
  00169	0f 84 49 03 00
	00		 je	 $LN22@draw_hind_

; 564  : 	{
; 565  : 		set_cockpit_lighting (vp.attitude);

  0016f	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00172	50		 push	 eax
  00173	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 566  : 
; 567  : 		set_3d_active_environment (main_3d_single_light_env);

  00178	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0017d	50		 push	 eax
  0017e	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 568  : 
; 569  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.3, 1.0, 0.0);

  00183	51		 push	 ecx
  00184	0f 57 c0	 xorps	 xmm0, xmm0
  00187	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0018c	51		 push	 ecx
  0018d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00195	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0019a	51		 push	 ecx
  0019b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e99999a
  001a3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a8	51		 push	 ecx
  001a9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  001b1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  001bb	50		 push	 eax
  001bc	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 570  : 
; 571  : //VJ wideview mod, date: 18-mar-03
; 572  : 		if (get_global_wide_cockpit ()&&

  001c1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  001c8	74 32		 je	 SHORT $LN21@draw_hind_
  001ca	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  001cd	25 1c 08 00 00	 and	 eax, 2076		; 0000081cH
  001d2	75 28		 jne	 SHORT $LN21@draw_hind_

; 573  : 	      !(flags & (VIRTUAL_COCKPIT_HUD_GLASS | VIRTUAL_COCKPIT_HUD_DISPLAY | VIRTUAL_COCKPIT_EKRAN_DISPLAY | VIRTUAL_COCKPIT_CRT_DISPLAY))
; 574  : 	   )
; 575  : 		{
; 576  : 		   vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  001d4	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  001db	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  001e3	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 577  : 		   vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  001e8	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  001ef	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  001f7	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN21@draw_hind_:

; 578  : 		}
; 579  : 
; 580  : 		realise_3d_clip_extents (main_3d_single_light_env);

  001fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00201	50		 push	 eax
  00202	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 581  : 
; 582  : 		clear_zbuffer_screen ();

  00207	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 583  : 
; 584  : 		if (begin_3d_scene ())

  0020c	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00211	85 c0		 test	 eax, eax
  00213	0f 84 9f 02 00
	00		 je	 $LN22@draw_hind_

; 585  : 		{
; 586  : 			//
; 587  : 			// virtual cockpit
; 588  : 			//
; 589  : 
; 590  : 			if (flags & VIRTUAL_COCKPIT_COCKPIT)

  00219	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0021c	83 e0 01	 and	 eax, 1
  0021f	0f 84 01 01 00
	00		 je	 $LN23@draw_hind_

; 591  : 			{
; 592  : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00225	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  0022c	74 0f		 je	 SHORT $LN58@draw_hind_
  0022e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00233	8b 08		 mov	 ecx, DWORD PTR [eax]
  00235	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv169[ebp], ecx
  0023b	eb 20		 jmp	 SHORT $LN59@draw_hind_
$LN58@draw_hind_:
  0023d	68 50 02 00 00	 push	 592			; 00000250H
  00242	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00247	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0024d	52		 push	 edx
  0024e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00253	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv169[ebp], 0
$LN59@draw_hind_:
  0025d	b8 01 00 00 00	 mov	 eax, 1
  00262	85 c0		 test	 eax, eax
  00264	74 0c		 je	 SHORT $LN60@draw_hind_
  00266	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv176[ebp], 39 ; 00000027H
  00270	eb 20		 jmp	 SHORT $LN61@draw_hind_
$LN60@draw_hind_:
  00272	68 50 02 00 00	 push	 592			; 00000250H
  00277	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0027c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00282	51		 push	 ecx
  00283	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00288	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv176[ebp], 0
$LN61@draw_hind_:
  00292	6a 27		 push	 39			; 00000027H
  00294	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0029a	52		 push	 edx
  0029b	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv169[ebp], 1116
  002a5	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv176[ebp]
  002ab	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  002b2	ff d2		 call	 edx
  002b4	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv182[ebp], eax
  002ba	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv182[ebp], 3
  002c1	77 33		 ja	 SHORT $LN2@draw_hind_
  002c3	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv182[ebp]
  002c9	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN74@draw_hind_[eax*4]
$LN24@draw_hind_:

; 593  : 				{
; 594  : 					////////////////////////////////////////
; 595  : 					case DAY_SEGMENT_TYPE_DAWN:
; 596  : 					////////////////////////////////////////
; 597  : 					{
; 598  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  002d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002d5	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 599  : 
; 600  : 						break;

  002d8	eb 1c		 jmp	 SHORT $LN2@draw_hind_
$LN25@draw_hind_:

; 601  : 					}
; 602  : 					////////////////////////////////////////
; 603  : 					case DAY_SEGMENT_TYPE_DAY:
; 604  : 					////////////////////////////////////////
; 605  : 					{
; 606  : 						virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;

  002da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002df	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 607  : 
; 608  : 						break;

  002e2	eb 12		 jmp	 SHORT $LN2@draw_hind_
$LN26@draw_hind_:

; 609  : 					}
; 610  : 					////////////////////////////////////////
; 611  : 					case DAY_SEGMENT_TYPE_DUSK:
; 612  : 					////////////////////////////////////////
; 613  : 					{
; 614  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  002e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002e9	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 615  : 
; 616  : 						break;

  002ec	eb 08		 jmp	 SHORT $LN2@draw_hind_
$LN27@draw_hind_:

; 617  : 					}
; 618  : 					////////////////////////////////////////
; 619  : 					case DAY_SEGMENT_TYPE_NIGHT:
; 620  : 					////////////////////////////////////////
; 621  : 					{
; 622  : 						virtual_cockpit_inst3d = virtual_cockpit_level3_inst3d;

  002ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002f3	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN2@draw_hind_:

; 623  : 
; 624  : 						break;
; 625  : 					}
; 626  : 				}
; 627  : 
; 628  : 				#if DEMO_VERSION
; 629  : 
; 630  : 				virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;
; 631  : 
; 632  : 				#endif
; 633  : 
; 634  : 				memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));

  002f6	6a 30		 push	 48			; 00000030H
  002f8	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  002fb	50		 push	 eax
  002fc	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002ff	83 c1 08	 add	 ecx, 8
  00302	51		 push	 ecx
  00303	e8 00 00 00 00	 call	 _memcpy
  00308	83 c4 0c	 add	 esp, 12			; 0000000cH

; 635  : 
; 636  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  0030b	51		 push	 ecx
  0030c	0f 57 c0	 xorps	 xmm0, xmm0
  0030f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00314	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00317	50		 push	 eax
  00318	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0031b	83 c1 08	 add	 ecx, 8
  0031e	51		 push	 ecx
  0031f	6a 02		 push	 2
  00321	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN23@draw_hind_:

; 637  : 			}
; 638  : 
; 639  : 			//
; 640  : 			// instrument needles
; 641  : 			//
; 642  : 
; 643  : 			if (flags & VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES)

  00326	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00329	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  0032e	0f 84 75 01 00
	00		 je	 $LN32@draw_hind_

; 644  : 			{
; 645  : 				//
; 646  : 				// HSI
; 647  : 				//
; 648  : 
; 649  : 				{
; 650  : 					float
; 651  : 						direction_finder,
; 652  : 						flight_path,
; 653  : 						drift;
; 654  : 
; 655  : 					get_hind_virtual_cockpit_hsi_needle_values (&direction_finder, &flight_path, &drift);

  00334	8d 45 88	 lea	 eax, DWORD PTR _drift$1[ebp]
  00337	50		 push	 eax
  00338	8d 4d 8c	 lea	 ecx, DWORD PTR _flight_path$2[ebp]
  0033b	51		 push	 ecx
  0033c	8d 55 90	 lea	 edx, DWORD PTR _direction_finder$3[ebp]
  0033f	52		 push	 edx
  00340	e8 00 00 00 00	 call	 ?get_hind_virtual_cockpit_hsi_needle_values@@YGXPAM00@Z ; get_hind_virtual_cockpit_hsi_needle_values

; 656  : 
; 657  : 					//
; 658  : 					// flight path
; 659  : 					//
; 660  : 
; 661  : 					search.search_depth = 0;

  00345	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 662  : 					search.search_object = virtual_cockpit_hsi_flight_path_inst3d;

  0034c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00351	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 663  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI_ARROW_DOUBLE;

  00354	c7 45 a4 81 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 129 ; 00000081H

; 664  : 
; 665  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0035b	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0035e	50		 push	 eax
  0035f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00364	83 f8 01	 cmp	 eax, 1
  00367	75 0d		 jne	 SHORT $LN29@draw_hind_

; 666  : 					{
; 667  : 						search.result_sub_object->relative_roll = flight_path;

  00369	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0036c	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _flight_path$2[ebp]
  00371	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN29@draw_hind_:

; 668  : 					}
; 669  : 
; 670  : 					memcpy (&virtual_cockpit_hsi_flight_path_inst3d->vp, &vp, sizeof (viewpoint));

  00376	6a 30		 push	 48			; 00000030H
  00378	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0037b	50		 push	 eax
  0037c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00382	83 c1 08	 add	 ecx, 8
  00385	51		 push	 ecx
  00386	e8 00 00 00 00	 call	 _memcpy
  0038b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 671  : 
; 672  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_flight_path_inst3d->vp.position, virtual_cockpit_hsi_flight_path_inst3d);

  0038e	51		 push	 ecx
  0038f	0f 57 c0	 xorps	 xmm0, xmm0
  00392	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00397	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0039c	50		 push	 eax
  0039d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003a3	83 c1 08	 add	 ecx, 8
  003a6	51		 push	 ecx
  003a7	6a 02		 push	 2
  003a9	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 673  : 
; 674  : 					//
; 675  : 					// direction finder
; 676  : 					//
; 677  : 
; 678  : 					search.search_depth = 0;

  003ae	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 679  : 					search.search_object = virtual_cockpit_hsi_direction_finder_inst3d;

  003b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003ba	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 680  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI_ARROW_LONG;

  003bd	c7 45 a4 82 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 130 ; 00000082H

; 681  : 
; 682  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  003c4	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  003c7	50		 push	 eax
  003c8	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  003cd	83 f8 01	 cmp	 eax, 1
  003d0	75 0d		 jne	 SHORT $LN30@draw_hind_

; 683  : 					{
; 684  : 						search.result_sub_object->relative_roll = direction_finder;

  003d2	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  003d5	f3 0f 10 45 90	 movss	 xmm0, DWORD PTR _direction_finder$3[ebp]
  003da	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN30@draw_hind_:

; 685  : 					}
; 686  : 
; 687  : 					memcpy (&virtual_cockpit_hsi_direction_finder_inst3d->vp, &vp, sizeof (viewpoint));

  003df	6a 30		 push	 48			; 00000030H
  003e1	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  003e4	50		 push	 eax
  003e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003eb	83 c1 08	 add	 ecx, 8
  003ee	51		 push	 ecx
  003ef	e8 00 00 00 00	 call	 _memcpy
  003f4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 688  : 
; 689  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_direction_finder_inst3d->vp.position, virtual_cockpit_hsi_direction_finder_inst3d);

  003f7	51		 push	 ecx
  003f8	0f 57 c0	 xorps	 xmm0, xmm0
  003fb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00400	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00405	50		 push	 eax
  00406	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0040c	83 c1 08	 add	 ecx, 8
  0040f	51		 push	 ecx
  00410	6a 02		 push	 2
  00412	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 690  : 
; 691  : 					//
; 692  : 					// drift
; 693  : 					//
; 694  : 
; 695  : 					search.search_depth = 0;

  00417	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 696  : 					search.search_object = virtual_cockpit_hsi_drift_inst3d;

  0041e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00423	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 697  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI_ARROW_SHORT;

  00426	c7 45 a4 83 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 131 ; 00000083H

; 698  : 
; 699  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0042d	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00430	50		 push	 eax
  00431	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00436	83 f8 01	 cmp	 eax, 1
  00439	75 0d		 jne	 SHORT $LN31@draw_hind_

; 700  : 					{
; 701  : 						search.result_sub_object->relative_roll = drift;

  0043b	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0043e	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _drift$1[ebp]
  00443	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN31@draw_hind_:

; 702  : 					}
; 703  : 
; 704  : 					memcpy (&virtual_cockpit_hsi_drift_inst3d->vp, &vp, sizeof (viewpoint));

  00448	6a 30		 push	 48			; 00000030H
  0044a	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0044d	50		 push	 eax
  0044e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00454	83 c1 08	 add	 ecx, 8
  00457	51		 push	 ecx
  00458	e8 00 00 00 00	 call	 _memcpy
  0045d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 705  : 
; 706  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_drift_inst3d->vp.position, virtual_cockpit_hsi_drift_inst3d);

  00460	51		 push	 ecx
  00461	0f 57 c0	 xorps	 xmm0, xmm0
  00464	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00469	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0046e	50		 push	 eax
  0046f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00475	83 c1 08	 add	 ecx, 8
  00478	51		 push	 ecx
  00479	6a 02		 push	 2
  0047b	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 707  : 
; 708  : 					//VJ wideview mod, date: 18-mar-03
; 709  : 					// re-insert compass here (internal is draw after external
; 710  : 					if (get_global_wide_cockpit ())

  00480	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00487	74 20		 je	 SHORT $LN32@draw_hind_

; 711  : 					{
; 712  : 					    insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_compass_inst3d->vp.position, virtual_cockpit_compass_inst3d);

  00489	51		 push	 ecx
  0048a	0f 57 c0	 xorps	 xmm0, xmm0
  0048d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00492	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00497	50		 push	 eax
  00498	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0049e	83 c1 08	 add	 ecx, 8
  004a1	51		 push	 ecx
  004a2	6a 02		 push	 2
  004a4	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN32@draw_hind_:

; 713  : 					}
; 714  : 				}
; 715  : 			}
; 716  : 
; 717  : 			draw_3d_scene ();

  004a9	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 718  : 
; 719  : 			print_edit_wide_cockpit ();

  004ae	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 720  : 
; 721  : 			end_3d_scene ();

  004b3	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN22@draw_hind_:

; 722  : 		}
; 723  : 	}
; 724  : 
; 725  : 	////////////////////////////////////////
; 726  : 	//
; 727  : 	// draw 3D scene without lighting
; 728  : 	//
; 729  : 	////////////////////////////////////////
; 730  : 
; 731  : 	if (flags & (VIRTUAL_COCKPIT_HUD_GLASS | VIRTUAL_COCKPIT_HUD_DISPLAY | VIRTUAL_COCKPIT_EKRAN_DISPLAY | VIRTUAL_COCKPIT_CRT_DISPLAY))

  004b8	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  004bb	25 1c 08 00 00	 and	 eax, 2076		; 0000081cH
  004c0	0f 84 7c 03 00
	00		 je	 $LN34@draw_hind_

; 732  : 	{
; 733  : 		set_3d_active_environment (main_3d_env);

  004c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  004cb	50		 push	 eax
  004cc	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 734  : 
; 735  : 		set_3d_view_distances (main_3d_env, 10.0, 0.3, 1.0, 0.0);

  004d1	51		 push	 ecx
  004d2	0f 57 c0	 xorps	 xmm0, xmm0
  004d5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004da	51		 push	 ecx
  004db	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  004e3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004e8	51		 push	 ecx
  004e9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e99999a
  004f1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004f6	51		 push	 ecx
  004f7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  004ff	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00504	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00509	50		 push	 eax
  0050a	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 736  : 
; 737  : 		realise_3d_clip_extents (main_3d_env);

  0050f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00514	50		 push	 eax
  00515	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 738  : 
; 739  : 		recalculate_3d_environment_settings (main_3d_env);

  0051a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0051f	50		 push	 eax
  00520	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 740  : 
; 741  : 		clear_zbuffer_screen ();

  00525	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 742  : 
; 743  : 		if (begin_3d_scene ())

  0052a	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  0052f	85 c0		 test	 eax, eax
  00531	0f 84 0b 03 00
	00		 je	 $LN34@draw_hind_

; 744  : 		{
; 745  : 			//
; 746  : 			// HUD glass
; 747  : 			//
; 748  : 
; 749  : 			if (flags & VIRTUAL_COCKPIT_HUD_GLASS)

  00537	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0053a	83 e0 04	 and	 eax, 4
  0053d	0f 84 33 02 00
	00		 je	 $LN37@draw_hind_

; 750  : 			{
; 751  : 				if (flags & VIRTUAL_COCKPIT_LARGE_HUD)

  00543	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00546	83 e0 02	 and	 eax, 2
  00549	0f 84 16 01 00
	00		 je	 $LN36@draw_hind_

; 752  : 				{
; 753  : 					switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  0054f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00556	74 0f		 je	 SHORT $LN62@draw_hind_
  00558	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0055d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0055f	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv269[ebp], ecx
  00565	eb 20		 jmp	 SHORT $LN63@draw_hind_
$LN62@draw_hind_:
  00567	68 f1 02 00 00	 push	 753			; 000002f1H
  0056c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00571	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00577	52		 push	 edx
  00578	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0057d	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv269[ebp], 0
$LN63@draw_hind_:
  00587	b8 01 00 00 00	 mov	 eax, 1
  0058c	85 c0		 test	 eax, eax
  0058e	74 0c		 je	 SHORT $LN64@draw_hind_
  00590	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv276[ebp], 39 ; 00000027H
  0059a	eb 20		 jmp	 SHORT $LN65@draw_hind_
$LN64@draw_hind_:
  0059c	68 f1 02 00 00	 push	 753			; 000002f1H
  005a1	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  005a6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  005ac	51		 push	 ecx
  005ad	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005b2	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv276[ebp], 0
$LN65@draw_hind_:
  005bc	6a 27		 push	 39			; 00000027H
  005be	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  005c4	52		 push	 edx
  005c5	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv269[ebp], 1116
  005cf	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv276[ebp]
  005d5	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  005dc	ff d2		 call	 edx
  005de	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv282[ebp], eax
  005e4	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv282[ebp], 3
  005eb	77 3b		 ja	 SHORT $LN4@draw_hind_
  005ed	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv282[ebp]
  005f3	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN75@draw_hind_[eax*4]
$LN38@draw_hind_:

; 754  : 					{
; 755  : 						////////////////////////////////////////
; 756  : 						case DAY_SEGMENT_TYPE_DAWN:
; 757  : 						////////////////////////////////////////
; 758  : 						{
; 759  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level2_inst3d;

  005fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005ff	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 760  : 
; 761  : 							break;

  00604	eb 22		 jmp	 SHORT $LN4@draw_hind_
$LN39@draw_hind_:

; 762  : 						}
; 763  : 						////////////////////////////////////////
; 764  : 						case DAY_SEGMENT_TYPE_DAY:
; 765  : 						////////////////////////////////////////
; 766  : 						{
; 767  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level1_inst3d;

  00606	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0060b	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 768  : 
; 769  : 							break;

  00610	eb 16		 jmp	 SHORT $LN4@draw_hind_
$LN40@draw_hind_:

; 770  : 						}
; 771  : 						////////////////////////////////////////
; 772  : 						case DAY_SEGMENT_TYPE_DUSK:
; 773  : 						////////////////////////////////////////
; 774  : 						{
; 775  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level2_inst3d;

  00612	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00617	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 776  : 
; 777  : 							break;

  0061c	eb 0a		 jmp	 SHORT $LN4@draw_hind_
$LN41@draw_hind_:

; 778  : 						}
; 779  : 						////////////////////////////////////////
; 780  : 						case DAY_SEGMENT_TYPE_NIGHT:
; 781  : 						////////////////////////////////////////
; 782  : 						{
; 783  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level3_inst3d;

  0061e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00623	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN4@draw_hind_:

; 784  : 
; 785  : 							break;
; 786  : 						}
; 787  : 					}
; 788  : 
; 789  : 					#if DEMO_VERSION
; 790  : 
; 791  : 					virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level1_inst3d;
; 792  : 
; 793  : 					#endif
; 794  : 
; 795  : 					memcpy (&virtual_cockpit_large_hud_glass_inst3d->vp, &vp, sizeof (viewpoint));

  00628	6a 30		 push	 48			; 00000030H
  0062a	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0062d	50		 push	 eax
  0062e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00634	83 c1 08	 add	 ecx, 8
  00637	51		 push	 ecx
  00638	e8 00 00 00 00	 call	 _memcpy
  0063d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 796  : 
; 797  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_large_hud_glass_inst3d->vp.position, virtual_cockpit_large_hud_glass_inst3d);

  00640	51		 push	 ecx
  00641	0f 57 c0	 xorps	 xmm0, xmm0
  00644	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00649	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0064e	50		 push	 eax
  0064f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00655	83 c1 08	 add	 ecx, 8
  00658	51		 push	 ecx
  00659	6a 02		 push	 2
  0065b	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 798  : 				}
; 799  : 				else

  00660	e9 11 01 00 00	 jmp	 $LN37@draw_hind_
$LN36@draw_hind_:

; 800  : 				{
; 801  : 					switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00665	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  0066c	74 0f		 je	 SHORT $LN66@draw_hind_
  0066e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00673	8b 08		 mov	 ecx, DWORD PTR [eax]
  00675	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv299[ebp], ecx
  0067b	eb 20		 jmp	 SHORT $LN67@draw_hind_
$LN66@draw_hind_:
  0067d	68 21 03 00 00	 push	 801			; 00000321H
  00682	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00687	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0068d	52		 push	 edx
  0068e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00693	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv299[ebp], 0
$LN67@draw_hind_:
  0069d	b8 01 00 00 00	 mov	 eax, 1
  006a2	85 c0		 test	 eax, eax
  006a4	74 0c		 je	 SHORT $LN68@draw_hind_
  006a6	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv306[ebp], 39 ; 00000027H
  006b0	eb 20		 jmp	 SHORT $LN69@draw_hind_
$LN68@draw_hind_:
  006b2	68 21 03 00 00	 push	 801			; 00000321H
  006b7	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  006bc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  006c2	51		 push	 ecx
  006c3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006c8	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv306[ebp], 0
$LN69@draw_hind_:
  006d2	6a 27		 push	 39			; 00000027H
  006d4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  006da	52		 push	 edx
  006db	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv299[ebp], 1116
  006e5	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv306[ebp]
  006eb	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  006f2	ff d2		 call	 edx
  006f4	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv312[ebp], eax
  006fa	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv312[ebp], 3
  00701	77 3b		 ja	 SHORT $LN6@draw_hind_
  00703	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv312[ebp]
  00709	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN76@draw_hind_[eax*4]
$LN42@draw_hind_:

; 802  : 					{
; 803  : 						////////////////////////////////////////
; 804  : 						case DAY_SEGMENT_TYPE_DAWN:
; 805  : 						////////////////////////////////////////
; 806  : 						{
; 807  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level2_inst3d;

  00710	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00715	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 808  : 
; 809  : 							break;

  0071a	eb 22		 jmp	 SHORT $LN6@draw_hind_
$LN43@draw_hind_:

; 810  : 						}
; 811  : 						////////////////////////////////////////
; 812  : 						case DAY_SEGMENT_TYPE_DAY:
; 813  : 						////////////////////////////////////////
; 814  : 						{
; 815  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level1_inst3d;

  0071c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00721	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 816  : 
; 817  : 							break;

  00726	eb 16		 jmp	 SHORT $LN6@draw_hind_
$LN44@draw_hind_:

; 818  : 						}
; 819  : 						////////////////////////////////////////
; 820  : 						case DAY_SEGMENT_TYPE_DUSK:
; 821  : 						////////////////////////////////////////
; 822  : 						{
; 823  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level2_inst3d;

  00728	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0072d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 824  : 
; 825  : 							break;

  00732	eb 0a		 jmp	 SHORT $LN6@draw_hind_
$LN45@draw_hind_:

; 826  : 						}
; 827  : 						////////////////////////////////////////
; 828  : 						case DAY_SEGMENT_TYPE_NIGHT:
; 829  : 						////////////////////////////////////////
; 830  : 						{
; 831  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level3_inst3d;

  00734	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00739	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN6@draw_hind_:

; 832  : 
; 833  : 							break;
; 834  : 						}
; 835  : 					}
; 836  : 
; 837  : 					#if DEMO_VERSION
; 838  : 
; 839  : 					virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level1_inst3d;
; 840  : 
; 841  : 					#endif
; 842  : 
; 843  : 					memcpy (&virtual_cockpit_hud_glass_inst3d->vp, &vp, sizeof (viewpoint));

  0073e	6a 30		 push	 48			; 00000030H
  00740	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00743	50		 push	 eax
  00744	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0074a	83 c1 08	 add	 ecx, 8
  0074d	51		 push	 ecx
  0074e	e8 00 00 00 00	 call	 _memcpy
  00753	83 c4 0c	 add	 esp, 12			; 0000000cH

; 844  : 
; 845  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hud_glass_inst3d->vp.position, virtual_cockpit_hud_glass_inst3d);

  00756	51		 push	 ecx
  00757	0f 57 c0	 xorps	 xmm0, xmm0
  0075a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0075f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00764	50		 push	 eax
  00765	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0076b	83 c1 08	 add	 ecx, 8
  0076e	51		 push	 ecx
  0076f	6a 02		 push	 2
  00771	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN37@draw_hind_:

; 846  : 				}
; 847  : 			}
; 848  : 
; 849  : 			//
; 850  : 			// HUD display
; 851  : 			//
; 852  : 
; 853  : 			if (flags & VIRTUAL_COCKPIT_HUD_DISPLAY)

  00776	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00779	83 e0 08	 and	 eax, 8
  0077c	74 38		 je	 SHORT $LN46@draw_hind_

; 854  : 			{
; 855  : 				memcpy (&virtual_cockpit_hud_display_inst3d->vp, &vp, sizeof (viewpoint));

  0077e	6a 30		 push	 48			; 00000030H
  00780	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00783	50		 push	 eax
  00784	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0078a	83 c1 08	 add	 ecx, 8
  0078d	51		 push	 ecx
  0078e	e8 00 00 00 00	 call	 _memcpy
  00793	83 c4 0c	 add	 esp, 12			; 0000000cH

; 856  : 
; 857  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hud_display_inst3d->vp.position, virtual_cockpit_hud_display_inst3d);

  00796	51		 push	 ecx
  00797	0f 57 c0	 xorps	 xmm0, xmm0
  0079a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0079f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007a4	50		 push	 eax
  007a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007ab	83 c1 08	 add	 ecx, 8
  007ae	51		 push	 ecx
  007af	6a 02		 push	 2
  007b1	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN46@draw_hind_:

; 858  : 			}
; 859  : 
; 860  : 			//
; 861  : 			// EKRAN display
; 862  : 			//
; 863  : 
; 864  : 			if (flags & VIRTUAL_COCKPIT_EKRAN_DISPLAY)

  007b6	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007b9	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  007be	74 38		 je	 SHORT $LN47@draw_hind_

; 865  : 			{
; 866  : 				memcpy (&virtual_cockpit_ekran_display_inst3d->vp, &vp, sizeof (viewpoint));

  007c0	6a 30		 push	 48			; 00000030H
  007c2	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  007c5	50		 push	 eax
  007c6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007cc	83 c1 08	 add	 ecx, 8
  007cf	51		 push	 ecx
  007d0	e8 00 00 00 00	 call	 _memcpy
  007d5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 867  : 
; 868  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_ekran_display_inst3d->vp.position, virtual_cockpit_ekran_display_inst3d);

  007d8	51		 push	 ecx
  007d9	0f 57 c0	 xorps	 xmm0, xmm0
  007dc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007e6	50		 push	 eax
  007e7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007ed	83 c1 08	 add	 ecx, 8
  007f0	51		 push	 ecx
  007f1	6a 02		 push	 2
  007f3	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN47@draw_hind_:

; 869  : 			}
; 870  : 
; 871  : 			//
; 872  : 			// CRT display
; 873  : 			//
; 874  : 
; 875  : 			if (flags & VIRTUAL_COCKPIT_CRT_DISPLAY)

  007f8	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007fb	83 e0 10	 and	 eax, 16			; 00000010H
  007fe	74 38		 je	 SHORT $LN48@draw_hind_

; 876  : 			{
; 877  : 				memcpy (&virtual_cockpit_crt_display_inst3d->vp, &vp, sizeof (viewpoint));

  00800	6a 30		 push	 48			; 00000030H
  00802	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00805	50		 push	 eax
  00806	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0080c	83 c1 08	 add	 ecx, 8
  0080f	51		 push	 ecx
  00810	e8 00 00 00 00	 call	 _memcpy
  00815	83 c4 0c	 add	 esp, 12			; 0000000cH

; 878  : 
; 879  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_crt_display_inst3d->vp.position, virtual_cockpit_crt_display_inst3d);

  00818	51		 push	 ecx
  00819	0f 57 c0	 xorps	 xmm0, xmm0
  0081c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00821	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00826	50		 push	 eax
  00827	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0082d	83 c1 08	 add	 ecx, 8
  00830	51		 push	 ecx
  00831	6a 02		 push	 2
  00833	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN48@draw_hind_:

; 880  : 			}
; 881  : 
; 882  : 			draw_3d_scene ();

  00838	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 883  : 
; 884  : 			end_3d_scene ();

  0083d	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN34@draw_hind_:

; 885  : 		}
; 886  : 	}
; 887  : 
; 888  : 	////////////////////////////////////////
; 889  : 	//
; 890  : 	// draw 3D scene with lighting
; 891  : 	//
; 892  : 	////////////////////////////////////////
; 893  : 
; 894  : 	//
; 895  : 	// draw fillet to mask EO display
; 896  : 	//
; 897  : 
; 898  : 	if
; 899  : 	(
; 900  : 		(d3d_can_render_to_texture) &&
; 901  : 		(get_hind_eo_display_visible ()) &&
; 902  : 		(flags & (VIRTUAL_COCKPIT_COCKPIT)) &&

  00842	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?d3d_can_render_to_texture@@3HA, 0 ; d3d_can_render_to_texture
  00849	0f 84 9f 01 00
	00		 je	 $LN50@draw_hind_
  0084f	e8 00 00 00 00	 call	 ?get_hind_eo_display_visible@@YGHXZ ; get_hind_eo_display_visible
  00854	85 c0		 test	 eax, eax
  00856	0f 84 92 01 00
	00		 je	 $LN50@draw_hind_
  0085c	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0085f	83 e0 01	 and	 eax, 1
  00862	0f 84 86 01 00
	00		 je	 $LN50@draw_hind_
  00868	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0086b	83 e0 10	 and	 eax, 16			; 00000010H
  0086e	0f 84 7a 01 00
	00		 je	 $LN50@draw_hind_

; 903  : 		(flags & (VIRTUAL_COCKPIT_CRT_DISPLAY))
; 904  : 	)
; 905  : 	{
; 906  : 		set_cockpit_lighting (vp.attitude);

  00874	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00877	50		 push	 eax
  00878	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 907  : 
; 908  : 		set_3d_active_environment (main_3d_single_light_env);

  0087d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00882	50		 push	 eax
  00883	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 909  : 
; 910  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  00888	51		 push	 ecx
  00889	0f 57 c0	 xorps	 xmm0, xmm0
  0088c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00891	51		 push	 ecx
  00892	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0089a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0089f	51		 push	 ecx
  008a0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  008a8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008ad	51		 push	 ecx
  008ae	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  008b6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  008c0	50		 push	 eax
  008c1	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 911  : 
; 912  : 		realise_3d_clip_extents (main_3d_single_light_env);

  008c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  008cb	50		 push	 eax
  008cc	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 913  : 
; 914  : 		clear_zbuffer_screen ();

  008d1	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 915  : 
; 916  : 		if (begin_3d_scene ())

  008d6	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  008db	85 c0		 test	 eax, eax
  008dd	0f 84 0b 01 00
	00		 je	 $LN50@draw_hind_

; 917  : 		{
; 918  : 			switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  008e3	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  008ea	74 0f		 je	 SHORT $LN70@draw_hind_
  008ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  008f1	8b 08		 mov	 ecx, DWORD PTR [eax]
  008f3	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv414[ebp], ecx
  008f9	eb 20		 jmp	 SHORT $LN71@draw_hind_
$LN70@draw_hind_:
  008fb	68 96 03 00 00	 push	 918			; 00000396H
  00900	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00905	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0090b	52		 push	 edx
  0090c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00911	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv414[ebp], 0
$LN71@draw_hind_:
  0091b	b8 01 00 00 00	 mov	 eax, 1
  00920	85 c0		 test	 eax, eax
  00922	74 0c		 je	 SHORT $LN72@draw_hind_
  00924	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv421[ebp], 39 ; 00000027H
  0092e	eb 20		 jmp	 SHORT $LN73@draw_hind_
$LN72@draw_hind_:
  00930	68 96 03 00 00	 push	 918			; 00000396H
  00935	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@BNFNHPDA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0093a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00940	51		 push	 ecx
  00941	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00946	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv421[ebp], 0
$LN73@draw_hind_:
  00950	6a 27		 push	 39			; 00000027H
  00952	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00958	52		 push	 edx
  00959	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv414[ebp], 1116
  00963	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv421[ebp]
  00969	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00970	ff d2		 call	 edx
  00972	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv427[ebp], eax
  00978	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv427[ebp], 3
  0097f	77 33		 ja	 SHORT $LN8@draw_hind_
  00981	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv427[ebp]
  00987	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN77@draw_hind_[eax*4]
$LN51@draw_hind_:

; 919  : 			{
; 920  : 				////////////////////////////////////////
; 921  : 				case DAY_SEGMENT_TYPE_DAWN:
; 922  : 				////////////////////////////////////////
; 923  : 				{
; 924  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  0098e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00993	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 925  : 
; 926  : 					break;

  00996	eb 1c		 jmp	 SHORT $LN8@draw_hind_
$LN52@draw_hind_:

; 927  : 				}
; 928  : 				////////////////////////////////////////
; 929  : 				case DAY_SEGMENT_TYPE_DAY:
; 930  : 				////////////////////////////////////////
; 931  : 				{
; 932  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;

  00998	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0099d	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 933  : 
; 934  : 					break;

  009a0	eb 12		 jmp	 SHORT $LN8@draw_hind_
$LN53@draw_hind_:

; 935  : 				}
; 936  : 				////////////////////////////////////////
; 937  : 				case DAY_SEGMENT_TYPE_DUSK:
; 938  : 				////////////////////////////////////////
; 939  : 				{
; 940  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  009a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  009a7	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 941  : 
; 942  : 					break;

  009aa	eb 08		 jmp	 SHORT $LN8@draw_hind_
$LN54@draw_hind_:

; 943  : 				}
; 944  : 				////////////////////////////////////////
; 945  : 				case DAY_SEGMENT_TYPE_NIGHT:
; 946  : 				////////////////////////////////////////
; 947  : 				{
; 948  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level3_inst3d;

  009ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  009b1	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN8@draw_hind_:

; 949  : 
; 950  : 					break;
; 951  : 				}
; 952  : 			}
; 953  : 
; 954  : 			#if DEMO_VERSION
; 955  : 
; 956  : 			virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;
; 957  : 
; 958  : 			#endif
; 959  : 
; 960  : 			memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));

  009b4	6a 30		 push	 48			; 00000030H
  009b6	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  009b9	50		 push	 eax
  009ba	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  009bd	83 c1 08	 add	 ecx, 8
  009c0	51		 push	 ecx
  009c1	e8 00 00 00 00	 call	 _memcpy
  009c6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 961  : 
; 962  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  009c9	51		 push	 ecx
  009ca	0f 57 c0	 xorps	 xmm0, xmm0
  009cd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009d2	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  009d5	50		 push	 eax
  009d6	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  009d9	83 c1 08	 add	 ecx, 8
  009dc	51		 push	 ecx
  009dd	6a 02		 push	 2
  009df	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 963  : 
; 964  : 			draw_3d_scene ();

  009e4	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 965  : 
; 966  : 			end_3d_scene ();

  009e9	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN50@draw_hind_:

; 967  : 		}
; 968  : 	}
; 969  : 
; 970  : 	////////////////////////////////////////
; 971  : 	//
; 972  : 	// tidy up
; 973  : 	//
; 974  : 	////////////////////////////////////////
; 975  : 
; 976  : 	#if RECOGNITION_GUIDE
; 977  : 
; 978  : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 979  : 
; 980  : 	#else
; 981  : 
; 982  : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  009ee	51		 push	 ecx
  009ef	0f 57 c0	 xorps	 xmm0, xmm0
  009f2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009f7	51		 push	 ecx
  009f8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00a00	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a05	51		 push	 ecx
  00a06	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00a0e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a13	51		 push	 ecx
  00a14	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00a1c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a21	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00a26	50		 push	 eax
  00a27	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 983  : 
; 984  : 	#endif
; 985  : 
; 986  : 	realise_3d_clip_extents (main_3d_env);

  00a2c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00a31	50		 push	 eax
  00a32	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 987  : }

  00a37	5f		 pop	 edi
  00a38	5e		 pop	 esi
  00a39	5b		 pop	 ebx
  00a3a	8b e5		 mov	 esp, ebp
  00a3c	5d		 pop	 ebp
  00a3d	c2 04 00	 ret	 4
$LN74@draw_hind_:
  00a40	00 00 00 00	 DD	 $LN24@draw_hind_
  00a44	00 00 00 00	 DD	 $LN25@draw_hind_
  00a48	00 00 00 00	 DD	 $LN26@draw_hind_
  00a4c	00 00 00 00	 DD	 $LN27@draw_hind_
$LN75@draw_hind_:
  00a50	00 00 00 00	 DD	 $LN38@draw_hind_
  00a54	00 00 00 00	 DD	 $LN39@draw_hind_
  00a58	00 00 00 00	 DD	 $LN40@draw_hind_
  00a5c	00 00 00 00	 DD	 $LN41@draw_hind_
$LN76@draw_hind_:
  00a60	00 00 00 00	 DD	 $LN42@draw_hind_
  00a64	00 00 00 00	 DD	 $LN43@draw_hind_
  00a68	00 00 00 00	 DD	 $LN44@draw_hind_
  00a6c	00 00 00 00	 DD	 $LN45@draw_hind_
$LN77@draw_hind_:
  00a70	00 00 00 00	 DD	 $LN51@draw_hind_
  00a74	00 00 00 00	 DD	 $LN52@draw_hind_
  00a78	00 00 00 00	 DD	 $LN53@draw_hind_
  00a7c	00 00 00 00	 DD	 $LN54@draw_hind_
?draw_hind_internal_virtual_cockpit@@YGXI@Z ENDP	; draw_hind_internal_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?update_hind_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?update_hind_virtual_cockpit@@YGXXZ PROC		; update_hind_virtual_cockpit, COMDAT

; 273  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 274  : }

  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?update_hind_virtual_cockpit@@YGXXZ ENDP		; update_hind_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?deinitialise_hind_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?deinitialise_hind_virtual_cockpit@@YGXXZ PROC		; deinitialise_hind_virtual_cockpit, COMDAT

; 200  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 201  : 	//
; 202  : 	// 3D instances
; 203  : 	//
; 204  : 
; 205  : 	destruct_3d_object (virtual_cockpit_level1_inst3d);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 206  : 
; 207  : 	destruct_3d_object (virtual_cockpit_level2_inst3d);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 208  : 
; 209  : 	destruct_3d_object (virtual_cockpit_level3_inst3d);

  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 210  : 
; 211  : 	destruct_3d_object (virtual_cockpit_fillet_level1_inst3d);

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 212  : 
; 213  : 	destruct_3d_object (virtual_cockpit_fillet_level2_inst3d);

  00035	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0003a	50		 push	 eax
  0003b	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 214  : 
; 215  : 	destruct_3d_object (virtual_cockpit_fillet_level3_inst3d);

  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 216  : 
; 217  : 	destruct_3d_object (virtual_cockpit_hud_glass_level1_inst3d);

  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00050	50		 push	 eax
  00051	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 218  : 
; 219  : 	destruct_3d_object (virtual_cockpit_hud_glass_level2_inst3d);

  00056	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0005b	50		 push	 eax
  0005c	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 220  : 
; 221  : 	destruct_3d_object (virtual_cockpit_hud_glass_level3_inst3d);

  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00066	50		 push	 eax
  00067	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 222  : 
; 223  : 	destruct_3d_object (virtual_cockpit_large_hud_glass_level1_inst3d);

  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 224  : 
; 225  : 	destruct_3d_object (virtual_cockpit_large_hud_glass_level2_inst3d);

  00077	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0007c	50		 push	 eax
  0007d	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 226  : 
; 227  : 	destruct_3d_object (virtual_cockpit_large_hud_glass_level3_inst3d);

  00082	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 228  : 
; 229  : 	destruct_3d_object (virtual_cockpit_hud_display_inst3d);

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00092	50		 push	 eax
  00093	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 230  : 
; 231  : 	destruct_3d_object (virtual_cockpit_main_rotor_inst3d);

  00098	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0009d	50		 push	 eax
  0009e	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 232  : 
; 233  : 	destruct_3d_object (virtual_cockpit_large_hud_main_rotor_inst3d);

  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000a8	50		 push	 eax
  000a9	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 234  : 
; 235  : 	destruct_3d_object (virtual_cockpit_adi_inst3d);

  000ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000b3	50		 push	 eax
  000b4	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 236  : 
; 237  : 	destruct_3d_object (virtual_cockpit_hsi_level1_inst3d);

  000b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000be	50		 push	 eax
  000bf	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 238  : 
; 239  : 	destruct_3d_object (virtual_cockpit_hsi_level2_inst3d);

  000c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000c9	50		 push	 eax
  000ca	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 240  : 
; 241  : 	destruct_3d_object (virtual_cockpit_hsi_direction_finder_inst3d);

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000d4	50		 push	 eax
  000d5	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 242  : 
; 243  : 	destruct_3d_object (virtual_cockpit_hsi_flight_path_inst3d);

  000da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000df	50		 push	 eax
  000e0	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 244  : 
; 245  : 	destruct_3d_object (virtual_cockpit_hsi_drift_inst3d);

  000e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000ea	50		 push	 eax
  000eb	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 246  : 
; 247  : 	destruct_3d_object (virtual_cockpit_ekran_display_inst3d);

  000f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000f5	50		 push	 eax
  000f6	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 248  : 
; 249  : 	destruct_3d_object (virtual_cockpit_crt_display_inst3d);

  000fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00100	50		 push	 eax
  00101	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 250  : 
; 251  : 	destruct_3d_object (virtual_cockpit_compass_level1_inst3d);

  00106	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0010b	50		 push	 eax
  0010c	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 252  : 
; 253  : 	destruct_3d_object (virtual_cockpit_compass_level2_inst3d);

  00111	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00116	50		 push	 eax
  00117	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 254  : 
; 255  : 	//
; 256  : 	// wipers and rain
; 257  : 	//
; 258  : 
; 259  : 	deinitialise_hind_virtual_cockpit_wiper_and_rain_effect ();

  0011c	e8 00 00 00 00	 call	 ?deinitialise_hind_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; deinitialise_hind_virtual_cockpit_wiper_and_rain_effect

; 260  : 
; 261  : 	//
; 262  : 	// virtual cockpit cameras
; 263  : 	//
; 264  : 
; 265  : 	deinitialise_common_virtual_cockpit_cameras ();

  00121	e8 00 00 00 00	 call	 ?deinitialise_common_virtual_cockpit_cameras@@YGXXZ ; deinitialise_common_virtual_cockpit_cameras

; 266  : }

  00126	5f		 pop	 edi
  00127	5e		 pop	 esi
  00128	5b		 pop	 ebx
  00129	8b e5		 mov	 esp, ebp
  0012b	5d		 pop	 ebp
  0012c	c3		 ret	 0
?deinitialise_hind_virtual_cockpit@@YGXXZ ENDP		; deinitialise_hind_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\hind\hi_vckpt.c
;	COMDAT ?initialise_hind_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?initialise_hind_virtual_cockpit@@YGXXZ PROC		; initialise_hind_virtual_cockpit, COMDAT

; 115  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 116  : 	//
; 117  : 	// 3D instances
; 118  : 	//
; 119  : 
; 120  : 	virtual_cockpit_inst3d = NULL;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d

; 121  : 
; 122  : 	pilot_head_pitch_datum = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 123  : 
; 124  : 	co_pilot_head_pitch_datum = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?co_pilot_head_pitch_datum@@3MA, xmm0

; 125  : 
; 126  : 	virtual_cockpit_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL1);

  00029	68 f4 04 00 00	 push	 1268			; 000004f4H
  0002e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00033	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 127  : 
; 128  : 	virtual_cockpit_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL2);

  00038	68 08 05 00 00	 push	 1288			; 00000508H
  0003d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00042	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 129  : 
; 130  : 	virtual_cockpit_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL3);

  00047	68 04 05 00 00	 push	 1284			; 00000504H
  0004c	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00051	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 131  : 
; 132  : 	virtual_cockpit_fillet_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL1_FILLET);

  00056	68 f5 04 00 00	 push	 1269			; 000004f5H
  0005b	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00060	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 133  : 
; 134  : 	virtual_cockpit_fillet_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL2_FILLET);

  00065	68 09 05 00 00	 push	 1289			; 00000509H
  0006a	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0006f	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 135  : 
; 136  : 	virtual_cockpit_fillet_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL3_FILLET);

  00074	68 05 05 00 00	 push	 1285			; 00000505H
  00079	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0007e	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 137  : 
; 138  : 	virtual_cockpit_hud_glass_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_GLASS_LEVEL1);

  00083	68 fe 04 00 00	 push	 1278			; 000004feH
  00088	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0008d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 139  : 
; 140  : 	virtual_cockpit_hud_glass_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_GLASS_LEVEL2);

  00092	68 00 05 00 00	 push	 1280			; 00000500H
  00097	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0009c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 141  : 
; 142  : 	virtual_cockpit_hud_glass_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_GLASS_LEVEL3);

  000a1	68 ff 04 00 00	 push	 1279			; 000004ffH
  000a6	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000ab	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 143  : 
; 144  : 	virtual_cockpit_large_hud_glass_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LARGE_HUD_GLASS_LEVEL1);

  000b0	68 01 05 00 00	 push	 1281			; 00000501H
  000b5	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000ba	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 145  : 
; 146  : 	virtual_cockpit_large_hud_glass_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LARGE_HUD_GLASS_LEVEL2);

  000bf	68 03 05 00 00	 push	 1283			; 00000503H
  000c4	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000c9	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 147  : 
; 148  : 	virtual_cockpit_large_hud_glass_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LARGE_HUD_GLASS_LEVEL3);

  000ce	68 02 05 00 00	 push	 1282			; 00000502H
  000d3	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000d8	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 149  : 
; 150  : 	virtual_cockpit_hud_display_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_DISPLAY);

  000dd	68 fd 04 00 00	 push	 1277			; 000004fdH
  000e2	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000e7	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 151  : 
; 152  : 	virtual_cockpit_main_rotor_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_MAIN_ROTOR);

  000ec	68 06 05 00 00	 push	 1286			; 00000506H
  000f1	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000f6	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 153  : 
; 154  : 	virtual_cockpit_large_hud_main_rotor_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_MAIN_ROTOR_HUD);

  000fb	68 07 05 00 00	 push	 1287			; 00000507H
  00100	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00105	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 155  : 
; 156  : 	virtual_cockpit_adi_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_ADI);

  0010a	68 f1 04 00 00	 push	 1265			; 000004f1H
  0010f	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00114	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 157  : 
; 158  : 	virtual_cockpit_hsi_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_LEVEL1);

  00119	68 fb 04 00 00	 push	 1275			; 000004fbH
  0011e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00123	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 159  : 
; 160  : 	virtual_cockpit_hsi_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_LEVEL2);

  00128	68 fc 04 00 00	 push	 1276			; 000004fcH
  0012d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00132	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 161  : 
; 162  : 	virtual_cockpit_hsi_direction_finder_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_ARROW_LONG);

  00137	68 f9 04 00 00	 push	 1273			; 000004f9H
  0013c	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00141	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 163  : 
; 164  : 	virtual_cockpit_hsi_flight_path_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_ARROW_DOUBLE);

  00146	68 f8 04 00 00	 push	 1272			; 000004f8H
  0014b	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00150	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 165  : 
; 166  : 	virtual_cockpit_hsi_drift_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_ARROW_SHORT);

  00155	68 fa 04 00 00	 push	 1274			; 000004faH
  0015a	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0015f	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 167  : 
; 168  : 	virtual_cockpit_ekran_display_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_DISPLAYS_EKRAN);

  00164	68 f7 04 00 00	 push	 1271			; 000004f7H
  00169	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0016e	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 169  : 
; 170  : 	virtual_cockpit_crt_display_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_DISPLAYS_CRT);

  00173	68 f6 04 00 00	 push	 1270			; 000004f6H
  00178	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0017d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 171  : 
; 172  : 	virtual_cockpit_compass_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_COMPASS_LEVEL1);

  00182	68 f2 04 00 00	 push	 1266			; 000004f2H
  00187	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0018c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 173  : 
; 174  : 	virtual_cockpit_compass_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_COMPASS_LEVEL2);

  00191	68 f3 04 00 00	 push	 1267			; 000004f3H
  00196	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0019b	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 175  : 
; 176  : 	//
; 177  : 	// wipers and rain
; 178  : 	//
; 179  : 
; 180  : 	initialise_hind_virtual_cockpit_wiper_and_rain_effect ();

  001a0	e8 00 00 00 00	 call	 ?initialise_hind_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; initialise_hind_virtual_cockpit_wiper_and_rain_effect

; 181  : 
; 182  : 	//
; 183  : 	// virtual cockpit cameras
; 184  : 	//
; 185  : 
; 186  : 	initialise_common_virtual_cockpit_cameras ();

  001a5	e8 00 00 00 00	 call	 ?initialise_common_virtual_cockpit_cameras@@YGXXZ ; initialise_common_virtual_cockpit_cameras

; 187  : 
; 188  : //VJ 050208 cleaing up wideview
; 189  : 	wide_cockpit_nr = WIDEVIEW_HAVOC_PILOT;

  001aa	c7 05 00 00 00
	00 06 00 00 00	 mov	 DWORD PTR ?wide_cockpit_nr@@3HA, 6 ; wide_cockpit_nr

; 190  : //VJ wideview mod, date: 20-mar-03
; 191  : //start up in normal view because when you switch to wideview the parameters are read
; 192  : 	set_global_wide_cockpit(FALSE);

  001b4	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 193  : }

  001be	5f		 pop	 edi
  001bf	5e		 pop	 esi
  001c0	5b		 pop	 ebx
  001c1	8b e5		 mov	 esp, ebp
  001c3	5d		 pop	 ebp
  001c4	c3		 ret	 0
?initialise_hind_virtual_cockpit@@YGXXZ ENDP		; initialise_hind_virtual_cockpit
_TEXT	ENDS
END
