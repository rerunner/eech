; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\comanche\cm_thrt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_comanche_threat_warning_system@@YGXXZ ; initialise_comanche_threat_warning_system
PUBLIC	?deinitialise_comanche_threat_warning_system@@YGXXZ ; deinitialise_comanche_threat_warning_system
PUBLIC	?activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z ; activate_comanche_threat_warning_system
PUBLIC	?update_comanche_threat_warning_system@@YGXXZ	; update_comanche_threat_warning_system
PUBLIC	?__LINE__Var@?0??activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z@4JA ; `activate_comanche_threat_warning_system'::`1'::__LINE__Var
PUBLIC	??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_06BDLPPAPF@threat@			; `string'
PUBLIC	?__LINE__Var@?0??update_comanche_threat_warning_system@@YGXXZ@4JA ; `update_comanche_threat_warning_system'::`1'::__LINE__Var
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f000000
PUBLIC	__real@3fc00000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z:PROC ; play_client_server_cpg_contact_message
EXTRN	?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z:PROC ; get_speech_heading_type
EXTRN	?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z:PROC ; get_speech_distance_type
EXTRN	?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z:PROC ; pause_local_entity_sound_type
EXTRN	?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z:PROC ; resume_local_entity_sound_type
EXTRN	?auto_page_comanche_ase_main_mfd@@YGXXZ:PROC	; auto_page_comanche_ase_main_mfd
EXTRN	?set_comanche_radar_jammer_auto@@YGXH@Z:PROC	; set_comanche_radar_jammer_auto
EXTRN	?set_comanche_infra_red_jammer_auto@@YGXH@Z:PROC ; set_comanche_infra_red_jammer_auto
EXTRN	?get_time_acceleration@@YGHXZ:PROC		; get_time_acceleration
EXTRN	?set_min_time_acceleration@@YGXPAUEVENT@@@Z:PROC ; set_min_time_acceleration
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A:DWORD ; comanche_damage
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?incoming_missile_sound_timer@@3MA DD 01H DUP (?)	; incoming_missile_sound_timer
?radar_locked_sound_timer@@3MA DD 01H DUP (?)		; radar_locked_sound_timer
_BSS	ENDS
;	COMDAT __real@3fc00000
CONST	SEGMENT
__real@3fc00000 DD 03fc00000r			; 1.5
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_comanche_threat_warning_system@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_comanche_threat_warning_system@@YGXXZ@4JA DD 0151H ; `update_comanche_threat_warning_system'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06BDLPPAPF@threat@
CONST	SEGMENT
??_C@_06BDLPPAPF@threat@ DB 'threat', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\comanche\c'
	DB	'm_thrt.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z@4JA DD 081H ; `activate_comanche_threat_warning_system'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_thrt.c
;	COMDAT ?reset_time_accel@@YGXXZ
_TEXT	SEGMENT
?reset_time_accel@@YGXXZ PROC				; reset_time_accel, COMDAT

; 117  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 118  : 	if (get_time_acceleration () != TIME_ACCELERATION_PAUSE)

  00009	e8 00 00 00 00	 call	 ?get_time_acceleration@@YGHXZ ; get_time_acceleration
  0000e	85 c0		 test	 eax, eax
  00010	74 07		 je	 SHORT $LN1@reset_time

; 119  : 	{
; 120  : 		set_min_time_acceleration (NULL);

  00012	6a 00		 push	 0
  00014	e8 00 00 00 00	 call	 ?set_min_time_acceleration@@YGXPAUEVENT@@@Z ; set_min_time_acceleration
$LN1@reset_time:

; 121  : 	}
; 122  : }

  00019	5f		 pop	 edi
  0001a	5e		 pop	 esi
  0001b	5b		 pop	 ebx
  0001c	8b e5		 mov	 esp, ebp
  0001e	5d		 pop	 ebp
  0001f	c3		 ret	 0
?reset_time_accel@@YGXXZ ENDP				; reset_time_accel
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_thrt.c
;	COMDAT ?update_comanche_threat_warning_system@@YGXXZ
_TEXT	SEGMENT
tv135 = -92						; size = 4
tv152 = -88						; size = 4
tv129 = -88						; size = 4
tv78 = -88						; size = 4
tv144 = -84						; size = 4
tv90 = -84						; size = 4
tv70 = -84						; size = 4
_threat$ = -16						; size = 4
_source$ = -12						; size = 4
_infra_red_jammer_on$ = -8				; size = 4
_radar_jammer_on$ = -4					; size = 4
?update_comanche_threat_warning_system@@YGXXZ PROC	; update_comanche_threat_warning_system, COMDAT

; 337  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 338  : 	int
; 339  : 		radar_jammer_on,
; 340  : 		infra_red_jammer_on;
; 341  : 
; 342  : 	entity
; 343  : 		*source,
; 344  : 		*threat;
; 345  : 
; 346  : 	source = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 f4	 mov	 DWORD PTR _source$[ebp], eax

; 347  : 
; 348  : 	radar_jammer_on = FALSE;

  00011	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 0

; 349  : 
; 350  : 	infra_red_jammer_on = FALSE;

  00018	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _infra_red_jammer_on$[ebp], 0

; 351  : 
; 352  : 	threat = get_local_entity_first_child (source, LIST_TYPE_TARGET);

  0001f	83 7d f4 00	 cmp	 DWORD PTR _source$[ebp], 0
  00023	74 0a		 je	 SHORT $LN17@update_com
  00025	8b 45 f4	 mov	 eax, DWORD PTR _source$[ebp]
  00028	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002a	89 4d ac	 mov	 DWORD PTR tv70[ebp], ecx
  0002d	eb 21		 jmp	 SHORT $LN18@update_com
$LN17@update_com:
  0002f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_threat_warning_system@@YGXXZ@4JA
  00035	83 c2 0f	 add	 edx, 15			; 0000000fH
  00038	52		 push	 edx
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00043	50		 push	 eax
  00044	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00049	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN18@update_com:
  00050	b9 01 00 00 00	 mov	 ecx, 1
  00055	85 c9		 test	 ecx, ecx
  00057	74 09		 je	 SHORT $LN19@update_com
  00059	c7 45 a8 26 00
	00 00		 mov	 DWORD PTR tv78[ebp], 38	; 00000026H
  00060	eb 21		 jmp	 SHORT $LN20@update_com
$LN19@update_com:
  00062	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_threat_warning_system@@YGXXZ@4JA
  00068	83 c2 0f	 add	 edx, 15			; 0000000fH
  0006b	52		 push	 edx
  0006c	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00071	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00076	50		 push	 eax
  00077	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007c	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN20@update_com:
  00083	6a 26		 push	 38			; 00000026H
  00085	8b 4d f4	 mov	 ecx, DWORD PTR _source$[ebp]
  00088	51		 push	 ecx
  00089	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 180
  00090	8b 45 a8	 mov	 eax, DWORD PTR tv78[ebp]
  00093	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0009a	ff d1		 call	 ecx
  0009c	89 45 f0	 mov	 DWORD PTR _threat$[ebp], eax
$LN2@update_com:

; 353  : 
; 354  : 	while (threat)

  0009f	83 7d f0 00	 cmp	 DWORD PTR _threat$[ebp], 0
  000a3	0f 84 36 01 00
	00		 je	 $LN3@update_com

; 355  : 	{
; 356  : 		switch (get_local_entity_int_value (threat, INT_TYPE_THREAT_TYPE))

  000a9	83 7d f0 00	 cmp	 DWORD PTR _threat$[ebp], 0
  000ad	74 0a		 je	 SHORT $LN21@update_com
  000af	8b 45 f0	 mov	 eax, DWORD PTR _threat$[ebp]
  000b2	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b4	89 4d ac	 mov	 DWORD PTR tv90[ebp], ecx
  000b7	eb 1d		 jmp	 SHORT $LN22@update_com
$LN21@update_com:
  000b9	68 64 01 00 00	 push	 356			; 00000164H
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c9	52		 push	 edx
  000ca	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000cf	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN22@update_com:
  000d6	b8 01 00 00 00	 mov	 eax, 1
  000db	85 c0		 test	 eax, eax
  000dd	74 09		 je	 SHORT $LN23@update_com
  000df	c7 45 a8 e9 00
	00 00		 mov	 DWORD PTR tv129[ebp], 233 ; 000000e9H
  000e6	eb 1d		 jmp	 SHORT $LN24@update_com
$LN23@update_com:
  000e8	68 64 01 00 00	 push	 356			; 00000164H
  000ed	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000f8	51		 push	 ecx
  000f9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000fe	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN24@update_com:
  00105	68 e9 00 00 00	 push	 233			; 000000e9H
  0010a	8b 55 f0	 mov	 edx, DWORD PTR _threat$[ebp]
  0010d	52		 push	 edx
  0010e	69 45 ac 5c 04
	00 00		 imul	 eax, DWORD PTR tv90[ebp], 1116
  00115	8b 4d a8	 mov	 ecx, DWORD PTR tv129[ebp]
  00118	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0011f	ff d2		 call	 edx
  00121	89 45 a4	 mov	 DWORD PTR tv135[ebp], eax
  00124	8b 45 a4	 mov	 eax, DWORD PTR tv135[ebp]
  00127	83 e8 01	 sub	 eax, 1
  0012a	89 45 a4	 mov	 DWORD PTR tv135[ebp], eax
  0012d	83 7d a4 06	 cmp	 DWORD PTR tv135[ebp], 6
  00131	77 27		 ja	 SHORT $LN4@update_com
  00133	8b 4d a4	 mov	 ecx, DWORD PTR tv135[ebp]
  00136	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN29@update_com[ecx*4]

; 357  : 		{
; 358  : 			////////////////////////////////////////
; 359  : 			case THREAT_TYPE_INVALID:
; 360  : 			////////////////////////////////////////
; 361  : 			{
; 362  : 				break;

  0013d	eb 1b		 jmp	 SHORT $LN4@update_com
$LN7@update_com:

; 363  : 			}
; 364  : 			////////////////////////////////////////
; 365  : 			case THREAT_TYPE_RF_MISSILE:
; 366  : 			////////////////////////////////////////
; 367  : 			{
; 368  : 				radar_jammer_on = TRUE;

  0013f	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 1

; 369  : 
; 370  : 				break;

  00146	eb 12		 jmp	 SHORT $LN4@update_com
$LN8@update_com:

; 371  : 			}
; 372  : 			////////////////////////////////////////
; 373  : 			case THREAT_TYPE_IR_MISSILE:
; 374  : 			////////////////////////////////////////
; 375  : 			{
; 376  : 				infra_red_jammer_on = TRUE;

  00148	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _infra_red_jammer_on$[ebp], 1

; 377  : 
; 378  : 				break;

  0014f	eb 09		 jmp	 SHORT $LN4@update_com

; 379  : 			}
; 380  : 			////////////////////////////////////////
; 381  : 			case THREAT_TYPE_LASER_MISSILE:
; 382  : 			////////////////////////////////////////
; 383  : 			{
; 384  : 				break;

  00151	eb 07		 jmp	 SHORT $LN4@update_com
$LN10@update_com:

; 385  : 			}
; 386  : 			////////////////////////////////////////
; 387  : 			case THREAT_TYPE_AIRBORNE_RADAR:
; 388  : 			case THREAT_TYPE_SAM:
; 389  : 			case THREAT_TYPE_AAA:
; 390  : 			case THREAT_TYPE_EARLY_WARNING_RADAR:
; 391  : 			////////////////////////////////////////
; 392  : 			{
; 393  : 				radar_jammer_on = TRUE;

  00153	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 1
$LN4@update_com:

; 394  : 
; 395  : 				break;
; 396  : 			}
; 397  : 		}
; 398  : 
; 399  : 		threat = get_local_entity_child_succ (threat, LIST_TYPE_TARGET);

  0015a	83 7d f0 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0015e	74 0a		 je	 SHORT $LN25@update_com
  00160	8b 45 f0	 mov	 eax, DWORD PTR _threat$[ebp]
  00163	8b 08		 mov	 ecx, DWORD PTR [eax]
  00165	89 4d ac	 mov	 DWORD PTR tv144[ebp], ecx
  00168	eb 21		 jmp	 SHORT $LN26@update_com
$LN25@update_com:
  0016a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_threat_warning_system@@YGXXZ@4JA
  00170	83 c2 3e	 add	 edx, 62			; 0000003eH
  00173	52		 push	 edx
  00174	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00179	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0017e	50		 push	 eax
  0017f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00184	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv144[ebp], 0
$LN26@update_com:
  0018b	b9 01 00 00 00	 mov	 ecx, 1
  00190	85 c9		 test	 ecx, ecx
  00192	74 09		 je	 SHORT $LN27@update_com
  00194	c7 45 a8 26 00
	00 00		 mov	 DWORD PTR tv152[ebp], 38 ; 00000026H
  0019b	eb 21		 jmp	 SHORT $LN28@update_com
$LN27@update_com:
  0019d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_threat_warning_system@@YGXXZ@4JA
  001a3	83 c2 3e	 add	 edx, 62			; 0000003eH
  001a6	52		 push	 edx
  001a7	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001b1	50		 push	 eax
  001b2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b7	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv152[ebp], 0
$LN28@update_com:
  001be	6a 26		 push	 38			; 00000026H
  001c0	8b 4d f0	 mov	 ecx, DWORD PTR _threat$[ebp]
  001c3	51		 push	 ecx
  001c4	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv144[ebp], 180
  001cb	8b 45 a8	 mov	 eax, DWORD PTR tv152[ebp]
  001ce	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001d5	ff d1		 call	 ecx
  001d7	89 45 f0	 mov	 DWORD PTR _threat$[ebp], eax

; 400  : 	}

  001da	e9 c0 fe ff ff	 jmp	 $LN2@update_com
$LN3@update_com:

; 401  : 
; 402  : 	//
; 403  : 	// jammers
; 404  : 	//
; 405  : 
; 406  : 	if (comanche_damage.radar_warning_system)

  001df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A ; comanche_damage
  001e4	c1 e8 09	 shr	 eax, 9
  001e7	83 e0 01	 and	 eax, 1
  001ea	74 07		 je	 SHORT $LN11@update_com

; 407  : 	{
; 408  : 		radar_jammer_on = FALSE;

  001ec	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 0
$LN11@update_com:

; 409  : 	}
; 410  : 
; 411  : 	set_comanche_radar_jammer_auto (radar_jammer_on);

  001f3	8b 45 fc	 mov	 eax, DWORD PTR _radar_jammer_on$[ebp]
  001f6	50		 push	 eax
  001f7	e8 00 00 00 00	 call	 ?set_comanche_radar_jammer_auto@@YGXH@Z ; set_comanche_radar_jammer_auto

; 412  : 
; 413  : 	set_comanche_infra_red_jammer_auto (infra_red_jammer_on);

  001fc	8b 45 f8	 mov	 eax, DWORD PTR _infra_red_jammer_on$[ebp]
  001ff	50		 push	 eax
  00200	e8 00 00 00 00	 call	 ?set_comanche_infra_red_jammer_auto@@YGXH@Z ; set_comanche_infra_red_jammer_auto

; 414  : 
; 415  : 	//
; 416  : 	// warning sounds
; 417  : 	//
; 418  : 
; 419  : 	if (incoming_missile_sound_timer > 0.0)

  00205	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?incoming_missile_sound_timer@@3MA
  0020d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00215	76 42		 jbe	 SHORT $LN13@update_com

; 420  : 	{
; 421  : 		incoming_missile_sound_timer -= get_delta_time ();

  00217	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?incoming_missile_sound_timer@@3MA
  0021f	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00227	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 422  : 
; 423  : 		if (incoming_missile_sound_timer <= 0.0)

  0022f	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?incoming_missile_sound_timer@@3MA
  00237	0f 57 c9	 xorps	 xmm1, xmm1
  0023a	66 0f 2f c8	 comisd	 xmm1, xmm0
  0023e	72 19		 jb	 SHORT $LN13@update_com

; 424  : 		{
; 425  : 			pause_local_entity_sound_type (source, ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING, 0.5);

  00240	51		 push	 ecx
  00241	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00249	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024e	6a 17		 push	 23			; 00000017H
  00250	8b 45 f4	 mov	 eax, DWORD PTR _source$[ebp]
  00253	50		 push	 eax
  00254	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN13@update_com:

; 426  : 		}
; 427  : 	}
; 428  : 
; 429  : 	if (radar_locked_sound_timer > 0.0)

  00259	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?radar_locked_sound_timer@@3MA
  00261	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00269	76 42		 jbe	 SHORT $LN15@update_com

; 430  : 	{
; 431  : 		radar_locked_sound_timer -= get_delta_time ();

  0026b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?radar_locked_sound_timer@@3MA
  00273	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0027b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 432  : 
; 433  : 		if (radar_locked_sound_timer <= 0.0)

  00283	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?radar_locked_sound_timer@@3MA
  0028b	0f 57 c9	 xorps	 xmm1, xmm1
  0028e	66 0f 2f c8	 comisd	 xmm1, xmm0
  00292	72 19		 jb	 SHORT $LN15@update_com

; 434  : 		{
; 435  : 			pause_local_entity_sound_type (source, ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED, 0.5);

  00294	51		 push	 ecx
  00295	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0029d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002a2	6a 1c		 push	 28			; 0000001cH
  002a4	8b 45 f4	 mov	 eax, DWORD PTR _source$[ebp]
  002a7	50		 push	 eax
  002a8	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN15@update_com:

; 436  : 		}
; 437  : 	}
; 438  : }

  002ad	5f		 pop	 edi
  002ae	5e		 pop	 esi
  002af	5b		 pop	 ebx
  002b0	8b e5		 mov	 esp, ebp
  002b2	5d		 pop	 ebp
  002b3	c3		 ret	 0
$LN29@update_com:
  002b4	00 00 00 00	 DD	 $LN7@update_com
  002b8	00 00 00 00	 DD	 $LN8@update_com
  002bc	00 00 00 00	 DD	 $LN4@update_com
  002c0	00 00 00 00	 DD	 $LN10@update_com
  002c4	00 00 00 00	 DD	 $LN10@update_com
  002c8	00 00 00 00	 DD	 $LN10@update_com
  002cc	00 00 00 00	 DD	 $LN10@update_com
?update_comanche_threat_warning_system@@YGXXZ ENDP	; update_comanche_threat_warning_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_thrt.c
;	COMDAT ?activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv87 = -76						; size = 4
tv283 = -72						; size = 4
tv239 = -72						; size = 4
tv205 = -72						; size = 4
tv176 = -72						; size = 4
tv81 = -72						; size = 4
tv276 = -68						; size = 4
tv232 = -68						; size = 4
tv198 = -68						; size = 4
tv169 = -68						; size = 4
tv74 = -68						; size = 4
_threat$ = 8						; size = 4
?activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z PROC ; activate_comanche_threat_warning_system, COMDAT

; 129  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 130  : 	ASSERT (threat);

  00009	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@activate_c
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_06BDLPPAPF@threat@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@activate_c:

; 131  : 
; 132  : 	switch (get_local_entity_int_value (threat, INT_TYPE_THREAT_TYPE))

  00027	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN25@activate_c
  0002d	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d bc	 mov	 DWORD PTR tv74[ebp], ecx
  00035	eb 1d		 jmp	 SHORT $LN26@activate_c
$LN25@activate_c:
  00037	68 84 00 00 00	 push	 132			; 00000084H
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00047	52		 push	 edx
  00048	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004d	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN26@activate_c:
  00054	b8 01 00 00 00	 mov	 eax, 1
  00059	85 c0		 test	 eax, eax
  0005b	74 09		 je	 SHORT $LN27@activate_c
  0005d	c7 45 b8 e9 00
	00 00		 mov	 DWORD PTR tv81[ebp], 233 ; 000000e9H
  00064	eb 1d		 jmp	 SHORT $LN28@activate_c
$LN27@activate_c:
  00066	68 84 00 00 00	 push	 132			; 00000084H
  0006b	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00070	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00076	51		 push	 ecx
  00077	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN28@activate_c:
  00083	68 e9 00 00 00	 push	 233			; 000000e9H
  00088	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0008b	52		 push	 edx
  0008c	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv74[ebp], 1116
  00093	8b 4d b8	 mov	 ecx, DWORD PTR tv81[ebp]
  00096	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0009d	ff d2		 call	 edx
  0009f	89 45 b4	 mov	 DWORD PTR tv87[ebp], eax
  000a2	8b 45 b4	 mov	 eax, DWORD PTR tv87[ebp]
  000a5	83 e8 01	 sub	 eax, 1
  000a8	89 45 b4	 mov	 DWORD PTR tv87[ebp], eax
  000ab	83 7d b4 05	 cmp	 DWORD PTR tv87[ebp], 5
  000af	0f 87 e6 04 00
	00		 ja	 $LN2@activate_c
  000b5	8b 4d b4	 mov	 ecx, DWORD PTR tv87[ebp]
  000b8	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN45@activate_c[ecx*4]

; 133  : 	{
; 134  : 		////////////////////////////////////////
; 135  : 		case THREAT_TYPE_INVALID:
; 136  : 		////////////////////////////////////////
; 137  : 		{
; 138  : 			break;

  000bf	e9 d7 04 00 00	 jmp	 $LN2@activate_c
$LN6@activate_c:

; 139  : 		}
; 140  : 		////////////////////////////////////////
; 141  : 		case THREAT_TYPE_RF_MISSILE:
; 142  : 		////////////////////////////////////////
; 143  : 		{
; 144  : 			if (!comanche_damage.radar_warning_system)

  000c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A ; comanche_damage
  000c9	c1 e8 09	 shr	 eax, 9
  000cc	83 e0 01	 and	 eax, 1
  000cf	75 56		 jne	 SHORT $LN7@activate_c

; 145  : 			{
; 146  : 				reset_time_accel ();

  000d1	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 147  : 
; 148  : 				auto_page_comanche_ase_main_mfd ();

  000d6	e8 00 00 00 00	 call	 ?auto_page_comanche_ase_main_mfd@@YGXXZ ; auto_page_comanche_ase_main_mfd

; 149  : 
; 150  : 				incoming_missile_sound_timer = INCOMING_MISSILE_SOUND_PERIOD;

  000db	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  000e3	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 151  : 
; 152  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING);

  000eb	6a 17		 push	 23			; 00000017H
  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000f2	50		 push	 eax
  000f3	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 153  : 
; 154  : 				play_client_server_cpg_contact_message

  000f8	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  000fb	50		 push	 eax
  000fc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00102	51		 push	 ecx
  00103	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  00108	50		 push	 eax
  00109	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0010c	52		 push	 edx
  0010d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  00118	50		 push	 eax
  00119	6a 69		 push	 105			; 00000069H
  0011b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00121	51		 push	 ecx
  00122	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN7@activate_c:

; 155  : 				(
; 156  : 					get_gunship_entity (),
; 157  : 					SPEECH_CPG_INCOMING_MISSILE,
; 158  : 					get_speech_heading_type (get_gunship_entity (), threat),
; 159  : 					get_speech_distance_type (get_gunship_entity (), threat)
; 160  : 				);
; 161  : 			}
; 162  : 
; 163  : 			break;

  00127	e9 6f 04 00 00	 jmp	 $LN2@activate_c
$LN8@activate_c:

; 164  : 		}
; 165  : 		////////////////////////////////////////
; 166  : 		case THREAT_TYPE_IR_MISSILE:
; 167  : 		////////////////////////////////////////
; 168  : 		{
; 169  : 			reset_time_accel ();

  0012c	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 170  : 
; 171  : 			auto_page_comanche_ase_main_mfd ();

  00131	e8 00 00 00 00	 call	 ?auto_page_comanche_ase_main_mfd@@YGXXZ ; auto_page_comanche_ase_main_mfd

; 172  : 
; 173  : 			incoming_missile_sound_timer = INCOMING_MISSILE_SOUND_PERIOD;

  00136	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  0013e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 174  : 
; 175  : 			resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING);

  00146	6a 17		 push	 23			; 00000017H
  00148	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0014d	50		 push	 eax
  0014e	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 176  : 
; 177  : 			play_client_server_cpg_contact_message

  00153	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00156	50		 push	 eax
  00157	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0015d	51		 push	 ecx
  0015e	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  00163	50		 push	 eax
  00164	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00167	52		 push	 edx
  00168	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0016d	50		 push	 eax
  0016e	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  00173	50		 push	 eax
  00174	6a 69		 push	 105			; 00000069H
  00176	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0017c	51		 push	 ecx
  0017d	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 178  : 			(
; 179  : 				get_gunship_entity (),
; 180  : 				SPEECH_CPG_INCOMING_MISSILE,
; 181  : 				get_speech_heading_type (get_gunship_entity (), threat),
; 182  : 				get_speech_distance_type (get_gunship_entity (), threat)
; 183  : 			);
; 184  : 
; 185  : 			break;

  00182	e9 14 04 00 00	 jmp	 $LN2@activate_c
$LN9@activate_c:

; 186  : 		}
; 187  : 		////////////////////////////////////////
; 188  : 		case THREAT_TYPE_LASER_MISSILE:
; 189  : 		////////////////////////////////////////
; 190  : 		{
; 191  : 			reset_time_accel ();

  00187	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 192  : 
; 193  : 			auto_page_comanche_ase_main_mfd ();

  0018c	e8 00 00 00 00	 call	 ?auto_page_comanche_ase_main_mfd@@YGXXZ ; auto_page_comanche_ase_main_mfd

; 194  : 
; 195  : 			incoming_missile_sound_timer = INCOMING_MISSILE_SOUND_PERIOD;

  00191	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  00199	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 196  : 
; 197  : 			resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING);

  001a1	6a 17		 push	 23			; 00000017H
  001a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001a8	50		 push	 eax
  001a9	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 198  : 
; 199  : 			play_client_server_cpg_contact_message

  001ae	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  001b1	50		 push	 eax
  001b2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001b8	51		 push	 ecx
  001b9	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  001be	50		 push	 eax
  001bf	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  001c2	52		 push	 edx
  001c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c8	50		 push	 eax
  001c9	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  001ce	50		 push	 eax
  001cf	6a 69		 push	 105			; 00000069H
  001d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001d7	51		 push	 ecx
  001d8	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 200  : 			(
; 201  : 				get_gunship_entity (),
; 202  : 				SPEECH_CPG_INCOMING_MISSILE,
; 203  : 				get_speech_heading_type (get_gunship_entity (), threat),
; 204  : 				get_speech_distance_type (get_gunship_entity (), threat)
; 205  : 			);
; 206  : 
; 207  : 			break;

  001dd	e9 b9 03 00 00	 jmp	 $LN2@activate_c
$LN10@activate_c:

; 208  : 		}
; 209  : 		////////////////////////////////////////
; 210  : 		case THREAT_TYPE_AIRBORNE_RADAR:
; 211  : 		////////////////////////////////////////
; 212  : 		{
; 213  : 			if (!comanche_damage.radar_warning_system)

  001e2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A ; comanche_damage
  001e7	c1 e8 09	 shr	 eax, 9
  001ea	83 e0 01	 and	 eax, 1
  001ed	0f 85 7c 01 00
	00		 jne	 $LN14@activate_c

; 214  : 			{
; 215  : 				reset_time_accel ();

  001f3	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 216  : 
; 217  : 				auto_page_comanche_ase_main_mfd ();

  001f8	e8 00 00 00 00	 call	 ?auto_page_comanche_ase_main_mfd@@YGXXZ ; auto_page_comanche_ase_main_mfd

; 218  : 
; 219  : 				radar_locked_sound_timer = RADAR_LOCKED_SOUND_PERIOD;

  001fd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  00205	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 220  : 
; 221  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED);

  0020d	6a 1c		 push	 28			; 0000001cH
  0020f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00214	50		 push	 eax
  00215	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 222  : 
; 223  : 				if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_HELICOPTER))

  0021a	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0021e	74 0a		 je	 SHORT $LN29@activate_c
  00220	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00223	8b 08		 mov	 ecx, DWORD PTR [eax]
  00225	89 4d bc	 mov	 DWORD PTR tv169[ebp], ecx
  00228	eb 1d		 jmp	 SHORT $LN30@activate_c
$LN29@activate_c:
  0022a	68 df 00 00 00	 push	 223			; 000000dfH
  0022f	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00234	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0023a	52		 push	 edx
  0023b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00240	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv169[ebp], 0
$LN30@activate_c:
  00247	b8 01 00 00 00	 mov	 eax, 1
  0024c	85 c0		 test	 eax, eax
  0024e	74 09		 je	 SHORT $LN31@activate_c
  00250	c7 45 b8 5c 00
	00 00		 mov	 DWORD PTR tv176[ebp], 92 ; 0000005cH
  00257	eb 1d		 jmp	 SHORT $LN32@activate_c
$LN31@activate_c:
  00259	68 df 00 00 00	 push	 223			; 000000dfH
  0025e	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00263	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00269	51		 push	 ecx
  0026a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0026f	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv176[ebp], 0
$LN32@activate_c:
  00276	6a 5c		 push	 92			; 0000005cH
  00278	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0027b	52		 push	 edx
  0027c	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv169[ebp], 1116
  00283	8b 4d b8	 mov	 ecx, DWORD PTR tv176[ebp]
  00286	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0028d	ff d2		 call	 edx
  0028f	85 c0		 test	 eax, eax
  00291	74 34		 je	 SHORT $LN12@activate_c

; 224  : 				{
; 225  : 					play_client_server_cpg_contact_message

  00293	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00296	50		 push	 eax
  00297	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0029d	51		 push	 ecx
  0029e	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  002a3	50		 push	 eax
  002a4	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  002a7	52		 push	 edx
  002a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002ad	50		 push	 eax
  002ae	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  002b3	50		 push	 eax
  002b4	6a 73		 push	 115			; 00000073H
  002b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002bc	51		 push	 ecx
  002bd	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
  002c2	e9 a8 00 00 00	 jmp	 $LN14@activate_c
$LN12@activate_c:

; 226  : 					(
; 227  : 						get_gunship_entity (),
; 228  : 						SPEECH_CPG_CHOPPERS,
; 229  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 230  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 231  : 					);
; 232  : 				}
; 233  : 				else if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_FIXED_WING))

  002c7	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  002cb	74 0a		 je	 SHORT $LN33@activate_c
  002cd	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  002d0	8b 08		 mov	 ecx, DWORD PTR [eax]
  002d2	89 4d bc	 mov	 DWORD PTR tv198[ebp], ecx
  002d5	eb 1d		 jmp	 SHORT $LN34@activate_c
$LN33@activate_c:
  002d7	68 e9 00 00 00	 push	 233			; 000000e9H
  002dc	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  002e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002e7	52		 push	 edx
  002e8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002ed	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$LN34@activate_c:
  002f4	b8 01 00 00 00	 mov	 eax, 1
  002f9	85 c0		 test	 eax, eax
  002fb	74 09		 je	 SHORT $LN35@activate_c
  002fd	c7 45 b8 5b 00
	00 00		 mov	 DWORD PTR tv205[ebp], 91 ; 0000005bH
  00304	eb 1d		 jmp	 SHORT $LN36@activate_c
$LN35@activate_c:
  00306	68 e9 00 00 00	 push	 233			; 000000e9H
  0030b	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00310	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00316	51		 push	 ecx
  00317	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0031c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv205[ebp], 0
$LN36@activate_c:
  00323	6a 5b		 push	 91			; 0000005bH
  00325	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00328	52		 push	 edx
  00329	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv198[ebp], 1116
  00330	8b 4d b8	 mov	 ecx, DWORD PTR tv205[ebp]
  00333	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0033a	ff d2		 call	 edx
  0033c	85 c0		 test	 eax, eax
  0033e	74 2f		 je	 SHORT $LN14@activate_c

; 234  : 				{
; 235  : 					play_client_server_cpg_contact_message

  00340	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00343	50		 push	 eax
  00344	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0034a	51		 push	 ecx
  0034b	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  00350	50		 push	 eax
  00351	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00354	52		 push	 edx
  00355	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0035a	50		 push	 eax
  0035b	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  00360	50		 push	 eax
  00361	6a 74		 push	 116			; 00000074H
  00363	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00369	51		 push	 ecx
  0036a	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN14@activate_c:

; 236  : 					(
; 237  : 						get_gunship_entity (),
; 238  : 						SPEECH_CPG_FAST_MOVERS,
; 239  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 240  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 241  : 					);
; 242  : 				}
; 243  : 			}
; 244  : 
; 245  : 			break;

  0036f	e9 27 02 00 00	 jmp	 $LN2@activate_c
$LN15@activate_c:

; 246  : 		}
; 247  : 		////////////////////////////////////////
; 248  : 		case THREAT_TYPE_SAM:
; 249  : 		////////////////////////////////////////
; 250  : 		{
; 251  : 			if (!comanche_damage.radar_warning_system)

  00374	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A ; comanche_damage
  00379	c1 e8 09	 shr	 eax, 9
  0037c	83 e0 01	 and	 eax, 1
  0037f	0f 85 00 01 00
	00		 jne	 $LN18@activate_c

; 252  : 			{
; 253  : 				reset_time_accel ();

  00385	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 254  : 
; 255  : 				auto_page_comanche_ase_main_mfd ();

  0038a	e8 00 00 00 00	 call	 ?auto_page_comanche_ase_main_mfd@@YGXXZ ; auto_page_comanche_ase_main_mfd

; 256  : 
; 257  : 				radar_locked_sound_timer = RADAR_LOCKED_SOUND_PERIOD;

  0038f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  00397	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 258  : 
; 259  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED);

  0039f	6a 1c		 push	 28			; 0000001cH
  003a1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  003a6	50		 push	 eax
  003a7	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 260  : 
; 261  : 				if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_SHIP_VEHICLE))

  003ac	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  003b0	74 0a		 je	 SHORT $LN37@activate_c
  003b2	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  003b5	8b 08		 mov	 ecx, DWORD PTR [eax]
  003b7	89 4d bc	 mov	 DWORD PTR tv232[ebp], ecx
  003ba	eb 1d		 jmp	 SHORT $LN38@activate_c
$LN37@activate_c:
  003bc	68 05 01 00 00	 push	 261			; 00000105H
  003c1	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  003c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003cc	52		 push	 edx
  003cd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003d2	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv232[ebp], 0
$LN38@activate_c:
  003d9	b8 01 00 00 00	 mov	 eax, 1
  003de	85 c0		 test	 eax, eax
  003e0	74 09		 je	 SHORT $LN39@activate_c
  003e2	c7 45 b8 5f 00
	00 00		 mov	 DWORD PTR tv239[ebp], 95 ; 0000005fH
  003e9	eb 1d		 jmp	 SHORT $LN40@activate_c
$LN39@activate_c:
  003eb	68 05 01 00 00	 push	 261			; 00000105H
  003f0	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  003f5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  003fb	51		 push	 ecx
  003fc	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00401	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv239[ebp], 0
$LN40@activate_c:
  00408	6a 5f		 push	 95			; 0000005fH
  0040a	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0040d	52		 push	 edx
  0040e	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv232[ebp], 1116
  00415	8b 4d b8	 mov	 ecx, DWORD PTR tv239[ebp]
  00418	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0041f	ff d2		 call	 edx
  00421	85 c0		 test	 eax, eax
  00423	74 31		 je	 SHORT $LN17@activate_c

; 262  : 				{
; 263  : 					play_client_server_cpg_contact_message

  00425	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00428	50		 push	 eax
  00429	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0042f	51		 push	 ecx
  00430	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  00435	50		 push	 eax
  00436	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00439	52		 push	 edx
  0043a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0043f	50		 push	 eax
  00440	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  00445	50		 push	 eax
  00446	6a 7d		 push	 125			; 0000007dH
  00448	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0044e	51		 push	 ecx
  0044f	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 264  : 					(
; 265  : 						get_gunship_entity (),
; 266  : 						SPEECH_CPG_WARSHIPS,
; 267  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 268  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 269  : 					);
; 270  : 				}
; 271  : 				else

  00454	eb 2f		 jmp	 SHORT $LN18@activate_c
$LN17@activate_c:

; 272  : 				{
; 273  : 					play_client_server_cpg_contact_message

  00456	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00459	50		 push	 eax
  0045a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00460	51		 push	 ecx
  00461	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  00466	50		 push	 eax
  00467	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0046a	52		 push	 edx
  0046b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00470	50		 push	 eax
  00471	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  00476	50		 push	 eax
  00477	6a 7b		 push	 123			; 0000007bH
  00479	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0047f	51		 push	 ecx
  00480	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN18@activate_c:

; 274  : 					(
; 275  : 						get_gunship_entity (),
; 276  : 						SPEECH_CPG_SAM,
; 277  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 278  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 279  : 					);
; 280  : 				}
; 281  : 			}
; 282  : 
; 283  : 			break;

  00485	e9 11 01 00 00	 jmp	 $LN2@activate_c
$LN19@activate_c:

; 284  : 		}
; 285  : 		////////////////////////////////////////
; 286  : 		case THREAT_TYPE_AAA:
; 287  : 		////////////////////////////////////////
; 288  : 		{
; 289  : 			if (!comanche_damage.radar_warning_system)

  0048a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_damage@@3TCOMANCHE_DAMAGE_FLAGS@@A ; comanche_damage
  0048f	c1 e8 09	 shr	 eax, 9
  00492	83 e0 01	 and	 eax, 1
  00495	0f 85 00 01 00
	00		 jne	 $LN22@activate_c

; 290  : 			{
; 291  : 				reset_time_accel ();

  0049b	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 292  : 
; 293  : 				auto_page_comanche_ase_main_mfd ();

  004a0	e8 00 00 00 00	 call	 ?auto_page_comanche_ase_main_mfd@@YGXXZ ; auto_page_comanche_ase_main_mfd

; 294  : 
; 295  : 				radar_locked_sound_timer = RADAR_LOCKED_SOUND_PERIOD;

  004a5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  004ad	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 296  : 
; 297  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED);

  004b5	6a 1c		 push	 28			; 0000001cH
  004b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  004bc	50		 push	 eax
  004bd	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 298  : 
; 299  : 				if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_SHIP_VEHICLE))

  004c2	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  004c6	74 0a		 je	 SHORT $LN41@activate_c
  004c8	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  004cb	8b 08		 mov	 ecx, DWORD PTR [eax]
  004cd	89 4d bc	 mov	 DWORD PTR tv276[ebp], ecx
  004d0	eb 1d		 jmp	 SHORT $LN42@activate_c
$LN41@activate_c:
  004d2	68 2b 01 00 00	 push	 299			; 0000012bH
  004d7	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  004dc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004e2	52		 push	 edx
  004e3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004e8	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv276[ebp], 0
$LN42@activate_c:
  004ef	b8 01 00 00 00	 mov	 eax, 1
  004f4	85 c0		 test	 eax, eax
  004f6	74 09		 je	 SHORT $LN43@activate_c
  004f8	c7 45 b8 5f 00
	00 00		 mov	 DWORD PTR tv283[ebp], 95 ; 0000005fH
  004ff	eb 1d		 jmp	 SHORT $LN44@activate_c
$LN43@activate_c:
  00501	68 2b 01 00 00	 push	 299			; 0000012bH
  00506	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KMNFBIPA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0050b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00511	51		 push	 ecx
  00512	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00517	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv283[ebp], 0
$LN44@activate_c:
  0051e	6a 5f		 push	 95			; 0000005fH
  00520	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00523	52		 push	 edx
  00524	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv276[ebp], 1116
  0052b	8b 4d b8	 mov	 ecx, DWORD PTR tv283[ebp]
  0052e	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00535	ff d2		 call	 edx
  00537	85 c0		 test	 eax, eax
  00539	74 31		 je	 SHORT $LN21@activate_c

; 300  : 				{
; 301  : 					play_client_server_cpg_contact_message

  0053b	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  0053e	50		 push	 eax
  0053f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00545	51		 push	 ecx
  00546	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  0054b	50		 push	 eax
  0054c	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0054f	52		 push	 edx
  00550	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00555	50		 push	 eax
  00556	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  0055b	50		 push	 eax
  0055c	6a 7d		 push	 125			; 0000007dH
  0055e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00564	51		 push	 ecx
  00565	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 302  : 					(
; 303  : 						get_gunship_entity (),
; 304  : 						SPEECH_CPG_WARSHIPS,
; 305  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 306  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 307  : 					);
; 308  : 				}
; 309  : 				else

  0056a	eb 2f		 jmp	 SHORT $LN22@activate_c
$LN21@activate_c:

; 310  : 				{
; 311  : 					play_client_server_cpg_contact_message

  0056c	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  0056f	50		 push	 eax
  00570	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00576	51		 push	 ecx
  00577	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  0057c	50		 push	 eax
  0057d	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00580	52		 push	 edx
  00581	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00586	50		 push	 eax
  00587	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  0058c	50		 push	 eax
  0058d	6a 7c		 push	 124			; 0000007cH
  0058f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00595	51		 push	 ecx
  00596	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN22@activate_c:
$LN2@activate_c:

; 312  : 					(
; 313  : 						get_gunship_entity (),
; 314  : 						SPEECH_CPG_TRIPLE_A,
; 315  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 316  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 317  : 					);
; 318  : 				}
; 319  : 			}
; 320  : 
; 321  : 			break;
; 322  : 		}
; 323  : 		////////////////////////////////////////
; 324  : 		case THREAT_TYPE_EARLY_WARNING_RADAR:
; 325  : 		////////////////////////////////////////
; 326  : 		{
; 327  : 			break;
; 328  : 		}
; 329  : 	}
; 330  : }

  0059b	5f		 pop	 edi
  0059c	5e		 pop	 esi
  0059d	5b		 pop	 ebx
  0059e	8b e5		 mov	 esp, ebp
  005a0	5d		 pop	 ebp
  005a1	c2 04 00	 ret	 4
$LN45@activate_c:
  005a4	00 00 00 00	 DD	 $LN6@activate_c
  005a8	00 00 00 00	 DD	 $LN8@activate_c
  005ac	00 00 00 00	 DD	 $LN9@activate_c
  005b0	00 00 00 00	 DD	 $LN10@activate_c
  005b4	00 00 00 00	 DD	 $LN15@activate_c
  005b8	00 00 00 00	 DD	 $LN19@activate_c
?activate_comanche_threat_warning_system@@YGXPAUENTITY@@@Z ENDP ; activate_comanche_threat_warning_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_thrt.c
;	COMDAT ?deinitialise_comanche_threat_warning_system@@YGXXZ
_TEXT	SEGMENT
?deinitialise_comanche_threat_warning_system@@YGXXZ PROC ; deinitialise_comanche_threat_warning_system, COMDAT

; 103  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 104  : 	if (get_gunship_entity ())

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	74 36		 je	 SHORT $LN2@deinitiali

; 105  : 	{
; 106  : 		pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING, 0.5);

  00012	51		 push	 ecx
  00013	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0001b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00020	6a 17		 push	 23			; 00000017H
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00027	50		 push	 eax
  00028	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type

; 107  : 
; 108  : 		pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED, 0.5);

  0002d	51		 push	 ecx
  0002e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00036	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0003b	6a 1c		 push	 28			; 0000001cH
  0003d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00042	50		 push	 eax
  00043	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN2@deinitiali:

; 109  : 	}
; 110  : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	8b e5		 mov	 esp, ebp
  0004d	5d		 pop	 ebp
  0004e	c3		 ret	 0
?deinitialise_comanche_threat_warning_system@@YGXXZ ENDP ; deinitialise_comanche_threat_warning_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_thrt.c
;	COMDAT ?initialise_comanche_threat_warning_system@@YGXXZ
_TEXT	SEGMENT
?initialise_comanche_threat_warning_system@@YGXXZ PROC	; initialise_comanche_threat_warning_system, COMDAT

; 92   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 93   : 	incoming_missile_sound_timer = 0.0;

  00009	0f 57 c0	 xorps	 xmm0, xmm0
  0000c	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 94   : 
; 95   : 	radar_locked_sound_timer = 0.0;

  00014	0f 57 c0	 xorps	 xmm0, xmm0
  00017	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 96   : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?initialise_comanche_threat_warning_system@@YGXXZ ENDP	; initialise_comanche_threat_warning_system
_TEXT	ENDS
END
