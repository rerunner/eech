; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\ai\taskgen\taskgen.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?terminator_point@@3UVEC3D@@A			; terminator_point
_DATA	SEGMENT
?terminator_point@@3UVEC3D@@A DD 0bf800000r	; -1	; terminator_point
	DD	0bf800000r			; -1
	DD	0bf800000r			; -1
_DATA	ENDS
PUBLIC	_ceilf
PUBLIC	_cosf
PUBLIC	_fabsf
PUBLIC	_sinf
PUBLIC	?ceil@@YGMM@Z					; ceil
PUBLIC	?cos@@YGMM@Z					; cos
PUBLIC	?fabs@@YGMM@Z					; fabs
PUBLIC	?sin@@YGMM@Z					; sin
PUBLIC	?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
PUBLIC	?create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_anti_ship_strike_task
PUBLIC	?create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_bai_task
PUBLIC	?create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HPAUVEC3D@@MM11@Z ; create_barcap_task
PUBLIC	?create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_bda_task
PUBLIC	?create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HMM11@Z ; create_cap_task
PUBLIC	?create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_close_air_support_task
PUBLIC	?create_coastal_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@1MPAU1@2@Z ; create_coastal_patrol_task
PUBLIC	?create_escort_task@@YGPAUENTITY@@PAU1@HM00@Z	; create_escort_task
PUBLIC	?create_ground_force_task@@YGPAUENTITY@@HPAU1@HHM00@Z ; create_ground_force_task
PUBLIC	?create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_ground_strike_task
PUBLIC	?create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_oca_strike_task
PUBLIC	?create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_oca_sweep_task
PUBLIC	?create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_recon_task
PUBLIC	?create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@M22@Z ; create_repair_task
PUBLIC	?create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_sead_task
PUBLIC	?create_supply_task@@YGPAUENTITY@@PAU1@00W4MOVEMENT_TYPES@@M00@Z ; create_supply_task
PUBLIC	?create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU1@1@Z ; create_transfer_task
PUBLIC	?create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ; create_troop_insertion_task
PUBLIC	?create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@22@Z ; create_troop_movement_capture_task
PUBLIC	?create_troop_movement_defend_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@11PAU1@2@Z ; create_troop_movement_defend_task
PUBLIC	?create_troop_movement_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@@Z ; create_troop_movement_patrol_task
PUBLIC	?create_user_task@@YGPAUENTITY@@PAU1@HPAUVEC3D@@00@Z ; create_user_task
PUBLIC	?get_estimated_task_duration@@YGMPAUENTITY@@@Z	; get_estimated_task_duration
PUBLIC	?validate_task_generation@@YGHW4ENTITY_SIDES@@H@Z ; validate_task_generation
PUBLIC	?display_task_generation_stats@@YGXPAUENTITY@@@Z ; display_task_generation_stats
PUBLIC	?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA ; `create_task'::`1'::__LINE__Var
PUBLIC	??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ ; `string'
PUBLIC	??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@ ; `string'
PUBLIC	??_C@_0BO@HGGDNFHD@TASKGEN?3?5Can?8t?5create?5task?5?$CFs@ ; `string'
PUBLIC	??_C@_0BP@FCJENBJL@route_length?5?$DM?5MAX_ROUTE_NODES@ ; `string'
PUBLIC	??_C@_08JODNPJDD@new_task@			; `string'
PUBLIC	??_C@_0O@EOPLJIPK@start_keysite@		; `string'
PUBLIC	??_C@_08OAGMDKAF@position@			; `string'
PUBLIC	??_C@_03KHPNBODO@sec@				; `string'
PUBLIC	?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_anti_ship_strike_task'::`1'::__LINE__Var
PUBLIC	??_C@_0BB@IKOILMEM@efficiency?5?$DO?50?40@	; `string'
PUBLIC	?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_bai_task'::`1'::__LINE__Var
PUBLIC	??_C@_0N@MPJEABLJ@target_group@			; `string'
PUBLIC	??_C@_0DK@LFJJBBLK@get_local_entity_type?5?$CItarget_g@ ; `string'
PUBLIC	??_C@_09DMMLFBJB@count?5?$DO?50@		; `string'
PUBLIC	?__LINE__Var@?0??create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HPAUVEC3D@@MM11@Z@4JA ; `create_barcap_task'::`1'::__LINE__Var
PUBLIC	??_C@_0P@OPPNMPNC@duration?5?$DO?50?40@		; `string'
PUBLIC	??_C@_0BA@BHAIJDIM@centre_position@		; `string'
PUBLIC	?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_bda_task'::`1'::__LINE__Var
PUBLIC	??_C@_09FKEDLGBF@objective@			; `string'
PUBLIC	??_C@_03PCBNCGFH@pos@				; `string'
PUBLIC	?__LINE__Var@?0??create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HMM11@Z@4JA ; `create_cap_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_close_air_support_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA ; `create_escort_task'::`1'::__LINE__Var
PUBLIC	??_C@_05MGJOOGAJ@group@				; `string'
PUBLIC	??_C@_0DD@GDEINBAL@get_local_entity_type?5?$CIgroup?$CJ?5?$DN@ ; `string'
PUBLIC	??_C@_0CO@HKHFIDEI@TASKGEN?3?5Created?5Escort?5Task?5?$CI?$CF@ ; `string'
PUBLIC	?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA ; `create_ground_force_task'::`1'::__LINE__Var
PUBLIC	??_C@_0DG@GEIBGDDC@original_formation?5?$DM?$DN?5get_forma@ ; `string'
PUBLIC	?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_ground_strike_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_oca_strike_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_oca_sweep_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_recon_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@M22@Z@4JA ; `create_repair_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_sead_task'::`1'::__LINE__Var
PUBLIC	??_C@_06JJLAMBGK@target@			; `string'
PUBLIC	??_C@_0DE@OOAIFCAD@get_local_entity_type?5?$CItarget?$CJ?5@ ; `string'
PUBLIC	?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA ; `create_supply_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU2@1@Z@4JA ; `create_transfer_task'::`1'::__LINE__Var
PUBLIC	??_C@_0M@IIJCELEF@end_keysite@			; `string'
PUBLIC	?__LINE__Var@?0??create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA ; `create_troop_insertion_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA ; `create_troop_movement_capture_task'::`1'::__LINE__Var
PUBLIC	??_C@_0CP@FPDFPAGN@?$CIcount?5?$DO?50?$CJ?5?$CG?$CG?5?$CIcount?5?$DM?5MAX_TRO@ ; `string'
PUBLIC	?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA ; `create_user_task'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA ; `get_estimated_task_duration'::`1'::__LINE__Var
PUBLIC	??_C@_0FH@PBDOHKIP@?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN@ ; `string'
PUBLIC	??_C@_0BL@NDBIEJEF@TASK?5GENERATION?5STATISTICS@ ; `string'
PUBLIC	??_C@_0CN@GEGKIHFA@?5?$CFs?3?5created?7completed?5failed?0?7@ ; `string'
PUBLIC	??_C@_0BM@GNOEKIFG@?7?7?7?7?$CFd?7?7?7?$CFd?7?7?7?7?$CFd?7?7?7?7?$CFd?5?5?$CFs@ ; `string'
PUBLIC	?__LINE__Var@?0??get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z@4JA ; `get_task_start_keysite'::`1'::__LINE__Var
PUBLIC	__real@00000000
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f10000000000000
PUBLIC	__real@3f800000
PUBLIC	__real@3fb999999999999a
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@40000000
PUBLIC	__real@4000000000000000
PUBLIC	__real@400921fb60000000
PUBLIC	__real@4010000000000000
PUBLIC	__real@4024000000000000
PUBLIC	__real@403eec14e0000000
PUBLIC	__real@4049000000000000
PUBLIC	__real@408f400000000000
PUBLIC	__real@41200000
PUBLIC	__real@43340000
PUBLIC	__real@44160000
PUBLIC	__real@44610000
PUBLIC	__real@447a0000
PUBLIC	__real@44960000
PUBLIC	__real@44e10000
PUBLIC	__real@45160000
PUBLIC	__real@4528c000
PUBLIC	__real@45fa0000
PUBLIC	__real@4728c000
EXTRN	_memcpy:PROC
EXTRN	_cos:PROC
EXTRN	_fabs:PROC
EXTRN	_sin:PROC
EXTRN	__imp__ceil:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?debug_log@@YAXPBDZZ:PROC			; debug_log
EXTRN	?malloc_heap_memory@@YGPAXI@Z:PROC		; malloc_heap_memory
EXTRN	?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z:PROC	; normalise_any_3d_vector
EXTRN	?get_approx_2d_range@@YGMPBUVEC3D@@0@Z:PROC	; get_approx_2d_range
EXTRN	?get_formation_database_count@@YGHXZ:PROC	; get_formation_database_count
EXTRN	?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z:PROC ; bound_position_to_adjusted_map_area
EXTRN	?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ:PROC ; notify_local_entity
EXTRN	?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z:PROC ; insert_local_entity_into_parents_child_list
EXTRN	?set_client_server_entity_parent@@YGXPAUENTITY@@W4LIST_TYPES@@0@Z:PROC ; set_client_server_entity_parent
EXTRN	?create_client_server_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ:PROC ; create_client_server_entity
EXTRN	?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ:PROC ; transmit_entity_comms_message
EXTRN	?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z:PROC ; get_local_force_entity
EXTRN	?get_keysite_supply_position@@YGPAUVEC3D@@PAUENTITY@@@Z:PROC ; get_keysite_supply_position
EXTRN	?get_keysite_troop_dropoff_position@@YGHPAUENTITY@@PAUVEC3D@@PAM@Z:PROC ; get_keysite_troop_dropoff_position
EXTRN	?get_keysite_takenoff_position@@YGHPAUENTITY@@PAUVEC3D@@H@Z:PROC ; get_keysite_takenoff_position
EXTRN	?get_local_sector_entity@@YGPAUENTITY@@PAUVEC3D@@@Z:PROC ; get_local_sector_entity
EXTRN	?assess_task_difficulty@@YGHPAUENTITY@@PAH1@Z:PROC ; assess_task_difficulty
EXTRN	?find_most_suitable_keysite_for_task@@YGPAUENTITY@@HW4ENTITY_SIDES@@PAUVEC3D@@H@Z:PROC ; find_most_suitable_keysite_for_task
EXTRN	?get_object_3d_troop_landing_route@@YGHHPAPAUVEC3D@@@Z:PROC ; get_object_3d_troop_landing_route
EXTRN	?get_object_3d_troop_takeoff_route@@YGHHPAPAUVEC3D@@@Z:PROC ; get_object_3d_troop_takeoff_route
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?entity_sub_type_task_names@@3PAPBDA:BYTE	; entity_sub_type_task_names
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?entity_side_names@@3PAPBDA:BYTE		; entity_side_names
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A:DWORD ; system_comms_data_flow
EXTRN	?world_map@@3UWORLD_MAP_DATA@@A:BYTE		; world_map
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?force_local_entity_create_stack_attributes@@3HA:DWORD ; force_local_entity_create_stack_attributes
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA:BYTE ; fn_set_local_entity_float_value
EXTRN	?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA:BYTE ; fn_set_client_server_entity_float_value
EXTRN	?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA:BYTE ; fn_get_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_local_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_set_local_entity_ptr_value@@3PAY0BE@P6GXPAUENTITY@@W4PTR_TYPES@@PAX@ZA:BYTE ; fn_set_local_entity_ptr_value
EXTRN	?overload_invalid_string_type_message@@3PBDB:DWORD ; overload_invalid_string_type_message
EXTRN	?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA:BYTE ; fn_get_local_entity_string
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?entities@@3PAUENTITY@@A:DWORD			; entities
EXTRN	?task_database@@3PAUTASK_DATA@@A:BYTE		; task_database
EXTRN	?game_type@@3W4GAME_TYPES@@A:DWORD		; game_type
EXTRN	?road_node_positions@@3PAUVEC3D@@A:DWORD	; road_node_positions
EXTRN	__fltused:DWORD
;	COMDAT __real@4728c000
CONST	SEGMENT
__real@4728c000 DD 04728c000r			; 43200
CONST	ENDS
;	COMDAT __real@45fa0000
CONST	SEGMENT
__real@45fa0000 DD 045fa0000r			; 8000
CONST	ENDS
;	COMDAT __real@4528c000
CONST	SEGMENT
__real@4528c000 DD 04528c000r			; 2700
CONST	ENDS
;	COMDAT __real@45160000
CONST	SEGMENT
__real@45160000 DD 045160000r			; 2400
CONST	ENDS
;	COMDAT __real@44e10000
CONST	SEGMENT
__real@44e10000 DD 044e10000r			; 1800
CONST	ENDS
;	COMDAT __real@44960000
CONST	SEGMENT
__real@44960000 DD 044960000r			; 1200
CONST	ENDS
;	COMDAT __real@447a0000
CONST	SEGMENT
__real@447a0000 DD 0447a0000r			; 1000
CONST	ENDS
;	COMDAT __real@44610000
CONST	SEGMENT
__real@44610000 DD 044610000r			; 900
CONST	ENDS
;	COMDAT __real@44160000
CONST	SEGMENT
__real@44160000 DD 044160000r			; 600
CONST	ENDS
;	COMDAT __real@43340000
CONST	SEGMENT
__real@43340000 DD 043340000r			; 180
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@408f400000000000
CONST	SEGMENT
__real@408f400000000000 DQ 0408f400000000000r	; 1000
CONST	ENDS
;	COMDAT __real@4049000000000000
CONST	SEGMENT
__real@4049000000000000 DQ 04049000000000000r	; 50
CONST	ENDS
;	COMDAT __real@403eec14e0000000
CONST	SEGMENT
__real@403eec14e0000000 DQ 0403eec14e0000000r	; 30.9222
CONST	ENDS
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT __real@4010000000000000
CONST	SEGMENT
__real@4010000000000000 DQ 04010000000000000r	; 4
CONST	ENDS
;	COMDAT __real@400921fb60000000
CONST	SEGMENT
__real@400921fb60000000 DQ 0400921fb60000000r	; 3.14159
CONST	ENDS
;	COMDAT __real@4000000000000000
CONST	SEGMENT
__real@4000000000000000 DQ 04000000000000000r	; 2
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3fb999999999999a
CONST	SEGMENT
__real@3fb999999999999a DQ 03fb999999999999ar	; 0.1
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f10000000000000
CONST	SEGMENT
__real@3f10000000000000 DQ 03f10000000000000r	; 6.10352e-05
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z@4JA DD 0972H ; `get_task_start_keysite'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BM@GNOEKIFG@?7?7?7?7?$CFd?7?7?7?$CFd?7?7?7?7?$CFd?7?7?7?7?$CFd?5?5?$CFs@
CONST	SEGMENT
??_C@_0BM@GNOEKIFG@?7?7?7?7?$CFd?7?7?7?$CFd?7?7?7?7?$CFd?7?7?7?7?$CFd?5?5?$CFs@ DB 09H
	DB	09H, 09H, 09H, '%d', 09H, 09H, 09H, '%d', 09H, 09H, 09H, 09H, '%'
	DB	'd', 09H, 09H, 09H, 09H, '%d  %s', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CN@GEGKIHFA@?5?$CFs?3?5created?7completed?5failed?0?7@
CONST	SEGMENT
??_C@_0CN@GEGKIHFA@?5?$CFs?3?5created?7completed?5failed?0?7@ DB ' %s: cr'
	DB	'eated', 09H, 'completed failed,', 09H, 'total_created', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@NDBIEJEF@TASK?5GENERATION?5STATISTICS@
CONST	SEGMENT
??_C@_0BL@NDBIEJEF@TASK?5GENERATION?5STATISTICS@ DB 'TASK GENERATION STAT'
	DB	'ISTICS', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0FH@PBDOHKIP@?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN@
CONST	SEGMENT
??_C@_0FH@PBDOHKIP@?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN@ DB '='
	DB	'============================================================='
	DB	'========================', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA DD 08e2H ; `get_estimated_task_duration'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA DD 0806H ; `create_user_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CP@FPDFPAGN@?$CIcount?5?$DO?50?$CJ?5?$CG?$CG?5?$CIcount?5?$DM?5MAX_TRO@
CONST	SEGMENT
??_C@_0CP@FPDFPAGN@?$CIcount?5?$DO?50?$CJ?5?$CG?$CG?5?$CIcount?5?$DM?5MAX_TRO@ DB '('
	DB	'count > 0) && (count < MAX_TROOP_ROUTE_COUNT)', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA DD 0736H ; `create_troop_movement_capture_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 06e3H ; `create_troop_insertion_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0M@IIJCELEF@end_keysite@
CONST	SEGMENT
??_C@_0M@IIJCELEF@end_keysite@ DB 'end_keysite', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU2@1@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU2@1@Z@4JA DD 06a1H ; `create_transfer_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA DD 0648H ; `create_supply_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DE@OOAIFCAD@get_local_entity_type?5?$CItarget?$CJ?5@
CONST	SEGMENT
??_C@_0DE@OOAIFCAD@get_local_entity_type?5?$CItarget?$CJ?5@ DB 'get_local'
	DB	'_entity_type (target) == ENTITY_TYPE_GROUP', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06JJLAMBGK@target@
CONST	SEGMENT
??_C@_06JJLAMBGK@target@ DB 'target', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 05f4H ; `create_sead_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@M22@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@M22@Z@4JA DD 05c4H ; `create_repair_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 0582H ; `create_recon_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 0542H ; `create_oca_sweep_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 0502H ; `create_oca_strike_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 04b6H ; `create_ground_strike_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DG@GEIBGDDC@original_formation?5?$DM?$DN?5get_forma@
CONST	SEGMENT
??_C@_0DG@GEIBGDDC@original_formation?5?$DM?$DN?5get_forma@ DB 'original_'
	DB	'formation <= get_formation_database_count ()', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA DD 0466H ; `create_ground_force_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CO@HKHFIDEI@TASKGEN?3?5Created?5Escort?5Task?5?$CI?$CF@
CONST	SEGMENT
??_C@_0CO@HKHFIDEI@TASKGEN?3?5Created?5Escort?5Task?5?$CI?$CF@ DB 'TASKGE'
	DB	'N: Created Escort Task (%d) for %s (%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DD@GDEINBAL@get_local_entity_type?5?$CIgroup?$CJ?5?$DN@
CONST	SEGMENT
??_C@_0DD@GDEINBAL@get_local_entity_type?5?$CIgroup?$CJ?5?$DN@ DB 'get_lo'
	DB	'cal_entity_type (group) == ENTITY_TYPE_GROUP', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_05MGJOOGAJ@group@
CONST	SEGMENT
??_C@_05MGJOOGAJ@group@ DB 'group', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA DD 0408H ; `create_escort_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 0387H ; `create_close_air_support_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HMM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HMM11@Z@4JA DD 0310H ; `create_cap_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_03PCBNCGFH@pos@
CONST	SEGMENT
??_C@_03PCBNCGFH@pos@ DB 'pos', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_09FKEDLGBF@objective@
CONST	SEGMENT
??_C@_09FKEDLGBF@objective@ DB 'objective', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 02ccH ; `create_bda_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BA@BHAIJDIM@centre_position@
CONST	SEGMENT
??_C@_0BA@BHAIJDIM@centre_position@ DB 'centre_position', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@OPPNMPNC@duration?5?$DO?50?40@
CONST	SEGMENT
??_C@_0P@OPPNMPNC@duration?5?$DO?50?40@ DB 'duration > 0.0', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HPAUVEC3D@@MM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HPAUVEC3D@@MM11@Z@4JA DD 025bH ; `create_barcap_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_09DMMLFBJB@count?5?$DO?50@
CONST	SEGMENT
??_C@_09DMMLFBJB@count?5?$DO?50@ DB 'count > 0', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DK@LFJJBBLK@get_local_entity_type?5?$CItarget_g@
CONST	SEGMENT
??_C@_0DK@LFJJBBLK@get_local_entity_type?5?$CItarget_g@ DB 'get_local_ent'
	DB	'ity_type (target_group) == ENTITY_TYPE_GROUP', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@MPJEABLJ@target_group@
CONST	SEGMENT
??_C@_0N@MPJEABLJ@target_group@ DB 'target_group', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 0208H ; `create_bai_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BB@IKOILMEM@efficiency?5?$DO?50?40@
CONST	SEGMENT
??_C@_0BB@IKOILMEM@efficiency?5?$DO?50?40@ DB 'efficiency > 0.0', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA DD 01bdH ; `create_anti_ship_strike_task'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_03KHPNBODO@sec@
CONST	SEGMENT
??_C@_03KHPNBODO@sec@ DB 'sec', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_08OAGMDKAF@position@
CONST	SEGMENT
??_C@_08OAGMDKAF@position@ DB 'position', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@EOPLJIPK@start_keysite@
CONST	SEGMENT
??_C@_0O@EOPLJIPK@start_keysite@ DB 'start_keysite', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08JODNPJDD@new_task@
CONST	SEGMENT
??_C@_08JODNPJDD@new_task@ DB 'new_task', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@FCJENBJL@route_length?5?$DM?5MAX_ROUTE_NODES@
CONST	SEGMENT
??_C@_0BP@FCJENBJL@route_length?5?$DM?5MAX_ROUTE_NODES@ DB 'route_length '
	DB	'< MAX_ROUTE_NODES', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BO@HGGDNFHD@TASKGEN?3?5Can?8t?5create?5task?5?$CFs@
CONST	SEGMENT
??_C@_0BO@HGGDNFHD@TASKGEN?3?5Can?8t?5create?5task?5?$CFs@ DB 'TASKGEN: C'
	DB	'an''t create task %s', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
CONST	SEGMENT
??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@ DB 'ASSERT %s (%s'
	DB	':%d)', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
CONST	SEGMENT
??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ DB 'ge'
	DB	't_comms_model () == COMMS_MODEL_SERVER', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nhv'
	DB	'90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA DD 080H ; `create_task'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z
_TEXT	SEGMENT
_sub_type$ = 8						; size = 4
_side$ = 12						; size = 4
_start_pos$ = 16					; size = 4
_start_keysite$ = 20					; size = 4
?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z PROC ; get_task_start_keysite, COMDAT

; 2418 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2419 : 	ASSERT (start_keysite);

  00009	83 7d 14 00	 cmp	 DWORD PTR _start_keysite$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_task_s
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_0O@EOPLJIPK@start_keysite@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_task_s:

; 2420 : 
; 2421 : 	if (task_database [sub_type].primary_task)

  00027	6b 45 08 50	 imul	 eax, DWORD PTR _sub_type$[ebp], 80
  0002b	8b 88 28 00 00
	00		 mov	 ecx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax+40]
  00031	d1 e9		 shr	 ecx, 1
  00033	83 e1 01	 and	 ecx, 1
  00036	74 55		 je	 SHORT $LN3@get_task_s

; 2422 : 	{
; 2423 : 		if (!(*start_keysite))

  00038	8b 45 14	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  0003b	83 38 00	 cmp	 DWORD PTR [eax], 0
  0003e	75 4d		 jne	 SHORT $LN3@get_task_s

; 2424 : 		{
; 2425 : 			//
; 2426 : 			// Keysite not specified - so find best suited
; 2427 : 			//
; 2428 : 			
; 2429 : 			if (task_database [sub_type].landing_types & (1 <<ENTITY_SUB_TYPE_LANDING_GROUND))

  00040	6b 45 08 50	 imul	 eax, DWORD PTR _sub_type$[ebp], 80
  00044	8b 88 34 00 00
	00		 mov	 ecx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax+52]
  0004a	83 e1 08	 and	 ecx, 8
  0004d	74 1a		 je	 SHORT $LN5@get_task_s

; 2430 : 			{
; 2431 : 				*start_keysite = find_most_suitable_keysite_for_task (sub_type, side, start_pos, FALSE);

  0004f	6a 00		 push	 0
  00051	8b 45 10	 mov	 eax, DWORD PTR _start_pos$[ebp]
  00054	50		 push	 eax
  00055	8b 4d 0c	 mov	 ecx, DWORD PTR _side$[ebp]
  00058	51		 push	 ecx
  00059	8b 55 08	 mov	 edx, DWORD PTR _sub_type$[ebp]
  0005c	52		 push	 edx
  0005d	e8 00 00 00 00	 call	 ?find_most_suitable_keysite_for_task@@YGPAUENTITY@@HW4ENTITY_SIDES@@PAUVEC3D@@H@Z ; find_most_suitable_keysite_for_task
  00062	8b 4d 14	 mov	 ecx, DWORD PTR _start_keysite$[ebp]
  00065	89 01		 mov	 DWORD PTR [ecx], eax

; 2432 : 			}
; 2433 : 			else

  00067	eb 18		 jmp	 SHORT $LN6@get_task_s
$LN5@get_task_s:

; 2434 : 			{
; 2435 : 				*start_keysite = find_most_suitable_keysite_for_task (sub_type, side, start_pos, TRUE);

  00069	6a 01		 push	 1
  0006b	8b 45 10	 mov	 eax, DWORD PTR _start_pos$[ebp]
  0006e	50		 push	 eax
  0006f	8b 4d 0c	 mov	 ecx, DWORD PTR _side$[ebp]
  00072	51		 push	 ecx
  00073	8b 55 08	 mov	 edx, DWORD PTR _sub_type$[ebp]
  00076	52		 push	 edx
  00077	e8 00 00 00 00	 call	 ?find_most_suitable_keysite_for_task@@YGPAUENTITY@@HW4ENTITY_SIDES@@PAUVEC3D@@H@Z ; find_most_suitable_keysite_for_task
  0007c	8b 4d 14	 mov	 ecx, DWORD PTR _start_keysite$[ebp]
  0007f	89 01		 mov	 DWORD PTR [ecx], eax
$LN6@get_task_s:

; 2436 : 			}
; 2437 : 
; 2438 : 			if (!*start_keysite)

  00081	8b 45 14	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  00084	83 38 00	 cmp	 DWORD PTR [eax], 0
  00087	75 04		 jne	 SHORT $LN3@get_task_s

; 2439 : 			{
; 2440 : 				//
; 2441 : 				// No suitable keysite found - abort task creation
; 2442 : 				//
; 2443 : 
; 2444 : 				return FALSE;

  00089	33 c0		 xor	 eax, eax
  0008b	eb 05		 jmp	 SHORT $LN1@get_task_s
$LN3@get_task_s:

; 2445 : 			}
; 2446 : 		}
; 2447 : 	}
; 2448 : 
; 2449 : 	return TRUE;

  0008d	b8 01 00 00 00	 mov	 eax, 1
$LN1@get_task_s:

; 2450 : }

  00092	5f		 pop	 edi
  00093	5e		 pop	 esi
  00094	5b		 pop	 ebx
  00095	8b e5		 mov	 esp, ebp
  00097	5d		 pop	 ebp
  00098	c2 10 00	 ret	 16			; 00000010H
?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ENDP ; get_task_start_keysite
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?display_task_generation_stats@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_force_raw$ = -8					; size = 4
_loop$ = -4						; size = 4
_force_en$ = 8						; size = 4
?display_task_generation_stats@@YGXPAUENTITY@@@Z PROC	; display_task_generation_stats, COMDAT

; 2379 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2380 : 	int
; 2381 : 		loop;
; 2382 : 
; 2383 : 	force
; 2384 : 		*force_raw;
; 2385 : 
; 2386 : 	//suppress_debug_log_timing_info (TRUE);
; 2387 : 
; 2388 : 	force_raw = (force *)get_local_entity_data (force_en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _force_en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d f8	 mov	 DWORD PTR _force_raw$[ebp], ecx

; 2389 : 
; 2390 : 	debug_log ("======================================================================================");

  00012	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@PBDOHKIP@?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN@
  00017	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  0001c	83 c4 04	 add	 esp, 4

; 2391 : 	debug_log ("TASK GENERATION STATISTICS");

  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@NDBIEJEF@TASK?5GENERATION?5STATISTICS@
  00024	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00029	83 c4 04	 add	 esp, 4

; 2392 : 	debug_log ("======================================================================================");

  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@PBDOHKIP@?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN@
  00031	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00036	83 c4 04	 add	 esp, 4

; 2393 : 
; 2394 : 	debug_log (" %s: created	completed failed,	total_created", entity_side_names [force_raw->side]);

  00039	8b 45 f8	 mov	 eax, DWORD PTR _force_raw$[ebp]
  0003c	8b 88 a0 04 00
	00		 mov	 ecx, DWORD PTR [eax+1184]
  00042	c1 e9 0c	 shr	 ecx, 12			; 0000000cH
  00045	83 e1 03	 and	 ecx, 3
  00048	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?entity_side_names@@3PAPBDA[ecx*4]
  0004f	52		 push	 edx
  00050	68 00 00 00 00	 push	 OFFSET ??_C@_0CN@GEGKIHFA@?5?$CFs?3?5created?7completed?5failed?0?7@
  00055	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  0005a	83 c4 08	 add	 esp, 8

; 2395 : 
; 2396 : 	for (loop = 0; loop < NUM_ENTITY_SUB_TYPE_TASKS; loop ++)

  0005d	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  00064	eb 09		 jmp	 SHORT $LN4@display_ta
$LN2@display_ta:
  00066	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00069	83 c0 01	 add	 eax, 1
  0006c	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@display_ta:
  0006f	83 7d fc 1e	 cmp	 DWORD PTR _loop$[ebp], 30 ; 0000001eH
  00073	7d 5e		 jge	 SHORT $LN3@display_ta

; 2397 : 	{
; 2398 : 
; 2399 : 
; 2400 : 		debug_log ("				%d			%d				%d				%d  %s",

  00075	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00078	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?entity_sub_type_task_names@@3PAPBDA[eax*4]
  0007f	51		 push	 ecx
  00080	8b 55 fc	 mov	 edx, DWORD PTR _loop$[ebp]
  00083	c1 e2 04	 shl	 edx, 4
  00086	8b 45 f8	 mov	 eax, DWORD PTR _force_raw$[ebp]
  00089	8b 8c 10 40 01
	00 00		 mov	 ecx, DWORD PTR [eax+edx+320]
  00090	51		 push	 ecx
  00091	8b 55 fc	 mov	 edx, DWORD PTR _loop$[ebp]
  00094	c1 e2 04	 shl	 edx, 4
  00097	8b 45 f8	 mov	 eax, DWORD PTR _force_raw$[ebp]
  0009a	8b 8c 10 48 01
	00 00		 mov	 ecx, DWORD PTR [eax+edx+328]
  000a1	51		 push	 ecx
  000a2	8b 55 fc	 mov	 edx, DWORD PTR _loop$[ebp]
  000a5	c1 e2 04	 shl	 edx, 4
  000a8	8b 45 f8	 mov	 eax, DWORD PTR _force_raw$[ebp]
  000ab	8b 8c 10 44 01
	00 00		 mov	 ecx, DWORD PTR [eax+edx+324]
  000b2	51		 push	 ecx
  000b3	8b 55 fc	 mov	 edx, DWORD PTR _loop$[ebp]
  000b6	c1 e2 04	 shl	 edx, 4
  000b9	8b 45 f8	 mov	 eax, DWORD PTR _force_raw$[ebp]
  000bc	8b 8c 10 40 01
	00 00		 mov	 ecx, DWORD PTR [eax+edx+320]
  000c3	51		 push	 ecx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@GNOEKIFG@?7?7?7?7?$CFd?7?7?7?$CFd?7?7?7?7?$CFd?7?7?7?7?$CFd?5?5?$CFs@
  000c9	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  000ce	83 c4 18	 add	 esp, 24			; 00000018H

; 2401 : 						force_raw->task_generation [loop].created,
; 2402 : 						force_raw->task_generation [loop].completed,
; 2403 : 						force_raw->task_generation [loop].failed,
; 2404 : 						force_raw->task_generation [loop].created,
; 2405 : 						entity_sub_type_task_names [loop]);
; 2406 : 	}

  000d1	eb 93		 jmp	 SHORT $LN2@display_ta
$LN3@display_ta:

; 2407 : 
; 2408 : 	debug_log ("======================================================================================");

  000d3	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@PBDOHKIP@?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN?$DN@
  000d8	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  000dd	83 c4 04	 add	 esp, 4

; 2409 : 
; 2410 : 	//suppress_debug_log_timing_info (FALSE);
; 2411 : }

  000e0	5f		 pop	 edi
  000e1	5e		 pop	 esi
  000e2	5b		 pop	 ebx
  000e3	8b e5		 mov	 esp, ebp
  000e5	5d		 pop	 ebp
  000e6	c2 04 00	 ret	 4
?display_task_generation_stats@@YGXPAUENTITY@@@Z ENDP	; display_task_generation_stats
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?validate_task_generation@@YGHW4ENTITY_SIDES@@H@Z
_TEXT	SEGMENT
_side$ = 8						; size = 4
_sub_type$ = 12						; size = 4
?validate_task_generation@@YGHW4ENTITY_SIDES@@H@Z PROC	; validate_task_generation, COMDAT

; 2208 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2209 : 	return TRUE;

  00009	b8 01 00 00 00	 mov	 eax, 1

; 2210 : 
; 2211 : 	#if 0
; 2212 : 
; 2213 : 	entity
; 2214 : 		*this_force;
; 2215 : 
; 2216 : 	force
; 2217 : 		*raw;
; 2218 : 
; 2219 : 	#if TASK_SAFE_LIMIT
; 2220 : 	{
; 2221 : 
; 2222 : 		int
; 2223 : 			task_count;
; 2224 : 
; 2225 : 		entity
; 2226 : 			*task;
; 2227 : 
; 2228 : 		task_count = 0;
; 2229 : 
; 2230 : 		task = get_local_entity_first_child (get_session_entity (), task_database [sub_type].list_type);
; 2231 : 
; 2232 : 		while (task)
; 2233 : 		{
; 2234 : 
; 2235 : 			task_count ++;
; 2236 : 
; 2237 : 			task = task->task_data->task_link.child_succ;
; 2238 : 		}
; 2239 : 
; 2240 : 		if (task_count > TASK_SAFE_LIMIT)
; 2241 : 		{
; 2242 : 
; 2243 : 			debug_log ("TASKGEN: WARNING ! CURRENTLY %d %s TASKS ALIVE", task_count, entity_sub_type_task_names [sub_type]);
; 2244 : 
; 2245 : 			return FALSE;
; 2246 : 		}
; 2247 : 	}
; 2248 : 	#endif
; 2249 : 
; 2250 : 	this_force = get_local_force_entity (side);
; 2251 : 
; 2252 : 	if (this_force)
; 2253 : 	{
; 2254 : 
; 2255 : 		raw = get_local_entity_data (this_force);
; 2256 : 
; 2257 : 		if (raw->task_generation [sub_type].valid)
; 2258 : 		{
; 2259 : 
; 2260 : 			return TRUE;
; 2261 : 		}
; 2262 : 	}
; 2263 : 
; 2264 : 	return FALSE;
; 2265 : 
; 2266 : 	#endif
; 2267 : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c2 08 00	 ret	 8
?validate_task_generation@@YGHW4ENTITY_SIDES@@H@Z ENDP	; validate_task_generation
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?get_estimated_task_duration@@YGMPAUENTITY@@@Z
_TEXT	SEGMENT
tv179 = -96						; size = 4
tv155 = -96						; size = 4
tv134 = -96						; size = 4
tv82 = -96						; size = 4
tv231 = -92						; size = 4
tv171 = -92						; size = 4
tv147 = -92						; size = 4
tv94 = -92						; size = 4
tv74 = -92						; size = 4
_task_raw$ = -24					; size = 4
_range$ = -20						; size = 4
_time$ = -16						; size = 4
_wp_pos1$ = -12						; size = 4
_wp_pos2$ = -8						; size = 4
_wp$ = -4						; size = 4
_task_en$ = 8						; size = 4
?get_estimated_task_duration@@YGMPAUENTITY@@@Z PROC	; get_estimated_task_duration, COMDAT

; 2274 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2275 : 
; 2276 : 	entity
; 2277 : 		*wp;
; 2278 : 
; 2279 : 	vec3d
; 2280 : 		*wp_pos2,
; 2281 : 		*wp_pos1;
; 2282 : 
; 2283 : 	float
; 2284 : 		time,
; 2285 : 		range;
; 2286 : 
; 2287 : 	task
; 2288 : 		*task_raw;
; 2289 : 
; 2290 : 	range = 0;

  00009	0f 57 c0	 xorps	 xmm0, xmm0
  0000c	f3 0f 11 45 ec	 movss	 DWORD PTR _range$[ebp], xmm0

; 2291 : 
; 2292 : 	task_raw = (task *) get_local_entity_data (task_en);

  00011	8b 45 08	 mov	 eax, DWORD PTR _task_en$[ebp]
  00014	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00017	89 4d e8	 mov	 DWORD PTR _task_raw$[ebp], ecx

; 2293 : 
; 2294 : 	wp = task_raw->waypoint_root.first_child;

  0001a	8b 45 e8	 mov	 eax, DWORD PTR _task_raw$[ebp]
  0001d	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  00020	89 4d fc	 mov	 DWORD PTR _wp$[ebp], ecx

; 2295 : 
; 2296 : 	if (wp)

  00023	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00027	0f 84 2e 02 00
	00		 je	 $LN4@get_estima

; 2297 : 	{
; 2298 : 
; 2299 : 		wp_pos1 = get_local_entity_vec3d_ptr (wp, VEC3D_TYPE_POSITION);

  0002d	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00031	74 0a		 je	 SHORT $LN7@get_estima
  00033	8b 45 fc	 mov	 eax, DWORD PTR _wp$[ebp]
  00036	8b 08		 mov	 ecx, DWORD PTR [eax]
  00038	89 4d a4	 mov	 DWORD PTR tv74[ebp], ecx
  0003b	eb 21		 jmp	 SHORT $LN8@get_estima
$LN7@get_estima:
  0003d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  00043	83 c2 19	 add	 edx, 25			; 00000019H
  00046	52		 push	 edx
  00047	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00051	50		 push	 eax
  00052	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00057	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN8@get_estima:
  0005e	b9 01 00 00 00	 mov	 ecx, 1
  00063	85 c9		 test	 ecx, ecx
  00065	74 09		 je	 SHORT $LN9@get_estima
  00067	c7 45 a0 08 00
	00 00		 mov	 DWORD PTR tv82[ebp], 8
  0006e	eb 21		 jmp	 SHORT $LN10@get_estima
$LN9@get_estima:
  00070	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  00076	83 c2 19	 add	 edx, 25			; 00000019H
  00079	52		 push	 edx
  0007a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0007f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00084	50		 push	 eax
  00085	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008a	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN10@get_estima:
  00091	6a 08		 push	 8
  00093	8b 4d fc	 mov	 ecx, DWORD PTR _wp$[ebp]
  00096	51		 push	 ecx
  00097	6b 55 a4 60	 imul	 edx, DWORD PTR tv74[ebp], 96
  0009b	8b 45 a0	 mov	 eax, DWORD PTR tv82[ebp]
  0009e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000a5	ff d1		 call	 ecx
  000a7	89 45 f4	 mov	 DWORD PTR _wp_pos1$[ebp], eax

; 2300 : 
; 2301 : 		wp = get_local_entity_child_succ (wp, LIST_TYPE_WAYPOINT);

  000aa	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  000ae	74 0a		 je	 SHORT $LN11@get_estima
  000b0	8b 45 fc	 mov	 eax, DWORD PTR _wp$[ebp]
  000b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b5	89 4d a4	 mov	 DWORD PTR tv94[ebp], ecx
  000b8	eb 21		 jmp	 SHORT $LN12@get_estima
$LN11@get_estima:
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  000c0	83 c2 1b	 add	 edx, 27			; 0000001bH
  000c3	52		 push	 edx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ce	50		 push	 eax
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv94[ebp], 0
$LN12@get_estima:
  000db	b9 01 00 00 00	 mov	 ecx, 1
  000e0	85 c9		 test	 ecx, ecx
  000e2	74 09		 je	 SHORT $LN13@get_estima
  000e4	c7 45 a0 2c 00
	00 00		 mov	 DWORD PTR tv134[ebp], 44 ; 0000002cH
  000eb	eb 21		 jmp	 SHORT $LN14@get_estima
$LN13@get_estima:
  000ed	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  000f3	83 c2 1b	 add	 edx, 27			; 0000001bH
  000f6	52		 push	 edx
  000f7	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00101	50		 push	 eax
  00102	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00107	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN14@get_estima:
  0010e	6a 2c		 push	 44			; 0000002cH
  00110	8b 4d fc	 mov	 ecx, DWORD PTR _wp$[ebp]
  00113	51		 push	 ecx
  00114	69 55 a4 b4 00
	00 00		 imul	 edx, DWORD PTR tv94[ebp], 180
  0011b	8b 45 a0	 mov	 eax, DWORD PTR tv134[ebp]
  0011e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00125	ff d1		 call	 ecx
  00127	89 45 fc	 mov	 DWORD PTR _wp$[ebp], eax
$LN2@get_estima:

; 2302 : 
; 2303 : 		while (wp)

  0012a	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  0012e	0f 84 27 01 00
	00		 je	 $LN3@get_estima

; 2304 : 		{
; 2305 : 
; 2306 : 			wp_pos2 = get_local_entity_vec3d_ptr (wp, VEC3D_TYPE_POSITION);

  00134	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00138	74 0a		 je	 SHORT $LN15@get_estima
  0013a	8b 45 fc	 mov	 eax, DWORD PTR _wp$[ebp]
  0013d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0013f	89 4d a4	 mov	 DWORD PTR tv147[ebp], ecx
  00142	eb 21		 jmp	 SHORT $LN16@get_estima
$LN15@get_estima:
  00144	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  0014a	83 c2 20	 add	 edx, 32			; 00000020H
  0014d	52		 push	 edx
  0014e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00153	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00158	50		 push	 eax
  00159	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0015e	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
$LN16@get_estima:
  00165	b9 01 00 00 00	 mov	 ecx, 1
  0016a	85 c9		 test	 ecx, ecx
  0016c	74 09		 je	 SHORT $LN17@get_estima
  0016e	c7 45 a0 08 00
	00 00		 mov	 DWORD PTR tv155[ebp], 8
  00175	eb 21		 jmp	 SHORT $LN18@get_estima
$LN17@get_estima:
  00177	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  0017d	83 c2 20	 add	 edx, 32			; 00000020H
  00180	52		 push	 edx
  00181	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00186	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0018b	50		 push	 eax
  0018c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00191	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN18@get_estima:
  00198	6a 08		 push	 8
  0019a	8b 4d fc	 mov	 ecx, DWORD PTR _wp$[ebp]
  0019d	51		 push	 ecx
  0019e	6b 55 a4 60	 imul	 edx, DWORD PTR tv147[ebp], 96
  001a2	8b 45 a0	 mov	 eax, DWORD PTR tv155[ebp]
  001a5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  001ac	ff d1		 call	 ecx
  001ae	89 45 f8	 mov	 DWORD PTR _wp_pos2$[ebp], eax

; 2307 : 
; 2308 : 			range += get_approx_2d_range (wp_pos1, wp_pos2);

  001b1	8b 45 f8	 mov	 eax, DWORD PTR _wp_pos2$[ebp]
  001b4	50		 push	 eax
  001b5	8b 4d f4	 mov	 ecx, DWORD PTR _wp_pos1$[ebp]
  001b8	51		 push	 ecx
  001b9	e8 00 00 00 00	 call	 ?get_approx_2d_range@@YGMPBUVEC3D@@0@Z ; get_approx_2d_range
  001be	d9 5d a4	 fstp	 DWORD PTR tv231[ebp]
  001c1	f3 0f 10 45 a4	 movss	 xmm0, DWORD PTR tv231[ebp]
  001c6	f3 0f 58 45 ec	 addss	 xmm0, DWORD PTR _range$[ebp]
  001cb	f3 0f 11 45 ec	 movss	 DWORD PTR _range$[ebp], xmm0

; 2309 : 
; 2310 : 			wp_pos1 = wp_pos2;

  001d0	8b 45 f8	 mov	 eax, DWORD PTR _wp_pos2$[ebp]
  001d3	89 45 f4	 mov	 DWORD PTR _wp_pos1$[ebp], eax

; 2311 : 
; 2312 : 			wp = get_local_entity_child_succ (wp, LIST_TYPE_WAYPOINT);

  001d6	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  001da	74 0a		 je	 SHORT $LN19@get_estima
  001dc	8b 45 fc	 mov	 eax, DWORD PTR _wp$[ebp]
  001df	8b 08		 mov	 ecx, DWORD PTR [eax]
  001e1	89 4d a4	 mov	 DWORD PTR tv171[ebp], ecx
  001e4	eb 21		 jmp	 SHORT $LN20@get_estima
$LN19@get_estima:
  001e6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  001ec	83 c2 26	 add	 edx, 38			; 00000026H
  001ef	52		 push	 edx
  001f0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001fa	50		 push	 eax
  001fb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00200	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv171[ebp], 0
$LN20@get_estima:
  00207	b9 01 00 00 00	 mov	 ecx, 1
  0020c	85 c9		 test	 ecx, ecx
  0020e	74 09		 je	 SHORT $LN21@get_estima
  00210	c7 45 a0 2c 00
	00 00		 mov	 DWORD PTR tv179[ebp], 44 ; 0000002cH
  00217	eb 21		 jmp	 SHORT $LN22@get_estima
$LN21@get_estima:
  00219	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_estimated_task_duration@@YGMPAUENTITY@@@Z@4JA
  0021f	83 c2 26	 add	 edx, 38			; 00000026H
  00222	52		 push	 edx
  00223	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00228	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0022d	50		 push	 eax
  0022e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00233	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN22@get_estima:
  0023a	6a 2c		 push	 44			; 0000002cH
  0023c	8b 4d fc	 mov	 ecx, DWORD PTR _wp$[ebp]
  0023f	51		 push	 ecx
  00240	69 55 a4 b4 00
	00 00		 imul	 edx, DWORD PTR tv171[ebp], 180
  00247	8b 45 a0	 mov	 eax, DWORD PTR tv179[ebp]
  0024a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00251	ff d1		 call	 ecx
  00253	89 45 fc	 mov	 DWORD PTR _wp$[ebp], eax

; 2313 : 		}

  00256	e9 cf fe ff ff	 jmp	 $LN2@get_estima
$LN3@get_estima:
$LN4@get_estima:

; 2314 : 	}
; 2315 : 	else
; 2316 : 	{
; 2317 : /*
; 2318 : 		int
; 2319 : 			loop,
; 2320 : 			length;
; 2321 : 
; 2322 : 		vec3d
; 2323 : 			*nodes,
; 2324 : 			*route,
; 2325 : 			*keysite_pos,
; 2326 : 			temp_nodes [50];
; 2327 : 
; 2328 : 		//
; 2329 : 		// Create vec3d route for task. Not assigned yet as user is only looking !
; 2330 : 		//
; 2331 : 
; 2332 : 		nodes = get_local_entity_vec3d_ptr (task_en, VEC3D_TYPE_START_POSITION);
; 2333 : 
; 2334 : 		length = get_local_entity_int_value (task_en, INT_TYPE_ROUTE_LENGTH);
; 2335 : 
; 2336 : 		if (!get_base_current_keysite ())
; 2337 : 		{
; 2338 : 
; 2339 : 			return 0.0;
; 2340 : 		}
; 2341 : 
; 2342 : 		keysite_pos = get_local_entity_vec3d_ptr (get_base_current_keysite (), VEC3D_TYPE_POSITION);
; 2343 : 		temp_nodes [0] = *keysite_pos;
; 2344 : 
; 2345 : 		memcpy (&temp_nodes [1], nodes, sizeof (vec3d) * length);
; 2346 : 
; 2347 : 		temp_nodes [length + 1].x = -1.0;
; 2348 : 		temp_nodes [length + 1].y = -1.0;
; 2349 : 		temp_nodes [length + 1].z = -1.0;
; 2350 : 
; 2351 : 		build_calculated_air_vec3d_route (temp_nodes, &length, &route, get_global_gunship_side ());
; 2352 : 
; 2353 : 		range = 0.0;
; 2354 : 
; 2355 : 		for (loop = 0; loop < length - 1; loop ++)
; 2356 : 		{
; 2357 : 
; 2358 : 			if ( ( route [loop+1].x == -1 ) && ( route [loop+1].z == -1 ) )
; 2359 : 			{
; 2360 : 
; 2361 : 				break;
; 2362 : 			}
; 2363 : 
; 2364 : 			range += get_approx_2d_range (&route [loop], &route [loop + 1]);
; 2365 : 		}
; 2366 : 		*/
; 2367 : 	}
; 2368 : 
; 2369 : 	time = range / knots_to_metres_per_second (60.0); // average speed

  0025b	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _range$[ebp]
  00260	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@403eec14e0000000
  00268	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0026c	f3 0f 11 45 f0	 movss	 DWORD PTR _time$[ebp], xmm0

; 2370 : 
; 2371 : 	return time;

  00271	d9 45 f0	 fld	 DWORD PTR _time$[ebp]

; 2372 : }

  00274	5f		 pop	 edi
  00275	5e		 pop	 esi
  00276	5b		 pop	 ebx
  00277	8b e5		 mov	 esp, ebp
  00279	5d		 pop	 ebp
  0027a	c2 04 00	 ret	 4
?get_estimated_task_duration@@YGMPAUENTITY@@@Z ENDP	; get_estimated_task_duration
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_user_task@@YGPAUENTITY@@PAU1@HPAUVEC3D@@00@Z
_TEXT	SEGMENT
tv182 = -128						; size = 4
tv157 = -128						; size = 4
tv78 = -128						; size = 4
tv250 = -124						; size = 4
tv243 = -124						; size = 4
tv174 = -124						; size = 4
tv149 = -124						; size = 4
tv90 = -124						; size = 4
tv70 = -124						; size = 4
_side$ = -56						; size = 4
_end_ks$ = -52						; size = 4
_start_ks$ = -48					; size = 4
_stop$ = -44						; size = 12
_direction$ = -32					; size = 12
_stop_waypoint_type$ = -20				; size = 4
_expire_time$ = -16					; size = 4
_new_task$ = -12					; size = 4
_keysite$ = -8						; size = 4
_group$ = -4						; size = 4
_en$ = 8						; size = 4
_task_type$ = 12					; size = 4
_start_pos$ = 16					; size = 4
_start_keysite$ = 20					; size = 4
_end_keysite$ = 24					; size = 4
?create_user_task@@YGPAUENTITY@@PAU1@HPAUVEC3D@@00@Z PROC ; create_user_task, COMDAT

; 2054 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 2055 : 
; 2056 : 	entity
; 2057 : 		*group,
; 2058 : 		*keysite,
; 2059 : 		*new_task;
; 2060 : 
; 2061 : 	float
; 2062 : 		expire_time;
; 2063 : 
; 2064 : 	entity_sub_types
; 2065 : 		stop_waypoint_type;
; 2066 : 
; 2067 : 	vec3d
; 2068 : 		direction,
; 2069 : 		stop;
; 2070 : 
; 2071 : 	entity
; 2072 : 		*start_ks,
; 2073 : 		*end_ks;
; 2074 : 
; 2075 : 	entity_sides
; 2076 : 		side;
; 2077 : 
; 2078 : 	side = (entity_sides) get_local_entity_int_value (en, INT_TYPE_SIDE);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	74 0a		 je	 SHORT $LN15@create_use
  00012	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 4d 84	 mov	 DWORD PTR tv70[ebp], ecx
  0001a	eb 21		 jmp	 SHORT $LN16@create_use
$LN15@create_use:
  0001c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
  00022	83 c2 18	 add	 edx, 24			; 00000018H
  00025	52		 push	 edx
  00026	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00030	50		 push	 eax
  00031	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00036	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN16@create_use:
  0003d	b9 01 00 00 00	 mov	 ecx, 1
  00042	85 c9		 test	 ecx, ecx
  00044	74 09		 je	 SHORT $LN17@create_use
  00046	c7 45 80 bb 00
	00 00		 mov	 DWORD PTR tv78[ebp], 187 ; 000000bbH
  0004d	eb 21		 jmp	 SHORT $LN18@create_use
$LN17@create_use:
  0004f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
  00055	83 c2 18	 add	 edx, 24			; 00000018H
  00058	52		 push	 edx
  00059	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00063	50		 push	 eax
  00064	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00069	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN18@create_use:
  00070	68 bb 00 00 00	 push	 187			; 000000bbH
  00075	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00078	51		 push	 ecx
  00079	69 55 84 5c 04
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 1116
  00080	8b 45 80	 mov	 eax, DWORD PTR tv78[ebp]
  00083	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0008a	ff d1		 call	 ecx
  0008c	89 45 c8	 mov	 DWORD PTR _side$[ebp], eax

; 2079 : 
; 2080 : 	start_ks = start_keysite;

  0008f	8b 45 14	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  00092	89 45 d0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 2081 : 	end_ks = end_keysite;

  00095	8b 45 18	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  00098	89 45 cc	 mov	 DWORD PTR _end_ks$[ebp], eax

; 2082 : 
; 2083 : 	if (!get_task_start_keysite (task_type, side, start_pos, &start_ks))

  0009b	8d 45 d0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  0009e	50		 push	 eax
  0009f	8b 4d 10	 mov	 ecx, DWORD PTR _start_pos$[ebp]
  000a2	51		 push	 ecx
  000a3	8b 55 c8	 mov	 edx, DWORD PTR _side$[ebp]
  000a6	52		 push	 edx
  000a7	8b 45 0c	 mov	 eax, DWORD PTR _task_type$[ebp]
  000aa	50		 push	 eax
  000ab	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000b0	85 c0		 test	 eax, eax
  000b2	75 07		 jne	 SHORT $LN4@create_use

; 2084 : 	{
; 2085 : 
; 2086 : 		return NULL;

  000b4	33 c0		 xor	 eax, eax
  000b6	e9 ba 02 00 00	 jmp	 $LN1@create_use
$LN4@create_use:

; 2087 : 	}
; 2088 : 
; 2089 : 	switch (task_type)

  000bb	8b 45 0c	 mov	 eax, DWORD PTR _task_type$[ebp]
  000be	89 45 84	 mov	 DWORD PTR tv90[ebp], eax
  000c1	8b 4d 84	 mov	 ecx, DWORD PTR tv90[ebp]
  000c4	83 e9 06	 sub	 ecx, 6
  000c7	89 4d 84	 mov	 DWORD PTR tv90[ebp], ecx
  000ca	83 7d 84 13	 cmp	 DWORD PTR tv90[ebp], 19	; 00000013H
  000ce	77 45		 ja	 SHORT $LN11@create_use
  000d0	8b 55 84	 mov	 edx, DWORD PTR tv90[ebp]
  000d3	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN27@create_use[edx]
  000da	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN28@create_use[eax*4]
$LN5@create_use:

; 2090 : 	{
; 2091 : 
; 2092 : 		case ENTITY_SUB_TYPE_TASK_RECON:
; 2093 : 		{
; 2094 : 
; 2095 : 			stop_waypoint_type = ENTITY_SUB_TYPE_WAYPOINT_RECON;

  000e1	c7 45 ec 15 00
	00 00		 mov	 DWORD PTR _stop_waypoint_type$[ebp], 21 ; 00000015H

; 2096 : 
; 2097 : 			break;

  000e8	eb 32		 jmp	 SHORT $LN2@create_use
$LN6@create_use:

; 2098 : 		}
; 2099 : 		case ENTITY_SUB_TYPE_TASK_GROUND_STRIKE:
; 2100 : 		{
; 2101 : 
; 2102 : 			stop_waypoint_type = ENTITY_SUB_TYPE_WAYPOINT_ATTACK;

  000ea	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _stop_waypoint_type$[ebp], 1

; 2103 : 
; 2104 : 			break;

  000f1	eb 29		 jmp	 SHORT $LN2@create_use
$LN7@create_use:

; 2105 : 		}
; 2106 : 		case ENTITY_SUB_TYPE_TASK_CLOSE_AIR_SUPPORT:
; 2107 : 		{
; 2108 : 
; 2109 : 			stop_waypoint_type = ENTITY_SUB_TYPE_WAYPOINT_ATTACK;

  000f3	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _stop_waypoint_type$[ebp], 1

; 2110 : 
; 2111 : 			break;

  000fa	eb 20		 jmp	 SHORT $LN2@create_use
$LN8@create_use:

; 2112 : 		}
; 2113 : 		case ENTITY_SUB_TYPE_TASK_SEAD:
; 2114 : 		{
; 2115 : 
; 2116 : 			stop_waypoint_type = ENTITY_SUB_TYPE_WAYPOINT_ATTACK;

  000fc	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _stop_waypoint_type$[ebp], 1

; 2117 : 
; 2118 : 			break;

  00103	eb 17		 jmp	 SHORT $LN2@create_use
$LN9@create_use:

; 2119 : 		}
; 2120 : 		case ENTITY_SUB_TYPE_TASK_TRANSFER_HELICOPTER:
; 2121 : 		{
; 2122 : 
; 2123 : 			stop_waypoint_type = ENTITY_SUB_TYPE_WAYPOINT_END;

  00105	c7 45 ec 07 00
	00 00		 mov	 DWORD PTR _stop_waypoint_type$[ebp], 7

; 2124 : 
; 2125 : 			break;

  0010c	eb 0e		 jmp	 SHORT $LN2@create_use
$LN10@create_use:

; 2126 : 		}
; 2127 : 		case ENTITY_SUB_TYPE_TASK_COMBAT_AIR_PATROL:
; 2128 : 		{
; 2129 : 
; 2130 : 			//new_task = create_cap_task (get_local_entity_int_value (en, INT_TYPE_SIDE), get_base_current_keysite (), NULL);
; 2131 : 
; 2132 : 			return NULL;

  0010e	33 c0		 xor	 eax, eax
  00110	e9 60 02 00 00	 jmp	 $LN1@create_use
$LN11@create_use:

; 2133 : 		}
; 2134 : 		default:
; 2135 : 		{
; 2136 : 
; 2137 : 			stop_waypoint_type = ENTITY_SUB_TYPE_WAYPOINT_END;

  00115	c7 45 ec 07 00
	00 00		 mov	 DWORD PTR _stop_waypoint_type$[ebp], 7
$LN2@create_use:

; 2138 : 
; 2139 : 			break;
; 2140 : 		}
; 2141 : 	}
; 2142 : 
; 2143 : 	if (get_game_type () == GAME_TYPE_FREE_FLIGHT)

  0011c	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?game_type@@3W4GAME_TYPES@@A, 1 ; game_type
  00123	75 07		 jne	 SHORT $LN12@create_use

; 2144 : 	{
; 2145 : 
; 2146 : 		stop_waypoint_type = ENTITY_SUB_TYPE_WAYPOINT_IMPOSSIBLE;

  00125	c7 45 ec 0c 00
	00 00		 mov	 DWORD PTR _stop_waypoint_type$[ebp], 12 ; 0000000cH
$LN12@create_use:

; 2147 : 	}
; 2148 : 
; 2149 : 	expire_time = 3 * ONE_MINUTE;

  0012c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43340000
  00134	f3 0f 11 45 f0	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 2150 : 
; 2151 : 	// move stop position towards the centre of the map
; 2152 : 
; 2153 : 	direction.x = MID_MAP_X - start_pos->x;

  00139	8b 45 10	 mov	 eax, DWORD PTR _start_pos$[ebp]
  0013c	f3 0f 10 05 30
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+48
  00144	f3 0f 5c 00	 subss	 xmm0, DWORD PTR [eax]
  00148	f3 0f 11 45 e0	 movss	 DWORD PTR _direction$[ebp], xmm0

; 2154 : 	direction.z = MID_MAP_Z - start_pos->z;

  0014d	8b 45 10	 mov	 eax, DWORD PTR _start_pos$[ebp]
  00150	f3 0f 10 05 38
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+56
  00158	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  0015d	f3 0f 11 45 e8	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 2155 : 
; 2156 : 	direction.x /= fabs (direction.x);

  00162	51		 push	 ecx
  00163	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _direction$[ebp]
  00168	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0016d	e8 00 00 00 00	 call	 ?fabs@@YGMM@Z		; fabs
  00172	d9 5d 84	 fstp	 DWORD PTR tv243[ebp]
  00175	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _direction$[ebp]
  0017a	f3 0f 5e 45 84	 divss	 xmm0, DWORD PTR tv243[ebp]
  0017f	f3 0f 11 45 e0	 movss	 DWORD PTR _direction$[ebp], xmm0

; 2157 : 	direction.z /= fabs (direction.z);

  00184	51		 push	 ecx
  00185	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _direction$[ebp+8]
  0018a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0018f	e8 00 00 00 00	 call	 ?fabs@@YGMM@Z		; fabs
  00194	d9 5d 84	 fstp	 DWORD PTR tv250[ebp]
  00197	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _direction$[ebp+8]
  0019c	f3 0f 5e 45 84	 divss	 xmm0, DWORD PTR tv250[ebp]
  001a1	f3 0f 11 45 e8	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 2158 : 
; 2159 : 	stop = *start_pos;

  001a6	8b 45 10	 mov	 eax, DWORD PTR _start_pos$[ebp]
  001a9	8b 08		 mov	 ecx, DWORD PTR [eax]
  001ab	89 4d d4	 mov	 DWORD PTR _stop$[ebp], ecx
  001ae	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  001b1	89 55 d8	 mov	 DWORD PTR _stop$[ebp+4], edx
  001b4	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  001b7	89 45 dc	 mov	 DWORD PTR _stop$[ebp+8], eax

; 2160 : 
; 2161 : 	stop.x += direction.x * 10 * KILOMETRE;

  001ba	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _direction$[ebp]
  001bf	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@41200000
  001c7	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@447a0000
  001cf	f3 0f 58 45 d4	 addss	 xmm0, DWORD PTR _stop$[ebp]
  001d4	f3 0f 11 45 d4	 movss	 DWORD PTR _stop$[ebp], xmm0

; 2162 : 	stop.z += direction.z * 10 * KILOMETRE;

  001d9	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _direction$[ebp+8]
  001de	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@41200000
  001e6	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@447a0000
  001ee	f3 0f 58 45 dc	 addss	 xmm0, DWORD PTR _stop$[ebp+8]
  001f3	f3 0f 11 45 dc	 movss	 DWORD PTR _stop$[ebp+8], xmm0

; 2163 : 
; 2164 : 	group = get_local_entity_parent (en, LIST_TYPE_MEMBER);

  001f8	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  001fc	74 0a		 je	 SHORT $LN19@create_use
  001fe	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00201	8b 08		 mov	 ecx, DWORD PTR [eax]
  00203	89 4d 84	 mov	 DWORD PTR tv149[ebp], ecx
  00206	eb 21		 jmp	 SHORT $LN20@create_use
$LN19@create_use:
  00208	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
  0020e	83 c2 6e	 add	 edx, 110		; 0000006eH
  00211	52		 push	 edx
  00212	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00217	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0021c	50		 push	 eax
  0021d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00222	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN20@create_use:
  00229	b9 01 00 00 00	 mov	 ecx, 1
  0022e	85 c9		 test	 ecx, ecx
  00230	74 09		 je	 SHORT $LN21@create_use
  00232	c7 45 80 19 00
	00 00		 mov	 DWORD PTR tv157[ebp], 25 ; 00000019H
  00239	eb 21		 jmp	 SHORT $LN22@create_use
$LN21@create_use:
  0023b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
  00241	83 c2 6e	 add	 edx, 110		; 0000006eH
  00244	52		 push	 edx
  00245	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0024a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0024f	50		 push	 eax
  00250	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00255	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv157[ebp], 0
$LN22@create_use:
  0025c	6a 19		 push	 25			; 00000019H
  0025e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00261	51		 push	 ecx
  00262	69 55 84 b4 00
	00 00		 imul	 edx, DWORD PTR tv149[ebp], 180
  00269	8b 45 80	 mov	 eax, DWORD PTR tv157[ebp]
  0026c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00273	ff d1		 call	 ecx
  00275	89 45 fc	 mov	 DWORD PTR _group$[ebp], eax

; 2165 : 
; 2166 : 	ASSERT (group);

  00278	83 7d fc 00	 cmp	 DWORD PTR _group$[ebp], 0
  0027c	75 18		 jne	 SHORT $LN13@create_use
  0027e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
  00283	83 c0 70	 add	 eax, 112		; 00000070H
  00286	50		 push	 eax
  00287	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0028c	68 00 00 00 00	 push	 OFFSET ??_C@_05MGJOOGAJ@group@
  00291	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN13@create_use:

; 2167 : 
; 2168 : 	keysite = get_local_entity_parent (group, LIST_TYPE_KEYSITE_GROUP);

  00296	83 7d fc 00	 cmp	 DWORD PTR _group$[ebp], 0
  0029a	74 0a		 je	 SHORT $LN23@create_use
  0029c	8b 45 fc	 mov	 eax, DWORD PTR _group$[ebp]
  0029f	8b 08		 mov	 ecx, DWORD PTR [eax]
  002a1	89 4d 84	 mov	 DWORD PTR tv174[ebp], ecx
  002a4	eb 21		 jmp	 SHORT $LN24@create_use
$LN23@create_use:
  002a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
  002ac	83 c2 72	 add	 edx, 114		; 00000072H
  002af	52		 push	 edx
  002b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002ba	50		 push	 eax
  002bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002c0	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv174[ebp], 0
$LN24@create_use:
  002c7	b9 01 00 00 00	 mov	 ecx, 1
  002cc	85 c9		 test	 ecx, ecx
  002ce	74 09		 je	 SHORT $LN25@create_use
  002d0	c7 45 80 16 00
	00 00		 mov	 DWORD PTR tv182[ebp], 22 ; 00000016H
  002d7	eb 21		 jmp	 SHORT $LN26@create_use
$LN25@create_use:
  002d9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_user_task@@YGPAUENTITY@@PAU2@HPAUVEC3D@@00@Z@4JA
  002df	83 c2 72	 add	 edx, 114		; 00000072H
  002e2	52		 push	 edx
  002e3	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  002ed	50		 push	 eax
  002ee	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002f3	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv182[ebp], 0
$LN26@create_use:
  002fa	6a 16		 push	 22			; 00000016H
  002fc	8b 4d fc	 mov	 ecx, DWORD PTR _group$[ebp]
  002ff	51		 push	 ecx
  00300	69 55 84 b4 00
	00 00		 imul	 edx, DWORD PTR tv174[ebp], 180
  00307	8b 45 80	 mov	 eax, DWORD PTR tv182[ebp]
  0030a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00311	ff d1		 call	 ecx
  00313	89 45 f8	 mov	 DWORD PTR _keysite$[ebp], eax

; 2169 : 
; 2170 : 	new_task = create_task (task_type,

  00316	6a 00		 push	 0
  00318	6a 25		 push	 37			; 00000025H
  0031a	6a 00		 push	 0
  0031c	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00321	6a 02		 push	 2
  00323	8b 45 ec	 mov	 eax, DWORD PTR _stop_waypoint_type$[ebp]
  00326	50		 push	 eax
  00327	6a 00		 push	 0
  00329	8d 4d d4	 lea	 ecx, DWORD PTR _stop$[ebp]
  0032c	51		 push	 ecx
  0032d	51		 push	 ecx
  0032e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00336	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0033b	6a 00		 push	 0
  0033d	51		 push	 ecx
  0033e	0f 57 c0	 xorps	 xmm0, xmm0
  00341	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00346	51		 push	 ecx
  00347	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0034c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00351	6a 00		 push	 0
  00353	6a 00		 push	 0
  00355	8b 55 cc	 mov	 edx, DWORD PTR _end_ks$[ebp]
  00358	52		 push	 edx
  00359	8b 45 d0	 mov	 eax, DWORD PTR _start_ks$[ebp]
  0035c	50		 push	 eax
  0035d	6a 01		 push	 1
  0035f	8b 4d c8	 mov	 ecx, DWORD PTR _side$[ebp]
  00362	51		 push	 ecx
  00363	8b 55 0c	 mov	 edx, DWORD PTR _task_type$[ebp]
  00366	52		 push	 edx
  00367	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0036c	83 c4 4c	 add	 esp, 76			; 0000004cH
  0036f	89 45 f4	 mov	 DWORD PTR _new_task$[ebp], eax

; 2171 : 									side,
; 2172 : 									MOVEMENT_TYPE_AIR,
; 2173 : 									start_ks,
; 2174 : 									end_ks,
; 2175 : 									NULL,
; 2176 : 									FALSE,
; 2177 : 									expire_time,
; 2178 : 									0.0,
; 2179 : 									NULL,
; 2180 : 									1.0,
; 2181 : 									&stop, NULL, stop_waypoint_type, FORMATION_ROW_LEFT,
; 2182 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 2183 : 
; 2184 : 	return new_task;

  00372	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_use:

; 2185 : }

  00375	5f		 pop	 edi
  00376	5e		 pop	 esi
  00377	5b		 pop	 ebx
  00378	8b e5		 mov	 esp, ebp
  0037a	5d		 pop	 ebp
  0037b	c2 14 00	 ret	 20			; 00000014H
  0037e	66 90		 npad	 2
$LN28@create_use:
  00380	00 00 00 00	 DD	 $LN7@create_use
  00384	00 00 00 00	 DD	 $LN10@create_use
  00388	00 00 00 00	 DD	 $LN6@create_use
  0038c	00 00 00 00	 DD	 $LN5@create_use
  00390	00 00 00 00	 DD	 $LN8@create_use
  00394	00 00 00 00	 DD	 $LN9@create_use
  00398	00 00 00 00	 DD	 $LN11@create_use
$LN27@create_use:
  0039c	00		 DB	 0
  0039d	06		 DB	 6
  0039e	01		 DB	 1
  0039f	06		 DB	 6
  003a0	06		 DB	 6
  003a1	06		 DB	 6
  003a2	02		 DB	 2
  003a3	06		 DB	 6
  003a4	06		 DB	 6
  003a5	06		 DB	 6
  003a6	06		 DB	 6
  003a7	03		 DB	 3
  003a8	06		 DB	 6
  003a9	06		 DB	 6
  003aa	04		 DB	 4
  003ab	06		 DB	 6
  003ac	06		 DB	 6
  003ad	06		 DB	 6
  003ae	06		 DB	 6
  003af	05		 DB	 5
?create_user_task@@YGPAUENTITY@@PAU1@HPAUVEC3D@@00@Z ENDP ; create_user_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_troop_movement_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@@Z
_TEXT	SEGMENT
_new_task$ = -16					; size = 4
_pos$ = -12						; size = 12
_side$ = 8						; size = 4
_keysite$ = 12						; size = 4
?create_troop_movement_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@@Z PROC ; create_troop_movement_patrol_task, COMDAT

; 2022 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2023 : 
; 2024 : 	vec3d
; 2025 : 		pos;
; 2026 : 
; 2027 : 	entity
; 2028 : 		*new_task;
; 2029 : 
; 2030 : 	get_keysite_takenoff_position (keysite, &pos, ENTITY_SUB_TYPE_LANDING_PEOPLE);

  00009	6a 04		 push	 4
  0000b	8d 45 f4	 lea	 eax, DWORD PTR _pos$[ebp]
  0000e	50		 push	 eax
  0000f	8b 4d 0c	 mov	 ecx, DWORD PTR _keysite$[ebp]
  00012	51		 push	 ecx
  00013	e8 00 00 00 00	 call	 ?get_keysite_takenoff_position@@YGHPAUENTITY@@PAUVEC3D@@H@Z ; get_keysite_takenoff_position

; 2031 : 
; 2032 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_TROOP_MOVEMENT_PATROL,

  00018	6a 00		 push	 0
  0001a	6a 25		 push	 37			; 00000025H
  0001c	6a 00		 push	 0
  0001e	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00023	6a 01		 push	 1
  00025	6a 0d		 push	 13			; 0000000dH
  00027	8b 45 0c	 mov	 eax, DWORD PTR _keysite$[ebp]
  0002a	50		 push	 eax
  0002b	8d 4d f4	 lea	 ecx, DWORD PTR _pos$[ebp]
  0002e	51		 push	 ecx
  0002f	ba 50 00 00 00	 mov	 edx, 80			; 00000050H
  00034	6b c2 1d	 imul	 eax, edx, 29
  00037	51		 push	 ecx
  00038	f3 0f 10 80 10
	00 00 00	 movss	 xmm0, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax+16]
  00040	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00045	8b 4d 0c	 mov	 ecx, DWORD PTR _keysite$[ebp]
  00048	51		 push	 ecx
  00049	51		 push	 ecx
  0004a	0f 57 c0	 xorps	 xmm0, xmm0
  0004d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00052	51		 push	 ecx
  00053	0f 57 c0	 xorps	 xmm0, xmm0
  00056	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0005b	6a 01		 push	 1
  0005d	6a 00		 push	 0
  0005f	8b 55 0c	 mov	 edx, DWORD PTR _keysite$[ebp]
  00062	52		 push	 edx
  00063	8b 45 0c	 mov	 eax, DWORD PTR _keysite$[ebp]
  00066	50		 push	 eax
  00067	6a 02		 push	 2
  00069	8b 4d 08	 mov	 ecx, DWORD PTR _side$[ebp]
  0006c	51		 push	 ecx
  0006d	6a 1d		 push	 29			; 0000001dH
  0006f	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00074	83 c4 4c	 add	 esp, 76			; 0000004cH
  00077	89 45 f0	 mov	 DWORD PTR _new_task$[ebp], eax

; 2033 : 										side,
; 2034 : 										MOVEMENT_TYPE_GROUND,
; 2035 : 										keysite,
; 2036 : 										keysite,
; 2037 : 										NULL,
; 2038 : 										TRUE,
; 2039 : 										0.0,
; 2040 : 										0.0,
; 2041 : 										keysite,
; 2042 : 										task_database [ENTITY_SUB_TYPE_TASK_TROOP_MOVEMENT_PATROL].task_priority,
; 2043 : 										&pos, keysite, ENTITY_SUB_TYPE_WAYPOINT_LAND, FORMATION_1,
; 2044 : 										&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 2045 : 
; 2046 : 	return new_task;

  0007a	8b 45 f0	 mov	 eax, DWORD PTR _new_task$[ebp]

; 2047 : }

  0007d	5f		 pop	 edi
  0007e	5e		 pop	 esi
  0007f	5b		 pop	 ebx
  00080	8b e5		 mov	 esp, ebp
  00082	5d		 pop	 ebp
  00083	c2 08 00	 ret	 8
?create_troop_movement_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@@Z ENDP ; create_troop_movement_patrol_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_troop_movement_defend_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@11PAU1@2@Z
_TEXT	SEGMENT
_new_task$ = -16					; size = 4
_mid2_pos$ = -12					; size = 12
_side$ = 8						; size = 4
_start_pos$ = 12					; size = 4
_mid_pos$ = 16						; size = 4
_end_pos$ = 20						; size = 4
_insert_task$ = 24					; size = 4
_keysite$ = 28						; size = 4
?create_troop_movement_defend_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@11PAU1@2@Z PROC ; create_troop_movement_defend_task, COMDAT

; 1986 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1987 : 
; 1988 : 	vec3d
; 1989 : 		mid2_pos;
; 1990 : 
; 1991 : 	entity
; 1992 : 		*new_task;
; 1993 : 
; 1994 : 	mid2_pos = *mid_pos;

  00009	8b 45 10	 mov	 eax, DWORD PTR _mid_pos$[ebp]
  0000c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0000e	89 4d f4	 mov	 DWORD PTR _mid2_pos$[ebp], ecx
  00011	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00014	89 55 f8	 mov	 DWORD PTR _mid2_pos$[ebp+4], edx
  00017	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0001a	89 45 fc	 mov	 DWORD PTR _mid2_pos$[ebp+8], eax

; 1995 : 	mid2_pos.x += 0.1;

  0001d	f3 0f 5a 45 f4	 cvtss2sd xmm0, DWORD PTR _mid2_pos$[ebp]
  00022	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fb999999999999a
  0002a	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0002e	f3 0f 11 45 f4	 movss	 DWORD PTR _mid2_pos$[ebp], xmm0

; 1996 : 
; 1997 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_TROOP_MOVEMENT_INSERT_DEFEND,

  00033	6a 00		 push	 0
  00035	6a 25		 push	 37			; 00000025H
  00037	6a 00		 push	 0
  00039	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  0003e	6a 0c		 push	 12			; 0000000cH
  00040	6a 1f		 push	 31			; 0000001fH
  00042	6a 00		 push	 0
  00044	8b 45 14	 mov	 eax, DWORD PTR _end_pos$[ebp]
  00047	50		 push	 eax
  00048	6a 0c		 push	 12			; 0000000cH
  0004a	6a 11		 push	 17			; 00000011H
  0004c	6a 00		 push	 0
  0004e	8b 4d 10	 mov	 ecx, DWORD PTR _mid_pos$[ebp]
  00051	51		 push	 ecx
  00052	6a 01		 push	 1
  00054	6a 23		 push	 35			; 00000023H
  00056	6a 00		 push	 0
  00058	8d 55 f4	 lea	 edx, DWORD PTR _mid2_pos$[ebp]
  0005b	52		 push	 edx
  0005c	6a 01		 push	 1
  0005e	6a 11		 push	 17			; 00000011H
  00060	6a 00		 push	 0
  00062	8b 45 0c	 mov	 eax, DWORD PTR _start_pos$[ebp]
  00065	50		 push	 eax
  00066	b9 50 00 00 00	 mov	 ecx, 80			; 00000050H
  0006b	6b d1 1c	 imul	 edx, ecx, 28
  0006e	51		 push	 ecx
  0006f	f3 0f 10 82 10
	00 00 00	 movss	 xmm0, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[edx+16]
  00077	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0007c	8b 45 18	 mov	 eax, DWORD PTR _insert_task$[ebp]
  0007f	50		 push	 eax
  00080	51		 push	 ecx
  00081	0f 57 c0	 xorps	 xmm0, xmm0
  00084	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00089	51		 push	 ecx
  0008a	0f 57 c0	 xorps	 xmm0, xmm0
  0008d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00092	6a 01		 push	 1
  00094	8b 4d 18	 mov	 ecx, DWORD PTR _insert_task$[ebp]
  00097	51		 push	 ecx
  00098	6a 00		 push	 0
  0009a	8b 55 1c	 mov	 edx, DWORD PTR _keysite$[ebp]
  0009d	52		 push	 edx
  0009e	6a 02		 push	 2
  000a0	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  000a3	50		 push	 eax
  000a4	6a 1c		 push	 28			; 0000001cH
  000a6	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  000ab	83 c4 7c	 add	 esp, 124		; 0000007cH
  000ae	89 45 f0	 mov	 DWORD PTR _new_task$[ebp], eax

; 1998 : 										side,
; 1999 : 										MOVEMENT_TYPE_GROUND,
; 2000 : 										keysite,
; 2001 : 										NULL,
; 2002 : 										insert_task,
; 2003 : 										TRUE,
; 2004 : 										0.0,
; 2005 : 										0.0,
; 2006 : 										insert_task,
; 2007 : 										task_database [ENTITY_SUB_TYPE_TASK_TROOP_MOVEMENT_INSERT_DEFEND].task_priority,
; 2008 : 										start_pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_1,
; 2009 : 										&mid2_pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_TROOP_PUTDOWN_POINT, FORMATION_1,
; 2010 : 										mid_pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_INFANTRY_COLUMN,
; 2011 : 										end_pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_TROOP_DEFEND, FORMATION_INFANTRY_COLUMN,
; 2012 : 										&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 2013 : 
; 2014 : 	return new_task;

  000b1	8b 45 f0	 mov	 eax, DWORD PTR _new_task$[ebp]

; 2015 : }

  000b4	5f		 pop	 edi
  000b5	5e		 pop	 esi
  000b6	5b		 pop	 ebx
  000b7	8b e5		 mov	 esp, ebp
  000b9	5d		 pop	 ebp
  000ba	c2 18 00	 ret	 24			; 00000018H
?create_troop_movement_defend_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@11PAU1@2@Z ENDP ; create_troop_movement_defend_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@22@Z
_TEXT	SEGMENT
tv213 = -364						; size = 4
tv191 = -364						; size = 4
tv134 = -364						; size = 4
tv80 = -364						; size = 4
tv205 = -360						; size = 4
tv183 = -360						; size = 4
tv94 = -360						; size = 4
tv72 = -360						; size = 4
_new_task$ = -292					; size = 4
_keysite_route$ = -288					; size = 4
_helicopter_route$ = -284				; size = 4
_new_route$ = -280					; size = 192
_helicopter_pos$ = -88					; size = 4
_keysite_pos$ = -84					; size = 4
_new_route_wp_type$ = -80				; size = 64
_count$ = -16						; size = 4
_loop$ = -12						; size = 4
_keysite_count$ = -8					; size = 4
_helicopter_count$ = -4					; size = 4
_side$ = 8						; size = 4
_start_pos$ = 12					; size = 4
_insert_task$ = 16					; size = 4
_keysite$ = 20						; size = 4
_helicopter$ = 24					; size = 4
?create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@22@Z PROC ; create_troop_movement_capture_task, COMDAT

; 1846 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 6c 01 00
	00		 sub	 esp, 364		; 0000016cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1847 : 
; 1848 : 	int
; 1849 : 		helicopter_count,
; 1850 : 		keysite_count,
; 1851 : 		loop,
; 1852 : 		count;
; 1853 : 
; 1854 : 	entity_sub_types
; 1855 : 		new_route_wp_type [MAX_TROOP_ROUTE_COUNT];
; 1856 : 
; 1857 : 	vec3d
; 1858 : 		*keysite_pos,
; 1859 : 		*helicopter_pos,
; 1860 : 		new_route [MAX_TROOP_ROUTE_COUNT],
; 1861 : 		*helicopter_route,
; 1862 : 		*keysite_route;
; 1863 : 
; 1864 : 	entity
; 1865 : 		*new_task;
; 1866 : 
; 1867 : 	// troops out of helicopter
; 1868 : 
; 1869 : 	helicopter_count = get_object_3d_troop_takeoff_route (get_local_entity_int_value (helicopter, INT_TYPE_OBJECT_3D_SHAPE), &helicopter_route);

  0000c	83 7d 18 00	 cmp	 DWORD PTR _helicopter$[ebp], 0
  00010	74 0d		 je	 SHORT $LN14@create_tro
  00012	8b 45 18	 mov	 eax, DWORD PTR _helicopter$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 8d 98 fe ff
	ff		 mov	 DWORD PTR tv72[ebp], ecx
  0001d	eb 24		 jmp	 SHORT $LN15@create_tro
$LN14@create_tro:
  0001f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  00025	83 c2 17	 add	 edx, 23			; 00000017H
  00028	52		 push	 edx
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 85 98 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv72[ebp], 0
$LN15@create_tro:
  00043	b9 01 00 00 00	 mov	 ecx, 1
  00048	85 c9		 test	 ecx, ecx
  0004a	74 0c		 je	 SHORT $LN16@create_tro
  0004c	c7 85 94 fe ff
	ff 92 00 00 00	 mov	 DWORD PTR tv80[ebp], 146 ; 00000092H
  00056	eb 24		 jmp	 SHORT $LN17@create_tro
$LN16@create_tro:
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  0005e	83 c2 17	 add	 edx, 23			; 00000017H
  00061	52		 push	 edx
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00072	c7 85 94 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN17@create_tro:
  0007c	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR _helicopter_route$[ebp]
  00082	51		 push	 ecx
  00083	68 92 00 00 00	 push	 146			; 00000092H
  00088	8b 55 18	 mov	 edx, DWORD PTR _helicopter$[ebp]
  0008b	52		 push	 edx
  0008c	69 85 98 fe ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv72[ebp], 1116
  00096	8b 8d 94 fe ff
	ff		 mov	 ecx, DWORD PTR tv80[ebp]
  0009c	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  000a3	ff d2		 call	 edx
  000a5	50		 push	 eax
  000a6	e8 00 00 00 00	 call	 ?get_object_3d_troop_takeoff_route@@YGHHPAPAUVEC3D@@@Z ; get_object_3d_troop_takeoff_route
  000ab	89 45 fc	 mov	 DWORD PTR _helicopter_count$[ebp], eax

; 1870 : 
; 1871 : 	if (helicopter_count)

  000ae	83 7d fc 00	 cmp	 DWORD PTR _helicopter_count$[ebp], 0
  000b2	0f 84 5a 01 00
	00		 je	 $LN3@create_tro

; 1872 : 	{
; 1873 : 
; 1874 : 		helicopter_pos = get_local_entity_vec3d_ptr (helicopter, VEC3D_TYPE_POSITION);

  000b8	83 7d 18 00	 cmp	 DWORD PTR _helicopter$[ebp], 0
  000bc	74 0d		 je	 SHORT $LN18@create_tro
  000be	8b 45 18	 mov	 eax, DWORD PTR _helicopter$[ebp]
  000c1	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c3	89 8d 98 fe ff
	ff		 mov	 DWORD PTR tv94[ebp], ecx
  000c9	eb 24		 jmp	 SHORT $LN19@create_tro
$LN18@create_tro:
  000cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  000d1	83 c2 1c	 add	 edx, 28			; 0000001cH
  000d4	52		 push	 edx
  000d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000df	50		 push	 eax
  000e0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e5	c7 85 98 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv94[ebp], 0
$LN19@create_tro:
  000ef	b9 01 00 00 00	 mov	 ecx, 1
  000f4	85 c9		 test	 ecx, ecx
  000f6	74 0c		 je	 SHORT $LN20@create_tro
  000f8	c7 85 94 fe ff
	ff 08 00 00 00	 mov	 DWORD PTR tv134[ebp], 8
  00102	eb 24		 jmp	 SHORT $LN21@create_tro
$LN20@create_tro:
  00104	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  0010a	83 c2 1c	 add	 edx, 28			; 0000001cH
  0010d	52		 push	 edx
  0010e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00113	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00118	50		 push	 eax
  00119	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011e	c7 85 94 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv134[ebp], 0
$LN21@create_tro:
  00128	6a 08		 push	 8
  0012a	8b 4d 18	 mov	 ecx, DWORD PTR _helicopter$[ebp]
  0012d	51		 push	 ecx
  0012e	6b 95 98 fe ff
	ff 60		 imul	 edx, DWORD PTR tv94[ebp], 96
  00135	8b 85 94 fe ff
	ff		 mov	 eax, DWORD PTR tv134[ebp]
  0013b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00142	ff d1		 call	 ecx
  00144	89 45 a8	 mov	 DWORD PTR _helicopter_pos$[ebp], eax

; 1875 : 
; 1876 : 		// copy route across and assign positions in world coords and waypoint types
; 1877 : 		for (loop = 0; loop < helicopter_count; loop ++)

  00147	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  0014e	eb 09		 jmp	 SHORT $LN4@create_tro
$LN2@create_tro:
  00150	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  00153	83 c0 01	 add	 eax, 1
  00156	89 45 f4	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@create_tro:
  00159	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  0015c	3b 45 fc	 cmp	 eax, DWORD PTR _helicopter_count$[ebp]
  0015f	0f 8d ad 00 00
	00		 jge	 $LN3@create_tro

; 1878 : 		{
; 1879 : 	
; 1880 : 			//new_route [loop].x = helicopter_pos->x + helicopter_route [loop].x;
; 1881 : 			//new_route [loop].y = helicopter_pos->y + helicopter_route [loop].y;
; 1882 : 			//new_route [loop].z = helicopter_pos->z + helicopter_route [loop].z;
; 1883 : 			new_route [loop].x = helicopter_pos->x + (helicopter_route [(helicopter_count - 1) - loop].x * 2);

  00165	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  00168	83 e8 01	 sub	 eax, 1
  0016b	2b 45 f4	 sub	 eax, DWORD PTR _loop$[ebp]
  0016e	6b c8 0c	 imul	 ecx, eax, 12
  00171	8b 95 e4 fe ff
	ff		 mov	 edx, DWORD PTR _helicopter_route$[ebp]
  00177	f3 0f 10 04 0a	 movss	 xmm0, DWORD PTR [edx+ecx]
  0017c	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40000000
  00184	8b 45 a8	 mov	 eax, DWORD PTR _helicopter_pos$[ebp]
  00187	f3 0f 58 00	 addss	 xmm0, DWORD PTR [eax]
  0018b	6b 4d f4 0c	 imul	 ecx, DWORD PTR _loop$[ebp], 12
  0018f	f3 0f 11 84 0d
	e8 fe ff ff	 movss	 DWORD PTR _new_route$[ebp+ecx], xmm0

; 1884 : 			new_route [loop].y = helicopter_pos->y + (helicopter_route [(helicopter_count - 1) - loop].y * 1);

  00198	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  0019b	83 e8 01	 sub	 eax, 1
  0019e	2b 45 f4	 sub	 eax, DWORD PTR _loop$[ebp]
  001a1	6b c8 0c	 imul	 ecx, eax, 12
  001a4	8b 95 e4 fe ff
	ff		 mov	 edx, DWORD PTR _helicopter_route$[ebp]
  001aa	f3 0f 10 44 0a
	04		 movss	 xmm0, DWORD PTR [edx+ecx+4]
  001b0	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3f800000
  001b8	8b 45 a8	 mov	 eax, DWORD PTR _helicopter_pos$[ebp]
  001bb	f3 0f 58 40 04	 addss	 xmm0, DWORD PTR [eax+4]
  001c0	6b 4d f4 0c	 imul	 ecx, DWORD PTR _loop$[ebp], 12
  001c4	f3 0f 11 84 0d
	ec fe ff ff	 movss	 DWORD PTR _new_route$[ebp+ecx+4], xmm0

; 1885 : 			new_route [loop].z = helicopter_pos->z + (helicopter_route [(helicopter_count - 1) - loop].z * 2);

  001cd	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  001d0	83 e8 01	 sub	 eax, 1
  001d3	2b 45 f4	 sub	 eax, DWORD PTR _loop$[ebp]
  001d6	6b c8 0c	 imul	 ecx, eax, 12
  001d9	8b 95 e4 fe ff
	ff		 mov	 edx, DWORD PTR _helicopter_route$[ebp]
  001df	f3 0f 10 44 0a
	08		 movss	 xmm0, DWORD PTR [edx+ecx+8]
  001e5	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40000000
  001ed	8b 45 a8	 mov	 eax, DWORD PTR _helicopter_pos$[ebp]
  001f0	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  001f5	6b 4d f4 0c	 imul	 ecx, DWORD PTR _loop$[ebp], 12
  001f9	f3 0f 11 84 0d
	f0 fe ff ff	 movss	 DWORD PTR _new_route$[ebp+ecx+8], xmm0

; 1886 : 	
; 1887 : 			new_route_wp_type [loop] = ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION;

  00202	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  00205	c7 44 85 b0 11
	00 00 00	 mov	 DWORD PTR _new_route_wp_type$[ebp+eax*4], 17 ; 00000011H

; 1888 : 		}

  0020d	e9 3e ff ff ff	 jmp	 $LN2@create_tro
$LN3@create_tro:

; 1889 : 	}
; 1890 : 
; 1891 : 	// troops from helicopter -> keysite
; 1892 : 
; 1893 : 	keysite_pos = get_local_entity_vec3d_ptr (keysite, VEC3D_TYPE_POSITION);

  00212	83 7d 14 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  00216	74 0d		 je	 SHORT $LN22@create_tro
  00218	8b 45 14	 mov	 eax, DWORD PTR _keysite$[ebp]
  0021b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0021d	89 8d 98 fe ff
	ff		 mov	 DWORD PTR tv183[ebp], ecx
  00223	eb 24		 jmp	 SHORT $LN23@create_tro
$LN22@create_tro:
  00225	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  0022b	83 c2 2f	 add	 edx, 47			; 0000002fH
  0022e	52		 push	 edx
  0022f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00234	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00239	50		 push	 eax
  0023a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0023f	c7 85 98 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv183[ebp], 0
$LN23@create_tro:
  00249	b9 01 00 00 00	 mov	 ecx, 1
  0024e	85 c9		 test	 ecx, ecx
  00250	74 0c		 je	 SHORT $LN24@create_tro
  00252	c7 85 94 fe ff
	ff 08 00 00 00	 mov	 DWORD PTR tv191[ebp], 8
  0025c	eb 24		 jmp	 SHORT $LN25@create_tro
$LN24@create_tro:
  0025e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  00264	83 c2 2f	 add	 edx, 47			; 0000002fH
  00267	52		 push	 edx
  00268	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00272	50		 push	 eax
  00273	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00278	c7 85 94 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv191[ebp], 0
$LN25@create_tro:
  00282	6a 08		 push	 8
  00284	8b 4d 14	 mov	 ecx, DWORD PTR _keysite$[ebp]
  00287	51		 push	 ecx
  00288	6b 95 98 fe ff
	ff 60		 imul	 edx, DWORD PTR tv183[ebp], 96
  0028f	8b 85 94 fe ff
	ff		 mov	 eax, DWORD PTR tv191[ebp]
  00295	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0029c	ff d1		 call	 ecx
  0029e	89 45 ac	 mov	 DWORD PTR _keysite_pos$[ebp], eax

; 1894 : 
; 1895 : 	keysite_count = get_object_3d_troop_landing_route (get_local_entity_int_value (keysite, INT_TYPE_OBJECT_INDEX), &keysite_route);

  002a1	83 7d 14 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  002a5	74 0d		 je	 SHORT $LN26@create_tro
  002a7	8b 45 14	 mov	 eax, DWORD PTR _keysite$[ebp]
  002aa	8b 08		 mov	 ecx, DWORD PTR [eax]
  002ac	89 8d 98 fe ff
	ff		 mov	 DWORD PTR tv205[ebp], ecx
  002b2	eb 24		 jmp	 SHORT $LN27@create_tro
$LN26@create_tro:
  002b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  002ba	83 c2 31	 add	 edx, 49			; 00000031H
  002bd	52		 push	 edx
  002be	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002c8	50		 push	 eax
  002c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002ce	c7 85 98 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv205[ebp], 0
$LN27@create_tro:
  002d8	b9 01 00 00 00	 mov	 ecx, 1
  002dd	85 c9		 test	 ecx, ecx
  002df	74 0c		 je	 SHORT $LN28@create_tro
  002e1	c7 85 94 fe ff
	ff 94 00 00 00	 mov	 DWORD PTR tv213[ebp], 148 ; 00000094H
  002eb	eb 24		 jmp	 SHORT $LN29@create_tro
$LN28@create_tro:
  002ed	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  002f3	83 c2 31	 add	 edx, 49			; 00000031H
  002f6	52		 push	 edx
  002f7	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00301	50		 push	 eax
  00302	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00307	c7 85 94 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv213[ebp], 0
$LN29@create_tro:
  00311	8d 8d e0 fe ff
	ff		 lea	 ecx, DWORD PTR _keysite_route$[ebp]
  00317	51		 push	 ecx
  00318	68 94 00 00 00	 push	 148			; 00000094H
  0031d	8b 55 14	 mov	 edx, DWORD PTR _keysite$[ebp]
  00320	52		 push	 edx
  00321	69 85 98 fe ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv205[ebp], 1116
  0032b	8b 8d 94 fe ff
	ff		 mov	 ecx, DWORD PTR tv213[ebp]
  00331	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00338	ff d2		 call	 edx
  0033a	50		 push	 eax
  0033b	e8 00 00 00 00	 call	 ?get_object_3d_troop_landing_route@@YGHHPAPAUVEC3D@@@Z ; get_object_3d_troop_landing_route
  00340	89 45 f8	 mov	 DWORD PTR _keysite_count$[ebp], eax

; 1896 : 
; 1897 : 	if ((keysite_count) && (keysite_count < MAX_TROOP_ROUTE_COUNT))

  00343	83 7d f8 00	 cmp	 DWORD PTR _keysite_count$[ebp], 0
  00347	0f 84 bc 00 00
	00		 je	 $LN9@create_tro
  0034d	83 7d f8 10	 cmp	 DWORD PTR _keysite_count$[ebp], 16 ; 00000010H
  00351	0f 8d b2 00 00
	00		 jge	 $LN9@create_tro

; 1898 : 	{
; 1899 : 
; 1900 : 		for (loop = 0; loop < keysite_count; loop ++)

  00357	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  0035e	eb 09		 jmp	 SHORT $LN7@create_tro
$LN5@create_tro:
  00360	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  00363	83 c0 01	 add	 eax, 1
  00366	89 45 f4	 mov	 DWORD PTR _loop$[ebp], eax
$LN7@create_tro:
  00369	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  0036c	3b 45 f8	 cmp	 eax, DWORD PTR _keysite_count$[ebp]
  0036f	0f 8d 8f 00 00
	00		 jge	 $LN6@create_tro

; 1901 : 		{
; 1902 : 	
; 1903 : 			new_route [helicopter_count + loop].x = keysite_pos->x + keysite_route [loop].x;

  00375	6b 45 f4 0c	 imul	 eax, DWORD PTR _loop$[ebp], 12
  00379	8b 4d ac	 mov	 ecx, DWORD PTR _keysite_pos$[ebp]
  0037c	8b 95 e0 fe ff
	ff		 mov	 edx, DWORD PTR _keysite_route$[ebp]
  00382	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00386	f3 0f 58 04 02	 addss	 xmm0, DWORD PTR [edx+eax]
  0038b	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  0038e	03 45 f4	 add	 eax, DWORD PTR _loop$[ebp]
  00391	6b c8 0c	 imul	 ecx, eax, 12
  00394	f3 0f 11 84 0d
	e8 fe ff ff	 movss	 DWORD PTR _new_route$[ebp+ecx], xmm0

; 1904 : 			new_route [helicopter_count + loop].y = keysite_pos->y + keysite_route [loop].y;

  0039d	6b 45 f4 0c	 imul	 eax, DWORD PTR _loop$[ebp], 12
  003a1	8b 4d ac	 mov	 ecx, DWORD PTR _keysite_pos$[ebp]
  003a4	8b 95 e0 fe ff
	ff		 mov	 edx, DWORD PTR _keysite_route$[ebp]
  003aa	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  003af	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  003b5	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  003b8	03 45 f4	 add	 eax, DWORD PTR _loop$[ebp]
  003bb	6b c8 0c	 imul	 ecx, eax, 12
  003be	f3 0f 11 84 0d
	ec fe ff ff	 movss	 DWORD PTR _new_route$[ebp+ecx+4], xmm0

; 1905 : 			new_route [helicopter_count + loop].z = keysite_pos->z + keysite_route [loop].z;

  003c7	6b 45 f4 0c	 imul	 eax, DWORD PTR _loop$[ebp], 12
  003cb	8b 4d ac	 mov	 ecx, DWORD PTR _keysite_pos$[ebp]
  003ce	8b 95 e0 fe ff
	ff		 mov	 edx, DWORD PTR _keysite_route$[ebp]
  003d4	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  003d9	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  003df	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  003e2	03 45 f4	 add	 eax, DWORD PTR _loop$[ebp]
  003e5	6b c8 0c	 imul	 ecx, eax, 12
  003e8	f3 0f 11 84 0d
	f0 fe ff ff	 movss	 DWORD PTR _new_route$[ebp+ecx+8], xmm0

; 1906 : 	
; 1907 : 			new_route_wp_type [helicopter_count + loop] = ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION;

  003f1	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  003f4	03 45 f4	 add	 eax, DWORD PTR _loop$[ebp]
  003f7	c7 44 85 b0 11
	00 00 00	 mov	 DWORD PTR _new_route_wp_type$[ebp+eax*4], 17 ; 00000011H

; 1908 : 		}

  003ff	e9 5c ff ff ff	 jmp	 $LN5@create_tro
$LN6@create_tro:

; 1909 : 	}
; 1910 : 	else

  00404	e9 3f 01 00 00	 jmp	 $LN10@create_tro
$LN9@create_tro:

; 1911 : 	{
; 1912 : 
; 1913 : 		keysite_count = 0;

  00409	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _keysite_count$[ebp], 0

; 1914 : 	
; 1915 : 		new_route [keysite_count + helicopter_count].x = keysite_pos->x;

  00410	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  00413	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  00416	6b c8 0c	 imul	 ecx, eax, 12
  00419	8b 55 ac	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  0041c	8b 02		 mov	 eax, DWORD PTR [edx]
  0041e	89 84 0d e8 fe
	ff ff		 mov	 DWORD PTR _new_route$[ebp+ecx], eax

; 1916 : 		new_route [keysite_count + helicopter_count].y = keysite_pos->y;

  00425	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  00428	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  0042b	6b c8 0c	 imul	 ecx, eax, 12
  0042e	8b 55 ac	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  00431	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00434	89 84 0d ec fe
	ff ff		 mov	 DWORD PTR _new_route$[ebp+ecx+4], eax

; 1917 : 		new_route [keysite_count + helicopter_count].z = keysite_pos->z;

  0043b	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  0043e	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  00441	6b c8 0c	 imul	 ecx, eax, 12
  00444	8b 55 ac	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  00447	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0044a	89 84 0d f0 fe
	ff ff		 mov	 DWORD PTR _new_route$[ebp+ecx+8], eax

; 1918 : 	
; 1919 : 		new_route_wp_type [keysite_count + helicopter_count] = ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION;

  00451	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  00454	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  00457	c7 44 85 b0 11
	00 00 00	 mov	 DWORD PTR _new_route_wp_type$[ebp+eax*4], 17 ; 00000011H

; 1920 : 
; 1921 : 		keysite_count ++;

  0045f	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  00462	83 c0 01	 add	 eax, 1
  00465	89 45 f8	 mov	 DWORD PTR _keysite_count$[ebp], eax

; 1922 : 	
; 1923 : 		new_route [keysite_count + helicopter_count].x = keysite_pos->x + 10.0;

  00468	8b 45 ac	 mov	 eax, DWORD PTR _keysite_pos$[ebp]
  0046b	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  0046f	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  00477	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0047b	8b 4d f8	 mov	 ecx, DWORD PTR _keysite_count$[ebp]
  0047e	03 4d fc	 add	 ecx, DWORD PTR _helicopter_count$[ebp]
  00481	6b d1 0c	 imul	 edx, ecx, 12
  00484	f3 0f 11 84 15
	e8 fe ff ff	 movss	 DWORD PTR _new_route$[ebp+edx], xmm0

; 1924 : 		new_route [keysite_count + helicopter_count].y = keysite_pos->y;

  0048d	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  00490	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  00493	6b c8 0c	 imul	 ecx, eax, 12
  00496	8b 55 ac	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  00499	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0049c	89 84 0d ec fe
	ff ff		 mov	 DWORD PTR _new_route$[ebp+ecx+4], eax

; 1925 : 		new_route [keysite_count + helicopter_count].z = keysite_pos->z;

  004a3	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  004a6	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  004a9	6b c8 0c	 imul	 ecx, eax, 12
  004ac	8b 55 ac	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  004af	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  004b2	89 84 0d f0 fe
	ff ff		 mov	 DWORD PTR _new_route$[ebp+ecx+8], eax

; 1926 : 	
; 1927 : 		new_route_wp_type [keysite_count + helicopter_count] = ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION;

  004b9	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  004bc	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  004bf	c7 44 85 b0 11
	00 00 00	 mov	 DWORD PTR _new_route_wp_type$[ebp+eax*4], 17 ; 00000011H

; 1928 : 
; 1929 : 		keysite_count ++;

  004c7	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  004ca	83 c0 01	 add	 eax, 1
  004cd	89 45 f8	 mov	 DWORD PTR _keysite_count$[ebp], eax

; 1930 : 	
; 1931 : 		new_route [keysite_count + helicopter_count].x = keysite_pos->x + 10.0;

  004d0	8b 45 ac	 mov	 eax, DWORD PTR _keysite_pos$[ebp]
  004d3	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  004d7	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  004df	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  004e3	8b 4d f8	 mov	 ecx, DWORD PTR _keysite_count$[ebp]
  004e6	03 4d fc	 add	 ecx, DWORD PTR _helicopter_count$[ebp]
  004e9	6b d1 0c	 imul	 edx, ecx, 12
  004ec	f3 0f 11 84 15
	e8 fe ff ff	 movss	 DWORD PTR _new_route$[ebp+edx], xmm0

; 1932 : 		new_route [keysite_count + helicopter_count].y = keysite_pos->y;

  004f5	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  004f8	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  004fb	6b c8 0c	 imul	 ecx, eax, 12
  004fe	8b 55 ac	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  00501	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00504	89 84 0d ec fe
	ff ff		 mov	 DWORD PTR _new_route$[ebp+ecx+4], eax

; 1933 : 		new_route [keysite_count + helicopter_count].z = keysite_pos->z + 10.0;

  0050b	8b 45 ac	 mov	 eax, DWORD PTR _keysite_pos$[ebp]
  0050e	f3 0f 5a 40 08	 cvtss2sd xmm0, DWORD PTR [eax+8]
  00513	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  0051b	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0051f	8b 4d f8	 mov	 ecx, DWORD PTR _keysite_count$[ebp]
  00522	03 4d fc	 add	 ecx, DWORD PTR _helicopter_count$[ebp]
  00525	6b d1 0c	 imul	 edx, ecx, 12
  00528	f3 0f 11 84 15
	f0 fe ff ff	 movss	 DWORD PTR _new_route$[ebp+edx+8], xmm0

; 1934 : 	
; 1935 : 		new_route_wp_type [keysite_count + helicopter_count] = ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION;

  00531	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  00534	03 45 fc	 add	 eax, DWORD PTR _helicopter_count$[ebp]
  00537	c7 44 85 b0 11
	00 00 00	 mov	 DWORD PTR _new_route_wp_type$[ebp+eax*4], 17 ; 00000011H

; 1936 : 
; 1937 : 		keysite_count ++;

  0053f	8b 45 f8	 mov	 eax, DWORD PTR _keysite_count$[ebp]
  00542	83 c0 01	 add	 eax, 1
  00545	89 45 f8	 mov	 DWORD PTR _keysite_count$[ebp], eax
$LN10@create_tro:

; 1938 : 	}
; 1939 : 
; 1940 : 	count = helicopter_count + keysite_count;

  00548	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  0054b	03 45 f8	 add	 eax, DWORD PTR _keysite_count$[ebp]
  0054e	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 1941 : 
; 1942 : 	ASSERT ((count > 0) && (count < MAX_TROOP_ROUTE_COUNT));

  00551	83 7d f0 00	 cmp	 DWORD PTR _count$[ebp], 0
  00555	7e 06		 jle	 SHORT $LN12@create_tro
  00557	83 7d f0 10	 cmp	 DWORD PTR _count$[ebp], 16 ; 00000010H
  0055b	7c 18		 jl	 SHORT $LN11@create_tro
$LN12@create_tro:
  0055d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@22@Z@4JA
  00562	83 c0 60	 add	 eax, 96			; 00000060H
  00565	50		 push	 eax
  00566	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0056b	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@FPDFPAGN@?$CIcount?5?$DO?50?$CJ?5?$CG?$CG?5?$CIcount?5?$DM?5MAX_TRO@
  00570	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN11@create_tro:

; 1943 : 
; 1944 : 	new_route_wp_type [helicopter_count - 1] = ENTITY_SUB_TYPE_WAYPOINT_TROOP_PUTDOWN_POINT;

  00575	8b 45 fc	 mov	 eax, DWORD PTR _helicopter_count$[ebp]
  00578	c7 44 85 ac 23
	00 00 00	 mov	 DWORD PTR _new_route_wp_type$[ebp+eax*4-4], 35 ; 00000023H

; 1945 : 	new_route_wp_type [count - 1] = ENTITY_SUB_TYPE_WAYPOINT_TROOP_CAPTURE;

  00580	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  00583	c7 44 85 ac 1e
	00 00 00	 mov	 DWORD PTR _new_route_wp_type$[ebp+eax*4-4], 30 ; 0000001eH

; 1946 : 
; 1947 : 	new_route [count] = terminator_point;

  0058b	6b 45 f0 0c	 imul	 eax, DWORD PTR _count$[ebp], 12
  0058f	8d 8c 05 e8 fe
	ff ff		 lea	 ecx, DWORD PTR _new_route$[ebp+eax]
  00596	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?terminator_point@@3UVEC3D@@A
  0059c	89 11		 mov	 DWORD PTR [ecx], edx
  0059e	a1 04 00 00 00	 mov	 eax, DWORD PTR ?terminator_point@@3UVEC3D@@A+4
  005a3	89 41 04	 mov	 DWORD PTR [ecx+4], eax
  005a6	8b 15 08 00 00
	00		 mov	 edx, DWORD PTR ?terminator_point@@3UVEC3D@@A+8
  005ac	89 51 08	 mov	 DWORD PTR [ecx+8], edx

; 1948 : 
; 1949 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_TROOP_MOVEMENT_INSERT_CAPTURE,

  005af	6a 00		 push	 0
  005b1	6a 25		 push	 37			; 00000025H
  005b3	6a 00		 push	 0
  005b5	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  005ba	6a 0c		 push	 12			; 0000000cH
  005bc	b8 04 00 00 00	 mov	 eax, 4
  005c1	6b c8 0f	 imul	 ecx, eax, 15
  005c4	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  005c8	52		 push	 edx
  005c9	6a 00		 push	 0
  005cb	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  005d0	6b c8 0f	 imul	 ecx, eax, 15
  005d3	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  005da	52		 push	 edx
  005db	6a 0c		 push	 12			; 0000000cH
  005dd	b8 04 00 00 00	 mov	 eax, 4
  005e2	6b c8 0e	 imul	 ecx, eax, 14
  005e5	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  005e9	52		 push	 edx
  005ea	6a 00		 push	 0
  005ec	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  005f1	6b c8 0e	 imul	 ecx, eax, 14
  005f4	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  005fb	52		 push	 edx
  005fc	6a 0c		 push	 12			; 0000000cH
  005fe	b8 04 00 00 00	 mov	 eax, 4
  00603	6b c8 0d	 imul	 ecx, eax, 13
  00606	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  0060a	52		 push	 edx
  0060b	6a 00		 push	 0
  0060d	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00612	6b c8 0d	 imul	 ecx, eax, 13
  00615	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  0061c	52		 push	 edx
  0061d	6a 0c		 push	 12			; 0000000cH
  0061f	b8 04 00 00 00	 mov	 eax, 4
  00624	6b c8 0c	 imul	 ecx, eax, 12
  00627	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  0062b	52		 push	 edx
  0062c	6a 00		 push	 0
  0062e	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00633	6b c8 0c	 imul	 ecx, eax, 12
  00636	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  0063d	52		 push	 edx
  0063e	6a 0c		 push	 12			; 0000000cH
  00640	b8 04 00 00 00	 mov	 eax, 4
  00645	6b c8 0b	 imul	 ecx, eax, 11
  00648	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  0064c	52		 push	 edx
  0064d	6a 00		 push	 0
  0064f	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00654	6b c8 0b	 imul	 ecx, eax, 11
  00657	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  0065e	52		 push	 edx
  0065f	6a 0c		 push	 12			; 0000000cH
  00661	b8 04 00 00 00	 mov	 eax, 4
  00666	6b c8 0a	 imul	 ecx, eax, 10
  00669	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  0066d	52		 push	 edx
  0066e	6a 00		 push	 0
  00670	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00675	6b c8 0a	 imul	 ecx, eax, 10
  00678	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  0067f	52		 push	 edx
  00680	6a 0c		 push	 12			; 0000000cH
  00682	b8 04 00 00 00	 mov	 eax, 4
  00687	6b c8 09	 imul	 ecx, eax, 9
  0068a	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  0068e	52		 push	 edx
  0068f	6a 00		 push	 0
  00691	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00696	6b c8 09	 imul	 ecx, eax, 9
  00699	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  006a0	52		 push	 edx
  006a1	6a 0c		 push	 12			; 0000000cH
  006a3	b8 04 00 00 00	 mov	 eax, 4
  006a8	c1 e0 03	 shl	 eax, 3
  006ab	8b 4c 05 b0	 mov	 ecx, DWORD PTR _new_route_wp_type$[ebp+eax]
  006af	51		 push	 ecx
  006b0	6a 00		 push	 0
  006b2	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  006b7	c1 e2 03	 shl	 edx, 3
  006ba	8d 84 15 e8 fe
	ff ff		 lea	 eax, DWORD PTR _new_route$[ebp+edx]
  006c1	50		 push	 eax
  006c2	6a 0c		 push	 12			; 0000000cH
  006c4	b9 04 00 00 00	 mov	 ecx, 4
  006c9	6b d1 07	 imul	 edx, ecx, 7
  006cc	8b 44 15 b0	 mov	 eax, DWORD PTR _new_route_wp_type$[ebp+edx]
  006d0	50		 push	 eax
  006d1	6a 00		 push	 0
  006d3	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  006d8	6b d1 07	 imul	 edx, ecx, 7
  006db	8d 84 15 e8 fe
	ff ff		 lea	 eax, DWORD PTR _new_route$[ebp+edx]
  006e2	50		 push	 eax
  006e3	6a 0c		 push	 12			; 0000000cH
  006e5	b9 04 00 00 00	 mov	 ecx, 4
  006ea	6b d1 06	 imul	 edx, ecx, 6
  006ed	8b 44 15 b0	 mov	 eax, DWORD PTR _new_route_wp_type$[ebp+edx]
  006f1	50		 push	 eax
  006f2	6a 00		 push	 0
  006f4	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  006f9	6b d1 06	 imul	 edx, ecx, 6
  006fc	8d 84 15 e8 fe
	ff ff		 lea	 eax, DWORD PTR _new_route$[ebp+edx]
  00703	50		 push	 eax
  00704	6a 0c		 push	 12			; 0000000cH
  00706	b9 04 00 00 00	 mov	 ecx, 4
  0070b	6b d1 05	 imul	 edx, ecx, 5
  0070e	8b 44 15 b0	 mov	 eax, DWORD PTR _new_route_wp_type$[ebp+edx]
  00712	50		 push	 eax
  00713	6a 00		 push	 0
  00715	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0071a	6b d1 05	 imul	 edx, ecx, 5
  0071d	8d 84 15 e8 fe
	ff ff		 lea	 eax, DWORD PTR _new_route$[ebp+edx]
  00724	50		 push	 eax
  00725	6a 0c		 push	 12			; 0000000cH
  00727	b9 04 00 00 00	 mov	 ecx, 4
  0072c	c1 e1 02	 shl	 ecx, 2
  0072f	8b 54 0d b0	 mov	 edx, DWORD PTR _new_route_wp_type$[ebp+ecx]
  00733	52		 push	 edx
  00734	6a 00		 push	 0
  00736	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0073b	c1 e0 02	 shl	 eax, 2
  0073e	8d 8c 05 e8 fe
	ff ff		 lea	 ecx, DWORD PTR _new_route$[ebp+eax]
  00745	51		 push	 ecx
  00746	6a 0c		 push	 12			; 0000000cH
  00748	ba 04 00 00 00	 mov	 edx, 4
  0074d	6b c2 03	 imul	 eax, edx, 3
  00750	8b 4c 05 b0	 mov	 ecx, DWORD PTR _new_route_wp_type$[ebp+eax]
  00754	51		 push	 ecx
  00755	6a 00		 push	 0
  00757	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  0075c	6b c2 03	 imul	 eax, edx, 3
  0075f	8d 8c 05 e8 fe
	ff ff		 lea	 ecx, DWORD PTR _new_route$[ebp+eax]
  00766	51		 push	 ecx
  00767	6a 0c		 push	 12			; 0000000cH
  00769	ba 04 00 00 00	 mov	 edx, 4
  0076e	d1 e2		 shl	 edx, 1
  00770	8b 44 15 b0	 mov	 eax, DWORD PTR _new_route_wp_type$[ebp+edx]
  00774	50		 push	 eax
  00775	6a 00		 push	 0
  00777	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0077c	d1 e1		 shl	 ecx, 1
  0077e	8d 94 0d e8 fe
	ff ff		 lea	 edx, DWORD PTR _new_route$[ebp+ecx]
  00785	52		 push	 edx
  00786	6a 0c		 push	 12			; 0000000cH
  00788	b8 04 00 00 00	 mov	 eax, 4
  0078d	c1 e0 00	 shl	 eax, 0
  00790	8b 4c 05 b0	 mov	 ecx, DWORD PTR _new_route_wp_type$[ebp+eax]
  00794	51		 push	 ecx
  00795	6a 00		 push	 0
  00797	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  0079c	c1 e2 00	 shl	 edx, 0
  0079f	8d 84 15 e8 fe
	ff ff		 lea	 eax, DWORD PTR _new_route$[ebp+edx]
  007a6	50		 push	 eax
  007a7	6a 01		 push	 1
  007a9	b9 04 00 00 00	 mov	 ecx, 4
  007ae	6b d1 00	 imul	 edx, ecx, 0
  007b1	8b 44 15 b0	 mov	 eax, DWORD PTR _new_route_wp_type$[ebp+edx]
  007b5	50		 push	 eax
  007b6	6a 00		 push	 0
  007b8	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  007bd	6b d1 00	 imul	 edx, ecx, 0
  007c0	8d 84 15 e8 fe
	ff ff		 lea	 eax, DWORD PTR _new_route$[ebp+edx]
  007c7	50		 push	 eax
  007c8	b9 50 00 00 00	 mov	 ecx, 80			; 00000050H
  007cd	6b d1 1b	 imul	 edx, ecx, 27
  007d0	51		 push	 ecx
  007d1	f3 0f 10 82 10
	00 00 00	 movss	 xmm0, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[edx+16]
  007d9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007de	8b 45 10	 mov	 eax, DWORD PTR _insert_task$[ebp]
  007e1	50		 push	 eax
  007e2	51		 push	 ecx
  007e3	0f 57 c0	 xorps	 xmm0, xmm0
  007e6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007eb	51		 push	 ecx
  007ec	0f 57 c0	 xorps	 xmm0, xmm0
  007ef	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007f4	6a 01		 push	 1
  007f6	8b 4d 10	 mov	 ecx, DWORD PTR _insert_task$[ebp]
  007f9	51		 push	 ecx
  007fa	6a 00		 push	 0
  007fc	8b 55 14	 mov	 edx, DWORD PTR _keysite$[ebp]
  007ff	52		 push	 edx
  00800	6a 02		 push	 2
  00802	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00805	50		 push	 eax
  00806	6a 1b		 push	 27			; 0000001bH
  00808	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0080d	81 c4 3c 01 00
	00		 add	 esp, 316		; 0000013cH
  00813	89 85 dc fe ff
	ff		 mov	 DWORD PTR _new_task$[ebp], eax

; 1950 : 										side,
; 1951 : 										MOVEMENT_TYPE_GROUND,
; 1952 : 										keysite,
; 1953 : 										NULL,
; 1954 : 										insert_task,
; 1955 : 										TRUE,
; 1956 : 										0.0,
; 1957 : 										0.0,
; 1958 : 										insert_task,
; 1959 : 										task_database [ENTITY_SUB_TYPE_TASK_TROOP_MOVEMENT_INSERT_CAPTURE].task_priority,
; 1960 : 										&new_route [0], NULL, new_route_wp_type [0], FORMATION_1,
; 1961 : 										&new_route [1], NULL, new_route_wp_type [1], FORMATION_INFANTRY_COLUMN,
; 1962 : 										&new_route [2], NULL, new_route_wp_type [2], FORMATION_INFANTRY_COLUMN,
; 1963 : 										&new_route [3], NULL, new_route_wp_type [3], FORMATION_INFANTRY_COLUMN,
; 1964 : 										&new_route [4], NULL, new_route_wp_type [4], FORMATION_INFANTRY_COLUMN,
; 1965 : 										&new_route [5], NULL, new_route_wp_type [5], FORMATION_INFANTRY_COLUMN,
; 1966 : 										&new_route [6], NULL, new_route_wp_type [6], FORMATION_INFANTRY_COLUMN,
; 1967 : 										&new_route [7], NULL, new_route_wp_type [7], FORMATION_INFANTRY_COLUMN,
; 1968 : 										&new_route [8], NULL, new_route_wp_type [8], FORMATION_INFANTRY_COLUMN,
; 1969 : 										&new_route [9], NULL, new_route_wp_type [9], FORMATION_INFANTRY_COLUMN,
; 1970 : 										&new_route [10], NULL, new_route_wp_type [10], FORMATION_INFANTRY_COLUMN,
; 1971 : 										&new_route [11], NULL, new_route_wp_type [11], FORMATION_INFANTRY_COLUMN,
; 1972 : 										&new_route [12], NULL, new_route_wp_type [12], FORMATION_INFANTRY_COLUMN,
; 1973 : 										&new_route [13], NULL, new_route_wp_type [13], FORMATION_INFANTRY_COLUMN,
; 1974 : 										&new_route [14], NULL, new_route_wp_type [14], FORMATION_INFANTRY_COLUMN,
; 1975 : 										&new_route [15], NULL, new_route_wp_type [15], FORMATION_INFANTRY_COLUMN,
; 1976 : 										&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1977 : 
; 1978 : 	return new_task;

  00819	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]

; 1979 : }

  0081f	5f		 pop	 edi
  00820	5e		 pop	 esi
  00821	5b		 pop	 ebx
  00822	8b e5		 mov	 esp, ebp
  00824	5d		 pop	 ebp
  00825	c2 14 00	 ret	 20			; 00000014H
?create_troop_movement_capture_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@22@Z ENDP ; create_troop_movement_capture_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
_end_ks$ = -44						; size = 4
_start_ks$ = -40					; size = 4
_new_task$ = -36					; size = 4
_expire_time$ = -32					; size = 4
_heading$ = -28						; size = 4
_destination_position_in_air$ = -24			; size = 12
_destination_position$ = -12				; size = 12
_side$ = 8						; size = 4
_destination_keysite$ = 12				; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_troop_insertion_task, COMDAT

; 1763 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 6c	 sub	 esp, 108		; 0000006cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1764 : 
; 1765 : 	vec3d
; 1766 : 		destination_position,
; 1767 : 		destination_position_in_air;
; 1768 : 
; 1769 : 	float
; 1770 : 		heading,
; 1771 : 		expire_time;
; 1772 : 
; 1773 : 	entity
; 1774 : 		*new_task;
; 1775 : 
; 1776 : 	entity
; 1777 : 		*start_ks,
; 1778 : 		*end_ks;
; 1779 : 
; 1780 : 	new_task = NULL;

  00009	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1781 : 
; 1782 : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_tro
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 13	 add	 eax, 19			; 00000013H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_tro:

; 1783 : 
; 1784 : 	start_ks = start_keysite;

  00039	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  0003c	89 45 d8	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1785 : 	end_ks = end_keysite;

  0003f	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  00042	89 45 d4	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1786 : 
; 1787 : 	get_keysite_troop_dropoff_position (destination_keysite, &destination_position, &heading);

  00045	8d 45 e4	 lea	 eax, DWORD PTR _heading$[ebp]
  00048	50		 push	 eax
  00049	8d 4d f4	 lea	 ecx, DWORD PTR _destination_position$[ebp]
  0004c	51		 push	 ecx
  0004d	8b 55 0c	 mov	 edx, DWORD PTR _destination_keysite$[ebp]
  00050	52		 push	 edx
  00051	e8 00 00 00 00	 call	 ?get_keysite_troop_dropoff_position@@YGHPAUENTITY@@PAUVEC3D@@PAM@Z ; get_keysite_troop_dropoff_position

; 1788 : 
; 1789 : 	bound_position_to_adjusted_map_area (&destination_position);

  00056	8d 45 f4	 lea	 eax, DWORD PTR _destination_position$[ebp]
  00059	50		 push	 eax
  0005a	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 1790 : 
; 1791 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_TROOP_INSERTION, side, &destination_position, &start_ks))

  0005f	8d 45 d8	 lea	 eax, DWORD PTR _start_ks$[ebp]
  00062	50		 push	 eax
  00063	8d 4d f4	 lea	 ecx, DWORD PTR _destination_position$[ebp]
  00066	51		 push	 ecx
  00067	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  0006a	52		 push	 edx
  0006b	6a 1a		 push	 26			; 0000001aH
  0006d	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  00072	85 c0		 test	 eax, eax
  00074	75 07		 jne	 SHORT $LN3@create_tro

; 1792 : 	{
; 1793 : 
; 1794 : 		return NULL;

  00076	33 c0		 xor	 eax, eax
  00078	e9 d6 00 00 00	 jmp	 $LN1@create_tro
$LN3@create_tro:

; 1795 : 	}
; 1796 : 
; 1797 : 	destination_position_in_air = destination_position;

  0007d	8b 45 f4	 mov	 eax, DWORD PTR _destination_position$[ebp]
  00080	89 45 e8	 mov	 DWORD PTR _destination_position_in_air$[ebp], eax
  00083	8b 4d f8	 mov	 ecx, DWORD PTR _destination_position$[ebp+4]
  00086	89 4d ec	 mov	 DWORD PTR _destination_position_in_air$[ebp+4], ecx
  00089	8b 55 fc	 mov	 edx, DWORD PTR _destination_position$[ebp+8]
  0008c	89 55 f0	 mov	 DWORD PTR _destination_position_in_air$[ebp+8], edx

; 1798 : 	destination_position_in_air.x += 1.0;

  0008f	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _destination_position_in_air$[ebp]
  00094	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3ff0000000000000
  0009c	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000a0	f3 0f 11 45 e8	 movss	 DWORD PTR _destination_position_in_air$[ebp], xmm0

; 1799 : 	destination_position_in_air.y += 50.0;

  000a5	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _destination_position_in_air$[ebp+4]
  000aa	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4049000000000000
  000b2	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000b6	f3 0f 11 45 ec	 movss	 DWORD PTR _destination_position_in_air$[ebp+4], xmm0

; 1800 : 
; 1801 : 	bound_position_to_adjusted_map_area (&destination_position_in_air);

  000bb	8d 45 e8	 lea	 eax, DWORD PTR _destination_position_in_air$[ebp]
  000be	50		 push	 eax
  000bf	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 1802 : 
; 1803 : 	//
; 1804 : 	// Create troop insertion task
; 1805 : 	//
; 1806 : 
; 1807 : 	#if DEBUG_MODULE >= 2
; 1808 : 
; 1809 : 	debug_log ("TASKGEN: creating side %d troop insertion task to keysite %s %f, %f, %f", side, get_local_entity_string (destination_keysite, STRING_TYPE_KEYSITE_NAME),
; 1810 : 					destination_position.x, destination_position.y, destination_position.z);
; 1811 : 
; 1812 : 	#endif
; 1813 : 
; 1814 : 	expire_time = 45 * ONE_MINUTE;

  000c4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4528c000
  000cc	f3 0f 11 45 e0	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1815 : 
; 1816 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_TROOP_INSERTION,

  000d1	6a 00		 push	 0
  000d3	6a 25		 push	 37			; 00000025H
  000d5	6a 00		 push	 0
  000d7	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  000dc	6a 02		 push	 2
  000de	6a 11		 push	 17			; 00000011H
  000e0	8b 45 0c	 mov	 eax, DWORD PTR _destination_keysite$[ebp]
  000e3	50		 push	 eax
  000e4	8d 4d e8	 lea	 ecx, DWORD PTR _destination_position_in_air$[ebp]
  000e7	51		 push	 ecx
  000e8	6a 02		 push	 2
  000ea	6a 24		 push	 36			; 00000024H
  000ec	6a 00		 push	 0
  000ee	8d 55 f4	 lea	 edx, DWORD PTR _destination_position$[ebp]
  000f1	52		 push	 edx
  000f2	6a 02		 push	 2
  000f4	6a 20		 push	 32			; 00000020H
  000f6	8b 45 0c	 mov	 eax, DWORD PTR _destination_keysite$[ebp]
  000f9	50		 push	 eax
  000fa	8d 4d f4	 lea	 ecx, DWORD PTR _destination_position$[ebp]
  000fd	51		 push	 ecx
  000fe	6a 02		 push	 2
  00100	6a 11		 push	 17			; 00000011H
  00102	8b 55 0c	 mov	 edx, DWORD PTR _destination_keysite$[ebp]
  00105	52		 push	 edx
  00106	8d 45 e8	 lea	 eax, DWORD PTR _destination_position_in_air$[ebp]
  00109	50		 push	 eax
  0010a	51		 push	 ecx
  0010b	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00110	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00115	8b 4d 0c	 mov	 ecx, DWORD PTR _destination_keysite$[ebp]
  00118	51		 push	 ecx
  00119	51		 push	 ecx
  0011a	0f 57 c0	 xorps	 xmm0, xmm0
  0011d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00122	51		 push	 ecx
  00123	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  00128	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0012d	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00130	52		 push	 edx
  00131	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  00134	50		 push	 eax
  00135	8b 4d d4	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  00138	51		 push	 ecx
  00139	8b 55 d8	 mov	 edx, DWORD PTR _start_ks$[ebp]
  0013c	52		 push	 edx
  0013d	6a 01		 push	 1
  0013f	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00142	50		 push	 eax
  00143	6a 1a		 push	 26			; 0000001aH
  00145	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0014a	83 c4 7c	 add	 esp, 124		; 0000007cH
  0014d	89 45 dc	 mov	 DWORD PTR _new_task$[ebp], eax

; 1817 : 									side,
; 1818 : 									MOVEMENT_TYPE_AIR,
; 1819 : 									start_ks,
; 1820 : 									end_ks,
; 1821 : 									originator,
; 1822 : 									critical,
; 1823 : 									expire_time,
; 1824 : 									0.0,
; 1825 : 									destination_keysite,
; 1826 : 									priority,
; 1827 : 									&destination_position_in_air, destination_keysite, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 1828 : 									&destination_position, destination_keysite, ENTITY_SUB_TYPE_WAYPOINT_TROOP_INSERT, FORMATION_ROW_LEFT,
; 1829 : 									&destination_position, NULL, ENTITY_SUB_TYPE_WAYPOINT_WAIT, FORMATION_ROW_LEFT,
; 1830 : 									&destination_position_in_air, destination_keysite, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 1831 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1832 : 
; 1833 : 	return new_task;

  00150	8b 45 dc	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_tro:

; 1834 : }

  00153	5f		 pop	 edi
  00154	5e		 pop	 esi
  00155	5b		 pop	 ebx
  00156	8b e5		 mov	 esp, ebp
  00158	5d		 pop	 ebp
  00159	c2 1c 00	 ret	 28			; 0000001cH
?create_troop_insertion_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_troop_insertion_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU1@1@Z
_TEXT	SEGMENT
tv89 = -92						; size = 4
tv81 = -88						; size = 4
_keysite_position$ = -20				; size = 4
_end_ks$ = -16						; size = 4
_start_ks$ = -12					; size = 4
_new_task$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_side$ = 8						; size = 4
_task_type$ = 12					; size = 4
_priority$ = 16						; size = 4
_start_keysite$ = 20					; size = 4
_end_keysite$ = 24					; size = 4
?create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU1@1@Z PROC ; create_transfer_task, COMDAT

; 1697 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1698 : 	float
; 1699 : 		expire_time;
; 1700 : 
; 1701 : 	entity
; 1702 : 		*new_task;
; 1703 : 
; 1704 : 	entity
; 1705 : 		//*landing_en,
; 1706 : 		*start_ks,
; 1707 : 		*end_ks;
; 1708 : 
; 1709 : 	vec3d
; 1710 : 		*keysite_position;
; 1711 : 
; 1712 : 	new_task = NULL;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1713 : 
; 1714 : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_tra
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU2@1@Z@4JA
  0001e	83 c0 11	 add	 eax, 17			; 00000011H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_tra:

; 1715 : 
; 1716 : 	ASSERT (end_keysite);

  00039	83 7d 18 00	 cmp	 DWORD PTR _end_keysite$[ebp], 0
  0003d	75 18		 jne	 SHORT $LN3@create_tra
  0003f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU2@1@Z@4JA
  00044	83 c0 13	 add	 eax, 19			; 00000013H
  00047	50		 push	 eax
  00048	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004d	68 00 00 00 00	 push	 OFFSET ??_C@_0M@IIJCELEF@end_keysite@
  00052	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_tra:

; 1717 : 
; 1718 : 	start_ks = start_keysite;

  00057	8b 45 14	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  0005a	89 45 f4	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1719 : 	end_ks = end_keysite;

  0005d	8b 45 18	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  00060	89 45 f0	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1720 : 
; 1721 : 	keysite_position = get_local_entity_vec3d_ptr (end_keysite, VEC3D_TYPE_POSITION);

  00063	83 7d 18 00	 cmp	 DWORD PTR _end_keysite$[ebp], 0
  00067	74 0a		 je	 SHORT $LN6@create_tra
  00069	8b 45 18	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  0006c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0006e	89 4d a8	 mov	 DWORD PTR tv81[ebp], ecx
  00071	eb 21		 jmp	 SHORT $LN7@create_tra
$LN6@create_tra:
  00073	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU2@1@Z@4JA
  00079	83 c2 18	 add	 edx, 24			; 00000018H
  0007c	52		 push	 edx
  0007d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00082	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008d	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN7@create_tra:
  00094	b9 01 00 00 00	 mov	 ecx, 1
  00099	85 c9		 test	 ecx, ecx
  0009b	74 09		 je	 SHORT $LN8@create_tra
  0009d	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv89[ebp], 8
  000a4	eb 21		 jmp	 SHORT $LN9@create_tra
$LN8@create_tra:
  000a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU2@1@Z@4JA
  000ac	83 c2 18	 add	 edx, 24			; 00000018H
  000af	52		 push	 edx
  000b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c0	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN9@create_tra:
  000c7	6a 08		 push	 8
  000c9	8b 4d 18	 mov	 ecx, DWORD PTR _end_keysite$[ebp]
  000cc	51		 push	 ecx
  000cd	6b 55 a8 60	 imul	 edx, DWORD PTR tv81[ebp], 96
  000d1	8b 45 a4	 mov	 eax, DWORD PTR tv89[ebp]
  000d4	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000db	ff d1		 call	 ecx
  000dd	89 45 ec	 mov	 DWORD PTR _keysite_position$[ebp], eax

; 1722 : 
; 1723 : 	if (!get_task_start_keysite (task_type, side, keysite_position, &start_ks))

  000e0	8d 45 f4	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000e3	50		 push	 eax
  000e4	8b 4d ec	 mov	 ecx, DWORD PTR _keysite_position$[ebp]
  000e7	51		 push	 ecx
  000e8	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000eb	52		 push	 edx
  000ec	8b 45 0c	 mov	 eax, DWORD PTR _task_type$[ebp]
  000ef	50		 push	 eax
  000f0	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000f5	85 c0		 test	 eax, eax
  000f7	75 04		 jne	 SHORT $LN4@create_tra

; 1724 : 	{
; 1725 : 
; 1726 : 		return NULL;

  000f9	33 c0		 xor	 eax, eax
  000fb	eb 6b		 jmp	 SHORT $LN1@create_tra
$LN4@create_tra:

; 1727 : 	}
; 1728 : 
; 1729 : 	//
; 1730 : 	// create task
; 1731 : 	//
; 1732 : 
; 1733 : 	#if DEBUG_MODULE >= 2
; 1734 : 
; 1735 : 	debug_log ("TASKGEN: creating side %d Transfer task to keysite %s", side, get_local_entity_string (end_keysite, STRING_TYPE_KEYSITE_NAME));
; 1736 : 
; 1737 : 	#endif
; 1738 : 
; 1739 : 	expire_time = 10 * ONE_MINUTE;

  000fd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44160000
  00105	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1740 : 
; 1741 : 	new_task = create_task (task_type,

  0010a	6a 00		 push	 0
  0010c	6a 25		 push	 37			; 00000025H
  0010e	6a 00		 push	 0
  00110	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00115	6a 02		 push	 2
  00117	6a 11		 push	 17			; 00000011H
  00119	8b 45 f0	 mov	 eax, DWORD PTR _end_ks$[ebp]
  0011c	50		 push	 eax
  0011d	8b 4d ec	 mov	 ecx, DWORD PTR _keysite_position$[ebp]
  00120	51		 push	 ecx
  00121	51		 push	 ecx
  00122	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00127	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0012c	8b 55 f0	 mov	 edx, DWORD PTR _end_ks$[ebp]
  0012f	52		 push	 edx
  00130	51		 push	 ecx
  00131	0f 57 c0	 xorps	 xmm0, xmm0
  00134	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00139	51		 push	 ecx
  0013a	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0013f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00144	6a 01		 push	 1
  00146	6a 00		 push	 0
  00148	8b 45 f0	 mov	 eax, DWORD PTR _end_ks$[ebp]
  0014b	50		 push	 eax
  0014c	8b 4d f4	 mov	 ecx, DWORD PTR _start_ks$[ebp]
  0014f	51		 push	 ecx
  00150	6a 01		 push	 1
  00152	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  00155	52		 push	 edx
  00156	8b 45 0c	 mov	 eax, DWORD PTR _task_type$[ebp]
  00159	50		 push	 eax
  0015a	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0015f	83 c4 4c	 add	 esp, 76			; 0000004cH
  00162	89 45 f8	 mov	 DWORD PTR _new_task$[ebp], eax

; 1742 : 									side,
; 1743 : 									MOVEMENT_TYPE_AIR,
; 1744 : 									start_ks,
; 1745 : 									end_ks,
; 1746 : 									NULL,
; 1747 : 									TRUE,
; 1748 : 									expire_time,
; 1749 : 									0.0,
; 1750 : 									end_ks,
; 1751 : 									priority,
; 1752 : 									keysite_position, end_ks, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 1753 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1754 : 
; 1755 : 	return new_task;

  00165	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_tra:

; 1756 : }

  00168	5f		 pop	 edi
  00169	5e		 pop	 esi
  0016a	5b		 pop	 ebx
  0016b	8b e5		 mov	 esp, ebp
  0016d	5d		 pop	 ebp
  0016e	c2 14 00	 ret	 20			; 00000014H
?create_transfer_task@@YGPAUENTITY@@W4ENTITY_SIDES@@HMPAU1@1@Z ENDP ; create_transfer_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_supply_task@@YGPAUENTITY@@PAU1@00W4MOVEMENT_TYPES@@M00@Z
_TEXT	SEGMENT
tv230 = -144						; size = 4
tv222 = -140						; size = 4
tv247 = -136						; size = 4
tv132 = -136						; size = 4
tv80 = -136						; size = 4
tv239 = -132						; size = 4
tv92 = -132						; size = 4
tv72 = -132						; size = 4
_end_ks$ = -64						; size = 4
_start_ks$ = -60					; size = 4
_new_task$ = -56					; size = 4
_side$ = -52						; size = 4
_stop$ = -48						; size = 4
_start$ = -44						; size = 4
_direction$ = -40					; size = 12
_prepare$ = -28						; size = 12
_finish$ = -16						; size = 12
_expire_time$ = -4					; size = 4
_requester$ = 8						; size = 4
_supplier$ = 12						; size = 4
_cargo$ = 16						; size = 4
_movement_type$ = 20					; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_supply_task@@YGPAUENTITY@@PAU1@00W4MOVEMENT_TYPES@@M00@Z PROC ; create_supply_task, COMDAT

; 1608 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 00 00
	00		 sub	 esp, 144		; 00000090H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1609 : 
; 1610 : 	float
; 1611 : 		expire_time;
; 1612 : 
; 1613 : 	vec3d
; 1614 : 		finish,
; 1615 : 		prepare,
; 1616 : 		direction,
; 1617 : 		*start,
; 1618 : 		*stop;
; 1619 : 
; 1620 : 	entity_sides
; 1621 : 		side;
; 1622 : 
; 1623 : 	entity
; 1624 : 		*new_task,
; 1625 : 		*start_ks,
; 1626 : 		*end_ks;
; 1627 : 
; 1628 : 	new_task = NULL;

  0000c	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1629 : 
; 1630 : 	stop = get_keysite_supply_position (requester);

  00013	8b 45 08	 mov	 eax, DWORD PTR _requester$[ebp]
  00016	50		 push	 eax
  00017	e8 00 00 00 00	 call	 ?get_keysite_supply_position@@YGPAUVEC3D@@PAUENTITY@@@Z ; get_keysite_supply_position
  0001c	89 45 d0	 mov	 DWORD PTR _stop$[ebp], eax

; 1631 : 
; 1632 : 	start = get_local_entity_vec3d_ptr (cargo, VEC3D_TYPE_POSITION);

  0001f	83 7d 10 00	 cmp	 DWORD PTR _cargo$[ebp], 0
  00023	74 0d		 je	 SHORT $LN4@create_sup
  00025	8b 45 10	 mov	 eax, DWORD PTR _cargo$[ebp]
  00028	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002a	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv72[ebp], ecx
  00030	eb 24		 jmp	 SHORT $LN5@create_sup
$LN4@create_sup:
  00032	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  00038	83 c2 18	 add	 edx, 24			; 00000018H
  0003b	52		 push	 edx
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004c	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv72[ebp], 0
$LN5@create_sup:
  00056	b9 01 00 00 00	 mov	 ecx, 1
  0005b	85 c9		 test	 ecx, ecx
  0005d	74 0c		 je	 SHORT $LN6@create_sup
  0005f	c7 85 78 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv80[ebp], 8
  00069	eb 24		 jmp	 SHORT $LN7@create_sup
$LN6@create_sup:
  0006b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  00071	83 c2 18	 add	 edx, 24			; 00000018H
  00074	52		 push	 edx
  00075	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0007a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0007f	50		 push	 eax
  00080	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00085	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN7@create_sup:
  0008f	6a 08		 push	 8
  00091	8b 4d 10	 mov	 ecx, DWORD PTR _cargo$[ebp]
  00094	51		 push	 ecx
  00095	6b 95 7c ff ff
	ff 60		 imul	 edx, DWORD PTR tv72[ebp], 96
  0009c	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv80[ebp]
  000a2	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000a9	ff d1		 call	 ecx
  000ab	89 45 d4	 mov	 DWORD PTR _start$[ebp], eax

; 1633 : 
; 1634 : 	side = (entity_sides) get_local_entity_int_value (requester, INT_TYPE_SIDE);

  000ae	83 7d 08 00	 cmp	 DWORD PTR _requester$[ebp], 0
  000b2	74 0d		 je	 SHORT $LN8@create_sup
  000b4	8b 45 08	 mov	 eax, DWORD PTR _requester$[ebp]
  000b7	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b9	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv92[ebp], ecx
  000bf	eb 24		 jmp	 SHORT $LN9@create_sup
$LN8@create_sup:
  000c1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  000c7	83 c2 1a	 add	 edx, 26			; 0000001aH
  000ca	52		 push	 edx
  000cb	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000d5	50		 push	 eax
  000d6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000db	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv92[ebp], 0
$LN9@create_sup:
  000e5	b9 01 00 00 00	 mov	 ecx, 1
  000ea	85 c9		 test	 ecx, ecx
  000ec	74 0c		 je	 SHORT $LN10@create_sup
  000ee	c7 85 78 ff ff
	ff bb 00 00 00	 mov	 DWORD PTR tv132[ebp], 187 ; 000000bbH
  000f8	eb 24		 jmp	 SHORT $LN11@create_sup
$LN10@create_sup:
  000fa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  00100	83 c2 1a	 add	 edx, 26			; 0000001aH
  00103	52		 push	 edx
  00104	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00109	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0010e	50		 push	 eax
  0010f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00114	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv132[ebp], 0
$LN11@create_sup:
  0011e	68 bb 00 00 00	 push	 187			; 000000bbH
  00123	8b 4d 08	 mov	 ecx, DWORD PTR _requester$[ebp]
  00126	51		 push	 ecx
  00127	69 95 7c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv92[ebp], 1116
  00131	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv132[ebp]
  00137	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0013e	ff d1		 call	 ecx
  00140	89 45 cc	 mov	 DWORD PTR _side$[ebp], eax

; 1635 : 
; 1636 : 	start_ks = start_keysite;

  00143	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  00146	89 45 c4	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1637 : 	end_ks = end_keysite;

  00149	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  0014c	89 45 c0	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1638 : 
; 1639 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_SUPPLY, side, start, &start_ks))

  0014f	8d 45 c4	 lea	 eax, DWORD PTR _start_ks$[ebp]
  00152	50		 push	 eax
  00153	8b 4d d4	 mov	 ecx, DWORD PTR _start$[ebp]
  00156	51		 push	 ecx
  00157	8b 55 cc	 mov	 edx, DWORD PTR _side$[ebp]
  0015a	52		 push	 edx
  0015b	6a 15		 push	 21			; 00000015H
  0015d	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  00162	85 c0		 test	 eax, eax
  00164	75 07		 jne	 SHORT $LN2@create_sup

; 1640 : 	{
; 1641 : 
; 1642 : 		return NULL;

  00166	33 c0		 xor	 eax, eax
  00168	e9 b6 02 00 00	 jmp	 $LN1@create_sup
$LN2@create_sup:

; 1643 : 	}
; 1644 : 
; 1645 : 	direction.x = stop->x - start->x;

  0016d	8b 45 d0	 mov	 eax, DWORD PTR _stop$[ebp]
  00170	8b 4d d4	 mov	 ecx, DWORD PTR _start$[ebp]
  00173	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00177	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  0017b	f3 0f 11 45 d8	 movss	 DWORD PTR _direction$[ebp], xmm0

; 1646 : 	direction.y = stop->y - start->y;

  00180	8b 45 d0	 mov	 eax, DWORD PTR _stop$[ebp]
  00183	8b 4d d4	 mov	 ecx, DWORD PTR _start$[ebp]
  00186	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  0018b	f3 0f 5c 41 04	 subss	 xmm0, DWORD PTR [ecx+4]
  00190	f3 0f 11 45 dc	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 1647 : 	direction.z = stop->z - start->z;

  00195	8b 45 d0	 mov	 eax, DWORD PTR _stop$[ebp]
  00198	8b 4d d4	 mov	 ecx, DWORD PTR _start$[ebp]
  0019b	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  001a0	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  001a5	f3 0f 11 45 e0	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 1648 : 
; 1649 : 	normalise_any_3d_vector (&direction);

  001aa	8d 45 d8	 lea	 eax, DWORD PTR _direction$[ebp]
  001ad	50		 push	 eax
  001ae	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  001b3	dd d8		 fstp	 ST(0)

; 1650 : 
; 1651 : 	prepare.x = stop->x - (direction.x * 4.0 * KILOMETRE);

  001b5	8b 45 d0	 mov	 eax, DWORD PTR _stop$[ebp]
  001b8	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  001bc	f3 0f 5a 4d d8	 cvtss2sd xmm1, DWORD PTR _direction$[ebp]
  001c1	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4010000000000000
  001c9	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@408f400000000000
  001d1	f2 0f 5c c1	 subsd	 xmm0, xmm1
  001d5	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001d9	f3 0f 11 45 e4	 movss	 DWORD PTR _prepare$[ebp], xmm0

; 1652 : 	prepare.z = stop->z - (direction.z * 4.0 * KILOMETRE);

  001de	8b 45 d0	 mov	 eax, DWORD PTR _stop$[ebp]
  001e1	f3 0f 5a 40 08	 cvtss2sd xmm0, DWORD PTR [eax+8]
  001e6	f3 0f 5a 4d e0	 cvtss2sd xmm1, DWORD PTR _direction$[ebp+8]
  001eb	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4010000000000000
  001f3	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@408f400000000000
  001fb	f2 0f 5c c1	 subsd	 xmm0, xmm1
  001ff	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00203	f3 0f 11 45 ec	 movss	 DWORD PTR _prepare$[ebp+8], xmm0

; 1653 : 	bound_position_to_adjusted_map_area (&prepare);

  00208	8d 45 e4	 lea	 eax, DWORD PTR _prepare$[ebp]
  0020b	50		 push	 eax
  0020c	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 1654 : 
; 1655 : 	finish.x = stop->x + (direction.x * 2.0 * KILOMETRE);

  00211	8b 45 d0	 mov	 eax, DWORD PTR _stop$[ebp]
  00214	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  00218	f3 0f 5a 4d d8	 cvtss2sd xmm1, DWORD PTR _direction$[ebp]
  0021d	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4000000000000000
  00225	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@408f400000000000
  0022d	f2 0f 58 c1	 addsd	 xmm0, xmm1
  00231	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00235	f3 0f 11 45 f0	 movss	 DWORD PTR _finish$[ebp], xmm0

; 1656 : 	finish.z = stop->z + (direction.z * 2.0 * KILOMETRE);

  0023a	8b 45 d0	 mov	 eax, DWORD PTR _stop$[ebp]
  0023d	f3 0f 5a 40 08	 cvtss2sd xmm0, DWORD PTR [eax+8]
  00242	f3 0f 5a 4d e0	 cvtss2sd xmm1, DWORD PTR _direction$[ebp+8]
  00247	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4000000000000000
  0024f	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@408f400000000000
  00257	f2 0f 58 c1	 addsd	 xmm0, xmm1
  0025b	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0025f	f3 0f 11 45 f8	 movss	 DWORD PTR _finish$[ebp+8], xmm0

; 1657 : 	bound_position_to_adjusted_map_area (&finish);

  00264	8d 45 f0	 lea	 eax, DWORD PTR _finish$[ebp]
  00267	50		 push	 eax
  00268	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 1658 : 
; 1659 : 	expire_time = 20 * ONE_MINUTE;

  0026d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44960000
  00275	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1660 : 
; 1661 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_SUPPLY,

  0027a	6a 00		 push	 0
  0027c	6a 25		 push	 37			; 00000025H
  0027e	6a 00		 push	 0
  00280	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00285	6a 02		 push	 2
  00287	6a 09		 push	 9
  00289	6a 00		 push	 0
  0028b	8d 45 f0	 lea	 eax, DWORD PTR _finish$[ebp]
  0028e	50		 push	 eax
  0028f	6a 02		 push	 2
  00291	6a 06		 push	 6
  00293	8b 4d 08	 mov	 ecx, DWORD PTR _requester$[ebp]
  00296	51		 push	 ecx
  00297	8b 55 d0	 mov	 edx, DWORD PTR _stop$[ebp]
  0029a	52		 push	 edx
  0029b	6a 02		 push	 2
  0029d	6a 12		 push	 18			; 00000012H
  0029f	6a 00		 push	 0
  002a1	8d 45 e4	 lea	 eax, DWORD PTR _prepare$[ebp]
  002a4	50		 push	 eax
  002a5	6a 02		 push	 2
  002a7	6a 13		 push	 19			; 00000013H
  002a9	8b 4d 0c	 mov	 ecx, DWORD PTR _supplier$[ebp]
  002ac	51		 push	 ecx
  002ad	8b 55 d4	 mov	 edx, DWORD PTR _start$[ebp]
  002b0	52		 push	 edx
  002b1	51		 push	 ecx
  002b2	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  002b7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002bc	8b 45 08	 mov	 eax, DWORD PTR _requester$[ebp]
  002bf	50		 push	 eax
  002c0	51		 push	 ecx
  002c1	0f 57 c0	 xorps	 xmm0, xmm0
  002c4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002c9	51		 push	 ecx
  002ca	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  002cf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002d4	6a 01		 push	 1
  002d6	6a 00		 push	 0
  002d8	8b 4d c0	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  002db	51		 push	 ecx
  002dc	8b 55 c4	 mov	 edx, DWORD PTR _start_ks$[ebp]
  002df	52		 push	 edx
  002e0	8b 45 14	 mov	 eax, DWORD PTR _movement_type$[ebp]
  002e3	50		 push	 eax
  002e4	8b 4d cc	 mov	 ecx, DWORD PTR _side$[ebp]
  002e7	51		 push	 ecx
  002e8	6a 15		 push	 21			; 00000015H
  002ea	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  002ef	83 c4 7c	 add	 esp, 124		; 0000007cH
  002f2	89 45 c8	 mov	 DWORD PTR _new_task$[ebp], eax

; 1662 : 											side,
; 1663 : 											movement_type,
; 1664 : 											start_ks,
; 1665 : 											end_ks,
; 1666 : 											NULL,
; 1667 : 											TRUE,
; 1668 : 											expire_time,
; 1669 : 											0.0,
; 1670 : 											requester,
; 1671 : 											priority,
; 1672 : 											start, supplier, ENTITY_SUB_TYPE_WAYPOINT_PICK_UP, FORMATION_ROW_LEFT,
; 1673 : 											&prepare, NULL, ENTITY_SUB_TYPE_WAYPOINT_PREPARE_FOR_DROP_OFF, FORMATION_ROW_LEFT,
; 1674 : 											stop, requester, ENTITY_SUB_TYPE_WAYPOINT_DROP_OFF, FORMATION_ROW_LEFT,
; 1675 : 											&finish, NULL, ENTITY_SUB_TYPE_WAYPOINT_FINISH_DROP_OFF, FORMATION_ROW_LEFT,
; 1676 : 											&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1677 : 
; 1678 : 	set_local_entity_float_value (new_task, FLOAT_TYPE_TASK_USER_DATA, get_local_entity_int_value (cargo, INT_TYPE_ENTITY_SUB_TYPE));

  002f5	83 7d 10 00	 cmp	 DWORD PTR _cargo$[ebp], 0
  002f9	74 0d		 je	 SHORT $LN16@create_sup
  002fb	8b 45 10	 mov	 eax, DWORD PTR _cargo$[ebp]
  002fe	8b 08		 mov	 ecx, DWORD PTR [eax]
  00300	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv239[ebp], ecx
  00306	eb 24		 jmp	 SHORT $LN17@create_sup
$LN16@create_sup:
  00308	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  0030e	83 c2 46	 add	 edx, 70			; 00000046H
  00311	52		 push	 edx
  00312	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00317	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0031c	50		 push	 eax
  0031d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00322	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv239[ebp], 0
$LN17@create_sup:
  0032c	b9 01 00 00 00	 mov	 ecx, 1
  00331	85 c9		 test	 ecx, ecx
  00333	74 0c		 je	 SHORT $LN18@create_sup
  00335	c7 85 78 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv247[ebp], 52 ; 00000034H
  0033f	eb 24		 jmp	 SHORT $LN19@create_sup
$LN18@create_sup:
  00341	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  00347	83 c2 46	 add	 edx, 70			; 00000046H
  0034a	52		 push	 edx
  0034b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00350	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00355	50		 push	 eax
  00356	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0035b	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv247[ebp], 0
$LN19@create_sup:
  00365	83 7d c8 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  00369	74 0d		 je	 SHORT $LN12@create_sup
  0036b	8b 4d c8	 mov	 ecx, DWORD PTR _new_task$[ebp]
  0036e	8b 11		 mov	 edx, DWORD PTR [ecx]
  00370	89 95 74 ff ff
	ff		 mov	 DWORD PTR tv222[ebp], edx
  00376	eb 24		 jmp	 SHORT $LN13@create_sup
$LN12@create_sup:
  00378	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  0037d	83 c0 46	 add	 eax, 70			; 00000046H
  00380	50		 push	 eax
  00381	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00386	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0038c	51		 push	 ecx
  0038d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00392	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv222[ebp], 0
$LN13@create_sup:
  0039c	ba 01 00 00 00	 mov	 edx, 1
  003a1	85 d2		 test	 edx, edx
  003a3	74 0c		 je	 SHORT $LN14@create_sup
  003a5	c7 85 70 ff ff
	ff 8c 00 00 00	 mov	 DWORD PTR tv230[ebp], 140 ; 0000008cH
  003af	eb 24		 jmp	 SHORT $LN15@create_sup
$LN14@create_sup:
  003b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_supply_task@@YGPAUENTITY@@PAU2@00W4MOVEMENT_TYPES@@M00@Z@4JA
  003b6	83 c0 46	 add	 eax, 70			; 00000046H
  003b9	50		 push	 eax
  003ba	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  003bf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  003c5	51		 push	 ecx
  003c6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003cb	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv230[ebp], 0
$LN15@create_sup:
  003d5	6a 34		 push	 52			; 00000034H
  003d7	8b 55 10	 mov	 edx, DWORD PTR _cargo$[ebp]
  003da	52		 push	 edx
  003db	69 85 7c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv239[ebp], 1116
  003e5	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv247[ebp]
  003eb	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  003f2	ff d2		 call	 edx
  003f4	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  003f8	51		 push	 ecx
  003f9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003fe	68 8c 00 00 00	 push	 140			; 0000008cH
  00403	8b 45 c8	 mov	 eax, DWORD PTR _new_task$[ebp]
  00406	50		 push	 eax
  00407	69 8d 74 ff ff
	ff bc 02 00 00	 imul	 ecx, DWORD PTR tv222[ebp], 700
  00411	8b 95 70 ff ff
	ff		 mov	 edx, DWORD PTR tv230[ebp]
  00417	8b 84 91 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*4]
  0041e	ff d0		 call	 eax

; 1679 : 
; 1680 : 	#if DEBUG_MODULE || DEBUG_SUPPLY
; 1681 : 
; 1682 : 	debug_log ("TASKGEN: SUPPLY_INFO: create SUPPLY, movement_type %s from %s to %s",
; 1683 : 					movement_names [movement_type],
; 1684 : 					get_local_entity_string (supplier, STRING_TYPE_KEYSITE_NAME),
; 1685 : 					get_local_entity_string (requester, STRING_TYPE_FULL_NAME));
; 1686 : 
; 1687 : 	#endif
; 1688 : 
; 1689 : 	return new_task;

  00420	8b 45 c8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_sup:

; 1690 : }

  00423	5f		 pop	 edi
  00424	5e		 pop	 esi
  00425	5b		 pop	 ebx
  00426	8b e5		 mov	 esp, ebp
  00428	5d		 pop	 ebp
  00429	c2 1c 00	 ret	 28			; 0000001cH
?create_supply_task@@YGPAUENTITY@@PAU1@00W4MOVEMENT_TYPES@@M00@Z ENDP ; create_supply_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv206 = -96						; size = 4
tv180 = -96						; size = 4
tv89 = -96						; size = 4
tv198 = -92						; size = 4
tv172 = -92						; size = 4
tv160 = -92						; size = 4
tv81 = -92						; size = 4
_count$1 = -24						; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_new_task$ = -12					; size = 4
_expire_time$ = -8					; size = 4
_start_pos$ = -4					; size = 4
_side$ = 8						; size = 4
_target$ = 12						; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_sead_task, COMDAT

; 1524 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1525 : 
; 1526 : 	vec3d
; 1527 : 		*start_pos;
; 1528 : 
; 1529 : 	float
; 1530 : 		expire_time;
; 1531 : 
; 1532 : 	entity
; 1533 : 		*new_task;
; 1534 : 
; 1535 : 	entity
; 1536 : 		*start_ks,
; 1537 : 		*end_ks;
; 1538 : 
; 1539 : 	new_task = NULL;

  00009	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1540 : 
; 1541 : 	ASSERT (target);

  00010	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  00014	75 18		 jne	 SHORT $LN2@create_sea
  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001b	83 c0 11	 add	 eax, 17			; 00000011H
  0001e	50		 push	 eax
  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_06JJLAMBGK@target@
  00029	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_sea:

; 1542 : 
; 1543 : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  0002e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00035	74 20		 je	 SHORT $LN3@create_sea
  00037	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0003c	83 c0 13	 add	 eax, 19			; 00000013H
  0003f	50		 push	 eax
  00040	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00045	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0004a	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  0004f	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00054	83 c4 10	 add	 esp, 16			; 00000010H
$LN3@create_sea:

; 1544 : 
; 1545 : 	start_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00057	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  0005b	74 0a		 je	 SHORT $LN9@create_sea
  0005d	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  00060	8b 08		 mov	 ecx, DWORD PTR [eax]
  00062	89 4d a4	 mov	 DWORD PTR tv81[ebp], ecx
  00065	eb 21		 jmp	 SHORT $LN10@create_sea
$LN9@create_sea:
  00067	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0006d	83 c2 15	 add	 edx, 21			; 00000015H
  00070	52		 push	 edx
  00071	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0007b	50		 push	 eax
  0007c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00081	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN10@create_sea:
  00088	b9 01 00 00 00	 mov	 ecx, 1
  0008d	85 c9		 test	 ecx, ecx
  0008f	74 09		 je	 SHORT $LN11@create_sea
  00091	c7 45 a0 08 00
	00 00		 mov	 DWORD PTR tv89[ebp], 8
  00098	eb 21		 jmp	 SHORT $LN12@create_sea
$LN11@create_sea:
  0009a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  000a0	83 c2 15	 add	 edx, 21			; 00000015H
  000a3	52		 push	 edx
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b4	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN12@create_sea:
  000bb	6a 08		 push	 8
  000bd	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  000c0	51		 push	 ecx
  000c1	6b 55 a4 60	 imul	 edx, DWORD PTR tv81[ebp], 96
  000c5	8b 45 a0	 mov	 eax, DWORD PTR tv89[ebp]
  000c8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000cf	ff d1		 call	 ecx
  000d1	89 45 fc	 mov	 DWORD PTR _start_pos$[ebp], eax

; 1546 : 
; 1547 : 	start_ks = start_keysite;

  000d4	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000d7	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1548 : 	end_ks = end_keysite;

  000da	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000dd	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1549 : 
; 1550 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_SEAD, side, start_pos, &start_ks))

  000e0	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000e3	50		 push	 eax
  000e4	8b 4d fc	 mov	 ecx, DWORD PTR _start_pos$[ebp]
  000e7	51		 push	 ecx
  000e8	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000eb	52		 push	 edx
  000ec	6a 14		 push	 20			; 00000014H
  000ee	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000f3	85 c0		 test	 eax, eax
  000f5	75 07		 jne	 SHORT $LN4@create_sea

; 1551 : 	{
; 1552 : 
; 1553 : 		return NULL;

  000f7	33 c0		 xor	 eax, eax
  000f9	e9 fe 01 00 00	 jmp	 $LN1@create_sea
$LN4@create_sea:

; 1554 : 	}
; 1555 : 
; 1556 : 	//
; 1557 : 	// Create SEAD task
; 1558 : 	//
; 1559 : 
; 1560 : 	#if DEBUG_MODULE >= 2
; 1561 : 
; 1562 : 	debug_log ("TASKGEN: creating side %d SEAD task to sector %d, %d", side, raw->x_sector, raw->z_sector);
; 1563 : 
; 1564 : 	#endif
; 1565 : 
; 1566 : 	expire_time = 30 * ONE_MINUTE;

  000fe	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44e10000
  00106	f3 0f 11 45 f8	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1567 : 
; 1568 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_SEAD,

  0010b	6a 00		 push	 0
  0010d	6a 25		 push	 37			; 00000025H
  0010f	6a 00		 push	 0
  00111	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00116	6a 02		 push	 2
  00118	6a 01		 push	 1
  0011a	6a 00		 push	 0
  0011c	8b 45 fc	 mov	 eax, DWORD PTR _start_pos$[ebp]
  0011f	50		 push	 eax
  00120	51		 push	 ecx
  00121	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00126	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0012b	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  0012e	51		 push	 ecx
  0012f	51		 push	 ecx
  00130	0f 57 c0	 xorps	 xmm0, xmm0
  00133	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00138	51		 push	 ecx
  00139	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0013e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00143	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00146	52		 push	 edx
  00147	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  0014a	50		 push	 eax
  0014b	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  0014e	51		 push	 ecx
  0014f	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00152	52		 push	 edx
  00153	6a 01		 push	 1
  00155	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00158	50		 push	 eax
  00159	6a 14		 push	 20			; 00000014H
  0015b	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00160	83 c4 4c	 add	 esp, 76			; 0000004cH
  00163	89 45 f4	 mov	 DWORD PTR _new_task$[ebp], eax

; 1569 : 									side,
; 1570 : 									MOVEMENT_TYPE_AIR,
; 1571 : 									start_ks,
; 1572 : 									end_ks,
; 1573 : 									originator,
; 1574 : 									critical,
; 1575 : 									expire_time,
; 1576 : 									0.0,
; 1577 : 									target,
; 1578 : 									priority,
; 1579 : 									start_pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_ATTACK, FORMATION_ROW_LEFT,
; 1580 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1581 : 
; 1582 : 	if (new_task)

  00166	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  0016a	0f 84 89 01 00
	00		 je	 $LN5@create_sea

; 1583 : 	{
; 1584 : 		float
; 1585 : 			count;
; 1586 : 
; 1587 : 		//
; 1588 : 		// store current group member count
; 1589 : 		//
; 1590 : 
; 1591 : 		ASSERT (get_local_entity_type (target) == ENTITY_TYPE_GROUP);

  00170	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  00174	74 0a		 je	 SHORT $LN13@create_sea
  00176	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  00179	8b 08		 mov	 ecx, DWORD PTR [eax]
  0017b	89 4d a4	 mov	 DWORD PTR tv160[ebp], ecx
  0017e	eb 21		 jmp	 SHORT $LN14@create_sea
$LN13@create_sea:
  00180	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00186	83 c2 43	 add	 edx, 67			; 00000043H
  00189	52		 push	 edx
  0018a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0018f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00194	50		 push	 eax
  00195	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019a	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
$LN14@create_sea:
  001a1	83 7d a4 0c	 cmp	 DWORD PTR tv160[ebp], 12 ; 0000000cH
  001a5	74 18		 je	 SHORT $LN6@create_sea
  001a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001ac	83 c0 43	 add	 eax, 67			; 00000043H
  001af	50		 push	 eax
  001b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b5	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@OOAIFCAD@get_local_entity_type?5?$CItarget?$CJ?5@
  001ba	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@create_sea:

; 1592 : 
; 1593 : 		count = get_local_entity_int_value (target, INT_TYPE_MEMBER_COUNT);

  001bf	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  001c3	74 0a		 je	 SHORT $LN15@create_sea
  001c5	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  001c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  001ca	89 4d a4	 mov	 DWORD PTR tv172[ebp], ecx
  001cd	eb 21		 jmp	 SHORT $LN16@create_sea
$LN15@create_sea:
  001cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001d5	83 c2 45	 add	 edx, 69			; 00000045H
  001d8	52		 push	 edx
  001d9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv172[ebp], 0
$LN16@create_sea:
  001f0	b9 01 00 00 00	 mov	 ecx, 1
  001f5	85 c9		 test	 ecx, ecx
  001f7	74 09		 je	 SHORT $LN17@create_sea
  001f9	c7 45 a0 86 00
	00 00		 mov	 DWORD PTR tv180[ebp], 134 ; 00000086H
  00200	eb 21		 jmp	 SHORT $LN18@create_sea
$LN17@create_sea:
  00202	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00208	83 c2 45	 add	 edx, 69			; 00000045H
  0020b	52		 push	 edx
  0020c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00211	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00216	50		 push	 eax
  00217	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0021c	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv180[ebp], 0
$LN18@create_sea:
  00223	68 86 00 00 00	 push	 134			; 00000086H
  00228	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  0022b	51		 push	 ecx
  0022c	69 55 a4 5c 04
	00 00		 imul	 edx, DWORD PTR tv172[ebp], 1116
  00233	8b 45 a0	 mov	 eax, DWORD PTR tv180[ebp]
  00236	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0023d	ff d1		 call	 ecx
  0023f	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00243	f3 0f 11 45 e8	 movss	 DWORD PTR _count$1[ebp], xmm0

; 1594 : 
; 1595 : 		ASSERT (count > 0);

  00248	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _count$1[ebp]
  0024d	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  00254	77 18		 ja	 SHORT $LN7@create_sea
  00256	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0025b	83 c0 47	 add	 eax, 71			; 00000047H
  0025e	50		 push	 eax
  0025f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00264	68 00 00 00 00	 push	 OFFSET ??_C@_09DMMLFBJB@count?5?$DO?50@
  00269	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@create_sea:

; 1596 : 
; 1597 : 		set_local_entity_float_value (new_task, FLOAT_TYPE_TASK_USER_DATA, count);

  0026e	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  00272	74 0a		 je	 SHORT $LN19@create_sea
  00274	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
  00277	8b 08		 mov	 ecx, DWORD PTR [eax]
  00279	89 4d a4	 mov	 DWORD PTR tv198[ebp], ecx
  0027c	eb 21		 jmp	 SHORT $LN20@create_sea
$LN19@create_sea:
  0027e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00284	83 c2 49	 add	 edx, 73			; 00000049H
  00287	52		 push	 edx
  00288	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0028d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00292	50		 push	 eax
  00293	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00298	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$LN20@create_sea:
  0029f	b9 01 00 00 00	 mov	 ecx, 1
  002a4	85 c9		 test	 ecx, ecx
  002a6	74 09		 je	 SHORT $LN21@create_sea
  002a8	c7 45 a0 8c 00
	00 00		 mov	 DWORD PTR tv206[ebp], 140 ; 0000008cH
  002af	eb 21		 jmp	 SHORT $LN22@create_sea
$LN21@create_sea:
  002b1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  002b7	83 c2 49	 add	 edx, 73			; 00000049H
  002ba	52		 push	 edx
  002bb	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  002c5	50		 push	 eax
  002c6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002cb	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv206[ebp], 0
$LN22@create_sea:
  002d2	51		 push	 ecx
  002d3	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _count$1[ebp]
  002d8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002dd	68 8c 00 00 00	 push	 140			; 0000008cH
  002e2	8b 4d f4	 mov	 ecx, DWORD PTR _new_task$[ebp]
  002e5	51		 push	 ecx
  002e6	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv198[ebp], 700
  002ed	8b 45 a0	 mov	 eax, DWORD PTR tv206[ebp]
  002f0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  002f7	ff d1		 call	 ecx
$LN5@create_sea:

; 1598 : 	}
; 1599 : 
; 1600 : 	return new_task;

  002f9	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_sea:

; 1601 : }

  002fc	5f		 pop	 edi
  002fd	5e		 pop	 esi
  002fe	5b		 pop	 ebx
  002ff	8b e5		 mov	 esp, ebp
  00301	5d		 pop	 ebp
  00302	c2 1c 00	 ret	 28			; 0000001cH
?create_sead_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_sead_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@M22@Z
_TEXT	SEGMENT
_end_ks$ = -16						; size = 4
_start_ks$ = -12					; size = 4
_expire_time$ = -8					; size = 4
_new_task$ = -4						; size = 4
_side$ = 8						; size = 4
_pos$ = 12						; size = 4
_objective$ = 16					; size = 4
_priority$ = 20						; size = 4
_start_keysite$ = 24					; size = 4
_end_keysite$ = 28					; size = 4
?create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@M22@Z PROC ; create_repair_task, COMDAT

; 1476 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1477 : 
; 1478 : 	entity
; 1479 : 		*new_task;
; 1480 : 
; 1481 : 	float
; 1482 : 		expire_time;
; 1483 : 
; 1484 : 	entity
; 1485 : 		*start_ks,
; 1486 : 		*end_ks;
; 1487 : 
; 1488 : 	start_ks = start_keysite;

  00009	8b 45 18	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  0000c	89 45 f4	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1489 : 	end_ks = end_keysite;

  0000f	8b 45 1c	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  00012	89 45 f0	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1490 : 
; 1491 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_REPAIR, side, pos, &start_ks))

  00015	8d 45 f4	 lea	 eax, DWORD PTR _start_ks$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 0c	 mov	 ecx, DWORD PTR _pos$[ebp]
  0001c	51		 push	 ecx
  0001d	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  00020	52		 push	 edx
  00021	6a 12		 push	 18			; 00000012H
  00023	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  00028	85 c0		 test	 eax, eax
  0002a	75 07		 jne	 SHORT $LN2@create_rep

; 1492 : 	{
; 1493 : 
; 1494 : 		return NULL;

  0002c	33 c0		 xor	 eax, eax
  0002e	e9 91 00 00 00	 jmp	 $LN1@create_rep
$LN2@create_rep:

; 1495 : 	}
; 1496 : 
; 1497 : 	ASSERT (pos);

  00033	83 7d 0c 00	 cmp	 DWORD PTR _pos$[ebp], 0
  00037	75 18		 jne	 SHORT $LN3@create_rep
  00039	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU2@M22@Z@4JA
  0003e	83 c0 15	 add	 eax, 21			; 00000015H
  00041	50		 push	 eax
  00042	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00047	68 00 00 00 00	 push	 OFFSET ??_C@_03PCBNCGFH@pos@
  0004c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_rep:

; 1498 : 
; 1499 : 	expire_time = 30.0 * ONE_MINUTE;

  00051	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44e10000
  00059	f3 0f 11 45 f8	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1500 : 
; 1501 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_REPAIR,

  0005e	6a 00		 push	 0
  00060	6a 25		 push	 37			; 00000025H
  00062	6a 00		 push	 0
  00064	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00069	6a 02		 push	 2
  0006b	6a 16		 push	 22			; 00000016H
  0006d	6a 00		 push	 0
  0006f	8b 45 0c	 mov	 eax, DWORD PTR _pos$[ebp]
  00072	50		 push	 eax
  00073	6a 02		 push	 2
  00075	6a 11		 push	 17			; 00000011H
  00077	6a 00		 push	 0
  00079	8b 4d 0c	 mov	 ecx, DWORD PTR _pos$[ebp]
  0007c	51		 push	 ecx
  0007d	51		 push	 ecx
  0007e	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00083	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00088	8b 55 10	 mov	 edx, DWORD PTR _objective$[ebp]
  0008b	52		 push	 edx
  0008c	51		 push	 ecx
  0008d	0f 57 c0	 xorps	 xmm0, xmm0
  00090	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00095	51		 push	 ecx
  00096	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0009b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a0	6a 01		 push	 1
  000a2	8b 45 10	 mov	 eax, DWORD PTR _objective$[ebp]
  000a5	50		 push	 eax
  000a6	8b 4d f0	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  000a9	51		 push	 ecx
  000aa	8b 55 f4	 mov	 edx, DWORD PTR _start_ks$[ebp]
  000ad	52		 push	 edx
  000ae	6a 01		 push	 1
  000b0	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  000b3	50		 push	 eax
  000b4	6a 12		 push	 18			; 00000012H
  000b6	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  000bb	83 c4 5c	 add	 esp, 92			; 0000005cH
  000be	89 45 fc	 mov	 DWORD PTR _new_task$[ebp], eax

; 1502 : 									side,
; 1503 : 									MOVEMENT_TYPE_AIR,
; 1504 : 									start_ks,
; 1505 : 									end_ks,
; 1506 : 									objective,
; 1507 : 									TRUE,
; 1508 : 									expire_time,
; 1509 : 									0.0,
; 1510 : 									objective,
; 1511 : 									priority,
; 1512 : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 1513 : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_REPAIR, FORMATION_ROW_LEFT,
; 1514 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1515 : 
; 1516 : 	return new_task;

  000c1	8b 45 fc	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_rep:

; 1517 : }

  000c4	5f		 pop	 edi
  000c5	5e		 pop	 esi
  000c6	5b		 pop	 ebx
  000c7	8b e5		 mov	 esp, ebp
  000c9	5d		 pop	 ebp
  000ca	c2 18 00	 ret	 24			; 00000018H
?create_repair_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@PAU1@M22@Z ENDP ; create_repair_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv83 = -92						; size = 4
tv75 = -88						; size = 4
_pos$ = -20						; size = 4
_new_task$ = -16					; size = 4
_end_ks$ = -12						; size = 4
_start_ks$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_side$ = 8						; size = 4
_objective$ = 12					; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_recon_task, COMDAT

; 1410 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1411 : 
; 1412 : 	float
; 1413 : 		expire_time;
; 1414 : 
; 1415 : 	entity
; 1416 : 		*start_ks,
; 1417 : 		*end_ks,
; 1418 : 		*new_task;
; 1419 : 
; 1420 : 	vec3d
; 1421 : 		*pos;
; 1422 : 
; 1423 : 	ASSERT (objective);

  00009	83 7d 0c 00	 cmp	 DWORD PTR _objective$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@create_rec
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00014	83 c0 0d	 add	 eax, 13			; 0000000dH
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_09FKEDLGBF@objective@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_rec:

; 1424 : 
; 1425 : 	pos = get_local_entity_vec3d_ptr (objective, VEC3D_TYPE_POSITION);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _objective$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN7@create_rec
  0002d	8b 45 0c	 mov	 eax, DWORD PTR _objective$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d a8	 mov	 DWORD PTR tv75[ebp], ecx
  00035	eb 21		 jmp	 SHORT $LN8@create_rec
$LN7@create_rec:
  00037	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0003d	83 c2 0f	 add	 edx, 15			; 0000000fH
  00040	52		 push	 edx
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00051	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN8@create_rec:
  00058	b9 01 00 00 00	 mov	 ecx, 1
  0005d	85 c9		 test	 ecx, ecx
  0005f	74 09		 je	 SHORT $LN9@create_rec
  00061	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv83[ebp], 8
  00068	eb 21		 jmp	 SHORT $LN10@create_rec
$LN9@create_rec:
  0006a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00070	83 c2 0f	 add	 edx, 15			; 0000000fH
  00073	52		 push	 edx
  00074	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00084	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN10@create_rec:
  0008b	6a 08		 push	 8
  0008d	8b 4d 0c	 mov	 ecx, DWORD PTR _objective$[ebp]
  00090	51		 push	 ecx
  00091	6b 55 a8 60	 imul	 edx, DWORD PTR tv75[ebp], 96
  00095	8b 45 a4	 mov	 eax, DWORD PTR tv83[ebp]
  00098	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0009f	ff d1		 call	 ecx
  000a1	89 45 ec	 mov	 DWORD PTR _pos$[ebp], eax

; 1426 : 
; 1427 : 	start_ks = start_keysite;

  000a4	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000a7	89 45 f8	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1428 : 	end_ks = end_keysite;

  000aa	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000ad	89 45 f4	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1429 : 
; 1430 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_RECON, side, pos, &start_ks))

  000b0	8d 45 f8	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000b3	50		 push	 eax
  000b4	8b 4d ec	 mov	 ecx, DWORD PTR _pos$[ebp]
  000b7	51		 push	 ecx
  000b8	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000bb	52		 push	 edx
  000bc	6a 11		 push	 17			; 00000011H
  000be	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000c3	85 c0		 test	 eax, eax
  000c5	75 07		 jne	 SHORT $LN3@create_rec

; 1431 : 	{
; 1432 : 
; 1433 : 		return NULL;

  000c7	33 c0		 xor	 eax, eax
  000c9	e9 b9 00 00 00	 jmp	 $LN1@create_rec
$LN3@create_rec:

; 1434 : 	}
; 1435 : 
; 1436 : 	new_task = NULL;

  000ce	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1437 : 
; 1438 : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  000d5	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  000dc	74 20		 je	 SHORT $LN4@create_rec
  000de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  000e3	83 c0 1c	 add	 eax, 28			; 0000001cH
  000e6	50		 push	 eax
  000e7	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ec	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  000f1	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  000f6	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000fb	83 c4 10	 add	 esp, 16			; 00000010H
$LN4@create_rec:

; 1439 : 
; 1440 : 	#if DEBUG_MODULE >= 2
; 1441 : 
; 1442 : 	debug_log ("TASKGEN: creating side %d recon task to %s (%d)", side, get_local_entity_string (objective, STRING_TYPE_FULL_NAME), get_local_entity_index (objective));
; 1443 : 
; 1444 : 	#endif
; 1445 : 
; 1446 : 	ASSERT (pos);

  000fe	83 7d ec 00	 cmp	 DWORD PTR _pos$[ebp], 0
  00102	75 18		 jne	 SHORT $LN5@create_rec
  00104	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00109	83 c0 24	 add	 eax, 36			; 00000024H
  0010c	50		 push	 eax
  0010d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00112	68 00 00 00 00	 push	 OFFSET ??_C@_03PCBNCGFH@pos@
  00117	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_rec:

; 1447 : 
; 1448 : 	//
; 1449 : 	// Create recon task
; 1450 : 	//
; 1451 : 
; 1452 : 	expire_time = 10 * ONE_MINUTE;

  0011c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44160000
  00124	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1453 : 
; 1454 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_RECON,

  00129	6a 00		 push	 0
  0012b	6a 25		 push	 37			; 00000025H
  0012d	6a 00		 push	 0
  0012f	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00134	6a 02		 push	 2
  00136	6a 15		 push	 21			; 00000015H
  00138	6a 00		 push	 0
  0013a	8b 45 ec	 mov	 eax, DWORD PTR _pos$[ebp]
  0013d	50		 push	 eax
  0013e	51		 push	 ecx
  0013f	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00144	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00149	8b 4d 0c	 mov	 ecx, DWORD PTR _objective$[ebp]
  0014c	51		 push	 ecx
  0014d	51		 push	 ecx
  0014e	0f 57 c0	 xorps	 xmm0, xmm0
  00151	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00156	51		 push	 ecx
  00157	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0015c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00161	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00164	52		 push	 edx
  00165	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  00168	50		 push	 eax
  00169	8b 4d f4	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  0016c	51		 push	 ecx
  0016d	8b 55 f8	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00170	52		 push	 edx
  00171	6a 01		 push	 1
  00173	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00176	50		 push	 eax
  00177	6a 11		 push	 17			; 00000011H
  00179	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0017e	83 c4 4c	 add	 esp, 76			; 0000004cH
  00181	89 45 f0	 mov	 DWORD PTR _new_task$[ebp], eax

; 1455 : 									side,
; 1456 : 									MOVEMENT_TYPE_AIR,
; 1457 : 									start_ks,
; 1458 : 									end_ks,
; 1459 : 									originator,
; 1460 : 									critical,
; 1461 : 									expire_time,
; 1462 : 									0.0,
; 1463 : 									objective,
; 1464 : 									priority,
; 1465 : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_RECON, FORMATION_ROW_LEFT,
; 1466 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1467 : 
; 1468 : 	return new_task;

  00184	8b 45 f0	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_rec:

; 1469 : }

  00187	5f		 pop	 edi
  00188	5e		 pop	 esi
  00189	5b		 pop	 ebx
  0018a	8b e5		 mov	 esp, ebp
  0018c	5d		 pop	 ebp
  0018d	c2 1c 00	 ret	 28			; 0000001cH
?create_recon_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_recon_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv84 = -92						; size = 4
tv76 = -88						; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_pos$ = -12						; size = 4
_new_task$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_side$ = 8						; size = 4
_target$ = 12						; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_oca_sweep_task, COMDAT

; 1346 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1347 : 
; 1348 : 	float
; 1349 : 		expire_time;
; 1350 : 
; 1351 : 	entity
; 1352 : 		*new_task;
; 1353 : 
; 1354 : 	vec3d
; 1355 : 		*pos;
; 1356 : 
; 1357 : 	entity
; 1358 : 		*start_ks,
; 1359 : 		*end_ks;
; 1360 : 
; 1361 : 	new_task = NULL;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1362 : 
; 1363 : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_oca
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 11	 add	 eax, 17			; 00000011H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_oca:

; 1364 : 
; 1365 : 	pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00039	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  0003d	74 0a		 je	 SHORT $LN5@create_oca
  0003f	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  00042	8b 08		 mov	 ecx, DWORD PTR [eax]
  00044	89 4d a8	 mov	 DWORD PTR tv76[ebp], ecx
  00047	eb 21		 jmp	 SHORT $LN6@create_oca
$LN5@create_oca:
  00049	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0004f	83 c2 13	 add	 edx, 19			; 00000013H
  00052	52		 push	 edx
  00053	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00058	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00063	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv76[ebp], 0
$LN6@create_oca:
  0006a	b9 01 00 00 00	 mov	 ecx, 1
  0006f	85 c9		 test	 ecx, ecx
  00071	74 09		 je	 SHORT $LN7@create_oca
  00073	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv84[ebp], 8
  0007a	eb 21		 jmp	 SHORT $LN8@create_oca
$LN7@create_oca:
  0007c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00082	83 c2 13	 add	 edx, 19			; 00000013H
  00085	52		 push	 edx
  00086	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00090	50		 push	 eax
  00091	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00096	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN8@create_oca:
  0009d	6a 08		 push	 8
  0009f	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  000a2	51		 push	 ecx
  000a3	6b 55 a8 60	 imul	 edx, DWORD PTR tv76[ebp], 96
  000a7	8b 45 a4	 mov	 eax, DWORD PTR tv84[ebp]
  000aa	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000b1	ff d1		 call	 ecx
  000b3	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 1366 : 
; 1367 : 	start_ks = start_keysite;

  000b6	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000b9	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1368 : 	end_ks = end_keysite;

  000bc	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000bf	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1369 : 
; 1370 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_OCA_SWEEP, side, pos, &start_ks))

  000c2	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000c5	50		 push	 eax
  000c6	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  000c9	51		 push	 ecx
  000ca	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000cd	52		 push	 edx
  000ce	6a 10		 push	 16			; 00000010H
  000d0	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000d5	85 c0		 test	 eax, eax
  000d7	75 04		 jne	 SHORT $LN3@create_oca

; 1371 : 	{
; 1372 : 
; 1373 : 		return NULL;

  000d9	33 c0		 xor	 eax, eax
  000db	eb 6b		 jmp	 SHORT $LN1@create_oca
$LN3@create_oca:

; 1374 : 	}
; 1375 : 
; 1376 : 	//
; 1377 : 	// Create sweep task
; 1378 : 	//
; 1379 : 
; 1380 : 	#if DEBUG_MODULE >= 2
; 1381 : 
; 1382 : 	debug_log ("TASKGEN: creating side %d oca sweep task to keysite %s ", side, get_local_entity_string (target, STRING_TYPE_KEYSITE_NAME));
; 1383 : 
; 1384 : 	#endif
; 1385 : 
; 1386 : 	expire_time = 30 * ONE_MINUTE;

  000dd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44e10000
  000e5	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1387 : 
; 1388 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_OCA_SWEEP,

  000ea	6a 00		 push	 0
  000ec	6a 25		 push	 37			; 00000025H
  000ee	6a 00		 push	 0
  000f0	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  000f5	6a 02		 push	 2
  000f7	6a 01		 push	 1
  000f9	6a 00		 push	 0
  000fb	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  000fe	50		 push	 eax
  000ff	51		 push	 ecx
  00100	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00105	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010a	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  0010d	51		 push	 ecx
  0010e	51		 push	 ecx
  0010f	0f 57 c0	 xorps	 xmm0, xmm0
  00112	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00117	51		 push	 ecx
  00118	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0011d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00122	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00125	52		 push	 edx
  00126	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  00129	50		 push	 eax
  0012a	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  0012d	51		 push	 ecx
  0012e	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00131	52		 push	 edx
  00132	6a 01		 push	 1
  00134	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00137	50		 push	 eax
  00138	6a 10		 push	 16			; 00000010H
  0013a	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0013f	83 c4 4c	 add	 esp, 76			; 0000004cH
  00142	89 45 f8	 mov	 DWORD PTR _new_task$[ebp], eax

; 1389 : 									side,
; 1390 : 									MOVEMENT_TYPE_AIR,
; 1391 : 									start_ks,
; 1392 : 									end_ks,
; 1393 : 									originator,
; 1394 : 									critical,
; 1395 : 									expire_time,
; 1396 : 									0.0,
; 1397 : 									target,
; 1398 : 									priority,
; 1399 : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_ATTACK, FORMATION_ROW_LEFT,
; 1400 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1401 : 
; 1402 : 	return new_task;

  00145	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_oca:

; 1403 : }

  00148	5f		 pop	 edi
  00149	5e		 pop	 esi
  0014a	5b		 pop	 ebx
  0014b	8b e5		 mov	 esp, ebp
  0014d	5d		 pop	 ebp
  0014e	c2 1c 00	 ret	 28			; 0000001cH
?create_oca_sweep_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_oca_sweep_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv84 = -92						; size = 4
tv76 = -88						; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_pos$ = -12						; size = 4
_new_task$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_side$ = 8						; size = 4
_target$ = 12						; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_oca_strike_task, COMDAT

; 1282 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1283 : 
; 1284 : 	float
; 1285 : 		expire_time;
; 1286 : 
; 1287 : 	entity
; 1288 : 		*new_task;
; 1289 : 
; 1290 : 	vec3d
; 1291 : 		*pos;
; 1292 : 
; 1293 : 	entity
; 1294 : 		*start_ks,
; 1295 : 		*end_ks;
; 1296 : 
; 1297 : 	new_task = NULL;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1298 : 
; 1299 : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_oca
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 11	 add	 eax, 17			; 00000011H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_oca:

; 1300 : 
; 1301 : 	pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00039	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  0003d	74 0a		 je	 SHORT $LN5@create_oca
  0003f	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  00042	8b 08		 mov	 ecx, DWORD PTR [eax]
  00044	89 4d a8	 mov	 DWORD PTR tv76[ebp], ecx
  00047	eb 21		 jmp	 SHORT $LN6@create_oca
$LN5@create_oca:
  00049	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0004f	83 c2 13	 add	 edx, 19			; 00000013H
  00052	52		 push	 edx
  00053	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00058	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00063	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv76[ebp], 0
$LN6@create_oca:
  0006a	b9 01 00 00 00	 mov	 ecx, 1
  0006f	85 c9		 test	 ecx, ecx
  00071	74 09		 je	 SHORT $LN7@create_oca
  00073	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv84[ebp], 8
  0007a	eb 21		 jmp	 SHORT $LN8@create_oca
$LN7@create_oca:
  0007c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00082	83 c2 13	 add	 edx, 19			; 00000013H
  00085	52		 push	 edx
  00086	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00090	50		 push	 eax
  00091	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00096	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN8@create_oca:
  0009d	6a 08		 push	 8
  0009f	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  000a2	51		 push	 ecx
  000a3	6b 55 a8 60	 imul	 edx, DWORD PTR tv76[ebp], 96
  000a7	8b 45 a4	 mov	 eax, DWORD PTR tv84[ebp]
  000aa	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000b1	ff d1		 call	 ecx
  000b3	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 1302 : 
; 1303 : 	start_ks = start_keysite;

  000b6	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000b9	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1304 : 	end_ks = end_keysite;

  000bc	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000bf	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1305 : 
; 1306 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_OCA_STRIKE, side, pos, &start_ks))

  000c2	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000c5	50		 push	 eax
  000c6	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  000c9	51		 push	 ecx
  000ca	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000cd	52		 push	 edx
  000ce	6a 0f		 push	 15			; 0000000fH
  000d0	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000d5	85 c0		 test	 eax, eax
  000d7	75 04		 jne	 SHORT $LN3@create_oca

; 1307 : 	{
; 1308 : 
; 1309 : 		return NULL;

  000d9	33 c0		 xor	 eax, eax
  000db	eb 6b		 jmp	 SHORT $LN1@create_oca
$LN3@create_oca:

; 1310 : 	}
; 1311 : 
; 1312 : 	//
; 1313 : 	// Create strike task
; 1314 : 	//
; 1315 : 
; 1316 : 	#if DEBUG_MODULE >= 2
; 1317 : 
; 1318 : 	debug_log ("TASKGEN: creating side %d oca strike task to keysite %s ", side, get_local_entity_string (target, STRING_TYPE_KEYSITE_NAME));
; 1319 : 
; 1320 : 	#endif
; 1321 : 
; 1322 : 	expire_time = 30 * ONE_MINUTE;

  000dd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44e10000
  000e5	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1323 : 
; 1324 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_OCA_STRIKE,

  000ea	6a 00		 push	 0
  000ec	6a 25		 push	 37			; 00000025H
  000ee	6a 00		 push	 0
  000f0	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  000f5	6a 02		 push	 2
  000f7	6a 01		 push	 1
  000f9	6a 00		 push	 0
  000fb	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  000fe	50		 push	 eax
  000ff	51		 push	 ecx
  00100	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00105	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010a	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  0010d	51		 push	 ecx
  0010e	51		 push	 ecx
  0010f	0f 57 c0	 xorps	 xmm0, xmm0
  00112	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00117	51		 push	 ecx
  00118	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0011d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00122	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00125	52		 push	 edx
  00126	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  00129	50		 push	 eax
  0012a	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  0012d	51		 push	 ecx
  0012e	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00131	52		 push	 edx
  00132	6a 01		 push	 1
  00134	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00137	50		 push	 eax
  00138	6a 0f		 push	 15			; 0000000fH
  0013a	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0013f	83 c4 4c	 add	 esp, 76			; 0000004cH
  00142	89 45 f8	 mov	 DWORD PTR _new_task$[ebp], eax

; 1325 : 									side,
; 1326 : 									MOVEMENT_TYPE_AIR,
; 1327 : 									start_ks,
; 1328 : 									end_ks,
; 1329 : 									originator,
; 1330 : 									critical,
; 1331 : 									expire_time,
; 1332 : 									0.0,
; 1333 : 									target,
; 1334 : 									priority,
; 1335 : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_ATTACK, FORMATION_ROW_LEFT,
; 1336 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1337 : 
; 1338 : 	return new_task;

  00145	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_oca:

; 1339 : }

  00148	5f		 pop	 edi
  00149	5e		 pop	 esi
  0014a	5b		 pop	 ebx
  0014b	8b e5		 mov	 esp, ebp
  0014d	5d		 pop	 ebp
  0014e	c2 1c 00	 ret	 28			; 0000001cH
?create_oca_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_oca_strike_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv189 = -96						; size = 4
tv163 = -96						; size = 4
tv84 = -96						; size = 4
tv181 = -92						; size = 4
tv155 = -92						; size = 4
tv76 = -92						; size = 4
_efficiency$1 = -24					; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_pos$ = -12						; size = 4
_new_task$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_side$ = 8						; size = 4
_target$ = 12						; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_ground_strike_task, COMDAT

; 1206 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1207 : 
; 1208 : 	float
; 1209 : 		expire_time;
; 1210 : 
; 1211 : 	entity
; 1212 : 		*new_task;
; 1213 : 
; 1214 : 	vec3d
; 1215 : 		*pos;
; 1216 : 
; 1217 : 	entity
; 1218 : 		*start_ks,
; 1219 : 		*end_ks;
; 1220 : 
; 1221 : 	new_task = NULL;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1222 : 
; 1223 : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_gro
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 11	 add	 eax, 17			; 00000011H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_gro:

; 1224 : 
; 1225 : 	pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00039	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  0003d	74 0a		 je	 SHORT $LN7@create_gro
  0003f	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  00042	8b 08		 mov	 ecx, DWORD PTR [eax]
  00044	89 4d a4	 mov	 DWORD PTR tv76[ebp], ecx
  00047	eb 21		 jmp	 SHORT $LN8@create_gro
$LN7@create_gro:
  00049	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0004f	83 c2 13	 add	 edx, 19			; 00000013H
  00052	52		 push	 edx
  00053	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00058	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00063	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv76[ebp], 0
$LN8@create_gro:
  0006a	b9 01 00 00 00	 mov	 ecx, 1
  0006f	85 c9		 test	 ecx, ecx
  00071	74 09		 je	 SHORT $LN9@create_gro
  00073	c7 45 a0 08 00
	00 00		 mov	 DWORD PTR tv84[ebp], 8
  0007a	eb 21		 jmp	 SHORT $LN10@create_gro
$LN9@create_gro:
  0007c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00082	83 c2 13	 add	 edx, 19			; 00000013H
  00085	52		 push	 edx
  00086	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00090	50		 push	 eax
  00091	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00096	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN10@create_gro:
  0009d	6a 08		 push	 8
  0009f	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  000a2	51		 push	 ecx
  000a3	6b 55 a4 60	 imul	 edx, DWORD PTR tv76[ebp], 96
  000a7	8b 45 a0	 mov	 eax, DWORD PTR tv84[ebp]
  000aa	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000b1	ff d1		 call	 ecx
  000b3	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 1226 : 
; 1227 : 	start_ks = start_keysite;

  000b6	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000b9	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1228 : 	end_ks = end_keysite;

  000bc	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000bf	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1229 : 
; 1230 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_GROUND_STRIKE, side, pos, &start_ks))

  000c2	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000c5	50		 push	 eax
  000c6	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  000c9	51		 push	 ecx
  000ca	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000cd	52		 push	 edx
  000ce	6a 0c		 push	 12			; 0000000cH
  000d0	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000d5	85 c0		 test	 eax, eax
  000d7	75 07		 jne	 SHORT $LN3@create_gro

; 1231 : 	{
; 1232 : 
; 1233 : 		return NULL;

  000d9	33 c0		 xor	 eax, eax
  000db	e9 a7 01 00 00	 jmp	 $LN1@create_gro
$LN3@create_gro:

; 1234 : 	}
; 1235 : 
; 1236 : 	//
; 1237 : 	// Create strike task
; 1238 : 	//
; 1239 : 
; 1240 : 	#if DEBUG_MODULE >= 2
; 1241 : 
; 1242 : 	debug_log ("TASKGEN: creating side %d ground strike task to keysite %s ", side, get_local_entity_string (target, STRING_TYPE_KEYSITE_NAME));
; 1243 : 
; 1244 : 	#endif
; 1245 : 
; 1246 : 	expire_time = 40 * ONE_MINUTE;

  000e0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@45160000
  000e8	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1247 : 
; 1248 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_GROUND_STRIKE,

  000ed	6a 00		 push	 0
  000ef	6a 25		 push	 37			; 00000025H
  000f1	6a 00		 push	 0
  000f3	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  000f8	6a 02		 push	 2
  000fa	6a 01		 push	 1
  000fc	6a 00		 push	 0
  000fe	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  00101	50		 push	 eax
  00102	51		 push	 ecx
  00103	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00108	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010d	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  00110	51		 push	 ecx
  00111	51		 push	 ecx
  00112	0f 57 c0	 xorps	 xmm0, xmm0
  00115	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0011a	51		 push	 ecx
  0011b	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  00120	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00125	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00128	52		 push	 edx
  00129	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  0012c	50		 push	 eax
  0012d	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  00130	51		 push	 ecx
  00131	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00134	52		 push	 edx
  00135	6a 01		 push	 1
  00137	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  0013a	50		 push	 eax
  0013b	6a 0c		 push	 12			; 0000000cH
  0013d	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00142	83 c4 4c	 add	 esp, 76			; 0000004cH
  00145	89 45 f8	 mov	 DWORD PTR _new_task$[ebp], eax

; 1249 : 									side,
; 1250 : 									MOVEMENT_TYPE_AIR,
; 1251 : 									start_ks,
; 1252 : 									end_ks,
; 1253 : 									originator,
; 1254 : 									critical,
; 1255 : 									expire_time,
; 1256 : 									0.0,
; 1257 : 									target,
; 1258 : 									priority,
; 1259 : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_ATTACK, FORMATION_ROW_LEFT,
; 1260 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1261 : 
; 1262 : 	if (new_task)

  00148	83 7d f8 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  0014c	0f 84 32 01 00
	00		 je	 $LN4@create_gro

; 1263 : 	{
; 1264 : 		float
; 1265 : 			efficiency;
; 1266 : 			
; 1267 : 		efficiency = get_local_entity_float_value (target, FLOAT_TYPE_EFFICIENCY);

  00152	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  00156	74 0a		 je	 SHORT $LN11@create_gro
  00158	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  0015b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0015d	89 4d a4	 mov	 DWORD PTR tv155[ebp], ecx
  00160	eb 21		 jmp	 SHORT $LN12@create_gro
$LN11@create_gro:
  00162	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00168	83 c2 3d	 add	 edx, 61			; 0000003dH
  0016b	52		 push	 edx
  0016c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00171	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00176	50		 push	 eax
  00177	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0017c	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN12@create_gro:
  00183	b9 01 00 00 00	 mov	 ecx, 1
  00188	85 c9		 test	 ecx, ecx
  0018a	74 09		 je	 SHORT $LN13@create_gro
  0018c	c7 45 a0 21 00
	00 00		 mov	 DWORD PTR tv163[ebp], 33 ; 00000021H
  00193	eb 21		 jmp	 SHORT $LN14@create_gro
$LN13@create_gro:
  00195	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0019b	83 c2 3d	 add	 edx, 61			; 0000003dH
  0019e	52		 push	 edx
  0019f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  001a9	50		 push	 eax
  001aa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001af	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv163[ebp], 0
$LN14@create_gro:
  001b6	6a 21		 push	 33			; 00000021H
  001b8	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  001bb	51		 push	 ecx
  001bc	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv155[ebp], 700
  001c3	8b 45 a0	 mov	 eax, DWORD PTR tv163[ebp]
  001c6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  001cd	ff d1		 call	 ecx
  001cf	d9 5d e8	 fstp	 DWORD PTR _efficiency$1[ebp]

; 1268 : 
; 1269 : 		ASSERT (efficiency > 0.0);

  001d2	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _efficiency$1[ebp]
  001d7	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  001df	77 18		 ja	 SHORT $LN5@create_gro
  001e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001e6	83 c0 3f	 add	 eax, 63			; 0000003fH
  001e9	50		 push	 eax
  001ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ef	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@IKOILMEM@efficiency?5?$DO?50?40@
  001f4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_gro:

; 1270 : 
; 1271 : 		set_local_entity_float_value (new_task, FLOAT_TYPE_TASK_USER_DATA, efficiency);

  001f9	83 7d f8 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  001fd	74 0a		 je	 SHORT $LN15@create_gro
  001ff	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
  00202	8b 08		 mov	 ecx, DWORD PTR [eax]
  00204	89 4d a4	 mov	 DWORD PTR tv181[ebp], ecx
  00207	eb 21		 jmp	 SHORT $LN16@create_gro
$LN15@create_gro:
  00209	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0020f	83 c2 41	 add	 edx, 65			; 00000041H
  00212	52		 push	 edx
  00213	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00218	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0021d	50		 push	 eax
  0021e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00223	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv181[ebp], 0
$LN16@create_gro:
  0022a	b9 01 00 00 00	 mov	 ecx, 1
  0022f	85 c9		 test	 ecx, ecx
  00231	74 09		 je	 SHORT $LN17@create_gro
  00233	c7 45 a0 8c 00
	00 00		 mov	 DWORD PTR tv189[ebp], 140 ; 0000008cH
  0023a	eb 21		 jmp	 SHORT $LN18@create_gro
$LN17@create_gro:
  0023c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00242	83 c2 41	 add	 edx, 65			; 00000041H
  00245	52		 push	 edx
  00246	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0024b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00250	50		 push	 eax
  00251	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00256	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv189[ebp], 0
$LN18@create_gro:
  0025d	51		 push	 ecx
  0025e	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _efficiency$1[ebp]
  00263	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00268	68 8c 00 00 00	 push	 140			; 0000008cH
  0026d	8b 4d f8	 mov	 ecx, DWORD PTR _new_task$[ebp]
  00270	51		 push	 ecx
  00271	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv181[ebp], 700
  00278	8b 45 a0	 mov	 eax, DWORD PTR tv189[ebp]
  0027b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  00282	ff d1		 call	 ecx
$LN4@create_gro:

; 1272 : 	}
; 1273 : 
; 1274 : 	return new_task;

  00284	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_gro:

; 1275 : }

  00287	5f		 pop	 edi
  00288	5e		 pop	 esi
  00289	5b		 pop	 ebx
  0028a	8b e5		 mov	 esp, ebp
  0028c	5d		 pop	 ebp
  0028d	c2 1c 00	 ret	 28			; 0000001cH
?create_ground_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_ground_strike_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_ground_force_task@@YGPAUENTITY@@HPAU1@HHM00@Z
_TEXT	SEGMENT
tv160 = -108						; size = 4
tv140 = -108						; size = 4
tv78 = -108						; size = 4
tv152 = -104						; size = 4
tv132 = -104						; size = 4
tv70 = -104						; size = 4
_side$ = -36						; size = 4
_end_ks$ = -32						; size = 4
_start_ks$ = -28					; size = 4
_stop$ = -24						; size = 4
_start$ = -20						; size = 4
_member$ = -16						; size = 4
_new_task$ = -12					; size = 4
_original_formation$ = -8				; size = 4
_expire_time$ = -4					; size = 4
_type$ = 8						; size = 4
_group$ = 12						; size = 4
_from_node$ = 16					; size = 4
_to_node$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_ground_force_task@@YGPAUENTITY@@HPAU1@HHM00@Z PROC ; create_ground_force_task, COMDAT

; 1126 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 6c	 sub	 esp, 108		; 0000006cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1127 : 
; 1128 : 	float
; 1129 : 		expire_time;
; 1130 : 
; 1131 : 	formation_types
; 1132 : 		original_formation;
; 1133 : 
; 1134 : 	entity
; 1135 : 		*new_task,
; 1136 : 		*member;
; 1137 : 
; 1138 : 	vec3d
; 1139 : 		*start,
; 1140 : 		*stop;
; 1141 : 
; 1142 : 	entity
; 1143 : 		*start_ks,
; 1144 : 		*end_ks;
; 1145 : 
; 1146 : 	entity_sides
; 1147 : 		side;
; 1148 : 
; 1149 : 	new_task = NULL;

  00009	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1150 : 
; 1151 : 	side = (entity_sides) get_local_entity_int_value (group, INT_TYPE_SIDE);

  00010	83 7d 0c 00	 cmp	 DWORD PTR _group$[ebp], 0
  00014	74 0a		 je	 SHORT $LN5@create_gro
  00016	8b 45 0c	 mov	 eax, DWORD PTR _group$[ebp]
  00019	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001b	89 4d 98	 mov	 DWORD PTR tv70[ebp], ecx
  0001e	eb 21		 jmp	 SHORT $LN6@create_gro
$LN5@create_gro:
  00020	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
  00026	83 c2 19	 add	 edx, 25			; 00000019H
  00029	52		 push	 edx
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	50		 push	 eax
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN6@create_gro:
  00041	b9 01 00 00 00	 mov	 ecx, 1
  00046	85 c9		 test	 ecx, ecx
  00048	74 09		 je	 SHORT $LN7@create_gro
  0004a	c7 45 94 bb 00
	00 00		 mov	 DWORD PTR tv78[ebp], 187 ; 000000bbH
  00051	eb 21		 jmp	 SHORT $LN8@create_gro
$LN7@create_gro:
  00053	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
  00059	83 c2 19	 add	 edx, 25			; 00000019H
  0005c	52		 push	 edx
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00067	50		 push	 eax
  00068	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006d	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN8@create_gro:
  00074	68 bb 00 00 00	 push	 187			; 000000bbH
  00079	8b 4d 0c	 mov	 ecx, DWORD PTR _group$[ebp]
  0007c	51		 push	 ecx
  0007d	69 55 98 5c 04
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 1116
  00084	8b 45 94	 mov	 eax, DWORD PTR tv78[ebp]
  00087	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0008e	ff d1		 call	 ecx
  00090	89 45 dc	 mov	 DWORD PTR _side$[ebp], eax

; 1152 : 
; 1153 : 	start = &road_node_positions [from_node];

  00093	6b 45 10 0c	 imul	 eax, DWORD PTR _from_node$[ebp], 12
  00097	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?road_node_positions@@3PAUVEC3D@@A ; road_node_positions
  0009d	89 45 ec	 mov	 DWORD PTR _start$[ebp], eax

; 1154 : 	stop = &road_node_positions [to_node];

  000a0	6b 45 14 0c	 imul	 eax, DWORD PTR _to_node$[ebp], 12
  000a4	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?road_node_positions@@3PAUVEC3D@@A ; road_node_positions
  000aa	89 45 e8	 mov	 DWORD PTR _stop$[ebp], eax

; 1155 : 
; 1156 : 	start_ks = start_keysite;

  000ad	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000b0	89 45 e4	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1157 : 	end_ks = end_keysite;

  000b3	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000b6	89 45 e0	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1158 : 
; 1159 : 	if (!get_task_start_keysite (type, side, start, &start_ks))

  000b9	8d 45 e4	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000bc	50		 push	 eax
  000bd	8b 4d ec	 mov	 ecx, DWORD PTR _start$[ebp]
  000c0	51		 push	 ecx
  000c1	8b 55 dc	 mov	 edx, DWORD PTR _side$[ebp]
  000c4	52		 push	 edx
  000c5	8b 45 08	 mov	 eax, DWORD PTR _type$[ebp]
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000ce	85 c0		 test	 eax, eax
  000d0	75 07		 jne	 SHORT $LN2@create_gro

; 1160 : 	{
; 1161 : 
; 1162 : 		return NULL;

  000d2	33 c0		 xor	 eax, eax
  000d4	e9 ab 01 00 00	 jmp	 $LN1@create_gro
$LN2@create_gro:

; 1163 : 	}
; 1164 : 
; 1165 : 	expire_time = 12 * ONE_HOUR;

  000d9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4728c000
  000e1	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1166 : 
; 1167 : 	member = get_local_entity_first_child (group, LIST_TYPE_MEMBER);

  000e6	83 7d 0c 00	 cmp	 DWORD PTR _group$[ebp], 0
  000ea	74 0a		 je	 SHORT $LN9@create_gro
  000ec	8b 45 0c	 mov	 eax, DWORD PTR _group$[ebp]
  000ef	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f1	89 4d 98	 mov	 DWORD PTR tv132[ebp], ecx
  000f4	eb 21		 jmp	 SHORT $LN10@create_gro
$LN9@create_gro:
  000f6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
  000fc	83 c2 29	 add	 edx, 41			; 00000029H
  000ff	52		 push	 edx
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00110	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv132[ebp], 0
$LN10@create_gro:
  00117	b9 01 00 00 00	 mov	 ecx, 1
  0011c	85 c9		 test	 ecx, ecx
  0011e	74 09		 je	 SHORT $LN11@create_gro
  00120	c7 45 94 19 00
	00 00		 mov	 DWORD PTR tv140[ebp], 25 ; 00000019H
  00127	eb 21		 jmp	 SHORT $LN12@create_gro
$LN11@create_gro:
  00129	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
  0012f	83 c2 29	 add	 edx, 41			; 00000029H
  00132	52		 push	 edx
  00133	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00138	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0013d	50		 push	 eax
  0013e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00143	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv140[ebp], 0
$LN12@create_gro:
  0014a	6a 19		 push	 25			; 00000019H
  0014c	8b 4d 0c	 mov	 ecx, DWORD PTR _group$[ebp]
  0014f	51		 push	 ecx
  00150	69 55 98 b4 00
	00 00		 imul	 edx, DWORD PTR tv132[ebp], 180
  00157	8b 45 94	 mov	 eax, DWORD PTR tv140[ebp]
  0015a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00161	ff d1		 call	 ecx
  00163	89 45 f0	 mov	 DWORD PTR _member$[ebp], eax

; 1168 : 
; 1169 : 	original_formation = (formation_types) get_local_entity_int_value (group, INT_TYPE_GROUP_FORMATION);

  00166	83 7d 0c 00	 cmp	 DWORD PTR _group$[ebp], 0
  0016a	74 0a		 je	 SHORT $LN13@create_gro
  0016c	8b 45 0c	 mov	 eax, DWORD PTR _group$[ebp]
  0016f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00171	89 4d 98	 mov	 DWORD PTR tv152[ebp], ecx
  00174	eb 21		 jmp	 SHORT $LN14@create_gro
$LN13@create_gro:
  00176	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
  0017c	83 c2 2b	 add	 edx, 43			; 0000002bH
  0017f	52		 push	 edx
  00180	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00185	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0018a	50		 push	 eax
  0018b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00190	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv152[ebp], 0
$LN14@create_gro:
  00197	b9 01 00 00 00	 mov	 ecx, 1
  0019c	85 c9		 test	 ecx, ecx
  0019e	74 09		 je	 SHORT $LN15@create_gro
  001a0	c7 45 94 47 00
	00 00		 mov	 DWORD PTR tv160[ebp], 71 ; 00000047H
  001a7	eb 21		 jmp	 SHORT $LN16@create_gro
$LN15@create_gro:
  001a9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
  001af	83 c2 2b	 add	 edx, 43			; 0000002bH
  001b2	52		 push	 edx
  001b3	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001bd	50		 push	 eax
  001be	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c3	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
$LN16@create_gro:
  001ca	6a 47		 push	 71			; 00000047H
  001cc	8b 4d 0c	 mov	 ecx, DWORD PTR _group$[ebp]
  001cf	51		 push	 ecx
  001d0	69 55 98 5c 04
	00 00		 imul	 edx, DWORD PTR tv152[ebp], 1116
  001d7	8b 45 94	 mov	 eax, DWORD PTR tv160[ebp]
  001da	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  001e1	ff d1		 call	 ecx
  001e3	89 45 f8	 mov	 DWORD PTR _original_formation$[ebp], eax

; 1170 : 
; 1171 : 	ASSERT (original_formation <= get_formation_database_count ());

  001e6	e8 00 00 00 00	 call	 ?get_formation_database_count@@YGHXZ ; get_formation_database_count
  001eb	39 45 f8	 cmp	 DWORD PTR _original_formation$[ebp], eax
  001ee	7e 18		 jle	 SHORT $LN3@create_gro
  001f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_ground_force_task@@YGPAUENTITY@@HPAU2@HHM00@Z@4JA
  001f5	83 c0 2d	 add	 eax, 45			; 0000002dH
  001f8	50		 push	 eax
  001f9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001fe	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@GEIBGDDC@original_formation?5?$DM?$DN?5get_forma@
  00203	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_gro:

; 1172 : 
; 1173 : 	//
; 1174 : 	// Reset members formation positions so they close-up the convoy if one of them is destroyed.
; 1175 : 	//
; 1176 : 
; 1177 : 	//set_local_group_member_formation_positions (group);
; 1178 : 
; 1179 : 	// NB. check task frequency ?
; 1180 : 
; 1181 : 	new_task = create_task (type,

  00208	6a 00		 push	 0
  0020a	6a 25		 push	 37			; 00000025H
  0020c	6a 00		 push	 0
  0020e	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00213	8b 45 f8	 mov	 eax, DWORD PTR _original_formation$[ebp]
  00216	50		 push	 eax
  00217	6a 05		 push	 5
  00219	6a 00		 push	 0
  0021b	8b 4d e8	 mov	 ecx, DWORD PTR _stop$[ebp]
  0021e	51		 push	 ecx
  0021f	6a 01		 push	 1
  00221	6a 17		 push	 23			; 00000017H
  00223	6a 00		 push	 0
  00225	8b 55 e8	 mov	 edx, DWORD PTR _stop$[ebp]
  00228	52		 push	 edx
  00229	6a 01		 push	 1
  0022b	6a 19		 push	 25			; 00000019H
  0022d	6a 00		 push	 0
  0022f	8b 45 ec	 mov	 eax, DWORD PTR _start$[ebp]
  00232	50		 push	 eax
  00233	8b 4d f8	 mov	 ecx, DWORD PTR _original_formation$[ebp]
  00236	51		 push	 ecx
  00237	6a 04		 push	 4
  00239	6a 00		 push	 0
  0023b	8b 55 ec	 mov	 edx, DWORD PTR _start$[ebp]
  0023e	52		 push	 edx
  0023f	51		 push	 ecx
  00240	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00245	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024a	6a 00		 push	 0
  0024c	51		 push	 ecx
  0024d	0f 57 c0	 xorps	 xmm0, xmm0
  00250	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00255	51		 push	 ecx
  00256	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0025b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00260	6a 01		 push	 1
  00262	6a 00		 push	 0
  00264	8b 45 e0	 mov	 eax, DWORD PTR _end_ks$[ebp]
  00267	50		 push	 eax
  00268	8b 4d e4	 mov	 ecx, DWORD PTR _start_ks$[ebp]
  0026b	51		 push	 ecx
  0026c	6a 02		 push	 2
  0026e	8b 55 dc	 mov	 edx, DWORD PTR _side$[ebp]
  00271	52		 push	 edx
  00272	8b 45 08	 mov	 eax, DWORD PTR _type$[ebp]
  00275	50		 push	 eax
  00276	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0027b	83 c4 7c	 add	 esp, 124		; 0000007cH
  0027e	89 45 f4	 mov	 DWORD PTR _new_task$[ebp], eax

; 1182 : 									side,
; 1183 : 									MOVEMENT_TYPE_GROUND,
; 1184 : 									start_ks,
; 1185 : 									end_ks,
; 1186 : 									NULL,
; 1187 : 									TRUE,
; 1188 : 									expire_time,
; 1189 : 									0.0,
; 1190 : 									NULL,
; 1191 : 									priority,
; 1192 : 									start, NULL, ENTITY_SUB_TYPE_WAYPOINT_CONVOY, original_formation,
; 1193 : 									start, NULL, ENTITY_SUB_TYPE_WAYPOINT_SUB_ROUTE_NAVIGATION, FORMATION_1,
; 1194 : 									stop, NULL, ENTITY_SUB_TYPE_WAYPOINT_REVERSE_CONVOY, FORMATION_1,
; 1195 : 									stop, NULL, ENTITY_SUB_TYPE_WAYPOINT_DEFEND, original_formation,
; 1196 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1197 : 
; 1198 : 	return new_task;

  00281	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_gro:

; 1199 : }

  00284	5f		 pop	 edi
  00285	5e		 pop	 esi
  00286	5b		 pop	 ebx
  00287	8b e5		 mov	 esp, ebp
  00289	5d		 pop	 ebp
  0028a	c2 1c 00	 ret	 28			; 0000001cH
?create_ground_force_task@@YGPAUENTITY@@HPAU1@HHM00@Z ENDP ; create_ground_force_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_escort_task@@YGPAUENTITY@@PAU1@HM00@Z
_TEXT	SEGMENT
tv270 = -104						; size = 4
tv260 = -100						; size = 4
tv237 = -100						; size = 4
tv211 = -100						; size = 4
tv152 = -100						; size = 4
tv132 = -100						; size = 4
tv252 = -96						; size = 4
tv229 = -96						; size = 4
tv203 = -96						; size = 4
tv191 = -96						; size = 4
tv144 = -96						; size = 4
tv92 = -96						; size = 4
tv75 = -96						; size = 4
_count$1 = -28						; size = 4
_side$ = -24						; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_new_task$ = -12					; size = 4
_start$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_group$ = 8						; size = 4
_critical$ = 12						; size = 4
_priority$ = 16						; size = 4
_start_keysite$ = 20					; size = 4
_end_keysite$ = 24					; size = 4
?create_escort_task@@YGPAUENTITY@@PAU1@HM00@Z PROC	; create_escort_task, COMDAT

; 1032 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 68	 sub	 esp, 104		; 00000068H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1033 : 
; 1034 : 	float
; 1035 : 		expire_time;
; 1036 : 
; 1037 : 	vec3d
; 1038 : 		*start;
; 1039 : 
; 1040 : 	entity
; 1041 : 		*new_task;
; 1042 : 
; 1043 : 	entity
; 1044 : 		*start_ks,
; 1045 : 		*end_ks;
; 1046 : 
; 1047 : 	entity_sides
; 1048 : 		side;
; 1049 : 
; 1050 : 	ASSERT (group);

  00009	83 7d 08 00	 cmp	 DWORD PTR _group$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@create_esc
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00014	83 c0 12	 add	 eax, 18			; 00000012H
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_05MGJOOGAJ@group@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_esc:

; 1051 : 
; 1052 : 	ASSERT (get_local_entity_type (group) == ENTITY_TYPE_GROUP);

  00027	83 7d 08 00	 cmp	 DWORD PTR _group$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN10@create_esc
  0002d	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d a0	 mov	 DWORD PTR tv75[ebp], ecx
  00035	eb 21		 jmp	 SHORT $LN11@create_esc
$LN10@create_esc:
  00037	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  0003d	83 c2 14	 add	 edx, 20			; 00000014H
  00040	52		 push	 edx
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00051	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN11@create_esc:
  00058	83 7d a0 0c	 cmp	 DWORD PTR tv75[ebp], 12	; 0000000cH
  0005c	74 18		 je	 SHORT $LN3@create_esc
  0005e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00063	83 c0 14	 add	 eax, 20			; 00000014H
  00066	50		 push	 eax
  00067	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006c	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@GDEINBAL@get_local_entity_type?5?$CIgroup?$CJ?5?$DN@
  00071	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_esc:

; 1053 : 
; 1054 : 	ASSERT (get_comms_model () == COMMS_MODEL_SERVER);

  00076	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  0007d	74 18		 je	 SHORT $LN4@create_esc
  0007f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00084	83 c0 16	 add	 eax, 22			; 00000016H
  00087	50		 push	 eax
  00088	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008d	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  00092	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_esc:

; 1055 : 
; 1056 : 	new_task = NULL;

  00097	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 1057 : 
; 1058 : 	expire_time = 15 * ONE_MINUTE;

  0009e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44610000
  000a6	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1059 : 
; 1060 : 	start = get_local_entity_vec3d_ptr (group, VEC3D_TYPE_POSITION);

  000ab	83 7d 08 00	 cmp	 DWORD PTR _group$[ebp], 0
  000af	74 0a		 je	 SHORT $LN12@create_esc
  000b1	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  000b4	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b6	89 4d a0	 mov	 DWORD PTR tv92[ebp], ecx
  000b9	eb 21		 jmp	 SHORT $LN13@create_esc
$LN12@create_esc:
  000bb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  000c1	83 c2 1c	 add	 edx, 28			; 0000001cH
  000c4	52		 push	 edx
  000c5	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000cf	50		 push	 eax
  000d0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d5	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv92[ebp], 0
$LN13@create_esc:
  000dc	b9 01 00 00 00	 mov	 ecx, 1
  000e1	85 c9		 test	 ecx, ecx
  000e3	74 09		 je	 SHORT $LN14@create_esc
  000e5	c7 45 9c 08 00
	00 00		 mov	 DWORD PTR tv132[ebp], 8
  000ec	eb 21		 jmp	 SHORT $LN15@create_esc
$LN14@create_esc:
  000ee	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  000f4	83 c2 1c	 add	 edx, 28			; 0000001cH
  000f7	52		 push	 edx
  000f8	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00108	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv132[ebp], 0
$LN15@create_esc:
  0010f	6a 08		 push	 8
  00111	8b 4d 08	 mov	 ecx, DWORD PTR _group$[ebp]
  00114	51		 push	 ecx
  00115	6b 55 a0 60	 imul	 edx, DWORD PTR tv92[ebp], 96
  00119	8b 45 9c	 mov	 eax, DWORD PTR tv132[ebp]
  0011c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00123	ff d1		 call	 ecx
  00125	89 45 f8	 mov	 DWORD PTR _start$[ebp], eax

; 1061 : 
; 1062 : 	side = (entity_sides) get_local_entity_int_value (group, INT_TYPE_SIDE);

  00128	83 7d 08 00	 cmp	 DWORD PTR _group$[ebp], 0
  0012c	74 0a		 je	 SHORT $LN16@create_esc
  0012e	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  00131	8b 08		 mov	 ecx, DWORD PTR [eax]
  00133	89 4d a0	 mov	 DWORD PTR tv144[ebp], ecx
  00136	eb 21		 jmp	 SHORT $LN17@create_esc
$LN16@create_esc:
  00138	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  0013e	83 c2 1e	 add	 edx, 30			; 0000001eH
  00141	52		 push	 edx
  00142	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0014c	50		 push	 eax
  0014d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00152	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv144[ebp], 0
$LN17@create_esc:
  00159	b9 01 00 00 00	 mov	 ecx, 1
  0015e	85 c9		 test	 ecx, ecx
  00160	74 09		 je	 SHORT $LN18@create_esc
  00162	c7 45 9c bb 00
	00 00		 mov	 DWORD PTR tv152[ebp], 187 ; 000000bbH
  00169	eb 21		 jmp	 SHORT $LN19@create_esc
$LN18@create_esc:
  0016b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00171	83 c2 1e	 add	 edx, 30			; 0000001eH
  00174	52		 push	 edx
  00175	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0017f	50		 push	 eax
  00180	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00185	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv152[ebp], 0
$LN19@create_esc:
  0018c	68 bb 00 00 00	 push	 187			; 000000bbH
  00191	8b 4d 08	 mov	 ecx, DWORD PTR _group$[ebp]
  00194	51		 push	 ecx
  00195	69 55 a0 5c 04
	00 00		 imul	 edx, DWORD PTR tv144[ebp], 1116
  0019c	8b 45 9c	 mov	 eax, DWORD PTR tv152[ebp]
  0019f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  001a6	ff d1		 call	 ecx
  001a8	89 45 e8	 mov	 DWORD PTR _side$[ebp], eax

; 1063 : 
; 1064 : 	start_ks = start_keysite;

  001ab	8b 45 14	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  001ae	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 1065 : 	end_ks = end_keysite;

  001b1	8b 45 18	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  001b4	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1066 : 
; 1067 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_ESCORT, side, start, &start_ks))

  001b7	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  001ba	50		 push	 eax
  001bb	8b 4d f8	 mov	 ecx, DWORD PTR _start$[ebp]
  001be	51		 push	 ecx
  001bf	8b 55 e8	 mov	 edx, DWORD PTR _side$[ebp]
  001c2	52		 push	 edx
  001c3	6a 0a		 push	 10			; 0000000aH
  001c5	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  001ca	85 c0		 test	 eax, eax
  001cc	75 07		 jne	 SHORT $LN5@create_esc

; 1068 : 	{
; 1069 : 
; 1070 : 		return NULL;

  001ce	33 c0		 xor	 eax, eax
  001d0	e9 aa 02 00 00	 jmp	 $LN1@create_esc
$LN5@create_esc:

; 1071 : 	}
; 1072 : 
; 1073 : 	//
; 1074 : 	// REACTIONARY TASK CREATION
; 1075 : 	//
; 1076 : 
; 1077 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_ESCORT,

  001d5	6a 00		 push	 0
  001d7	6a 25		 push	 37			; 00000025H
  001d9	6a 00		 push	 0
  001db	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  001e0	6a 02		 push	 2
  001e2	6a 08		 push	 8
  001e4	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  001e7	50		 push	 eax
  001e8	8b 4d f8	 mov	 ecx, DWORD PTR _start$[ebp]
  001eb	51		 push	 ecx
  001ec	51		 push	 ecx
  001ed	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _priority$[ebp]
  001f2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001f7	8b 55 08	 mov	 edx, DWORD PTR _group$[ebp]
  001fa	52		 push	 edx
  001fb	51		 push	 ecx
  001fc	0f 57 c0	 xorps	 xmm0, xmm0
  001ff	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00204	51		 push	 ecx
  00205	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0020a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0020f	8b 45 0c	 mov	 eax, DWORD PTR _critical$[ebp]
  00212	50		 push	 eax
  00213	8b 4d 08	 mov	 ecx, DWORD PTR _group$[ebp]
  00216	51		 push	 ecx
  00217	8b 55 ec	 mov	 edx, DWORD PTR _end_ks$[ebp]
  0021a	52		 push	 edx
  0021b	8b 45 f0	 mov	 eax, DWORD PTR _start_ks$[ebp]
  0021e	50		 push	 eax
  0021f	6a 01		 push	 1
  00221	8b 4d e8	 mov	 ecx, DWORD PTR _side$[ebp]
  00224	51		 push	 ecx
  00225	6a 0a		 push	 10			; 0000000aH
  00227	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0022c	83 c4 4c	 add	 esp, 76			; 0000004cH
  0022f	89 45 f4	 mov	 DWORD PTR _new_task$[ebp], eax

; 1078 : 									side,
; 1079 : 									MOVEMENT_TYPE_AIR,
; 1080 : 									start_ks,
; 1081 : 									end_ks,
; 1082 : 									group,
; 1083 : 									critical,
; 1084 : 									expire_time,
; 1085 : 									0.0,
; 1086 : 									group,
; 1087 : 									priority,
; 1088 : 									start, group, ENTITY_SUB_TYPE_WAYPOINT_ESCORT, FORMATION_ROW_LEFT,
; 1089 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1090 : 
; 1091 : 	if (new_task)

  00232	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  00236	0f 84 89 01 00
	00		 je	 $LN6@create_esc

; 1092 : 	{
; 1093 : 		float
; 1094 : 			count;
; 1095 : 
; 1096 : 		//
; 1097 : 		// store current group member count
; 1098 : 		//
; 1099 : 
; 1100 : 		ASSERT (get_local_entity_type (group) == ENTITY_TYPE_GROUP);

  0023c	83 7d 08 00	 cmp	 DWORD PTR _group$[ebp], 0
  00240	74 0a		 je	 SHORT $LN20@create_esc
  00242	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  00245	8b 08		 mov	 ecx, DWORD PTR [eax]
  00247	89 4d a0	 mov	 DWORD PTR tv191[ebp], ecx
  0024a	eb 21		 jmp	 SHORT $LN21@create_esc
$LN20@create_esc:
  0024c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00252	83 c2 44	 add	 edx, 68			; 00000044H
  00255	52		 push	 edx
  00256	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0025b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00260	50		 push	 eax
  00261	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00266	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv191[ebp], 0
$LN21@create_esc:
  0026d	83 7d a0 0c	 cmp	 DWORD PTR tv191[ebp], 12 ; 0000000cH
  00271	74 18		 je	 SHORT $LN7@create_esc
  00273	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00278	83 c0 44	 add	 eax, 68			; 00000044H
  0027b	50		 push	 eax
  0027c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00281	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@GDEINBAL@get_local_entity_type?5?$CIgroup?$CJ?5?$DN@
  00286	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@create_esc:

; 1101 : 
; 1102 : 		count = get_local_entity_int_value (group, INT_TYPE_MEMBER_COUNT);

  0028b	83 7d 08 00	 cmp	 DWORD PTR _group$[ebp], 0
  0028f	74 0a		 je	 SHORT $LN22@create_esc
  00291	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  00294	8b 08		 mov	 ecx, DWORD PTR [eax]
  00296	89 4d a0	 mov	 DWORD PTR tv203[ebp], ecx
  00299	eb 21		 jmp	 SHORT $LN23@create_esc
$LN22@create_esc:
  0029b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  002a1	83 c2 46	 add	 edx, 70			; 00000046H
  002a4	52		 push	 edx
  002a5	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002af	50		 push	 eax
  002b0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b5	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv203[ebp], 0
$LN23@create_esc:
  002bc	b9 01 00 00 00	 mov	 ecx, 1
  002c1	85 c9		 test	 ecx, ecx
  002c3	74 09		 je	 SHORT $LN24@create_esc
  002c5	c7 45 9c 86 00
	00 00		 mov	 DWORD PTR tv211[ebp], 134 ; 00000086H
  002cc	eb 21		 jmp	 SHORT $LN25@create_esc
$LN24@create_esc:
  002ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  002d4	83 c2 46	 add	 edx, 70			; 00000046H
  002d7	52		 push	 edx
  002d8	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002e2	50		 push	 eax
  002e3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002e8	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv211[ebp], 0
$LN25@create_esc:
  002ef	68 86 00 00 00	 push	 134			; 00000086H
  002f4	8b 4d 08	 mov	 ecx, DWORD PTR _group$[ebp]
  002f7	51		 push	 ecx
  002f8	69 55 a0 5c 04
	00 00		 imul	 edx, DWORD PTR tv203[ebp], 1116
  002ff	8b 45 9c	 mov	 eax, DWORD PTR tv211[ebp]
  00302	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00309	ff d1		 call	 ecx
  0030b	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  0030f	f3 0f 11 45 e4	 movss	 DWORD PTR _count$1[ebp], xmm0

; 1103 : 
; 1104 : 		ASSERT (count > 0);

  00314	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _count$1[ebp]
  00319	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  00320	77 18		 ja	 SHORT $LN8@create_esc
  00322	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00327	83 c0 48	 add	 eax, 72			; 00000048H
  0032a	50		 push	 eax
  0032b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00330	68 00 00 00 00	 push	 OFFSET ??_C@_09DMMLFBJB@count?5?$DO?50@
  00335	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@create_esc:

; 1105 : 
; 1106 : 		set_local_entity_float_value (new_task, FLOAT_TYPE_TASK_USER_DATA, count);

  0033a	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  0033e	74 0a		 je	 SHORT $LN26@create_esc
  00340	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
  00343	8b 08		 mov	 ecx, DWORD PTR [eax]
  00345	89 4d a0	 mov	 DWORD PTR tv229[ebp], ecx
  00348	eb 21		 jmp	 SHORT $LN27@create_esc
$LN26@create_esc:
  0034a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00350	83 c2 4a	 add	 edx, 74			; 0000004aH
  00353	52		 push	 edx
  00354	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00359	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0035e	50		 push	 eax
  0035f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00364	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv229[ebp], 0
$LN27@create_esc:
  0036b	b9 01 00 00 00	 mov	 ecx, 1
  00370	85 c9		 test	 ecx, ecx
  00372	74 09		 je	 SHORT $LN28@create_esc
  00374	c7 45 9c 8c 00
	00 00		 mov	 DWORD PTR tv237[ebp], 140 ; 0000008cH
  0037b	eb 21		 jmp	 SHORT $LN29@create_esc
$LN28@create_esc:
  0037d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  00383	83 c2 4a	 add	 edx, 74			; 0000004aH
  00386	52		 push	 edx
  00387	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0038c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00391	50		 push	 eax
  00392	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00397	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv237[ebp], 0
$LN29@create_esc:
  0039e	51		 push	 ecx
  0039f	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _count$1[ebp]
  003a4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003a9	68 8c 00 00 00	 push	 140			; 0000008cH
  003ae	8b 4d f4	 mov	 ecx, DWORD PTR _new_task$[ebp]
  003b1	51		 push	 ecx
  003b2	69 55 a0 bc 02
	00 00		 imul	 edx, DWORD PTR tv229[ebp], 700
  003b9	8b 45 9c	 mov	 eax, DWORD PTR tv237[ebp]
  003bc	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  003c3	ff d1		 call	 ecx
$LN6@create_esc:

; 1107 : 	}
; 1108 : 
; 1109 : //	#if DEBUG_MODULE
; 1110 : 
; 1111 : 	debug_log ("TASKGEN: Created Escort Task (%d) for %s (%d)",

  003c5	83 7d 08 00	 cmp	 DWORD PTR _group$[ebp], 0
  003c9	74 0a		 je	 SHORT $LN30@create_esc
  003cb	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  003ce	8b 08		 mov	 ecx, DWORD PTR [eax]
  003d0	89 4d a0	 mov	 DWORD PTR tv252[ebp], ecx
  003d3	eb 21		 jmp	 SHORT $LN31@create_esc
$LN30@create_esc:
  003d5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  003db	83 c2 51	 add	 edx, 81			; 00000051H
  003de	52		 push	 edx
  003df	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  003e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003e9	50		 push	 eax
  003ea	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003ef	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv252[ebp], 0
$LN31@create_esc:
  003f6	b9 01 00 00 00	 mov	 ecx, 1
  003fb	85 c9		 test	 ecx, ecx
  003fd	74 09		 je	 SHORT $LN32@create_esc
  003ff	c7 45 9c 03 00
	00 00		 mov	 DWORD PTR tv260[ebp], 3
  00406	eb 21		 jmp	 SHORT $LN33@create_esc
$LN32@create_esc:
  00408	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_escort_task@@YGPAUENTITY@@PAU2@HM00@Z@4JA
  0040e	83 c2 51	 add	 edx, 81			; 00000051H
  00411	52		 push	 edx
  00412	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00417	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_string_type_message@@3PBDB ; overload_invalid_string_type_message
  0041c	50		 push	 eax
  0041d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00422	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv260[ebp], 0
$LN33@create_esc:
  00429	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  0042d	74 11		 je	 SHORT $LN34@create_esc
  0042f	8b 4d f4	 mov	 ecx, DWORD PTR _new_task$[ebp]
  00432	2b 0d 00 00 00
	00		 sub	 ecx, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  00438	c1 f9 04	 sar	 ecx, 4
  0043b	89 4d 98	 mov	 DWORD PTR tv270[ebp], ecx
  0043e	eb 07		 jmp	 SHORT $LN35@create_esc
$LN34@create_esc:
  00440	c7 45 98 ff ff
	ff ff		 mov	 DWORD PTR tv270[ebp], -1
$LN35@create_esc:
  00447	8b 55 08	 mov	 edx, DWORD PTR _group$[ebp]
  0044a	2b 15 00 00 00
	00		 sub	 edx, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  00450	c1 fa 04	 sar	 edx, 4
  00453	52		 push	 edx
  00454	6a 03		 push	 3
  00456	8b 45 08	 mov	 eax, DWORD PTR _group$[ebp]
  00459	50		 push	 eax
  0045a	6b 4d a0 34	 imul	 ecx, DWORD PTR tv252[ebp], 52
  0045e	8b 55 9c	 mov	 edx, DWORD PTR tv260[ebp]
  00461	8b 84 91 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA[ecx+edx*4]
  00468	ff d0		 call	 eax
  0046a	50		 push	 eax
  0046b	8b 4d 98	 mov	 ecx, DWORD PTR tv270[ebp]
  0046e	51		 push	 ecx
  0046f	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@HKHFIDEI@TASKGEN?3?5Created?5Escort?5Task?5?$CI?$CF@
  00474	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00479	83 c4 10	 add	 esp, 16			; 00000010H

; 1112 : 						get_local_entity_safe_index (new_task),
; 1113 : 						get_local_entity_string (group, STRING_TYPE_FULL_NAME),
; 1114 : 						get_local_entity_index (group));
; 1115 : 
; 1116 : //	#endif
; 1117 : 
; 1118 : 	return new_task;

  0047c	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_esc:

; 1119 : }

  0047f	5f		 pop	 edi
  00480	5e		 pop	 esi
  00481	5b		 pop	 ebx
  00482	8b e5		 mov	 esp, ebp
  00484	5d		 pop	 ebp
  00485	c2 14 00	 ret	 20			; 00000014H
?create_escort_task@@YGPAUENTITY@@PAU1@HM00@Z ENDP	; create_escort_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_coastal_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@1MPAU1@2@Z
_TEXT	SEGMENT
_expire_time$ = -16					; size = 4
_end_ks$ = -12						; size = 4
_start_ks$ = -8						; size = 4
_new_task$ = -4						; size = 4
_side$ = 8						; size = 4
_source_position$ = 12					; size = 4
_destination_position$ = 16				; size = 4
_priority$ = 20						; size = 4
_start_keysite$ = 24					; size = 4
_end_keysite$ = 28					; size = 4
?create_coastal_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@1MPAU1@2@Z PROC ; create_coastal_patrol_task, COMDAT

; 986  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 987  : 
; 988  : 	entity
; 989  : 		*new_task;
; 990  : 
; 991  : 	entity
; 992  : 		*start_ks,
; 993  : 		*end_ks;
; 994  : 
; 995  : 	float
; 996  : 		expire_time;
; 997  : 
; 998  : 	start_ks = start_keysite;

  00009	8b 45 18	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  0000c	89 45 f8	 mov	 DWORD PTR _start_ks$[ebp], eax

; 999  : 	end_ks = end_keysite;

  0000f	8b 45 1c	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  00012	89 45 f4	 mov	 DWORD PTR _end_ks$[ebp], eax

; 1000 : 
; 1001 : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_COASTAL_PATROL, side, source_position, &start_ks))

  00015	8d 45 f8	 lea	 eax, DWORD PTR _start_ks$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 0c	 mov	 ecx, DWORD PTR _source_position$[ebp]
  0001c	51		 push	 ecx
  0001d	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  00020	52		 push	 edx
  00021	6a 07		 push	 7
  00023	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  00028	85 c0		 test	 eax, eax
  0002a	75 04		 jne	 SHORT $LN2@create_coa

; 1002 : 	{
; 1003 : 
; 1004 : 		return NULL;

  0002c	33 c0		 xor	 eax, eax
  0002e	eb 6f		 jmp	 SHORT $LN1@create_coa
$LN2@create_coa:

; 1005 : 	}
; 1006 : 
; 1007 : 	expire_time = 30.0 * ONE_MINUTE;

  00030	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44e10000
  00038	f3 0f 11 45 f0	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 1008 : 
; 1009 : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_COASTAL_PATROL,

  0003d	6a 00		 push	 0
  0003f	6a 25		 push	 37			; 00000025H
  00041	6a 00		 push	 0
  00043	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00048	6a 02		 push	 2
  0004a	6a 07		 push	 7
  0004c	6a 00		 push	 0
  0004e	8b 45 10	 mov	 eax, DWORD PTR _destination_position$[ebp]
  00051	50		 push	 eax
  00052	6a 02		 push	 2
  00054	6a 11		 push	 17			; 00000011H
  00056	6a 00		 push	 0
  00058	8b 4d 0c	 mov	 ecx, DWORD PTR _source_position$[ebp]
  0005b	51		 push	 ecx
  0005c	51		 push	 ecx
  0005d	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00062	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00067	6a 00		 push	 0
  00069	51		 push	 ecx
  0006a	0f 57 c0	 xorps	 xmm0, xmm0
  0006d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00072	51		 push	 ecx
  00073	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  00078	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0007d	6a 01		 push	 1
  0007f	6a 00		 push	 0
  00081	8b 55 f4	 mov	 edx, DWORD PTR _end_ks$[ebp]
  00084	52		 push	 edx
  00085	8b 45 f8	 mov	 eax, DWORD PTR _start_ks$[ebp]
  00088	50		 push	 eax
  00089	6a 03		 push	 3
  0008b	8b 4d 08	 mov	 ecx, DWORD PTR _side$[ebp]
  0008e	51		 push	 ecx
  0008f	6a 07		 push	 7
  00091	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00096	83 c4 5c	 add	 esp, 92			; 0000005cH
  00099	89 45 fc	 mov	 DWORD PTR _new_task$[ebp], eax

; 1010 : 									side,
; 1011 : 									MOVEMENT_TYPE_SEA,
; 1012 : 									start_ks,
; 1013 : 									end_ks,
; 1014 : 									NULL,
; 1015 : 									TRUE,
; 1016 : 									expire_time,
; 1017 : 									0.0,
; 1018 : 									NULL,
; 1019 : 									priority,
; 1020 : 									source_position, NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 1021 : 									destination_position, NULL, ENTITY_SUB_TYPE_WAYPOINT_END, FORMATION_ROW_LEFT,
; 1022 : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 1023 : 
; 1024 : 	return new_task;

  0009c	8b 45 fc	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_coa:

; 1025 : }

  0009f	5f		 pop	 edi
  000a0	5e		 pop	 esi
  000a1	5b		 pop	 ebx
  000a2	8b e5		 mov	 esp, ebp
  000a4	5d		 pop	 ebp
  000a5	c2 18 00	 ret	 24			; 00000018H
?create_coastal_patrol_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAUVEC3D@@1MPAU1@2@Z ENDP ; create_coastal_patrol_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv206 = -96						; size = 4
tv180 = -96						; size = 4
tv89 = -96						; size = 4
tv198 = -92						; size = 4
tv172 = -92						; size = 4
tv160 = -92						; size = 4
tv81 = -92						; size = 4
_count$1 = -24						; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_new_task$ = -12					; size = 4
_expire_time$ = -8					; size = 4
_start_pos$ = -4					; size = 4
_side$ = 8						; size = 4
_target_group$ = 12					; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_close_air_support_task, COMDAT

; 903  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 904  : 	vec3d
; 905  : 		*start_pos;
; 906  : 
; 907  : 	float
; 908  : 		expire_time;
; 909  : 
; 910  : 	entity
; 911  : 		*new_task;
; 912  : 
; 913  : 	entity
; 914  : 		*start_ks,
; 915  : 		*end_ks;
; 916  : 
; 917  : 	new_task = NULL;

  00009	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 918  : 
; 919  : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_clo
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 10	 add	 eax, 16			; 00000010H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_clo:

; 920  : 
; 921  : 	ASSERT (target_group);

  00039	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  0003d	75 18		 jne	 SHORT $LN3@create_clo
  0003f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00044	83 c0 12	 add	 eax, 18			; 00000012H
  00047	50		 push	 eax
  00048	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004d	68 00 00 00 00	 push	 OFFSET ??_C@_0N@MPJEABLJ@target_group@
  00052	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_clo:

; 922  : 
; 923  : 	//
; 924  : 	// Create C.A.S. task
; 925  : 	//
; 926  : 
; 927  : 	#if DEBUG_MODULE >= 2
; 928  : 
; 929  : 	debug_log ("TASKGEN: creating side %d Close Air Support task to %s (%d)", side, get_local_entity_string (target_group, STRING_TYPE_FULL_NAME), get_local_entity_index (target_group));
; 930  : 
; 931  : 	#endif
; 932  : 
; 933  : 	start_pos = get_local_entity_vec3d_ptr (target_group, VEC3D_TYPE_POSITION);

  00057	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  0005b	74 0a		 je	 SHORT $LN9@create_clo
  0005d	8b 45 0c	 mov	 eax, DWORD PTR _target_group$[ebp]
  00060	8b 08		 mov	 ecx, DWORD PTR [eax]
  00062	89 4d a4	 mov	 DWORD PTR tv81[ebp], ecx
  00065	eb 21		 jmp	 SHORT $LN10@create_clo
$LN9@create_clo:
  00067	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0006d	83 c2 1e	 add	 edx, 30			; 0000001eH
  00070	52		 push	 edx
  00071	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0007b	50		 push	 eax
  0007c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00081	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN10@create_clo:
  00088	b9 01 00 00 00	 mov	 ecx, 1
  0008d	85 c9		 test	 ecx, ecx
  0008f	74 09		 je	 SHORT $LN11@create_clo
  00091	c7 45 a0 08 00
	00 00		 mov	 DWORD PTR tv89[ebp], 8
  00098	eb 21		 jmp	 SHORT $LN12@create_clo
$LN11@create_clo:
  0009a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  000a0	83 c2 1e	 add	 edx, 30			; 0000001eH
  000a3	52		 push	 edx
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b4	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN12@create_clo:
  000bb	6a 08		 push	 8
  000bd	8b 4d 0c	 mov	 ecx, DWORD PTR _target_group$[ebp]
  000c0	51		 push	 ecx
  000c1	6b 55 a4 60	 imul	 edx, DWORD PTR tv81[ebp], 96
  000c5	8b 45 a0	 mov	 eax, DWORD PTR tv89[ebp]
  000c8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000cf	ff d1		 call	 ecx
  000d1	89 45 fc	 mov	 DWORD PTR _start_pos$[ebp], eax

; 934  : 
; 935  : 	start_ks = start_keysite;

  000d4	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000d7	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 936  : 	end_ks = end_keysite;

  000da	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000dd	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 937  : 
; 938  : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_CLOSE_AIR_SUPPORT, side, start_pos, &start_ks))

  000e0	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000e3	50		 push	 eax
  000e4	8b 4d fc	 mov	 ecx, DWORD PTR _start_pos$[ebp]
  000e7	51		 push	 ecx
  000e8	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000eb	52		 push	 edx
  000ec	6a 06		 push	 6
  000ee	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000f3	85 c0		 test	 eax, eax
  000f5	75 07		 jne	 SHORT $LN4@create_clo

; 939  : 	{
; 940  : 
; 941  : 		return NULL;

  000f7	33 c0		 xor	 eax, eax
  000f9	e9 fe 01 00 00	 jmp	 $LN1@create_clo
$LN4@create_clo:

; 942  : 	}
; 943  : 
; 944  : 	expire_time = 20 * ONE_MINUTE;

  000fe	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44960000
  00106	f3 0f 11 45 f8	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 945  : 
; 946  : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_CLOSE_AIR_SUPPORT,

  0010b	6a 00		 push	 0
  0010d	6a 25		 push	 37			; 00000025H
  0010f	6a 00		 push	 0
  00111	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00116	6a 02		 push	 2
  00118	6a 01		 push	 1
  0011a	6a 00		 push	 0
  0011c	8b 45 fc	 mov	 eax, DWORD PTR _start_pos$[ebp]
  0011f	50		 push	 eax
  00120	51		 push	 ecx
  00121	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00126	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0012b	8b 4d 0c	 mov	 ecx, DWORD PTR _target_group$[ebp]
  0012e	51		 push	 ecx
  0012f	51		 push	 ecx
  00130	0f 57 c0	 xorps	 xmm0, xmm0
  00133	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00138	51		 push	 ecx
  00139	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0013e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00143	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00146	52		 push	 edx
  00147	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  0014a	50		 push	 eax
  0014b	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  0014e	51		 push	 ecx
  0014f	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00152	52		 push	 edx
  00153	6a 01		 push	 1
  00155	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00158	50		 push	 eax
  00159	6a 06		 push	 6
  0015b	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00160	83 c4 4c	 add	 esp, 76			; 0000004cH
  00163	89 45 f4	 mov	 DWORD PTR _new_task$[ebp], eax

; 947  : 									side,
; 948  : 									MOVEMENT_TYPE_AIR,
; 949  : 									start_ks,
; 950  : 									end_ks,
; 951  : 									originator,
; 952  : 									critical,
; 953  : 									expire_time,
; 954  : 									0.0,
; 955  : 									target_group,
; 956  : 									priority,
; 957  : 									start_pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_ATTACK, FORMATION_ROW_LEFT,
; 958  : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 959  : 
; 960  : 	if (new_task)

  00166	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  0016a	0f 84 89 01 00
	00		 je	 $LN5@create_clo

; 961  : 	{
; 962  : 		float
; 963  : 			count;
; 964  : 
; 965  : 		//
; 966  : 		// store current group member count
; 967  : 		//
; 968  : 
; 969  : 		ASSERT (get_local_entity_type (target_group) == ENTITY_TYPE_GROUP);

  00170	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  00174	74 0a		 je	 SHORT $LN13@create_clo
  00176	8b 45 0c	 mov	 eax, DWORD PTR _target_group$[ebp]
  00179	8b 08		 mov	 ecx, DWORD PTR [eax]
  0017b	89 4d a4	 mov	 DWORD PTR tv160[ebp], ecx
  0017e	eb 21		 jmp	 SHORT $LN14@create_clo
$LN13@create_clo:
  00180	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00186	83 c2 42	 add	 edx, 66			; 00000042H
  00189	52		 push	 edx
  0018a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0018f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00194	50		 push	 eax
  00195	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019a	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
$LN14@create_clo:
  001a1	83 7d a4 0c	 cmp	 DWORD PTR tv160[ebp], 12 ; 0000000cH
  001a5	74 18		 je	 SHORT $LN6@create_clo
  001a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001ac	83 c0 42	 add	 eax, 66			; 00000042H
  001af	50		 push	 eax
  001b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b5	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@LFJJBBLK@get_local_entity_type?5?$CItarget_g@
  001ba	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@create_clo:

; 970  : 
; 971  : 		count = get_local_entity_int_value (target_group, INT_TYPE_MEMBER_COUNT);

  001bf	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  001c3	74 0a		 je	 SHORT $LN15@create_clo
  001c5	8b 45 0c	 mov	 eax, DWORD PTR _target_group$[ebp]
  001c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  001ca	89 4d a4	 mov	 DWORD PTR tv172[ebp], ecx
  001cd	eb 21		 jmp	 SHORT $LN16@create_clo
$LN15@create_clo:
  001cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001d5	83 c2 44	 add	 edx, 68			; 00000044H
  001d8	52		 push	 edx
  001d9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv172[ebp], 0
$LN16@create_clo:
  001f0	b9 01 00 00 00	 mov	 ecx, 1
  001f5	85 c9		 test	 ecx, ecx
  001f7	74 09		 je	 SHORT $LN17@create_clo
  001f9	c7 45 a0 86 00
	00 00		 mov	 DWORD PTR tv180[ebp], 134 ; 00000086H
  00200	eb 21		 jmp	 SHORT $LN18@create_clo
$LN17@create_clo:
  00202	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00208	83 c2 44	 add	 edx, 68			; 00000044H
  0020b	52		 push	 edx
  0020c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00211	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00216	50		 push	 eax
  00217	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0021c	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv180[ebp], 0
$LN18@create_clo:
  00223	68 86 00 00 00	 push	 134			; 00000086H
  00228	8b 4d 0c	 mov	 ecx, DWORD PTR _target_group$[ebp]
  0022b	51		 push	 ecx
  0022c	69 55 a4 5c 04
	00 00		 imul	 edx, DWORD PTR tv172[ebp], 1116
  00233	8b 45 a0	 mov	 eax, DWORD PTR tv180[ebp]
  00236	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0023d	ff d1		 call	 ecx
  0023f	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00243	f3 0f 11 45 e8	 movss	 DWORD PTR _count$1[ebp], xmm0

; 972  : 
; 973  : 		ASSERT (count > 0);

  00248	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _count$1[ebp]
  0024d	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  00254	77 18		 ja	 SHORT $LN7@create_clo
  00256	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0025b	83 c0 46	 add	 eax, 70			; 00000046H
  0025e	50		 push	 eax
  0025f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00264	68 00 00 00 00	 push	 OFFSET ??_C@_09DMMLFBJB@count?5?$DO?50@
  00269	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@create_clo:

; 974  : 
; 975  : 		set_local_entity_float_value (new_task, FLOAT_TYPE_TASK_USER_DATA, count);

  0026e	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  00272	74 0a		 je	 SHORT $LN19@create_clo
  00274	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
  00277	8b 08		 mov	 ecx, DWORD PTR [eax]
  00279	89 4d a4	 mov	 DWORD PTR tv198[ebp], ecx
  0027c	eb 21		 jmp	 SHORT $LN20@create_clo
$LN19@create_clo:
  0027e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00284	83 c2 48	 add	 edx, 72			; 00000048H
  00287	52		 push	 edx
  00288	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0028d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00292	50		 push	 eax
  00293	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00298	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$LN20@create_clo:
  0029f	b9 01 00 00 00	 mov	 ecx, 1
  002a4	85 c9		 test	 ecx, ecx
  002a6	74 09		 je	 SHORT $LN21@create_clo
  002a8	c7 45 a0 8c 00
	00 00		 mov	 DWORD PTR tv206[ebp], 140 ; 0000008cH
  002af	eb 21		 jmp	 SHORT $LN22@create_clo
$LN21@create_clo:
  002b1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  002b7	83 c2 48	 add	 edx, 72			; 00000048H
  002ba	52		 push	 edx
  002bb	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  002c5	50		 push	 eax
  002c6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002cb	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv206[ebp], 0
$LN22@create_clo:
  002d2	51		 push	 ecx
  002d3	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _count$1[ebp]
  002d8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002dd	68 8c 00 00 00	 push	 140			; 0000008cH
  002e2	8b 4d f4	 mov	 ecx, DWORD PTR _new_task$[ebp]
  002e5	51		 push	 ecx
  002e6	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv198[ebp], 700
  002ed	8b 45 a0	 mov	 eax, DWORD PTR tv206[ebp]
  002f0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  002f7	ff d1		 call	 ecx
$LN5@create_clo:

; 976  : 	}
; 977  : 
; 978  : 	return new_task;

  002f9	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_clo:

; 979  : }

  002fc	5f		 pop	 edi
  002fd	5e		 pop	 esi
  002fe	5b		 pop	 ebx
  002ff	8b e5		 mov	 esp, ebp
  00301	5d		 pop	 ebp
  00302	c2 1c 00	 ret	 28			; 0000001cH
?create_close_air_support_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_close_air_support_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HMM11@Z
_TEXT	SEGMENT
_end_ks$ = -84						; size = 4
_start_ks$ = -80					; size = 4
_keysite_raw$ = -76					; size = 4
_new_task$ = -72					; size = 4
_expire_time$ = -68					; size = 4
_cos_angle$ = -64					; size = 4
_sin_angle$ = -60					; size = 4
_offset_angle$ = -56					; size = 4
_cap_distance$ = -52					; size = 4
_cap_position_list$ = -48				; size = 48
_side$ = 8						; size = 4
_this_keysite$ = 12					; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_duration$ = 28						; size = 4
_start_keysite$ = 32					; size = 4
_end_keysite$ = 36					; size = 4
?create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HMM11@Z PROC ; create_cap_task, COMDAT

; 784  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 94 00 00
	00		 sub	 esp, 148		; 00000094H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 785  : 
; 786  : 	vec3d
; 787  : 		cap_position_list [4];
; 788  : 
; 789  : 	float
; 790  : 		cap_distance,
; 791  : 		offset_angle,
; 792  : 		sin_angle,
; 793  : 		cos_angle,
; 794  : 		expire_time;
; 795  : 
; 796  : 	entity
; 797  : 		*new_task;
; 798  : 
; 799  : 	keysite
; 800  : 		*keysite_raw;
; 801  : 
; 802  : 	entity
; 803  : 		*start_ks,
; 804  : 		*end_ks;
; 805  : 
; 806  : 	new_task = NULL;

  0000c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 807  : 
; 808  : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00013	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  0001a	74 20		 je	 SHORT $LN2@create_cap
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HMM11@Z@4JA
  00021	83 c0 18	 add	 eax, 24			; 00000018H
  00024	50		 push	 eax
  00025	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00034	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00039	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_cap:

; 809  : 
; 810  : 	keysite_raw = (keysite *) get_local_entity_data (this_keysite);

  0003c	8b 45 0c	 mov	 eax, DWORD PTR _this_keysite$[ebp]
  0003f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00042	89 4d b4	 mov	 DWORD PTR _keysite_raw$[ebp], ecx

; 811  : 
; 812  : 	ASSERT (duration > 0.0);

  00045	f3 0f 5a 45 1c	 cvtss2sd xmm0, DWORD PTR _duration$[ebp]
  0004a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00052	77 18		 ja	 SHORT $LN3@create_cap
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HMM11@Z@4JA
  00059	83 c0 1c	 add	 eax, 28			; 0000001cH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0P@OPPNMPNC@duration?5?$DO?50?40@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_cap:

; 813  : 
; 814  : 	//
; 815  : 	// find 4 air nodes around the keysite
; 816  : 	//
; 817  : 
; 818  : 	cap_distance = (8 * KILOMETRE);

  0006c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@45fa0000
  00074	f3 0f 11 45 cc	 movss	 DWORD PTR _cap_distance$[ebp], xmm0

; 819  : 
; 820  : 	offset_angle = sfrand1 () * PI;

  00079	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00083	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00088	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0008d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00093	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00096	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0009c	81 e9 00 40 00
	00		 sub	 ecx, 16384		; 00004000H
  000a2	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  000a6	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f10000000000000
  000ae	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@400921fb60000000
  000b6	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000ba	f3 0f 11 45 c8	 movss	 DWORD PTR _offset_angle$[ebp], xmm0

; 821  : 
; 822  : 	sin_angle = sin (offset_angle);

  000bf	51		 push	 ecx
  000c0	f3 0f 10 45 c8	 movss	 xmm0, DWORD PTR _offset_angle$[ebp]
  000c5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ca	e8 00 00 00 00	 call	 ?sin@@YGMM@Z		; sin
  000cf	d9 5d c4	 fstp	 DWORD PTR _sin_angle$[ebp]

; 823  : 	cos_angle = cos (offset_angle);

  000d2	51		 push	 ecx
  000d3	f3 0f 10 45 c8	 movss	 xmm0, DWORD PTR _offset_angle$[ebp]
  000d8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000dd	e8 00 00 00 00	 call	 ?cos@@YGMM@Z		; cos
  000e2	d9 5d c0	 fstp	 DWORD PTR _cos_angle$[ebp]

; 824  : 	
; 825  : 	cap_position_list [0] = keysite_raw->position;

  000e5	8b 45 b4	 mov	 eax, DWORD PTR _keysite_raw$[ebp]
  000e8	83 c0 04	 add	 eax, 4
  000eb	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  000f0	6b d1 00	 imul	 edx, ecx, 0
  000f3	8d 4c 15 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+edx]
  000f7	8b 10		 mov	 edx, DWORD PTR [eax]
  000f9	89 11		 mov	 DWORD PTR [ecx], edx
  000fb	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000fe	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00101	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00104	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 826  : 	cap_position_list [1] = keysite_raw->position;

  00107	8b 45 b4	 mov	 eax, DWORD PTR _keysite_raw$[ebp]
  0010a	83 c0 04	 add	 eax, 4
  0010d	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00112	c1 e1 00	 shl	 ecx, 0
  00115	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  00119	8b 08		 mov	 ecx, DWORD PTR [eax]
  0011b	89 0a		 mov	 DWORD PTR [edx], ecx
  0011d	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00120	89 4a 04	 mov	 DWORD PTR [edx+4], ecx
  00123	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00126	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 827  : 	cap_position_list [2] = keysite_raw->position;

  00129	8b 45 b4	 mov	 eax, DWORD PTR _keysite_raw$[ebp]
  0012c	83 c0 04	 add	 eax, 4
  0012f	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00134	d1 e1		 shl	 ecx, 1
  00136	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  0013a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0013c	89 0a		 mov	 DWORD PTR [edx], ecx
  0013e	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00141	89 4a 04	 mov	 DWORD PTR [edx+4], ecx
  00144	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00147	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 828  : 	cap_position_list [3] = keysite_raw->position;

  0014a	8b 45 b4	 mov	 eax, DWORD PTR _keysite_raw$[ebp]
  0014d	83 c0 04	 add	 eax, 4
  00150	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00155	6b d1 03	 imul	 edx, ecx, 3
  00158	8d 4c 15 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+edx]
  0015c	8b 10		 mov	 edx, DWORD PTR [eax]
  0015e	89 11		 mov	 DWORD PTR [ecx], edx
  00160	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00163	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00166	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00169	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 829  : 
; 830  : 	cap_position_list [0].x += (sin_angle * cap_distance);

  0016c	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00171	6b c8 00	 imul	 ecx, eax, 0
  00174	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  00179	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  0017e	f3 0f 58 44 0d
	d0		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+ecx]
  00184	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  00189	6b c2 00	 imul	 eax, edx, 0
  0018c	f3 0f 11 44 05
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+eax], xmm0

; 831  : 	cap_position_list [0].y += 0.0;

  00192	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00197	6b c8 00	 imul	 ecx, eax, 0
  0019a	f3 0f 5a 44 0d
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+ecx+4]
  001a0	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  001a8	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  001ad	6b c2 00	 imul	 eax, edx, 0
  001b0	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001b4	f3 0f 11 44 05
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+eax+4], xmm0

; 832  : 	cap_position_list [0].z += (cos_angle * cap_distance);

  001ba	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  001bf	6b c8 00	 imul	 ecx, eax, 0
  001c2	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  001c7	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  001cc	f3 0f 58 44 0d
	d8		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+ecx+8]
  001d2	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  001d7	6b c2 00	 imul	 eax, edx, 0
  001da	f3 0f 11 44 05
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+eax+8], xmm0

; 833  : 
; 834  : 	bound_position_to_adjusted_map_area (&cap_position_list [0]);

  001e0	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  001e5	6b c8 00	 imul	 ecx, eax, 0
  001e8	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  001ec	52		 push	 edx
  001ed	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 835  : 
; 836  : 	cap_position_list [1].x += (cos_angle * cap_distance);

  001f2	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  001f7	c1 e0 00	 shl	 eax, 0
  001fa	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  001ff	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00204	f3 0f 58 44 05
	d0		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+eax]
  0020a	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0020f	c1 e1 00	 shl	 ecx, 0
  00212	f3 0f 11 44 0d
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+ecx], xmm0

; 837  : 	cap_position_list [1].y += 0.0;

  00218	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0021d	c1 e0 00	 shl	 eax, 0
  00220	f3 0f 5a 44 05
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+eax+4]
  00226	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  0022e	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00233	c1 e1 00	 shl	 ecx, 0
  00236	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0023a	f3 0f 11 44 0d
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+4], xmm0

; 838  : 	cap_position_list [1].z -= (sin_angle * cap_distance);

  00240	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00245	c1 e0 00	 shl	 eax, 0
  00248	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  0024d	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00252	f3 0f 10 4c 05
	d8		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+eax+8]
  00258	f3 0f 5c c8	 subss	 xmm1, xmm0
  0025c	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00261	c1 e1 00	 shl	 ecx, 0
  00264	f3 0f 11 4c 0d
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+8], xmm1

; 839  : 
; 840  : 	bound_position_to_adjusted_map_area (&cap_position_list [1]);

  0026a	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0026f	c1 e0 00	 shl	 eax, 0
  00272	8d 4c 05 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+eax]
  00276	51		 push	 ecx
  00277	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 841  : 
; 842  : 	cap_position_list [2].x -= (sin_angle * cap_distance);

  0027c	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00281	d1 e0		 shl	 eax, 1
  00283	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  00288	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  0028d	f3 0f 10 4c 05
	d0		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+eax]
  00293	f3 0f 5c c8	 subss	 xmm1, xmm0
  00297	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0029c	d1 e1		 shl	 ecx, 1
  0029e	f3 0f 11 4c 0d
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+ecx], xmm1

; 843  : 	cap_position_list [2].y += 0.0;

  002a4	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002a9	d1 e0		 shl	 eax, 1
  002ab	f3 0f 5a 44 05
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+eax+4]
  002b1	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  002b9	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  002be	d1 e1		 shl	 ecx, 1
  002c0	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  002c4	f3 0f 11 44 0d
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+4], xmm0

; 844  : 	cap_position_list [2].z -= (cos_angle * cap_distance);

  002ca	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002cf	d1 e0		 shl	 eax, 1
  002d1	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  002d6	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  002db	f3 0f 10 4c 05
	d8		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+eax+8]
  002e1	f3 0f 5c c8	 subss	 xmm1, xmm0
  002e5	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  002ea	d1 e1		 shl	 ecx, 1
  002ec	f3 0f 11 4c 0d
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+8], xmm1

; 845  : 
; 846  : 	bound_position_to_adjusted_map_area (&cap_position_list [2]);

  002f2	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002f7	d1 e0		 shl	 eax, 1
  002f9	8d 4c 05 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+eax]
  002fd	51		 push	 ecx
  002fe	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 847  : 
; 848  : 	cap_position_list [3].x -= (cos_angle * cap_distance);

  00303	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00308	6b c8 03	 imul	 ecx, eax, 3
  0030b	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  00310	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00315	f3 0f 10 4c 0d
	d0		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+ecx]
  0031b	f3 0f 5c c8	 subss	 xmm1, xmm0
  0031f	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  00324	6b c2 03	 imul	 eax, edx, 3
  00327	f3 0f 11 4c 05
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+eax], xmm1

; 849  : 	cap_position_list [3].y += 0.0;

  0032d	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00332	6b c8 03	 imul	 ecx, eax, 3
  00335	f3 0f 5a 44 0d
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+ecx+4]
  0033b	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  00343	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  00348	6b c2 03	 imul	 eax, edx, 3
  0034b	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0034f	f3 0f 11 44 05
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+eax+4], xmm0

; 850  : 	cap_position_list [3].z += (sin_angle * cap_distance);

  00355	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0035a	6b c8 03	 imul	 ecx, eax, 3
  0035d	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  00362	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00367	f3 0f 58 44 0d
	d8		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+ecx+8]
  0036d	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  00372	6b c2 03	 imul	 eax, edx, 3
  00375	f3 0f 11 44 05
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+eax+8], xmm0

; 851  : 
; 852  : 	bound_position_to_adjusted_map_area (&cap_position_list [3]);

  0037b	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00380	6b c8 03	 imul	 ecx, eax, 3
  00383	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  00387	52		 push	 edx
  00388	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_area@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_area

; 853  : 
; 854  : 	#if DEBUG_MODULE
; 855  : 	
; 856  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [0].x, cap_position_list [0].y, cap_position_list [0].z);
; 857  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [1].x, cap_position_list [1].y, cap_position_list [1].z);
; 858  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [2].x, cap_position_list [2].y, cap_position_list [2].z);
; 859  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [3].x, cap_position_list [3].y, cap_position_list [3].z);
; 860  : 
; 861  : 	#endif
; 862  : 
; 863  : 	//
; 864  : 	// create task
; 865  : 	//
; 866  : 
; 867  : 	start_ks = start_keysite;

  0038d	8b 45 20	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  00390	89 45 b0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 868  : 	end_ks = end_keysite;

  00393	8b 45 24	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  00396	89 45 ac	 mov	 DWORD PTR _end_ks$[ebp], eax

; 869  : 
; 870  : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_COMBAT_AIR_PATROL, side, &keysite_raw->position, &start_ks))

  00399	8d 45 b0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  0039c	50		 push	 eax
  0039d	8b 4d b4	 mov	 ecx, DWORD PTR _keysite_raw$[ebp]
  003a0	83 c1 04	 add	 ecx, 4
  003a3	51		 push	 ecx
  003a4	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  003a7	52		 push	 edx
  003a8	6a 08		 push	 8
  003aa	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  003af	85 c0		 test	 eax, eax
  003b1	75 07		 jne	 SHORT $LN4@create_cap

; 871  : 	{
; 872  : 
; 873  : 		return NULL;

  003b3	33 c0		 xor	 eax, eax
  003b5	e9 ac 00 00 00	 jmp	 $LN1@create_cap
$LN4@create_cap:

; 874  : 	}
; 875  : 
; 876  : 	expire_time = 10 * ONE_MINUTE;

  003ba	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44160000
  003c2	f3 0f 11 45 bc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 877  : 
; 878  : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_COMBAT_AIR_PATROL,

  003c7	6a 00		 push	 0
  003c9	6a 25		 push	 37			; 00000025H
  003cb	6a 00		 push	 0
  003cd	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  003d2	6a 02		 push	 2
  003d4	6a 02		 push	 2
  003d6	6a 00		 push	 0
  003d8	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  003dd	6b c8 03	 imul	 ecx, eax, 3
  003e0	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  003e4	52		 push	 edx
  003e5	6a 02		 push	 2
  003e7	6a 11		 push	 17			; 00000011H
  003e9	6a 00		 push	 0
  003eb	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  003f0	d1 e0		 shl	 eax, 1
  003f2	8d 4c 05 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+eax]
  003f6	51		 push	 ecx
  003f7	6a 02		 push	 2
  003f9	6a 11		 push	 17			; 00000011H
  003fb	6a 00		 push	 0
  003fd	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  00402	c1 e2 00	 shl	 edx, 0
  00405	8d 44 15 d0	 lea	 eax, DWORD PTR _cap_position_list$[ebp+edx]
  00409	50		 push	 eax
  0040a	6a 02		 push	 2
  0040c	6a 03		 push	 3
  0040e	6a 00		 push	 0
  00410	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00415	6b d1 00	 imul	 edx, ecx, 0
  00418	8d 44 15 d0	 lea	 eax, DWORD PTR _cap_position_list$[ebp+edx]
  0041c	50		 push	 eax
  0041d	51		 push	 ecx
  0041e	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00423	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00428	8b 4d 0c	 mov	 ecx, DWORD PTR _this_keysite$[ebp]
  0042b	51		 push	 ecx
  0042c	51		 push	 ecx
  0042d	f3 0f 10 45 1c	 movss	 xmm0, DWORD PTR _duration$[ebp]
  00432	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00437	51		 push	 ecx
  00438	f3 0f 10 45 bc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0043d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00442	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00445	52		 push	 edx
  00446	6a 00		 push	 0
  00448	8b 45 ac	 mov	 eax, DWORD PTR _end_ks$[ebp]
  0044b	50		 push	 eax
  0044c	8b 4d b0	 mov	 ecx, DWORD PTR _start_ks$[ebp]
  0044f	51		 push	 ecx
  00450	6a 01		 push	 1
  00452	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  00455	52		 push	 edx
  00456	6a 08		 push	 8
  00458	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0045d	83 c4 7c	 add	 esp, 124		; 0000007cH
  00460	89 45 b8	 mov	 DWORD PTR _new_task$[ebp], eax

; 879  : 									side,
; 880  : 									MOVEMENT_TYPE_AIR,
; 881  : 									start_ks,
; 882  : 									end_ks,
; 883  : 									NULL,
; 884  : 									critical,
; 885  : 									expire_time,
; 886  : 									duration,
; 887  : 									this_keysite,
; 888  : 									priority,
; 889  : 									&cap_position_list [0], NULL, ENTITY_SUB_TYPE_WAYPOINT_CAP_START, FORMATION_ROW_LEFT,
; 890  : 									&cap_position_list [1], NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 891  : 									&cap_position_list [2], NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 892  : 									&cap_position_list [3], NULL, ENTITY_SUB_TYPE_WAYPOINT_CAP_LOOP, FORMATION_ROW_LEFT,
; 893  : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 894  : 
; 895  : 	return new_task;

  00463	8b 45 b8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_cap:

; 896  : }

  00466	5f		 pop	 edi
  00467	5e		 pop	 esi
  00468	5b		 pop	 ebx
  00469	8b e5		 mov	 esp, ebp
  0046b	5d		 pop	 ebp
  0046c	c2 20 00	 ret	 32			; 00000020H
?create_cap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HMM11@Z ENDP ; create_cap_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv89 = -92						; size = 4
tv81 = -88						; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_pos$ = -12						; size = 4
_new_task$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_side$ = 8						; size = 4
_objective$ = 12					; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_bda_task, COMDAT

; 716  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 717  : 
; 718  : 	float
; 719  : 		expire_time;
; 720  : 
; 721  : 	entity
; 722  : 		*new_task;
; 723  : 
; 724  : 	vec3d
; 725  : 		*pos;
; 726  : 
; 727  : 	entity
; 728  : 		*start_ks,
; 729  : 		*end_ks;
; 730  : 
; 731  : 	new_task = NULL;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 732  : 
; 733  : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_bda
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 11	 add	 eax, 17			; 00000011H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_bda:

; 734  : 
; 735  : 	#if DEBUG_MODULE >= 2
; 736  : 
; 737  : 	debug_log ("TASKGEN: creating side %d BDA task to %s (%d)", side, get_local_entity_string (objective, STRING_TYPE_FULL_NAME), get_local_entity_index (objective));
; 738  : 
; 739  : 	#endif
; 740  : 
; 741  : 	ASSERT (objective);

  00039	83 7d 0c 00	 cmp	 DWORD PTR _objective$[ebp], 0
  0003d	75 18		 jne	 SHORT $LN3@create_bda
  0003f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00044	83 c0 19	 add	 eax, 25			; 00000019H
  00047	50		 push	 eax
  00048	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004d	68 00 00 00 00	 push	 OFFSET ??_C@_09FKEDLGBF@objective@
  00052	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_bda:

; 742  : 
; 743  : 	pos = get_local_entity_vec3d_ptr (objective, VEC3D_TYPE_POSITION);

  00057	83 7d 0c 00	 cmp	 DWORD PTR _objective$[ebp], 0
  0005b	74 0a		 je	 SHORT $LN7@create_bda
  0005d	8b 45 0c	 mov	 eax, DWORD PTR _objective$[ebp]
  00060	8b 08		 mov	 ecx, DWORD PTR [eax]
  00062	89 4d a8	 mov	 DWORD PTR tv81[ebp], ecx
  00065	eb 21		 jmp	 SHORT $LN8@create_bda
$LN7@create_bda:
  00067	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0006d	83 c2 1b	 add	 edx, 27			; 0000001bH
  00070	52		 push	 edx
  00071	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0007b	50		 push	 eax
  0007c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00081	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN8@create_bda:
  00088	b9 01 00 00 00	 mov	 ecx, 1
  0008d	85 c9		 test	 ecx, ecx
  0008f	74 09		 je	 SHORT $LN9@create_bda
  00091	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv89[ebp], 8
  00098	eb 21		 jmp	 SHORT $LN10@create_bda
$LN9@create_bda:
  0009a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  000a0	83 c2 1b	 add	 edx, 27			; 0000001bH
  000a3	52		 push	 edx
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b4	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN10@create_bda:
  000bb	6a 08		 push	 8
  000bd	8b 4d 0c	 mov	 ecx, DWORD PTR _objective$[ebp]
  000c0	51		 push	 ecx
  000c1	6b 55 a8 60	 imul	 edx, DWORD PTR tv81[ebp], 96
  000c5	8b 45 a4	 mov	 eax, DWORD PTR tv89[ebp]
  000c8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000cf	ff d1		 call	 ecx
  000d1	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 744  : 
; 745  : 	ASSERT (pos);

  000d4	83 7d f4 00	 cmp	 DWORD PTR _pos$[ebp], 0
  000d8	75 18		 jne	 SHORT $LN4@create_bda
  000da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  000df	83 c0 1d	 add	 eax, 29			; 0000001dH
  000e2	50		 push	 eax
  000e3	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e8	68 00 00 00 00	 push	 OFFSET ??_C@_03PCBNCGFH@pos@
  000ed	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_bda:

; 746  : 
; 747  : 	start_ks = start_keysite;

  000f2	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000f5	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 748  : 	end_ks = end_keysite;

  000f8	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000fb	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 749  : 
; 750  : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_BDA, side, pos, &start_ks))

  000fe	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  00101	50		 push	 eax
  00102	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  00105	51		 push	 ecx
  00106	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  00109	52		 push	 edx
  0010a	6a 05		 push	 5
  0010c	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  00111	85 c0		 test	 eax, eax
  00113	75 04		 jne	 SHORT $LN5@create_bda

; 751  : 	{
; 752  : 
; 753  : 		return NULL;

  00115	33 c0		 xor	 eax, eax
  00117	eb 6b		 jmp	 SHORT $LN1@create_bda
$LN5@create_bda:

; 754  : 	}
; 755  : 
; 756  : 	//
; 757  : 	// Create BDA task
; 758  : 	//
; 759  : 
; 760  : 	expire_time = 30 * ONE_MINUTE;

  00119	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44e10000
  00121	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 761  : 
; 762  : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_BDA,

  00126	6a 00		 push	 0
  00128	6a 25		 push	 37			; 00000025H
  0012a	6a 00		 push	 0
  0012c	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00131	6a 02		 push	 2
  00133	6a 15		 push	 21			; 00000015H
  00135	6a 00		 push	 0
  00137	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  0013a	50		 push	 eax
  0013b	51		 push	 ecx
  0013c	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00141	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00146	8b 4d 0c	 mov	 ecx, DWORD PTR _objective$[ebp]
  00149	51		 push	 ecx
  0014a	51		 push	 ecx
  0014b	0f 57 c0	 xorps	 xmm0, xmm0
  0014e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00153	51		 push	 ecx
  00154	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  00159	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0015e	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00161	52		 push	 edx
  00162	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  00165	50		 push	 eax
  00166	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  00169	51		 push	 ecx
  0016a	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  0016d	52		 push	 edx
  0016e	6a 01		 push	 1
  00170	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00173	50		 push	 eax
  00174	6a 05		 push	 5
  00176	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  0017b	83 c4 4c	 add	 esp, 76			; 0000004cH
  0017e	89 45 f8	 mov	 DWORD PTR _new_task$[ebp], eax

; 763  : 									side,
; 764  : 									MOVEMENT_TYPE_AIR,
; 765  : 									start_ks,
; 766  : 									end_ks,
; 767  : 									originator,
; 768  : 									critical,
; 769  : 									expire_time,
; 770  : 									0.0,
; 771  : 									objective,
; 772  : 									priority,
; 773  : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_RECON, FORMATION_ROW_LEFT,
; 774  : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 775  : 
; 776  : 	return new_task;

  00181	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_bda:

; 777  : }

  00184	5f		 pop	 edi
  00185	5e		 pop	 esi
  00186	5b		 pop	 ebx
  00187	8b e5		 mov	 esp, ebp
  00189	5d		 pop	 ebp
  0018a	c2 1c 00	 ret	 28			; 0000001cH
?create_bda_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_bda_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HPAUVEC3D@@MM11@Z
_TEXT	SEGMENT
_end_ks$ = -84						; size = 4
_start_ks$ = -80					; size = 4
_keysite_raw$ = -76					; size = 4
_new_task$ = -72					; size = 4
_expire_time$ = -68					; size = 4
_cos_angle$ = -64					; size = 4
_sin_angle$ = -60					; size = 4
_offset_angle$ = -56					; size = 4
_cap_distance$ = -52					; size = 4
_cap_position_list$ = -48				; size = 48
_side$ = 8						; size = 4
_this_keysite$ = 12					; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_centre_position$ = 24					; size = 4
_priority$ = 28						; size = 4
_duration$ = 32						; size = 4
_start_keysite$ = 36					; size = 4
_end_keysite$ = 40					; size = 4
?create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HPAUVEC3D@@MM11@Z PROC ; create_barcap_task, COMDAT

; 603  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 94 00 00
	00		 sub	 esp, 148		; 00000094H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 604  : 
; 605  : 	vec3d
; 606  : 		cap_position_list [4];
; 607  : 
; 608  : 	float
; 609  : 		cap_distance,
; 610  : 		offset_angle,
; 611  : 		sin_angle,
; 612  : 		cos_angle,
; 613  : 		expire_time;
; 614  : 
; 615  : 	entity
; 616  : 		*new_task;
; 617  : 
; 618  : 	keysite
; 619  : 		*keysite_raw;
; 620  : 
; 621  : 	entity
; 622  : 		*start_ks,
; 623  : 		*end_ks;
; 624  : 
; 625  : 	new_task = NULL;

  0000c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 626  : 
; 627  : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00013	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  0001a	74 20		 je	 SHORT $LN2@create_bar
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HPAUVEC3D@@MM11@Z@4JA
  00021	83 c0 18	 add	 eax, 24			; 00000018H
  00024	50		 push	 eax
  00025	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00034	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00039	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_bar:

; 628  : 
; 629  : 	keysite_raw = (keysite *) get_local_entity_data (this_keysite);

  0003c	8b 45 0c	 mov	 eax, DWORD PTR _this_keysite$[ebp]
  0003f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00042	89 4d b4	 mov	 DWORD PTR _keysite_raw$[ebp], ecx

; 630  : 
; 631  : 	ASSERT (duration > 0.0);

  00045	f3 0f 5a 45 20	 cvtss2sd xmm0, DWORD PTR _duration$[ebp]
  0004a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00052	77 18		 ja	 SHORT $LN3@create_bar
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HPAUVEC3D@@MM11@Z@4JA
  00059	83 c0 1c	 add	 eax, 28			; 0000001cH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0P@OPPNMPNC@duration?5?$DO?50?40@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_bar:

; 632  : 
; 633  : 	ASSERT (centre_position);

  0006c	83 7d 18 00	 cmp	 DWORD PTR _centre_position$[ebp], 0
  00070	75 18		 jne	 SHORT $LN4@create_bar
  00072	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HPAUVEC3D@@MM11@Z@4JA
  00077	83 c0 1e	 add	 eax, 30			; 0000001eH
  0007a	50		 push	 eax
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00080	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@BHAIJDIM@centre_position@
  00085	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_bar:

; 634  : 
; 635  : 	//
; 636  : 	// find 4 air nodes around the stated position
; 637  : 	//
; 638  : 
; 639  : 	cap_distance = (8 * KILOMETRE);

  0008a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@45fa0000
  00092	f3 0f 11 45 cc	 movss	 DWORD PTR _cap_distance$[ebp], xmm0

; 640  : 
; 641  : 	offset_angle = sfrand1 () * PI;

  00097	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000a1	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  000a6	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  000ab	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000b1	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000b4	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000ba	81 e9 00 40 00
	00		 sub	 ecx, 16384		; 00004000H
  000c0	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  000c4	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f10000000000000
  000cc	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@400921fb60000000
  000d4	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000d8	f3 0f 11 45 c8	 movss	 DWORD PTR _offset_angle$[ebp], xmm0

; 642  : 	
; 643  : 	sin_angle = sin (offset_angle);

  000dd	51		 push	 ecx
  000de	f3 0f 10 45 c8	 movss	 xmm0, DWORD PTR _offset_angle$[ebp]
  000e3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000e8	e8 00 00 00 00	 call	 ?sin@@YGMM@Z		; sin
  000ed	d9 5d c4	 fstp	 DWORD PTR _sin_angle$[ebp]

; 644  : 	cos_angle = cos (offset_angle);

  000f0	51		 push	 ecx
  000f1	f3 0f 10 45 c8	 movss	 xmm0, DWORD PTR _offset_angle$[ebp]
  000f6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000fb	e8 00 00 00 00	 call	 ?cos@@YGMM@Z		; cos
  00100	d9 5d c0	 fstp	 DWORD PTR _cos_angle$[ebp]

; 645  : 	
; 646  : 	cap_position_list [0] = *centre_position;

  00103	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00108	6b c8 00	 imul	 ecx, eax, 0
  0010b	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  0010f	8b 45 18	 mov	 eax, DWORD PTR _centre_position$[ebp]
  00112	8b 08		 mov	 ecx, DWORD PTR [eax]
  00114	89 0a		 mov	 DWORD PTR [edx], ecx
  00116	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00119	89 4a 04	 mov	 DWORD PTR [edx+4], ecx
  0011c	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0011f	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 647  : 	cap_position_list [1] = *centre_position;

  00122	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00127	c1 e0 00	 shl	 eax, 0
  0012a	8d 4c 05 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+eax]
  0012e	8b 55 18	 mov	 edx, DWORD PTR _centre_position$[ebp]
  00131	8b 02		 mov	 eax, DWORD PTR [edx]
  00133	89 01		 mov	 DWORD PTR [ecx], eax
  00135	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00138	89 41 04	 mov	 DWORD PTR [ecx+4], eax
  0013b	8b 52 08	 mov	 edx, DWORD PTR [edx+8]
  0013e	89 51 08	 mov	 DWORD PTR [ecx+8], edx

; 648  : 	cap_position_list [2] = *centre_position;

  00141	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00146	d1 e0		 shl	 eax, 1
  00148	8d 4c 05 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+eax]
  0014c	8b 55 18	 mov	 edx, DWORD PTR _centre_position$[ebp]
  0014f	8b 02		 mov	 eax, DWORD PTR [edx]
  00151	89 01		 mov	 DWORD PTR [ecx], eax
  00153	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00156	89 41 04	 mov	 DWORD PTR [ecx+4], eax
  00159	8b 52 08	 mov	 edx, DWORD PTR [edx+8]
  0015c	89 51 08	 mov	 DWORD PTR [ecx+8], edx

; 649  : 	cap_position_list [3] = *centre_position;

  0015f	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00164	6b c8 03	 imul	 ecx, eax, 3
  00167	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  0016b	8b 45 18	 mov	 eax, DWORD PTR _centre_position$[ebp]
  0016e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00170	89 0a		 mov	 DWORD PTR [edx], ecx
  00172	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00175	89 4a 04	 mov	 DWORD PTR [edx+4], ecx
  00178	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0017b	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 650  : 
; 651  : 	cap_position_list [0].x += (sin_angle * cap_distance);

  0017e	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00183	6b c8 00	 imul	 ecx, eax, 0
  00186	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  0018b	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00190	f3 0f 58 44 0d
	d0		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+ecx]
  00196	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  0019b	6b c2 00	 imul	 eax, edx, 0
  0019e	f3 0f 11 44 05
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+eax], xmm0

; 652  : 	cap_position_list [0].y += 0.0;

  001a4	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  001a9	6b c8 00	 imul	 ecx, eax, 0
  001ac	f3 0f 5a 44 0d
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+ecx+4]
  001b2	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  001ba	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  001bf	6b c2 00	 imul	 eax, edx, 0
  001c2	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001c6	f3 0f 11 44 05
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+eax+4], xmm0

; 653  : 	cap_position_list [0].z += (cos_angle * cap_distance);

  001cc	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  001d1	6b c8 00	 imul	 ecx, eax, 0
  001d4	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  001d9	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  001de	f3 0f 58 44 0d
	d8		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+ecx+8]
  001e4	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  001e9	6b c2 00	 imul	 eax, edx, 0
  001ec	f3 0f 11 44 05
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+eax+8], xmm0

; 654  : 
; 655  : 	cap_position_list [1].x += (cos_angle * cap_distance);

  001f2	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  001f7	c1 e0 00	 shl	 eax, 0
  001fa	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  001ff	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00204	f3 0f 58 44 05
	d0		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+eax]
  0020a	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0020f	c1 e1 00	 shl	 ecx, 0
  00212	f3 0f 11 44 0d
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+ecx], xmm0

; 656  : 	cap_position_list [1].y += 0.0;

  00218	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0021d	c1 e0 00	 shl	 eax, 0
  00220	f3 0f 5a 44 05
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+eax+4]
  00226	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  0022e	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00233	c1 e1 00	 shl	 ecx, 0
  00236	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0023a	f3 0f 11 44 0d
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+4], xmm0

; 657  : 	cap_position_list [1].z -= (sin_angle * cap_distance);

  00240	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00245	c1 e0 00	 shl	 eax, 0
  00248	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  0024d	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00252	f3 0f 10 4c 05
	d8		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+eax+8]
  00258	f3 0f 5c c8	 subss	 xmm1, xmm0
  0025c	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00261	c1 e1 00	 shl	 ecx, 0
  00264	f3 0f 11 4c 0d
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+8], xmm1

; 658  : 
; 659  : 	cap_position_list [2].x -= (sin_angle * cap_distance);

  0026a	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0026f	d1 e0		 shl	 eax, 1
  00271	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  00276	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  0027b	f3 0f 10 4c 05
	d0		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+eax]
  00281	f3 0f 5c c8	 subss	 xmm1, xmm0
  00285	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0028a	d1 e1		 shl	 ecx, 1
  0028c	f3 0f 11 4c 0d
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+ecx], xmm1

; 660  : 	cap_position_list [2].y += 0.0;

  00292	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00297	d1 e0		 shl	 eax, 1
  00299	f3 0f 5a 44 05
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+eax+4]
  0029f	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  002a7	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  002ac	d1 e1		 shl	 ecx, 1
  002ae	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  002b2	f3 0f 11 44 0d
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+4], xmm0

; 661  : 	cap_position_list [2].z -= (cos_angle * cap_distance);

  002b8	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002bd	d1 e0		 shl	 eax, 1
  002bf	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  002c4	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  002c9	f3 0f 10 4c 05
	d8		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+eax+8]
  002cf	f3 0f 5c c8	 subss	 xmm1, xmm0
  002d3	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  002d8	d1 e1		 shl	 ecx, 1
  002da	f3 0f 11 4c 0d
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+ecx+8], xmm1

; 662  : 
; 663  : 	cap_position_list [3].x -= (cos_angle * cap_distance);

  002e0	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002e5	6b c8 03	 imul	 ecx, eax, 3
  002e8	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _cos_angle$[ebp]
  002ed	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  002f2	f3 0f 10 4c 0d
	d0		 movss	 xmm1, DWORD PTR _cap_position_list$[ebp+ecx]
  002f8	f3 0f 5c c8	 subss	 xmm1, xmm0
  002fc	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  00301	6b c2 03	 imul	 eax, edx, 3
  00304	f3 0f 11 4c 05
	d0		 movss	 DWORD PTR _cap_position_list$[ebp+eax], xmm1

; 664  : 	cap_position_list [3].y += 0.0;

  0030a	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0030f	6b c8 03	 imul	 ecx, eax, 3
  00312	f3 0f 5a 44 0d
	d4		 cvtss2sd xmm0, DWORD PTR _cap_position_list$[ebp+ecx+4]
  00318	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@0000000000000000
  00320	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  00325	6b c2 03	 imul	 eax, edx, 3
  00328	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0032c	f3 0f 11 44 05
	d4		 movss	 DWORD PTR _cap_position_list$[ebp+eax+4], xmm0

; 665  : 	cap_position_list [3].z += (sin_angle * cap_distance);

  00332	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00337	6b c8 03	 imul	 ecx, eax, 3
  0033a	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _sin_angle$[ebp]
  0033f	f3 0f 59 45 cc	 mulss	 xmm0, DWORD PTR _cap_distance$[ebp]
  00344	f3 0f 58 44 0d
	d8		 addss	 xmm0, DWORD PTR _cap_position_list$[ebp+ecx+8]
  0034a	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  0034f	6b c2 03	 imul	 eax, edx, 3
  00352	f3 0f 11 44 05
	d8		 movss	 DWORD PTR _cap_position_list$[ebp+eax+8], xmm0

; 666  : 
; 667  : 	#if DEBUG_MODULE
; 668  : 	
; 669  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [0].x, cap_position_list [0].y, cap_position_list [0].z);
; 670  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [1].x, cap_position_list [1].y, cap_position_list [1].z);
; 671  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [2].x, cap_position_list [2].y, cap_position_list [2].z);
; 672  : 	debug_log ("TASKGEN: cap pos %f, %f, %f", cap_position_list [3].x, cap_position_list [3].y, cap_position_list [3].z);
; 673  : 
; 674  : 	#endif
; 675  : 
; 676  : 	//
; 677  : 	// create task
; 678  : 	//
; 679  : 
; 680  : 	start_ks = start_keysite;

  00358	8b 45 24	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  0035b	89 45 b0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 681  : 	end_ks = end_keysite;

  0035e	8b 45 28	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  00361	89 45 ac	 mov	 DWORD PTR _end_ks$[ebp], eax

; 682  : 
; 683  : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_COMBAT_AIR_PATROL, side, &keysite_raw->position, &start_ks))

  00364	8d 45 b0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  00367	50		 push	 eax
  00368	8b 4d b4	 mov	 ecx, DWORD PTR _keysite_raw$[ebp]
  0036b	83 c1 04	 add	 ecx, 4
  0036e	51		 push	 ecx
  0036f	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  00372	52		 push	 edx
  00373	6a 08		 push	 8
  00375	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  0037a	85 c0		 test	 eax, eax
  0037c	75 07		 jne	 SHORT $LN5@create_bar

; 684  : 	{
; 685  : 
; 686  : 		return NULL;

  0037e	33 c0		 xor	 eax, eax
  00380	e9 ac 00 00 00	 jmp	 $LN1@create_bar
$LN5@create_bar:

; 687  : 	}
; 688  : 
; 689  : 	expire_time = 10 * ONE_MINUTE;

  00385	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44160000
  0038d	f3 0f 11 45 bc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 690  : 
; 691  : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_COMBAT_AIR_PATROL,

  00392	6a 00		 push	 0
  00394	6a 25		 push	 37			; 00000025H
  00396	6a 00		 push	 0
  00398	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  0039d	6a 02		 push	 2
  0039f	6a 02		 push	 2
  003a1	6a 00		 push	 0
  003a3	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  003a8	6b c8 03	 imul	 ecx, eax, 3
  003ab	8d 54 0d d0	 lea	 edx, DWORD PTR _cap_position_list$[ebp+ecx]
  003af	52		 push	 edx
  003b0	6a 02		 push	 2
  003b2	6a 11		 push	 17			; 00000011H
  003b4	6a 00		 push	 0
  003b6	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  003bb	d1 e0		 shl	 eax, 1
  003bd	8d 4c 05 d0	 lea	 ecx, DWORD PTR _cap_position_list$[ebp+eax]
  003c1	51		 push	 ecx
  003c2	6a 02		 push	 2
  003c4	6a 11		 push	 17			; 00000011H
  003c6	6a 00		 push	 0
  003c8	ba 0c 00 00 00	 mov	 edx, 12			; 0000000cH
  003cd	c1 e2 00	 shl	 edx, 0
  003d0	8d 44 15 d0	 lea	 eax, DWORD PTR _cap_position_list$[ebp+edx]
  003d4	50		 push	 eax
  003d5	6a 02		 push	 2
  003d7	6a 03		 push	 3
  003d9	6a 00		 push	 0
  003db	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  003e0	6b d1 00	 imul	 edx, ecx, 0
  003e3	8d 44 15 d0	 lea	 eax, DWORD PTR _cap_position_list$[ebp+edx]
  003e7	50		 push	 eax
  003e8	51		 push	 ecx
  003e9	f3 0f 10 45 1c	 movss	 xmm0, DWORD PTR _priority$[ebp]
  003ee	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003f3	8b 4d 0c	 mov	 ecx, DWORD PTR _this_keysite$[ebp]
  003f6	51		 push	 ecx
  003f7	51		 push	 ecx
  003f8	f3 0f 10 45 20	 movss	 xmm0, DWORD PTR _duration$[ebp]
  003fd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00402	51		 push	 ecx
  00403	f3 0f 10 45 bc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  00408	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0040d	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00410	52		 push	 edx
  00411	6a 00		 push	 0
  00413	8b 45 ac	 mov	 eax, DWORD PTR _end_ks$[ebp]
  00416	50		 push	 eax
  00417	8b 4d b0	 mov	 ecx, DWORD PTR _start_ks$[ebp]
  0041a	51		 push	 ecx
  0041b	6a 01		 push	 1
  0041d	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  00420	52		 push	 edx
  00421	6a 08		 push	 8
  00423	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00428	83 c4 7c	 add	 esp, 124		; 0000007cH
  0042b	89 45 b8	 mov	 DWORD PTR _new_task$[ebp], eax

; 692  : 									side,
; 693  : 									MOVEMENT_TYPE_AIR,
; 694  : 									start_ks,
; 695  : 									end_ks,
; 696  : 									NULL,
; 697  : 									critical,
; 698  : 									expire_time,
; 699  : 									duration,
; 700  : 									this_keysite,
; 701  : 									priority,
; 702  : 									&cap_position_list [0], NULL, ENTITY_SUB_TYPE_WAYPOINT_CAP_START, FORMATION_ROW_LEFT,
; 703  : 									&cap_position_list [1], NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 704  : 									&cap_position_list [2], NULL, ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, FORMATION_ROW_LEFT,
; 705  : 									&cap_position_list [3], NULL, ENTITY_SUB_TYPE_WAYPOINT_CAP_LOOP, FORMATION_ROW_LEFT,
; 706  : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 707  : 
; 708  : 	return new_task;

  0042e	8b 45 b8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_bar:

; 709  : }

  00431	5f		 pop	 edi
  00432	5e		 pop	 esi
  00433	5b		 pop	 ebx
  00434	8b e5		 mov	 esp, ebp
  00436	5d		 pop	 ebp
  00437	c2 24 00	 ret	 36			; 00000024H
?create_barcap_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HPAUVEC3D@@MM11@Z ENDP ; create_barcap_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv206 = -96						; size = 4
tv180 = -96						; size = 4
tv89 = -96						; size = 4
tv198 = -92						; size = 4
tv172 = -92						; size = 4
tv160 = -92						; size = 4
tv81 = -92						; size = 4
_count$1 = -24						; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_new_task$ = -12					; size = 4
_expire_time$ = -8					; size = 4
_start_pos$ = -4					; size = 4
_side$ = 8						; size = 4
_target_group$ = 12					; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_bai_task, COMDAT

; 520  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 521  : 	vec3d
; 522  : 		*start_pos;
; 523  : 
; 524  : 	float
; 525  : 		expire_time;
; 526  : 
; 527  : 	entity
; 528  : 		*new_task;
; 529  : 
; 530  : 	entity
; 531  : 		*start_ks,
; 532  : 		*end_ks;
; 533  : 
; 534  : 	new_task = NULL;

  00009	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 535  : 
; 536  : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_bai
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 10	 add	 eax, 16			; 00000010H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_bai:

; 537  : 
; 538  : 	ASSERT (target_group);

  00039	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  0003d	75 18		 jne	 SHORT $LN3@create_bai
  0003f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00044	83 c0 12	 add	 eax, 18			; 00000012H
  00047	50		 push	 eax
  00048	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004d	68 00 00 00 00	 push	 OFFSET ??_C@_0N@MPJEABLJ@target_group@
  00052	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_bai:

; 539  : 
; 540  : 	//
; 541  : 	// Create BAI task
; 542  : 	//
; 543  : 
; 544  : 	#if DEBUG_MODULE >= 2
; 545  : 
; 546  : 	debug_log ("TASKGEN: creating side %d BAI task to %s (%d)", side, get_local_entity_string (target_group, STRING_TYPE_FULL_NAME), get_local_entity_index (target_group));
; 547  : 
; 548  : 	#endif
; 549  : 
; 550  : 	start_pos = get_local_entity_vec3d_ptr (target_group, VEC3D_TYPE_POSITION);

  00057	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  0005b	74 0a		 je	 SHORT $LN9@create_bai
  0005d	8b 45 0c	 mov	 eax, DWORD PTR _target_group$[ebp]
  00060	8b 08		 mov	 ecx, DWORD PTR [eax]
  00062	89 4d a4	 mov	 DWORD PTR tv81[ebp], ecx
  00065	eb 21		 jmp	 SHORT $LN10@create_bai
$LN9@create_bai:
  00067	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0006d	83 c2 1e	 add	 edx, 30			; 0000001eH
  00070	52		 push	 edx
  00071	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0007b	50		 push	 eax
  0007c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00081	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN10@create_bai:
  00088	b9 01 00 00 00	 mov	 ecx, 1
  0008d	85 c9		 test	 ecx, ecx
  0008f	74 09		 je	 SHORT $LN11@create_bai
  00091	c7 45 a0 08 00
	00 00		 mov	 DWORD PTR tv89[ebp], 8
  00098	eb 21		 jmp	 SHORT $LN12@create_bai
$LN11@create_bai:
  0009a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  000a0	83 c2 1e	 add	 edx, 30			; 0000001eH
  000a3	52		 push	 edx
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b4	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN12@create_bai:
  000bb	6a 08		 push	 8
  000bd	8b 4d 0c	 mov	 ecx, DWORD PTR _target_group$[ebp]
  000c0	51		 push	 ecx
  000c1	6b 55 a4 60	 imul	 edx, DWORD PTR tv81[ebp], 96
  000c5	8b 45 a0	 mov	 eax, DWORD PTR tv89[ebp]
  000c8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000cf	ff d1		 call	 ecx
  000d1	89 45 fc	 mov	 DWORD PTR _start_pos$[ebp], eax

; 551  : 
; 552  : 	start_ks = start_keysite;

  000d4	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000d7	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 553  : 	end_ks = end_keysite;

  000da	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000dd	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 554  : 
; 555  : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_BAI, side, start_pos, &start_ks))

  000e0	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000e3	50		 push	 eax
  000e4	8b 4d fc	 mov	 ecx, DWORD PTR _start_pos$[ebp]
  000e7	51		 push	 ecx
  000e8	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000eb	52		 push	 edx
  000ec	6a 03		 push	 3
  000ee	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000f3	85 c0		 test	 eax, eax
  000f5	75 07		 jne	 SHORT $LN4@create_bai

; 556  : 	{
; 557  : 
; 558  : 		return NULL;

  000f7	33 c0		 xor	 eax, eax
  000f9	e9 fe 01 00 00	 jmp	 $LN1@create_bai
$LN4@create_bai:

; 559  : 	}
; 560  : 
; 561  : 	expire_time = 20 * ONE_MINUTE;

  000fe	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44960000
  00106	f3 0f 11 45 f8	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 562  : 
; 563  : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_BAI,

  0010b	6a 00		 push	 0
  0010d	6a 25		 push	 37			; 00000025H
  0010f	6a 00		 push	 0
  00111	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  00116	6a 02		 push	 2
  00118	6a 01		 push	 1
  0011a	6a 00		 push	 0
  0011c	8b 45 fc	 mov	 eax, DWORD PTR _start_pos$[ebp]
  0011f	50		 push	 eax
  00120	51		 push	 ecx
  00121	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00126	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0012b	8b 4d 0c	 mov	 ecx, DWORD PTR _target_group$[ebp]
  0012e	51		 push	 ecx
  0012f	51		 push	 ecx
  00130	0f 57 c0	 xorps	 xmm0, xmm0
  00133	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00138	51		 push	 ecx
  00139	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  0013e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00143	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00146	52		 push	 edx
  00147	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  0014a	50		 push	 eax
  0014b	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  0014e	51		 push	 ecx
  0014f	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00152	52		 push	 edx
  00153	6a 01		 push	 1
  00155	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00158	50		 push	 eax
  00159	6a 03		 push	 3
  0015b	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00160	83 c4 4c	 add	 esp, 76			; 0000004cH
  00163	89 45 f4	 mov	 DWORD PTR _new_task$[ebp], eax

; 564  : 									side,
; 565  : 									MOVEMENT_TYPE_AIR,
; 566  : 									start_ks,
; 567  : 									end_ks,
; 568  : 									originator,
; 569  : 									critical,
; 570  : 									expire_time,
; 571  : 									0.0,
; 572  : 									target_group,
; 573  : 									priority,
; 574  : 									start_pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_ATTACK, FORMATION_ROW_LEFT,
; 575  : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 576  : 
; 577  : 	if (new_task)

  00166	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  0016a	0f 84 89 01 00
	00		 je	 $LN5@create_bai

; 578  : 	{
; 579  : 		float
; 580  : 			count;
; 581  : 
; 582  : 		//
; 583  : 		// store current group member count
; 584  : 		//
; 585  : 
; 586  : 		ASSERT (get_local_entity_type (target_group) == ENTITY_TYPE_GROUP);

  00170	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  00174	74 0a		 je	 SHORT $LN13@create_bai
  00176	8b 45 0c	 mov	 eax, DWORD PTR _target_group$[ebp]
  00179	8b 08		 mov	 ecx, DWORD PTR [eax]
  0017b	89 4d a4	 mov	 DWORD PTR tv160[ebp], ecx
  0017e	eb 21		 jmp	 SHORT $LN14@create_bai
$LN13@create_bai:
  00180	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00186	83 c2 42	 add	 edx, 66			; 00000042H
  00189	52		 push	 edx
  0018a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0018f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00194	50		 push	 eax
  00195	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019a	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
$LN14@create_bai:
  001a1	83 7d a4 0c	 cmp	 DWORD PTR tv160[ebp], 12 ; 0000000cH
  001a5	74 18		 je	 SHORT $LN6@create_bai
  001a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001ac	83 c0 42	 add	 eax, 66			; 00000042H
  001af	50		 push	 eax
  001b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b5	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@LFJJBBLK@get_local_entity_type?5?$CItarget_g@
  001ba	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@create_bai:

; 587  : 
; 588  : 		count = get_local_entity_int_value (target_group, INT_TYPE_MEMBER_COUNT);

  001bf	83 7d 0c 00	 cmp	 DWORD PTR _target_group$[ebp], 0
  001c3	74 0a		 je	 SHORT $LN15@create_bai
  001c5	8b 45 0c	 mov	 eax, DWORD PTR _target_group$[ebp]
  001c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  001ca	89 4d a4	 mov	 DWORD PTR tv172[ebp], ecx
  001cd	eb 21		 jmp	 SHORT $LN16@create_bai
$LN15@create_bai:
  001cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001d5	83 c2 44	 add	 edx, 68			; 00000044H
  001d8	52		 push	 edx
  001d9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv172[ebp], 0
$LN16@create_bai:
  001f0	b9 01 00 00 00	 mov	 ecx, 1
  001f5	85 c9		 test	 ecx, ecx
  001f7	74 09		 je	 SHORT $LN17@create_bai
  001f9	c7 45 a0 86 00
	00 00		 mov	 DWORD PTR tv180[ebp], 134 ; 00000086H
  00200	eb 21		 jmp	 SHORT $LN18@create_bai
$LN17@create_bai:
  00202	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00208	83 c2 44	 add	 edx, 68			; 00000044H
  0020b	52		 push	 edx
  0020c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00211	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00216	50		 push	 eax
  00217	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0021c	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv180[ebp], 0
$LN18@create_bai:
  00223	68 86 00 00 00	 push	 134			; 00000086H
  00228	8b 4d 0c	 mov	 ecx, DWORD PTR _target_group$[ebp]
  0022b	51		 push	 ecx
  0022c	69 55 a4 5c 04
	00 00		 imul	 edx, DWORD PTR tv172[ebp], 1116
  00233	8b 45 a0	 mov	 eax, DWORD PTR tv180[ebp]
  00236	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0023d	ff d1		 call	 ecx
  0023f	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00243	f3 0f 11 45 e8	 movss	 DWORD PTR _count$1[ebp], xmm0

; 589  : 
; 590  : 		ASSERT (count > 0);

  00248	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _count$1[ebp]
  0024d	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  00254	77 18		 ja	 SHORT $LN7@create_bai
  00256	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0025b	83 c0 46	 add	 eax, 70			; 00000046H
  0025e	50		 push	 eax
  0025f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00264	68 00 00 00 00	 push	 OFFSET ??_C@_09DMMLFBJB@count?5?$DO?50@
  00269	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@create_bai:

; 591  : 
; 592  : 		set_local_entity_float_value (new_task, FLOAT_TYPE_TASK_USER_DATA, count);

  0026e	83 7d f4 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  00272	74 0a		 je	 SHORT $LN19@create_bai
  00274	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
  00277	8b 08		 mov	 ecx, DWORD PTR [eax]
  00279	89 4d a4	 mov	 DWORD PTR tv198[ebp], ecx
  0027c	eb 21		 jmp	 SHORT $LN20@create_bai
$LN19@create_bai:
  0027e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00284	83 c2 48	 add	 edx, 72			; 00000048H
  00287	52		 push	 edx
  00288	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0028d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00292	50		 push	 eax
  00293	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00298	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$LN20@create_bai:
  0029f	b9 01 00 00 00	 mov	 ecx, 1
  002a4	85 c9		 test	 ecx, ecx
  002a6	74 09		 je	 SHORT $LN21@create_bai
  002a8	c7 45 a0 8c 00
	00 00		 mov	 DWORD PTR tv206[ebp], 140 ; 0000008cH
  002af	eb 21		 jmp	 SHORT $LN22@create_bai
$LN21@create_bai:
  002b1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  002b7	83 c2 48	 add	 edx, 72			; 00000048H
  002ba	52		 push	 edx
  002bb	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  002c5	50		 push	 eax
  002c6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002cb	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv206[ebp], 0
$LN22@create_bai:
  002d2	51		 push	 ecx
  002d3	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _count$1[ebp]
  002d8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002dd	68 8c 00 00 00	 push	 140			; 0000008cH
  002e2	8b 4d f4	 mov	 ecx, DWORD PTR _new_task$[ebp]
  002e5	51		 push	 ecx
  002e6	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv198[ebp], 700
  002ed	8b 45 a0	 mov	 eax, DWORD PTR tv206[ebp]
  002f0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  002f7	ff d1		 call	 ecx
$LN5@create_bai:

; 593  : 	}
; 594  : 
; 595  : 	return new_task;

  002f9	8b 45 f4	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_bai:

; 596  : }

  002fc	5f		 pop	 edi
  002fd	5e		 pop	 esi
  002fe	5b		 pop	 ebx
  002ff	8b e5		 mov	 esp, ebp
  00301	5d		 pop	 ebp
  00302	c2 1c 00	 ret	 28			; 0000001cH
?create_bai_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_bai_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z
_TEXT	SEGMENT
tv189 = -96						; size = 4
tv163 = -96						; size = 4
tv84 = -96						; size = 4
tv181 = -92						; size = 4
tv155 = -92						; size = 4
tv76 = -92						; size = 4
_efficiency$1 = -24					; size = 4
_end_ks$ = -20						; size = 4
_start_ks$ = -16					; size = 4
_pos$ = -12						; size = 4
_new_task$ = -8						; size = 4
_expire_time$ = -4					; size = 4
_side$ = 8						; size = 4
_target$ = 12						; size = 4
_originator$ = 16					; size = 4
_critical$ = 20						; size = 4
_priority$ = 24						; size = 4
_start_keysite$ = 28					; size = 4
_end_keysite$ = 32					; size = 4
?create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z PROC ; create_anti_ship_strike_task, COMDAT

; 445  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 446  : 	float
; 447  : 		expire_time;
; 448  : 
; 449  : 	entity
; 450  : 		*new_task;
; 451  : 
; 452  : 	vec3d
; 453  : 		*pos;
; 454  : 
; 455  : 	entity
; 456  : 		*start_ks,
; 457  : 		*end_ks;
; 458  : 
; 459  : 	new_task = NULL;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _new_task$[ebp], 0

; 460  : 
; 461  : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00010	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00017	74 20		 je	 SHORT $LN2@create_ant
  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0001e	83 c0 10	 add	 eax, 16			; 00000010H
  00021	50		 push	 eax
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00031	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00036	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@create_ant:

; 462  : 
; 463  : 	pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00039	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  0003d	74 0a		 je	 SHORT $LN7@create_ant
  0003f	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  00042	8b 08		 mov	 ecx, DWORD PTR [eax]
  00044	89 4d a4	 mov	 DWORD PTR tv76[ebp], ecx
  00047	eb 21		 jmp	 SHORT $LN8@create_ant
$LN7@create_ant:
  00049	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0004f	83 c2 12	 add	 edx, 18			; 00000012H
  00052	52		 push	 edx
  00053	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00058	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00063	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv76[ebp], 0
$LN8@create_ant:
  0006a	b9 01 00 00 00	 mov	 ecx, 1
  0006f	85 c9		 test	 ecx, ecx
  00071	74 09		 je	 SHORT $LN9@create_ant
  00073	c7 45 a0 08 00
	00 00		 mov	 DWORD PTR tv84[ebp], 8
  0007a	eb 21		 jmp	 SHORT $LN10@create_ant
$LN9@create_ant:
  0007c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00082	83 c2 12	 add	 edx, 18			; 00000012H
  00085	52		 push	 edx
  00086	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00090	50		 push	 eax
  00091	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00096	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN10@create_ant:
  0009d	6a 08		 push	 8
  0009f	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  000a2	51		 push	 ecx
  000a3	6b 55 a4 60	 imul	 edx, DWORD PTR tv76[ebp], 96
  000a7	8b 45 a0	 mov	 eax, DWORD PTR tv84[ebp]
  000aa	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000b1	ff d1		 call	 ecx
  000b3	89 45 f4	 mov	 DWORD PTR _pos$[ebp], eax

; 464  : 
; 465  : 	start_ks = start_keysite;

  000b6	8b 45 1c	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  000b9	89 45 f0	 mov	 DWORD PTR _start_ks$[ebp], eax

; 466  : 	end_ks = end_keysite;

  000bc	8b 45 20	 mov	 eax, DWORD PTR _end_keysite$[ebp]
  000bf	89 45 ec	 mov	 DWORD PTR _end_ks$[ebp], eax

; 467  : 
; 468  : 	if (!get_task_start_keysite (ENTITY_SUB_TYPE_TASK_ANTI_SHIP_STRIKE, side, pos, &start_ks))

  000c2	8d 45 f0	 lea	 eax, DWORD PTR _start_ks$[ebp]
  000c5	50		 push	 eax
  000c6	8b 4d f4	 mov	 ecx, DWORD PTR _pos$[ebp]
  000c9	51		 push	 ecx
  000ca	8b 55 08	 mov	 edx, DWORD PTR _side$[ebp]
  000cd	52		 push	 edx
  000ce	6a 02		 push	 2
  000d0	e8 00 00 00 00	 call	 ?get_task_start_keysite@@YGHHW4ENTITY_SIDES@@PAUVEC3D@@PAPAUENTITY@@@Z ; get_task_start_keysite
  000d5	85 c0		 test	 eax, eax
  000d7	75 07		 jne	 SHORT $LN3@create_ant

; 469  : 	{
; 470  : 
; 471  : 		return NULL;

  000d9	33 c0		 xor	 eax, eax
  000db	e9 a7 01 00 00	 jmp	 $LN1@create_ant
$LN3@create_ant:

; 472  : 	}
; 473  : 
; 474  : 	//
; 475  : 	// Create strike task
; 476  : 	//
; 477  : 
; 478  : 	#if DEBUG_MODULE >= 2
; 479  : 
; 480  : 	debug_log ("TASKGEN: creating side %d anti-ship strike task to keysite %s ", side, get_local_entity_string (target, STRING_TYPE_KEYSITE_NAME));
; 481  : 
; 482  : 	#endif
; 483  : 
; 484  : 	expire_time = 30 * ONE_MINUTE;

  000e0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@44e10000
  000e8	f3 0f 11 45 fc	 movss	 DWORD PTR _expire_time$[ebp], xmm0

; 485  : 
; 486  : 	new_task = create_task (ENTITY_SUB_TYPE_TASK_ANTI_SHIP_STRIKE,

  000ed	6a 00		 push	 0
  000ef	6a 25		 push	 37			; 00000025H
  000f1	6a 00		 push	 0
  000f3	68 00 00 00 00	 push	 OFFSET ?terminator_point@@3UVEC3D@@A ; terminator_point
  000f8	6a 02		 push	 2
  000fa	6a 01		 push	 1
  000fc	6a 00		 push	 0
  000fe	8b 45 f4	 mov	 eax, DWORD PTR _pos$[ebp]
  00101	50		 push	 eax
  00102	51		 push	 ecx
  00103	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _priority$[ebp]
  00108	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010d	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  00110	51		 push	 ecx
  00111	51		 push	 ecx
  00112	0f 57 c0	 xorps	 xmm0, xmm0
  00115	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0011a	51		 push	 ecx
  0011b	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _expire_time$[ebp]
  00120	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00125	8b 55 14	 mov	 edx, DWORD PTR _critical$[ebp]
  00128	52		 push	 edx
  00129	8b 45 10	 mov	 eax, DWORD PTR _originator$[ebp]
  0012c	50		 push	 eax
  0012d	8b 4d ec	 mov	 ecx, DWORD PTR _end_ks$[ebp]
  00130	51		 push	 ecx
  00131	8b 55 f0	 mov	 edx, DWORD PTR _start_ks$[ebp]
  00134	52		 push	 edx
  00135	6a 01		 push	 1
  00137	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  0013a	50		 push	 eax
  0013b	6a 02		 push	 2
  0013d	e8 00 00 00 00	 call	 ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ; create_task
  00142	83 c4 4c	 add	 esp, 76			; 0000004cH
  00145	89 45 f8	 mov	 DWORD PTR _new_task$[ebp], eax

; 487  : 									side,
; 488  : 									MOVEMENT_TYPE_AIR,
; 489  : 									start_ks,
; 490  : 									end_ks,
; 491  : 									originator,
; 492  : 									critical,
; 493  : 									expire_time,
; 494  : 									0.0,
; 495  : 									target,
; 496  : 									priority,
; 497  : 									pos, NULL, ENTITY_SUB_TYPE_WAYPOINT_ATTACK, FORMATION_ROW_LEFT,
; 498  : 									&terminator_point, NULL, NUM_ENTITY_SUB_TYPE_WAYPOINTS, FORMATION_NONE);
; 499  : 
; 500  : 	if (new_task)

  00148	83 7d f8 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  0014c	0f 84 32 01 00
	00		 je	 $LN4@create_ant

; 501  : 	{
; 502  : 		float
; 503  : 			efficiency;
; 504  : 			
; 505  : 		efficiency = get_local_entity_float_value (target, FLOAT_TYPE_EFFICIENCY);

  00152	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  00156	74 0a		 je	 SHORT $LN11@create_ant
  00158	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  0015b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0015d	89 4d a4	 mov	 DWORD PTR tv155[ebp], ecx
  00160	eb 21		 jmp	 SHORT $LN12@create_ant
$LN11@create_ant:
  00162	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00168	83 c2 3c	 add	 edx, 60			; 0000003cH
  0016b	52		 push	 edx
  0016c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00171	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00176	50		 push	 eax
  00177	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0017c	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN12@create_ant:
  00183	b9 01 00 00 00	 mov	 ecx, 1
  00188	85 c9		 test	 ecx, ecx
  0018a	74 09		 je	 SHORT $LN13@create_ant
  0018c	c7 45 a0 21 00
	00 00		 mov	 DWORD PTR tv163[ebp], 33 ; 00000021H
  00193	eb 21		 jmp	 SHORT $LN14@create_ant
$LN13@create_ant:
  00195	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0019b	83 c2 3c	 add	 edx, 60			; 0000003cH
  0019e	52		 push	 edx
  0019f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  001a9	50		 push	 eax
  001aa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001af	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv163[ebp], 0
$LN14@create_ant:
  001b6	6a 21		 push	 33			; 00000021H
  001b8	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  001bb	51		 push	 ecx
  001bc	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv155[ebp], 700
  001c3	8b 45 a0	 mov	 eax, DWORD PTR tv163[ebp]
  001c6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  001cd	ff d1		 call	 ecx
  001cf	d9 5d e8	 fstp	 DWORD PTR _efficiency$1[ebp]

; 506  : 
; 507  : 		ASSERT (efficiency > 0.0);

  001d2	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _efficiency$1[ebp]
  001d7	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  001df	77 18		 ja	 SHORT $LN5@create_ant
  001e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  001e6	83 c0 3e	 add	 eax, 62			; 0000003eH
  001e9	50		 push	 eax
  001ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ef	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@IKOILMEM@efficiency?5?$DO?50?40@
  001f4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_ant:

; 508  : 
; 509  : 		set_local_entity_float_value (new_task, FLOAT_TYPE_TASK_USER_DATA, efficiency);

  001f9	83 7d f8 00	 cmp	 DWORD PTR _new_task$[ebp], 0
  001fd	74 0a		 je	 SHORT $LN15@create_ant
  001ff	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
  00202	8b 08		 mov	 ecx, DWORD PTR [eax]
  00204	89 4d a4	 mov	 DWORD PTR tv181[ebp], ecx
  00207	eb 21		 jmp	 SHORT $LN16@create_ant
$LN15@create_ant:
  00209	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  0020f	83 c2 40	 add	 edx, 64			; 00000040H
  00212	52		 push	 edx
  00213	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00218	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0021d	50		 push	 eax
  0021e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00223	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv181[ebp], 0
$LN16@create_ant:
  0022a	b9 01 00 00 00	 mov	 ecx, 1
  0022f	85 c9		 test	 ecx, ecx
  00231	74 09		 je	 SHORT $LN17@create_ant
  00233	c7 45 a0 8c 00
	00 00		 mov	 DWORD PTR tv189[ebp], 140 ; 0000008cH
  0023a	eb 21		 jmp	 SHORT $LN18@create_ant
$LN17@create_ant:
  0023c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU2@1HM11@Z@4JA
  00242	83 c2 40	 add	 edx, 64			; 00000040H
  00245	52		 push	 edx
  00246	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0024b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00250	50		 push	 eax
  00251	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00256	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv189[ebp], 0
$LN18@create_ant:
  0025d	51		 push	 ecx
  0025e	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _efficiency$1[ebp]
  00263	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00268	68 8c 00 00 00	 push	 140			; 0000008cH
  0026d	8b 4d f8	 mov	 ecx, DWORD PTR _new_task$[ebp]
  00270	51		 push	 ecx
  00271	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv181[ebp], 700
  00278	8b 45 a0	 mov	 eax, DWORD PTR tv189[ebp]
  0027b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  00282	ff d1		 call	 ecx
$LN4@create_ant:

; 510  : 	}
; 511  : 
; 512  : 	return new_task;

  00284	8b 45 f8	 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_ant:

; 513  : }

  00287	5f		 pop	 edi
  00288	5e		 pop	 esi
  00289	5b		 pop	 ebx
  0028a	8b e5		 mov	 esp, ebp
  0028c	5d		 pop	 ebp
  0028d	c2 1c 00	 ret	 28			; 0000001cH
?create_anti_ship_strike_task@@YGPAUENTITY@@W4ENTITY_SIDES@@PAU1@1HM11@Z ENDP ; create_anti_ship_strike_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\taskgen\taskgen.c
;	COMDAT ?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ
_TEXT	SEGMENT
tv506 = -992						; size = 4
tv479 = -992						; size = 4
tv457 = -992						; size = 4
tv434 = -992						; size = 4
tv398 = -992						; size = 4
tv378 = -992						; size = 4
tv358 = -992						; size = 4
tv338 = -992						; size = 4
tv318 = -992						; size = 4
tv296 = -992						; size = 4
tv498 = -988						; size = 4
tv471 = -988						; size = 4
tv450 = -988						; size = 4
tv426 = -988						; size = 4
tv390 = -988						; size = 4
tv370 = -988						; size = 4
tv350 = -988						; size = 4
tv330 = -988						; size = 4
tv310 = -988						; size = 4
tv288 = -988						; size = 4
_enemy_force$1 = -852					; size = 4
_create_stack_attributes$ = -848			; size = 4
_pargs$ = -844						; size = 4
_route_formation_type_list$ = -840			; size = 128
_route_waypoint_type_list$ = -712			; size = 128
_route_formation_types$ = -584				; size = 4
_route_waypoint_types$ = -580				; size = 4
_formation_type$ = -576					; size = 4
_waypoint_type$ = -572					; size = 4
_route_dependent_list$ = -568				; size = 128
_route_dependents$ = -440				; size = 4
_dependent$ = -436					; size = 4
_new_task$ = -432					; size = 4
_force_en$ = -428					; size = 4
_sec$ = -424						; size = 4
_sec_raw$ = -420					; size = 4
_force_raw$ = -416					; size = 4
_route_node_list$ = -412				; size = 384
_route_nodes$ = -28					; size = 4
_position$ = -24					; size = 4
_route_length$ = -20					; size = 4
_enemy_sectors$ = -16					; size = 4
_air_threats$ = -12					; size = 4
_id_max$ = -8						; size = 4
_id$ = -4						; size = 4
_sub_type$ = 8						; size = 4
_side$ = 12						; size = 4
_movement_type$ = 16					; size = 4
_start_keysite$ = 20					; size = 4
_end_keysite$ = 24					; size = 4
_originator$ = 28					; size = 4
_critical_task$ = 32					; size = 4
_expire_timer$ = 36					; size = 4
_stop_timer$ = 40					; size = 4
_task_objective$ = 44					; size = 4
_task_priority$ = 48					; size = 4
?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ PROC ; create_task, COMDAT

; 128  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e0 03 00
	00		 sub	 esp, 992		; 000003e0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 129  : 
; 130  : 	int
; 131  : 		id,
; 132  : 		id_max,
; 133  : 		air_threats,
; 134  : 		enemy_sectors,
; 135  : 		route_length = 0;

  0000c	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _route_length$[ebp], 0

; 136  : 
; 137  : 	vec3d
; 138  : 		*position,
; 139  : 		*route_nodes,
; 140  : 		route_node_list [MAX_ROUTE_NODES];
; 141  : 
; 142  : 	force
; 143  : 		*force_raw;
; 144  : 
; 145  : 	sector
; 146  : 		*sec_raw;
; 147  : 
; 148  : 	entity
; 149  : 		*sec,
; 150  : 		*force_en,
; 151  : 		*new_task,
; 152  : 		*dependent,
; 153  : 		**route_dependents,
; 154  : 		*route_dependent_list [MAX_ROUTE_NODES];
; 155  : 
; 156  : 	entity_sub_types
; 157  : 		waypoint_type,
; 158  : 		formation_type,
; 159  : 		*route_waypoint_types,
; 160  : 		*route_formation_types,
; 161  : 		route_waypoint_type_list [MAX_ROUTE_NODES],
; 162  : 		route_formation_type_list [MAX_ROUTE_NODES];
; 163  : 
; 164  : 	va_list
; 165  : 		pargs;
; 166  : 
; 167  : 	int
; 168  : 		create_stack_attributes;
; 169  : 
; 170  : 	debug_assert (get_comms_model () == COMMS_MODEL_SERVER);

  00013	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  0001a	74 20		 je	 SHORT $LN7@create_tas
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00021	83 c0 2a	 add	 eax, 42			; 0000002aH
  00024	50		 push	 eax
  00025	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@PODNONFH@ASSERT?5?$CFs?5?$CI?$CFs?3?$CFd?$CJ@
  00034	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00039	83 c4 10	 add	 esp, 16			; 00000010H
$LN7@create_tas:

; 171  : 
; 172  : 	if (!validate_task_generation (side, sub_type))

  0003c	8b 45 08	 mov	 eax, DWORD PTR _sub_type$[ebp]
  0003f	50		 push	 eax
  00040	8b 4d 0c	 mov	 ecx, DWORD PTR _side$[ebp]
  00043	51		 push	 ecx
  00044	e8 00 00 00 00	 call	 ?validate_task_generation@@YGHW4ENTITY_SIDES@@H@Z ; validate_task_generation
  00049	85 c0		 test	 eax, eax
  0004b	75 1f		 jne	 SHORT $LN8@create_tas

; 173  : 	{
; 174  : 		debug_log ("TASKGEN: Can't create task %s", task_database [sub_type].full_name);

  0004d	6b 45 08 50	 imul	 eax, DWORD PTR _sub_type$[ebp], 80
  00051	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax]
  00057	51		 push	 ecx
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@HGGDNFHD@TASKGEN?3?5Can?8t?5create?5task?5?$CFs@
  0005d	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00062	83 c4 08	 add	 esp, 8

; 175  : 
; 176  : 		return NULL;

  00065	33 c0		 xor	 eax, eax
  00067	e9 29 0b 00 00	 jmp	 $LN1@create_tas
$LN8@create_tas:

; 177  : 	}
; 178  : 
; 179  :    #if DEBUG_MODULE >= 2
; 180  : 
; 181  : 	if (sub_type == ENTITY_SUB_TYPE_TASK_ENGAGE)
; 182  : 	{
; 183  : 
; 184  : 		if (task_objective)
; 185  : 		{
; 186  : 
; 187  : 			debug_log ("TASK GENERATION: create task type %s, movement_type %s, objective %s", entity_sub_type_task_names [sub_type], movement_names [movement_type], entity_type_names [task_objective->type]);
; 188  : 		}
; 189  : 		else
; 190  : 		{
; 191  : 
; 192  : 			debug_log ("TASK GENERATION: create task type %s, movement_type %s, objective NULL", entity_sub_type_task_names [sub_type], movement_names [movement_type]);
; 193  : 		}
; 194  : 	}
; 195  : 
; 196  :    #endif
; 197  : 
; 198  : 	//////////////////////////////////////////////////////////////////
; 199  : 	//
; 200  : 	// Update counter
; 201  : 	//
; 202  : 	//////////////////////////////////////////////////////////////////
; 203  : 
; 204  : 	force_en = get_local_force_entity (side);

  0006c	8b 45 0c	 mov	 eax, DWORD PTR _side$[ebp]
  0006f	50		 push	 eax
  00070	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00075	89 85 54 fe ff
	ff		 mov	 DWORD PTR _force_en$[ebp], eax

; 205  : 
; 206  : 	force_raw = (force *) get_local_entity_data (force_en);

  0007b	8b 85 54 fe ff
	ff		 mov	 eax, DWORD PTR _force_en$[ebp]
  00081	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00084	89 8d 60 fe ff
	ff		 mov	 DWORD PTR _force_raw$[ebp], ecx

; 207  : 
; 208  : 	force_raw->task_generation [sub_type].created ++;

  0008a	8b 45 08	 mov	 eax, DWORD PTR _sub_type$[ebp]
  0008d	c1 e0 04	 shl	 eax, 4
  00090	8b 8d 60 fe ff
	ff		 mov	 ecx, DWORD PTR _force_raw$[ebp]
  00096	8b 94 01 40 01
	00 00		 mov	 edx, DWORD PTR [ecx+eax+320]
  0009d	83 c2 01	 add	 edx, 1
  000a0	8b 45 08	 mov	 eax, DWORD PTR _sub_type$[ebp]
  000a3	c1 e0 04	 shl	 eax, 4
  000a6	8b 8d 60 fe ff
	ff		 mov	 ecx, DWORD PTR _force_raw$[ebp]
  000ac	89 94 01 40 01
	00 00		 mov	 DWORD PTR [ecx+eax+320], edx

; 209  : 
; 210  : 	//////////////////////////////////////////////////////////////////
; 211  : 	//
; 212  : 	// Read positions off stack
; 213  : 	//
; 214  : 	//////////////////////////////////////////////////////////////////
; 215  : 
; 216  : 	va_start (pargs, task_priority);

  000b3	8d 45 34	 lea	 eax, DWORD PTR _task_priority$[ebp+4]
  000b6	89 85 b4 fc ff
	ff		 mov	 DWORD PTR _pargs$[ebp], eax
$LN66@create_tas:

; 217  : 
; 218  : 	do
; 219  : 	{
; 220  : 
; 221  : 		position = va_arg (pargs, vec3d *);

  000bc	8b 85 b4 fc ff
	ff		 mov	 eax, DWORD PTR _pargs$[ebp]
  000c2	83 c0 04	 add	 eax, 4
  000c5	89 85 b4 fc ff
	ff		 mov	 DWORD PTR _pargs$[ebp], eax
  000cb	8b 8d b4 fc ff
	ff		 mov	 ecx, DWORD PTR _pargs$[ebp]
  000d1	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  000d4	89 55 e8	 mov	 DWORD PTR _position$[ebp], edx

; 222  : 
; 223  : 		dependent = va_arg (pargs, entity *);

  000d7	8b 85 b4 fc ff
	ff		 mov	 eax, DWORD PTR _pargs$[ebp]
  000dd	83 c0 04	 add	 eax, 4
  000e0	89 85 b4 fc ff
	ff		 mov	 DWORD PTR _pargs$[ebp], eax
  000e6	8b 8d b4 fc ff
	ff		 mov	 ecx, DWORD PTR _pargs$[ebp]
  000ec	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  000ef	89 95 4c fe ff
	ff		 mov	 DWORD PTR _dependent$[ebp], edx

; 224  : 
; 225  : 		waypoint_type = va_arg (pargs, entity_sub_types);

  000f5	8b 85 b4 fc ff
	ff		 mov	 eax, DWORD PTR _pargs$[ebp]
  000fb	83 c0 04	 add	 eax, 4
  000fe	89 85 b4 fc ff
	ff		 mov	 DWORD PTR _pargs$[ebp], eax
  00104	8b 8d b4 fc ff
	ff		 mov	 ecx, DWORD PTR _pargs$[ebp]
  0010a	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  0010d	89 95 c4 fd ff
	ff		 mov	 DWORD PTR _waypoint_type$[ebp], edx

; 226  : 
; 227  : 		formation_type = va_arg (pargs, entity_sub_types);

  00113	8b 85 b4 fc ff
	ff		 mov	 eax, DWORD PTR _pargs$[ebp]
  00119	83 c0 04	 add	 eax, 4
  0011c	89 85 b4 fc ff
	ff		 mov	 DWORD PTR _pargs$[ebp], eax
  00122	8b 8d b4 fc ff
	ff		 mov	 ecx, DWORD PTR _pargs$[ebp]
  00128	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  0012b	89 95 c0 fd ff
	ff		 mov	 DWORD PTR _formation_type$[ebp], edx

; 228  : 
; 229  : 		if (!position)

  00131	83 7d e8 00	 cmp	 DWORD PTR _position$[ebp], 0
  00135	75 05		 jne	 SHORT $LN9@create_tas

; 230  : 		{
; 231  : 			//
; 232  : 			// added so that cap tasks do not require all 4 waypoints to be valid
; 233  : 			//
; 234  : 
; 235  : 			continue;

  00137	e9 b2 00 00 00	 jmp	 $LN10@create_tas
$LN9@create_tas:

; 236  : 		}
; 237  : 
; 238  : 		route_node_list [route_length].x = ceil (position->x);

  0013c	8b 45 e8	 mov	 eax, DWORD PTR _position$[ebp]
  0013f	51		 push	 ecx
  00140	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00144	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00149	e8 00 00 00 00	 call	 ?ceil@@YGMM@Z		; ceil
  0014e	6b 4d ec 0c	 imul	 ecx, DWORD PTR _route_length$[ebp], 12
  00152	d9 9c 0d 64 fe
	ff ff		 fstp	 DWORD PTR _route_node_list$[ebp+ecx]

; 239  : 		route_node_list [route_length].y = ceil (position->y);

  00159	8b 45 e8	 mov	 eax, DWORD PTR _position$[ebp]
  0015c	51		 push	 ecx
  0015d	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  00162	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00167	e8 00 00 00 00	 call	 ?ceil@@YGMM@Z		; ceil
  0016c	6b 4d ec 0c	 imul	 ecx, DWORD PTR _route_length$[ebp], 12
  00170	d9 9c 0d 68 fe
	ff ff		 fstp	 DWORD PTR _route_node_list$[ebp+ecx+4]

; 240  : 		route_node_list [route_length].z = ceil (position->z);

  00177	8b 45 e8	 mov	 eax, DWORD PTR _position$[ebp]
  0017a	51		 push	 ecx
  0017b	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00180	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00185	e8 00 00 00 00	 call	 ?ceil@@YGMM@Z		; ceil
  0018a	6b 4d ec 0c	 imul	 ecx, DWORD PTR _route_length$[ebp], 12
  0018e	d9 9c 0d 6c fe
	ff ff		 fstp	 DWORD PTR _route_node_list$[ebp+ecx+8]

; 241  : 
; 242  : 		route_dependent_list [route_length] = dependent;

  00195	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  00198	8b 8d 4c fe ff
	ff		 mov	 ecx, DWORD PTR _dependent$[ebp]
  0019e	89 8c 85 c8 fd
	ff ff		 mov	 DWORD PTR _route_dependent_list$[ebp+eax*4], ecx

; 243  : 
; 244  : 		route_waypoint_type_list [route_length] = waypoint_type;

  001a5	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  001a8	8b 8d c4 fd ff
	ff		 mov	 ecx, DWORD PTR _waypoint_type$[ebp]
  001ae	89 8c 85 38 fd
	ff ff		 mov	 DWORD PTR _route_waypoint_type_list$[ebp+eax*4], ecx

; 245  : 
; 246  : 		route_formation_type_list [route_length] = formation_type;

  001b5	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  001b8	8b 8d c0 fd ff
	ff		 mov	 ecx, DWORD PTR _formation_type$[ebp]
  001be	89 8c 85 b8 fc
	ff ff		 mov	 DWORD PTR _route_formation_type_list$[ebp+eax*4], ecx

; 247  : 
; 248  : 		#if DEBUG_MODULE >= 2
; 249  : 
; 250  : 		if (dependent)
; 251  : 		{
; 252  : 
; 253  : 			debug_log ("	pos %d = %f, %f, %f, dep %s", route_length + 1, position->x, position->y, position->z, entity_type_names [dependent->type]);
; 254  : 		}
; 255  : 		else
; 256  : 		{
; 257  : 
; 258  : 			debug_log ("	pos %d = %f, %f, %f", route_length + 1, position->x, position->y, position->z);
; 259  : 		}
; 260  : 
; 261  : 		#endif
; 262  : 
; 263  : 		route_length ++;

  001c5	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  001c8	83 c0 01	 add	 eax, 1
  001cb	89 45 ec	 mov	 DWORD PTR _route_length$[ebp], eax

; 264  : 
; 265  : 		ASSERT (route_length < MAX_ROUTE_NODES);

  001ce	83 7d ec 20	 cmp	 DWORD PTR _route_length$[ebp], 32 ; 00000020H
  001d2	7c 1a		 jl	 SHORT $LN10@create_tas
  001d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  001d9	05 89 00 00 00	 add	 eax, 137		; 00000089H
  001de	50		 push	 eax
  001df	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e4	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@FCJENBJL@route_length?5?$DM?5MAX_ROUTE_NODES@
  001e9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN10@create_tas:

; 266  : 	}
; 267  : 	//
; 268  : 	// Need to sort out position==NULL condition
; 269  : 	//
; 270  : 	while ((!position) || (!((position->x == terminator_point.x) && (position->y == terminator_point.y) && (position->z == terminator_point.z))));

  001ee	83 7d e8 00	 cmp	 DWORD PTR _position$[ebp], 0
  001f2	0f 84 c4 fe ff
	ff		 je	 $LN66@create_tas
  001f8	8b 45 e8	 mov	 eax, DWORD PTR _position$[ebp]
  001fb	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  001ff	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR ?terminator_point@@3UVEC3D@@A
  00206	9f		 lahf
  00207	f6 c4 44	 test	 ah, 68			; 00000044H
  0020a	0f 8a ac fe ff
	ff		 jp	 $LN66@create_tas
  00210	8b 45 e8	 mov	 eax, DWORD PTR _position$[ebp]
  00213	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  00218	0f 2e 05 04 00
	00 00		 ucomiss xmm0, DWORD PTR ?terminator_point@@3UVEC3D@@A+4
  0021f	9f		 lahf
  00220	f6 c4 44	 test	 ah, 68			; 00000044H
  00223	0f 8a 93 fe ff
	ff		 jp	 $LN66@create_tas
  00229	8b 45 e8	 mov	 eax, DWORD PTR _position$[ebp]
  0022c	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00231	0f 2e 05 08 00
	00 00		 ucomiss xmm0, DWORD PTR ?terminator_point@@3UVEC3D@@A+8
  00238	9f		 lahf
  00239	f6 c4 44	 test	 ah, 68			; 00000044H
  0023c	0f 8a 7a fe ff
	ff		 jp	 $LN66@create_tas

; 271  : 
; 272  : 	va_end (pargs);

  00242	c7 85 b4 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR _pargs$[ebp], 0

; 273  : 
; 274  : 	//////////////////////////////////////////////////////////////////
; 275  : 	//
; 276  : 	// Allocate route data
; 277  : 	//
; 278  : 	//////////////////////////////////////////////////////////////////
; 279  : 
; 280  : 	route_nodes = (vec3d *) malloc_heap_mem (sizeof (vec3d) * route_length);

  0024c	6b 45 ec 0c	 imul	 eax, DWORD PTR _route_length$[ebp], 12
  00250	50		 push	 eax
  00251	e8 00 00 00 00	 call	 ?malloc_heap_memory@@YGPAXI@Z ; malloc_heap_memory
  00256	89 45 e4	 mov	 DWORD PTR _route_nodes$[ebp], eax

; 281  : 	memcpy (route_nodes, route_node_list, sizeof (vec3d) * route_length);

  00259	6b 45 ec 0c	 imul	 eax, DWORD PTR _route_length$[ebp], 12
  0025d	50		 push	 eax
  0025e	8d 8d 64 fe ff
	ff		 lea	 ecx, DWORD PTR _route_node_list$[ebp]
  00264	51		 push	 ecx
  00265	8b 55 e4	 mov	 edx, DWORD PTR _route_nodes$[ebp]
  00268	52		 push	 edx
  00269	e8 00 00 00 00	 call	 _memcpy
  0026e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 282  : 
; 283  : 	route_dependents = (entity **) malloc_heap_mem (sizeof (entity *) * route_length);

  00271	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  00274	c1 e0 02	 shl	 eax, 2
  00277	50		 push	 eax
  00278	e8 00 00 00 00	 call	 ?malloc_heap_memory@@YGPAXI@Z ; malloc_heap_memory
  0027d	89 85 48 fe ff
	ff		 mov	 DWORD PTR _route_dependents$[ebp], eax

; 284  : 	memcpy (route_dependents, route_dependent_list, sizeof (entity *) * route_length);

  00283	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  00286	c1 e0 02	 shl	 eax, 2
  00289	50		 push	 eax
  0028a	8d 8d c8 fd ff
	ff		 lea	 ecx, DWORD PTR _route_dependent_list$[ebp]
  00290	51		 push	 ecx
  00291	8b 95 48 fe ff
	ff		 mov	 edx, DWORD PTR _route_dependents$[ebp]
  00297	52		 push	 edx
  00298	e8 00 00 00 00	 call	 _memcpy
  0029d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 285  : 
; 286  : 	route_waypoint_types = (entity_sub_types *) malloc_heap_mem (sizeof (entity_sub_types) * route_length);

  002a0	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  002a3	c1 e0 02	 shl	 eax, 2
  002a6	50		 push	 eax
  002a7	e8 00 00 00 00	 call	 ?malloc_heap_memory@@YGPAXI@Z ; malloc_heap_memory
  002ac	89 85 bc fd ff
	ff		 mov	 DWORD PTR _route_waypoint_types$[ebp], eax

; 287  : 	memcpy (route_waypoint_types, route_waypoint_type_list, sizeof (entity_sub_types) * route_length);

  002b2	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  002b5	c1 e0 02	 shl	 eax, 2
  002b8	50		 push	 eax
  002b9	8d 8d 38 fd ff
	ff		 lea	 ecx, DWORD PTR _route_waypoint_type_list$[ebp]
  002bf	51		 push	 ecx
  002c0	8b 95 bc fd ff
	ff		 mov	 edx, DWORD PTR _route_waypoint_types$[ebp]
  002c6	52		 push	 edx
  002c7	e8 00 00 00 00	 call	 _memcpy
  002cc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 288  : 
; 289  : 	route_formation_types = (entity_sub_types *) malloc_heap_mem (sizeof (entity_sub_types) * route_length);

  002cf	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  002d2	c1 e0 02	 shl	 eax, 2
  002d5	50		 push	 eax
  002d6	e8 00 00 00 00	 call	 ?malloc_heap_memory@@YGPAXI@Z ; malloc_heap_memory
  002db	89 85 b8 fd ff
	ff		 mov	 DWORD PTR _route_formation_types$[ebp], eax

; 290  : 	memcpy (route_formation_types, route_formation_type_list, sizeof (entity_sub_types) * route_length);

  002e1	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  002e4	c1 e0 02	 shl	 eax, 2
  002e7	50		 push	 eax
  002e8	8d 8d b8 fc ff
	ff		 lea	 ecx, DWORD PTR _route_formation_type_list$[ebp]
  002ee	51		 push	 ecx
  002ef	8b 95 b8 fd ff
	ff		 mov	 edx, DWORD PTR _route_formation_types$[ebp]
  002f5	52		 push	 edx
  002f6	e8 00 00 00 00	 call	 _memcpy
  002fb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 291  : 
; 292  : 	// decreased by 1 so as not to include the terminator.
; 293  : 
; 294  : 	route_length --;

  002fe	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  00301	83 e8 01	 sub	 eax, 1
  00304	89 45 ec	 mov	 DWORD PTR _route_length$[ebp], eax

; 295  : 
; 296  : 	//////////////////////////////////////////////////////////////////
; 297  : 	//
; 298  : 	// determine task id number
; 299  : 	//
; 300  : 	//////////////////////////////////////////////////////////////////
; 301  : 
; 302  : 	id = force_raw->task_generation [sub_type].created;

  00307	8b 45 08	 mov	 eax, DWORD PTR _sub_type$[ebp]
  0030a	c1 e0 04	 shl	 eax, 4
  0030d	8b 8d 60 fe ff
	ff		 mov	 ecx, DWORD PTR _force_raw$[ebp]
  00313	8b 94 01 40 01
	00 00		 mov	 edx, DWORD PTR [ecx+eax+320]
  0031a	89 55 fc	 mov	 DWORD PTR _id$[ebp], edx

; 303  : 
; 304  : 	id_max = (1 << NUM_TASK_ID_BITS) - 1;

  0031d	c7 45 f8 ff 0f
	00 00		 mov	 DWORD PTR _id_max$[ebp], 4095 ; 00000fffH
$LN5@create_tas:

; 305  : 
; 306  : 	while (id > id_max)

  00324	8b 45 fc	 mov	 eax, DWORD PTR _id$[ebp]
  00327	3b 45 f8	 cmp	 eax, DWORD PTR _id_max$[ebp]
  0032a	7e 0b		 jle	 SHORT $LN6@create_tas

; 307  : 	{
; 308  : 		id -= id_max;

  0032c	8b 45 fc	 mov	 eax, DWORD PTR _id$[ebp]
  0032f	2b 45 f8	 sub	 eax, DWORD PTR _id_max$[ebp]
  00332	89 45 fc	 mov	 DWORD PTR _id$[ebp], eax

; 309  : 	}

  00335	eb ed		 jmp	 SHORT $LN5@create_tas
$LN6@create_tas:

; 310  : 
; 311  : 	//////////////////////////////////////////////////////////////////
; 312  : 	//
; 313  : 	// Create task
; 314  : 	//
; 315  : 	//////////////////////////////////////////////////////////////////
; 316  : 
; 317  : 	create_stack_attributes = force_local_entity_create_stack_attributes;

  00337	a1 00 00 00 00	 mov	 eax, DWORD PTR ?force_local_entity_create_stack_attributes@@3HA ; force_local_entity_create_stack_attributes
  0033c	89 85 b0 fc ff
	ff		 mov	 DWORD PTR _create_stack_attributes$[ebp], eax

; 318  : 
; 319  : 	if (get_comms_data_flow () == COMMS_DATA_FLOW_RX)

  00342	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A, 1 ; system_comms_data_flow
  00349	75 0a		 jne	 SHORT $LN11@create_tas

; 320  : 	{
; 321  : 		set_force_local_entity_create_stack_attributes (TRUE);

  0034b	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?force_local_entity_create_stack_attributes@@3HA, 1 ; force_local_entity_create_stack_attributes
$LN11@create_tas:

; 322  : 	}
; 323  : 
; 324  : 	new_task = create_client_server_entity

  00355	6a 00		 push	 0
  00357	8b 45 0c	 mov	 eax, DWORD PTR _side$[ebp]
  0035a	50		 push	 eax
  0035b	68 bb 00 00 00	 push	 187			; 000000bbH
  00360	6a 05		 push	 5
  00362	8b 4d ec	 mov	 ecx, DWORD PTR _route_length$[ebp]
  00365	51		 push	 ecx
  00366	68 b3 00 00 00	 push	 179			; 000000b3H
  0036b	6a 05		 push	 5
  0036d	8b 55 10	 mov	 edx, DWORD PTR _movement_type$[ebp]
  00370	52		 push	 edx
  00371	68 90 00 00 00	 push	 144			; 00000090H
  00376	6a 05		 push	 5
  00378	8b 45 20	 mov	 eax, DWORD PTR _critical_task$[ebp]
  0037b	50		 push	 eax
  0037c	6a 24		 push	 36			; 00000024H
  0037e	6a 05		 push	 5
  00380	f3 0f 5a 45 30	 cvtss2sd xmm0, DWORD PTR _task_priority$[ebp]
  00385	83 ec 08	 sub	 esp, 8
  00388	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0038d	68 8a 00 00 00	 push	 138			; 0000008aH
  00392	6a 04		 push	 4
  00394	f3 0f 5a 45 24	 cvtss2sd xmm0, DWORD PTR _expire_timer$[ebp]
  00399	83 ec 08	 sub	 esp, 8
  0039c	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  003a1	6a 25		 push	 37			; 00000025H
  003a3	6a 04		 push	 4
  003a5	8b 4d fc	 mov	 ecx, DWORD PTR _id$[ebp]
  003a8	51		 push	 ecx
  003a9	68 dc 00 00 00	 push	 220			; 000000dcH
  003ae	6a 05		 push	 5
  003b0	8b 55 08	 mov	 edx, DWORD PTR _sub_type$[ebp]
  003b3	52		 push	 edx
  003b4	6a 34		 push	 52			; 00000034H
  003b6	6a 05		 push	 5
  003b8	8b 45 2c	 mov	 eax, DWORD PTR _task_objective$[ebp]
  003bb	50		 push	 eax
  003bc	6a 27		 push	 39			; 00000027H
  003be	6a 06		 push	 6
  003c0	6a ff		 push	 -1
  003c2	6a 22		 push	 34			; 00000022H
  003c4	e8 00 00 00 00	 call	 ?create_client_server_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_client_server_entity
  003c9	81 c4 80 00 00
	00		 add	 esp, 128		; 00000080H
  003cf	89 85 50 fe ff
	ff		 mov	 DWORD PTR _new_task$[ebp], eax

; 325  : 	(
; 326  : 		ENTITY_TYPE_TASK,
; 327  : 		ENTITY_INDEX_DONT_CARE,
; 328  : 		ENTITY_ATTR_PARENT (LIST_TYPE_TASK_DEPENDENT, task_objective),
; 329  : 		ENTITY_ATTR_INT_VALUE (INT_TYPE_ENTITY_SUB_TYPE, sub_type),
; 330  : 		ENTITY_ATTR_INT_VALUE (INT_TYPE_TASK_ID, id),
; 331  : 		ENTITY_ATTR_FLOAT_VALUE (FLOAT_TYPE_EXPIRE_TIMER, expire_timer),
; 332  : 		ENTITY_ATTR_FLOAT_VALUE (FLOAT_TYPE_TASK_PRIORITY, task_priority),
; 333  : 		ENTITY_ATTR_INT_VALUE (INT_TYPE_CRITICAL_TASK, critical_task),
; 334  : 		ENTITY_ATTR_INT_VALUE (INT_TYPE_MOVEMENT_TYPE, movement_type),
; 335  : 		ENTITY_ATTR_INT_VALUE (INT_TYPE_ROUTE_LENGTH, route_length),
; 336  : 		ENTITY_ATTR_INT_VALUE (INT_TYPE_SIDE, side),
; 337  : 		ENTITY_ATTR_END
; 338  : 	);
; 339  : 
; 340  : 	ASSERT (new_task);

  003d5	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  003dc	75 1a		 jne	 SHORT $LN12@create_tas
  003de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  003e3	05 d4 00 00 00	 add	 eax, 212		; 000000d4H
  003e8	50		 push	 eax
  003e9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  003ee	68 00 00 00 00	 push	 OFFSET ??_C@_08JODNPJDD@new_task@
  003f3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN12@create_tas:

; 341  : 
; 342  : 	set_force_local_entity_create_stack_attributes (create_stack_attributes);

  003f8	8b 85 b0 fc ff
	ff		 mov	 eax, DWORD PTR _create_stack_attributes$[ebp]
  003fe	a3 00 00 00 00	 mov	 DWORD PTR ?force_local_entity_create_stack_attributes@@3HA, eax ; force_local_entity_create_stack_attributes

; 343  : 
; 344  : 	//////////////////////////////////////////////////////////////////
; 345  : 	//
; 346  : 	// Set stop time (if needed)
; 347  : 	//
; 348  : 	//////////////////////////////////////////////////////////////////
; 349  : 
; 350  : 	if (stop_timer > 0.0)

  00403	f3 0f 5a 45 28	 cvtss2sd xmm0, DWORD PTR _stop_timer$[ebp]
  00408	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00410	0f 86 b2 00 00
	00		 jbe	 $LN13@create_tas

; 351  : 	{
; 352  : 		set_client_server_entity_float_value (new_task, FLOAT_TYPE_STOP_TIMER, stop_timer);

  00416	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  0041d	74 10		 je	 SHORT $LN24@create_tas
  0041f	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  00425	8b 08		 mov	 ecx, DWORD PTR [eax]
  00427	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv288[ebp], ecx
  0042d	eb 27		 jmp	 SHORT $LN25@create_tas
$LN24@create_tas:
  0042f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00435	81 c2 e0 00 00
	00		 add	 edx, 224		; 000000e0H
  0043b	52		 push	 edx
  0043c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00441	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00446	50		 push	 eax
  00447	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0044c	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv288[ebp], 0
$LN25@create_tas:
  00456	b9 01 00 00 00	 mov	 ecx, 1
  0045b	85 c9		 test	 ecx, ecx
  0045d	74 0c		 je	 SHORT $LN26@create_tas
  0045f	c7 85 20 fc ff
	ff 7e 00 00 00	 mov	 DWORD PTR tv296[ebp], 126 ; 0000007eH
  00469	eb 27		 jmp	 SHORT $LN27@create_tas
$LN26@create_tas:
  0046b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00471	81 c2 e0 00 00
	00		 add	 edx, 224		; 000000e0H
  00477	52		 push	 edx
  00478	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0047d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00482	50		 push	 eax
  00483	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00488	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv296[ebp], 0
$LN27@create_tas:
  00492	51		 push	 ecx
  00493	f3 0f 10 45 28	 movss	 xmm0, DWORD PTR _stop_timer$[ebp]
  00498	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0049d	6a 7e		 push	 126			; 0000007eH
  0049f	8b 8d 50 fe ff
	ff		 mov	 ecx, DWORD PTR _new_task$[ebp]
  004a5	51		 push	 ecx
  004a6	69 95 24 fc ff
	ff 78 05 00 00	 imul	 edx, DWORD PTR tv288[ebp], 1400
  004b0	8b 85 20 fc ff
	ff		 mov	 eax, DWORD PTR tv296[ebp]
  004b6	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*8]
  004bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  004c3	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  004c6	ff d0		 call	 eax
$LN13@create_tas:

; 353  : 	}
; 354  : 
; 355  : 	//////////////////////////////////////////////////////////////////
; 356  : 	//
; 357  : 	// set local pointers (and comms message)
; 358  : 	//
; 359  : 	//////////////////////////////////////////////////////////////////
; 360  : 
; 361  : 	set_local_entity_ptr_value (new_task, PTR_TYPE_ROUTE_DEPENDENTS, route_dependents);

  004c8	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  004cf	74 10		 je	 SHORT $LN28@create_tas
  004d1	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  004d7	8b 08		 mov	 ecx, DWORD PTR [eax]
  004d9	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv310[ebp], ecx
  004df	eb 27		 jmp	 SHORT $LN29@create_tas
$LN28@create_tas:
  004e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  004e7	81 c2 e9 00 00
	00		 add	 edx, 233		; 000000e9H
  004ed	52		 push	 edx
  004ee	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  004f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004f8	50		 push	 eax
  004f9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004fe	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv310[ebp], 0
$LN29@create_tas:
  00508	b9 01 00 00 00	 mov	 ecx, 1
  0050d	85 c9		 test	 ecx, ecx
  0050f	74 0c		 je	 SHORT $LN30@create_tas
  00511	c7 85 20 fc ff
	ff 09 00 00 00	 mov	 DWORD PTR tv318[ebp], 9
  0051b	eb 27		 jmp	 SHORT $LN31@create_tas
$LN30@create_tas:
  0051d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00523	81 c2 e9 00 00
	00		 add	 edx, 233		; 000000e9H
  00529	52		 push	 edx
  0052a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0052f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00534	50		 push	 eax
  00535	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0053a	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv318[ebp], 0
$LN31@create_tas:
  00544	8b 8d 48 fe ff
	ff		 mov	 ecx, DWORD PTR _route_dependents$[ebp]
  0054a	51		 push	 ecx
  0054b	6a 09		 push	 9
  0054d	8b 95 50 fe ff
	ff		 mov	 edx, DWORD PTR _new_task$[ebp]
  00553	52		 push	 edx
  00554	6b 85 24 fc ff
	ff 50		 imul	 eax, DWORD PTR tv310[ebp], 80
  0055b	8b 8d 20 fc ff
	ff		 mov	 ecx, DWORD PTR tv318[ebp]
  00561	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_ptr_value@@3PAY0BE@P6GXPAUENTITY@@W4PTR_TYPES@@PAX@ZA[eax+ecx*4]
  00568	ff d2		 call	 edx

; 362  : 	set_local_entity_ptr_value (new_task, PTR_TYPE_ROUTE_NODE, route_nodes);

  0056a	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  00571	74 10		 je	 SHORT $LN32@create_tas
  00573	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  00579	8b 08		 mov	 ecx, DWORD PTR [eax]
  0057b	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv330[ebp], ecx
  00581	eb 27		 jmp	 SHORT $LN33@create_tas
$LN32@create_tas:
  00583	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00589	81 c2 ea 00 00
	00		 add	 edx, 234		; 000000eaH
  0058f	52		 push	 edx
  00590	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00595	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0059a	50		 push	 eax
  0059b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005a0	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv330[ebp], 0
$LN33@create_tas:
  005aa	b9 01 00 00 00	 mov	 ecx, 1
  005af	85 c9		 test	 ecx, ecx
  005b1	74 0c		 je	 SHORT $LN34@create_tas
  005b3	c7 85 20 fc ff
	ff 0b 00 00 00	 mov	 DWORD PTR tv338[ebp], 11 ; 0000000bH
  005bd	eb 27		 jmp	 SHORT $LN35@create_tas
$LN34@create_tas:
  005bf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  005c5	81 c2 ea 00 00
	00		 add	 edx, 234		; 000000eaH
  005cb	52		 push	 edx
  005cc	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  005d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  005d6	50		 push	 eax
  005d7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005dc	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv338[ebp], 0
$LN35@create_tas:
  005e6	8b 4d e4	 mov	 ecx, DWORD PTR _route_nodes$[ebp]
  005e9	51		 push	 ecx
  005ea	6a 0b		 push	 11			; 0000000bH
  005ec	8b 95 50 fe ff
	ff		 mov	 edx, DWORD PTR _new_task$[ebp]
  005f2	52		 push	 edx
  005f3	6b 85 24 fc ff
	ff 50		 imul	 eax, DWORD PTR tv330[ebp], 80
  005fa	8b 8d 20 fc ff
	ff		 mov	 ecx, DWORD PTR tv338[ebp]
  00600	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_ptr_value@@3PAY0BE@P6GXPAUENTITY@@W4PTR_TYPES@@PAX@ZA[eax+ecx*4]
  00607	ff d2		 call	 edx

; 363  : 	set_local_entity_ptr_value (new_task, PTR_TYPE_ROUTE_WAYPOINT_TYPES, route_waypoint_types);

  00609	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  00610	74 10		 je	 SHORT $LN36@create_tas
  00612	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  00618	8b 08		 mov	 ecx, DWORD PTR [eax]
  0061a	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv350[ebp], ecx
  00620	eb 27		 jmp	 SHORT $LN37@create_tas
$LN36@create_tas:
  00622	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00628	81 c2 eb 00 00
	00		 add	 edx, 235		; 000000ebH
  0062e	52		 push	 edx
  0062f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00634	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00639	50		 push	 eax
  0063a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0063f	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv350[ebp], 0
$LN37@create_tas:
  00649	b9 01 00 00 00	 mov	 ecx, 1
  0064e	85 c9		 test	 ecx, ecx
  00650	74 0c		 je	 SHORT $LN38@create_tas
  00652	c7 85 20 fc ff
	ff 0c 00 00 00	 mov	 DWORD PTR tv358[ebp], 12 ; 0000000cH
  0065c	eb 27		 jmp	 SHORT $LN39@create_tas
$LN38@create_tas:
  0065e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00664	81 c2 eb 00 00
	00		 add	 edx, 235		; 000000ebH
  0066a	52		 push	 edx
  0066b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00670	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00675	50		 push	 eax
  00676	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0067b	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv358[ebp], 0
$LN39@create_tas:
  00685	8b 8d bc fd ff
	ff		 mov	 ecx, DWORD PTR _route_waypoint_types$[ebp]
  0068b	51		 push	 ecx
  0068c	6a 0c		 push	 12			; 0000000cH
  0068e	8b 95 50 fe ff
	ff		 mov	 edx, DWORD PTR _new_task$[ebp]
  00694	52		 push	 edx
  00695	6b 85 24 fc ff
	ff 50		 imul	 eax, DWORD PTR tv350[ebp], 80
  0069c	8b 8d 20 fc ff
	ff		 mov	 ecx, DWORD PTR tv358[ebp]
  006a2	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_ptr_value@@3PAY0BE@P6GXPAUENTITY@@W4PTR_TYPES@@PAX@ZA[eax+ecx*4]
  006a9	ff d2		 call	 edx

; 364  : 	set_local_entity_ptr_value (new_task, PTR_TYPE_ROUTE_FORMATION_TYPES, route_formation_types);

  006ab	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  006b2	74 10		 je	 SHORT $LN40@create_tas
  006b4	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  006ba	8b 08		 mov	 ecx, DWORD PTR [eax]
  006bc	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv370[ebp], ecx
  006c2	eb 27		 jmp	 SHORT $LN41@create_tas
$LN40@create_tas:
  006c4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  006ca	81 c2 ec 00 00
	00		 add	 edx, 236		; 000000ecH
  006d0	52		 push	 edx
  006d1	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  006d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006db	50		 push	 eax
  006dc	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006e1	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv370[ebp], 0
$LN41@create_tas:
  006eb	b9 01 00 00 00	 mov	 ecx, 1
  006f0	85 c9		 test	 ecx, ecx
  006f2	74 0c		 je	 SHORT $LN42@create_tas
  006f4	c7 85 20 fc ff
	ff 0a 00 00 00	 mov	 DWORD PTR tv378[ebp], 10 ; 0000000aH
  006fe	eb 27		 jmp	 SHORT $LN43@create_tas
$LN42@create_tas:
  00700	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00706	81 c2 ec 00 00
	00		 add	 edx, 236		; 000000ecH
  0070c	52		 push	 edx
  0070d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00712	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00717	50		 push	 eax
  00718	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0071d	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv378[ebp], 0
$LN43@create_tas:
  00727	8b 8d b8 fd ff
	ff		 mov	 ecx, DWORD PTR _route_formation_types$[ebp]
  0072d	51		 push	 ecx
  0072e	6a 0a		 push	 10			; 0000000aH
  00730	8b 95 50 fe ff
	ff		 mov	 edx, DWORD PTR _new_task$[ebp]
  00736	52		 push	 edx
  00737	6b 85 24 fc ff
	ff 50		 imul	 eax, DWORD PTR tv370[ebp], 80
  0073e	8b 8d 20 fc ff
	ff		 mov	 ecx, DWORD PTR tv378[ebp]
  00744	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_ptr_value@@3PAY0BE@P6GXPAUENTITY@@W4PTR_TYPES@@PAX@ZA[eax+ecx*4]
  0074b	ff d2		 call	 edx

; 365  : 	set_local_entity_ptr_value (new_task, PTR_TYPE_RETURN_KEYSITE, end_keysite);

  0074d	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  00754	74 10		 je	 SHORT $LN44@create_tas
  00756	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  0075c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0075e	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv390[ebp], ecx
  00764	eb 27		 jmp	 SHORT $LN45@create_tas
$LN44@create_tas:
  00766	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  0076c	81 c2 ed 00 00
	00		 add	 edx, 237		; 000000edH
  00772	52		 push	 edx
  00773	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00778	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0077d	50		 push	 eax
  0077e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00783	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv390[ebp], 0
$LN45@create_tas:
  0078d	b9 01 00 00 00	 mov	 ecx, 1
  00792	85 c9		 test	 ecx, ecx
  00794	74 0c		 je	 SHORT $LN46@create_tas
  00796	c7 85 20 fc ff
	ff 08 00 00 00	 mov	 DWORD PTR tv398[ebp], 8
  007a0	eb 27		 jmp	 SHORT $LN47@create_tas
$LN46@create_tas:
  007a2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  007a8	81 c2 ed 00 00
	00		 add	 edx, 237		; 000000edH
  007ae	52		 push	 edx
  007af	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  007b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  007b9	50		 push	 eax
  007ba	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007bf	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv398[ebp], 0
$LN47@create_tas:
  007c9	8b 4d 18	 mov	 ecx, DWORD PTR _end_keysite$[ebp]
  007cc	51		 push	 ecx
  007cd	6a 08		 push	 8
  007cf	8b 95 50 fe ff
	ff		 mov	 edx, DWORD PTR _new_task$[ebp]
  007d5	52		 push	 edx
  007d6	6b 85 24 fc ff
	ff 50		 imul	 eax, DWORD PTR tv390[ebp], 80
  007dd	8b 8d 20 fc ff
	ff		 mov	 ecx, DWORD PTR tv398[ebp]
  007e3	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_ptr_value@@3PAY0BE@P6GXPAUENTITY@@W4PTR_TYPES@@PAX@ZA[eax+ecx*4]
  007ea	ff d2		 call	 edx

; 366  : 
; 367  : 	transmit_entity_comms_message (ENTITY_COMMS_SET_TASK_POINTERS, new_task);

  007ec	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  007f2	50		 push	 eax
  007f3	6a 34		 push	 52			; 00000034H
  007f5	e8 00 00 00 00	 call	 ?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ ; transmit_entity_comms_message
  007fa	83 c4 08	 add	 esp, 8

; 368  : 
; 369  : 	//////////////////////////////////////////////////////////////////
; 370  : 	//
; 371  : 	// Attach task to keysite (only if primary task)
; 372  : 	//
; 373  : 	//////////////////////////////////////////////////////////////////
; 374  : 
; 375  : 	if (task_database [sub_type].primary_task)

  007fd	6b 45 08 50	 imul	 eax, DWORD PTR _sub_type$[ebp], 80
  00801	8b 88 28 00 00
	00		 mov	 ecx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax+40]
  00807	d1 e9		 shr	 ecx, 1
  00809	83 e1 01	 and	 ecx, 1
  0080c	74 32		 je	 SHORT $LN14@create_tas

; 376  : 	{
; 377  : 		ASSERT (start_keysite);

  0080e	83 7d 14 00	 cmp	 DWORD PTR _start_keysite$[ebp], 0
  00812	75 1a		 jne	 SHORT $LN15@create_tas
  00814	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00819	05 f9 00 00 00	 add	 eax, 249		; 000000f9H
  0081e	50		 push	 eax
  0081f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00824	68 00 00 00 00	 push	 OFFSET ??_C@_0O@EOPLJIPK@start_keysite@
  00829	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN15@create_tas:

; 378  : 		
; 379  : 		set_client_server_entity_parent (new_task, LIST_TYPE_UNASSIGNED_TASK, start_keysite);

  0082e	8b 45 14	 mov	 eax, DWORD PTR _start_keysite$[ebp]
  00831	50		 push	 eax
  00832	6a 28		 push	 40			; 00000028H
  00834	8b 8d 50 fe ff
	ff		 mov	 ecx, DWORD PTR _new_task$[ebp]
  0083a	51		 push	 ecx
  0083b	e8 00 00 00 00	 call	 ?set_client_server_entity_parent@@YGXPAUENTITY@@W4LIST_TYPES@@0@Z ; set_client_server_entity_parent
$LN14@create_tas:

; 380  : 	}
; 381  : 
; 382  : 	set_local_entity_int_value (new_task, INT_TYPE_TASK_DIFFICULTY, assess_task_difficulty (new_task, &air_threats, &enemy_sectors));

  00840	83 bd 50 fe ff
	ff 00		 cmp	 DWORD PTR _new_task$[ebp], 0
  00847	74 10		 je	 SHORT $LN48@create_tas
  00849	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  0084f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00851	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv426[ebp], ecx
  00857	eb 27		 jmp	 SHORT $LN49@create_tas
$LN48@create_tas:
  00859	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  0085f	81 c2 fe 00 00
	00		 add	 edx, 254		; 000000feH
  00865	52		 push	 edx
  00866	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0086b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00870	50		 push	 eax
  00871	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00876	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv426[ebp], 0
$LN49@create_tas:
  00880	b9 01 00 00 00	 mov	 ecx, 1
  00885	85 c9		 test	 ecx, ecx
  00887	74 0c		 je	 SHORT $LN50@create_tas
  00889	c7 85 20 fc ff
	ff da 00 00 00	 mov	 DWORD PTR tv434[ebp], 218 ; 000000daH
  00893	eb 27		 jmp	 SHORT $LN51@create_tas
$LN50@create_tas:
  00895	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  0089b	81 c2 fe 00 00
	00		 add	 edx, 254		; 000000feH
  008a1	52		 push	 edx
  008a2	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  008a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  008ac	50		 push	 eax
  008ad	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  008b2	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv434[ebp], 0
$LN51@create_tas:
  008bc	8d 4d f0	 lea	 ecx, DWORD PTR _enemy_sectors$[ebp]
  008bf	51		 push	 ecx
  008c0	8d 55 f4	 lea	 edx, DWORD PTR _air_threats$[ebp]
  008c3	52		 push	 edx
  008c4	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
  008ca	50		 push	 eax
  008cb	e8 00 00 00 00	 call	 ?assess_task_difficulty@@YGHPAUENTITY@@PAH1@Z ; assess_task_difficulty
  008d0	50		 push	 eax
  008d1	68 da 00 00 00	 push	 218			; 000000daH
  008d6	8b 8d 50 fe ff
	ff		 mov	 ecx, DWORD PTR _new_task$[ebp]
  008dc	51		 push	 ecx
  008dd	69 95 24 fc ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv426[ebp], 1116
  008e7	8b 85 20 fc ff
	ff		 mov	 eax, DWORD PTR tv434[ebp]
  008ed	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  008f4	ff d1		 call	 ecx

; 383  : 
; 384  : 	//////////////////////////////////////////////////////////////////
; 385  : 	//
; 386  : 	// notify enemy force
; 387  : 	//
; 388  : 	//////////////////////////////////////////////////////////////////
; 389  : 
; 390  : 	if (task_objective)

  008f6	83 7d 2c 00	 cmp	 DWORD PTR _task_objective$[ebp], 0
  008fa	0f 84 5c 01 00
	00		 je	 $LN18@create_tas

; 391  : 	{
; 392  : 
; 393  : 		if (get_local_entity_int_value (task_objective, INT_TYPE_SIDE) != side)

  00900	83 7d 2c 00	 cmp	 DWORD PTR _task_objective$[ebp], 0
  00904	74 0d		 je	 SHORT $LN52@create_tas
  00906	8b 45 2c	 mov	 eax, DWORD PTR _task_objective$[ebp]
  00909	8b 08		 mov	 ecx, DWORD PTR [eax]
  0090b	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv450[ebp], ecx
  00911	eb 20		 jmp	 SHORT $LN53@create_tas
$LN52@create_tas:
  00913	68 89 01 00 00	 push	 393			; 00000189H
  00918	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0091d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00923	52		 push	 edx
  00924	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00929	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv450[ebp], 0
$LN53@create_tas:
  00933	b8 01 00 00 00	 mov	 eax, 1
  00938	85 c0		 test	 eax, eax
  0093a	74 0c		 je	 SHORT $LN54@create_tas
  0093c	c7 85 20 fc ff
	ff bb 00 00 00	 mov	 DWORD PTR tv457[ebp], 187 ; 000000bbH
  00946	eb 20		 jmp	 SHORT $LN55@create_tas
$LN54@create_tas:
  00948	68 89 01 00 00	 push	 393			; 00000189H
  0094d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00952	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00958	51		 push	 ecx
  00959	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0095e	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv457[ebp], 0
$LN55@create_tas:
  00968	68 bb 00 00 00	 push	 187			; 000000bbH
  0096d	8b 55 2c	 mov	 edx, DWORD PTR _task_objective$[ebp]
  00970	52		 push	 edx
  00971	69 85 24 fc ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv450[ebp], 1116
  0097b	8b 8d 20 fc ff
	ff		 mov	 ecx, DWORD PTR tv457[ebp]
  00981	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00988	ff d2		 call	 edx
  0098a	3b 45 0c	 cmp	 eax, DWORD PTR _side$[ebp]
  0098d	0f 84 c9 00 00
	00		 je	 $LN18@create_tas

; 394  : 		{
; 395  : 
; 396  : 			entity
; 397  : 				*enemy_force;
; 398  : 
; 399  : 			enemy_force = (entity*) get_local_force_entity ((entity_sides) get_local_entity_int_value (task_objective, INT_TYPE_SIDE));

  00993	83 7d 2c 00	 cmp	 DWORD PTR _task_objective$[ebp], 0
  00997	74 0d		 je	 SHORT $LN56@create_tas
  00999	8b 45 2c	 mov	 eax, DWORD PTR _task_objective$[ebp]
  0099c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0099e	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv471[ebp], ecx
  009a4	eb 27		 jmp	 SHORT $LN57@create_tas
$LN56@create_tas:
  009a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  009ac	81 c2 0f 01 00
	00		 add	 edx, 271		; 0000010fH
  009b2	52		 push	 edx
  009b3	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  009b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  009bd	50		 push	 eax
  009be	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  009c3	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv471[ebp], 0
$LN57@create_tas:
  009cd	b9 01 00 00 00	 mov	 ecx, 1
  009d2	85 c9		 test	 ecx, ecx
  009d4	74 0c		 je	 SHORT $LN58@create_tas
  009d6	c7 85 20 fc ff
	ff bb 00 00 00	 mov	 DWORD PTR tv479[ebp], 187 ; 000000bbH
  009e0	eb 27		 jmp	 SHORT $LN59@create_tas
$LN58@create_tas:
  009e2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  009e8	81 c2 0f 01 00
	00		 add	 edx, 271		; 0000010fH
  009ee	52		 push	 edx
  009ef	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  009f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  009f9	50		 push	 eax
  009fa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  009ff	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv479[ebp], 0
$LN59@create_tas:
  00a09	68 bb 00 00 00	 push	 187			; 000000bbH
  00a0e	8b 4d 2c	 mov	 ecx, DWORD PTR _task_objective$[ebp]
  00a11	51		 push	 ecx
  00a12	69 95 24 fc ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv471[ebp], 1116
  00a1c	8b 85 20 fc ff
	ff		 mov	 eax, DWORD PTR tv479[ebp]
  00a22	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00a29	ff d1		 call	 ecx
  00a2b	50		 push	 eax
  00a2c	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00a31	89 85 ac fc ff
	ff		 mov	 DWORD PTR _enemy_force$1[ebp], eax

; 400  : 
; 401  : 			if (enemy_force)

  00a37	83 bd ac fc ff
	ff 00		 cmp	 DWORD PTR _enemy_force$1[ebp], 0
  00a3e	74 1c		 je	 SHORT $LN18@create_tas

; 402  : 			{
; 403  : 
; 404  : 				notify_local_entity (ENTITY_MESSAGE_TASK_CREATED, enemy_force, new_task, task_objective);

  00a40	8b 45 2c	 mov	 eax, DWORD PTR _task_objective$[ebp]
  00a43	50		 push	 eax
  00a44	8b 8d 50 fe ff
	ff		 mov	 ecx, DWORD PTR _new_task$[ebp]
  00a4a	51		 push	 ecx
  00a4b	8b 95 ac fc ff
	ff		 mov	 edx, DWORD PTR _enemy_force$1[ebp]
  00a51	52		 push	 edx
  00a52	6a 33		 push	 51			; 00000033H
  00a54	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00a59	83 c4 10	 add	 esp, 16			; 00000010H
$LN18@create_tas:

; 405  : 			}
; 406  : 		}
; 407  : 	}
; 408  : 	
; 409  : 	//////////////////////////////////////////////////////////////////
; 410  : 	//
; 411  : 	// add task to sector task list
; 412  : 	//
; 413  : 	//////////////////////////////////////////////////////////////////
; 414  : 
; 415  : 	position = NULL;

  00a5c	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _position$[ebp], 0

; 416  : 
; 417  : 	if (task_objective)

  00a63	83 7d 2c 00	 cmp	 DWORD PTR _task_objective$[ebp], 0
  00a67	0f 84 95 00 00
	00		 je	 $LN19@create_tas

; 418  : 	{
; 419  : 		position = get_local_entity_vec3d_ptr (task_objective, VEC3D_TYPE_POSITION);

  00a6d	83 7d 2c 00	 cmp	 DWORD PTR _task_objective$[ebp], 0
  00a71	74 0d		 je	 SHORT $LN60@create_tas
  00a73	8b 45 2c	 mov	 eax, DWORD PTR _task_objective$[ebp]
  00a76	8b 08		 mov	 ecx, DWORD PTR [eax]
  00a78	89 8d 24 fc ff
	ff		 mov	 DWORD PTR tv498[ebp], ecx
  00a7e	eb 27		 jmp	 SHORT $LN61@create_tas
$LN60@create_tas:
  00a80	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00a86	81 c2 23 01 00
	00		 add	 edx, 291		; 00000123H
  00a8c	52		 push	 edx
  00a8d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a92	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00a97	50		 push	 eax
  00a98	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00a9d	c7 85 24 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv498[ebp], 0
$LN61@create_tas:
  00aa7	b9 01 00 00 00	 mov	 ecx, 1
  00aac	85 c9		 test	 ecx, ecx
  00aae	74 0c		 je	 SHORT $LN62@create_tas
  00ab0	c7 85 20 fc ff
	ff 08 00 00 00	 mov	 DWORD PTR tv506[ebp], 8
  00aba	eb 27		 jmp	 SHORT $LN63@create_tas
$LN62@create_tas:
  00abc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00ac2	81 c2 23 01 00
	00		 add	 edx, 291		; 00000123H
  00ac8	52		 push	 edx
  00ac9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00ace	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00ad3	50		 push	 eax
  00ad4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00ad9	c7 85 20 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv506[ebp], 0
$LN63@create_tas:
  00ae3	6a 08		 push	 8
  00ae5	8b 4d 2c	 mov	 ecx, DWORD PTR _task_objective$[ebp]
  00ae8	51		 push	 ecx
  00ae9	6b 95 24 fc ff
	ff 60		 imul	 edx, DWORD PTR tv498[ebp], 96
  00af0	8b 85 20 fc ff
	ff		 mov	 eax, DWORD PTR tv506[ebp]
  00af6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00afd	ff d1		 call	 ecx
  00aff	89 45 e8	 mov	 DWORD PTR _position$[ebp], eax
$LN19@create_tas:

; 420  : 	}
; 421  : 
; 422  : 	if (!position)

  00b02	83 7d e8 00	 cmp	 DWORD PTR _position$[ebp], 0
  00b06	75 0f		 jne	 SHORT $LN20@create_tas

; 423  : 	{
; 424  : 		position = &route_nodes [route_length - 1];

  00b08	8b 45 ec	 mov	 eax, DWORD PTR _route_length$[ebp]
  00b0b	83 e8 01	 sub	 eax, 1
  00b0e	6b c8 0c	 imul	 ecx, eax, 12
  00b11	03 4d e4	 add	 ecx, DWORD PTR _route_nodes$[ebp]
  00b14	89 4d e8	 mov	 DWORD PTR _position$[ebp], ecx
$LN20@create_tas:

; 425  : 	}
; 426  : 
; 427  : 	ASSERT (position);

  00b17	83 7d e8 00	 cmp	 DWORD PTR _position$[ebp], 0
  00b1b	75 1a		 jne	 SHORT $LN21@create_tas
  00b1d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00b22	05 2b 01 00 00	 add	 eax, 299		; 0000012bH
  00b27	50		 push	 eax
  00b28	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00b2d	68 00 00 00 00	 push	 OFFSET ??_C@_08OAGMDKAF@position@
  00b32	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN21@create_tas:

; 428  : 
; 429  : 	sec = get_local_sector_entity (position);

  00b37	8b 45 e8	 mov	 eax, DWORD PTR _position$[ebp]
  00b3a	50		 push	 eax
  00b3b	e8 00 00 00 00	 call	 ?get_local_sector_entity@@YGPAUENTITY@@PAUVEC3D@@@Z ; get_local_sector_entity
  00b40	89 85 58 fe ff
	ff		 mov	 DWORD PTR _sec$[ebp], eax

; 430  : 
; 431  : 	ASSERT (sec);

  00b46	83 bd 58 fe ff
	ff 00		 cmp	 DWORD PTR _sec$[ebp], 0
  00b4d	75 1a		 jne	 SHORT $LN22@create_tas
  00b4f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU2@22HMM2MZZ@4JA
  00b54	05 2f 01 00 00	 add	 eax, 303		; 0000012fH
  00b59	50		 push	 eax
  00b5a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@GFEDFFF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00b5f	68 00 00 00 00	 push	 OFFSET ??_C@_03KHPNBODO@sec@
  00b64	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN22@create_tas:

; 432  : 
; 433  : 	sec_raw = (sector *) get_local_entity_data (sec);

  00b69	8b 85 58 fe ff
	ff		 mov	 eax, DWORD PTR _sec$[ebp]
  00b6f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00b72	89 8d 5c fe ff
	ff		 mov	 DWORD PTR _sec_raw$[ebp], ecx

; 434  : 
; 435  : 	insert_local_entity_into_parents_child_list (new_task, LIST_TYPE_SECTOR_TASK, sec, NULL);

  00b78	6a 00		 push	 0
  00b7a	8b 85 58 fe ff
	ff		 mov	 eax, DWORD PTR _sec$[ebp]
  00b80	50		 push	 eax
  00b81	6a 22		 push	 34			; 00000022H
  00b83	8b 8d 50 fe ff
	ff		 mov	 ecx, DWORD PTR _new_task$[ebp]
  00b89	51		 push	 ecx
  00b8a	e8 00 00 00 00	 call	 ?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z ; insert_local_entity_into_parents_child_list

; 436  : 
; 437  :    return new_task;

  00b8f	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _new_task$[ebp]
$LN1@create_tas:

; 438  : }

  00b95	5f		 pop	 edi
  00b96	5e		 pop	 esi
  00b97	5b		 pop	 ebx
  00b98	8b e5		 mov	 esp, ebp
  00b9a	5d		 pop	 ebp
  00b9b	c3		 ret	 0
?create_task@@YAPAUENTITY@@HW4ENTITY_SIDES@@W4MOVEMENT_TYPES@@PAU1@22HMM2MZZ ENDP ; create_task
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?sin@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?sin@@YGMM@Z PROC					; sin, COMDAT

; 284  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 285  : 	return (_CSTD sinf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _sinf
  00019	83 c4 04	 add	 esp, 4

; 286  : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?sin@@YGMM@Z ENDP					; sin
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?fabs@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?fabs@@YGMM@Z PROC					; fabs, COMDAT

; 112  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 113  : 	return (_CSTD fabsf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _fabsf
  00019	83 c4 04	 add	 esp, 4

; 114  : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?fabs@@YGMM@Z ENDP					; fabs
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?cos@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?cos@@YGMM@Z PROC					; cos, COMDAT

; 77   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 78   : 	return (_CSTD cosf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _cosf
  00019	83 c4 04	 add	 esp, 4

; 79   : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?cos@@YGMM@Z ENDP					; cos
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?ceil@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?ceil@@YGMM@Z PROC					; ceil, COMDAT

; 66   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 67   : 	return (_CSTD ceilf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _ceilf
  00019	83 c4 04	 add	 esp, 4

; 68   : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?ceil@@YGMM@Z ENDP					; ceil
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _sinf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_sinf	PROC						; COMDAT

; 749  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 750  :             return (float)sin(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _sin
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 751  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_sinf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _fabsf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_fabsf	PROC						; COMDAT

; 671  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 672  :             return (float)fabs(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _fabs
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 673  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_fabsf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _cosf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_cosf	PROC						; COMDAT

; 648  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 649  :             return (float)cos(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _cos
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 650  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_cosf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _ceilf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_ceilf	PROC						; COMDAT

; 643  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 644  :             return (float)ceil(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ceil
  0001c	83 c4 08	 add	 esp, 8
  0001f	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00022	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 645  :         }

  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
_ceilf	ENDP
_TEXT	ENDS
END
