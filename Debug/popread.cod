; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\ai\faction\popread.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?number_of_temporary_templates@@3HA		; number_of_temporary_templates
PUBLIC	?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A	; temporary_templates
PUBLIC	?temporary_relative_waypoints@@3PAUVEC3D@@A	; temporary_relative_waypoints
PUBLIC	?blue_force_carrier_names@@3PAPBDA		; blue_force_carrier_names
PUBLIC	??_C@_0L@IPGPOMDE@USS?5TARAWA@			; `string'
PUBLIC	??_C@_0L@CKGOIHNO@USS?5SAIPAN@			; `string'
PUBLIC	??_C@_0M@NDKFFMKM@USS?5PELELIU@			; `string'
PUBLIC	??_C@_0L@LNLEJBIH@USS?5NASSAU@			; `string'
PUBLIC	??_C@_0BB@LHJJEABF@USS?5BELLEAU?5WOOD@		; `string'
PUBLIC	??_C@_0P@PEHJMGDB@USS?5ENTERPRISE@		; `string'
PUBLIC	??_C@_0O@OHIFIBLL@USS?5CARRIER?52@		; `string'
PUBLIC	??_C@_0O@POJOLAPK@USS?5CARRIER?53@		; `string'
PUBLIC	??_C@_0O@LBNPCGDN@USS?5CARRIER?54@		; `string'
PUBLIC	??_C@_0O@KIMEBHHM@USS?5CARRIER?55@		; `string'
PUBLIC	??_C@_0O@IDOJEELP@USS?5CARRIER?56@		; `string'
PUBLIC	??_C@_0O@JKPCHFPO@USS?5CARRIER?57@		; `string'
PUBLIC	??_C@_0O@BNGKGJDB@USS?5CARRIER?58@		; `string'
PUBLIC	??_C@_0O@EHBFIHA@USS?5CARRIER?59@		; `string'
PUBLIC	?red_force_carrier_names@@3PAPBDA		; red_force_carrier_names
PUBLIC	??_C@_05MGDJOJAK@BODRY@				; `string'
PUBLIC	??_C@_06BFBMCMJF@ZHARKY@			; `string'
PUBLIC	??_C@_05FGDPGMAP@LADNY@				; `string'
PUBLIC	??_C@_07MAPKKPJD@SVIREPY@			; `string'
PUBLIC	??_C@_05LHMBKHMK@LEGKY@				; `string'
PUBLIC	??_C@_05FBHLLPGP@SILNY@				; `string'
PUBLIC	??_C@_07ICFELHEJ@ZADORNY@			; `string'
PUBLIC	??_C@_09BHCINGPO@DOBLESTNY@			; `string'
PUBLIC	??_C@_0O@NMIAGFFO@CIS?5CARRIER?51@		; `string'
PUBLIC	??_C@_0O@PHKNDGJN@CIS?5CARRIER?52@		; `string'
PUBLIC	??_C@_0O@OOLGAHNM@CIS?5CARRIER?53@		; `string'
PUBLIC	??_C@_0O@KBPHJBBL@CIS?5CARRIER?54@		; `string'
PUBLIC	??_C@_0O@LIOMKAFK@CIS?5CARRIER?55@		; `string'
PUBLIC	??_C@_0O@JDMBPDJJ@CIS?5CARRIER?56@		; `string'
PUBLIC	??_C@_0O@IKNKMCNI@CIS?5CARRIER?57@		; `string'
PUBLIC	??_C@_0O@NECNOBH@CIS?5CARRIER?58@		; `string'
PUBLIC	??_C@_0O@BEFJOPFG@CIS?5CARRIER?59@		; `string'
PUBLIC	?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
PUBLIC	?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
_BSS	SEGMENT
?number_of_temporary_templates@@3HA DD 01H DUP (?)	; number_of_temporary_templates
?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A DD 01H DUP (?) ; temporary_templates
?temporary_relative_waypoints@@3PAUVEC3D@@A DB 0c00H DUP (?) ; temporary_relative_waypoints
?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; current_airport_inst3d
?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A DD 01H DUP (?) ; object_3d_troop_routes
_BSS	ENDS
;	COMDAT ??_C@_0O@BEFJOPFG@CIS?5CARRIER?59@
CONST	SEGMENT
??_C@_0O@BEFJOPFG@CIS?5CARRIER?59@ DB 'CIS CARRIER 9', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@NECNOBH@CIS?5CARRIER?58@
CONST	SEGMENT
??_C@_0O@NECNOBH@CIS?5CARRIER?58@ DB 'CIS CARRIER 8', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@IKNKMCNI@CIS?5CARRIER?57@
CONST	SEGMENT
??_C@_0O@IKNKMCNI@CIS?5CARRIER?57@ DB 'CIS CARRIER 7', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@JDMBPDJJ@CIS?5CARRIER?56@
CONST	SEGMENT
??_C@_0O@JDMBPDJJ@CIS?5CARRIER?56@ DB 'CIS CARRIER 6', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@LIOMKAFK@CIS?5CARRIER?55@
CONST	SEGMENT
??_C@_0O@LIOMKAFK@CIS?5CARRIER?55@ DB 'CIS CARRIER 5', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@KBPHJBBL@CIS?5CARRIER?54@
CONST	SEGMENT
??_C@_0O@KBPHJBBL@CIS?5CARRIER?54@ DB 'CIS CARRIER 4', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@OOLGAHNM@CIS?5CARRIER?53@
CONST	SEGMENT
??_C@_0O@OOLGAHNM@CIS?5CARRIER?53@ DB 'CIS CARRIER 3', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@PHKNDGJN@CIS?5CARRIER?52@
CONST	SEGMENT
??_C@_0O@PHKNDGJN@CIS?5CARRIER?52@ DB 'CIS CARRIER 2', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@NMIAGFFO@CIS?5CARRIER?51@
CONST	SEGMENT
??_C@_0O@NMIAGFFO@CIS?5CARRIER?51@ DB 'CIS CARRIER 1', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_09BHCINGPO@DOBLESTNY@
CONST	SEGMENT
??_C@_09BHCINGPO@DOBLESTNY@ DB 'DOBLESTNY', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_07ICFELHEJ@ZADORNY@
CONST	SEGMENT
??_C@_07ICFELHEJ@ZADORNY@ DB 'ZADORNY', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05FBHLLPGP@SILNY@
CONST	SEGMENT
??_C@_05FBHLLPGP@SILNY@ DB 'SILNY', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_05LHMBKHMK@LEGKY@
CONST	SEGMENT
??_C@_05LHMBKHMK@LEGKY@ DB 'LEGKY', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_07MAPKKPJD@SVIREPY@
CONST	SEGMENT
??_C@_07MAPKKPJD@SVIREPY@ DB 'SVIREPY', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05FGDPGMAP@LADNY@
CONST	SEGMENT
??_C@_05FGDPGMAP@LADNY@ DB 'LADNY', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06BFBMCMJF@ZHARKY@
CONST	SEGMENT
??_C@_06BFBMCMJF@ZHARKY@ DB 'ZHARKY', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05MGDJOJAK@BODRY@
CONST	SEGMENT
??_C@_05MGDJOJAK@BODRY@ DB 'BODRY', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@EHBFIHA@USS?5CARRIER?59@
CONST	SEGMENT
??_C@_0O@EHBFIHA@USS?5CARRIER?59@ DB 'USS CARRIER 9', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@BNGKGJDB@USS?5CARRIER?58@
CONST	SEGMENT
??_C@_0O@BNGKGJDB@USS?5CARRIER?58@ DB 'USS CARRIER 8', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@JKPCHFPO@USS?5CARRIER?57@
CONST	SEGMENT
??_C@_0O@JKPCHFPO@USS?5CARRIER?57@ DB 'USS CARRIER 7', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@IDOJEELP@USS?5CARRIER?56@
CONST	SEGMENT
??_C@_0O@IDOJEELP@USS?5CARRIER?56@ DB 'USS CARRIER 6', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@KIMEBHHM@USS?5CARRIER?55@
CONST	SEGMENT
??_C@_0O@KIMEBHHM@USS?5CARRIER?55@ DB 'USS CARRIER 5', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@LBNPCGDN@USS?5CARRIER?54@
CONST	SEGMENT
??_C@_0O@LBNPCGDN@USS?5CARRIER?54@ DB 'USS CARRIER 4', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@POJOLAPK@USS?5CARRIER?53@
CONST	SEGMENT
??_C@_0O@POJOLAPK@USS?5CARRIER?53@ DB 'USS CARRIER 3', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@OHIFIBLL@USS?5CARRIER?52@
CONST	SEGMENT
??_C@_0O@OHIFIBLL@USS?5CARRIER?52@ DB 'USS CARRIER 2', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@PEHJMGDB@USS?5ENTERPRISE@
CONST	SEGMENT
??_C@_0P@PEHJMGDB@USS?5ENTERPRISE@ DB 'USS ENTERPRISE', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@LHJJEABF@USS?5BELLEAU?5WOOD@
CONST	SEGMENT
??_C@_0BB@LHJJEABF@USS?5BELLEAU?5WOOD@ DB 'USS BELLEAU WOOD', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@LNLEJBIH@USS?5NASSAU@
CONST	SEGMENT
??_C@_0L@LNLEJBIH@USS?5NASSAU@ DB 'USS NASSAU', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@NDKFFMKM@USS?5PELELIU@
CONST	SEGMENT
??_C@_0M@NDKFFMKM@USS?5PELELIU@ DB 'USS PELELIU', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@CKGOIHNO@USS?5SAIPAN@
CONST	SEGMENT
??_C@_0L@CKGOIHNO@USS?5SAIPAN@ DB 'USS SAIPAN', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@IPGPOMDE@USS?5TARAWA@
CONST	SEGMENT
??_C@_0L@IPGPOMDE@USS?5TARAWA@ DB 'USS TARAWA', 00H	; `string'
CONST	ENDS
_DATA	SEGMENT
?blue_force_carrier_names@@3PAPBDA DD FLAT:??_C@_0L@IPGPOMDE@USS?5TARAWA@ ; blue_force_carrier_names
	DD	FLAT:??_C@_0L@CKGOIHNO@USS?5SAIPAN@
	DD	FLAT:??_C@_0M@NDKFFMKM@USS?5PELELIU@
	DD	FLAT:??_C@_0L@LNLEJBIH@USS?5NASSAU@
	DD	FLAT:??_C@_0BB@LHJJEABF@USS?5BELLEAU?5WOOD@
	DD	FLAT:??_C@_0P@PEHJMGDB@USS?5ENTERPRISE@
	DD	FLAT:??_C@_0O@OHIFIBLL@USS?5CARRIER?52@
	DD	FLAT:??_C@_0O@POJOLAPK@USS?5CARRIER?53@
	DD	FLAT:??_C@_0O@LBNPCGDN@USS?5CARRIER?54@
	DD	FLAT:??_C@_0O@KIMEBHHM@USS?5CARRIER?55@
	DD	FLAT:??_C@_0O@IDOJEELP@USS?5CARRIER?56@
	DD	FLAT:??_C@_0O@JKPCHFPO@USS?5CARRIER?57@
	DD	FLAT:??_C@_0O@BNGKGJDB@USS?5CARRIER?58@
	DD	FLAT:??_C@_0O@EHBFIHA@USS?5CARRIER?59@
?red_force_carrier_names@@3PAPBDA DD FLAT:??_C@_05MGDJOJAK@BODRY@ ; red_force_carrier_names
	DD	FLAT:??_C@_06BFBMCMJF@ZHARKY@
	DD	FLAT:??_C@_05FGDPGMAP@LADNY@
	DD	FLAT:??_C@_07MAPKKPJD@SVIREPY@
	DD	FLAT:??_C@_05LHMBKHMK@LEGKY@
	DD	FLAT:??_C@_05FBHLLPGP@SILNY@
	DD	FLAT:??_C@_07ICFELHEJ@ZADORNY@
	DD	FLAT:??_C@_09BHCINGPO@DOBLESTNY@
	DD	FLAT:??_C@_0O@NMIAGFFO@CIS?5CARRIER?51@
	DD	FLAT:??_C@_0O@PHKNDGJN@CIS?5CARRIER?52@
	DD	FLAT:??_C@_0O@OOLGAHNM@CIS?5CARRIER?53@
	DD	FLAT:??_C@_0O@KBPHJBBL@CIS?5CARRIER?54@
	DD	FLAT:??_C@_0O@LIOMKAFK@CIS?5CARRIER?55@
	DD	FLAT:??_C@_0O@JDMBPDJJ@CIS?5CARRIER?56@
	DD	FLAT:??_C@_0O@IKNKMCNI@CIS?5CARRIER?57@
	DD	FLAT:??_C@_0O@NECNOBH@CIS?5CARRIER?58@
	DD	FLAT:??_C@_0O@BEFJOPFG@CIS?5CARRIER?59@
_DATA	ENDS
PUBLIC	___local_stdio_printf_options
PUBLIC	__vsnprintf_l
PUBLIC	__vsprintf_l
PUBLIC	_sprintf
PUBLIC	?read_sector_side_file@@YGXPBD@Z		; read_sector_side_file
PUBLIC	?read_population_placement_file@@YGXPBD@Z	; read_population_placement_file
PUBLIC	?get_object_3d_troop_landing_route@@YGHHPAPAUVEC3D@@@Z ; get_object_3d_troop_landing_route
PUBLIC	?get_object_3d_troop_takeoff_route@@YGHHPAPAUVEC3D@@@Z ; get_object_3d_troop_takeoff_route
PUBLIC	?get_object_3d_troop_landing_position_and_heading@@YGHHPAUVEC3D@@PAM@Z ; get_object_3d_troop_landing_position_and_heading
PUBLIC	?validate_airport_links@@YGXH@Z			; validate_airport_links
PUBLIC	??$max@H@std@@YGABHABH0@Z			; std::max<int>
PUBLIC	??$max@M@std@@YGABMABM0@Z			; std::max<float>
PUBLIC	?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage
PUBLIC	??_C@_02DKCKIIND@?$CFs@				; `string'
PUBLIC	?__LINE__Var@?0??read_sector_side_file@@YGXPBD@Z@4JA ; `read_sector_side_file'::`1'::__LINE__Var
PUBLIC	??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0O@CIDJENGH@channels?5?$DN?$DN?53@	; `string'
PUBLIC	??_C@_0CC@IKIOEBAL@width?5?$DN?$DN?5?$CI?5MAX_MAP_X_SECTOR?5?$CL?51@ ; `string'
PUBLIC	??_C@_0CD@GFMCIAPG@height?5?$DN?$DN?5?$CI?5MAX_MAP_Z_SECTOR?5?$CL?5@ ; `string'
PUBLIC	??_C@_0L@PAEHJLBC@BACKGROUND@			; `string'
PUBLIC	??_C@_0L@BCAJBAAP@IMPORTANCE@			; `string'
PUBLIC	?__LINE__Var@?0??reset_population_sector_values@@YGXHH@Z@4JA ; `reset_population_sector_values'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA ; `process_population_forces'::`1'::__LINE__Var
PUBLIC	??_C@_0BP@BLGAGCDG@POPREAD?3?5neutral?5sector?5?$CFd?0?5?$CFd@ ; `string'
PUBLIC	?__LINE__Var@?0??process_population_importance@@YGXPAUPSD_RGB@@HHH@Z@4JA ; `process_population_importance'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z@4JA ; `get_initial_sector_side'::`1'::__LINE__Var
PUBLIC	??_C@_0BN@DMHIDJNG@current_initial_sector_sides@ ; `string'
PUBLIC	??_C@_02JDPG@rb@				; `string'
PUBLIC	?__LINE__Var@?0??read_population_templates@@YGXPAU_iobuf@@@Z@4JA ; `read_population_templates'::`1'::__LINE__Var
PUBLIC	??_C@_0CE@IBFEKFKH@Invalid?5approximation?5specified@ ; `string'
PUBLIC	??_C@_0DE@DILNJMMJ@objects?$FLobject_count?$FN?4object_in@ ; `string'
PUBLIC	?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA ; `read_population_city_placements'::`1'::__LINE__Var
PUBLIC	??_C@_05DIALNFFA@?$CFs?5?$CFd@			; `string'
PUBLIC	??_C@_0CO@LMJDOPHH@point_inside_adjusted_map_area?5@ ; `string'
PUBLIC	??_C@_04MGELPMF@city@				; `string'
PUBLIC	??_C@_0CP@FMCAAOGP@No?5city?5or?5keysite?5to?5attach?5ci@ ; `string'
PUBLIC	?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA ; `read_population_airfield_placements'::`1'::__LINE__Var
PUBLIC	??_C@_0DL@LJOBLBAO@Placing?5a?5sea?5keysite?5?9?5but?5sec@ ; `string'
PUBLIC	??_C@_0FJ@HPLOBPIP@red_force_carrier_count?5?$DM?5?$CI?5?$CI?5s@ ; `string'
PUBLIC	??_C@_0FL@OBFICHNO@blue_force_carrier_count?5?$DM?5?$CI?5?$CI?5@ ; `string'
PUBLIC	??_C@_0DE@NKAKKFFE@keysite_sub_type?5?$DN?$DN?5ENTITY_SUB_@ ; `string'
PUBLIC	??_C@_0P@CHJBOHAI@keysite_id?5?$DO?50@		; `string'
PUBLIC	?__LINE__Var@?0??read_population_sam_placements@@YGXPAU_iobuf@@@Z@4JA ; `read_population_sam_placements'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z@4JA ; `get_waypoint_inhangar_bits'::`1'::__LINE__Var
PUBLIC	??_C@_0CD@FKIJFNN@waypoint?9?$DOnumber_of_positions?5?$DM@ ; `string'
PUBLIC	?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA ; `insert_airport_fixedwing_routes'::`1'::__LINE__Var
PUBLIC	??_C@_0FH@GNHOAPLF@?$CB?$CIlanding_types?5?$CG?51?5?$DM?$DM?5get_loca@ ; `string'
PUBLIC	?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA ; `insert_airport_helicopter_routes'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA ; `insert_airport_general_takeoff_landing_routes'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA ; `insert_airfield_buildings'::`1'::__LINE__Var
PUBLIC	??_C@_0L@ICBFMACH@closest_wp@			; `string'
PUBLIC	?__LINE__Var@?0??get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z@4JA ; `get_keysite_name'::`1'::__LINE__Var
PUBLIC	??_C@_0BD@FEEMDEPI@invalid?5comparator@		; `string'
PUBLIC	??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ ; `string'
PUBLIC	??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ ; `string'
PUBLIC	??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ ; `string'
PUBLIC	??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ ; `string'
PUBLIC	__real@0000000000000000
PUBLIC	__real@3c8efa35
PUBLIC	__real@3fa999999999999a
PUBLIC	__real@3fb999999999999a
PUBLIC	__real@4008000000000000
PUBLIC	__real@4059000000000000
PUBLIC	__real@40b3880000000000
PUBLIC	__real@4b189680
EXTRN	__imp___invalid_parameter:PROC
EXTRN	__imp__fclose:PROC
EXTRN	__imp__fread:PROC
EXTRN	__imp____stdio_common_vsprintf:PROC
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	_strcpy:PROC
EXTRN	__imp___stricmp:PROC
EXTRN	_strlen:PROC
EXTRN	__imp___strnicmp:PROC
EXTRN	__imp___CrtDbgReport:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?convert_float_to_int@@YGXMPAH@Z:PROC		; convert_float_to_int
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?debug_log@@YAXPBDZZ:PROC			; debug_log
EXTRN	?safe_malloc_memory@@YGPAXI@Z:PROC		; safe_malloc_memory
EXTRN	?safe_free@@YGXPAX@Z:PROC			; safe_free
EXTRN	?safe_fopen@@YGPAU_iobuf@@PBD0@Z:PROC		; safe_fopen
EXTRN	?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z:PROC	; get_3d_vector_magnitude
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?get_3d_transformation_heading_matrix@@YGXQAY02MM@Z:PROC ; get_3d_transformation_heading_matrix
EXTRN	?multiply_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_matrix3x3_vec3d
EXTRN	?get_2d_range@@YGMPBUVEC3D@@0@Z:PROC		; get_2d_range
EXTRN	?load_psd_file@@YGPAXPBDPAH11@Z:PROC		; load_psd_file
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; destruct_3d_object
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z:PROC ; get_3d_terrain_point_data
EXTRN	?get_3d_terrain_point_data_type@@YGHPAUTERRAIN_3D_POINT_DATA@@@Z:PROC ; get_3d_terrain_point_data_type
EXTRN	?initialise_terrain_objects@@YGXXZ:PROC		; initialise_terrain_objects
EXTRN	?set_number_of_terrain_objects@@YGXH@Z:PROC	; set_number_of_terrain_objects
EXTRN	?insert_3d_object_into_terrain@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; insert_3d_object_into_terrain
EXTRN	?initialise_formation_database_table@@YGXXZ:PROC ; initialise_formation_database_table
EXTRN	?add_formation_to_database@@YGHHPAUVEC3D@@@Z:PROC ; add_formation_to_database
EXTRN	?get_formation_components@@YGPAUFORMATION_VEHICLE_COMPONENTS@@W4FORMATION_COMPONENT_TYPES@@@Z:PROC ; get_formation_components
EXTRN	?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ:PROC ; create_local_entity
EXTRN	?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z:PROC ; get_local_force_entity
EXTRN	?initialise_keysite_farp_enable@@YGXPAUENTITY@@@Z:PROC ; initialise_keysite_farp_enable
EXTRN	?validate_keysite_landing_site_heights@@YGXPAUENTITY@@@Z:PROC ; validate_keysite_landing_site_heights
EXTRN	?get_local_entity_landing_entity@@YGPAUENTITY@@PAU1@H@Z:PROC ; get_local_entity_landing_entity
EXTRN	?get_local_landing_entity_route@@YGPAUENTITY@@PAU1@H@Z:PROC ; get_local_landing_entity_route
EXTRN	?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z:PROC ; get_local_landing_entity_task
EXTRN	?get_3d_object_updateable_flag@@YGHH@Z:PROC	; get_3d_object_updateable_flag
EXTRN	?get_object_3d_regeneration_type@@YG?AW4ENTITY_SUB_TYPE_REGEN@@HPAH@Z:PROC ; get_object_3d_regeneration_type
EXTRN	?get_local_sector_entity@@YGPAUENTITY@@PAUVEC3D@@@Z:PROC ; get_local_sector_entity
EXTRN	?get_terrain_type_class@@YG?AW4TERRAIN_CLASSES@@H@Z:PROC ; get_terrain_type_class
EXTRN	?get_trans@@YGPBDPBD@Z:PROC			; get_trans
EXTRN	?update_gunships_screen_progress_indicator@@YGXXZ:PROC ; update_gunships_screen_progress_indicator
EXTRN	?destroy_routegen_waypoint_routes@@YGXXZ:PROC	; destroy_routegen_waypoint_routes
EXTRN	?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z:PROC ; parse_waypoint_routes_from_object
EXTRN	?create_faction_members@@YGPAUENTITY@@PAU1@HW4FORMATION_COMPONENT_TYPES@@HW4ENTITY_SIDES@@PAUVEC3D@@HH@Z:PROC ; create_faction_members
EXTRN	?psd_layers@@3PAUPSD_LAYER_INFO@@A:BYTE		; psd_layers
EXTRN	?number_of_psd_layers@@3HA:DWORD		; number_of_psd_layers
EXTRN	?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A:DWORD ; objects_3d_scene_database
EXTRN	?object_3d_enumeration_names@@3PAPBDA:DWORD	; object_3d_enumeration_names
EXTRN	?terrain_3d_max_map_z@@3MA:DWORD		; terrain_3d_max_map_z
EXTRN	?terrain_3d_map_minimum_height@@3MA:DWORD	; terrain_3d_map_minimum_height
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?world_map@@3UWORLD_MAP_DATA@@A:BYTE		; world_map
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA:BYTE ; fn_set_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_local_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?fixed_3d_object_database@@3PAUFIXED_3D_OBJECT_DATA@@A:BYTE ; fixed_3d_object_database
EXTRN	?keysite_database@@3PAUKEYSITE_DATA@@A:BYTE	; keysite_database
EXTRN	?entity_sector_map@@3PAPAUENTITY@@A:DWORD	; entity_sector_map
EXTRN	?null_sector_entity_map_pointer_message@@3PBDB:DWORD ; null_sector_entity_map_pointer_message
EXTRN	?number_of_route_waypoint_positions@@3HA:DWORD	; number_of_route_waypoint_positions
EXTRN	?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A:DWORD ; route_waypoint_positions
EXTRN	?population_name_database@@3PAUPOPULATION_NAME_DATABASE_TYPE@@A:DWORD ; population_name_database
EXTRN	?parser_keysite@@3PAUENTITY@@A:DWORD		; parser_keysite
EXTRN	?parser_landing@@3PAUENTITY@@A:DWORD		; parser_landing
EXTRN	?parser_route@@3PAUENTITY@@A:DWORD		; parser_route
EXTRN	__fltused:DWORD
;	COMDAT ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA
_BSS	SEGMENT
?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA DQ 01H DUP (?) ; `__local_stdio_printf_options'::`2'::_OptionsStorage
_BSS	ENDS
_BSS	SEGMENT
?current_map_max_z@@3HA DD 01H DUP (?)			; current_map_max_z
?population_file_version2@@3HA DD 01H DUP (?)		; population_file_version2
?current_initial_sector_sides@@3PAUPSD_RGB@@A DD 01H DUP (?) ; current_initial_sector_sides
?current_initial_sector_sides_x_length@@3HA DD 01H DUP (?) ; current_initial_sector_sides_x_length
?current_initial_sector_sides_z_length@@3HA DD 01H DUP (?) ; current_initial_sector_sides_z_length
?population_importances@@3PAHA DD 01H DUP (?)		; population_importances
_BSS	ENDS
;	COMDAT __real@4b189680
CONST	SEGMENT
__real@4b189680 DD 04b189680r			; 1e+07
CONST	ENDS
;	COMDAT __real@40b3880000000000
CONST	SEGMENT
__real@40b3880000000000 DQ 040b3880000000000r	; 5000
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT __real@4008000000000000
CONST	SEGMENT
__real@4008000000000000 DQ 04008000000000000r	; 3
CONST	ENDS
;	COMDAT __real@3fb999999999999a
CONST	SEGMENT
__real@3fb999999999999a DQ 03fb999999999999ar	; 0.1
CONST	ENDS
;	COMDAT __real@3fa999999999999a
CONST	SEGMENT
__real@3fa999999999999a DQ 03fa999999999999ar	; 0.05
CONST	ENDS
;	COMDAT __real@3c8efa35
CONST	SEGMENT
__real@3c8efa35 DD 03c8efa35r			; 0.0174533
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
CONST	SEGMENT
??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ DB '"'
	DB	00H, 'i', 00H, 'n', 00H, 'v', 00H, 'a', 00H, 'l', 00H, 'i', 00H
	DB	'd', 00H, ' ', 00H, 'c', 00H, 'o', 00H, 'm', 00H, 'p', 00H, 'a'
	DB	00H, 'r', 00H, 'a', 00H, 't', 00H, 'o', 00H, 'r', 00H, '"', 00H
	DB	00H, 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
CONST	SEGMENT
??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ DB 's', 00H
	DB	't', 00H, 'd', 00H, ':', 00H, ':', 00H, 'm', 00H, 'a', 00H, 'x'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
CONST	SEGMENT
??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ DB 'c'
	DB	00H, ':', 00H, '\', 00H, 'p', 00H, 'r', 00H, 'o', 00H, 'g', 00H
	DB	'r', 00H, 'a', 00H, 'm', 00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l'
	DB	00H, 'e', 00H, 's', 00H, ' ', 00H, '(', 00H, 'x', 00H, '8', 00H
	DB	'6', 00H, ')', 00H, '\', 00H, 'm', 00H, 'i', 00H, 'c', 00H, 'r'
	DB	00H, 'o', 00H, 's', 00H, 'o', 00H, 'f', 00H, 't', 00H, ' ', 00H
	DB	'v', 00H, 'i', 00H, 's', 00H, 'u', 00H, 'a', 00H, 'l', 00H, ' '
	DB	00H, 's', 00H, 't', 00H, 'u', 00H, 'd', 00H, 'i', 00H, 'o', 00H
	DB	'\', 00H, '2', 00H, '0', 00H, '1', 00H, '7', 00H, '\', 00H, 'c'
	DB	00H, 'o', 00H, 'm', 00H, 'm', 00H, 'u', 00H, 'n', 00H, 'i', 00H
	DB	't', 00H, 'y', 00H, '\', 00H, 'v', 00H, 'c', 00H, '\', 00H, 't'
	DB	00H, 'o', 00H, 'o', 00H, 'l', 00H, 's', 00H, '\', 00H, 'm', 00H
	DB	's', 00H, 'v', 00H, 'c', 00H, '\', 00H, '1', 00H, '4', 00H, '.'
	DB	00H, '1', 00H, '6', 00H, '.', 00H, '2', 00H, '7', 00H, '0', 00H
	DB	'2', 00H, '3', 00H, '\', 00H, 'i', 00H, 'n', 00H, 'c', 00H, 'l'
	DB	00H, 'u', 00H, 'd', 00H, 'e', 00H, '\', 00H, 'a', 00H, 'l', 00H
	DB	'g', 00H, 'o', 00H, 'r', 00H, 'i', 00H, 't', 00H, 'h', 00H, 'm'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
CONST	SEGMENT
??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ DB 'c:\pro'
	DB	'gram files (x86)\microsoft visual studio\2017\community\vc\to'
	DB	'ols\msvc\14.16.27023\include\algorithm', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FEEMDEPI@invalid?5comparator@
CONST	SEGMENT
??_C@_0BD@FEEMDEPI@invalid?5comparator@ DB 'invalid comparator', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z@4JA DD 0f58H ; `get_keysite_name'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0L@ICBFMACH@closest_wp@
CONST	SEGMENT
??_C@_0L@ICBFMACH@closest_wp@ DB 'closest_wp', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA DD 0e36H ; `insert_airfield_buildings'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA DD 0d01H ; `insert_airport_general_takeoff_landing_routes'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA DD 0b46H ; `insert_airport_helicopter_routes'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0FH@GNHOAPLF@?$CB?$CIlanding_types?5?$CG?51?5?$DM?$DM?5get_loca@
CONST	SEGMENT
??_C@_0FH@GNHOAPLF@?$CB?$CIlanding_types?5?$CG?51?5?$DM?$DM?5get_loca@ DB '!'
	DB	'(landing_types & 1 << get_local_entity_int_value (landing, IN'
	DB	'T_TYPE_ENTITY_SUB_TYPE))', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA DD 0a38H ; `insert_airport_fixedwing_routes'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CD@FKIJFNN@waypoint?9?$DOnumber_of_positions?5?$DM@
CONST	SEGMENT
??_C@_0CD@FKIJFNN@waypoint?9?$DOnumber_of_positions?5?$DM@ DB 'waypoint->'
	DB	'number_of_positions < 32', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z@4JA DD 09c8H ; `get_waypoint_inhangar_bits'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??read_population_sam_placements@@YGXPAU_iobuf@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??read_population_sam_placements@@YGXPAU_iobuf@@@Z@4JA DD 0803H ; `read_population_sam_placements'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0P@CHJBOHAI@keysite_id?5?$DO?50@
CONST	SEGMENT
??_C@_0P@CHJBOHAI@keysite_id?5?$DO?50@ DB 'keysite_id > 0', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@NKAKKFFE@keysite_sub_type?5?$DN?$DN?5ENTITY_SUB_@
CONST	SEGMENT
??_C@_0DE@NKAKKFFE@keysite_sub_type?5?$DN?$DN?5ENTITY_SUB_@ DB 'keysite_s'
	DB	'ub_type == ENTITY_SUB_TYPE_KEYSITE_AIRBASE', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FL@OBFICHNO@blue_force_carrier_count?5?$DM?5?$CI?5?$CI?5@
CONST	SEGMENT
??_C@_0FL@OBFICHNO@blue_force_carrier_count?5?$DM?5?$CI?5?$CI?5@ DB 'blue'
	DB	'_force_carrier_count < ( ( sizeof ( blue_force_carrier_names '
	DB	') / sizeof ( char * ) ) )', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FJ@HPLOBPIP@red_force_carrier_count?5?$DM?5?$CI?5?$CI?5s@
CONST	SEGMENT
??_C@_0FJ@HPLOBPIP@red_force_carrier_count?5?$DM?5?$CI?5?$CI?5s@ DB 'red_'
	DB	'force_carrier_count < ( ( sizeof ( red_force_carrier_names ) '
	DB	'/ sizeof ( char * ) ) )', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DL@LJOBLBAO@Placing?5a?5sea?5keysite?5?9?5but?5sec@
CONST	SEGMENT
??_C@_0DL@LJOBLBAO@Placing?5a?5sea?5keysite?5?9?5but?5sec@ DB 'Placing a '
	DB	'sea keysite - but sector belongs to neither side', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA DD 0594H ; `read_population_airfield_placements'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CP@FMCAAOGP@No?5city?5or?5keysite?5to?5attach?5ci@
CONST	SEGMENT
??_C@_0CP@FMCAAOGP@No?5city?5or?5keysite?5to?5attach?5ci@ DB 'No city or '
	DB	'keysite to attach city buildings to', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_04MGELPMF@city@
CONST	SEGMENT
??_C@_04MGELPMF@city@ DB 'city', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@LMJDOPHH@point_inside_adjusted_map_area?5@
CONST	SEGMENT
??_C@_0CO@LMJDOPHH@point_inside_adjusted_map_area?5@ DB 'point_inside_adj'
	DB	'usted_map_area (&keysite_pos)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05DIALNFFA@?$CFs?5?$CFd@
CONST	SEGMENT
??_C@_05DIALNFFA@?$CFs?5?$CFd@ DB '%s %d', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA DD 0389H ; `read_population_city_placements'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DE@DILNJMMJ@objects?$FLobject_count?$FN?4object_in@
CONST	SEGMENT
??_C@_0DE@DILNJMMJ@objects?$FLobject_count?$FN?4object_in@ DB 'objects[ob'
	DB	'ject_count].object_index < OBJECT_3D_LAST', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@IBFEKFKH@Invalid?5approximation?5specified@
CONST	SEGMENT
??_C@_0CE@IBFEKFKH@Invalid?5approximation?5specified@ DB 'Invalid approxi'
	DB	'mation specified: %s', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??read_population_templates@@YGXPAU_iobuf@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??read_population_templates@@YGXPAU_iobuf@@@Z@4JA DD 02ddH ; `read_population_templates'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02JDPG@rb@
CONST	SEGMENT
??_C@_02JDPG@rb@ DB 'rb', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@DMHIDJNG@current_initial_sector_sides@
CONST	SEGMENT
??_C@_0BN@DMHIDJNG@current_initial_sector_sides@ DB 'current_initial_sect'
	DB	'or_sides', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z@4JA DD 0220H ; `get_initial_sector_side'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??process_population_importance@@YGXPAUPSD_RGB@@HHH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??process_population_importance@@YGXPAUPSD_RGB@@HHH@Z@4JA DD 01fbH ; `process_population_importance'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BP@BLGAGCDG@POPREAD?3?5neutral?5sector?5?$CFd?0?5?$CFd@
CONST	SEGMENT
??_C@_0BP@BLGAGCDG@POPREAD?3?5neutral?5sector?5?$CFd?0?5?$CFd@ DB 'POPREA'
	DB	'D: neutral sector %d, %d', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA DD 01baH ; `process_population_forces'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??reset_population_sector_values@@YGXHH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??reset_population_sector_values@@YGXHH@Z@4JA DD 019aH ; `reset_population_sector_values'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0L@BCAJBAAP@IMPORTANCE@
CONST	SEGMENT
??_C@_0L@BCAJBAAP@IMPORTANCE@ DB 'IMPORTANCE', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@PAEHJLBC@BACKGROUND@
CONST	SEGMENT
??_C@_0L@PAEHJLBC@BACKGROUND@ DB 'BACKGROUND', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@GFMCIAPG@height?5?$DN?$DN?5?$CI?5MAX_MAP_Z_SECTOR?5?$CL?5@
CONST	SEGMENT
??_C@_0CD@GFMCIAPG@height?5?$DN?$DN?5?$CI?5MAX_MAP_Z_SECTOR?5?$CL?5@ DB 'h'
	DB	'eight == ( MAX_MAP_Z_SECTOR + 1 )', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@IKIOEBAL@width?5?$DN?$DN?5?$CI?5MAX_MAP_X_SECTOR?5?$CL?51@
CONST	SEGMENT
??_C@_0CC@IKIOEBAL@width?5?$DN?$DN?5?$CI?5MAX_MAP_X_SECTOR?5?$CL?51@ DB 'w'
	DB	'idth == ( MAX_MAP_X_SECTOR + 1 )', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@CIDJENGH@channels?5?$DN?$DN?53@
CONST	SEGMENT
??_C@_0O@CIDJENGH@channels?5?$DN?$DN?53@ DB 'channels == 3', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\ai\faction\popread.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??read_sector_side_file@@YGXPBD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??read_sector_side_file@@YGXPBD@Z@4JA DD 0148H ; `read_sector_side_file'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs@ DB '%s', 00H			; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\algorithm
;	COMDAT ??$max@M@std@@YGABMABM0@Z
_TEXT	SEGMENT
__Left$ = 8						; size = 4
__Right$ = 12						; size = 4
??$max@M@std@@YGABMABM0@Z PROC				; std::max<float>, COMDAT

; 5387 : 	{	// return larger of _Left and _Right

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 5388 : 	if (_Left < _Right)

  00009	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0000c	8b 4d 08	 mov	 ecx, DWORD PTR __Left$[ebp]
  0000f	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00013	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00016	76 64		 jbe	 SHORT $LN8@max
$LN4@max:

; 5389 : 		{
; 5390 : 		_STL_ASSERT(!(_Right < _Left), "invalid comparator");

  00018	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
  0001b	8b 4d 0c	 mov	 ecx, DWORD PTR __Right$[ebp]
  0001e	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00022	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00025	77 02		 ja	 SHORT $LN9@max
  00027	eb 4a		 jmp	 SHORT $LN6@max
$LN9@max:
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FEEMDEPI@invalid?5comparator@
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs@
  00033	6a 00		 push	 0
  00035	68 0e 15 00 00	 push	 5390			; 0000150eH
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
  0003f	6a 02		 push	 2
  00041	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00047	83 c4 18	 add	 esp, 24			; 00000018H
  0004a	83 f8 01	 cmp	 eax, 1
  0004d	75 01		 jne	 SHORT $LN12@max
  0004f	cc		 int	 3
$LN12@max:
  00050	6a 00		 push	 0
  00052	68 0e 15 00 00	 push	 5390			; 0000150eH
  00057	68 00 00 00 00	 push	 OFFSET ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter
  0006c	83 c4 14	 add	 esp, 20			; 00000014H
  0006f	33 c0		 xor	 eax, eax
  00071	75 b6		 jne	 SHORT $LN9@max
$LN6@max:
  00073	33 c0		 xor	 eax, eax
  00075	75 a1		 jne	 SHORT $LN4@max

; 5391 : 		return (_Right);

  00077	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0007a	eb 03		 jmp	 SHORT $LN1@max
$LN8@max:

; 5392 : 		}
; 5393 : 
; 5394 : 	return (_Left);

  0007c	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
$LN1@max:

; 5395 : 	}

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
??$max@M@std@@YGABMABM0@Z ENDP				; std::max<float>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\algorithm
;	COMDAT ??$max@H@std@@YGABHABH0@Z
_TEXT	SEGMENT
__Left$ = 8						; size = 4
__Right$ = 12						; size = 4
??$max@H@std@@YGABHABH0@Z PROC				; std::max<int>, COMDAT

; 5387 : 	{	// return larger of _Left and _Right

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 5388 : 	if (_Left < _Right)

  00009	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
  0000c	8b 4d 0c	 mov	 ecx, DWORD PTR __Right$[ebp]
  0000f	8b 10		 mov	 edx, DWORD PTR [eax]
  00011	3b 11		 cmp	 edx, DWORD PTR [ecx]
  00013	7d 61		 jge	 SHORT $LN8@max
$LN4@max:

; 5389 : 		{
; 5390 : 		_STL_ASSERT(!(_Right < _Left), "invalid comparator");

  00015	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  00018	8b 4d 08	 mov	 ecx, DWORD PTR __Left$[ebp]
  0001b	8b 10		 mov	 edx, DWORD PTR [eax]
  0001d	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0001f	7c 02		 jl	 SHORT $LN7@max
  00021	eb 4a		 jmp	 SHORT $LN2@max
$LN7@max:
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FEEMDEPI@invalid?5comparator@
  00028	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs@
  0002d	6a 00		 push	 0
  0002f	68 0e 15 00 00	 push	 5390			; 0000150eH
  00034	68 00 00 00 00	 push	 OFFSET ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
  00039	6a 02		 push	 2
  0003b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00041	83 c4 18	 add	 esp, 24			; 00000018H
  00044	83 f8 01	 cmp	 eax, 1
  00047	75 01		 jne	 SHORT $LN12@max
  00049	cc		 int	 3
$LN12@max:
  0004a	6a 00		 push	 0
  0004c	68 0e 15 00 00	 push	 5390			; 0000150eH
  00051	68 00 00 00 00	 push	 OFFSET ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
  00060	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter
  00066	83 c4 14	 add	 esp, 20			; 00000014H
  00069	33 c0		 xor	 eax, eax
  0006b	75 b6		 jne	 SHORT $LN7@max
$LN2@max:
  0006d	33 c0		 xor	 eax, eax
  0006f	75 a4		 jne	 SHORT $LN4@max

; 5391 : 		return (_Right);

  00071	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  00074	eb 03		 jmp	 SHORT $LN11@max
$LN8@max:

; 5392 : 		}
; 5393 : 
; 5394 : 	return (_Left);

  00076	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
$LN11@max:

; 5395 : 	}

  00079	5f		 pop	 edi
  0007a	5e		 pop	 esi
  0007b	5b		 pop	 ebx
  0007c	8b e5		 mov	 esp, ebp
  0007e	5d		 pop	 ebp
  0007f	c2 08 00	 ret	 8
??$max@H@std@@YGABHABH0@Z ENDP				; std::max<int>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?process_population_importance@@YGXPAUPSD_RGB@@HHH@Z
_TEXT	SEGMENT
_y$ = -8						; size = 4
_x$ = -4						; size = 4
_ptr$ = 8						; size = 4
_side$ = 12						; size = 4
_width$ = 16						; size = 4
_height$ = 20						; size = 4
?process_population_importance@@YGXPAUPSD_RGB@@HHH@Z PROC ; process_population_importance, COMDAT

; 507  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 508  : 
; 509  : 	int
; 510  : 		x,
; 511  : 		y;
; 512  : 
; 513  : 	ASSERT ( width == ( MAX_MAP_X_SECTOR + 1 ) );

  00009	a1 1c 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+28
  0000e	83 c0 01	 add	 eax, 1
  00011	39 45 10	 cmp	 DWORD PTR _width$[ebp], eax
  00014	74 18		 je	 SHORT $LN8@process_po
  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??process_population_importance@@YGXPAUPSD_RGB@@HHH@Z@4JA
  0001b	83 c0 06	 add	 eax, 6
  0001e	50		 push	 eax
  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@IKIOEBAL@width?5?$DN?$DN?5?$CI?5MAX_MAP_X_SECTOR?5?$CL?51@
  00029	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@process_po:

; 514  : 	ASSERT ( height == ( MAX_MAP_Z_SECTOR + 1 ) );

  0002e	a1 20 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  00033	83 c0 01	 add	 eax, 1
  00036	39 45 14	 cmp	 DWORD PTR _height$[ebp], eax
  00039	74 18		 je	 SHORT $LN9@process_po
  0003b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??process_population_importance@@YGXPAUPSD_RGB@@HHH@Z@4JA
  00040	83 c0 07	 add	 eax, 7
  00043	50		 push	 eax
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00049	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@GFMCIAPG@height?5?$DN?$DN?5?$CI?5MAX_MAP_Z_SECTOR?5?$CL?5@
  0004e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN9@process_po:

; 515  : 
; 516  : 	if ( population_importances )

  00053	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?population_importances@@3PAHA, 0
  0005a	74 15		 je	 SHORT $LN10@process_po

; 517  : 	{
; 518  : 
; 519  : 		safe_free ( population_importances );

  0005c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?population_importances@@3PAHA
  00061	50		 push	 eax
  00062	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 520  : 
; 521  : 		population_importances = NULL;

  00067	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?population_importances@@3PAHA, 0
$LN10@process_po:

; 522  : 	}
; 523  : 
; 524  : 	population_importances = ( int * ) safe_malloc ( sizeof ( int ) * width * height );

  00071	8b 45 10	 mov	 eax, DWORD PTR _width$[ebp]
  00074	c1 e0 02	 shl	 eax, 2
  00077	0f af 45 14	 imul	 eax, DWORD PTR _height$[ebp]
  0007b	50		 push	 eax
  0007c	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00081	a3 00 00 00 00	 mov	 DWORD PTR ?population_importances@@3PAHA, eax

; 525  : 
; 526  : 	for ( y = 0; y < height; y++ )

  00086	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _y$[ebp], 0
  0008d	eb 09		 jmp	 SHORT $LN4@process_po
$LN2@process_po:
  0008f	8b 45 f8	 mov	 eax, DWORD PTR _y$[ebp]
  00092	83 c0 01	 add	 eax, 1
  00095	89 45 f8	 mov	 DWORD PTR _y$[ebp], eax
$LN4@process_po:
  00098	8b 45 f8	 mov	 eax, DWORD PTR _y$[ebp]
  0009b	3b 45 14	 cmp	 eax, DWORD PTR _height$[ebp]
  0009e	7d 45		 jge	 SHORT $LN1@process_po

; 527  : 	{
; 528  : 
; 529  : 		for ( x = 0; x < width; x++ )

  000a0	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _x$[ebp], 0
  000a7	eb 09		 jmp	 SHORT $LN7@process_po
$LN5@process_po:
  000a9	8b 45 fc	 mov	 eax, DWORD PTR _x$[ebp]
  000ac	83 c0 01	 add	 eax, 1
  000af	89 45 fc	 mov	 DWORD PTR _x$[ebp], eax
$LN7@process_po:
  000b2	8b 45 fc	 mov	 eax, DWORD PTR _x$[ebp]
  000b5	3b 45 10	 cmp	 eax, DWORD PTR _width$[ebp]
  000b8	7d 29		 jge	 SHORT $LN6@process_po

; 530  : 		{
; 531  : 
; 532  : 			population_importances[ ( MAX_MAP_Z_SECTOR - y ) * width + x ] = ptr->r;

  000ba	8b 45 08	 mov	 eax, DWORD PTR _ptr$[ebp]
  000bd	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  000c0	8b 15 20 00 00
	00		 mov	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  000c6	2b 55 f8	 sub	 edx, DWORD PTR _y$[ebp]
  000c9	0f af 55 10	 imul	 edx, DWORD PTR _width$[ebp]
  000cd	03 55 fc	 add	 edx, DWORD PTR _x$[ebp]
  000d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?population_importances@@3PAHA
  000d5	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 533  : 
; 534  : 			ptr++;

  000d8	8b 45 08	 mov	 eax, DWORD PTR _ptr$[ebp]
  000db	83 c0 03	 add	 eax, 3
  000de	89 45 08	 mov	 DWORD PTR _ptr$[ebp], eax

; 535  : 		}

  000e1	eb c6		 jmp	 SHORT $LN5@process_po
$LN6@process_po:

; 536  : 	}

  000e3	eb aa		 jmp	 SHORT $LN2@process_po
$LN1@process_po:

; 537  : }

  000e5	5f		 pop	 edi
  000e6	5e		 pop	 esi
  000e7	5b		 pop	 ebx
  000e8	8b e5		 mov	 esp, ebp
  000ea	5d		 pop	 ebp
  000eb	c2 10 00	 ret	 16			; 00000010H
?process_population_importance@@YGXPAUPSD_RGB@@HHH@Z ENDP ; process_population_importance
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?initialise_object_3d_troop_landing_routes@@YGXXZ
_TEXT	SEGMENT
_count$ = -4						; size = 4
?initialise_object_3d_troop_landing_routes@@YGXXZ PROC	; initialise_object_3d_troop_landing_routes, COMDAT

; 4012 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 4013 : 
; 4014 : 	int
; 4015 : 		count;
; 4016 : 
; 4017 : 	if ( !object_3d_troop_routes )

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A, 0 ; object_3d_troop_routes
  00010	0f 85 85 00 00
	00		 jne	 $LN1@initialise

; 4018 : 	{
; 4019 : 
; 4020 : 		object_3d_troop_routes = ( troop_landing_route_information * ) safe_malloc ( sizeof ( troop_landing_route_information ) * OBJECT_3D_LAST );

  00016	68 10 88 01 00	 push	 100368			; 00018810H
  0001b	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00020	a3 00 00 00 00	 mov	 DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A, eax ; object_3d_troop_routes

; 4021 : 
; 4022 : 		for ( count = 0; count < OBJECT_3D_LAST; count++ )

  00025	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002c	eb 09		 jmp	 SHORT $LN4@initialise
$LN2@initialise:
  0002e	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00031	83 c0 01	 add	 eax, 1
  00034	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@initialise:
  00037	81 7d fc e4 0a
	00 00		 cmp	 DWORD PTR _count$[ebp], 2788 ; 00000ae4H
  0003e	7d 5b		 jge	 SHORT $LN1@initialise

; 4023 : 		{
; 4024 : 
; 4025 : 			object_3d_troop_routes[count].number_of_landing_route_nodes = 0;

  00040	6b 45 fc 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  00044	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0004a	c7 04 01 00 00
	00 00		 mov	 DWORD PTR [ecx+eax], 0

; 4026 : 			object_3d_troop_routes[count].landing_route = NULL;

  00051	6b 45 fc 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  00055	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0005b	c7 44 01 0c 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+12], 0

; 4027 : 
; 4028 : 			object_3d_troop_routes[count].number_of_takeoff_route_nodes = 0;

  00063	6b 45 fc 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  00067	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0006d	c7 44 01 04 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+4], 0

; 4029 : 			object_3d_troop_routes[count].takeoff_route = NULL;

  00075	6b 45 fc 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  00079	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0007f	c7 44 01 10 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+16], 0

; 4030 : 
; 4031 : 			object_3d_troop_routes[count].landing_position_valid = FALSE;

  00087	6b 45 fc 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  0008b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00091	c7 44 01 08 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+8], 0

; 4032 : 		}

  00099	eb 93		 jmp	 SHORT $LN2@initialise
$LN1@initialise:

; 4033 : 	}
; 4034 : }

  0009b	5f		 pop	 edi
  0009c	5e		 pop	 esi
  0009d	5b		 pop	 ebx
  0009e	8b e5		 mov	 esp, ebp
  000a0	5d		 pop	 ebp
  000a1	c3		 ret	 0
?initialise_object_3d_troop_landing_routes@@YGXXZ ENDP	; initialise_object_3d_troop_landing_routes
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z
_TEXT	SEGMENT
tv134 = -108						; size = 4
_pos$ = -40						; size = 12
_z_sec$ = -28						; size = 4
_x_sec$ = -24						; size = 4
_sector$ = -20						; size = 4
_item$ = -16						; size = 4
_best_item$ = -12					; size = 4
_best_range$ = -8					; size = 4
_range$ = -4						; size = 4
_x$ = 8							; size = 4
_z$ = 12						; size = 4
_side$ = 16						; size = 4
?get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z PROC	; get_keysite_name, COMDAT

; 3928 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 6c	 sub	 esp, 108		; 0000006cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 3929 : 
; 3930 : 	float
; 3931 : 		range,
; 3932 : 		best_range;
; 3933 : 
; 3934 : 	population_name_database_type
; 3935 : 		*best_item,
; 3936 : 		*item;
; 3937 : 
; 3938 : 	entity
; 3939 : 		*sector;
; 3940 : 
; 3941 : 	int
; 3942 : 		x_sec,
; 3943 : 		z_sec;
; 3944 : 
; 3945 : 	vec3d
; 3946 : 		pos;
; 3947 : 
; 3948 : 	best_item = NULL;

  00009	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _best_item$[ebp], 0

; 3949 : 
; 3950 : 	item = population_name_database;

  00010	a1 00 00 00 00	 mov	 eax, DWORD PTR ?population_name_database@@3PAUPOPULATION_NAME_DATABASE_TYPE@@A ; population_name_database
  00015	89 45 f0	 mov	 DWORD PTR _item$[ebp], eax

; 3951 : 
; 3952 : 	best_range = MAX_MAP_X * MAX_MAP_Z * SECTOR_SIDE_LENGTH;

  00018	f3 0f 10 05 3c
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+60
  00020	f3 0f 59 05 44
	00 00 00	 mulss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+68
  00028	f3 0f 2a 0d 00
	00 00 00	 cvtsi2ss xmm1, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  00030	f3 0f 59 c1	 mulss	 xmm0, xmm1
  00034	f3 0f 11 45 f8	 movss	 DWORD PTR _best_range$[ebp], xmm0
$LN2@get_keysit:

; 3953 : 
; 3954 : 	while (item)

  00039	83 7d f0 00	 cmp	 DWORD PTR _item$[ebp], 0
  0003d	74 7a		 je	 SHORT $LN3@get_keysit

; 3955 : 	{
; 3956 : 		if (item->type == POPULATION_TYPE_KEYSITE)

  0003f	8b 45 f0	 mov	 eax, DWORD PTR _item$[ebp]
  00042	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  00046	75 66		 jne	 SHORT $LN5@get_keysit

; 3957 : 		{
; 3958 : 			pos.x = x - item->x;

  00048	8b 45 f0	 mov	 eax, DWORD PTR _item$[ebp]
  0004b	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _x$[ebp]
  00050	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  00055	f3 0f 11 45 d8	 movss	 DWORD PTR _pos$[ebp], xmm0

; 3959 : 			pos.y = 0;

  0005a	0f 57 c0	 xorps	 xmm0, xmm0
  0005d	f3 0f 11 45 dc	 movss	 DWORD PTR _pos$[ebp+4], xmm0

; 3960 : 			pos.z = z - item->z;

  00062	8b 45 f0	 mov	 eax, DWORD PTR _item$[ebp]
  00065	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _z$[ebp]
  0006a	f3 0f 5c 40 0c	 subss	 xmm0, DWORD PTR [eax+12]
  0006f	f3 0f 11 45 e0	 movss	 DWORD PTR _pos$[ebp+8], xmm0

; 3961 : 	
; 3962 : 			range = get_3d_vector_magnitude (&pos);

  00074	8d 45 d8	 lea	 eax, DWORD PTR _pos$[ebp]
  00077	50		 push	 eax
  00078	e8 00 00 00 00	 call	 ?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z ; get_3d_vector_magnitude
  0007d	d9 5d fc	 fstp	 DWORD PTR _range$[ebp]

; 3963 : 	
; 3964 : 			if ((range < best_range) && (range < (5.0 * KILOMETRE)))

  00080	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _best_range$[ebp]
  00085	0f 2f 45 fc	 comiss	 xmm0, DWORD PTR _range$[ebp]
  00089	76 23		 jbe	 SHORT $LN5@get_keysit
  0008b	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _range$[ebp]
  00090	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@40b3880000000000
  00098	66 0f 2f c8	 comisd	 xmm1, xmm0
  0009c	76 10		 jbe	 SHORT $LN5@get_keysit

; 3965 : 			{
; 3966 : 				best_range = range;

  0009e	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _range$[ebp]
  000a3	f3 0f 11 45 f8	 movss	 DWORD PTR _best_range$[ebp], xmm0

; 3967 : 	
; 3968 : 				best_item = item;

  000a8	8b 45 f0	 mov	 eax, DWORD PTR _item$[ebp]
  000ab	89 45 f4	 mov	 DWORD PTR _best_item$[ebp], eax
$LN5@get_keysit:

; 3969 : 			}
; 3970 : 		}
; 3971 : 		
; 3972 : 		item = item->next;

  000ae	8b 45 f0	 mov	 eax, DWORD PTR _item$[ebp]
  000b1	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  000b4	89 4d f0	 mov	 DWORD PTR _item$[ebp], ecx

; 3973 : 	}

  000b7	eb 80		 jmp	 SHORT $LN2@get_keysit
$LN3@get_keysit:

; 3974 : 
; 3975 : 	get_x_sector (x_sec, x);

  000b9	8d 45 e8	 lea	 eax, DWORD PTR _x_sec$[ebp]
  000bc	50		 push	 eax
  000bd	51		 push	 ecx
  000be	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _x$[ebp]
  000c3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c8	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  000cd	8b 45 e8	 mov	 eax, DWORD PTR _x_sec$[ebp]
  000d0	99		 cdq
  000d1	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  000d7	89 45 e8	 mov	 DWORD PTR _x_sec$[ebp], eax

; 3976 : 
; 3977 : 	get_z_sector (z_sec, z);

  000da	8d 45 e4	 lea	 eax, DWORD PTR _z_sec$[ebp]
  000dd	50		 push	 eax
  000de	51		 push	 ecx
  000df	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _z$[ebp]
  000e4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000e9	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  000ee	8b 45 e4	 mov	 eax, DWORD PTR _z_sec$[ebp]
  000f1	99		 cdq
  000f2	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  000f8	89 45 e4	 mov	 DWORD PTR _z_sec$[ebp], eax

; 3978 : 
; 3979 : 	*side = get_initial_sector_side ( x_sec, z_sec );

  000fb	8b 45 e4	 mov	 eax, DWORD PTR _z_sec$[ebp]
  000fe	50		 push	 eax
  000ff	8b 4d e8	 mov	 ecx, DWORD PTR _x_sec$[ebp]
  00102	51		 push	 ecx
  00103	e8 00 00 00 00	 call	 ?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z ; get_initial_sector_side
  00108	8b 55 10	 mov	 edx, DWORD PTR _side$[ebp]
  0010b	89 02		 mov	 DWORD PTR [edx], eax

; 3980 : 
; 3981 : 	sector = get_local_raw_sector_entity (x_sec, z_sec);

  0010d	8b 45 e4	 mov	 eax, DWORD PTR _z_sec$[ebp]
  00110	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  00117	03 45 e8	 add	 eax, DWORD PTR _x_sec$[ebp]
  0011a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  00120	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  00124	74 1a		 je	 SHORT $LN9@get_keysit
  00126	8b 55 e4	 mov	 edx, DWORD PTR _z_sec$[ebp]
  00129	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  00130	03 55 e8	 add	 edx, DWORD PTR _x_sec$[ebp]
  00133	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  00138	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  0013b	89 4d 94	 mov	 DWORD PTR tv134[ebp], ecx
  0013e	eb 21		 jmp	 SHORT $LN10@get_keysit
$LN9@get_keysit:
  00140	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z@4JA
  00146	83 c2 35	 add	 edx, 53			; 00000035H
  00149	52		 push	 edx
  0014a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  00154	50		 push	 eax
  00155	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0015a	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN10@get_keysit:
  00161	8b 4d 94	 mov	 ecx, DWORD PTR tv134[ebp]
  00164	89 4d ec	 mov	 DWORD PTR _sector$[ebp], ecx

; 3982 : 
; 3983 : 	if (best_item)

  00167	83 7d f4 00	 cmp	 DWORD PTR _best_item$[ebp], 0
  0016b	74 07		 je	 SHORT $LN6@get_keysit

; 3984 : 	{
; 3985 : 
; 3986 : 		#if DEBUG_MODULE
; 3987 : 
; 3988 : 		debug_log ("AI_DBASE: closest city to %f, %f is (%s) at %f, %f (range %f) side %s", x, z, best_item->name, best_item->x, best_item->z, best_range, entity_side_names [*side]);
; 3989 : 
; 3990 : 		#endif
; 3991 : 
; 3992 : 		return best_item->name;

  0016d	8b 45 f4	 mov	 eax, DWORD PTR _best_item$[ebp]
  00170	8b 00		 mov	 eax, DWORD PTR [eax]
  00172	eb 02		 jmp	 SHORT $LN1@get_keysit
$LN6@get_keysit:

; 3993 : 	}
; 3994 : 	else
; 3995 : 	{
; 3996 : 
; 3997 : 		#if DEBUG_MODULE
; 3998 : 
; 3999 : 		debug_log ("AI_DBASE: no match to closest city at %f, %f side %s", x, z, entity_side_names [*side]);
; 4000 : 	
; 4001 : 		#endif
; 4002 : 	}
; 4003 : 
; 4004 : 	return NULL;

  00174	33 c0		 xor	 eax, eax
$LN1@get_keysit:

; 4005 : }

  00176	5f		 pop	 edi
  00177	5e		 pop	 esi
  00178	5b		 pop	 ebx
  00179	8b e5		 mov	 esp, ebp
  0017b	5d		 pop	 ebp
  0017c	c2 0c 00	 ret	 12			; 0000000cH
?get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z ENDP	; get_keysite_name
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?insert_keysite_or_city_object@@YGXPAUENTITY@@00W4ENTITY_SIDES@@HMMMM@Z
_TEXT	SEGMENT
_city$ = 8						; size = 4
_keysite$ = 12						; size = 4
_keysite_group$ = 16					; size = 4
_keysite_side$ = 20					; size = 4
_object_number$ = 24					; size = 4
_world_x$ = 28						; size = 4
_world_y$ = 32						; size = 4
_world_z$ = 36						; size = 4
_heading$ = 40						; size = 4
?insert_keysite_or_city_object@@YGXPAUENTITY@@00W4ENTITY_SIDES@@HMMMM@Z PROC ; insert_keysite_or_city_object, COMDAT

; 3845 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 3846 : 
; 3847 : 
; 3848 : 	if ( city )

  00009	83 7d 08 00	 cmp	 DWORD PTR _city$[ebp], 0
  0000d	74 68		 je	 SHORT $LN2@insert_key

; 3849 : 	{
; 3850 : 
; 3851 : 		create_local_entity

  0000f	6a 00		 push	 0
  00011	f3 0f 5a 45 28	 cvtss2sd xmm0, DWORD PTR _heading$[ebp]
  00016	83 ec 08	 sub	 esp, 8
  00019	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0001e	6a 34		 push	 52			; 00000034H
  00020	6a 04		 push	 4
  00022	8b 45 18	 mov	 eax, DWORD PTR _object_number$[ebp]
  00025	50		 push	 eax
  00026	68 92 00 00 00	 push	 146			; 00000092H
  0002b	6a 05		 push	 5
  0002d	f3 0f 5a 45 24	 cvtss2sd xmm0, DWORD PTR _world_z$[ebp]
  00032	83 ec 08	 sub	 esp, 8
  00035	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0003a	f3 0f 5a 45 20	 cvtss2sd xmm0, DWORD PTR _world_y$[ebp]
  0003f	83 ec 08	 sub	 esp, 8
  00042	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00047	f3 0f 5a 45 1c	 cvtss2sd xmm0, DWORD PTR _world_x$[ebp]
  0004c	83 ec 08	 sub	 esp, 8
  0004f	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00054	6a 08		 push	 8
  00056	6a 09		 push	 9
  00058	6a 05		 push	 5
  0005a	6a 34		 push	 52			; 00000034H
  0005c	6a 05		 push	 5
  0005e	8b 4d 08	 mov	 ecx, DWORD PTR _city$[ebp]
  00061	51		 push	 ecx
  00062	6a 07		 push	 7
  00064	6a 06		 push	 6
  00066	6a ff		 push	 -1
  00068	6a 06		 push	 6
  0006a	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  0006f	83 c4 60	 add	 esp, 96			; 00000060H
  00072	e9 85 01 00 00	 jmp	 $LN5@insert_key
$LN2@insert_key:

; 3852 : 		(
; 3853 : 			ENTITY_TYPE_CITY_BUILDING,
; 3854 : 			ENTITY_INDEX_DONT_CARE,
; 3855 : 			ENTITY_ATTR_PARENT ( LIST_TYPE_CITY_BUILDING, city ),
; 3856 : 			ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_FIXED_CITY_BUILDING ),
; 3857 : 			ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, world_x, world_y, world_z ),
; 3858 : 			ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_number ),
; 3859 : 			ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3860 : 			ENTITY_ATTR_END
; 3861 : 		);
; 3862 : 	}
; 3863 : 	else if ( keysite )

  00077	83 7d 0c 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  0007b	0f 84 6e 01 00
	00		 je	 $LN4@insert_key

; 3864 : 	{
; 3865 : 		if ( get_3d_object_updateable_flag ( object_number ) )

  00081	8b 45 18	 mov	 eax, DWORD PTR _object_number$[ebp]
  00084	50		 push	 eax
  00085	e8 00 00 00 00	 call	 ?get_3d_object_updateable_flag@@YGHH@Z ; get_3d_object_updateable_flag
  0008a	85 c0		 test	 eax, eax
  0008c	74 73		 je	 SHORT $LN6@insert_key

; 3866 : 		{
; 3867 : 
; 3868 : 			create_local_entity

  0008e	6a 00		 push	 0
  00090	f3 0f 5a 45 28	 cvtss2sd xmm0, DWORD PTR _heading$[ebp]
  00095	83 ec 08	 sub	 esp, 8
  00098	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0009d	6a 34		 push	 52			; 00000034H
  0009f	6a 04		 push	 4
  000a1	f3 0f 5a 45 24	 cvtss2sd xmm0, DWORD PTR _world_z$[ebp]
  000a6	83 ec 08	 sub	 esp, 8
  000a9	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000ae	f3 0f 5a 45 20	 cvtss2sd xmm0, DWORD PTR _world_y$[ebp]
  000b3	83 ec 08	 sub	 esp, 8
  000b6	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000bb	f3 0f 5a 45 1c	 cvtss2sd xmm0, DWORD PTR _world_x$[ebp]
  000c0	83 ec 08	 sub	 esp, 8
  000c3	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000c8	6a 08		 push	 8
  000ca	6a 09		 push	 9
  000cc	8b 45 14	 mov	 eax, DWORD PTR _keysite_side$[ebp]
  000cf	50		 push	 eax
  000d0	68 bb 00 00 00	 push	 187			; 000000bbH
  000d5	6a 05		 push	 5
  000d7	8b 4d 18	 mov	 ecx, DWORD PTR _object_number$[ebp]
  000da	51		 push	 ecx
  000db	68 92 00 00 00	 push	 146			; 00000092H
  000e0	6a 05		 push	 5
  000e2	6a 0c		 push	 12			; 0000000cH
  000e4	6a 34		 push	 52			; 00000034H
  000e6	6a 05		 push	 5
  000e8	8b 55 10	 mov	 edx, DWORD PTR _keysite_group$[ebp]
  000eb	52		 push	 edx
  000ec	6a 19		 push	 25			; 00000019H
  000ee	6a 06		 push	 6
  000f0	6a ff		 push	 -1
  000f2	6a 1e		 push	 30			; 0000001eH
  000f4	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  000f9	83 c4 6c	 add	 esp, 108		; 0000006cH

; 3869 : 			(
; 3870 : 				ENTITY_TYPE_SITE_UPDATABLE,
; 3871 : 				ENTITY_INDEX_DONT_CARE,
; 3872 : 				ENTITY_ATTR_PARENT ( LIST_TYPE_MEMBER, keysite_group ),
; 3873 : 				ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE,ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 3874 : 				ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_number ),
; 3875 : 				ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, keysite_side ),
; 3876 : 				ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, world_x, world_y, world_z ),
; 3877 : 				ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3878 : 				ENTITY_ATTR_END
; 3879 : 			);
; 3880 : 		}
; 3881 : 		else

  000fc	e9 ec 00 00 00	 jmp	 $LN9@insert_key
$LN6@insert_key:

; 3882 : 		{
; 3883 : 
; 3884 : 			if (fixed_3d_object_database [object_number].importance > 0.0)

  00101	8b 45 18	 mov	 eax, DWORD PTR _object_number$[ebp]
  00104	f3 0f 5a 04 c5
	00 00 00 00	 cvtss2sd xmm0, DWORD PTR ?fixed_3d_object_database@@3PAUFIXED_3D_OBJECT_DATA@@A[eax*8]
  0010d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00115	76 70		 jbe	 SHORT $LN8@insert_key

; 3885 : 			{
; 3886 : 
; 3887 : 				create_local_entity

  00117	6a 00		 push	 0
  00119	f3 0f 5a 45 28	 cvtss2sd xmm0, DWORD PTR _heading$[ebp]
  0011e	83 ec 08	 sub	 esp, 8
  00121	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00126	6a 34		 push	 52			; 00000034H
  00128	6a 04		 push	 4
  0012a	f3 0f 5a 45 24	 cvtss2sd xmm0, DWORD PTR _world_z$[ebp]
  0012f	83 ec 08	 sub	 esp, 8
  00132	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00137	f3 0f 5a 45 20	 cvtss2sd xmm0, DWORD PTR _world_y$[ebp]
  0013c	83 ec 08	 sub	 esp, 8
  0013f	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00144	f3 0f 5a 45 1c	 cvtss2sd xmm0, DWORD PTR _world_x$[ebp]
  00149	83 ec 08	 sub	 esp, 8
  0014c	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00151	6a 08		 push	 8
  00153	6a 09		 push	 9
  00155	8b 45 14	 mov	 eax, DWORD PTR _keysite_side$[ebp]
  00158	50		 push	 eax
  00159	68 bb 00 00 00	 push	 187			; 000000bbH
  0015e	6a 05		 push	 5
  00160	8b 4d 18	 mov	 ecx, DWORD PTR _object_number$[ebp]
  00163	51		 push	 ecx
  00164	68 92 00 00 00	 push	 146			; 00000092H
  00169	6a 05		 push	 5
  0016b	6a 0c		 push	 12			; 0000000cH
  0016d	6a 34		 push	 52			; 00000034H
  0016f	6a 05		 push	 5
  00171	8b 55 10	 mov	 edx, DWORD PTR _keysite_group$[ebp]
  00174	52		 push	 edx
  00175	6a 19		 push	 25			; 00000019H
  00177	6a 06		 push	 6
  00179	6a ff		 push	 -1
  0017b	6a 1d		 push	 29			; 0000001dH
  0017d	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00182	83 c4 6c	 add	 esp, 108		; 0000006cH

; 3888 : 				(
; 3889 : 					ENTITY_TYPE_SITE,
; 3890 : 					ENTITY_INDEX_DONT_CARE,
; 3891 : 					ENTITY_ATTR_PARENT ( LIST_TYPE_MEMBER, keysite_group ),
; 3892 : 					ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE,ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 3893 : 					ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_number ),
; 3894 : 					ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, keysite_side ),
; 3895 : 					ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, world_x, world_y, world_z ),
; 3896 : 					ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3897 : 					ENTITY_ATTR_END
; 3898 : 				);
; 3899 : 			}
; 3900 : 			else

  00185	eb 66		 jmp	 SHORT $LN9@insert_key
$LN8@insert_key:

; 3901 : 			{
; 3902 : 				create_local_entity

  00187	6a 00		 push	 0
  00189	f3 0f 5a 45 28	 cvtss2sd xmm0, DWORD PTR _heading$[ebp]
  0018e	83 ec 08	 sub	 esp, 8
  00191	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00196	6a 34		 push	 52			; 00000034H
  00198	6a 04		 push	 4
  0019a	f3 0f 5a 45 24	 cvtss2sd xmm0, DWORD PTR _world_z$[ebp]
  0019f	83 ec 08	 sub	 esp, 8
  001a2	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001a7	f3 0f 5a 45 20	 cvtss2sd xmm0, DWORD PTR _world_y$[ebp]
  001ac	83 ec 08	 sub	 esp, 8
  001af	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001b4	f3 0f 5a 45 1c	 cvtss2sd xmm0, DWORD PTR _world_x$[ebp]
  001b9	83 ec 08	 sub	 esp, 8
  001bc	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001c1	6a 08		 push	 8
  001c3	6a 09		 push	 9
  001c5	8b 45 14	 mov	 eax, DWORD PTR _keysite_side$[ebp]
  001c8	50		 push	 eax
  001c9	68 bb 00 00 00	 push	 187			; 000000bbH
  001ce	6a 05		 push	 5
  001d0	8b 4d 18	 mov	 ecx, DWORD PTR _object_number$[ebp]
  001d3	51		 push	 ecx
  001d4	68 92 00 00 00	 push	 146			; 00000092H
  001d9	6a 05		 push	 5
  001db	6a 0c		 push	 12			; 0000000cH
  001dd	6a 34		 push	 52			; 00000034H
  001df	6a 05		 push	 5
  001e1	6a ff		 push	 -1
  001e3	6a 18		 push	 24			; 00000018H
  001e5	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  001ea	83 c4 60	 add	 esp, 96			; 00000060H
$LN9@insert_key:

; 3903 : 				(
; 3904 : 					ENTITY_TYPE_SCENIC,
; 3905 : 					ENTITY_INDEX_DONT_CARE,
; 3906 : 					ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE,ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 3907 : 					ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_number ),
; 3908 : 					ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, keysite_side ),
; 3909 : 					ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, world_x, world_y, world_z ),
; 3910 : 					ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3911 : 					ENTITY_ATTR_END
; 3912 : 				);
; 3913 : 			}
; 3914 : 		}
; 3915 : 	}
; 3916 : 	else

  001ed	eb 0d		 jmp	 SHORT $LN5@insert_key
$LN4@insert_key:

; 3917 : 	{
; 3918 : 
; 3919 : 		debug_fatal ( "No city or keysite to attach city buildings to" );

  001ef	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@FMCAAOGP@No?5city?5or?5keysite?5to?5attach?5ci@
  001f4	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  001f9	83 c4 04	 add	 esp, 4
$LN5@insert_key:

; 3920 : 	}
; 3921 : }

  001fc	5f		 pop	 edi
  001fd	5e		 pop	 esi
  001fe	5b		 pop	 ebx
  001ff	8b e5		 mov	 esp, ebp
  00201	5d		 pop	 ebp
  00202	c2 24 00	 ret	 36			; 00000024H
?insert_keysite_or_city_object@@YGXPAUENTITY@@00W4ENTITY_SIDES@@HMMMM@Z ENDP ; insert_keysite_or_city_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z
_TEXT	SEGMENT
tv296 = -136						; size = 4
tv274 = -136						; size = 4
tv251 = -136						; size = 4
tv232 = -136						; size = 4
tv213 = -136						; size = 4
tv164 = -136						; size = 4
tv78 = -136						; size = 4
tv288 = -132						; size = 4
tv266 = -132						; size = 4
tv244 = -132						; size = 4
tv225 = -132						; size = 4
tv206 = -132						; size = 4
tv157 = -132						; size = 4
tv70 = -132						; size = 4
_closest_wp_range$1 = -64				; size = 4
_wp_range$2 = -60					; size = 4
_closest_wp$3 = -56					; size = 4
_landing$4 = -52					; size = 4
_regen$5 = -48						; size = 4
_wp$6 = -44						; size = 4
_object_index$7 = -40					; size = 4
_position$8 = -36					; size = 12
_heading$9 = -24					; size = 4
_building$ = -20					; size = 4
_keysite_group$ = -16					; size = 4
_count$ = -12						; size = 4
_landing_sub_type$ = -8					; size = 4
_regeneration_sub_type$ = -4				; size = 4
_side$ = 8						; size = 4
_instance$ = 12						; size = 4
?insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z PROC ; insert_airfield_buildings, COMDAT

; 3638 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 3639 : 
; 3640 : 	int
; 3641 : 		regeneration_sub_type,
; 3642 : 		landing_sub_type,
; 3643 : 		count;
; 3644 : 
; 3645 : 	entity
; 3646 : 		*keysite_group,
; 3647 : 		*building;
; 3648 : 
; 3649 : 	keysite_group = get_local_entity_first_child ( get_parser_keysite (), LIST_TYPE_BUILDING_GROUP );

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00013	74 0f		 je	 SHORT $LN21@insert_air
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0001a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001c	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  00022	eb 24		 jmp	 SHORT $LN22@insert_air
$LN21@insert_air:
  00024	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  0002a	83 c2 0b	 add	 edx, 11			; 0000000bH
  0002d	52		 push	 edx
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00038	50		 push	 eax
  00039	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003e	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN22@insert_air:
  00048	b9 01 00 00 00	 mov	 ecx, 1
  0004d	85 c9		 test	 ecx, ecx
  0004f	74 0c		 je	 SHORT $LN23@insert_air
  00051	c7 85 78 ff ff
	ff 04 00 00 00	 mov	 DWORD PTR tv78[ebp], 4
  0005b	eb 24		 jmp	 SHORT $LN24@insert_air
$LN23@insert_air:
  0005d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  00063	83 c2 0b	 add	 edx, 11			; 0000000bH
  00066	52		 push	 edx
  00067	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00077	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv78[ebp], 0
$LN24@insert_air:
  00081	6a 04		 push	 4
  00083	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00089	51		 push	 ecx
  0008a	69 95 7c ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv70[ebp], 180
  00094	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv78[ebp]
  0009a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000a1	ff d1		 call	 ecx
  000a3	89 45 f0	 mov	 DWORD PTR _keysite_group$[ebp], eax

; 3650 : 
; 3651 : 	for ( count = 0; count < objects_3d_scene_database[instance->object_number].number_of_scene_link_objects; count++ )

  000a6	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  000ad	eb 09		 jmp	 SHORT $LN4@insert_air
$LN2@insert_air:
  000af	8b 45 f4	 mov	 eax, DWORD PTR _count$[ebp]
  000b2	83 c0 01	 add	 eax, 1
  000b5	89 45 f4	 mov	 DWORD PTR _count$[ebp], eax
$LN4@insert_air:
  000b8	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  000bb	69 48 04 e0 00
	00 00		 imul	 ecx, DWORD PTR [eax+4], 224
  000c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  000c8	8b 45 f4	 mov	 eax, DWORD PTR _count$[ebp]
  000cb	3b 44 0a 2c	 cmp	 eax, DWORD PTR [edx+ecx+44]
  000cf	0f 8d 66 07 00
	00		 jge	 $LN3@insert_air

; 3652 : 	{
; 3653 : 
; 3654 : 		float
; 3655 : 			heading;
; 3656 : 
; 3657 : 		vec3d
; 3658 : 			position;
; 3659 : 
; 3660 : 		int
; 3661 : 			object_index;
; 3662 : 
; 3663 : 		position.x = objects_3d_scene_database[instance->object_number].scene_link_objects[count].x;

  000d5	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  000d8	69 48 04 e0 00
	00 00		 imul	 ecx, DWORD PTR [eax+4], 224
  000df	6b 55 f4 1c	 imul	 edx, DWORD PTR _count$[ebp], 28
  000e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  000e8	8b 4c 08 54	 mov	 ecx, DWORD PTR [eax+ecx+84]
  000ec	f3 0f 10 44 11
	04		 movss	 xmm0, DWORD PTR [ecx+edx+4]
  000f2	f3 0f 11 45 dc	 movss	 DWORD PTR _position$8[ebp], xmm0

; 3664 : 		position.y = objects_3d_scene_database[instance->object_number].scene_link_objects[count].y;

  000f7	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  000fa	69 48 04 e0 00
	00 00		 imul	 ecx, DWORD PTR [eax+4], 224
  00101	6b 55 f4 1c	 imul	 edx, DWORD PTR _count$[ebp], 28
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  0010a	8b 4c 08 54	 mov	 ecx, DWORD PTR [eax+ecx+84]
  0010e	f3 0f 10 44 11
	08		 movss	 xmm0, DWORD PTR [ecx+edx+8]
  00114	f3 0f 11 45 e0	 movss	 DWORD PTR _position$8[ebp+4], xmm0

; 3665 : 		position.z = objects_3d_scene_database[instance->object_number].scene_link_objects[count].z;

  00119	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  0011c	69 48 04 e0 00
	00 00		 imul	 ecx, DWORD PTR [eax+4], 224
  00123	6b 55 f4 1c	 imul	 edx, DWORD PTR _count$[ebp], 28
  00127	a1 00 00 00 00	 mov	 eax, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  0012c	8b 4c 08 54	 mov	 ecx, DWORD PTR [eax+ecx+84]
  00130	f3 0f 10 44 11
	0c		 movss	 xmm0, DWORD PTR [ecx+edx+12]
  00136	f3 0f 11 45 e4	 movss	 DWORD PTR _position$8[ebp+8], xmm0

; 3666 : 
; 3667 : 		position.x += instance->vp.x;

  0013b	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  0013e	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _position$8[ebp]
  00143	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  00148	f3 0f 11 45 dc	 movss	 DWORD PTR _position$8[ebp], xmm0

; 3668 : 		position.y += instance->vp.y;

  0014d	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  00150	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _position$8[ebp+4]
  00155	f3 0f 58 40 0c	 addss	 xmm0, DWORD PTR [eax+12]
  0015a	f3 0f 11 45 e0	 movss	 DWORD PTR _position$8[ebp+4], xmm0

; 3669 : 		position.z += instance->vp.z;

  0015f	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  00162	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _position$8[ebp+8]
  00167	f3 0f 58 40 10	 addss	 xmm0, DWORD PTR [eax+16]
  0016c	f3 0f 11 45 e4	 movss	 DWORD PTR _position$8[ebp+8], xmm0

; 3670 : 
; 3671 : 		if (get_local_entity_int_value (get_parser_keysite (), INT_TYPE_ALIGN_WITH_TERRAIN))

  00171	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00178	74 0f		 je	 SHORT $LN25@insert_air
  0017a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0017f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00181	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv157[ebp], ecx
  00187	eb 20		 jmp	 SHORT $LN26@insert_air
$LN25@insert_air:
  00189	68 57 0e 00 00	 push	 3671			; 00000e57H
  0018e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00193	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00199	52		 push	 edx
  0019a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019f	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv157[ebp], 0
$LN26@insert_air:
  001a9	b8 01 00 00 00	 mov	 eax, 1
  001ae	85 c0		 test	 eax, eax
  001b0	74 0c		 je	 SHORT $LN27@insert_air
  001b2	c7 85 78 ff ff
	ff 06 00 00 00	 mov	 DWORD PTR tv164[ebp], 6
  001bc	eb 20		 jmp	 SHORT $LN28@insert_air
$LN27@insert_air:
  001be	68 57 0e 00 00	 push	 3671			; 00000e57H
  001c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001ce	51		 push	 ecx
  001cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d4	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv164[ebp], 0
$LN28@insert_air:
  001de	6a 06		 push	 6
  001e0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  001e6	52		 push	 edx
  001e7	69 85 7c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv157[ebp], 1116
  001f1	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv164[ebp]
  001f7	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  001fe	ff d2		 call	 edx
  00200	85 c0		 test	 eax, eax
  00202	74 20		 je	 SHORT $LN7@insert_air

; 3672 : 		{
; 3673 : 
; 3674 : 			position.y = get_3d_terrain_elevation (position.x, position.z);

  00204	6a 00		 push	 0
  00206	51		 push	 ecx
  00207	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _position$8[ebp+8]
  0020c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00211	51		 push	 ecx
  00212	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _position$8[ebp]
  00217	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0021c	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00221	d9 5d e0	 fstp	 DWORD PTR _position$8[ebp+4]
$LN7@insert_air:

; 3675 : 		}
; 3676 : 
; 3677 : 		heading = objects_3d_scene_database[instance->object_number].scene_link_objects[count].heading;

  00224	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  00227	69 48 04 e0 00
	00 00		 imul	 ecx, DWORD PTR [eax+4], 224
  0022e	6b 55 f4 1c	 imul	 edx, DWORD PTR _count$[ebp], 28
  00232	a1 00 00 00 00	 mov	 eax, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00237	8b 4c 08 54	 mov	 ecx, DWORD PTR [eax+ecx+84]
  0023b	f3 0f 10 44 11
	10		 movss	 xmm0, DWORD PTR [ecx+edx+16]
  00241	f3 0f 11 45 e8	 movss	 DWORD PTR _heading$9[ebp], xmm0

; 3678 : 
; 3679 : 		object_index = objects_3d_scene_database[instance->object_number].scene_link_objects[count].scene_index;

  00246	8b 45 0c	 mov	 eax, DWORD PTR _instance$[ebp]
  00249	69 48 04 e0 00
	00 00		 imul	 ecx, DWORD PTR [eax+4], 224
  00250	6b 55 f4 1c	 imul	 edx, DWORD PTR _count$[ebp], 28
  00254	a1 00 00 00 00	 mov	 eax, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00259	8b 4c 08 54	 mov	 ecx, DWORD PTR [eax+ecx+84]
  0025d	8b 14 11	 mov	 edx, DWORD PTR [ecx+edx]
  00260	89 55 d8	 mov	 DWORD PTR _object_index$7[ebp], edx

; 3680 : 
; 3681 : 		regeneration_sub_type = get_object_3d_regeneration_type ( object_index, &landing_sub_type );

  00263	8d 45 f8	 lea	 eax, DWORD PTR _landing_sub_type$[ebp]
  00266	50		 push	 eax
  00267	8b 4d d8	 mov	 ecx, DWORD PTR _object_index$7[ebp]
  0026a	51		 push	 ecx
  0026b	e8 00 00 00 00	 call	 ?get_object_3d_regeneration_type@@YG?AW4ENTITY_SUB_TYPE_REGEN@@HPAH@Z ; get_object_3d_regeneration_type
  00270	89 45 fc	 mov	 DWORD PTR _regeneration_sub_type$[ebp], eax

; 3682 : 
; 3683 : 		if (regeneration_sub_type != ENTITY_SUB_TYPE_REGEN_NONE)

  00273	83 7d fc 05	 cmp	 DWORD PTR _regeneration_sub_type$[ebp], 5
  00277	0f 84 3f 04 00
	00		 je	 $LN8@insert_air

; 3684 : 		{
; 3685 : 
; 3686 : 			entity
; 3687 : 				*wp,
; 3688 : 				*regen,
; 3689 : 				*landing,
; 3690 : 				*closest_wp;
; 3691 : 
; 3692 : 			float
; 3693 : 				wp_range,
; 3694 : 				closest_wp_range;
; 3695 : 
; 3696 : 			//
; 3697 : 			// find closest waypoint
; 3698 : 			//
; 3699 : 
; 3700 : 			landing = get_local_entity_landing_entity (get_parser_keysite (), landing_sub_type);

  0027d	8b 45 f8	 mov	 eax, DWORD PTR _landing_sub_type$[ebp]
  00280	50		 push	 eax
  00281	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00287	51		 push	 ecx
  00288	e8 00 00 00 00	 call	 ?get_local_entity_landing_entity@@YGPAUENTITY@@PAU1@H@Z ; get_local_entity_landing_entity
  0028d	89 45 cc	 mov	 DWORD PTR _landing$4[ebp], eax

; 3701 : 
; 3702 : 			if (landing)

  00290	83 7d cc 00	 cmp	 DWORD PTR _landing$4[ebp], 0
  00294	0f 84 1d 04 00
	00		 je	 $LN10@insert_air

; 3703 : 			{
; 3704 : 
; 3705 : 				wp = get_local_landing_entity_route (landing, ENTITY_SUB_TYPE_TASK_LANDING);

  0029a	6a 0d		 push	 13			; 0000000dH
  0029c	8b 45 cc	 mov	 eax, DWORD PTR _landing$4[ebp]
  0029f	50		 push	 eax
  002a0	e8 00 00 00 00	 call	 ?get_local_landing_entity_route@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_route
  002a5	89 45 d4	 mov	 DWORD PTR _wp$6[ebp], eax

; 3706 : 
; 3707 : 				closest_wp = NULL;

  002a8	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _closest_wp$3[ebp], 0

; 3708 : 
; 3709 : 				closest_wp_range = 10000000;

  002af	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4b189680
  002b7	f3 0f 11 45 c0	 movss	 DWORD PTR _closest_wp_range$1[ebp], xmm0
$LN5@insert_air:

; 3710 : 
; 3711 : 				while (wp)

  002bc	83 7d d4 00	 cmp	 DWORD PTR _wp$6[ebp], 0
  002c0	0f 84 fb 02 00
	00		 je	 $LN6@insert_air

; 3712 : 				{
; 3713 : 
; 3714 : 					if ((get_local_entity_int_value (wp, INT_TYPE_ENTITY_SUB_TYPE) == ENTITY_SUB_TYPE_WAYPOINT_TAXI) ||
; 3715 : 						(get_local_entity_int_value (wp, INT_TYPE_ENTITY_SUB_TYPE) == ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION) ||

  002c6	83 7d d4 00	 cmp	 DWORD PTR _wp$6[ebp], 0
  002ca	74 0d		 je	 SHORT $LN29@insert_air
  002cc	8b 45 d4	 mov	 eax, DWORD PTR _wp$6[ebp]
  002cf	8b 08		 mov	 ecx, DWORD PTR [eax]
  002d1	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv206[ebp], ecx
  002d7	eb 20		 jmp	 SHORT $LN30@insert_air
$LN29@insert_air:
  002d9	68 82 0e 00 00	 push	 3714			; 00000e82H
  002de	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002e3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002e9	52		 push	 edx
  002ea	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002ef	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv206[ebp], 0
$LN30@insert_air:
  002f9	b8 01 00 00 00	 mov	 eax, 1
  002fe	85 c0		 test	 eax, eax
  00300	74 0c		 je	 SHORT $LN31@insert_air
  00302	c7 85 78 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv213[ebp], 52 ; 00000034H
  0030c	eb 20		 jmp	 SHORT $LN32@insert_air
$LN31@insert_air:
  0030e	68 82 0e 00 00	 push	 3714			; 00000e82H
  00313	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00318	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0031e	51		 push	 ecx
  0031f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00324	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv213[ebp], 0
$LN32@insert_air:
  0032e	6a 34		 push	 52			; 00000034H
  00330	8b 55 d4	 mov	 edx, DWORD PTR _wp$6[ebp]
  00333	52		 push	 edx
  00334	69 85 7c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv206[ebp], 1116
  0033e	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv213[ebp]
  00344	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0034b	ff d2		 call	 edx
  0034d	83 f8 1c	 cmp	 eax, 28			; 0000001cH
  00350	0f 84 20 01 00
	00		 je	 $LN13@insert_air
  00356	83 7d d4 00	 cmp	 DWORD PTR _wp$6[ebp], 0
  0035a	74 0d		 je	 SHORT $LN33@insert_air
  0035c	8b 45 d4	 mov	 eax, DWORD PTR _wp$6[ebp]
  0035f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00361	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv225[ebp], ecx
  00367	eb 20		 jmp	 SHORT $LN34@insert_air
$LN33@insert_air:
  00369	68 83 0e 00 00	 push	 3715			; 00000e83H
  0036e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00373	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00379	52		 push	 edx
  0037a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0037f	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv225[ebp], 0
$LN34@insert_air:
  00389	b8 01 00 00 00	 mov	 eax, 1
  0038e	85 c0		 test	 eax, eax
  00390	74 0c		 je	 SHORT $LN35@insert_air
  00392	c7 85 78 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv232[ebp], 52 ; 00000034H
  0039c	eb 20		 jmp	 SHORT $LN36@insert_air
$LN35@insert_air:
  0039e	68 83 0e 00 00	 push	 3715			; 00000e83H
  003a3	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  003a8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  003ae	51		 push	 ecx
  003af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003b4	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv232[ebp], 0
$LN36@insert_air:
  003be	6a 34		 push	 52			; 00000034H
  003c0	8b 55 d4	 mov	 edx, DWORD PTR _wp$6[ebp]
  003c3	52		 push	 edx
  003c4	69 85 7c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv225[ebp], 1116
  003ce	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv232[ebp]
  003d4	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  003db	ff d2		 call	 edx
  003dd	83 f8 11	 cmp	 eax, 17			; 00000011H
  003e0	0f 84 90 00 00
	00		 je	 $LN13@insert_air
  003e6	83 7d d4 00	 cmp	 DWORD PTR _wp$6[ebp], 0
  003ea	74 0d		 je	 SHORT $LN37@insert_air
  003ec	8b 45 d4	 mov	 eax, DWORD PTR _wp$6[ebp]
  003ef	8b 08		 mov	 ecx, DWORD PTR [eax]
  003f1	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv244[ebp], ecx
  003f7	eb 20		 jmp	 SHORT $LN38@insert_air
$LN37@insert_air:
  003f9	68 84 0e 00 00	 push	 3716			; 00000e84H
  003fe	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00403	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00409	52		 push	 edx
  0040a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0040f	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv244[ebp], 0
$LN38@insert_air:
  00419	b8 01 00 00 00	 mov	 eax, 1
  0041e	85 c0		 test	 eax, eax
  00420	74 0c		 je	 SHORT $LN39@insert_air
  00422	c7 85 78 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv251[ebp], 52 ; 00000034H
  0042c	eb 20		 jmp	 SHORT $LN40@insert_air
$LN39@insert_air:
  0042e	68 84 0e 00 00	 push	 3716			; 00000e84H
  00433	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00438	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0043e	51		 push	 ecx
  0043f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00444	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv251[ebp], 0
$LN40@insert_air:
  0044e	6a 34		 push	 52			; 00000034H
  00450	8b 55 d4	 mov	 edx, DWORD PTR _wp$6[ebp]
  00453	52		 push	 edx
  00454	69 85 7c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv244[ebp], 1116
  0045e	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv251[ebp]
  00464	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0046b	ff d2		 call	 edx
  0046d	83 f8 0e	 cmp	 eax, 14			; 0000000eH
  00470	0f 85 b4 00 00
	00		 jne	 $LN14@insert_air
$LN13@insert_air:

; 3716 : 						(get_local_entity_int_value (wp, INT_TYPE_ENTITY_SUB_TYPE) == ENTITY_SUB_TYPE_WAYPOINT_LANDED))
; 3717 : 					{
; 3718 : 	
; 3719 : 						wp_range = get_2d_range (get_local_entity_vec3d_ptr (wp, VEC3D_TYPE_POSITION), &position);

  00476	83 7d d4 00	 cmp	 DWORD PTR _wp$6[ebp], 0
  0047a	74 0d		 je	 SHORT $LN41@insert_air
  0047c	8b 45 d4	 mov	 eax, DWORD PTR _wp$6[ebp]
  0047f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00481	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv266[ebp], ecx
  00487	eb 24		 jmp	 SHORT $LN42@insert_air
$LN41@insert_air:
  00489	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  0048f	83 c2 51	 add	 edx, 81			; 00000051H
  00492	52		 push	 edx
  00493	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00498	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0049d	50		 push	 eax
  0049e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004a3	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv266[ebp], 0
$LN42@insert_air:
  004ad	b9 01 00 00 00	 mov	 ecx, 1
  004b2	85 c9		 test	 ecx, ecx
  004b4	74 0c		 je	 SHORT $LN43@insert_air
  004b6	c7 85 78 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv274[ebp], 8
  004c0	eb 24		 jmp	 SHORT $LN44@insert_air
$LN43@insert_air:
  004c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  004c8	83 c2 51	 add	 edx, 81			; 00000051H
  004cb	52		 push	 edx
  004cc	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  004d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  004d6	50		 push	 eax
  004d7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004dc	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv274[ebp], 0
$LN44@insert_air:
  004e6	8d 4d dc	 lea	 ecx, DWORD PTR _position$8[ebp]
  004e9	51		 push	 ecx
  004ea	6a 08		 push	 8
  004ec	8b 55 d4	 mov	 edx, DWORD PTR _wp$6[ebp]
  004ef	52		 push	 edx
  004f0	6b 85 7c ff ff
	ff 60		 imul	 eax, DWORD PTR tv266[ebp], 96
  004f7	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv274[ebp]
  004fd	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[eax+ecx*4]
  00504	ff d2		 call	 edx
  00506	50		 push	 eax
  00507	e8 00 00 00 00	 call	 ?get_2d_range@@YGMPBUVEC3D@@0@Z ; get_2d_range
  0050c	d9 5d c4	 fstp	 DWORD PTR _wp_range$2[ebp]

; 3720 : 	
; 3721 : 						if (wp_range < closest_wp_range)

  0050f	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _closest_wp_range$1[ebp]
  00514	0f 2f 45 c4	 comiss	 xmm0, DWORD PTR _wp_range$2[ebp]
  00518	76 10		 jbe	 SHORT $LN14@insert_air

; 3722 : 						{
; 3723 : 	
; 3724 : 							closest_wp_range = wp_range;

  0051a	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _wp_range$2[ebp]
  0051f	f3 0f 11 45 c0	 movss	 DWORD PTR _closest_wp_range$1[ebp], xmm0

; 3725 : 	
; 3726 : 							closest_wp = wp;

  00524	8b 45 d4	 mov	 eax, DWORD PTR _wp$6[ebp]
  00527	89 45 c8	 mov	 DWORD PTR _closest_wp$3[ebp], eax
$LN14@insert_air:

; 3727 : 						}
; 3728 : 					}
; 3729 : 
; 3730 : 					wp = get_local_entity_child_succ (wp, LIST_TYPE_WAYPOINT);

  0052a	83 7d d4 00	 cmp	 DWORD PTR _wp$6[ebp], 0
  0052e	74 0d		 je	 SHORT $LN45@insert_air
  00530	8b 45 d4	 mov	 eax, DWORD PTR _wp$6[ebp]
  00533	8b 08		 mov	 ecx, DWORD PTR [eax]
  00535	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv288[ebp], ecx
  0053b	eb 24		 jmp	 SHORT $LN46@insert_air
$LN45@insert_air:
  0053d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  00543	83 c2 5c	 add	 edx, 92			; 0000005cH
  00546	52		 push	 edx
  00547	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0054c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00551	50		 push	 eax
  00552	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00557	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv288[ebp], 0
$LN46@insert_air:
  00561	b9 01 00 00 00	 mov	 ecx, 1
  00566	85 c9		 test	 ecx, ecx
  00568	74 0c		 je	 SHORT $LN47@insert_air
  0056a	c7 85 78 ff ff
	ff 2c 00 00 00	 mov	 DWORD PTR tv296[ebp], 44 ; 0000002cH
  00574	eb 24		 jmp	 SHORT $LN48@insert_air
$LN47@insert_air:
  00576	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  0057c	83 c2 5c	 add	 edx, 92			; 0000005cH
  0057f	52		 push	 edx
  00580	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00585	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0058a	50		 push	 eax
  0058b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00590	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv296[ebp], 0
$LN48@insert_air:
  0059a	6a 2c		 push	 44			; 0000002cH
  0059c	8b 4d d4	 mov	 ecx, DWORD PTR _wp$6[ebp]
  0059f	51		 push	 ecx
  005a0	69 95 7c ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv288[ebp], 180
  005aa	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv296[ebp]
  005b0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  005b7	ff d1		 call	 ecx
  005b9	89 45 d4	 mov	 DWORD PTR _wp$6[ebp], eax

; 3731 : 				}

  005bc	e9 fb fc ff ff	 jmp	 $LN5@insert_air
$LN6@insert_air:

; 3732 : 
; 3733 : 				ASSERT (closest_wp);

  005c1	83 7d c8 00	 cmp	 DWORD PTR _closest_wp$3[ebp], 0
  005c5	75 18		 jne	 SHORT $LN15@insert_air
  005c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  005cc	83 c0 5f	 add	 eax, 95			; 0000005fH
  005cf	50		 push	 eax
  005d0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  005d5	68 00 00 00 00	 push	 OFFSET ??_C@_0L@ICBFMACH@closest_wp@
  005da	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN15@insert_air:

; 3734 : 
; 3735 : 				//
; 3736 : 				// Create regen
; 3737 : 				//
; 3738 : 
; 3739 : 				regen = create_local_entity

  005df	6a 00		 push	 0
  005e1	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+8]
  005e6	83 ec 08	 sub	 esp, 8
  005e9	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  005ee	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+4]
  005f3	83 ec 08	 sub	 esp, 8
  005f6	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  005fb	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _position$8[ebp]
  00600	83 ec 08	 sub	 esp, 8
  00603	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00608	6a 08		 push	 8
  0060a	6a 09		 push	 9
  0060c	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  0060f	50		 push	 eax
  00610	68 bb 00 00 00	 push	 187			; 000000bbH
  00615	6a 05		 push	 5
  00617	6a 01		 push	 1
  00619	6a 07		 push	 7
  0061b	6a 05		 push	 5
  0061d	8b 4d fc	 mov	 ecx, DWORD PTR _regeneration_sub_type$[ebp]
  00620	51		 push	 ecx
  00621	6a 34		 push	 52			; 00000034H
  00623	6a 05		 push	 5
  00625	8b 55 c8	 mov	 edx, DWORD PTR _closest_wp$3[ebp]
  00628	52		 push	 edx
  00629	6a 09		 push	 9
  0062b	6a 06		 push	 6
  0062d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00632	50		 push	 eax
  00633	6a 1f		 push	 31			; 0000001fH
  00635	6a 06		 push	 6
  00637	6a ff		 push	 -1
  00639	6a 16		 push	 22			; 00000016H
  0063b	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00640	83 c4 68	 add	 esp, 104		; 00000068H
  00643	89 45 d0	 mov	 DWORD PTR _regen$5[ebp], eax

; 3740 : 				(
; 3741 : 					ENTITY_TYPE_REGEN,
; 3742 : 					ENTITY_INDEX_DONT_CARE,
; 3743 : 					ENTITY_ATTR_PARENT (LIST_TYPE_REGEN, get_parser_keysite ()),
; 3744 : 					ENTITY_ATTR_PARENT (LIST_TYPE_CURRENT_WAYPOINT, closest_wp),
; 3745 : 					ENTITY_ATTR_INT_VALUE (INT_TYPE_ENTITY_SUB_TYPE, regeneration_sub_type),
; 3746 : 					ENTITY_ATTR_INT_VALUE (INT_TYPE_ALIVE, TRUE),
; 3747 : 					ENTITY_ATTR_INT_VALUE (INT_TYPE_SIDE, side),
; 3748 : 					ENTITY_ATTR_VEC3D (VEC3D_TYPE_POSITION, position.x, position.y, position.z),
; 3749 : 					ENTITY_ATTR_END
; 3750 : 				);
; 3751 : 
; 3752 : 				//
; 3753 : 				// Create building
; 3754 : 				//
; 3755 : 
; 3756 : 				building = create_local_entity

  00646	6a 00		 push	 0
  00648	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _heading$9[ebp]
  0064d	83 ec 08	 sub	 esp, 8
  00650	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00655	6a 34		 push	 52			; 00000034H
  00657	6a 04		 push	 4
  00659	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+8]
  0065e	83 ec 08	 sub	 esp, 8
  00661	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00666	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+4]
  0066b	83 ec 08	 sub	 esp, 8
  0066e	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00673	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _position$8[ebp]
  00678	83 ec 08	 sub	 esp, 8
  0067b	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00680	6a 08		 push	 8
  00682	6a 09		 push	 9
  00684	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00687	50		 push	 eax
  00688	68 bb 00 00 00	 push	 187			; 000000bbH
  0068d	6a 05		 push	 5
  0068f	8b 4d d8	 mov	 ecx, DWORD PTR _object_index$7[ebp]
  00692	51		 push	 ecx
  00693	68 92 00 00 00	 push	 146			; 00000092H
  00698	6a 05		 push	 5
  0069a	6a 0c		 push	 12			; 0000000cH
  0069c	6a 34		 push	 52			; 00000034H
  0069e	6a 05		 push	 5
  006a0	8b 55 d0	 mov	 edx, DWORD PTR _regen$5[ebp]
  006a3	52		 push	 edx
  006a4	6a 19		 push	 25			; 00000019H
  006a6	6a 06		 push	 6
  006a8	6a ff		 push	 -1
  006aa	6a 1e		 push	 30			; 0000001eH
  006ac	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  006b1	83 c4 6c	 add	 esp, 108		; 0000006cH
  006b4	89 45 ec	 mov	 DWORD PTR _building$[ebp], eax
$LN10@insert_air:

; 3757 : 							(
; 3758 : 								ENTITY_TYPE_SITE_UPDATABLE,
; 3759 : 								ENTITY_INDEX_DONT_CARE,
; 3760 : 								ENTITY_ATTR_PARENT ( LIST_TYPE_MEMBER, regen ),
; 3761 : 								ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE,ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 3762 : 								ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_index ),
; 3763 : 								ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, side ),
; 3764 : 								ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, position.x, position.y, position.z ),
; 3765 : 								ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3766 : 								ENTITY_ATTR_END
; 3767 : 							);
; 3768 : 			}
; 3769 : 			else
; 3770 : 			{
; 3771 : 
; 3772 : 				#if DEBUG_MODULE
; 3773 : 
; 3774 : 				debug_log ("POPREAD: WARNING: trying to create REGEN %s but keysite doesn't support that landing type", entity_sub_type_regen_names [regeneration_sub_type]);
; 3775 : 
; 3776 : 				#endif
; 3777 : 			}
; 3778 : 		}
; 3779 : 		else

  006b7	e9 75 01 00 00	 jmp	 $LN19@insert_air
$LN8@insert_air:

; 3780 : 		{
; 3781 : 
; 3782 : 			if ( get_3d_object_updateable_flag ( object_index ) )

  006bc	8b 45 d8	 mov	 eax, DWORD PTR _object_index$7[ebp]
  006bf	50		 push	 eax
  006c0	e8 00 00 00 00	 call	 ?get_3d_object_updateable_flag@@YGHH@Z ; get_3d_object_updateable_flag
  006c5	85 c0		 test	 eax, eax
  006c7	74 76		 je	 SHORT $LN16@insert_air

; 3783 : 			{
; 3784 : 
; 3785 : 				building = create_local_entity

  006c9	6a 00		 push	 0
  006cb	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _heading$9[ebp]
  006d0	83 ec 08	 sub	 esp, 8
  006d3	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  006d8	6a 34		 push	 52			; 00000034H
  006da	6a 04		 push	 4
  006dc	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+8]
  006e1	83 ec 08	 sub	 esp, 8
  006e4	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  006e9	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+4]
  006ee	83 ec 08	 sub	 esp, 8
  006f1	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  006f6	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _position$8[ebp]
  006fb	83 ec 08	 sub	 esp, 8
  006fe	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00703	6a 08		 push	 8
  00705	6a 09		 push	 9
  00707	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  0070a	50		 push	 eax
  0070b	68 bb 00 00 00	 push	 187			; 000000bbH
  00710	6a 05		 push	 5
  00712	8b 4d d8	 mov	 ecx, DWORD PTR _object_index$7[ebp]
  00715	51		 push	 ecx
  00716	68 92 00 00 00	 push	 146			; 00000092H
  0071b	6a 05		 push	 5
  0071d	6a 0c		 push	 12			; 0000000cH
  0071f	6a 34		 push	 52			; 00000034H
  00721	6a 05		 push	 5
  00723	8b 55 f0	 mov	 edx, DWORD PTR _keysite_group$[ebp]
  00726	52		 push	 edx
  00727	6a 19		 push	 25			; 00000019H
  00729	6a 06		 push	 6
  0072b	6a ff		 push	 -1
  0072d	6a 1e		 push	 30			; 0000001eH
  0072f	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00734	83 c4 6c	 add	 esp, 108		; 0000006cH
  00737	89 45 ec	 mov	 DWORD PTR _building$[ebp], eax

; 3786 : 								(
; 3787 : 									ENTITY_TYPE_SITE_UPDATABLE,
; 3788 : 									ENTITY_INDEX_DONT_CARE,
; 3789 : 									ENTITY_ATTR_PARENT ( LIST_TYPE_MEMBER, keysite_group ),
; 3790 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE,ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 3791 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_index ),
; 3792 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, side ),
; 3793 : 									ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, position.x, position.y, position.z ),
; 3794 : 									ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3795 : 									ENTITY_ATTR_END
; 3796 : 								);
; 3797 : 			}
; 3798 : 			else

  0073a	e9 f2 00 00 00	 jmp	 $LN19@insert_air
$LN16@insert_air:

; 3799 : 			{
; 3800 : 
; 3801 : 				if (fixed_3d_object_database [object_index].importance > 0.0)

  0073f	8b 45 d8	 mov	 eax, DWORD PTR _object_index$7[ebp]
  00742	f3 0f 5a 04 c5
	00 00 00 00	 cvtss2sd xmm0, DWORD PTR ?fixed_3d_object_database@@3PAUFIXED_3D_OBJECT_DATA@@A[eax*8]
  0074b	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00753	76 73		 jbe	 SHORT $LN18@insert_air

; 3802 : 				{
; 3803 : 
; 3804 : 					building = create_local_entity

  00755	6a 00		 push	 0
  00757	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _heading$9[ebp]
  0075c	83 ec 08	 sub	 esp, 8
  0075f	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00764	6a 34		 push	 52			; 00000034H
  00766	6a 04		 push	 4
  00768	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+8]
  0076d	83 ec 08	 sub	 esp, 8
  00770	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00775	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+4]
  0077a	83 ec 08	 sub	 esp, 8
  0077d	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00782	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _position$8[ebp]
  00787	83 ec 08	 sub	 esp, 8
  0078a	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0078f	6a 08		 push	 8
  00791	6a 09		 push	 9
  00793	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00796	50		 push	 eax
  00797	68 bb 00 00 00	 push	 187			; 000000bbH
  0079c	6a 05		 push	 5
  0079e	8b 4d d8	 mov	 ecx, DWORD PTR _object_index$7[ebp]
  007a1	51		 push	 ecx
  007a2	68 92 00 00 00	 push	 146			; 00000092H
  007a7	6a 05		 push	 5
  007a9	6a 0c		 push	 12			; 0000000cH
  007ab	6a 34		 push	 52			; 00000034H
  007ad	6a 05		 push	 5
  007af	8b 55 f0	 mov	 edx, DWORD PTR _keysite_group$[ebp]
  007b2	52		 push	 edx
  007b3	6a 19		 push	 25			; 00000019H
  007b5	6a 06		 push	 6
  007b7	6a ff		 push	 -1
  007b9	6a 1d		 push	 29			; 0000001dH
  007bb	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  007c0	83 c4 6c	 add	 esp, 108		; 0000006cH
  007c3	89 45 ec	 mov	 DWORD PTR _building$[ebp], eax

; 3805 : 									(
; 3806 : 										ENTITY_TYPE_SITE,
; 3807 : 										ENTITY_INDEX_DONT_CARE,
; 3808 : 										ENTITY_ATTR_PARENT ( LIST_TYPE_MEMBER, keysite_group ),
; 3809 : 										ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE,ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 3810 : 										ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_index ),
; 3811 : 										ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, side ),
; 3812 : 										ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, position.x, position.y, position.z ),
; 3813 : 										ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3814 : 										ENTITY_ATTR_END
; 3815 : 									);
; 3816 : 				}
; 3817 : 				else

  007c6	eb 69		 jmp	 SHORT $LN19@insert_air
$LN18@insert_air:

; 3818 : 				{
; 3819 : 					building = create_local_entity

  007c8	6a 00		 push	 0
  007ca	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _heading$9[ebp]
  007cf	83 ec 08	 sub	 esp, 8
  007d2	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  007d7	6a 34		 push	 52			; 00000034H
  007d9	6a 04		 push	 4
  007db	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+8]
  007e0	83 ec 08	 sub	 esp, 8
  007e3	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  007e8	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _position$8[ebp+4]
  007ed	83 ec 08	 sub	 esp, 8
  007f0	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  007f5	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _position$8[ebp]
  007fa	83 ec 08	 sub	 esp, 8
  007fd	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00802	6a 08		 push	 8
  00804	6a 09		 push	 9
  00806	8b 45 08	 mov	 eax, DWORD PTR _side$[ebp]
  00809	50		 push	 eax
  0080a	68 bb 00 00 00	 push	 187			; 000000bbH
  0080f	6a 05		 push	 5
  00811	8b 4d d8	 mov	 ecx, DWORD PTR _object_index$7[ebp]
  00814	51		 push	 ecx
  00815	68 92 00 00 00	 push	 146			; 00000092H
  0081a	6a 05		 push	 5
  0081c	6a 0c		 push	 12			; 0000000cH
  0081e	6a 34		 push	 52			; 00000034H
  00820	6a 05		 push	 5
  00822	6a ff		 push	 -1
  00824	6a 18		 push	 24			; 00000018H
  00826	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  0082b	83 c4 60	 add	 esp, 96			; 00000060H
  0082e	89 45 ec	 mov	 DWORD PTR _building$[ebp], eax
$LN19@insert_air:

; 3820 : 									(
; 3821 : 										ENTITY_TYPE_SCENIC,
; 3822 : 										ENTITY_INDEX_DONT_CARE,
; 3823 : 										ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 3824 : 										ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, object_index ),
; 3825 : 										ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, side ),
; 3826 : 										ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, position.x, position.y, position.z ),
; 3827 : 										ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, heading ),
; 3828 : 										ENTITY_ATTR_END
; 3829 : 									);
; 3830 : 				}
; 3831 : 			}
; 3832 : 		}
; 3833 : 
; 3834 : 		/////////////////////////////////////////////////////////////////
; 3835 : 		update_gunships_screen_progress_indicator ();

  00831	e8 00 00 00 00	 call	 ?update_gunships_screen_progress_indicator@@YGXXZ ; update_gunships_screen_progress_indicator

; 3836 : 		/////////////////////////////////////////////////////////////////
; 3837 : 	}

  00836	e9 74 f8 ff ff	 jmp	 $LN2@insert_air
$LN3@insert_air:

; 3838 : }

  0083b	5f		 pop	 edi
  0083c	5e		 pop	 esi
  0083d	5b		 pop	 ebx
  0083e	8b e5		 mov	 esp, ebp
  00840	5d		 pop	 ebp
  00841	c2 08 00	 ret	 8
?insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z ENDP ; insert_airfield_buildings
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z
_TEXT	SEGMENT
_wp$ = -4						; size = 4
_type$ = 8						; size = 4
_waypoint_world_pos$ = 12				; size = 4
_formation_index$ = 16					; size = 4
_altitude$ = 20						; size = 4
?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z PROC	; create_airfield_waypoint, COMDAT

; 3609 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 3610 : 
; 3611 : 	entity
; 3612 : 		*wp;
; 3613 : 
; 3614 : 	wp = create_local_entity

  00009	6a 00		 push	 0
  0000b	6a 00		 push	 0
  0000d	6a 03		 push	 3
  0000f	6a 07		 push	 7
  00011	8b 45 0c	 mov	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00014	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00019	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0001d	83 ec 08	 sub	 esp, 8
  00020	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00025	8b 4d 0c	 mov	 ecx, DWORD PTR _waypoint_world_pos$[ebp]
  00028	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  0002d	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00031	83 ec 08	 sub	 esp, 8
  00034	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00039	8b 55 0c	 mov	 edx, DWORD PTR _waypoint_world_pos$[ebp]
  0003c	f3 0f 10 02	 movss	 xmm0, DWORD PTR [edx]
  00040	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00044	83 ec 08	 sub	 esp, 8
  00047	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0004c	6a 08		 push	 8
  0004e	6a 09		 push	 9
  00050	f3 0f 5a 45 14	 cvtss2sd xmm0, DWORD PTR _altitude$[ebp]
  00055	83 ec 08	 sub	 esp, 8
  00058	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0005d	6a 06		 push	 6
  0005f	6a 04		 push	 4
  00061	6a 01		 push	 1
  00063	68 a1 00 00 00	 push	 161			; 000000a1H
  00068	6a 05		 push	 5
  0006a	8b 45 10	 mov	 eax, DWORD PTR _formation_index$[ebp]
  0006d	50		 push	 eax
  0006e	68 fe 00 00 00	 push	 254			; 000000feH
  00073	6a 05		 push	 5
  00075	8b 4d 08	 mov	 ecx, DWORD PTR _type$[ebp]
  00078	51		 push	 ecx
  00079	6a 34		 push	 52			; 00000034H
  0007b	6a 05		 push	 5
  0007d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?parser_route@@3PAUENTITY@@A ; parser_route
  00083	52		 push	 edx
  00084	6a 2c		 push	 44			; 0000002cH
  00086	6a 06		 push	 6
  00088	6a ff		 push	 -1
  0008a	6a 24		 push	 36			; 00000024H
  0008c	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00091	83 c4 78	 add	 esp, 120		; 00000078H
  00094	89 45 fc	 mov	 DWORD PTR _wp$[ebp], eax

; 3615 : 	(
; 3616 : 		ENTITY_TYPE_WAYPOINT,
; 3617 : 		ENTITY_INDEX_DONT_CARE,
; 3618 : 		ENTITY_ATTR_PARENT ( LIST_TYPE_WAYPOINT, get_parser_route () ),
; 3619 : 		ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, type ),
; 3620 : 		ENTITY_ATTR_INT_VALUE ( INT_TYPE_WAYPOINT_FORMATION, formation_index ),
; 3621 : 		ENTITY_ATTR_INT_VALUE ( INT_TYPE_POSITION_TYPE, POSITION_TYPE_RELATIVE ),
; 3622 : 		ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_ALTITUDE, altitude ),
; 3623 : 		ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, waypoint_world_pos->x, waypoint_world_pos->y, waypoint_world_pos->z ),
; 3624 : 		ENTITY_ATTR_PTR_VALUE ( PTR_TYPE_POSITION_ENTITY, NULL),
; 3625 : 		ENTITY_ATTR_END
; 3626 : 	);
; 3627 : 
; 3628 : 	/////////////////////////////////////////////////////////////////
; 3629 : 	update_gunships_screen_progress_indicator ();

  00097	e8 00 00 00 00	 call	 ?update_gunships_screen_progress_indicator@@YGXXZ ; update_gunships_screen_progress_indicator

; 3630 : 	/////////////////////////////////////////////////////////////////
; 3631 : }

  0009c	5f		 pop	 edi
  0009d	5e		 pop	 esi
  0009e	5b		 pop	 ebx
  0009f	8b e5		 mov	 esp, ebp
  000a1	5d		 pop	 ebp
  000a2	c2 10 00	 ret	 16			; 00000010H
?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ENDP	; create_airfield_waypoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z
_TEXT	SEGMENT
_waypoint_world_pos$ = -24				; size = 12
_formation_index$ = -12					; size = 4
_raw_object_index$ = -8					; size = 4
_current_route_waypoint_offset$ = -4			; size = 4
_position$ = 8						; size = 4
_landing_holding_route$ = 12				; size = 4
_takeoff_holding_route$ = 16				; size = 4
?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z PROC ; insert_airport_holding_routes, COMDAT

; 3493 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 3494 : 
; 3495 : 	int
; 3496 : 		current_route_waypoint_offset,
; 3497 : 		raw_object_index,
; 3498 : 		formation_index;
; 3499 : 
; 3500 : 	vec3d
; 3501 : 		waypoint_world_pos;
; 3502 : 
; 3503 : 	//
; 3504 : 	// Insert the holding loops
; 3505 : 	//
; 3506 : 
; 3507 : 	if ( ( landing_holding_route ) && ( takeoff_holding_route ) )

  00009	83 7d 0c 00	 cmp	 DWORD PTR _landing_holding_route$[ebp], 0
  0000d	0f 84 42 03 00
	00		 je	 $LN8@insert_air
  00013	83 7d 10 00	 cmp	 DWORD PTR _takeoff_holding_route$[ebp], 0
  00017	0f 84 38 03 00
	00		 je	 $LN8@insert_air

; 3508 : 	{
; 3509 : 
; 3510 : 		//
; 3511 : 		// Insert the landing holding routes
; 3512 : 		//
; 3513 : 
; 3514 : 		raw_object_index = landing_holding_route->index;

  0001d	8b 45 0c	 mov	 eax, DWORD PTR _landing_holding_route$[ebp]
  00020	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00023	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 3515 : 
; 3516 : 		parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00026	6a 00		 push	 0
  00028	6a 00		 push	 0
  0002a	8b 45 f8	 mov	 eax, DWORD PTR _raw_object_index$[ebp]
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 3517 : 
; 3518 : 		current_route_waypoint_offset = 0;

  00033	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3519 : 
; 3520 : 		set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_LANDING_HOLDING ) );

  0003a	6a 0e		 push	 14			; 0000000eH
  0003c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  00041	50		 push	 eax
  00042	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  00047	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 3521 : 
; 3522 : 		{
; 3523 : 
; 3524 : 			//
; 3525 : 			// Loop waypoint
; 3526 : 			//
; 3527 : 
; 3528 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  0004c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00050	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00053	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00059	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0005d	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00063	f3 0f 11 45 e8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3529 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00068	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0006c	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  0006f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00075	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  0007a	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00080	f3 0f 11 45 ec	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3530 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00085	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00089	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  0008c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00092	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00097	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  0009d	f3 0f 11 45 f0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3531 : 
; 3532 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  000a2	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000a6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000ac	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  000b0	52		 push	 edx
  000b1	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000b5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000bb	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  000be	52		 push	 edx
  000bf	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  000c4	89 45 f4	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3533 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3534 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING_LOOP, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  000c7	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000cb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000d1	51		 push	 ecx
  000d2	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  000d8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000dd	8b 55 f4	 mov	 edx, DWORD PTR _formation_index$[ebp]
  000e0	52		 push	 edx
  000e1	8d 45 e8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  000e4	50		 push	 eax
  000e5	6a 0b		 push	 11			; 0000000bH
  000e7	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3535 : 			current_route_waypoint_offset++;

  000ec	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  000ef	83 c0 01	 add	 eax, 1
  000f2	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3536 : 
; 3537 : 			for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  000f5	eb 09		 jmp	 SHORT $LN4@insert_air
$LN2@insert_air:
  000f7	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  000fa	83 c0 01	 add	 eax, 1
  000fd	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN4@insert_air:
  00100	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00103	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00109	0f 8d a5 00 00
	00		 jge	 $LN3@insert_air

; 3538 : 			{
; 3539 : 
; 3540 : 				//
; 3541 : 				// Navigation waypoints
; 3542 : 				//
; 3543 : 
; 3544 : 				waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  0010f	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00113	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00116	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0011c	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00120	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00126	f3 0f 11 45 e8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3545 : 				waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  0012b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0012f	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00132	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00138	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  0013d	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00143	f3 0f 11 45 ec	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3546 : 				waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00148	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0014c	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  0014f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00155	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  0015a	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00160	f3 0f 11 45 f0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3547 : 
; 3548 : 				formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00165	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00169	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0016f	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00173	52		 push	 edx
  00174	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00178	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0017e	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00181	52		 push	 edx
  00182	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00187	89 45 f4	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3549 : 																				route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3550 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  0018a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0018e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00194	51		 push	 ecx
  00195	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  0019b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a0	8b 55 f4	 mov	 edx, DWORD PTR _formation_index$[ebp]
  001a3	52		 push	 edx
  001a4	8d 45 e8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  001a7	50		 push	 eax
  001a8	6a 0a		 push	 10			; 0000000aH
  001aa	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3551 : 			}

  001af	e9 43 ff ff ff	 jmp	 $LN2@insert_air
$LN3@insert_air:

; 3552 : 		}
; 3553 : 
; 3554 : 		destroy_routegen_waypoint_routes ();

  001b4	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 3555 : 
; 3556 : 		//
; 3557 : 		// Insert the takeoff holding routes
; 3558 : 		//
; 3559 : 
; 3560 : 		raw_object_index = takeoff_holding_route->index;

  001b9	8b 45 10	 mov	 eax, DWORD PTR _takeoff_holding_route$[ebp]
  001bc	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  001bf	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 3561 : 
; 3562 : 		parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  001c2	6a 00		 push	 0
  001c4	6a 00		 push	 0
  001c6	8b 45 f8	 mov	 eax, DWORD PTR _raw_object_index$[ebp]
  001c9	50		 push	 eax
  001ca	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 3563 : 
; 3564 : 		current_route_waypoint_offset = 0;

  001cf	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3565 : 
; 3566 : 		set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_TAKEOFF_HOLDING ) );

  001d6	6a 17		 push	 23			; 00000017H
  001d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  001dd	50		 push	 eax
  001de	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  001e3	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 3567 : 
; 3568 : 		{
; 3569 : 
; 3570 : 			//
; 3571 : 			// Loop waypoint
; 3572 : 			//
; 3573 : 
; 3574 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  001e8	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  001ec	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  001ef	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  001f5	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  001f9	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  001ff	f3 0f 11 45 e8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3575 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00204	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00208	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  0020b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00211	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00216	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  0021c	f3 0f 11 45 ec	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3576 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00221	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00225	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00228	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0022e	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00233	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00239	f3 0f 11 45 f0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3577 : 
; 3578 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  0023e	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00242	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00248	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  0024c	52		 push	 edx
  0024d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00251	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00257	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0025a	52		 push	 edx
  0025b	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00260	89 45 f4	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3579 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3580 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING_LOOP, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00263	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00267	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0026d	51		 push	 ecx
  0026e	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00274	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00279	8b 55 f4	 mov	 edx, DWORD PTR _formation_index$[ebp]
  0027c	52		 push	 edx
  0027d	8d 45 e8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00280	50		 push	 eax
  00281	6a 0b		 push	 11			; 0000000bH
  00283	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3581 : 			current_route_waypoint_offset++;

  00288	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  0028b	83 c0 01	 add	 eax, 1
  0028e	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3582 : 
; 3583 : 			for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  00291	eb 09		 jmp	 SHORT $LN7@insert_air
$LN5@insert_air:
  00293	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00296	83 c0 01	 add	 eax, 1
  00299	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN7@insert_air:
  0029c	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  0029f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  002a5	0f 8d a5 00 00
	00		 jge	 $LN6@insert_air

; 3584 : 			{
; 3585 : 
; 3586 : 				//
; 3587 : 				// Navigation waypoints
; 3588 : 				//
; 3589 : 
; 3590 : 				waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  002ab	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  002af	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  002b2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  002b8	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  002bc	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  002c2	f3 0f 11 45 e8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3591 : 				waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  002c7	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  002cb	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  002ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  002d4	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  002d9	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  002df	f3 0f 11 45 ec	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3592 : 				waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  002e4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  002e8	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  002eb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  002f1	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  002f6	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  002fc	f3 0f 11 45 f0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3593 : 
; 3594 : 				formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00301	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00305	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0030b	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  0030f	52		 push	 edx
  00310	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00314	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0031a	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0031d	52		 push	 edx
  0031e	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00323	89 45 f4	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3595 : 																				route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3596 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00326	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0032a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00330	51		 push	 ecx
  00331	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00337	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0033c	8b 55 f4	 mov	 edx, DWORD PTR _formation_index$[ebp]
  0033f	52		 push	 edx
  00340	8d 45 e8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00343	50		 push	 eax
  00344	6a 0a		 push	 10			; 0000000aH
  00346	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3597 : 			}

  0034b	e9 43 ff ff ff	 jmp	 $LN5@insert_air
$LN6@insert_air:

; 3598 : 		}
; 3599 : 
; 3600 : 		destroy_routegen_waypoint_routes ();

  00350	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes
$LN8@insert_air:

; 3601 : 	}
; 3602 : }

  00355	5f		 pop	 edi
  00356	5e		 pop	 esi
  00357	5b		 pop	 ebx
  00358	8b e5		 mov	 esp, ebp
  0035a	5d		 pop	 ebp
  0035b	c2 0c 00	 ret	 12			; 0000000cH
?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ENDP ; insert_airport_holding_routes
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z
_TEXT	SEGMENT
tv283 = -124						; size = 4
tv261 = -124						; size = 4
tv234 = -124						; size = 4
tv214 = -124						; size = 4
tv164 = -124						; size = 4
tv275 = -120						; size = 4
tv253 = -120						; size = 4
tv226 = -120						; size = 4
tv206 = -120						; size = 4
tv156 = -120						; size = 4
_landing_types$1 = -52					; size = 4
_landing$ = -48						; size = 4
_keysite_pos$ = -44					; size = 4
_matching_slots$ = -40					; size = 4
_waypoint_world_pos$ = -36				; size = 12
_formation_index$ = -24					; size = 4
_slot_count$ = -20					; size = 4
_total_landing_sites$ = -16				; size = 4
_number_of_matching_slots$ = -12			; size = 4
_raw_object_index$ = -8					; size = 4
_current_route_waypoint_offset$ = -4			; size = 4
_entity_subtype$ = 8					; size = 4
_position$ = 12						; size = 4
_landing_route$ = 16					; size = 4
_takeoff_route$ = 20					; size = 4
?insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z PROC ; insert_airport_general_takeoff_landing_routes, COMDAT

; 3329 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 3330 : 
; 3331 : 	int
; 3332 : 		current_route_waypoint_offset,
; 3333 : 		raw_object_index,
; 3334 : 		number_of_matching_slots,
; 3335 : 		total_landing_sites,
; 3336 : 		slot_count,
; 3337 : 		formation_index;
; 3338 : 
; 3339 : 	vec3d
; 3340 : 		waypoint_world_pos,
; 3341 : 		*matching_slots,
; 3342 : 		*keysite_pos;
; 3343 : 
; 3344 : 	entity
; 3345 : 		*landing;
; 3346 : 
; 3347 : 	//
; 3348 : 	// Insert the landing routes
; 3349 : 	//
; 3350 : 
; 3351 : 	raw_object_index = landing_route->index;

  00009	8b 45 10	 mov	 eax, DWORD PTR _landing_route$[ebp]
  0000c	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  0000f	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 3352 : 
; 3353 : 	parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00012	6a 00		 push	 0
  00014	6a 00		 push	 0
  00016	8b 45 f8	 mov	 eax, DWORD PTR _raw_object_index$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 3354 : 
; 3355 : 	current_route_waypoint_offset = number_of_route_waypoint_positions - 1;

  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00024	83 e8 01	 sub	 eax, 1
  00027	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3356 : 
; 3357 : 	total_landing_sites = route_waypoint_positions[current_route_waypoint_offset].number_of_positions;

  0002a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0002e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00034	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00037	89 55 f0	 mov	 DWORD PTR _total_landing_sites$[ebp], edx

; 3358 : 
; 3359 : 	number_of_matching_slots = total_landing_sites;

  0003a	8b 45 f0	 mov	 eax, DWORD PTR _total_landing_sites$[ebp]
  0003d	89 45 f4	 mov	 DWORD PTR _number_of_matching_slots$[ebp], eax

; 3360 : 
; 3361 : 	matching_slots = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_matching_slots );

  00040	6b 45 f4 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$[ebp], 12
  00044	50		 push	 eax
  00045	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  0004a	89 45 d8	 mov	 DWORD PTR _matching_slots$[ebp], eax

; 3362 : 
; 3363 : 	memcpy ( matching_slots, route_waypoint_positions[current_route_waypoint_offset].offsets, ( sizeof ( vec3d ) * number_of_matching_slots ) );

  0004d	6b 45 f4 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$[ebp], 12
  00051	50		 push	 eax
  00052	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00056	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0005c	8b 44 0a 10	 mov	 eax, DWORD PTR [edx+ecx+16]
  00060	50		 push	 eax
  00061	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  00064	51		 push	 ecx
  00065	e8 00 00 00 00	 call	 _memcpy
  0006a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3364 : 
; 3365 : 	for ( slot_count = 0; slot_count < number_of_matching_slots; slot_count++ )

  0006d	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _slot_count$[ebp], 0
  00074	eb 09		 jmp	 SHORT $LN4@insert_air
$LN2@insert_air:
  00076	8b 45 ec	 mov	 eax, DWORD PTR _slot_count$[ebp]
  00079	83 c0 01	 add	 eax, 1
  0007c	89 45 ec	 mov	 DWORD PTR _slot_count$[ebp], eax
$LN4@insert_air:
  0007f	8b 45 ec	 mov	 eax, DWORD PTR _slot_count$[ebp]
  00082	3b 45 f4	 cmp	 eax, DWORD PTR _number_of_matching_slots$[ebp]
  00085	0f 8d 81 00 00
	00		 jge	 $LN3@insert_air

; 3366 : 	{
; 3367 : 
; 3368 : 		matching_slots[slot_count].x += route_waypoint_positions[current_route_waypoint_offset].position.x;

  0008b	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  0008f	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00093	8b 55 d8	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  00096	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0009c	f3 0f 10 04 02	 movss	 xmm0, DWORD PTR [edx+eax]
  000a1	f3 0f 58 44 0e
	04		 addss	 xmm0, DWORD PTR [esi+ecx+4]
  000a7	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000ab	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  000ae	f3 0f 11 04 01	 movss	 DWORD PTR [ecx+eax], xmm0

; 3369 : 		matching_slots[slot_count].y += route_waypoint_positions[current_route_waypoint_offset].position.y;

  000b3	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000b7	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000bb	8b 55 d8	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  000be	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000c4	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  000ca	f3 0f 58 44 0e
	08		 addss	 xmm0, DWORD PTR [esi+ecx+8]
  000d0	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000d4	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  000d7	f3 0f 11 44 01
	04		 movss	 DWORD PTR [ecx+eax+4], xmm0

; 3370 : 		matching_slots[slot_count].z += route_waypoint_positions[current_route_waypoint_offset].position.z;

  000dd	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000e1	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000e5	8b 55 d8	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  000e8	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000ee	f3 0f 10 44 02
	08		 movss	 xmm0, DWORD PTR [edx+eax+8]
  000f4	f3 0f 58 44 0e
	0c		 addss	 xmm0, DWORD PTR [esi+ecx+12]
  000fa	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000fe	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  00101	f3 0f 11 44 01
	08		 movss	 DWORD PTR [ecx+eax+8], xmm0

; 3371 : 	}

  00107	e9 6a ff ff ff	 jmp	 $LN2@insert_air
$LN3@insert_air:

; 3372 : 
; 3373 : 	keysite_pos = get_local_entity_vec3d_ptr ( get_parser_keysite (), VEC3D_TYPE_POSITION );

  0010c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00113	74 0c		 je	 SHORT $LN13@insert_air
  00115	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0011a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0011c	89 4d 88	 mov	 DWORD PTR tv156[ebp], ecx
  0011f	eb 21		 jmp	 SHORT $LN14@insert_air
$LN13@insert_air:
  00121	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00127	83 c2 2c	 add	 edx, 44			; 0000002cH
  0012a	52		 push	 edx
  0012b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00130	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00135	50		 push	 eax
  00136	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0013b	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv156[ebp], 0
$LN14@insert_air:
  00142	b9 01 00 00 00	 mov	 ecx, 1
  00147	85 c9		 test	 ecx, ecx
  00149	74 09		 je	 SHORT $LN15@insert_air
  0014b	c7 45 84 08 00
	00 00		 mov	 DWORD PTR tv164[ebp], 8
  00152	eb 21		 jmp	 SHORT $LN16@insert_air
$LN15@insert_air:
  00154	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0015a	83 c2 2c	 add	 edx, 44			; 0000002cH
  0015d	52		 push	 edx
  0015e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00163	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00168	50		 push	 eax
  00169	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0016e	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv164[ebp], 0
$LN16@insert_air:
  00175	6a 08		 push	 8
  00177	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0017d	51		 push	 ecx
  0017e	6b 55 88 60	 imul	 edx, DWORD PTR tv156[ebp], 96
  00182	8b 45 84	 mov	 eax, DWORD PTR tv164[ebp]
  00185	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0018c	ff d1		 call	 ecx
  0018e	89 45 d4	 mov	 DWORD PTR _keysite_pos$[ebp], eax

; 3374 : 
; 3375 : 	landing =	create_local_entity

  00191	6a 00		 push	 0
  00193	8b 45 f0	 mov	 eax, DWORD PTR _total_landing_sites$[ebp]
  00196	50		 push	 eax
  00197	68 eb 00 00 00	 push	 235			; 000000ebH
  0019c	6a 05		 push	 5
  0019e	8b 4d 08	 mov	 ecx, DWORD PTR _entity_subtype$[ebp]
  001a1	51		 push	 ecx
  001a2	6a 34		 push	 52			; 00000034H
  001a4	6a 05		 push	 5
  001a6	8b 55 d4	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  001a9	f3 0f 10 42 08	 movss	 xmm0, DWORD PTR [edx+8]
  001ae	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001b2	83 ec 08	 sub	 esp, 8
  001b5	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001ba	8b 45 d4	 mov	 eax, DWORD PTR _keysite_pos$[ebp]
  001bd	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  001c2	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001c6	83 ec 08	 sub	 esp, 8
  001c9	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001ce	8b 4d d4	 mov	 ecx, DWORD PTR _keysite_pos$[ebp]
  001d1	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  001d5	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001d9	83 ec 08	 sub	 esp, 8
  001dc	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001e1	6a 08		 push	 8
  001e3	6a 09		 push	 9
  001e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  001eb	52		 push	 edx
  001ec	6a 17		 push	 23			; 00000017H
  001ee	6a 06		 push	 6
  001f0	6a ff		 push	 -1
  001f2	6a 10		 push	 16			; 00000010H
  001f4	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  001f9	83 c4 50	 add	 esp, 80			; 00000050H
  001fc	89 45 d0	 mov	 DWORD PTR _landing$[ebp], eax

; 3376 : 					(
; 3377 : 						ENTITY_TYPE_LANDING,
; 3378 : 						ENTITY_INDEX_DONT_CARE,
; 3379 : 						ENTITY_ATTR_PARENT ( LIST_TYPE_LANDING_SITE, get_parser_keysite () ),
; 3380 : 						ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, keysite_pos->x, keysite_pos->y, keysite_pos->z ),
; 3381 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, entity_subtype ),
; 3382 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_TOTAL_LANDING_SITES, total_landing_sites ),
; 3383 : 						ENTITY_ATTR_END
; 3384 : 					);
; 3385 : 
; 3386 : 	// update keysites landing types
; 3387 : 	{
; 3388 : 
; 3389 : 		unsigned int
; 3390 : 			landing_types;
; 3391 : 
; 3392 : 		landing_types = get_local_entity_int_value (get_parser_keysite (), INT_TYPE_LANDING_TYPES);

  001ff	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00206	74 0c		 je	 SHORT $LN17@insert_air
  00208	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0020d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0020f	89 4d 88	 mov	 DWORD PTR tv206[ebp], ecx
  00212	eb 21		 jmp	 SHORT $LN18@insert_air
$LN17@insert_air:
  00214	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0021a	83 c2 3f	 add	 edx, 63			; 0000003fH
  0021d	52		 push	 edx
  0021e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00223	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00228	50		 push	 eax
  00229	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0022e	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv206[ebp], 0
$LN18@insert_air:
  00235	b9 01 00 00 00	 mov	 ecx, 1
  0023a	85 c9		 test	 ecx, ecx
  0023c	74 09		 je	 SHORT $LN19@insert_air
  0023e	c7 45 84 77 00
	00 00		 mov	 DWORD PTR tv214[ebp], 119 ; 00000077H
  00245	eb 21		 jmp	 SHORT $LN20@insert_air
$LN19@insert_air:
  00247	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0024d	83 c2 3f	 add	 edx, 63			; 0000003fH
  00250	52		 push	 edx
  00251	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00256	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0025b	50		 push	 eax
  0025c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00261	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv214[ebp], 0
$LN20@insert_air:
  00268	6a 77		 push	 119			; 00000077H
  0026a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00270	51		 push	 ecx
  00271	69 55 88 5c 04
	00 00		 imul	 edx, DWORD PTR tv206[ebp], 1116
  00278	8b 45 84	 mov	 eax, DWORD PTR tv214[ebp]
  0027b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00282	ff d1		 call	 ecx
  00284	89 45 cc	 mov	 DWORD PTR _landing_types$1[ebp], eax

; 3393 : 
; 3394 : 		ASSERT (!(landing_types & 1 << get_local_entity_int_value (landing, INT_TYPE_ENTITY_SUB_TYPE)));

  00287	83 7d d0 00	 cmp	 DWORD PTR _landing$[ebp], 0
  0028b	74 0a		 je	 SHORT $LN21@insert_air
  0028d	8b 45 d0	 mov	 eax, DWORD PTR _landing$[ebp]
  00290	8b 08		 mov	 ecx, DWORD PTR [eax]
  00292	89 4d 88	 mov	 DWORD PTR tv226[ebp], ecx
  00295	eb 21		 jmp	 SHORT $LN22@insert_air
$LN21@insert_air:
  00297	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0029d	83 c2 41	 add	 edx, 65			; 00000041H
  002a0	52		 push	 edx
  002a1	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002ab	50		 push	 eax
  002ac	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b1	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv226[ebp], 0
$LN22@insert_air:
  002b8	b9 01 00 00 00	 mov	 ecx, 1
  002bd	85 c9		 test	 ecx, ecx
  002bf	74 09		 je	 SHORT $LN23@insert_air
  002c1	c7 45 84 34 00
	00 00		 mov	 DWORD PTR tv234[ebp], 52 ; 00000034H
  002c8	eb 21		 jmp	 SHORT $LN24@insert_air
$LN23@insert_air:
  002ca	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  002d0	83 c2 41	 add	 edx, 65			; 00000041H
  002d3	52		 push	 edx
  002d4	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002de	50		 push	 eax
  002df	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002e4	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv234[ebp], 0
$LN24@insert_air:
  002eb	6a 34		 push	 52			; 00000034H
  002ed	8b 4d d0	 mov	 ecx, DWORD PTR _landing$[ebp]
  002f0	51		 push	 ecx
  002f1	69 55 88 5c 04
	00 00		 imul	 edx, DWORD PTR tv226[ebp], 1116
  002f8	8b 45 84	 mov	 eax, DWORD PTR tv234[ebp]
  002fb	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00302	ff d1		 call	 ecx
  00304	ba 01 00 00 00	 mov	 edx, 1
  00309	8b c8		 mov	 ecx, eax
  0030b	d3 e2		 shl	 edx, cl
  0030d	23 55 cc	 and	 edx, DWORD PTR _landing_types$1[ebp]
  00310	74 18		 je	 SHORT $LN11@insert_air
  00312	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00317	83 c0 41	 add	 eax, 65			; 00000041H
  0031a	50		 push	 eax
  0031b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00320	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@GNHOAPLF@?$CB?$CIlanding_types?5?$CG?51?5?$DM?$DM?5get_loca@
  00325	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN11@insert_air:

; 3395 : 
; 3396 : 		landing_types |= 1 << get_local_entity_int_value (landing, INT_TYPE_ENTITY_SUB_TYPE);

  0032a	83 7d d0 00	 cmp	 DWORD PTR _landing$[ebp], 0
  0032e	74 0a		 je	 SHORT $LN25@insert_air
  00330	8b 45 d0	 mov	 eax, DWORD PTR _landing$[ebp]
  00333	8b 08		 mov	 ecx, DWORD PTR [eax]
  00335	89 4d 88	 mov	 DWORD PTR tv253[ebp], ecx
  00338	eb 21		 jmp	 SHORT $LN26@insert_air
$LN25@insert_air:
  0033a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00340	83 c2 43	 add	 edx, 67			; 00000043H
  00343	52		 push	 edx
  00344	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00349	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0034e	50		 push	 eax
  0034f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00354	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv253[ebp], 0
$LN26@insert_air:
  0035b	b9 01 00 00 00	 mov	 ecx, 1
  00360	85 c9		 test	 ecx, ecx
  00362	74 09		 je	 SHORT $LN27@insert_air
  00364	c7 45 84 34 00
	00 00		 mov	 DWORD PTR tv261[ebp], 52 ; 00000034H
  0036b	eb 21		 jmp	 SHORT $LN28@insert_air
$LN27@insert_air:
  0036d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00373	83 c2 43	 add	 edx, 67			; 00000043H
  00376	52		 push	 edx
  00377	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0037c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00381	50		 push	 eax
  00382	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00387	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv261[ebp], 0
$LN28@insert_air:
  0038e	6a 34		 push	 52			; 00000034H
  00390	8b 4d d0	 mov	 ecx, DWORD PTR _landing$[ebp]
  00393	51		 push	 ecx
  00394	69 55 88 5c 04
	00 00		 imul	 edx, DWORD PTR tv253[ebp], 1116
  0039b	8b 45 84	 mov	 eax, DWORD PTR tv261[ebp]
  0039e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  003a5	ff d1		 call	 ecx
  003a7	ba 01 00 00 00	 mov	 edx, 1
  003ac	8b c8		 mov	 ecx, eax
  003ae	d3 e2		 shl	 edx, cl
  003b0	0b 55 cc	 or	 edx, DWORD PTR _landing_types$1[ebp]
  003b3	89 55 cc	 mov	 DWORD PTR _landing_types$1[ebp], edx

; 3397 : 
; 3398 : 		set_local_entity_int_value (get_parser_keysite (), INT_TYPE_LANDING_TYPES, landing_types);

  003b6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  003bd	74 0c		 je	 SHORT $LN29@insert_air
  003bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  003c4	8b 08		 mov	 ecx, DWORD PTR [eax]
  003c6	89 4d 88	 mov	 DWORD PTR tv275[ebp], ecx
  003c9	eb 21		 jmp	 SHORT $LN30@insert_air
$LN29@insert_air:
  003cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  003d1	83 c2 45	 add	 edx, 69			; 00000045H
  003d4	52		 push	 edx
  003d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  003da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003df	50		 push	 eax
  003e0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003e5	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv275[ebp], 0
$LN30@insert_air:
  003ec	b9 01 00 00 00	 mov	 ecx, 1
  003f1	85 c9		 test	 ecx, ecx
  003f3	74 09		 je	 SHORT $LN31@insert_air
  003f5	c7 45 84 77 00
	00 00		 mov	 DWORD PTR tv283[ebp], 119 ; 00000077H
  003fc	eb 21		 jmp	 SHORT $LN32@insert_air
$LN31@insert_air:
  003fe	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00404	83 c2 45	 add	 edx, 69			; 00000045H
  00407	52		 push	 edx
  00408	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0040d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00412	50		 push	 eax
  00413	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00418	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv283[ebp], 0
$LN32@insert_air:
  0041f	8b 4d cc	 mov	 ecx, DWORD PTR _landing_types$1[ebp]
  00422	51		 push	 ecx
  00423	6a 77		 push	 119			; 00000077H
  00425	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0042b	52		 push	 edx
  0042c	69 45 88 5c 04
	00 00		 imul	 eax, DWORD PTR tv275[ebp], 1116
  00433	8b 4d 84	 mov	 ecx, DWORD PTR tv283[ebp]
  00436	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*4]
  0043d	ff d2		 call	 edx

; 3399 : 	}
; 3400 : 
; 3401 : 	set_parser_landing ( landing );

  0043f	8b 45 d0	 mov	 eax, DWORD PTR _landing$[ebp]
  00442	a3 00 00 00 00	 mov	 DWORD PTR ?parser_landing@@3PAUENTITY@@A, eax ; parser_landing

; 3402 : 
; 3403 : 	set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_LANDING ) );

  00447	6a 0d		 push	 13			; 0000000dH
  00449	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  0044e	50		 push	 eax
  0044f	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  00454	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 3404 : 
; 3405 : 	{
; 3406 : 
; 3407 : 		//
; 3408 : 		// Landed waypoint
; 3409 : 		//
; 3410 : 
; 3411 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00459	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0045d	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00460	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00466	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0046a	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00470	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3412 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00475	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00479	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0047c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00482	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00487	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  0048d	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3413 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00492	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00496	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00499	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0049f	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  004a4	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  004aa	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3414 : 
; 3415 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  004af	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  004b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004b9	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  004bd	52		 push	 edx
  004be	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  004c2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004c8	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  004cb	52		 push	 edx
  004cc	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  004d1	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3416 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3417 : 
; 3418 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_LANDED, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  004d4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  004d8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004de	51		 push	 ecx
  004df	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  004e5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004ea	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  004ed	52		 push	 edx
  004ee	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  004f1	50		 push	 eax
  004f2	6a 0e		 push	 14			; 0000000eH
  004f4	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3419 : 
; 3420 : 		current_route_waypoint_offset--;

  004f9	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  004fc	83 e8 01	 sub	 eax, 1
  004ff	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3421 : 
; 3422 : 		for ( ; current_route_waypoint_offset > 0; current_route_waypoint_offset-- )

  00502	eb 09		 jmp	 SHORT $LN7@insert_air
$LN5@insert_air:
  00504	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00507	83 e8 01	 sub	 eax, 1
  0050a	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN7@insert_air:
  0050d	83 7d fc 00	 cmp	 DWORD PTR _current_route_waypoint_offset$[ebp], 0
  00511	0f 8e a5 00 00
	00		 jle	 $LN6@insert_air

; 3423 : 		{
; 3424 : 
; 3425 : 			//
; 3426 : 			// Taxi-ing waypoints
; 3427 : 			//
; 3428 : 
; 3429 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00517	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0051b	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0051e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00524	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00528	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  0052e	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3430 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00533	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00537	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0053a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00540	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00545	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  0054b	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3431 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00550	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00554	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00557	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0055d	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00562	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00568	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3432 : 
; 3433 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  0056d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00571	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00577	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  0057b	52		 push	 edx
  0057c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00580	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00586	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00589	52		 push	 edx
  0058a	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  0058f	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3434 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3435 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00592	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00596	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0059c	51		 push	 ecx
  0059d	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  005a3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005a8	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  005ab	52		 push	 edx
  005ac	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  005af	50		 push	 eax
  005b0	6a 11		 push	 17			; 00000011H
  005b2	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3436 : 		}

  005b7	e9 48 ff ff ff	 jmp	 $LN5@insert_air
$LN6@insert_air:

; 3437 : 	}
; 3438 : 
; 3439 : 	destroy_routegen_waypoint_routes ();

  005bc	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 3440 : 
; 3441 : 	//
; 3442 : 	// Insert the takeoff routes
; 3443 : 	//
; 3444 : 
; 3445 : 	raw_object_index = takeoff_route->index;

  005c1	8b 45 14	 mov	 eax, DWORD PTR _takeoff_route$[ebp]
  005c4	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  005c7	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 3446 : 
; 3447 : 	parse_waypoint_routes_from_object ( raw_object_index, number_of_matching_slots, matching_slots );

  005ca	8b 45 d8	 mov	 eax, DWORD PTR _matching_slots$[ebp]
  005cd	50		 push	 eax
  005ce	8b 4d f4	 mov	 ecx, DWORD PTR _number_of_matching_slots$[ebp]
  005d1	51		 push	 ecx
  005d2	8b 55 f8	 mov	 edx, DWORD PTR _raw_object_index$[ebp]
  005d5	52		 push	 edx
  005d6	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 3448 : 
; 3449 : 	current_route_waypoint_offset = 0;

  005db	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3450 : 
; 3451 : 	set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_TAKEOFF ) );

  005e2	6a 16		 push	 22			; 00000016H
  005e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  005e9	50		 push	 eax
  005ea	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  005ef	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 3452 : 
; 3453 : 	{
; 3454 : 
; 3455 : 		//
; 3456 : 		// Taken off waypoint
; 3457 : 		//
; 3458 : 
; 3459 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  005f4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  005f8	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  005fb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00601	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00605	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  0060b	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3460 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00610	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00614	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00617	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0061d	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00622	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00628	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3461 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  0062d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00631	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00634	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0063a	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  0063f	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00645	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3462 : 
; 3463 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  0064a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0064e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00654	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00658	52		 push	 edx
  00659	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0065d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00663	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00666	52		 push	 edx
  00667	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  0066c	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3464 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3465 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TAKEN_OFF, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  0066f	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00673	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00679	51		 push	 ecx
  0067a	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00680	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00685	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00688	52		 push	 edx
  00689	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  0068c	50		 push	 eax
  0068d	6a 1a		 push	 26			; 0000001aH
  0068f	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3466 : 		current_route_waypoint_offset++;

  00694	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00697	83 c0 01	 add	 eax, 1
  0069a	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3467 : 
; 3468 : 		for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  0069d	eb 09		 jmp	 SHORT $LN10@insert_air
$LN8@insert_air:
  0069f	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  006a2	83 c0 01	 add	 eax, 1
  006a5	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN10@insert_air:
  006a8	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  006ab	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  006b1	0f 8d a5 00 00
	00		 jge	 $LN9@insert_air

; 3469 : 		{
; 3470 : 
; 3471 : 			//
; 3472 : 			// Taxi-ing waypoints
; 3473 : 			//
; 3474 : 
; 3475 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  006b7	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006bb	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  006be	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006c4	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  006c8	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  006ce	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3476 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  006d3	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006d7	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  006da	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006e0	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  006e5	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  006eb	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3477 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  006f0	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006f4	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  006f7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006fd	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00702	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00708	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3478 : 
; 3479 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  0070d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00711	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00717	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  0071b	52		 push	 edx
  0071c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00720	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00726	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00729	52		 push	 edx
  0072a	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  0072f	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3480 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3481 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_NAVIGATION, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00732	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00736	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0073c	51		 push	 ecx
  0073d	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00743	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00748	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  0074b	52		 push	 edx
  0074c	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  0074f	50		 push	 eax
  00750	6a 11		 push	 17			; 00000011H
  00752	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3482 : 		}

  00757	e9 43 ff ff ff	 jmp	 $LN8@insert_air
$LN9@insert_air:

; 3483 : 	}
; 3484 : 
; 3485 : 	destroy_routegen_waypoint_routes ();

  0075c	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 3486 : }

  00761	5f		 pop	 edi
  00762	5e		 pop	 esi
  00763	5b		 pop	 ebx
  00764	8b e5		 mov	 esp, ebp
  00766	5d		 pop	 ebp
  00767	c2 10 00	 ret	 16			; 00000010H
?insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ENDP ; insert_airport_general_takeoff_landing_routes
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z
_TEXT	SEGMENT
tv283 = -184						; size = 4
tv261 = -184						; size = 4
tv234 = -184						; size = 4
tv214 = -184						; size = 4
tv164 = -184						; size = 4
tv275 = -180						; size = 4
tv253 = -180						; size = 4
tv226 = -180						; size = 4
tv206 = -180						; size = 4
tv156 = -180						; size = 4
$T1 = -176						; size = 4
$T2 = -172						; size = 4
$T3 = -168						; size = 4
$T4 = -164						; size = 4
$T5 = -160						; size = 4
_average_z$6 = -92					; size = 8
_average_y$7 = -84					; size = 8
_average_x$8 = -76					; size = 8
_landing_types$9 = -68					; size = 4
_height_offset$ = -64					; size = 4
_terrain_height$ = -60					; size = 4
_inhangar_flags$ = -56					; size = 4
_landing$ = -52						; size = 4
_keysite_pos$ = -48					; size = 4
_matching_slots$ = -44					; size = 4
_waypoint_world_pos$ = -40				; size = 12
_offset_index$ = -28					; size = 4
_formation_index$ = -24					; size = 4
_slot_count$ = -20					; size = 4
_total_landing_sites$ = -16				; size = 4
_number_of_matching_slots$ = -12			; size = 4
_raw_object_index$ = -8					; size = 4
_current_route_waypoint_offset$ = -4			; size = 4
_position$ = 8						; size = 4
_landing_route$ = 12					; size = 4
_takeoff_route$ = 16					; size = 4
_landing_holding_route$ = 20				; size = 4
_takeoff_holding_route$ = 24				; size = 4
?insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z PROC ; insert_airport_helicopter_routes, COMDAT

; 2886 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b8 00 00
	00		 sub	 esp, 184		; 000000b8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 2887 : 
; 2888 : 	int
; 2889 : 		current_route_waypoint_offset,
; 2890 : 		raw_object_index,
; 2891 : 		number_of_matching_slots,
; 2892 : 		total_landing_sites,
; 2893 : 		slot_count,
; 2894 : 		formation_index,
; 2895 : 		offset_index;
; 2896 : 
; 2897 : 	vec3d
; 2898 : 		waypoint_world_pos,
; 2899 : 		*matching_slots,
; 2900 : 		*keysite_pos;
; 2901 : 
; 2902 : 	entity
; 2903 : 		*landing;
; 2904 : 
; 2905 : 	unsigned int
; 2906 : 		inhangar_flags;
; 2907 : 
; 2908 : 	float
; 2909 : 		terrain_height,
; 2910 : 		height_offset;
; 2911 : 	
; 2912 : 	//
; 2913 : 	// Insert the landing routes
; 2914 : 	//
; 2915 : 
; 2916 : 	raw_object_index = landing_route->index;

  0000c	8b 45 0c	 mov	 eax, DWORD PTR _landing_route$[ebp]
  0000f	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00012	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 2917 : 
; 2918 : 	parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00015	6a 00		 push	 0
  00017	6a 00		 push	 0
  00019	8b 45 f8	 mov	 eax, DWORD PTR _raw_object_index$[ebp]
  0001c	50		 push	 eax
  0001d	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2919 : 
; 2920 : 	current_route_waypoint_offset = number_of_route_waypoint_positions - 1;

  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00027	83 e8 01	 sub	 eax, 1
  0002a	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2921 : 
; 2922 : 	total_landing_sites = route_waypoint_positions[current_route_waypoint_offset].number_of_positions;

  0002d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00031	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00037	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0003a	89 55 f0	 mov	 DWORD PTR _total_landing_sites$[ebp], edx

; 2923 : 
; 2924 : 	number_of_matching_slots = total_landing_sites;

  0003d	8b 45 f0	 mov	 eax, DWORD PTR _total_landing_sites$[ebp]
  00040	89 45 f4	 mov	 DWORD PTR _number_of_matching_slots$[ebp], eax

; 2925 : 
; 2926 : 	matching_slots = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_matching_slots );

  00043	6b 45 f4 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$[ebp], 12
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  0004d	89 45 d4	 mov	 DWORD PTR _matching_slots$[ebp], eax

; 2927 : 
; 2928 : 	memcpy ( matching_slots, route_waypoint_positions[current_route_waypoint_offset].offsets, ( sizeof ( vec3d ) * number_of_matching_slots ) );

  00050	6b 45 f4 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$[ebp], 12
  00054	50		 push	 eax
  00055	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00059	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0005f	8b 44 0a 10	 mov	 eax, DWORD PTR [edx+ecx+16]
  00063	50		 push	 eax
  00064	8b 4d d4	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  00067	51		 push	 ecx
  00068	e8 00 00 00 00	 call	 _memcpy
  0006d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2929 : 
; 2930 : 	for ( slot_count = 0; slot_count < number_of_matching_slots; slot_count++ )

  00070	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _slot_count$[ebp], 0
  00077	eb 09		 jmp	 SHORT $LN4@insert_air
$LN2@insert_air:
  00079	8b 45 ec	 mov	 eax, DWORD PTR _slot_count$[ebp]
  0007c	83 c0 01	 add	 eax, 1
  0007f	89 45 ec	 mov	 DWORD PTR _slot_count$[ebp], eax
$LN4@insert_air:
  00082	8b 45 ec	 mov	 eax, DWORD PTR _slot_count$[ebp]
  00085	3b 45 f4	 cmp	 eax, DWORD PTR _number_of_matching_slots$[ebp]
  00088	0f 8d 81 00 00
	00		 jge	 $LN3@insert_air

; 2931 : 	{
; 2932 : 
; 2933 : 		matching_slots[slot_count].x += route_waypoint_positions[current_route_waypoint_offset].position.x;

  0008e	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  00092	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00096	8b 55 d4	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  00099	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0009f	f3 0f 10 04 02	 movss	 xmm0, DWORD PTR [edx+eax]
  000a4	f3 0f 58 44 0e
	04		 addss	 xmm0, DWORD PTR [esi+ecx+4]
  000aa	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000ae	8b 4d d4	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  000b1	f3 0f 11 04 01	 movss	 DWORD PTR [ecx+eax], xmm0

; 2934 : 		matching_slots[slot_count].y += route_waypoint_positions[current_route_waypoint_offset].position.y;

  000b6	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000ba	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000be	8b 55 d4	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  000c1	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000c7	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  000cd	f3 0f 58 44 0e
	08		 addss	 xmm0, DWORD PTR [esi+ecx+8]
  000d3	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000d7	8b 4d d4	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  000da	f3 0f 11 44 01
	04		 movss	 DWORD PTR [ecx+eax+4], xmm0

; 2935 : 		matching_slots[slot_count].z += route_waypoint_positions[current_route_waypoint_offset].position.z;

  000e0	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000e4	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000e8	8b 55 d4	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  000eb	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000f1	f3 0f 10 44 02
	08		 movss	 xmm0, DWORD PTR [edx+eax+8]
  000f7	f3 0f 58 44 0e
	0c		 addss	 xmm0, DWORD PTR [esi+ecx+12]
  000fd	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  00101	8b 4d d4	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  00104	f3 0f 11 44 01
	08		 movss	 DWORD PTR [ecx+eax+8], xmm0

; 2936 : 	}

  0010a	e9 6a ff ff ff	 jmp	 $LN2@insert_air
$LN3@insert_air:

; 2937 : 
; 2938 : 	keysite_pos = get_local_entity_vec3d_ptr ( get_parser_keysite (), VEC3D_TYPE_POSITION );

  0010f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00116	74 0f		 je	 SHORT $LN46@insert_air
  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0011d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0011f	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv156[ebp], ecx
  00125	eb 24		 jmp	 SHORT $LN47@insert_air
$LN46@insert_air:
  00127	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  0012d	83 c2 34	 add	 edx, 52			; 00000034H
  00130	52		 push	 edx
  00131	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00136	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0013b	50		 push	 eax
  0013c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00141	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv156[ebp], 0
$LN47@insert_air:
  0014b	b9 01 00 00 00	 mov	 ecx, 1
  00150	85 c9		 test	 ecx, ecx
  00152	74 0c		 je	 SHORT $LN48@insert_air
  00154	c7 85 48 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv164[ebp], 8
  0015e	eb 24		 jmp	 SHORT $LN49@insert_air
$LN48@insert_air:
  00160	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  00166	83 c2 34	 add	 edx, 52			; 00000034H
  00169	52		 push	 edx
  0016a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0016f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00174	50		 push	 eax
  00175	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0017a	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv164[ebp], 0
$LN49@insert_air:
  00184	6a 08		 push	 8
  00186	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0018c	51		 push	 ecx
  0018d	6b 95 4c ff ff
	ff 60		 imul	 edx, DWORD PTR tv156[ebp], 96
  00194	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv164[ebp]
  0019a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  001a1	ff d1		 call	 ecx
  001a3	89 45 d0	 mov	 DWORD PTR _keysite_pos$[ebp], eax

; 2939 : 
; 2940 : 	landing =	create_local_entity

  001a6	6a 00		 push	 0
  001a8	8b 45 f0	 mov	 eax, DWORD PTR _total_landing_sites$[ebp]
  001ab	50		 push	 eax
  001ac	68 eb 00 00 00	 push	 235			; 000000ebH
  001b1	6a 05		 push	 5
  001b3	6a 02		 push	 2
  001b5	6a 34		 push	 52			; 00000034H
  001b7	6a 05		 push	 5
  001b9	8b 4d d0	 mov	 ecx, DWORD PTR _keysite_pos$[ebp]
  001bc	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  001c1	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001c5	83 ec 08	 sub	 esp, 8
  001c8	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001cd	8b 55 d0	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  001d0	f3 0f 10 42 04	 movss	 xmm0, DWORD PTR [edx+4]
  001d5	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001d9	83 ec 08	 sub	 esp, 8
  001dc	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001e1	8b 45 d0	 mov	 eax, DWORD PTR _keysite_pos$[ebp]
  001e4	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  001e8	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001ec	83 ec 08	 sub	 esp, 8
  001ef	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001f4	6a 08		 push	 8
  001f6	6a 09		 push	 9
  001f8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  001fe	51		 push	 ecx
  001ff	6a 17		 push	 23			; 00000017H
  00201	6a 06		 push	 6
  00203	6a ff		 push	 -1
  00205	6a 10		 push	 16			; 00000010H
  00207	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  0020c	83 c4 50	 add	 esp, 80			; 00000050H
  0020f	89 45 cc	 mov	 DWORD PTR _landing$[ebp], eax

; 2941 : 					(
; 2942 : 						ENTITY_TYPE_LANDING,
; 2943 : 						ENTITY_INDEX_DONT_CARE,
; 2944 : 						ENTITY_ATTR_PARENT ( LIST_TYPE_LANDING_SITE, get_parser_keysite () ),
; 2945 : 						ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, keysite_pos->x, keysite_pos->y, keysite_pos->z ),
; 2946 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_LANDING_HELICOPTER ),
; 2947 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_TOTAL_LANDING_SITES, total_landing_sites ),
; 2948 : 						ENTITY_ATTR_END
; 2949 : 					);
; 2950 : 
; 2951 : 	// update keysites landing types
; 2952 : 	{
; 2953 : 
; 2954 : 		unsigned int
; 2955 : 			landing_types;
; 2956 : 
; 2957 : 		landing_types = get_local_entity_int_value (get_parser_keysite (), INT_TYPE_LANDING_TYPES);

  00212	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00219	74 0f		 je	 SHORT $LN50@insert_air
  0021b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00220	8b 08		 mov	 ecx, DWORD PTR [eax]
  00222	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv206[ebp], ecx
  00228	eb 24		 jmp	 SHORT $LN51@insert_air
$LN50@insert_air:
  0022a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  00230	83 c2 47	 add	 edx, 71			; 00000047H
  00233	52		 push	 edx
  00234	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00239	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0023e	50		 push	 eax
  0023f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00244	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv206[ebp], 0
$LN51@insert_air:
  0024e	b9 01 00 00 00	 mov	 ecx, 1
  00253	85 c9		 test	 ecx, ecx
  00255	74 0c		 je	 SHORT $LN52@insert_air
  00257	c7 85 48 ff ff
	ff 77 00 00 00	 mov	 DWORD PTR tv214[ebp], 119 ; 00000077H
  00261	eb 24		 jmp	 SHORT $LN53@insert_air
$LN52@insert_air:
  00263	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  00269	83 c2 47	 add	 edx, 71			; 00000047H
  0026c	52		 push	 edx
  0026d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00272	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00277	50		 push	 eax
  00278	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0027d	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv214[ebp], 0
$LN53@insert_air:
  00287	6a 77		 push	 119			; 00000077H
  00289	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0028f	51		 push	 ecx
  00290	69 95 4c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv206[ebp], 1116
  0029a	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv214[ebp]
  002a0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  002a7	ff d1		 call	 ecx
  002a9	89 45 bc	 mov	 DWORD PTR _landing_types$9[ebp], eax

; 2958 : 
; 2959 : 		ASSERT (!(landing_types & 1 << get_local_entity_int_value (landing, INT_TYPE_ENTITY_SUB_TYPE)));

  002ac	83 7d cc 00	 cmp	 DWORD PTR _landing$[ebp], 0
  002b0	74 0d		 je	 SHORT $LN54@insert_air
  002b2	8b 45 cc	 mov	 eax, DWORD PTR _landing$[ebp]
  002b5	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b7	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv226[ebp], ecx
  002bd	eb 24		 jmp	 SHORT $LN55@insert_air
$LN54@insert_air:
  002bf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  002c5	83 c2 49	 add	 edx, 73			; 00000049H
  002c8	52		 push	 edx
  002c9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002d3	50		 push	 eax
  002d4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d9	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv226[ebp], 0
$LN55@insert_air:
  002e3	b9 01 00 00 00	 mov	 ecx, 1
  002e8	85 c9		 test	 ecx, ecx
  002ea	74 0c		 je	 SHORT $LN56@insert_air
  002ec	c7 85 48 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv234[ebp], 52 ; 00000034H
  002f6	eb 24		 jmp	 SHORT $LN57@insert_air
$LN56@insert_air:
  002f8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  002fe	83 c2 49	 add	 edx, 73			; 00000049H
  00301	52		 push	 edx
  00302	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00307	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0030c	50		 push	 eax
  0030d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00312	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv234[ebp], 0
$LN57@insert_air:
  0031c	6a 34		 push	 52			; 00000034H
  0031e	8b 4d cc	 mov	 ecx, DWORD PTR _landing$[ebp]
  00321	51		 push	 ecx
  00322	69 95 4c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv226[ebp], 1116
  0032c	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv234[ebp]
  00332	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00339	ff d1		 call	 ecx
  0033b	ba 01 00 00 00	 mov	 edx, 1
  00340	8b c8		 mov	 ecx, eax
  00342	d3 e2		 shl	 edx, cl
  00344	23 55 bc	 and	 edx, DWORD PTR _landing_types$9[ebp]
  00347	74 18		 je	 SHORT $LN35@insert_air
  00349	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  0034e	83 c0 49	 add	 eax, 73			; 00000049H
  00351	50		 push	 eax
  00352	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00357	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@GNHOAPLF@?$CB?$CIlanding_types?5?$CG?51?5?$DM?$DM?5get_loca@
  0035c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN35@insert_air:

; 2960 : 
; 2961 : 		landing_types |= 1 << get_local_entity_int_value (landing, INT_TYPE_ENTITY_SUB_TYPE);

  00361	83 7d cc 00	 cmp	 DWORD PTR _landing$[ebp], 0
  00365	74 0d		 je	 SHORT $LN58@insert_air
  00367	8b 45 cc	 mov	 eax, DWORD PTR _landing$[ebp]
  0036a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0036c	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv253[ebp], ecx
  00372	eb 24		 jmp	 SHORT $LN59@insert_air
$LN58@insert_air:
  00374	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  0037a	83 c2 4b	 add	 edx, 75			; 0000004bH
  0037d	52		 push	 edx
  0037e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00383	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00388	50		 push	 eax
  00389	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0038e	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv253[ebp], 0
$LN59@insert_air:
  00398	b9 01 00 00 00	 mov	 ecx, 1
  0039d	85 c9		 test	 ecx, ecx
  0039f	74 0c		 je	 SHORT $LN60@insert_air
  003a1	c7 85 48 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv261[ebp], 52 ; 00000034H
  003ab	eb 24		 jmp	 SHORT $LN61@insert_air
$LN60@insert_air:
  003ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  003b3	83 c2 4b	 add	 edx, 75			; 0000004bH
  003b6	52		 push	 edx
  003b7	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  003bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  003c1	50		 push	 eax
  003c2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003c7	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv261[ebp], 0
$LN61@insert_air:
  003d1	6a 34		 push	 52			; 00000034H
  003d3	8b 4d cc	 mov	 ecx, DWORD PTR _landing$[ebp]
  003d6	51		 push	 ecx
  003d7	69 95 4c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv253[ebp], 1116
  003e1	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv261[ebp]
  003e7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  003ee	ff d1		 call	 ecx
  003f0	ba 01 00 00 00	 mov	 edx, 1
  003f5	8b c8		 mov	 ecx, eax
  003f7	d3 e2		 shl	 edx, cl
  003f9	0b 55 bc	 or	 edx, DWORD PTR _landing_types$9[ebp]
  003fc	89 55 bc	 mov	 DWORD PTR _landing_types$9[ebp], edx

; 2962 : 
; 2963 : 		set_local_entity_int_value (get_parser_keysite (), INT_TYPE_LANDING_TYPES, landing_types);

  003ff	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00406	74 0f		 je	 SHORT $LN62@insert_air
  00408	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0040d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0040f	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv275[ebp], ecx
  00415	eb 24		 jmp	 SHORT $LN63@insert_air
$LN62@insert_air:
  00417	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  0041d	83 c2 4d	 add	 edx, 77			; 0000004dH
  00420	52		 push	 edx
  00421	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00426	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0042b	50		 push	 eax
  0042c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00431	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv275[ebp], 0
$LN63@insert_air:
  0043b	b9 01 00 00 00	 mov	 ecx, 1
  00440	85 c9		 test	 ecx, ecx
  00442	74 0c		 je	 SHORT $LN64@insert_air
  00444	c7 85 48 ff ff
	ff 77 00 00 00	 mov	 DWORD PTR tv283[ebp], 119 ; 00000077H
  0044e	eb 24		 jmp	 SHORT $LN65@insert_air
$LN64@insert_air:
  00450	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z@4JA
  00456	83 c2 4d	 add	 edx, 77			; 0000004dH
  00459	52		 push	 edx
  0045a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0045f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00464	50		 push	 eax
  00465	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0046a	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv283[ebp], 0
$LN65@insert_air:
  00474	8b 4d bc	 mov	 ecx, DWORD PTR _landing_types$9[ebp]
  00477	51		 push	 ecx
  00478	6a 77		 push	 119			; 00000077H
  0047a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00480	52		 push	 edx
  00481	69 85 4c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv275[ebp], 1116
  0048b	8b 8d 48 ff ff
	ff		 mov	 ecx, DWORD PTR tv283[ebp]
  00491	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*4]
  00498	ff d2		 call	 edx

; 2964 : 	}
; 2965 : 
; 2966 : 	set_parser_landing ( landing );

  0049a	8b 45 cc	 mov	 eax, DWORD PTR _landing$[ebp]
  0049d	a3 00 00 00 00	 mov	 DWORD PTR ?parser_landing@@3PAUENTITY@@A, eax ; parser_landing

; 2967 : 
; 2968 : 	set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_LANDING ) );

  004a2	6a 0d		 push	 13			; 0000000dH
  004a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  004a9	50		 push	 eax
  004aa	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  004af	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 2969 : 
; 2970 : 	{
; 2971 : 
; 2972 : 		//
; 2973 : 		// Landed waypoint
; 2974 : 		//
; 2975 : 
; 2976 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  004b4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  004b8	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  004bb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004c1	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  004c5	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  004cb	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2977 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  004d0	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  004d4	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  004d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004dd	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  004e2	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  004e8	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2978 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  004ed	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  004f1	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  004f4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004fa	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  004ff	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00505	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2979 : 
; 2980 : 		height_offset = 0;

  0050a	0f 57 c0	 xorps	 xmm0, xmm0
  0050d	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0

; 2981 : 
; 2982 : 		for ( offset_index = 0; offset_index < route_waypoint_positions[current_route_waypoint_offset].number_of_positions; offset_index++ )

  00512	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _offset_index$[ebp], 0
  00519	eb 09		 jmp	 SHORT $LN7@insert_air
$LN5@insert_air:
  0051b	8b 45 e4	 mov	 eax, DWORD PTR _offset_index$[ebp]
  0051e	83 c0 01	 add	 eax, 1
  00521	89 45 e4	 mov	 DWORD PTR _offset_index$[ebp], eax
$LN7@insert_air:
  00524	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00528	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0052e	8b 55 e4	 mov	 edx, DWORD PTR _offset_index$[ebp]
  00531	3b 14 01	 cmp	 edx, DWORD PTR [ecx+eax]
  00534	0f 8d 8f 00 00
	00		 jge	 $LN6@insert_air

; 2983 : 		{
; 2984 : 
; 2985 : 			terrain_height = get_3d_terrain_point_data ( waypoint_world_pos.x + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].x,

  0053a	6a 00		 push	 0
  0053c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00540	6b 4d e4 0c	 imul	 ecx, DWORD PTR _offset_index$[ebp], 12
  00544	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0054a	8b 44 02 10	 mov	 eax, DWORD PTR [edx+eax+16]
  0054e	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  00553	f3 0f 58 44 08
	08		 addss	 xmm0, DWORD PTR [eax+ecx+8]
  00559	51		 push	 ecx
  0055a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0055f	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00563	6b 55 e4 0c	 imul	 edx, DWORD PTR _offset_index$[ebp], 12
  00567	a1 00 00 00 00	 mov	 eax, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0056c	8b 4c 08 10	 mov	 ecx, DWORD PTR [eax+ecx+16]
  00570	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  00575	f3 0f 58 04 11	 addss	 xmm0, DWORD PTR [ecx+edx]
  0057a	51		 push	 ecx
  0057b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00580	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00585	d9 5d c4	 fstp	 DWORD PTR _terrain_height$[ebp]

; 2986 : 																		waypoint_world_pos.z + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].z, NULL );
; 2987 : 
; 2988 : 			if ( terrain_height > position->y )

  00588	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  0058b	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  00590	0f 2f 40 04	 comiss	 xmm0, DWORD PTR [eax+4]
  00594	76 2e		 jbe	 SHORT $LN36@insert_air

; 2989 : 			{
; 2990 : 
; 2991 : 				height_offset = max ( height_offset, ( terrain_height - position->y ) );

  00596	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  00599	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  0059e	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  005a3	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR $T5[ebp], xmm0
  005ab	8d 8d 60 ff ff
	ff		 lea	 ecx, DWORD PTR $T5[ebp]
  005b1	51		 push	 ecx
  005b2	8d 55 c0	 lea	 edx, DWORD PTR _height_offset$[ebp]
  005b5	52		 push	 edx
  005b6	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  005bb	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  005bf	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0
$LN36@insert_air:

; 2992 : 			}
; 2993 : 		}

  005c4	e9 52 ff ff ff	 jmp	 $LN5@insert_air
$LN6@insert_air:

; 2994 : 
; 2995 : 		waypoint_world_pos.y += height_offset;

  005c9	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  005ce	f3 0f 58 45 c0	 addss	 xmm0, DWORD PTR _height_offset$[ebp]
  005d3	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2996 : 
; 2997 : //VJ FARP bug, date: 18-mar-03
; 2998 : 
; 2999 : // ensure the waypoint elevation (y coord) is at the terrain elevation or higher (because ships are 20m above sealevel)
; 3000 : // and add 10 cm to the elevation to ensure the aircraft touch the ground when landing, 
; 3001 : // this seems to trigger a change of status
; 3002 : 		waypoint_world_pos.y = max(waypoint_world_pos.y,get_3d_terrain_point_data (waypoint_world_pos.x,waypoint_world_pos.z, NULL ));		

  005d8	6a 00		 push	 0
  005da	51		 push	 ecx
  005db	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  005e0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005e5	51		 push	 ecx
  005e6	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  005eb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005f0	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  005f5	d9 9d 5c ff ff
	ff		 fstp	 DWORD PTR $T4[ebp]
  005fb	8d 85 5c ff ff
	ff		 lea	 eax, DWORD PTR $T4[ebp]
  00601	50		 push	 eax
  00602	8d 4d dc	 lea	 ecx, DWORD PTR _waypoint_world_pos$[ebp+4]
  00605	51		 push	 ecx
  00606	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  0060b	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  0060f	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3003 : 		waypoint_world_pos.y += 0.1;

  00614	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  00619	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fb999999999999a
  00621	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00625	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3004 : //VJ FARP bug, date: 18-mar-03, end
; 3005 : 
; 3006 : 		inhangar_flags = get_waypoint_inhangar_bits ( &route_waypoint_positions[current_route_waypoint_offset], current_airport_inst3d );

  0062a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  0062f	50		 push	 eax
  00630	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00634	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0063a	51		 push	 ecx
  0063b	e8 00 00 00 00	 call	 ?get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z ; get_waypoint_inhangar_bits
  00640	89 45 c8	 mov	 DWORD PTR _inhangar_flags$[ebp], eax

; 3007 : 
; 3008 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00643	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00647	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0064d	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00651	52		 push	 edx
  00652	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00656	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0065c	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0065f	52		 push	 edx
  00660	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00665	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3009 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3010 : 
; 3011 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_LANDED, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00668	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0066c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00672	51		 push	 ecx
  00673	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00679	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0067e	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00681	52		 push	 edx
  00682	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00685	50		 push	 eax
  00686	6a 0e		 push	 14			; 0000000eH
  00688	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3012 : 
; 3013 : 		current_route_waypoint_offset--;

  0068d	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00690	83 e8 01	 sub	 eax, 1
  00693	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3014 : 
; 3015 : 		for ( ; current_route_waypoint_offset >= 0; current_route_waypoint_offset-- )

  00696	eb 09		 jmp	 SHORT $LN10@insert_air
$LN8@insert_air:
  00698	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  0069b	83 e8 01	 sub	 eax, 1
  0069e	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN10@insert_air:
  006a1	83 7d fc 00	 cmp	 DWORD PTR _current_route_waypoint_offset$[ebp], 0
  006a5	0f 8c a7 01 00
	00		 jl	 $LN9@insert_air

; 3016 : 		{
; 3017 : 
; 3018 : 			//
; 3019 : 			// Taxi-ing waypoints
; 3020 : 			//
; 3021 : 
; 3022 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  006ab	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006af	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  006b2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006b8	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  006bc	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  006c2	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3023 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  006c7	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006cb	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  006ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006d4	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  006d9	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  006df	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3024 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  006e4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006e8	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  006eb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006f1	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  006f6	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  006fc	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3025 : 
; 3026 : 			height_offset = 0;

  00701	0f 57 c0	 xorps	 xmm0, xmm0
  00704	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0

; 3027 : 
; 3028 : 			for ( offset_index = 0; offset_index < route_waypoint_positions[current_route_waypoint_offset].number_of_positions; offset_index++ )

  00709	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _offset_index$[ebp], 0
  00710	eb 09		 jmp	 SHORT $LN13@insert_air
$LN11@insert_air:
  00712	8b 45 e4	 mov	 eax, DWORD PTR _offset_index$[ebp]
  00715	83 c0 01	 add	 eax, 1
  00718	89 45 e4	 mov	 DWORD PTR _offset_index$[ebp], eax
$LN13@insert_air:
  0071b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0071f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00725	8b 55 e4	 mov	 edx, DWORD PTR _offset_index$[ebp]
  00728	3b 14 01	 cmp	 edx, DWORD PTR [ecx+eax]
  0072b	0f 8d 8f 00 00
	00		 jge	 $LN12@insert_air

; 3029 : 			{
; 3030 : 
; 3031 : 				terrain_height = get_3d_terrain_point_data ( waypoint_world_pos.x + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].x,

  00731	6a 00		 push	 0
  00733	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00737	6b 4d e4 0c	 imul	 ecx, DWORD PTR _offset_index$[ebp], 12
  0073b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00741	8b 44 02 10	 mov	 eax, DWORD PTR [edx+eax+16]
  00745	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  0074a	f3 0f 58 44 08
	08		 addss	 xmm0, DWORD PTR [eax+ecx+8]
  00750	51		 push	 ecx
  00751	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00756	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0075a	6b 55 e4 0c	 imul	 edx, DWORD PTR _offset_index$[ebp], 12
  0075e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00763	8b 4c 08 10	 mov	 ecx, DWORD PTR [eax+ecx+16]
  00767	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  0076c	f3 0f 58 04 11	 addss	 xmm0, DWORD PTR [ecx+edx]
  00771	51		 push	 ecx
  00772	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00777	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  0077c	d9 5d c4	 fstp	 DWORD PTR _terrain_height$[ebp]

; 3032 : 																			waypoint_world_pos.z + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].z, NULL );
; 3033 : 
; 3034 : 				if ( terrain_height > position->y )

  0077f	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  00782	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  00787	0f 2f 40 04	 comiss	 xmm0, DWORD PTR [eax+4]
  0078b	76 2e		 jbe	 SHORT $LN37@insert_air

; 3035 : 				{
; 3036 : 
; 3037 : 					height_offset = max ( height_offset, ( terrain_height - position->y ) );

  0078d	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  00790	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  00795	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  0079a	f3 0f 11 85 58
	ff ff ff	 movss	 DWORD PTR $T3[ebp], xmm0
  007a2	8d 8d 58 ff ff
	ff		 lea	 ecx, DWORD PTR $T3[ebp]
  007a8	51		 push	 ecx
  007a9	8d 55 c0	 lea	 edx, DWORD PTR _height_offset$[ebp]
  007ac	52		 push	 edx
  007ad	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  007b2	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  007b6	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0
$LN37@insert_air:

; 3038 : 				}
; 3039 : 			}

  007bb	e9 52 ff ff ff	 jmp	 $LN11@insert_air
$LN12@insert_air:

; 3040 : 
; 3041 : 			waypoint_world_pos.y += height_offset;

  007c0	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  007c5	f3 0f 58 45 c0	 addss	 xmm0, DWORD PTR _height_offset$[ebp]
  007ca	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3042 : 
; 3043 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  007cf	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  007d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  007d9	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  007dd	52		 push	 edx
  007de	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  007e2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  007e8	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  007eb	52		 push	 edx
  007ec	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  007f1	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3044 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3045 : 
; 3046 : //			if ( current_route_waypoint_offset == 1 )
; 3047 : 			if ( current_route_waypoint_offset == (number_of_route_waypoint_positions - 2))

  007f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  007f9	83 e8 02	 sub	 eax, 2
  007fc	39 45 fc	 cmp	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
  007ff	75 27		 jne	 SHORT $LN38@insert_air

; 3048 : 			{
; 3049 : 
; 3050 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_LOWER_UNDERCARRIAGE, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00801	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00805	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0080b	51		 push	 ecx
  0080c	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00812	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00817	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  0081a	52		 push	 edx
  0081b	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  0081e	50		 push	 eax
  0081f	6a 10		 push	 16			; 00000010H
  00821	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3051 : 			}
; 3052 : 			else

  00826	eb 25		 jmp	 SHORT $LN39@insert_air
$LN38@insert_air:

; 3053 : 			{
; 3054 : 
; 3055 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TAXI, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00828	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0082c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00832	51		 push	 ecx
  00833	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00839	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0083e	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00841	52		 push	 edx
  00842	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00845	50		 push	 eax
  00846	6a 1c		 push	 28			; 0000001cH
  00848	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint
$LN39@insert_air:

; 3056 : 			}
; 3057 : 		}

  0084d	e9 46 fe ff ff	 jmp	 $LN8@insert_air
$LN9@insert_air:

; 3058 : 	}
; 3059 : 
; 3060 : 	destroy_routegen_waypoint_routes ();

  00852	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 3061 : 
; 3062 : 	//
; 3063 : 	// Insert the takeoff routes
; 3064 : 	//
; 3065 : 
; 3066 : 	raw_object_index = takeoff_route->index;

  00857	8b 45 10	 mov	 eax, DWORD PTR _takeoff_route$[ebp]
  0085a	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  0085d	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 3067 : 
; 3068 : 	parse_waypoint_routes_from_object ( raw_object_index, number_of_matching_slots, matching_slots );

  00860	8b 45 d4	 mov	 eax, DWORD PTR _matching_slots$[ebp]
  00863	50		 push	 eax
  00864	8b 4d f4	 mov	 ecx, DWORD PTR _number_of_matching_slots$[ebp]
  00867	51		 push	 ecx
  00868	8b 55 f8	 mov	 edx, DWORD PTR _raw_object_index$[ebp]
  0086b	52		 push	 edx
  0086c	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 3069 : 
; 3070 : 	current_route_waypoint_offset = 0;

  00871	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3071 : 
; 3072 : 	set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_TAKEOFF ) );

  00878	6a 16		 push	 22			; 00000016H
  0087a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  0087f	50		 push	 eax
  00880	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  00885	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 3073 : 
; 3074 : 	{
; 3075 : 
; 3076 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  0088a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0088e	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00891	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00897	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0089b	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  008a1	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3077 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  008a6	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  008aa	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  008ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  008b3	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  008b8	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  008be	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3078 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  008c3	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  008c7	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  008ca	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  008d0	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  008d5	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  008db	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3079 : 
; 3080 : 		height_offset = 0;

  008e0	0f 57 c0	 xorps	 xmm0, xmm0
  008e3	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0

; 3081 : 
; 3082 : 		for ( offset_index = 0; offset_index < route_waypoint_positions[current_route_waypoint_offset].number_of_positions; offset_index++ )

  008e8	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _offset_index$[ebp], 0
  008ef	eb 09		 jmp	 SHORT $LN16@insert_air
$LN14@insert_air:
  008f1	8b 45 e4	 mov	 eax, DWORD PTR _offset_index$[ebp]
  008f4	83 c0 01	 add	 eax, 1
  008f7	89 45 e4	 mov	 DWORD PTR _offset_index$[ebp], eax
$LN16@insert_air:
  008fa	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  008fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00904	8b 55 e4	 mov	 edx, DWORD PTR _offset_index$[ebp]
  00907	3b 14 01	 cmp	 edx, DWORD PTR [ecx+eax]
  0090a	0f 8d 8f 00 00
	00		 jge	 $LN15@insert_air

; 3083 : 		{
; 3084 : 
; 3085 : 			terrain_height = get_3d_terrain_point_data ( waypoint_world_pos.x + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].x,

  00910	6a 00		 push	 0
  00912	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00916	6b 4d e4 0c	 imul	 ecx, DWORD PTR _offset_index$[ebp], 12
  0091a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00920	8b 44 02 10	 mov	 eax, DWORD PTR [edx+eax+16]
  00924	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  00929	f3 0f 58 44 08
	08		 addss	 xmm0, DWORD PTR [eax+ecx+8]
  0092f	51		 push	 ecx
  00930	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00935	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00939	6b 55 e4 0c	 imul	 edx, DWORD PTR _offset_index$[ebp], 12
  0093d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00942	8b 4c 08 10	 mov	 ecx, DWORD PTR [eax+ecx+16]
  00946	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  0094b	f3 0f 58 04 11	 addss	 xmm0, DWORD PTR [ecx+edx]
  00950	51		 push	 ecx
  00951	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00956	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  0095b	d9 5d c4	 fstp	 DWORD PTR _terrain_height$[ebp]

; 3086 : 																		waypoint_world_pos.z + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].z, NULL );
; 3087 : 
; 3088 : 			if ( terrain_height > position->y )

  0095e	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  00961	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  00966	0f 2f 40 04	 comiss	 xmm0, DWORD PTR [eax+4]
  0096a	76 2e		 jbe	 SHORT $LN40@insert_air

; 3089 : 			{
; 3090 : 
; 3091 : 				height_offset = max ( height_offset, ( terrain_height - position->y ) );

  0096c	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  0096f	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  00974	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  00979	f3 0f 11 85 54
	ff ff ff	 movss	 DWORD PTR $T2[ebp], xmm0
  00981	8d 8d 54 ff ff
	ff		 lea	 ecx, DWORD PTR $T2[ebp]
  00987	51		 push	 ecx
  00988	8d 55 c0	 lea	 edx, DWORD PTR _height_offset$[ebp]
  0098b	52		 push	 edx
  0098c	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  00991	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00995	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0
$LN40@insert_air:

; 3092 : 			}
; 3093 : 		}

  0099a	e9 52 ff ff ff	 jmp	 $LN14@insert_air
$LN15@insert_air:

; 3094 : 
; 3095 : 		waypoint_world_pos.y += height_offset;

  0099f	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  009a4	f3 0f 58 45 c0	 addss	 xmm0, DWORD PTR _height_offset$[ebp]
  009a9	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3096 : 
; 3097 : 		//
; 3098 : 		// Taken off waypoint
; 3099 : 		//
; 3100 : 
; 3101 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  009ae	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  009b2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  009b8	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  009bc	52		 push	 edx
  009bd	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  009c1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  009c7	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  009ca	52		 push	 edx
  009cb	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  009d0	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3102 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3103 : 
; 3104 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TAKEN_OFF, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  009d3	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  009d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  009dd	51		 push	 ecx
  009de	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  009e4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009e9	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  009ec	52		 push	 edx
  009ed	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  009f0	50		 push	 eax
  009f1	6a 1a		 push	 26			; 0000001aH
  009f3	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3105 : 
; 3106 : 		current_route_waypoint_offset++;

  009f8	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  009fb	83 c0 01	 add	 eax, 1
  009fe	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3107 : 
; 3108 : 		for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  00a01	eb 09		 jmp	 SHORT $LN19@insert_air
$LN17@insert_air:
  00a03	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00a06	83 c0 01	 add	 eax, 1
  00a09	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN19@insert_air:
  00a0c	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00a0f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00a15	0f 8d a7 01 00
	00		 jge	 $LN18@insert_air

; 3109 : 		{
; 3110 : 
; 3111 : 			//
; 3112 : 			// Taxi-ing waypoints
; 3113 : 			//
; 3114 : 
; 3115 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00a1b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a1f	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00a22	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a28	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00a2c	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00a32	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3116 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00a37	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a3b	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00a3e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a44	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00a49	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00a4f	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3117 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00a54	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a58	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00a5b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a61	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00a66	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00a6c	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3118 : 
; 3119 : 			height_offset = 0;

  00a71	0f 57 c0	 xorps	 xmm0, xmm0
  00a74	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0

; 3120 : 
; 3121 : 			for ( offset_index = 0; offset_index < route_waypoint_positions[current_route_waypoint_offset].number_of_positions; offset_index++ )

  00a79	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _offset_index$[ebp], 0
  00a80	eb 09		 jmp	 SHORT $LN22@insert_air
$LN20@insert_air:
  00a82	8b 45 e4	 mov	 eax, DWORD PTR _offset_index$[ebp]
  00a85	83 c0 01	 add	 eax, 1
  00a88	89 45 e4	 mov	 DWORD PTR _offset_index$[ebp], eax
$LN22@insert_air:
  00a8b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a8f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a95	8b 55 e4	 mov	 edx, DWORD PTR _offset_index$[ebp]
  00a98	3b 14 01	 cmp	 edx, DWORD PTR [ecx+eax]
  00a9b	0f 8d 8f 00 00
	00		 jge	 $LN21@insert_air

; 3122 : 			{
; 3123 : 
; 3124 : 				terrain_height = get_3d_terrain_point_data ( waypoint_world_pos.x + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].x,

  00aa1	6a 00		 push	 0
  00aa3	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00aa7	6b 4d e4 0c	 imul	 ecx, DWORD PTR _offset_index$[ebp], 12
  00aab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ab1	8b 44 02 10	 mov	 eax, DWORD PTR [edx+eax+16]
  00ab5	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  00aba	f3 0f 58 44 08
	08		 addss	 xmm0, DWORD PTR [eax+ecx+8]
  00ac0	51		 push	 ecx
  00ac1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00ac6	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00aca	6b 55 e4 0c	 imul	 edx, DWORD PTR _offset_index$[ebp], 12
  00ace	a1 00 00 00 00	 mov	 eax, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ad3	8b 4c 08 10	 mov	 ecx, DWORD PTR [eax+ecx+16]
  00ad7	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  00adc	f3 0f 58 04 11	 addss	 xmm0, DWORD PTR [ecx+edx]
  00ae1	51		 push	 ecx
  00ae2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00ae7	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00aec	d9 5d c4	 fstp	 DWORD PTR _terrain_height$[ebp]

; 3125 : 																			waypoint_world_pos.z + route_waypoint_positions[current_route_waypoint_offset].offsets[offset_index].z, NULL );
; 3126 : 
; 3127 : 				if ( terrain_height > position->y )

  00aef	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  00af2	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  00af7	0f 2f 40 04	 comiss	 xmm0, DWORD PTR [eax+4]
  00afb	76 2e		 jbe	 SHORT $LN41@insert_air

; 3128 : 				{
; 3129 : 
; 3130 : 					height_offset = max ( height_offset, ( terrain_height - position->y ) );

  00afd	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  00b00	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _terrain_height$[ebp]
  00b05	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  00b0a	f3 0f 11 85 50
	ff ff ff	 movss	 DWORD PTR $T1[ebp], xmm0
  00b12	8d 8d 50 ff ff
	ff		 lea	 ecx, DWORD PTR $T1[ebp]
  00b18	51		 push	 ecx
  00b19	8d 55 c0	 lea	 edx, DWORD PTR _height_offset$[ebp]
  00b1c	52		 push	 edx
  00b1d	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  00b22	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00b26	f3 0f 11 45 c0	 movss	 DWORD PTR _height_offset$[ebp], xmm0
$LN41@insert_air:

; 3131 : 				}
; 3132 : 			}

  00b2b	e9 52 ff ff ff	 jmp	 $LN20@insert_air
$LN21@insert_air:

; 3133 : 
; 3134 : 			waypoint_world_pos.y += height_offset;

  00b30	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  00b35	f3 0f 58 45 c0	 addss	 xmm0, DWORD PTR _height_offset$[ebp]
  00b3a	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3135 : 
; 3136 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00b3f	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b43	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b49	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00b4d	52		 push	 edx
  00b4e	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b52	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b58	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00b5b	52		 push	 edx
  00b5c	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00b61	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3137 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3138 : 
; 3139 : 			if ( current_route_waypoint_offset == ( number_of_route_waypoint_positions - 2 ) )

  00b64	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00b69	83 e8 02	 sub	 eax, 2
  00b6c	39 45 fc	 cmp	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
  00b6f	75 27		 jne	 SHORT $LN42@insert_air

; 3140 : 			{
; 3141 : 
; 3142 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_RAISE_UNDERCARRIAGE, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00b71	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b75	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b7b	51		 push	 ecx
  00b7c	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00b82	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b87	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00b8a	52		 push	 edx
  00b8b	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00b8e	50		 push	 eax
  00b8f	6a 14		 push	 20			; 00000014H
  00b91	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3143 : 			}
; 3144 : 			else

  00b96	eb 25		 jmp	 SHORT $LN43@insert_air
$LN42@insert_air:

; 3145 : 			{
; 3146 : 
; 3147 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TAXI, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00b98	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b9c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ba2	51		 push	 ecx
  00ba3	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00ba9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bae	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00bb1	52		 push	 edx
  00bb2	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00bb5	50		 push	 eax
  00bb6	6a 1c		 push	 28			; 0000001cH
  00bb8	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint
$LN43@insert_air:

; 3148 : 			}
; 3149 : 		}

  00bbd	e9 41 fe ff ff	 jmp	 $LN17@insert_air
$LN18@insert_air:

; 3150 : 	}
; 3151 : 
; 3152 : 	destroy_routegen_waypoint_routes ();

  00bc2	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 3153 : 
; 3154 : 	//
; 3155 : 	// Insert the holding loops for helicopter takeoff & landing.
; 3156 : 	//
; 3157 : 
; 3158 : 	if ( ( landing_holding_route ) && ( takeoff_holding_route ) )

  00bc7	83 7d 14 00	 cmp	 DWORD PTR _landing_holding_route$[ebp], 0
  00bcb	0f 84 72 07 00
	00		 je	 $LN44@insert_air
  00bd1	83 7d 18 00	 cmp	 DWORD PTR _takeoff_holding_route$[ebp], 0
  00bd5	0f 84 68 07 00
	00		 je	 $LN44@insert_air

; 3159 : 	{
; 3160 : 
; 3161 : 		double
; 3162 : 			average_x,
; 3163 : 			average_y,
; 3164 : 			average_z;
; 3165 : 
; 3166 : 		//
; 3167 : 		// Insert the landing holding routes
; 3168 : 		//
; 3169 : 
; 3170 : 		raw_object_index = landing_holding_route->index;

  00bdb	8b 45 14	 mov	 eax, DWORD PTR _landing_holding_route$[ebp]
  00bde	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00be1	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 3171 : 
; 3172 : 		parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00be4	6a 00		 push	 0
  00be6	6a 00		 push	 0
  00be8	8b 45 f8	 mov	 eax, DWORD PTR _raw_object_index$[ebp]
  00beb	50		 push	 eax
  00bec	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 3173 : 
; 3174 : 		set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_LANDING_HOLDING ) );

  00bf1	6a 0e		 push	 14			; 0000000eH
  00bf3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  00bf8	50		 push	 eax
  00bf9	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  00bfe	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 3175 : 
; 3176 : 		{
; 3177 : 
; 3178 : 			//
; 3179 : 			// Figure out the average position so we can expand the holding patterns
; 3180 : 			//
; 3181 : 
; 3182 : 			current_route_waypoint_offset = 0;

  00c03	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3183 : 
; 3184 : 			average_x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00c0a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c0e	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00c11	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c17	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00c1b	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00c21	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00c25	f2 0f 11 45 b4	 movsd	 QWORD PTR _average_x$8[ebp], xmm0

; 3185 : 			average_y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00c2a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c2e	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00c31	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c37	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00c3c	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00c42	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00c46	f2 0f 11 45 ac	 movsd	 QWORD PTR _average_y$7[ebp], xmm0

; 3186 : 			average_z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00c4b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c4f	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00c52	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c58	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00c5d	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00c63	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00c67	f2 0f 11 45 a4	 movsd	 QWORD PTR _average_z$6[ebp], xmm0

; 3187 : 
; 3188 : 			current_route_waypoint_offset++;

  00c6c	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00c6f	83 c0 01	 add	 eax, 1
  00c72	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3189 : 
; 3190 : 			for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  00c75	eb 09		 jmp	 SHORT $LN25@insert_air
$LN23@insert_air:
  00c77	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00c7a	83 c0 01	 add	 eax, 1
  00c7d	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN25@insert_air:
  00c80	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00c83	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00c89	7d 76		 jge	 SHORT $LN24@insert_air

; 3191 : 			{
; 3192 : 
; 3193 : 				average_x += position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00c8b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c8f	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00c92	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c98	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00c9c	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00ca2	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00ca6	f2 0f 58 45 b4	 addsd	 xmm0, QWORD PTR _average_x$8[ebp]
  00cab	f2 0f 11 45 b4	 movsd	 QWORD PTR _average_x$8[ebp], xmm0

; 3194 : 				average_y += position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00cb0	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00cb4	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00cb7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00cbd	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00cc2	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00cc8	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00ccc	f2 0f 58 45 ac	 addsd	 xmm0, QWORD PTR _average_y$7[ebp]
  00cd1	f2 0f 11 45 ac	 movsd	 QWORD PTR _average_y$7[ebp], xmm0

; 3195 : 				average_z += position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00cd6	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00cda	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00cdd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ce3	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00ce8	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00cee	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00cf2	f2 0f 58 45 a4	 addsd	 xmm0, QWORD PTR _average_z$6[ebp]
  00cf7	f2 0f 11 45 a4	 movsd	 QWORD PTR _average_z$6[ebp], xmm0

; 3196 : 			}

  00cfc	e9 76 ff ff ff	 jmp	 $LN23@insert_air
$LN24@insert_air:

; 3197 : 
; 3198 : 			average_x /= number_of_route_waypoint_positions;

  00d01	f2 0f 2a 05 00
	00 00 00	 cvtsi2sd xmm0, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00d09	f2 0f 10 4d b4	 movsd	 xmm1, QWORD PTR _average_x$8[ebp]
  00d0e	f2 0f 5e c8	 divsd	 xmm1, xmm0
  00d12	f2 0f 11 4d b4	 movsd	 QWORD PTR _average_x$8[ebp], xmm1

; 3199 : 			average_y /= number_of_route_waypoint_positions;

  00d17	f2 0f 2a 05 00
	00 00 00	 cvtsi2sd xmm0, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00d1f	f2 0f 10 4d ac	 movsd	 xmm1, QWORD PTR _average_y$7[ebp]
  00d24	f2 0f 5e c8	 divsd	 xmm1, xmm0
  00d28	f2 0f 11 4d ac	 movsd	 QWORD PTR _average_y$7[ebp], xmm1

; 3200 : 			average_z /= number_of_route_waypoint_positions;

  00d2d	f2 0f 2a 05 00
	00 00 00	 cvtsi2sd xmm0, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00d35	f2 0f 10 4d a4	 movsd	 xmm1, QWORD PTR _average_z$6[ebp]
  00d3a	f2 0f 5e c8	 divsd	 xmm1, xmm0
  00d3e	f2 0f 11 4d a4	 movsd	 QWORD PTR _average_z$6[ebp], xmm1

; 3201 : 
; 3202 : 			//
; 3203 : 			// Loop waypoint
; 3204 : 			//
; 3205 : 
; 3206 : 			current_route_waypoint_offset = 0;

  00d43	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3207 : 
; 3208 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00d4a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00d4e	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00d51	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00d57	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00d5b	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00d61	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3209 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00d66	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00d6a	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00d6d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00d73	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00d78	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00d7e	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3210 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00d83	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00d87	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00d8a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00d90	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00d95	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00d9b	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3211 : 
; 3212 : 			waypoint_world_pos.x += ( waypoint_world_pos.x - average_x ) * 3;

  00da0	f3 0f 5a 45 d8	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  00da5	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR _average_x$8[ebp]
  00daa	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  00db2	f3 0f 5a 4d d8	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp]
  00db7	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00dbb	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  00dbf	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3213 : 			waypoint_world_pos.y += ( waypoint_world_pos.y - average_y ) * 3;

  00dc4	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  00dc9	f2 0f 5c 45 ac	 subsd	 xmm0, QWORD PTR _average_y$7[ebp]
  00dce	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  00dd6	f3 0f 5a 4d dc	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+4]
  00ddb	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00ddf	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  00de3	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3214 : 			waypoint_world_pos.z += ( waypoint_world_pos.z - average_z ) * 3;

  00de8	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  00ded	f2 0f 5c 45 a4	 subsd	 xmm0, QWORD PTR _average_z$6[ebp]
  00df2	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  00dfa	f3 0f 5a 4d e0	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+8]
  00dff	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00e03	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  00e07	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3215 : 
; 3216 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00e0c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00e10	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00e16	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00e1a	52		 push	 edx
  00e1b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00e1f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00e25	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00e28	52		 push	 edx
  00e29	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00e2e	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3217 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3218 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING_LOOP, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00e31	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00e35	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00e3b	51		 push	 ecx
  00e3c	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00e42	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00e47	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00e4a	52		 push	 edx
  00e4b	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00e4e	50		 push	 eax
  00e4f	6a 0b		 push	 11			; 0000000bH
  00e51	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3219 : 			current_route_waypoint_offset++;

  00e56	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00e59	83 c0 01	 add	 eax, 1
  00e5c	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3220 : 
; 3221 : 			for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  00e5f	eb 09		 jmp	 SHORT $LN28@insert_air
$LN26@insert_air:
  00e61	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00e64	83 c0 01	 add	 eax, 1
  00e67	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN28@insert_air:
  00e6a	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00e6d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00e73	0f 8d 11 01 00
	00		 jge	 $LN27@insert_air

; 3222 : 			{
; 3223 : 
; 3224 : 				//
; 3225 : 				// Navigation waypoints
; 3226 : 				//
; 3227 : 
; 3228 : 				waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00e79	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00e7d	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00e80	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00e86	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00e8a	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00e90	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3229 : 				waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00e95	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00e99	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00e9c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ea2	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00ea7	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00ead	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3230 : 				waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00eb2	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00eb6	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00eb9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ebf	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00ec4	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00eca	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3231 : 
; 3232 : 				waypoint_world_pos.x += ( waypoint_world_pos.x - average_x ) * 3;

  00ecf	f3 0f 5a 45 d8	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  00ed4	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR _average_x$8[ebp]
  00ed9	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  00ee1	f3 0f 5a 4d d8	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp]
  00ee6	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00eea	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  00eee	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3233 : 				waypoint_world_pos.y += ( waypoint_world_pos.y - average_y ) * 3;

  00ef3	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  00ef8	f2 0f 5c 45 ac	 subsd	 xmm0, QWORD PTR _average_y$7[ebp]
  00efd	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  00f05	f3 0f 5a 4d dc	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+4]
  00f0a	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00f0e	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  00f12	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3234 : 				waypoint_world_pos.z += ( waypoint_world_pos.z - average_z ) * 3;

  00f17	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  00f1c	f2 0f 5c 45 a4	 subsd	 xmm0, QWORD PTR _average_z$6[ebp]
  00f21	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  00f29	f3 0f 5a 4d e0	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+8]
  00f2e	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00f32	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  00f36	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3235 : 
; 3236 : 				formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00f3b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00f3f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00f45	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00f49	52		 push	 edx
  00f4a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00f4e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00f54	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00f57	52		 push	 edx
  00f58	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00f5d	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3237 : 																				route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3238 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00f60	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00f64	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00f6a	51		 push	 ecx
  00f6b	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00f71	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00f76	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00f79	52		 push	 edx
  00f7a	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00f7d	50		 push	 eax
  00f7e	6a 0a		 push	 10			; 0000000aH
  00f80	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3239 : 			}

  00f85	e9 d7 fe ff ff	 jmp	 $LN26@insert_air
$LN27@insert_air:

; 3240 : 		}
; 3241 : 
; 3242 : 		destroy_routegen_waypoint_routes ();

  00f8a	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 3243 : 
; 3244 : 		//
; 3245 : 		// Insert the takeoff holding routes
; 3246 : 		//
; 3247 : 
; 3248 : 		raw_object_index = takeoff_holding_route->index;

  00f8f	8b 45 18	 mov	 eax, DWORD PTR _takeoff_holding_route$[ebp]
  00f92	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00f95	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 3249 : 
; 3250 : 		parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00f98	6a 00		 push	 0
  00f9a	6a 00		 push	 0
  00f9c	8b 45 f8	 mov	 eax, DWORD PTR _raw_object_index$[ebp]
  00f9f	50		 push	 eax
  00fa0	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 3251 : 
; 3252 : 		set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_TAKEOFF_HOLDING ) );

  00fa5	6a 17		 push	 23			; 00000017H
  00fa7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  00fac	50		 push	 eax
  00fad	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  00fb2	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 3253 : 
; 3254 : 		{
; 3255 : 
; 3256 : 			//
; 3257 : 			// Figure out the average position so we can expand the holding patterns
; 3258 : 			//
; 3259 : 
; 3260 : 			current_route_waypoint_offset = 0;

  00fb7	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3261 : 
; 3262 : 			average_x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00fbe	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00fc2	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00fc5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00fcb	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00fcf	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00fd5	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00fd9	f2 0f 11 45 b4	 movsd	 QWORD PTR _average_x$8[ebp], xmm0

; 3263 : 			average_y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00fde	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00fe2	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  00fe5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00feb	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00ff0	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00ff6	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00ffa	f2 0f 11 45 ac	 movsd	 QWORD PTR _average_y$7[ebp], xmm0

; 3264 : 			average_z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00fff	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  01003	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  01006	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0100c	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  01011	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  01017	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0101b	f2 0f 11 45 a4	 movsd	 QWORD PTR _average_z$6[ebp], xmm0

; 3265 : 
; 3266 : 			current_route_waypoint_offset++;

  01020	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  01023	83 c0 01	 add	 eax, 1
  01026	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3267 : 
; 3268 : 			for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  01029	eb 09		 jmp	 SHORT $LN31@insert_air
$LN29@insert_air:
  0102b	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  0102e	83 c0 01	 add	 eax, 1
  01031	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN31@insert_air:
  01034	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  01037	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  0103d	7d 76		 jge	 SHORT $LN30@insert_air

; 3269 : 			{
; 3270 : 
; 3271 : 				average_x += position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  0103f	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  01043	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  01046	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0104c	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  01050	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  01056	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0105a	f2 0f 58 45 b4	 addsd	 xmm0, QWORD PTR _average_x$8[ebp]
  0105f	f2 0f 11 45 b4	 movsd	 QWORD PTR _average_x$8[ebp], xmm0

; 3272 : 				average_y += position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  01064	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  01068	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  0106b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  01071	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  01076	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  0107c	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  01080	f2 0f 58 45 ac	 addsd	 xmm0, QWORD PTR _average_y$7[ebp]
  01085	f2 0f 11 45 ac	 movsd	 QWORD PTR _average_y$7[ebp], xmm0

; 3273 : 				average_z += position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  0108a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0108e	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  01091	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  01097	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  0109c	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  010a2	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  010a6	f2 0f 58 45 a4	 addsd	 xmm0, QWORD PTR _average_z$6[ebp]
  010ab	f2 0f 11 45 a4	 movsd	 QWORD PTR _average_z$6[ebp], xmm0

; 3274 : 			}

  010b0	e9 76 ff ff ff	 jmp	 $LN29@insert_air
$LN30@insert_air:

; 3275 : 
; 3276 : 			average_x /= number_of_route_waypoint_positions;

  010b5	f2 0f 2a 05 00
	00 00 00	 cvtsi2sd xmm0, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  010bd	f2 0f 10 4d b4	 movsd	 xmm1, QWORD PTR _average_x$8[ebp]
  010c2	f2 0f 5e c8	 divsd	 xmm1, xmm0
  010c6	f2 0f 11 4d b4	 movsd	 QWORD PTR _average_x$8[ebp], xmm1

; 3277 : 			average_y /= number_of_route_waypoint_positions;

  010cb	f2 0f 2a 05 00
	00 00 00	 cvtsi2sd xmm0, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  010d3	f2 0f 10 4d ac	 movsd	 xmm1, QWORD PTR _average_y$7[ebp]
  010d8	f2 0f 5e c8	 divsd	 xmm1, xmm0
  010dc	f2 0f 11 4d ac	 movsd	 QWORD PTR _average_y$7[ebp], xmm1

; 3278 : 			average_z /= number_of_route_waypoint_positions;

  010e1	f2 0f 2a 05 00
	00 00 00	 cvtsi2sd xmm0, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  010e9	f2 0f 10 4d a4	 movsd	 xmm1, QWORD PTR _average_z$6[ebp]
  010ee	f2 0f 5e c8	 divsd	 xmm1, xmm0
  010f2	f2 0f 11 4d a4	 movsd	 QWORD PTR _average_z$6[ebp], xmm1

; 3279 : 
; 3280 : 			//
; 3281 : 			// Loop waypoint
; 3282 : 			//
; 3283 : 
; 3284 : 			current_route_waypoint_offset = 0;

  010f7	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 3285 : 
; 3286 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  010fe	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  01102	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  01105	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0110b	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0110f	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  01115	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3287 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  0111a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0111e	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  01121	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  01127	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  0112c	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  01132	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3288 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  01137	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0113b	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  0113e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  01144	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  01149	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  0114f	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3289 : 
; 3290 : 			waypoint_world_pos.x += ( waypoint_world_pos.x - average_x ) * 3;

  01154	f3 0f 5a 45 d8	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  01159	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR _average_x$8[ebp]
  0115e	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  01166	f3 0f 5a 4d d8	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp]
  0116b	f2 0f 58 c8	 addsd	 xmm1, xmm0
  0116f	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  01173	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3291 : 			waypoint_world_pos.y += ( waypoint_world_pos.y - average_y ) * 3;

  01178	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  0117d	f2 0f 5c 45 ac	 subsd	 xmm0, QWORD PTR _average_y$7[ebp]
  01182	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  0118a	f3 0f 5a 4d dc	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+4]
  0118f	f2 0f 58 c8	 addsd	 xmm1, xmm0
  01193	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  01197	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3292 : 			waypoint_world_pos.z += ( waypoint_world_pos.z - average_z ) * 3;

  0119c	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  011a1	f2 0f 5c 45 a4	 subsd	 xmm0, QWORD PTR _average_z$6[ebp]
  011a6	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  011ae	f3 0f 5a 4d e0	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+8]
  011b3	f2 0f 58 c8	 addsd	 xmm1, xmm0
  011b7	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  011bb	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3293 : 
; 3294 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  011c0	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  011c4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  011ca	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  011ce	52		 push	 edx
  011cf	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  011d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  011d9	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  011dc	52		 push	 edx
  011dd	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  011e2	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3295 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3296 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING_LOOP, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  011e5	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  011e9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  011ef	51		 push	 ecx
  011f0	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  011f6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  011fb	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  011fe	52		 push	 edx
  011ff	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  01202	50		 push	 eax
  01203	6a 0b		 push	 11			; 0000000bH
  01205	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3297 : 			current_route_waypoint_offset++;

  0120a	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  0120d	83 c0 01	 add	 eax, 1
  01210	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 3298 : 
; 3299 : 			for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  01213	eb 09		 jmp	 SHORT $LN34@insert_air
$LN32@insert_air:
  01215	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  01218	83 c0 01	 add	 eax, 1
  0121b	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN34@insert_air:
  0121e	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  01221	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  01227	0f 8d 11 01 00
	00		 jge	 $LN33@insert_air

; 3300 : 			{
; 3301 : 
; 3302 : 				//
; 3303 : 				// Navigation waypoints
; 3304 : 				//
; 3305 : 
; 3306 : 				waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  0122d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  01231	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  01234	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0123a	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0123e	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  01244	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3307 : 				waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  01249	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0124d	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  01250	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  01256	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  0125b	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  01261	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3308 : 				waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  01266	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0126a	8b 4d 08	 mov	 ecx, DWORD PTR _position$[ebp]
  0126d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  01273	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  01278	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  0127e	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3309 : 
; 3310 : 				waypoint_world_pos.x += ( waypoint_world_pos.x - average_x ) * 3;

  01283	f3 0f 5a 45 d8	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp]
  01288	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR _average_x$8[ebp]
  0128d	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  01295	f3 0f 5a 4d d8	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp]
  0129a	f2 0f 58 c8	 addsd	 xmm1, xmm0
  0129e	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  012a2	f3 0f 11 45 d8	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 3311 : 				waypoint_world_pos.y += ( waypoint_world_pos.y - average_y ) * 3;

  012a7	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+4]
  012ac	f2 0f 5c 45 ac	 subsd	 xmm0, QWORD PTR _average_y$7[ebp]
  012b1	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  012b9	f3 0f 5a 4d dc	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+4]
  012be	f2 0f 58 c8	 addsd	 xmm1, xmm0
  012c2	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  012c6	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 3312 : 				waypoint_world_pos.z += ( waypoint_world_pos.z - average_z ) * 3;

  012cb	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _waypoint_world_pos$[ebp+8]
  012d0	f2 0f 5c 45 a4	 subsd	 xmm0, QWORD PTR _average_z$6[ebp]
  012d5	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4008000000000000
  012dd	f3 0f 5a 4d e0	 cvtss2sd xmm1, DWORD PTR _waypoint_world_pos$[ebp+8]
  012e2	f2 0f 58 c8	 addsd	 xmm1, xmm0
  012e6	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  012ea	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 3313 : 
; 3314 : 				formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  012ef	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  012f3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  012f9	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  012fd	52		 push	 edx
  012fe	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  01302	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  01308	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0130b	52		 push	 edx
  0130c	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  01311	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 3315 : 																				route_waypoint_positions[current_route_waypoint_offset].offsets );
; 3316 : 				create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_HOLDING, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  01314	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  01318	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0131e	51		 push	 ecx
  0131f	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  01325	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0132a	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  0132d	52		 push	 edx
  0132e	8d 45 d8	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  01331	50		 push	 eax
  01332	6a 0a		 push	 10			; 0000000aH
  01334	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 3317 : 			}

  01339	e9 d7 fe ff ff	 jmp	 $LN32@insert_air
$LN33@insert_air:

; 3318 : 		}
; 3319 : 
; 3320 : 		destroy_routegen_waypoint_routes ();

  0133e	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes
$LN44@insert_air:

; 3321 : 	}
; 3322 : }

  01343	5f		 pop	 edi
  01344	5e		 pop	 esi
  01345	5b		 pop	 ebx
  01346	8b e5		 mov	 esp, ebp
  01348	5d		 pop	 ebp
  01349	c2 14 00	 ret	 20			; 00000014H
?insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z ENDP ; insert_airport_helicopter_routes
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z
_TEXT	SEGMENT
tv329 = -128						; size = 4
tv283 = -128						; size = 4
tv261 = -128						; size = 4
tv234 = -128						; size = 4
tv214 = -128						; size = 4
tv164 = -128						; size = 4
tv321 = -124						; size = 4
tv275 = -124						; size = 4
tv253 = -124						; size = 4
tv226 = -124						; size = 4
tv206 = -124						; size = 4
tv156 = -124						; size = 4
_landing_types$1 = -56					; size = 4
_inhangar_flags$ = -52					; size = 4
_landing$ = -48						; size = 4
_keysite_pos$ = -44					; size = 4
_matching_slots$ = -40					; size = 4
_waypoint_world_pos$ = -36				; size = 12
_formation_index$ = -24					; size = 4
_slot_count$ = -20					; size = 4
_total_landing_sites$ = -16				; size = 4
_number_of_matching_slots$ = -12			; size = 4
_raw_object_index$ = -8					; size = 4
_current_route_waypoint_offset$ = -4			; size = 4
_entity_subtype$ = 8					; size = 4
_position$ = 12						; size = 4
_landing_route$ = 16					; size = 4
_takeoff_route$ = 20					; size = 4
?insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z PROC ; insert_airport_fixedwing_routes, COMDAT

; 2616 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 2617 : 
; 2618 : 	int
; 2619 : 		current_route_waypoint_offset,
; 2620 : 		raw_object_index,
; 2621 : 		number_of_matching_slots,
; 2622 : 		total_landing_sites,
; 2623 : 		slot_count,
; 2624 : 		formation_index;
; 2625 : 
; 2626 : 	vec3d
; 2627 : 		waypoint_world_pos,
; 2628 : 		*matching_slots,
; 2629 : 		*keysite_pos;
; 2630 : 
; 2631 : 	entity
; 2632 : 		*landing;
; 2633 : 
; 2634 : 	unsigned int
; 2635 : 		inhangar_flags;
; 2636 : 
; 2637 : 	//
; 2638 : 	// Insert the landing routes
; 2639 : 	//
; 2640 : 
; 2641 : 	raw_object_index = landing_route->index;

  0000c	8b 45 10	 mov	 eax, DWORD PTR _landing_route$[ebp]
  0000f	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00012	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 2642 : 
; 2643 : 	parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00015	6a 00		 push	 0
  00017	6a 00		 push	 0
  00019	8b 45 f8	 mov	 eax, DWORD PTR _raw_object_index$[ebp]
  0001c	50		 push	 eax
  0001d	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2644 : 
; 2645 : 	current_route_waypoint_offset = number_of_route_waypoint_positions - 1;

  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00027	83 e8 01	 sub	 eax, 1
  0002a	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2646 : 
; 2647 : 	total_landing_sites = route_waypoint_positions[current_route_waypoint_offset].number_of_positions;

  0002d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00031	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00037	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0003a	89 55 f0	 mov	 DWORD PTR _total_landing_sites$[ebp], edx

; 2648 : 
; 2649 : 	number_of_matching_slots = total_landing_sites;

  0003d	8b 45 f0	 mov	 eax, DWORD PTR _total_landing_sites$[ebp]
  00040	89 45 f4	 mov	 DWORD PTR _number_of_matching_slots$[ebp], eax

; 2650 : 
; 2651 : 	matching_slots = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_matching_slots );

  00043	6b 45 f4 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$[ebp], 12
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  0004d	89 45 d8	 mov	 DWORD PTR _matching_slots$[ebp], eax

; 2652 : 
; 2653 : 	memcpy ( matching_slots, route_waypoint_positions[current_route_waypoint_offset].offsets, ( sizeof ( vec3d ) * number_of_matching_slots ) );

  00050	6b 45 f4 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$[ebp], 12
  00054	50		 push	 eax
  00055	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00059	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0005f	8b 44 0a 10	 mov	 eax, DWORD PTR [edx+ecx+16]
  00063	50		 push	 eax
  00064	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  00067	51		 push	 ecx
  00068	e8 00 00 00 00	 call	 _memcpy
  0006d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2654 : 
; 2655 : 	for ( slot_count = 0; slot_count < number_of_matching_slots; slot_count++ )

  00070	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _slot_count$[ebp], 0
  00077	eb 09		 jmp	 SHORT $LN4@insert_air
$LN2@insert_air:
  00079	8b 45 ec	 mov	 eax, DWORD PTR _slot_count$[ebp]
  0007c	83 c0 01	 add	 eax, 1
  0007f	89 45 ec	 mov	 DWORD PTR _slot_count$[ebp], eax
$LN4@insert_air:
  00082	8b 45 ec	 mov	 eax, DWORD PTR _slot_count$[ebp]
  00085	3b 45 f4	 cmp	 eax, DWORD PTR _number_of_matching_slots$[ebp]
  00088	0f 8d 81 00 00
	00		 jge	 $LN3@insert_air

; 2656 : 	{
; 2657 : 
; 2658 : 		matching_slots[slot_count].x += route_waypoint_positions[current_route_waypoint_offset].position.x;

  0008e	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  00092	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00096	8b 55 d8	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  00099	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0009f	f3 0f 10 04 02	 movss	 xmm0, DWORD PTR [edx+eax]
  000a4	f3 0f 58 44 0e
	04		 addss	 xmm0, DWORD PTR [esi+ecx+4]
  000aa	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000ae	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  000b1	f3 0f 11 04 01	 movss	 DWORD PTR [ecx+eax], xmm0

; 2659 : 		matching_slots[slot_count].y += route_waypoint_positions[current_route_waypoint_offset].position.y;

  000b6	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000ba	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000be	8b 55 d8	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  000c1	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000c7	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  000cd	f3 0f 58 44 0e
	08		 addss	 xmm0, DWORD PTR [esi+ecx+8]
  000d3	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000d7	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  000da	f3 0f 11 44 01
	04		 movss	 DWORD PTR [ecx+eax+4], xmm0

; 2660 : 		matching_slots[slot_count].z += route_waypoint_positions[current_route_waypoint_offset].position.z;

  000e0	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  000e4	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  000e8	8b 55 d8	 mov	 edx, DWORD PTR _matching_slots$[ebp]
  000eb	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000f1	f3 0f 10 44 02
	08		 movss	 xmm0, DWORD PTR [edx+eax+8]
  000f7	f3 0f 58 44 0e
	0c		 addss	 xmm0, DWORD PTR [esi+ecx+12]
  000fd	6b 45 ec 0c	 imul	 eax, DWORD PTR _slot_count$[ebp], 12
  00101	8b 4d d8	 mov	 ecx, DWORD PTR _matching_slots$[ebp]
  00104	f3 0f 11 44 01
	08		 movss	 DWORD PTR [ecx+eax+8], xmm0

; 2661 : 	}

  0010a	e9 6a ff ff ff	 jmp	 $LN2@insert_air
$LN3@insert_air:

; 2662 : 
; 2663 : 	keysite_pos = get_local_entity_vec3d_ptr ( get_parser_keysite (), VEC3D_TYPE_POSITION );

  0010f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00116	74 0c		 je	 SHORT $LN14@insert_air
  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0011d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0011f	89 4d 84	 mov	 DWORD PTR tv156[ebp], ecx
  00122	eb 21		 jmp	 SHORT $LN15@insert_air
$LN14@insert_air:
  00124	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0012a	83 c2 2f	 add	 edx, 47			; 0000002fH
  0012d	52		 push	 edx
  0012e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00133	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00138	50		 push	 eax
  00139	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0013e	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv156[ebp], 0
$LN15@insert_air:
  00145	b9 01 00 00 00	 mov	 ecx, 1
  0014a	85 c9		 test	 ecx, ecx
  0014c	74 09		 je	 SHORT $LN16@insert_air
  0014e	c7 45 80 08 00
	00 00		 mov	 DWORD PTR tv164[ebp], 8
  00155	eb 21		 jmp	 SHORT $LN17@insert_air
$LN16@insert_air:
  00157	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0015d	83 c2 2f	 add	 edx, 47			; 0000002fH
  00160	52		 push	 edx
  00161	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00166	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0016b	50		 push	 eax
  0016c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00171	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv164[ebp], 0
$LN17@insert_air:
  00178	6a 08		 push	 8
  0017a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00180	51		 push	 ecx
  00181	6b 55 84 60	 imul	 edx, DWORD PTR tv156[ebp], 96
  00185	8b 45 80	 mov	 eax, DWORD PTR tv164[ebp]
  00188	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0018f	ff d1		 call	 ecx
  00191	89 45 d4	 mov	 DWORD PTR _keysite_pos$[ebp], eax

; 2664 : 
; 2665 : 	landing =	create_local_entity

  00194	6a 00		 push	 0
  00196	8b 45 f0	 mov	 eax, DWORD PTR _total_landing_sites$[ebp]
  00199	50		 push	 eax
  0019a	68 eb 00 00 00	 push	 235			; 000000ebH
  0019f	6a 05		 push	 5
  001a1	8b 4d 08	 mov	 ecx, DWORD PTR _entity_subtype$[ebp]
  001a4	51		 push	 ecx
  001a5	6a 34		 push	 52			; 00000034H
  001a7	6a 05		 push	 5
  001a9	8b 55 d4	 mov	 edx, DWORD PTR _keysite_pos$[ebp]
  001ac	f3 0f 10 42 08	 movss	 xmm0, DWORD PTR [edx+8]
  001b1	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001b5	83 ec 08	 sub	 esp, 8
  001b8	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001bd	8b 45 d4	 mov	 eax, DWORD PTR _keysite_pos$[ebp]
  001c0	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  001c5	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001c9	83 ec 08	 sub	 esp, 8
  001cc	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001d1	8b 4d d4	 mov	 ecx, DWORD PTR _keysite_pos$[ebp]
  001d4	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  001d8	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001dc	83 ec 08	 sub	 esp, 8
  001df	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001e4	6a 08		 push	 8
  001e6	6a 09		 push	 9
  001e8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  001ee	52		 push	 edx
  001ef	6a 17		 push	 23			; 00000017H
  001f1	6a 06		 push	 6
  001f3	6a ff		 push	 -1
  001f5	6a 10		 push	 16			; 00000010H
  001f7	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  001fc	83 c4 50	 add	 esp, 80			; 00000050H
  001ff	89 45 d0	 mov	 DWORD PTR _landing$[ebp], eax

; 2666 : 					(
; 2667 : 						ENTITY_TYPE_LANDING,
; 2668 : 						ENTITY_INDEX_DONT_CARE,
; 2669 : 						ENTITY_ATTR_PARENT ( LIST_TYPE_LANDING_SITE, get_parser_keysite () ),
; 2670 : 						ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, keysite_pos->x, keysite_pos->y, keysite_pos->z ),
; 2671 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, entity_subtype ),
; 2672 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_TOTAL_LANDING_SITES, total_landing_sites ),
; 2673 : 						ENTITY_ATTR_END
; 2674 : 					);
; 2675 : 
; 2676 : 	// update keysites landing types
; 2677 : 	{
; 2678 : 
; 2679 : 		unsigned int
; 2680 : 			landing_types;
; 2681 : 
; 2682 : 		landing_types = get_local_entity_int_value (get_parser_keysite (), INT_TYPE_LANDING_TYPES);

  00202	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  00209	74 0c		 je	 SHORT $LN18@insert_air
  0020b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00210	8b 08		 mov	 ecx, DWORD PTR [eax]
  00212	89 4d 84	 mov	 DWORD PTR tv206[ebp], ecx
  00215	eb 21		 jmp	 SHORT $LN19@insert_air
$LN18@insert_air:
  00217	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0021d	83 c2 42	 add	 edx, 66			; 00000042H
  00220	52		 push	 edx
  00221	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00226	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0022b	50		 push	 eax
  0022c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00231	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv206[ebp], 0
$LN19@insert_air:
  00238	b9 01 00 00 00	 mov	 ecx, 1
  0023d	85 c9		 test	 ecx, ecx
  0023f	74 09		 je	 SHORT $LN20@insert_air
  00241	c7 45 80 77 00
	00 00		 mov	 DWORD PTR tv214[ebp], 119 ; 00000077H
  00248	eb 21		 jmp	 SHORT $LN21@insert_air
$LN20@insert_air:
  0024a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00250	83 c2 42	 add	 edx, 66			; 00000042H
  00253	52		 push	 edx
  00254	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00259	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0025e	50		 push	 eax
  0025f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00264	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv214[ebp], 0
$LN21@insert_air:
  0026b	6a 77		 push	 119			; 00000077H
  0026d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  00273	51		 push	 ecx
  00274	69 55 84 5c 04
	00 00		 imul	 edx, DWORD PTR tv206[ebp], 1116
  0027b	8b 45 80	 mov	 eax, DWORD PTR tv214[ebp]
  0027e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00285	ff d1		 call	 ecx
  00287	89 45 c8	 mov	 DWORD PTR _landing_types$1[ebp], eax

; 2683 : 
; 2684 : 		ASSERT (!(landing_types & 1 << get_local_entity_int_value (landing, INT_TYPE_ENTITY_SUB_TYPE)));

  0028a	83 7d d0 00	 cmp	 DWORD PTR _landing$[ebp], 0
  0028e	74 0a		 je	 SHORT $LN22@insert_air
  00290	8b 45 d0	 mov	 eax, DWORD PTR _landing$[ebp]
  00293	8b 08		 mov	 ecx, DWORD PTR [eax]
  00295	89 4d 84	 mov	 DWORD PTR tv226[ebp], ecx
  00298	eb 21		 jmp	 SHORT $LN23@insert_air
$LN22@insert_air:
  0029a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  002a0	83 c2 44	 add	 edx, 68			; 00000044H
  002a3	52		 push	 edx
  002a4	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002ae	50		 push	 eax
  002af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b4	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv226[ebp], 0
$LN23@insert_air:
  002bb	b9 01 00 00 00	 mov	 ecx, 1
  002c0	85 c9		 test	 ecx, ecx
  002c2	74 09		 je	 SHORT $LN24@insert_air
  002c4	c7 45 80 34 00
	00 00		 mov	 DWORD PTR tv234[ebp], 52 ; 00000034H
  002cb	eb 21		 jmp	 SHORT $LN25@insert_air
$LN24@insert_air:
  002cd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  002d3	83 c2 44	 add	 edx, 68			; 00000044H
  002d6	52		 push	 edx
  002d7	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002e1	50		 push	 eax
  002e2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002e7	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv234[ebp], 0
$LN25@insert_air:
  002ee	6a 34		 push	 52			; 00000034H
  002f0	8b 4d d0	 mov	 ecx, DWORD PTR _landing$[ebp]
  002f3	51		 push	 ecx
  002f4	69 55 84 5c 04
	00 00		 imul	 edx, DWORD PTR tv226[ebp], 1116
  002fb	8b 45 80	 mov	 eax, DWORD PTR tv234[ebp]
  002fe	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00305	ff d1		 call	 ecx
  00307	ba 01 00 00 00	 mov	 edx, 1
  0030c	8b c8		 mov	 ecx, eax
  0030e	d3 e2		 shl	 edx, cl
  00310	23 55 c8	 and	 edx, DWORD PTR _landing_types$1[ebp]
  00313	74 18		 je	 SHORT $LN11@insert_air
  00315	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  0031a	83 c0 44	 add	 eax, 68			; 00000044H
  0031d	50		 push	 eax
  0031e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00323	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@GNHOAPLF@?$CB?$CIlanding_types?5?$CG?51?5?$DM?$DM?5get_loca@
  00328	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN11@insert_air:

; 2685 : 
; 2686 : 		landing_types |= 1 << get_local_entity_int_value (landing, INT_TYPE_ENTITY_SUB_TYPE);

  0032d	83 7d d0 00	 cmp	 DWORD PTR _landing$[ebp], 0
  00331	74 0a		 je	 SHORT $LN26@insert_air
  00333	8b 45 d0	 mov	 eax, DWORD PTR _landing$[ebp]
  00336	8b 08		 mov	 ecx, DWORD PTR [eax]
  00338	89 4d 84	 mov	 DWORD PTR tv253[ebp], ecx
  0033b	eb 21		 jmp	 SHORT $LN27@insert_air
$LN26@insert_air:
  0033d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00343	83 c2 46	 add	 edx, 70			; 00000046H
  00346	52		 push	 edx
  00347	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0034c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00351	50		 push	 eax
  00352	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00357	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv253[ebp], 0
$LN27@insert_air:
  0035e	b9 01 00 00 00	 mov	 ecx, 1
  00363	85 c9		 test	 ecx, ecx
  00365	74 09		 je	 SHORT $LN28@insert_air
  00367	c7 45 80 34 00
	00 00		 mov	 DWORD PTR tv261[ebp], 52 ; 00000034H
  0036e	eb 21		 jmp	 SHORT $LN29@insert_air
$LN28@insert_air:
  00370	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00376	83 c2 46	 add	 edx, 70			; 00000046H
  00379	52		 push	 edx
  0037a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0037f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00384	50		 push	 eax
  00385	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0038a	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv261[ebp], 0
$LN29@insert_air:
  00391	6a 34		 push	 52			; 00000034H
  00393	8b 4d d0	 mov	 ecx, DWORD PTR _landing$[ebp]
  00396	51		 push	 ecx
  00397	69 55 84 5c 04
	00 00		 imul	 edx, DWORD PTR tv253[ebp], 1116
  0039e	8b 45 80	 mov	 eax, DWORD PTR tv261[ebp]
  003a1	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  003a8	ff d1		 call	 ecx
  003aa	ba 01 00 00 00	 mov	 edx, 1
  003af	8b c8		 mov	 ecx, eax
  003b1	d3 e2		 shl	 edx, cl
  003b3	0b 55 c8	 or	 edx, DWORD PTR _landing_types$1[ebp]
  003b6	89 55 c8	 mov	 DWORD PTR _landing_types$1[ebp], edx

; 2687 : 
; 2688 : 		set_local_entity_int_value (get_parser_keysite (), INT_TYPE_LANDING_TYPES, landing_types);

  003b9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, 0 ; parser_keysite
  003c0	74 0c		 je	 SHORT $LN30@insert_air
  003c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  003c7	8b 08		 mov	 ecx, DWORD PTR [eax]
  003c9	89 4d 84	 mov	 DWORD PTR tv275[ebp], ecx
  003cc	eb 21		 jmp	 SHORT $LN31@insert_air
$LN30@insert_air:
  003ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  003d4	83 c2 48	 add	 edx, 72			; 00000048H
  003d7	52		 push	 edx
  003d8	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  003dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003e2	50		 push	 eax
  003e3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003e8	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv275[ebp], 0
$LN31@insert_air:
  003ef	b9 01 00 00 00	 mov	 ecx, 1
  003f4	85 c9		 test	 ecx, ecx
  003f6	74 09		 je	 SHORT $LN32@insert_air
  003f8	c7 45 80 77 00
	00 00		 mov	 DWORD PTR tv283[ebp], 119 ; 00000077H
  003ff	eb 21		 jmp	 SHORT $LN33@insert_air
$LN32@insert_air:
  00401	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00407	83 c2 48	 add	 edx, 72			; 00000048H
  0040a	52		 push	 edx
  0040b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00410	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00415	50		 push	 eax
  00416	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0041b	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv283[ebp], 0
$LN33@insert_air:
  00422	8b 4d c8	 mov	 ecx, DWORD PTR _landing_types$1[ebp]
  00425	51		 push	 ecx
  00426	6a 77		 push	 119			; 00000077H
  00428	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?parser_keysite@@3PAUENTITY@@A ; parser_keysite
  0042e	52		 push	 edx
  0042f	69 45 84 5c 04
	00 00		 imul	 eax, DWORD PTR tv275[ebp], 1116
  00436	8b 4d 80	 mov	 ecx, DWORD PTR tv283[ebp]
  00439	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*4]
  00440	ff d2		 call	 edx

; 2689 : 	}
; 2690 : 
; 2691 : 	set_parser_landing ( landing );

  00442	8b 45 d0	 mov	 eax, DWORD PTR _landing$[ebp]
  00445	a3 00 00 00 00	 mov	 DWORD PTR ?parser_landing@@3PAUENTITY@@A, eax ; parser_landing

; 2692 : 
; 2693 : 	set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_LANDING ) );

  0044a	6a 0d		 push	 13			; 0000000dH
  0044c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  00451	50		 push	 eax
  00452	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  00457	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 2694 : 
; 2695 : 	{
; 2696 : 
; 2697 : 		//
; 2698 : 		// Landed waypoint
; 2699 : 		//
; 2700 : 
; 2701 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  0045c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00460	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00463	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00469	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0046d	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00473	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2702 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00478	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0047c	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0047f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00485	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  0048a	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00490	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2703 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00495	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00499	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0049c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004a2	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  004a7	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  004ad	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2704 : 
; 2705 : 		inhangar_flags = get_waypoint_inhangar_bits ( &route_waypoint_positions[current_route_waypoint_offset], current_airport_inst3d );

  004b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  004b7	50		 push	 eax
  004b8	6b 4d fc 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  004bc	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004c2	51		 push	 ecx
  004c3	e8 00 00 00 00	 call	 ?get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z ; get_waypoint_inhangar_bits
  004c8	89 45 cc	 mov	 DWORD PTR _inhangar_flags$[ebp], eax

; 2706 : 
; 2707 : 		set_local_entity_int_value (landing, INT_TYPE_INSIDE_HANGAR, inhangar_flags);

  004cb	83 7d d0 00	 cmp	 DWORD PTR _landing$[ebp], 0
  004cf	74 0a		 je	 SHORT $LN34@insert_air
  004d1	8b 45 d0	 mov	 eax, DWORD PTR _landing$[ebp]
  004d4	8b 08		 mov	 ecx, DWORD PTR [eax]
  004d6	89 4d 84	 mov	 DWORD PTR tv321[ebp], ecx
  004d9	eb 21		 jmp	 SHORT $LN35@insert_air
$LN34@insert_air:
  004db	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  004e1	83 c2 5b	 add	 edx, 91			; 0000005bH
  004e4	52		 push	 edx
  004e5	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  004ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004ef	50		 push	 eax
  004f0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004f5	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv321[ebp], 0
$LN35@insert_air:
  004fc	b9 01 00 00 00	 mov	 ecx, 1
  00501	85 c9		 test	 ecx, ecx
  00503	74 09		 je	 SHORT $LN36@insert_air
  00505	c7 45 80 6a 00
	00 00		 mov	 DWORD PTR tv329[ebp], 106 ; 0000006aH
  0050c	eb 21		 jmp	 SHORT $LN37@insert_air
$LN36@insert_air:
  0050e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z@4JA
  00514	83 c2 5b	 add	 edx, 91			; 0000005bH
  00517	52		 push	 edx
  00518	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0051d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00522	50		 push	 eax
  00523	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00528	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv329[ebp], 0
$LN37@insert_air:
  0052f	8b 4d cc	 mov	 ecx, DWORD PTR _inhangar_flags$[ebp]
  00532	51		 push	 ecx
  00533	6a 6a		 push	 106			; 0000006aH
  00535	8b 55 d0	 mov	 edx, DWORD PTR _landing$[ebp]
  00538	52		 push	 edx
  00539	69 45 84 5c 04
	00 00		 imul	 eax, DWORD PTR tv321[ebp], 1116
  00540	8b 4d 80	 mov	 ecx, DWORD PTR tv329[ebp]
  00543	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*4]
  0054a	ff d2		 call	 edx

; 2708 : 
; 2709 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  0054c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00550	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00556	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  0055a	52		 push	 edx
  0055b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0055f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00565	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00568	52		 push	 edx
  00569	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  0056e	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2710 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2711 : 
; 2712 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_LANDED, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00571	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00575	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0057b	51		 push	 ecx
  0057c	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00582	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00587	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  0058a	52		 push	 edx
  0058b	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  0058e	50		 push	 eax
  0058f	6a 0e		 push	 14			; 0000000eH
  00591	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2713 : 
; 2714 : 		current_route_waypoint_offset--;

  00596	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00599	83 e8 01	 sub	 eax, 1
  0059c	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2715 : 
; 2716 : 		for ( ; current_route_waypoint_offset > 3; current_route_waypoint_offset-- )

  0059f	eb 09		 jmp	 SHORT $LN7@insert_air
$LN5@insert_air:
  005a1	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  005a4	83 e8 01	 sub	 eax, 1
  005a7	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN7@insert_air:
  005aa	83 7d fc 03	 cmp	 DWORD PTR _current_route_waypoint_offset$[ebp], 3
  005ae	0f 8e a5 00 00
	00		 jle	 $LN6@insert_air

; 2717 : 		{
; 2718 : 
; 2719 : 			//
; 2720 : 			// Taxi-ing waypoints
; 2721 : 			//
; 2722 : 
; 2723 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  005b4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  005b8	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  005bb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  005c1	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  005c5	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  005cb	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2724 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  005d0	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  005d4	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  005d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  005dd	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  005e2	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  005e8	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2725 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  005ed	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  005f1	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  005f4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  005fa	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  005ff	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00605	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2726 : 
; 2727 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  0060a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0060e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00614	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00618	52		 push	 edx
  00619	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0061d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00623	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00626	52		 push	 edx
  00627	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  0062c	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2728 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2729 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TAXI, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  0062f	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00633	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00639	51		 push	 ecx
  0063a	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00640	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00645	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00648	52		 push	 edx
  00649	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  0064c	50		 push	 eax
  0064d	6a 1c		 push	 28			; 0000001cH
  0064f	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2730 : 		}

  00654	e9 48 ff ff ff	 jmp	 $LN5@insert_air
$LN6@insert_air:

; 2731 : 
; 2732 : 		//
; 2733 : 		// Touchdown waypoint
; 2734 : 		//
; 2735 : 
; 2736 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00659	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0065d	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00660	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00666	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0066a	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00670	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2737 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00675	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00679	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0067c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00682	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00687	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  0068d	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2738 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00692	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00696	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00699	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0069f	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  006a4	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  006aa	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2739 : 
; 2740 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  006af	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006b9	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  006bd	52		 push	 edx
  006be	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006c2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006c8	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  006cb	52		 push	 edx
  006cc	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  006d1	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2741 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2742 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TOUCH_DOWN, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  006d4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  006d8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  006de	51		 push	 ecx
  006df	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  006e5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006ea	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  006ed	52		 push	 edx
  006ee	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  006f1	50		 push	 eax
  006f2	6a 1d		 push	 29			; 0000001dH
  006f4	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2743 : 
; 2744 : 		current_route_waypoint_offset--;

  006f9	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  006fc	83 e8 01	 sub	 eax, 1
  006ff	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2745 : 
; 2746 : 		//
; 2747 : 		// Lower undercarriage waypoint
; 2748 : 		//
; 2749 : 
; 2750 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00702	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00706	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00709	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0070f	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00713	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00719	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2751 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  0071e	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00722	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00725	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0072b	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00730	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00736	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2752 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  0073b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0073f	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00742	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00748	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  0074d	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00753	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2753 : 
; 2754 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00758	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0075c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00762	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00766	52		 push	 edx
  00767	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0076b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00771	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00774	52		 push	 edx
  00775	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  0077a	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2755 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2756 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_LOWER_UNDERCARRIAGE, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  0077d	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00781	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00787	51		 push	 ecx
  00788	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  0078e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00793	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00796	52		 push	 edx
  00797	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  0079a	50		 push	 eax
  0079b	6a 10		 push	 16			; 00000010H
  0079d	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2757 : 
; 2758 : 		current_route_waypoint_offset--;

  007a2	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  007a5	83 e8 01	 sub	 eax, 1
  007a8	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2759 : 
; 2760 : 		//
; 2761 : 		// Approach waypoint
; 2762 : 		//
; 2763 : 
; 2764 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  007ab	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  007af	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  007b2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  007b8	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  007bc	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  007c2	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2765 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  007c7	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  007cb	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  007ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  007d4	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  007d9	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  007df	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2766 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  007e4	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  007e8	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  007eb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  007f1	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  007f6	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  007fc	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2767 : 
; 2768 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00801	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00805	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0080b	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  0080f	52		 push	 edx
  00810	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00814	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0081a	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  0081d	52		 push	 edx
  0081e	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00823	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2769 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2770 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_APPROACH, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00826	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0082a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00830	51		 push	 ecx
  00831	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00837	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0083c	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  0083f	52		 push	 edx
  00840	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00843	50		 push	 eax
  00844	6a 00		 push	 0
  00846	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2771 : 
; 2772 : 		//
; 2773 : 		// Approach waypoint
; 2774 : 		//
; 2775 : 
; 2776 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  0084b	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0084f	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00852	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00858	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0085c	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00862	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2777 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00867	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0086b	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0086e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00874	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00879	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  0087f	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2778 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00884	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00888	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0088b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00891	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00896	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  0089c	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2779 : 
; 2780 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  008a1	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  008a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  008ab	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  008af	52		 push	 edx
  008b0	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  008b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  008ba	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  008bd	52		 push	 edx
  008be	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  008c3	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2781 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2782 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_APPROACH, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  008c6	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  008ca	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  008d0	51		 push	 ecx
  008d1	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  008d7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008dc	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  008df	52		 push	 edx
  008e0	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  008e3	50		 push	 eax
  008e4	6a 00		 push	 0
  008e6	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2783 : 	}
; 2784 : 
; 2785 : 	destroy_routegen_waypoint_routes ();

  008eb	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2786 : 
; 2787 : 	//
; 2788 : 	// Insert the takeoff routes
; 2789 : 	//
; 2790 : 
; 2791 : 	raw_object_index = takeoff_route->index;

  008f0	8b 45 14	 mov	 eax, DWORD PTR _takeoff_route$[ebp]
  008f3	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  008f6	89 4d f8	 mov	 DWORD PTR _raw_object_index$[ebp], ecx

; 2792 : 
; 2793 : 	parse_waypoint_routes_from_object ( raw_object_index, number_of_matching_slots, matching_slots );

  008f9	8b 45 d8	 mov	 eax, DWORD PTR _matching_slots$[ebp]
  008fc	50		 push	 eax
  008fd	8b 4d f4	 mov	 ecx, DWORD PTR _number_of_matching_slots$[ebp]
  00900	51		 push	 ecx
  00901	8b 55 f8	 mov	 edx, DWORD PTR _raw_object_index$[ebp]
  00904	52		 push	 edx
  00905	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2794 : 
; 2795 : 	current_route_waypoint_offset = 0;

  0090a	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], 0

; 2796 : 
; 2797 : 	set_parser_route ( get_local_landing_entity_task ( get_parser_landing (), ENTITY_SUB_TYPE_TASK_TAKEOFF ) );

  00911	6a 16		 push	 22			; 00000016H
  00913	a1 00 00 00 00	 mov	 eax, DWORD PTR ?parser_landing@@3PAUENTITY@@A ; parser_landing
  00918	50		 push	 eax
  00919	e8 00 00 00 00	 call	 ?get_local_landing_entity_task@@YGPAUENTITY@@PAU1@H@Z ; get_local_landing_entity_task
  0091e	a3 00 00 00 00	 mov	 DWORD PTR ?parser_route@@3PAUENTITY@@A, eax ; parser_route

; 2798 : 
; 2799 : 	{
; 2800 : 
; 2801 : 		//
; 2802 : 		// Taken off waypoint
; 2803 : 		//
; 2804 : 
; 2805 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00923	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00927	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  0092a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00930	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00934	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  0093a	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2806 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  0093f	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00943	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00946	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0094c	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00951	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00957	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2807 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  0095c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00960	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00963	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00969	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  0096e	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00974	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2808 : 
; 2809 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00979	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0097d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00983	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00987	52		 push	 edx
  00988	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  0098c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00992	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00995	52		 push	 edx
  00996	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  0099b	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2810 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2811 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TAKEN_OFF, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  0099e	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  009a2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  009a8	51		 push	 ecx
  009a9	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  009af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009b4	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  009b7	52		 push	 edx
  009b8	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  009bb	50		 push	 eax
  009bc	6a 1a		 push	 26			; 0000001aH
  009be	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2812 : 		current_route_waypoint_offset++;

  009c3	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  009c6	83 c0 01	 add	 eax, 1
  009c9	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2813 : 
; 2814 : 		//
; 2815 : 		// Raise undercarriage waypoint
; 2816 : 		//
; 2817 : 
; 2818 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  009cc	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  009d0	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  009d3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  009d9	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  009dd	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  009e3	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2819 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  009e8	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  009ec	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  009ef	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  009f5	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  009fa	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00a00	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2820 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00a05	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a09	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00a0c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a12	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00a17	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00a1d	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2821 : 
; 2822 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00a22	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a26	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a2c	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00a30	52		 push	 edx
  00a31	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a35	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a3b	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00a3e	52		 push	 edx
  00a3f	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00a44	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2823 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2824 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_RAISE_UNDERCARRIAGE, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00a47	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a4b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a51	51		 push	 ecx
  00a52	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00a58	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a5d	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00a60	52		 push	 edx
  00a61	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00a64	50		 push	 eax
  00a65	6a 14		 push	 20			; 00000014H
  00a67	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2825 : 		current_route_waypoint_offset++;

  00a6c	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00a6f	83 c0 01	 add	 eax, 1
  00a72	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2826 : 
; 2827 : 		//
; 2828 : 		// Lift off waypoint
; 2829 : 		//
; 2830 : 
; 2831 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00a75	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a79	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00a7c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a82	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00a86	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00a8c	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2832 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00a91	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00a95	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00a98	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00a9e	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00aa3	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00aa9	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2833 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00aae	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00ab2	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00ab5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00abb	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00ac0	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00ac6	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2834 : 
; 2835 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00acb	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00acf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ad5	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00ad9	52		 push	 edx
  00ada	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00ade	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ae4	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00ae7	52		 push	 edx
  00ae8	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00aed	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2836 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2837 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_LIFT_OFF, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00af0	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00af4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00afa	51		 push	 ecx
  00afb	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00b01	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b06	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00b09	52		 push	 edx
  00b0a	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00b0d	50		 push	 eax
  00b0e	6a 0f		 push	 15			; 0000000fH
  00b10	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2838 : 		current_route_waypoint_offset++;

  00b15	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00b18	83 c0 01	 add	 eax, 1
  00b1b	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2839 : 
; 2840 : 		//
; 2841 : 		// Start up waypoint
; 2842 : 		//
; 2843 : 
; 2844 : 		waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00b1e	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b22	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00b25	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b2b	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00b2f	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00b35	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2845 : 		waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00b3a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b3e	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00b41	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b47	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00b4c	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00b52	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2846 : 		waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00b57	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b5b	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00b5e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b64	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00b69	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00b6f	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2847 : 
; 2848 : 		formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00b74	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b78	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b7e	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00b82	52		 push	 edx
  00b83	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b87	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00b8d	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00b90	52		 push	 edx
  00b91	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00b96	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2849 : 																		route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2850 : 		create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_START_UP, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00b99	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00b9d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00ba3	51		 push	 ecx
  00ba4	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00baa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00baf	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00bb2	52		 push	 edx
  00bb3	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00bb6	50		 push	 eax
  00bb7	6a 18		 push	 24			; 00000018H
  00bb9	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2851 : 		current_route_waypoint_offset++;

  00bbe	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00bc1	83 c0 01	 add	 eax, 1
  00bc4	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax

; 2852 : 
; 2853 : 		for ( ; current_route_waypoint_offset < number_of_route_waypoint_positions; current_route_waypoint_offset++ )

  00bc7	eb 09		 jmp	 SHORT $LN10@insert_air
$LN8@insert_air:
  00bc9	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00bcc	83 c0 01	 add	 eax, 1
  00bcf	89 45 fc	 mov	 DWORD PTR _current_route_waypoint_offset$[ebp], eax
$LN10@insert_air:
  00bd2	8b 45 fc	 mov	 eax, DWORD PTR _current_route_waypoint_offset$[ebp]
  00bd5	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00bdb	0f 8d a5 00 00
	00		 jge	 $LN9@insert_air

; 2854 : 		{
; 2855 : 
; 2856 : 			//
; 2857 : 			// Taxi-ing waypoints
; 2858 : 			//
; 2859 : 
; 2860 : 			waypoint_world_pos.x = position->x + route_waypoint_positions[current_route_waypoint_offset].position.x;

  00be1	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00be5	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00be8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00bee	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00bf2	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00bf8	f3 0f 11 45 dc	 movss	 DWORD PTR _waypoint_world_pos$[ebp], xmm0

; 2861 : 			waypoint_world_pos.y = position->y + route_waypoint_positions[current_route_waypoint_offset].position.y;

  00bfd	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c01	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00c04	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c0a	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00c0f	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  00c15	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_world_pos$[ebp+4], xmm0

; 2862 : 			waypoint_world_pos.z = position->z + route_waypoint_positions[current_route_waypoint_offset].position.z;

  00c1a	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c1e	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00c21	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c27	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00c2c	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  00c32	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_world_pos$[ebp+8], xmm0

; 2863 : 
; 2864 : 			formation_index = add_formation_to_database ( route_waypoint_positions[current_route_waypoint_offset].number_of_positions,

  00c37	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c3b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c41	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  00c45	52		 push	 edx
  00c46	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c4a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c50	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00c53	52		 push	 edx
  00c54	e8 00 00 00 00	 call	 ?add_formation_to_database@@YGHHPAUVEC3D@@@Z ; add_formation_to_database
  00c59	89 45 e8	 mov	 DWORD PTR _formation_index$[ebp], eax

; 2865 : 																			route_waypoint_positions[current_route_waypoint_offset].offsets );
; 2866 : 			create_airfield_waypoint ( ENTITY_SUB_TYPE_WAYPOINT_TAXI, &waypoint_world_pos, formation_index, WAYPOINT_ALTITUDE );

  00c5c	6b 45 fc 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$[ebp], 20
  00c60	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00c66	51		 push	 ecx
  00c67	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00c6d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c72	8b 55 e8	 mov	 edx, DWORD PTR _formation_index$[ebp]
  00c75	52		 push	 edx
  00c76	8d 45 dc	 lea	 eax, DWORD PTR _waypoint_world_pos$[ebp]
  00c79	50		 push	 eax
  00c7a	6a 1c		 push	 28			; 0000001cH
  00c7c	e8 00 00 00 00	 call	 ?create_airfield_waypoint@@YGXHPAUVEC3D@@HM@Z ; create_airfield_waypoint

; 2867 : 		}

  00c81	e9 43 ff ff ff	 jmp	 $LN8@insert_air
$LN9@insert_air:

; 2868 : 	}
; 2869 : 
; 2870 : 	destroy_routegen_waypoint_routes ();

  00c86	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2871 : 
; 2872 : 	if ( matching_slots )

  00c8b	83 7d d8 00	 cmp	 DWORD PTR _matching_slots$[ebp], 0
  00c8f	74 10		 je	 SHORT $LN12@insert_air

; 2873 : 	{
; 2874 : 
; 2875 : 		safe_free ( matching_slots );

  00c91	8b 45 d8	 mov	 eax, DWORD PTR _matching_slots$[ebp]
  00c94	50		 push	 eax
  00c95	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 2876 : 
; 2877 : 		matching_slots = NULL;

  00c9a	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _matching_slots$[ebp], 0
$LN12@insert_air:

; 2878 : 	}
; 2879 : }

  00ca1	5f		 pop	 edi
  00ca2	5e		 pop	 esi
  00ca3	5b		 pop	 ebx
  00ca4	8b e5		 mov	 esp, ebp
  00ca6	5d		 pop	 ebp
  00ca7	c2 10 00	 ret	 16			; 00000010H
?insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ENDP ; insert_airport_fixedwing_routes
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z
_TEXT	SEGMENT
_search$ = -56						; size = 56
_instance$ = 8						; size = 4
_index$ = 12						; size = 4
?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z PROC ; get_airfield_waypoint_route_object, COMDAT

; 2590 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 78	 sub	 esp, 120		; 00000078H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2591 : 
; 2592 : 	object_3d_sub_object_search_data
; 2593 : 		search;
; 2594 : 
; 2595 : 	search.search_object = instance;

  00009	8b 45 08	 mov	 eax, DWORD PTR _instance$[ebp]
  0000c	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 2596 : 	search.search_depth = 0;

  0000f	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 2597 : 	search.sub_object_index = index;

  00016	8b 45 0c	 mov	 eax, DWORD PTR _index$[ebp]
  00019	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 2598 : 
; 2599 : 	if ( find_object_3d_sub_object ( &search ) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND )

  0001c	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00025	83 f8 01	 cmp	 eax, 1
  00028	75 07		 jne	 SHORT $LN2@get_airfie

; 2600 : 	{
; 2601 : 
; 2602 : 		return ( search.object_scene );

  0002a	8b 45 d8	 mov	 eax, DWORD PTR _search$[ebp+16]
  0002d	eb 04		 jmp	 SHORT $LN1@get_airfie

; 2603 : 	}
; 2604 : 	else

  0002f	eb 02		 jmp	 SHORT $LN1@get_airfie
$LN2@get_airfie:

; 2605 : 	{
; 2606 : 
; 2607 : 		return ( NULL );

  00031	33 c0		 xor	 eax, eax
$LN1@get_airfie:

; 2608 : 	}
; 2609 : }

  00033	5f		 pop	 edi
  00034	5e		 pop	 esi
  00035	5b		 pop	 ebx
  00036	8b e5		 mov	 esp, ebp
  00038	5d		 pop	 ebp
  00039	c2 08 00	 ret	 8
?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ENDP ; get_airfield_waypoint_route_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_object_index_from_name@@YGHPAD@Z
_TEXT	SEGMENT
_count$ = -4						; size = 4
_name$ = 8						; size = 4
?get_object_index_from_name@@YGHPAD@Z PROC		; get_object_index_from_name, COMDAT

; 2567 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2568 : 
; 2569 : 	int
; 2570 : 		count;
; 2571 : 
; 2572 : 	for ( count = OBJECT_3D_INVALID_OBJECT_INDEX + 1; count < OBJECT_3D_LAST; count++ )

  00009	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _count$[ebp], 1
  00010	eb 09		 jmp	 SHORT $LN4@get_object
$LN2@get_object:
  00012	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@get_object:
  0001b	81 7d fc e4 0a
	00 00		 cmp	 DWORD PTR _count$[ebp], 2788 ; 00000ae4H
  00022	7d 25		 jge	 SHORT $LN3@get_object

; 2573 : 	{
; 2574 : 
; 2575 : 		if ( stricmp ( name, object_3d_enumeration_names[count] ) == 0 )

  00024	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00027	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_enumeration_names@@3PAPBDA ; object_3d_enumeration_names
  0002d	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  00030	52		 push	 edx
  00031	8b 45 08	 mov	 eax, DWORD PTR _name$[ebp]
  00034	50		 push	 eax
  00035	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___stricmp
  0003b	83 c4 08	 add	 esp, 8
  0003e	85 c0		 test	 eax, eax
  00040	75 05		 jne	 SHORT $LN5@get_object

; 2576 : 		{
; 2577 : 
; 2578 : 			return ( count );

  00042	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00045	eb 04		 jmp	 SHORT $LN1@get_object
$LN5@get_object:

; 2579 : 		}
; 2580 : 	}

  00047	eb c9		 jmp	 SHORT $LN2@get_object
$LN3@get_object:

; 2581 : 
; 2582 : 	return ( OBJECT_3D_INVALID_OBJECT_INDEX );

  00049	33 c0		 xor	 eax, eax
$LN1@get_object:

; 2583 : }

  0004b	5f		 pop	 edi
  0004c	5e		 pop	 esi
  0004d	5b		 pop	 ebx
  0004e	8b e5		 mov	 esp, ebp
  00050	5d		 pop	 ebp
  00051	c2 04 00	 ret	 4
?get_object_index_from_name@@YGHPAD@Z ENDP		; get_object_index_from_name
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z
_TEXT	SEGMENT
_object_bounds$1 = -56					; size = 24
_waypoint_position$2 = -32				; size = 12
_scene$ = -20						; size = 4
_scene_link$ = -16					; size = 4
_inhangar_bits$ = -12					; size = 4
_object$ = -8						; size = 4
_count$ = -4						; size = 4
_waypoint$ = 8						; size = 4
_inst3d$ = 12						; size = 4
?get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z PROC ; get_waypoint_inhangar_bits, COMDAT

; 2504 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 78	 sub	 esp, 120		; 00000078H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2505 : 
; 2506 : 	int
; 2507 : 		count,
; 2508 : 		object;
; 2509 : 
; 2510 : 	unsigned int
; 2511 : 		inhangar_bits;
; 2512 : 
; 2513 : 	object_3d_scene_database_entry
; 2514 : 		*scene_link,
; 2515 : 		*scene;
; 2516 : 
; 2517 : 	inhangar_bits = 0;

  00009	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _inhangar_bits$[ebp], 0

; 2518 : 
; 2519 : 	scene = &objects_3d_scene_database[inst3d->object_number];

  00010	8b 45 0c	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00013	69 48 04 e0 00
	00 00		 imul	 ecx, DWORD PTR [eax+4], 224
  0001a	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00020	89 4d ec	 mov	 DWORD PTR _scene$[ebp], ecx

; 2520 : 
; 2521 : 	ASSERT ( waypoint->number_of_positions < 32 );

  00023	8b 45 08	 mov	 eax, DWORD PTR _waypoint$[ebp]
  00026	83 38 20	 cmp	 DWORD PTR [eax], 32	; 00000020H
  00029	7c 18		 jl	 SHORT $LN8@get_waypoi
  0002b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z@4JA
  00030	83 c0 11	 add	 eax, 17			; 00000011H
  00033	50		 push	 eax
  00034	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@FKIJFNN@waypoint?9?$DOnumber_of_positions?5?$DM@
  0003e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@get_waypoi:

; 2522 : 
; 2523 : 	for ( count = 0; count < waypoint->number_of_positions; count++ )

  00043	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0004a	eb 09		 jmp	 SHORT $LN4@get_waypoi
$LN2@get_waypoi:
  0004c	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0004f	83 c0 01	 add	 eax, 1
  00052	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@get_waypoi:
  00055	8b 45 08	 mov	 eax, DWORD PTR _waypoint$[ebp]
  00058	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  0005b	3b 08		 cmp	 ecx, DWORD PTR [eax]
  0005d	0f 8d 57 01 00
	00		 jge	 $LN3@get_waypoi

; 2524 : 	{
; 2525 : 
; 2526 : 		vec3d
; 2527 : 			waypoint_position;
; 2528 : 
; 2529 : 		waypoint_position.x = waypoint->position.x + waypoint->offsets[count].x;

  00063	6b 45 fc 0c	 imul	 eax, DWORD PTR _count$[ebp], 12
  00067	8b 4d 08	 mov	 ecx, DWORD PTR _waypoint$[ebp]
  0006a	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  0006d	8b 4d 08	 mov	 ecx, DWORD PTR _waypoint$[ebp]
  00070	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  00075	f3 0f 58 04 02	 addss	 xmm0, DWORD PTR [edx+eax]
  0007a	f3 0f 11 45 e0	 movss	 DWORD PTR _waypoint_position$2[ebp], xmm0

; 2530 : 		waypoint_position.y = waypoint->position.y + waypoint->offsets[count].y;

  0007f	6b 45 fc 0c	 imul	 eax, DWORD PTR _count$[ebp], 12
  00083	8b 4d 08	 mov	 ecx, DWORD PTR _waypoint$[ebp]
  00086	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  00089	8b 4d 08	 mov	 ecx, DWORD PTR _waypoint$[ebp]
  0008c	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00091	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  00097	f3 0f 11 45 e4	 movss	 DWORD PTR _waypoint_position$2[ebp+4], xmm0

; 2531 : 		waypoint_position.z = waypoint->position.z + waypoint->offsets[count].z;

  0009c	6b 45 fc 0c	 imul	 eax, DWORD PTR _count$[ebp], 12
  000a0	8b 4d 08	 mov	 ecx, DWORD PTR _waypoint$[ebp]
  000a3	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  000a6	8b 4d 08	 mov	 ecx, DWORD PTR _waypoint$[ebp]
  000a9	f3 0f 10 41 0c	 movss	 xmm0, DWORD PTR [ecx+12]
  000ae	f3 0f 58 44 02
	08		 addss	 xmm0, DWORD PTR [edx+eax+8]
  000b4	f3 0f 11 45 e8	 movss	 DWORD PTR _waypoint_position$2[ebp+8], xmm0

; 2532 : 
; 2533 : 		for ( object = 0; object < scene->number_of_scene_link_objects; object++ )

  000b9	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _object$[ebp], 0
  000c0	eb 09		 jmp	 SHORT $LN7@get_waypoi
$LN5@get_waypoi:
  000c2	8b 45 f8	 mov	 eax, DWORD PTR _object$[ebp]
  000c5	83 c0 01	 add	 eax, 1
  000c8	89 45 f8	 mov	 DWORD PTR _object$[ebp], eax
$LN7@get_waypoi:
  000cb	8b 45 ec	 mov	 eax, DWORD PTR _scene$[ebp]
  000ce	8b 4d f8	 mov	 ecx, DWORD PTR _object$[ebp]
  000d1	3b 48 2c	 cmp	 ecx, DWORD PTR [eax+44]
  000d4	0f 8d db 00 00
	00		 jge	 $LN6@get_waypoi

; 2534 : 		{
; 2535 : 
; 2536 : 			object_3d_bounds
; 2537 : 				object_bounds;
; 2538 : 
; 2539 : 			scene_link = &objects_3d_scene_database[ scene->scene_link_objects[object].scene_index ];

  000da	6b 45 f8 1c	 imul	 eax, DWORD PTR _object$[ebp], 28
  000de	8b 4d ec	 mov	 ecx, DWORD PTR _scene$[ebp]
  000e1	8b 51 54	 mov	 edx, DWORD PTR [ecx+84]
  000e4	69 04 02 e0 00
	00 00		 imul	 eax, DWORD PTR [edx+eax], 224
  000eb	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  000f1	89 45 f0	 mov	 DWORD PTR _scene_link$[ebp], eax

; 2540 : 
; 2541 : 			object_bounds.xmin = scene_link->bounding_box2.xmin + scene->scene_link_objects[object].x;

  000f4	6b 45 f8 1c	 imul	 eax, DWORD PTR _object$[ebp], 28
  000f8	8b 4d ec	 mov	 ecx, DWORD PTR _scene$[ebp]
  000fb	8b 51 54	 mov	 edx, DWORD PTR [ecx+84]
  000fe	8b 4d f0	 mov	 ecx, DWORD PTR _scene_link$[ebp]
  00101	f3 0f 10 81 90
	00 00 00	 movss	 xmm0, DWORD PTR [ecx+144]
  00109	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  0010f	f3 0f 11 45 c8	 movss	 DWORD PTR _object_bounds$1[ebp], xmm0

; 2542 : 			object_bounds.xmax = scene_link->bounding_box2.xmax + scene->scene_link_objects[object].x;

  00114	6b 45 f8 1c	 imul	 eax, DWORD PTR _object$[ebp], 28
  00118	8b 4d ec	 mov	 ecx, DWORD PTR _scene$[ebp]
  0011b	8b 51 54	 mov	 edx, DWORD PTR [ecx+84]
  0011e	8b 4d f0	 mov	 ecx, DWORD PTR _scene_link$[ebp]
  00121	f3 0f 10 81 94
	00 00 00	 movss	 xmm0, DWORD PTR [ecx+148]
  00129	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  0012f	f3 0f 11 45 cc	 movss	 DWORD PTR _object_bounds$1[ebp+4], xmm0

; 2543 : 			object_bounds.zmin = scene_link->bounding_box2.zmin + scene->scene_link_objects[object].z;

  00134	6b 45 f8 1c	 imul	 eax, DWORD PTR _object$[ebp], 28
  00138	8b 4d ec	 mov	 ecx, DWORD PTR _scene$[ebp]
  0013b	8b 51 54	 mov	 edx, DWORD PTR [ecx+84]
  0013e	8b 4d f0	 mov	 ecx, DWORD PTR _scene_link$[ebp]
  00141	f3 0f 10 81 a0
	00 00 00	 movss	 xmm0, DWORD PTR [ecx+160]
  00149	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  0014f	f3 0f 11 45 d8	 movss	 DWORD PTR _object_bounds$1[ebp+16], xmm0

; 2544 : 			object_bounds.zmax = scene_link->bounding_box2.zmax + scene->scene_link_objects[object].z;

  00154	6b 45 f8 1c	 imul	 eax, DWORD PTR _object$[ebp], 28
  00158	8b 4d ec	 mov	 ecx, DWORD PTR _scene$[ebp]
  0015b	8b 51 54	 mov	 edx, DWORD PTR [ecx+84]
  0015e	8b 4d f0	 mov	 ecx, DWORD PTR _scene_link$[ebp]
  00161	f3 0f 10 81 a4
	00 00 00	 movss	 xmm0, DWORD PTR [ecx+164]
  00169	f3 0f 58 44 02
	0c		 addss	 xmm0, DWORD PTR [edx+eax+12]
  0016f	f3 0f 11 45 dc	 movss	 DWORD PTR _object_bounds$1[ebp+20], xmm0

; 2545 : 
; 2546 : 			if (	( ( waypoint_position.x >= object_bounds.xmin ) && ( waypoint_position.x <= object_bounds.xmax ) ) &&

  00174	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _waypoint_position$2[ebp]
  00179	0f 2f 45 c8	 comiss	 xmm0, DWORD PTR _object_bounds$1[ebp]
  0017d	72 31		 jb	 SHORT $LN9@get_waypoi
  0017f	f3 0f 10 45 cc	 movss	 xmm0, DWORD PTR _object_bounds$1[ebp+4]
  00184	0f 2f 45 e0	 comiss	 xmm0, DWORD PTR _waypoint_position$2[ebp]
  00188	72 26		 jb	 SHORT $LN9@get_waypoi
  0018a	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _waypoint_position$2[ebp+8]
  0018f	0f 2f 45 d8	 comiss	 xmm0, DWORD PTR _object_bounds$1[ebp+16]
  00193	72 1b		 jb	 SHORT $LN9@get_waypoi
  00195	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _object_bounds$1[ebp+20]
  0019a	0f 2f 45 e8	 comiss	 xmm0, DWORD PTR _waypoint_position$2[ebp+8]
  0019e	72 10		 jb	 SHORT $LN9@get_waypoi

; 2547 : 					( ( waypoint_position.z >= object_bounds.zmin ) && ( waypoint_position.z <= object_bounds.zmax ) ) )
; 2548 : 			{
; 2549 : 
; 2550 : 				//
; 2551 : 				// Set the in hangar bit
; 2552 : 				//
; 2553 : 
; 2554 : 				inhangar_bits |= ( 1 << count );

  001a0	b8 01 00 00 00	 mov	 eax, 1
  001a5	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  001a8	d3 e0		 shl	 eax, cl
  001aa	0b 45 f4	 or	 eax, DWORD PTR _inhangar_bits$[ebp]
  001ad	89 45 f4	 mov	 DWORD PTR _inhangar_bits$[ebp], eax
$LN9@get_waypoi:

; 2555 : 			}
; 2556 : 		}

  001b0	e9 0d ff ff ff	 jmp	 $LN5@get_waypoi
$LN6@get_waypoi:

; 2557 : 	}

  001b5	e9 92 fe ff ff	 jmp	 $LN2@get_waypoi
$LN3@get_waypoi:

; 2558 : 
; 2559 : 	return ( inhangar_bits );

  001ba	8b 45 f4	 mov	 eax, DWORD PTR _inhangar_bits$[ebp]

; 2560 : }

  001bd	5f		 pop	 edi
  001be	5e		 pop	 esi
  001bf	5b		 pop	 ebx
  001c0	8b e5		 mov	 esp, ebp
  001c2	5d		 pop	 ebp
  001c3	c2 08 00	 ret	 8
?get_waypoint_inhangar_bits@@YGIPAUROUTE_WAYPOINT_POSITION@@PAUOBJECT_3D_INSTANCE@@@Z ENDP ; get_waypoint_inhangar_bits
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?read_population_sam_placements@@YGXPAU_iobuf@@@Z
_TEXT	SEGMENT
tv138 = -124						; size = 4
$T1 = -120						; size = 4
$T2 = -116						; size = 4
_z_sec$3 = -48						; size = 4
_x_sec$4 = -44						; size = 4
_count$5 = -40						; size = 4
_formation_type$6 = -36					; size = 4
_formation_vehicle_component$7 = -32			; size = 4
_side$8 = -28						; size = 4
_sector$9 = -24						; size = 4
_pos$10 = -20						; size = 12
_count$ = -8						; size = 4
_number_of_instances$ = -4				; size = 4
_fp$ = 8						; size = 4
?read_population_sam_placements@@YGXPAU_iobuf@@@Z PROC	; read_population_sam_placements, COMDAT

; 2051 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 2052 : 
; 2053 : 	int
; 2054 : 		number_of_instances,
; 2055 : 		count;
; 2056 : 
; 2057 : 	fread ( &number_of_instances, sizeof ( int ), 1, fp );

  00009	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0000c	50		 push	 eax
  0000d	6a 01		 push	 1
  0000f	6a 04		 push	 4
  00011	8d 4d fc	 lea	 ecx, DWORD PTR _number_of_instances$[ebp]
  00014	51		 push	 ecx
  00015	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0001b	83 c4 10	 add	 esp, 16			; 00000010H

; 2058 : 
; 2059 : 	#if DEBUG_MODULE
; 2060 : 
; 2061 : 	debug_log ( "reading in %d aaa/sam placements", number_of_instances );
; 2062 : 
; 2063 : 	#endif
; 2064 : 
; 2065 : 	for ( count = 0; count < number_of_instances; count++ )

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00025	eb 09		 jmp	 SHORT $LN4@read_popul
$LN2@read_popul:
  00027	8b 45 f8	 mov	 eax, DWORD PTR _count$[ebp]
  0002a	83 c0 01	 add	 eax, 1
  0002d	89 45 f8	 mov	 DWORD PTR _count$[ebp], eax
$LN4@read_popul:
  00030	8b 45 f8	 mov	 eax, DWORD PTR _count$[ebp]
  00033	3b 45 fc	 cmp	 eax, DWORD PTR _number_of_instances$[ebp]
  00036	0f 8d 62 01 00
	00		 jge	 $LN3@read_popul

; 2066 : 	{
; 2067 : 
; 2068 : 		vec3d
; 2069 : 			pos;
; 2070 : 
; 2071 : 		entity
; 2072 : 			*sector;
; 2073 : 
; 2074 : 		entity_sides
; 2075 : 			side;
; 2076 : 
; 2077 : 		formation_vehicle_components
; 2078 : 			*formation_vehicle_component;
; 2079 : 
; 2080 : 		formation_component_types
; 2081 : 			formation_type;
; 2082 : 
; 2083 : 		int
; 2084 : 			count,
; 2085 : 			x_sec,
; 2086 : 			z_sec;
; 2087 : 
; 2088 : 		fread ( &pos.x, sizeof ( float ), 1, fp );

  0003c	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0003f	50		 push	 eax
  00040	6a 01		 push	 1
  00042	6a 04		 push	 4
  00044	8d 4d ec	 lea	 ecx, DWORD PTR _pos$10[ebp]
  00047	51		 push	 ecx
  00048	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0004e	83 c4 10	 add	 esp, 16			; 00000010H

; 2089 : 
; 2090 : 		fread ( &pos.z, sizeof ( float ), 1, fp );

  00051	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00054	50		 push	 eax
  00055	6a 01		 push	 1
  00057	6a 04		 push	 4
  00059	8d 4d f4	 lea	 ecx, DWORD PTR _pos$10[ebp+8]
  0005c	51		 push	 ecx
  0005d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00063	83 c4 10	 add	 esp, 16			; 00000010H

; 2091 : 
; 2092 : 		pos.z = current_map_max_z - pos.z;

  00066	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?current_map_max_z@@3HA
  0006e	f3 0f 5c 45 f4	 subss	 xmm0, DWORD PTR _pos$10[ebp+8]
  00073	f3 0f 11 45 f4	 movss	 DWORD PTR _pos$10[ebp+8], xmm0

; 2093 : 
; 2094 : 		pos.y = get_3d_terrain_point_data ( pos.x, pos.z, NULL );

  00078	6a 00		 push	 0
  0007a	51		 push	 ecx
  0007b	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _pos$10[ebp+8]
  00080	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00085	51		 push	 ecx
  00086	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _pos$10[ebp]
  0008b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00090	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00095	d9 5d f0	 fstp	 DWORD PTR _pos$10[ebp+4]

; 2095 : 
; 2096 : 		get_x_sector ( x_sec, pos.x );

  00098	8d 45 d4	 lea	 eax, DWORD PTR _x_sec$4[ebp]
  0009b	50		 push	 eax
  0009c	51		 push	 ecx
  0009d	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _pos$10[ebp]
  000a2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a7	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  000ac	8b 45 d4	 mov	 eax, DWORD PTR _x_sec$4[ebp]
  000af	99		 cdq
  000b0	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  000b6	89 45 d4	 mov	 DWORD PTR _x_sec$4[ebp], eax

; 2097 : 
; 2098 : 		get_z_sector ( z_sec, pos.z );

  000b9	8d 45 d0	 lea	 eax, DWORD PTR _z_sec$3[ebp]
  000bc	50		 push	 eax
  000bd	51		 push	 ecx
  000be	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _pos$10[ebp+8]
  000c3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c8	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  000cd	8b 45 d0	 mov	 eax, DWORD PTR _z_sec$3[ebp]
  000d0	99		 cdq
  000d1	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  000d7	89 45 d0	 mov	 DWORD PTR _z_sec$3[ebp], eax

; 2099 : 
; 2100 : 		side = get_initial_sector_side ( x_sec, z_sec );

  000da	8b 45 d0	 mov	 eax, DWORD PTR _z_sec$3[ebp]
  000dd	50		 push	 eax
  000de	8b 4d d4	 mov	 ecx, DWORD PTR _x_sec$4[ebp]
  000e1	51		 push	 ecx
  000e2	e8 00 00 00 00	 call	 ?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z ; get_initial_sector_side
  000e7	89 45 e4	 mov	 DWORD PTR _side$8[ebp], eax

; 2101 : 
; 2102 : 		sector = get_local_raw_sector_entity ( x_sec, z_sec );

  000ea	8b 45 d0	 mov	 eax, DWORD PTR _z_sec$3[ebp]
  000ed	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  000f4	03 45 d4	 add	 eax, DWORD PTR _x_sec$4[ebp]
  000f7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  000fd	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  00101	74 1a		 je	 SHORT $LN6@read_popul
  00103	8b 55 d0	 mov	 edx, DWORD PTR _z_sec$3[ebp]
  00106	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  0010d	03 55 d4	 add	 edx, DWORD PTR _x_sec$4[ebp]
  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  00115	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  00118	89 4d 84	 mov	 DWORD PTR tv138[ebp], ecx
  0011b	eb 21		 jmp	 SHORT $LN7@read_popul
$LN6@read_popul:
  0011d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_sam_placements@@YGXPAU_iobuf@@@Z@4JA
  00123	83 c2 33	 add	 edx, 51			; 00000033H
  00126	52		 push	 edx
  00127	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0012c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  00131	50		 push	 eax
  00132	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00137	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv138[ebp], 0
$LN7@read_popul:
  0013e	8b 4d 84	 mov	 ecx, DWORD PTR tv138[ebp]
  00141	89 4d e8	 mov	 DWORD PTR _sector$9[ebp], ecx

; 2103 : 
; 2104 : 		formation_type = FORMATION_COMPONENT_LIGHT_SAM_AAA_GROUP;

  00144	c7 45 dc 1c 00
	00 00		 mov	 DWORD PTR _formation_type$6[ebp], 28 ; 0000001cH

; 2105 : 
; 2106 : 		formation_vehicle_component = get_formation_components (formation_type);

  0014b	8b 45 dc	 mov	 eax, DWORD PTR _formation_type$6[ebp]
  0014e	50		 push	 eax
  0014f	e8 00 00 00 00	 call	 ?get_formation_components@@YGPAUFORMATION_VEHICLE_COMPONENTS@@W4FORMATION_COMPONENT_TYPES@@@Z ; get_formation_components
  00154	89 45 e0	 mov	 DWORD PTR _formation_vehicle_component$7[ebp], eax

; 2107 : 
; 2108 : 		count = max (0, formation_vehicle_component->count - 1);

  00157	8b 45 e0	 mov	 eax, DWORD PTR _formation_vehicle_component$7[ebp]
  0015a	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0015d	83 e9 01	 sub	 ecx, 1
  00160	89 4d 8c	 mov	 DWORD PTR $T2[ebp], ecx
  00163	c7 45 88 00 00
	00 00		 mov	 DWORD PTR $T1[ebp], 0
  0016a	8d 55 8c	 lea	 edx, DWORD PTR $T2[ebp]
  0016d	52		 push	 edx
  0016e	8d 45 88	 lea	 eax, DWORD PTR $T1[ebp]
  00171	50		 push	 eax
  00172	e8 00 00 00 00	 call	 ??$max@H@std@@YGABHABH0@Z ; std::max<int>
  00177	8b 08		 mov	 ecx, DWORD PTR [eax]
  00179	89 4d d8	 mov	 DWORD PTR _count$5[ebp], ecx

; 2109 : 
; 2110 : 		create_faction_members (NULL, ENTITY_SUB_TYPE_GROUP_ANTI_AIRCRAFT, formation_type, count, side, &pos, FALSE, TRUE );

  0017c	6a 01		 push	 1
  0017e	6a 00		 push	 0
  00180	8d 45 ec	 lea	 eax, DWORD PTR _pos$10[ebp]
  00183	50		 push	 eax
  00184	8b 4d e4	 mov	 ecx, DWORD PTR _side$8[ebp]
  00187	51		 push	 ecx
  00188	8b 55 d8	 mov	 edx, DWORD PTR _count$5[ebp]
  0018b	52		 push	 edx
  0018c	8b 45 dc	 mov	 eax, DWORD PTR _formation_type$6[ebp]
  0018f	50		 push	 eax
  00190	6a 0e		 push	 14			; 0000000eH
  00192	6a 00		 push	 0
  00194	e8 00 00 00 00	 call	 ?create_faction_members@@YGPAUENTITY@@PAU1@HW4FORMATION_COMPONENT_TYPES@@HW4ENTITY_SIDES@@PAUVEC3D@@HH@Z ; create_faction_members

; 2111 : 	}

  00199	e9 89 fe ff ff	 jmp	 $LN2@read_popul
$LN3@read_popul:

; 2112 : }

  0019e	5f		 pop	 edi
  0019f	5e		 pop	 esi
  001a0	5b		 pop	 ebx
  001a1	8b e5		 mov	 esp, ebp
  001a3	5d		 pop	 ebp
  001a4	c2 04 00	 ret	 4
?read_population_sam_placements@@YGXPAU_iobuf@@@Z ENDP	; read_population_sam_placements
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?read_population_airfield_placements@@YGXPAU_iobuf@@@Z
_TEXT	SEGMENT
tv346 = -856						; size = 4
tv322 = -856						; size = 4
tv311 = -856						; size = 4
tv300 = -856						; size = 4
tv290 = -856						; size = 4
tv246 = -856						; size = 4
tv186 = -856						; size = 4
tv156 = -856						; size = 4
_takeoff_holding_route$1 = -724				; size = 4
_landing_holding_route$2 = -720				; size = 4
_takeoff_route$3 = -716					; size = 4
_landing_route$4 = -712					; size = 4
_keysite_side$5 = -708					; size = 4
_z_sec$6 = -704						; size = 4
_x_sec$7 = -700						; size = 4
_important$8 = -696					; size = 4
_keysite_id$9 = -692					; size = 4
_people_flag$10 = -688					; size = 4
_transport_flag$11 = -684				; size = 4
_ship_flag$12 = -680					; size = 4
_routed_vehicle_flag$13 = -676				; size = 4
_helicopter_flag$14 = -672				; size = 4
_fixed_wing_flag$15 = -668				; size = 4
_airfield_name$16 = -664				; size = 4
_buffer$17 = -660					; size = 256
_position$18 = -404					; size = 12
_keysite$19 = -392					; size = 4
_sector$20 = -388					; size = 4
_force$21 = -384					; size = 4
_search$22 = -380					; size = 56
_side$23 = -324						; size = 4
_z_sec$24 = -320					; size = 4
_x_sec$25 = -316					; size = 4
_type$26 = -312						; size = 4
_object_index$27 = -308					; size = 4
_keysite_sub_type$28 = -304				; size = 4
_object_name$29 = -300					; size = 256
_z$30 = -44						; size = 4
_y$31 = -40						; size = 4
_x$32 = -36						; size = 4
_string_length$33 = -32					; size = 4
_sector$ = -28						; size = 4
_count$ = -24						; size = 4
_number_of_instances$ = -20				; size = 4
_red_force_carrier_count$ = -16				; size = 4
_blue_force_carrier_count$ = -12			; size = 4
_farp_count$ = -8					; size = 4
_airfield_count$ = -4					; size = 4
_fp$ = 8						; size = 4
?read_population_airfield_placements@@YGXPAU_iobuf@@@Z PROC ; read_population_airfield_placements, COMDAT

; 1428 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 58 03 00
	00		 sub	 esp, 856		; 00000358H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1429 : 
; 1430 : 	int
; 1431 : 		airfield_count,
; 1432 : 		farp_count,
; 1433 : 		blue_force_carrier_count,
; 1434 : 		red_force_carrier_count,
; 1435 : 		number_of_instances,
; 1436 : 		count;
; 1437 : 
; 1438 : 	entity
; 1439 : 		*sector;
; 1440 : 
; 1441 : 	airfield_count = 1;

  0000c	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _airfield_count$[ebp], 1

; 1442 : 
; 1443 : 	farp_count = 1;

  00013	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _farp_count$[ebp], 1

; 1444 : 
; 1445 : 	blue_force_carrier_count = 0;

  0001a	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _blue_force_carrier_count$[ebp], 0

; 1446 : 
; 1447 : 	red_force_carrier_count = 0;

  00021	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _red_force_carrier_count$[ebp], 0

; 1448 : 
; 1449 : 	fread ( &number_of_instances, sizeof ( int ), 1, fp );

  00028	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0002b	50		 push	 eax
  0002c	6a 01		 push	 1
  0002e	6a 04		 push	 4
  00030	8d 4d ec	 lea	 ecx, DWORD PTR _number_of_instances$[ebp]
  00033	51		 push	 ecx
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0003a	83 c4 10	 add	 esp, 16			; 00000010H

; 1450 : 
; 1451 : 	//
; 1452 : 	// Initialise the terrain object system
; 1453 : 	//
; 1454 : 
; 1455 : 	initialise_terrain_objects ();

  0003d	e8 00 00 00 00	 call	 ?initialise_terrain_objects@@YGXXZ ; initialise_terrain_objects

; 1456 : 
; 1457 : 	if ( number_of_instances )

  00042	83 7d ec 00	 cmp	 DWORD PTR _number_of_instances$[ebp], 0
  00046	74 09		 je	 SHORT $LN9@read_popul

; 1458 : 	{
; 1459 : 
; 1460 : 		set_number_of_terrain_objects ( number_of_instances );

  00048	8b 45 ec	 mov	 eax, DWORD PTR _number_of_instances$[ebp]
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?set_number_of_terrain_objects@@YGXH@Z ; set_number_of_terrain_objects
$LN9@read_popul:

; 1461 : 	}
; 1462 : 
; 1463 : 	//
; 1464 : 	// Read in the airfields themselves
; 1465 : 	//
; 1466 : 
; 1467 : 	#if DEBUG_MODULE
; 1468 : 	
; 1469 : 	debug_log ( "Starting airport placement" );
; 1470 : 
; 1471 : 	#endif
; 1472 : 
; 1473 : 	for ( count = 0; count < number_of_instances; count++ )

  00051	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00058	eb 09		 jmp	 SHORT $LN4@read_popul
$LN2@read_popul:
  0005a	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  0005d	83 c0 01	 add	 eax, 1
  00060	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax
$LN4@read_popul:
  00063	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  00066	3b 45 ec	 cmp	 eax, DWORD PTR _number_of_instances$[ebp]
  00069	0f 8d 43 0c 00
	00		 jge	 $LN3@read_popul

; 1474 : 	{
; 1475 : 
; 1476 : 		int
; 1477 : 			string_length;
; 1478 : 
; 1479 : 		float
; 1480 : 			x,
; 1481 : 			y,
; 1482 : 			z;
; 1483 : 
; 1484 : 		char
; 1485 : 			object_name[256];
; 1486 : 
; 1487 : 		entity_sub_types
; 1488 : 			keysite_sub_type;
; 1489 : 
; 1490 : 		object_3d_index_numbers
; 1491 : 			object_index;
; 1492 : 
; 1493 : 		memset ( object_name, 0, 256 );

  0006f	68 00 01 00 00	 push	 256			; 00000100H
  00074	6a 00		 push	 0
  00076	8d 85 d4 fe ff
	ff		 lea	 eax, DWORD PTR _object_name$29[ebp]
  0007c	50		 push	 eax
  0007d	e8 00 00 00 00	 call	 _memset
  00082	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1494 : 
; 1495 : 		fread ( &x, sizeof ( float ), 1, fp );

  00085	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00088	50		 push	 eax
  00089	6a 01		 push	 1
  0008b	6a 04		 push	 4
  0008d	8d 4d dc	 lea	 ecx, DWORD PTR _x$32[ebp]
  00090	51		 push	 ecx
  00091	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00097	83 c4 10	 add	 esp, 16			; 00000010H

; 1496 : 		fread ( &z, sizeof ( float ), 1, fp );

  0009a	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0009d	50		 push	 eax
  0009e	6a 01		 push	 1
  000a0	6a 04		 push	 4
  000a2	8d 4d d4	 lea	 ecx, DWORD PTR _z$30[ebp]
  000a5	51		 push	 ecx
  000a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000ac	83 c4 10	 add	 esp, 16			; 00000010H

; 1497 : 
; 1498 : 		z = current_map_max_z - z;

  000af	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?current_map_max_z@@3HA
  000b7	f3 0f 5c 45 d4	 subss	 xmm0, DWORD PTR _z$30[ebp]
  000bc	f3 0f 11 45 d4	 movss	 DWORD PTR _z$30[ebp], xmm0

; 1499 : 		y = get_3d_terrain_point_data ( x, z, NULL );

  000c1	6a 00		 push	 0
  000c3	51		 push	 ecx
  000c4	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _z$30[ebp]
  000c9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ce	51		 push	 ecx
  000cf	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _x$32[ebp]
  000d4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d9	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  000de	d9 5d d8	 fstp	 DWORD PTR _y$31[ebp]

; 1500 : 
; 1501 : 		fread ( &string_length, sizeof ( int ), 1, fp );

  000e1	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  000e4	50		 push	 eax
  000e5	6a 01		 push	 1
  000e7	6a 04		 push	 4
  000e9	8d 4d e0	 lea	 ecx, DWORD PTR _string_length$33[ebp]
  000ec	51		 push	 ecx
  000ed	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000f3	83 c4 10	 add	 esp, 16			; 00000010H

; 1502 : 		fread ( object_name, string_length, 1, fp );

  000f6	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  000f9	50		 push	 eax
  000fa	6a 01		 push	 1
  000fc	8b 4d e0	 mov	 ecx, DWORD PTR _string_length$33[ebp]
  000ff	51		 push	 ecx
  00100	8d 95 d4 fe ff
	ff		 lea	 edx, DWORD PTR _object_name$29[ebp]
  00106	52		 push	 edx
  00107	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0010d	83 c4 10	 add	 esp, 16			; 00000010H

; 1503 : 
; 1504 : 		object_index = get_object_index_from_name ( object_name );

  00110	8d 85 d4 fe ff
	ff		 lea	 eax, DWORD PTR _object_name$29[ebp]
  00116	50		 push	 eax
  00117	e8 00 00 00 00	 call	 ?get_object_index_from_name@@YGHPAD@Z ; get_object_index_from_name
  0011c	89 85 cc fe ff
	ff		 mov	 DWORD PTR _object_index$27[ebp], eax

; 1505 : 
; 1506 : 
; 1507 : 		if ( object_index == OBJECT_3D_AIRFIELD_FR_CUBA_TREEBLOCK )

  00122	81 bd cc fe ff
	ff a9 01 00 00	 cmp	 DWORD PTR _object_index$27[ebp], 425 ; 000001a9H
  0012c	0f 85 9f 00 00
	00		 jne	 $LN10@read_popul

; 1508 : 		{
; 1509 : 
; 1510 : 			//
; 1511 : 			// This is the cuba problem - don't insert it into the AI at all
; 1512 : 			//
; 1513 : 
; 1514 : 			current_airport_inst3d = construct_3d_object ( object_index );

  00132	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _object_index$27[ebp]
  00138	50		 push	 eax
  00139	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0013e	a3 00 00 00 00	 mov	 DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; current_airport_inst3d

; 1515 : 	
; 1516 : 			current_airport_inst3d->vp.position.x = x;

  00143	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00148	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _x$32[ebp]
  0014d	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 1517 : 			current_airport_inst3d->vp.position.y = y;

  00152	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00157	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _y$31[ebp]
  0015c	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 1518 : 			current_airport_inst3d->vp.position.z = z;

  00161	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00166	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _z$30[ebp]
  0016b	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 1519 : 	
; 1520 : 			current_airport_inst3d->object_has_shadow = FALSE;

  00170	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00175	8b 48 50	 mov	 ecx, DWORD PTR [eax+80]
  00178	83 e1 fb	 and	 ecx, -5			; fffffffbH
  0017b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00181	89 4a 50	 mov	 DWORD PTR [edx+80], ecx

; 1521 : 			current_airport_inst3d->object_internal_lighting = FALSE;

  00184	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00189	8b 48 50	 mov	 ecx, DWORD PTR [eax+80]
  0018c	83 e1 f7	 and	 ecx, -9			; fffffff7H
  0018f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00195	89 4a 50	 mov	 DWORD PTR [edx+80], ecx

; 1522 : 	
; 1523 : 			get_3d_transformation_matrix ( current_airport_inst3d->vp.attitude, 0.0, 0.0, 0.0 );

  00198	51		 push	 ecx
  00199	0f 57 c0	 xorps	 xmm0, xmm0
  0019c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a1	51		 push	 ecx
  001a2	0f 57 c0	 xorps	 xmm0, xmm0
  001a5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001aa	51		 push	 ecx
  001ab	0f 57 c0	 xorps	 xmm0, xmm0
  001ae	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  001b8	83 c0 14	 add	 eax, 20			; 00000014H
  001bb	50		 push	 eax
  001bc	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 1524 : 
; 1525 : 			insert_3d_object_into_terrain ( current_airport_inst3d );

  001c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  001c6	50		 push	 eax
  001c7	e8 00 00 00 00	 call	 ?insert_3d_object_into_terrain@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; insert_3d_object_into_terrain

; 1526 : 		}
; 1527 : 		else

  001cc	e9 dc 0a 00 00	 jmp	 $LN11@read_popul
$LN10@read_popul:

; 1528 : 		{
; 1529 : 	
; 1530 : 			switch ( object_index )

  001d1	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _object_index$27[ebp]
  001d7	89 85 a8 fc ff
	ff		 mov	 DWORD PTR tv156[ebp], eax
  001dd	8b 8d a8 fc ff
	ff		 mov	 ecx, DWORD PTR tv156[ebp]
  001e3	83 e9 2e	 sub	 ecx, 46			; 0000002eH
  001e6	89 8d a8 fc ff
	ff		 mov	 DWORD PTR tv156[ebp], ecx
  001ec	81 bd a8 fc ff
	ff c1 00 00 00	 cmp	 DWORD PTR tv156[ebp], 193 ; 000000c1H
  001f6	77 2c		 ja	 SHORT $LN14@read_popul
  001f8	8b 95 a8 fc ff
	ff		 mov	 edx, DWORD PTR tv156[ebp]
  001fe	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN50@read_popul[edx]
  00205	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN51@read_popul[eax*4]
$LN12@read_popul:

; 1531 : 			{
; 1532 : 	
; 1533 : 				case OBJECT_3D_AMERICAN_AIRPORT01:
; 1534 : 				case OBJECT_3D_AMERICAN_AIRPORT02:
; 1535 : 				case OBJECT_3D_AMERICAN_AIRPORT03:
; 1536 : 				case OBJECT_3D_RUSSIAN_AIRPORT01:
; 1537 : 				case OBJECT_3D_RUSSIAN_AIRPORT02:
; 1538 : 				case OBJECT_3D_RUSSIAN_AIRPORT03:
; 1539 : 				case OBJECT_3D_RUSSIAN_AIRPORT04:
; 1540 : 				case OBJECT_3D_RUSSIAN_AIRPORT05:
; 1541 : 				case OBJECT_3D_RUSSIAN_AIRPORT06:
; 1542 : 				case OBJECT_3D_RUSSIAN_AIRPORT07:
; 1543 : 				case OBJECT_3D_RUSSIAN_AIRPORT09:
; 1544 : 				case OBJECT_3D_RUSSIAN_AIRPORT10:
; 1545 : 				case OBJECT_3D_RUSSIAN_AIRPORT11:
; 1546 : 				case OBJECT_3D_RUSSIAN_AIRPORT12:
; 1547 : 				case OBJECT_3D_RUSSIAN_AIRPORT13:
; 1548 : 				{
; 1549 : 	
; 1550 : 					#if DEBUG_MODULE
; 1551 : 	
; 1552 : 					debug_log ( "Placing main airport at %f, %f", x, z );
; 1553 : 	
; 1554 : 					#endif
; 1555 : 	
; 1556 : 					keysite_sub_type = ENTITY_SUB_TYPE_KEYSITE_AIRBASE;

  0020c	c7 85 d0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _keysite_sub_type$28[ebp], 0

; 1557 : 	
; 1558 : 					break;

  00216	eb 16		 jmp	 SHORT $LN5@read_popul
$LN13@read_popul:

; 1559 : 				}
; 1560 : 	
; 1561 : 				case OBJECT_3D_RUSSIAN_FARP11:
; 1562 : 				case OBJECT_3D_AMERICAN_FARP11:
; 1563 : 				case OBJECT_3D_AMERICAN_FARP01:
; 1564 : 				case OBJECT_3D_AMERICAN_FARP02:
; 1565 : 				case OBJECT_3D_AMERICAN_FARP03:
; 1566 : 				case OBJECT_3D_AMERICAN_FARP04:
; 1567 : 				case OBJECT_3D_AMERICAN_FARP05:
; 1568 : 				case OBJECT_3D_AMERICAN_FARP06:
; 1569 : 				case OBJECT_3D_AMERICAN_FARP07:
; 1570 : 				case OBJECT_3D_AMERICAN_FARP08:
; 1571 : 				case OBJECT_3D_AMERICAN_FARP09:
; 1572 : 				case OBJECT_3D_AMERICAN_FARP10:
; 1573 : 				case OBJECT_3D_AMERICAN_FARP12:
; 1574 : 				case OBJECT_3D_AMERICAN_FARP13:
; 1575 : 				case OBJECT_3D_RUSSIAN_FARP01:
; 1576 : 				case OBJECT_3D_RUSSIAN_FARP02:
; 1577 : 				case OBJECT_3D_RUSSIAN_FARP03:
; 1578 : 				case OBJECT_3D_RUSSIAN_FARP04:
; 1579 : 				case OBJECT_3D_RUSSIAN_FARP05:
; 1580 : 				case OBJECT_3D_RUSSIAN_FARP06:
; 1581 : 				case OBJECT_3D_RUSSIAN_FARP07:
; 1582 : 				case OBJECT_3D_RUSSIAN_FARP08:
; 1583 : 				case OBJECT_3D_RUSSIAN_FARP09:
; 1584 : 				case OBJECT_3D_RUSSIAN_FARP10:
; 1585 : 				case OBJECT_3D_RUSSIAN_FARP12:
; 1586 : 				case OBJECT_3D_RUSSIAN_FARP13:					
; 1587 : 				{
; 1588 : 	
; 1589 : 					#if DEBUG_MODULE
; 1590 : 	
; 1591 : 					debug_log ( "Placing FARP at %f, %f", x, z );
; 1592 : 	
; 1593 : 					#endif
; 1594 : 	
; 1595 : 					keysite_sub_type = ENTITY_SUB_TYPE_KEYSITE_FARP;

  00218	c7 85 d0 fe ff
	ff 03 00 00 00	 mov	 DWORD PTR _keysite_sub_type$28[ebp], 3

; 1596 : 	
; 1597 : 					break;

  00222	eb 0a		 jmp	 SHORT $LN5@read_popul
$LN14@read_popul:

; 1598 : 				}
; 1599 : 	
; 1600 : 				default:
; 1601 : 				{
; 1602 : 	
; 1603 : 					keysite_sub_type = ENTITY_SUB_TYPE_KEYSITE_AIRBASE;

  00224	c7 85 d0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _keysite_sub_type$28[ebp], 0
$LN5@read_popul:

; 1604 : 				}
; 1605 : 			}
; 1606 : 	
; 1607 : 			//
; 1608 : 			// Check the terrain type here
; 1609 : 	
; 1610 : 			{
; 1611 : 	
; 1612 : 				terrain_types
; 1613 : 					type;
; 1614 : 	
; 1615 : 				get_3d_terrain_point_data ( x, z, NULL );

  0022e	6a 00		 push	 0
  00230	51		 push	 ecx
  00231	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _z$30[ebp]
  00236	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0023b	51		 push	 ecx
  0023c	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _x$32[ebp]
  00241	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00246	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  0024b	dd d8		 fstp	 ST(0)

; 1616 : 	
; 1617 : 				type = get_3d_terrain_point_data_type ( NULL );

  0024d	6a 00		 push	 0
  0024f	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data_type@@YGHPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data_type
  00254	89 85 c8 fe ff
	ff		 mov	 DWORD PTR _type$26[ebp], eax

; 1618 : 	
; 1619 : 				if ( get_terrain_type_class ( type ) == TERRAIN_CLASS_WATER )

  0025a	8b 85 c8 fe ff
	ff		 mov	 eax, DWORD PTR _type$26[ebp]
  00260	50		 push	 eax
  00261	e8 00 00 00 00	 call	 ?get_terrain_type_class@@YG?AW4TERRAIN_CLASSES@@H@Z ; get_terrain_type_class
  00266	83 f8 01	 cmp	 eax, 1
  00269	0f 85 20 01 00
	00		 jne	 $LN15@read_popul

; 1620 : 				{
; 1621 : 	
; 1622 : 					int
; 1623 : 						x_sec,
; 1624 : 						z_sec;
; 1625 : 
; 1626 : 					entity_sides
; 1627 : 						side;
; 1628 : 	
; 1629 : 					//
; 1630 : 					// Change object to KIEV or TARAWA for routes
; 1631 : 					//
; 1632 : 	
; 1633 : 					get_x_sector ( x_sec, x );

  0026f	8d 85 c4 fe ff
	ff		 lea	 eax, DWORD PTR _x_sec$25[ebp]
  00275	50		 push	 eax
  00276	51		 push	 ecx
  00277	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _x$32[ebp]
  0027c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00281	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  00286	8b 85 c4 fe ff
	ff		 mov	 eax, DWORD PTR _x_sec$25[ebp]
  0028c	99		 cdq
  0028d	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  00293	89 85 c4 fe ff
	ff		 mov	 DWORD PTR _x_sec$25[ebp], eax

; 1634 : 	
; 1635 : 					get_z_sector ( z_sec, z );

  00299	8d 85 c0 fe ff
	ff		 lea	 eax, DWORD PTR _z_sec$24[ebp]
  0029f	50		 push	 eax
  002a0	51		 push	 ecx
  002a1	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _z$30[ebp]
  002a6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002ab	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  002b0	8b 85 c0 fe ff
	ff		 mov	 eax, DWORD PTR _z_sec$24[ebp]
  002b6	99		 cdq
  002b7	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  002bd	89 85 c0 fe ff
	ff		 mov	 DWORD PTR _z_sec$24[ebp], eax

; 1636 : 
; 1637 : 					sector = get_local_raw_sector_entity ( x_sec, z_sec );

  002c3	8b 85 c0 fe ff
	ff		 mov	 eax, DWORD PTR _z_sec$24[ebp]
  002c9	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  002d0	03 85 c4 fe ff
	ff		 add	 eax, DWORD PTR _x_sec$25[ebp]
  002d6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  002dc	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  002e0	74 23		 je	 SHORT $LN46@read_popul
  002e2	8b 95 c0 fe ff
	ff		 mov	 edx, DWORD PTR _z_sec$24[ebp]
  002e8	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  002ef	03 95 c4 fe ff
	ff		 add	 edx, DWORD PTR _x_sec$25[ebp]
  002f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  002fa	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  002fd	89 8d a8 fc ff
	ff		 mov	 DWORD PTR tv186[ebp], ecx
  00303	eb 27		 jmp	 SHORT $LN47@read_popul
$LN46@read_popul:
  00305	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA
  0030b	81 c2 d1 00 00
	00		 add	 edx, 209		; 000000d1H
  00311	52		 push	 edx
  00312	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00317	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  0031c	50		 push	 eax
  0031d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00322	c7 85 a8 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv186[ebp], 0
$LN47@read_popul:
  0032c	8b 8d a8 fc ff
	ff		 mov	 ecx, DWORD PTR tv186[ebp]
  00332	89 4d e4	 mov	 DWORD PTR _sector$[ebp], ecx

; 1638 : 
; 1639 : 					side = get_initial_sector_side ( x_sec, z_sec );

  00335	8b 85 c0 fe ff
	ff		 mov	 eax, DWORD PTR _z_sec$24[ebp]
  0033b	50		 push	 eax
  0033c	8b 8d c4 fe ff
	ff		 mov	 ecx, DWORD PTR _x_sec$25[ebp]
  00342	51		 push	 ecx
  00343	e8 00 00 00 00	 call	 ?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z ; get_initial_sector_side
  00348	89 85 bc fe ff
	ff		 mov	 DWORD PTR _side$23[ebp], eax

; 1640 : 
; 1641 : 					if ( side == ENTITY_SIDE_RED_FORCE )

  0034e	83 bd bc fe ff
	ff 02		 cmp	 DWORD PTR _side$23[ebp], 2
  00355	75 0c		 jne	 SHORT $LN16@read_popul

; 1642 : 					{
; 1643 : 	
; 1644 : 						#if DEBUG_MODULE
; 1645 : 	
; 1646 : 						debug_log ( "Placing a kiev keysite" );
; 1647 : 
; 1648 : 						#endif
; 1649 : 	
; 1650 : 						object_index = OBJECT_3D_KIEV_CLASS;

  00357	c7 85 cc fe ff
	ff 52 0a 00 00	 mov	 DWORD PTR _object_index$27[ebp], 2642 ; 00000a52H
  00361	eb 22		 jmp	 SHORT $LN19@read_popul
$LN16@read_popul:

; 1651 : 					}
; 1652 : 					else if ( side == ENTITY_SIDE_BLUE_FORCE )

  00363	83 bd bc fe ff
	ff 01		 cmp	 DWORD PTR _side$23[ebp], 1
  0036a	75 0c		 jne	 SHORT $LN18@read_popul

; 1653 : 					{
; 1654 : 	
; 1655 : 						#if DEBUG_MODULE
; 1656 : 	
; 1657 : 						debug_log ( "Placing a tarawa keysite" );
; 1658 : 
; 1659 : 						#endif
; 1660 : 	
; 1661 : 						object_index = OBJECT_3D_TARAWA;

  0036c	c7 85 cc fe ff
	ff 55 0a 00 00	 mov	 DWORD PTR _object_index$27[ebp], 2645 ; 00000a55H

; 1662 : 					}
; 1663 : 					else

  00376	eb 0d		 jmp	 SHORT $LN19@read_popul
$LN18@read_popul:

; 1664 : 					{
; 1665 : 	
; 1666 : 						debug_fatal ( "Placing a sea keysite - but sector belongs to neither side" );

  00378	68 00 00 00 00	 push	 OFFSET ??_C@_0DL@LJOBLBAO@Placing?5a?5sea?5keysite?5?9?5but?5sec@
  0037d	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00382	83 c4 04	 add	 esp, 4
$LN19@read_popul:

; 1667 : 					}
; 1668 : 	
; 1669 : 					keysite_sub_type = ENTITY_SUB_TYPE_KEYSITE_ANCHORAGE;

  00385	c7 85 d0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _keysite_sub_type$28[ebp], 1
$LN15@read_popul:

; 1670 : 				}
; 1671 : 			}
; 1672 : 	
; 1673 : 			current_airport_inst3d = construct_3d_object ( object_index );

  0038f	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _object_index$27[ebp]
  00395	50		 push	 eax
  00396	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0039b	a3 00 00 00 00	 mov	 DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; current_airport_inst3d

; 1674 : 
; 1675 : 			current_airport_inst3d->vp.position.x = x;

  003a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  003a5	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _x$32[ebp]
  003aa	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 1676 : 	//VJ 060107 zbuffer fix for disappearing runways, simply elevate them above ground level by 0.05 m
; 1677 : 			current_airport_inst3d->vp.position.y = y+0.05;

  003af	f3 0f 5a 45 d8	 cvtss2sd xmm0, DWORD PTR _y$31[ebp]
  003b4	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fa999999999999a
  003bc	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  003c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  003c5	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 1678 : 			current_airport_inst3d->vp.position.z = z;

  003ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  003cf	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _z$30[ebp]
  003d4	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 1679 : 	
; 1680 : 			current_airport_inst3d->object_has_shadow = FALSE;

  003d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  003de	8b 48 50	 mov	 ecx, DWORD PTR [eax+80]
  003e1	83 e1 fb	 and	 ecx, -5			; fffffffbH
  003e4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  003ea	89 4a 50	 mov	 DWORD PTR [edx+80], ecx

; 1681 : 	
; 1682 : 			get_3d_transformation_matrix ( current_airport_inst3d->vp.attitude, 0.0, 0.0, 0.0 );

  003ed	51		 push	 ecx
  003ee	0f 57 c0	 xorps	 xmm0, xmm0
  003f1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003f6	51		 push	 ecx
  003f7	0f 57 c0	 xorps	 xmm0, xmm0
  003fa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003ff	51		 push	 ecx
  00400	0f 57 c0	 xorps	 xmm0, xmm0
  00403	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00408	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  0040d	83 c0 14	 add	 eax, 20			; 00000014H
  00410	50		 push	 eax
  00411	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 1683 : 	
; 1684 : 	#if ( !DEBUG_MODULE )
; 1685 : 	
; 1686 : 			{
; 1687 : 	
; 1688 : 				//
; 1689 : 				// Remove the waypoint route objects
; 1690 : 				//
; 1691 : 	
; 1692 : 				object_3d_sub_object_search_data
; 1693 : 					search;
; 1694 : 	
; 1695 : 				search.search_object = current_airport_inst3d;

  00416	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  0041b	89 85 84 fe ff
	ff		 mov	 DWORD PTR _search$22[ebp], eax

; 1696 : 				search.search_depth = 0;

  00421	c7 85 8c fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _search$22[ebp+8], 0

; 1697 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_WAYPOINT_ROUTES;

  0042b	c7 85 90 fe ff
	ff 33 00 00 00	 mov	 DWORD PTR _search$22[ebp+12], 51 ; 00000033H

; 1698 : 	
; 1699 : 				if ( find_object_3d_sub_object ( &search ) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND )

  00435	8d 85 84 fe ff
	ff		 lea	 eax, DWORD PTR _search$22[ebp]
  0043b	50		 push	 eax
  0043c	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00441	83 f8 01	 cmp	 eax, 1
  00444	75 15		 jne	 SHORT $LN20@read_popul

; 1700 : 				{
; 1701 : 	
; 1702 : 					search.result_sub_object->visible_object = FALSE;

  00446	8b 85 88 fe ff
	ff		 mov	 eax, DWORD PTR _search$22[ebp+4]
  0044c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0044f	83 e1 fe	 and	 ecx, -2			; fffffffeH
  00452	8b 95 88 fe ff
	ff		 mov	 edx, DWORD PTR _search$22[ebp+4]
  00458	89 4a 08	 mov	 DWORD PTR [edx+8], ecx
$LN20@read_popul:

; 1703 : 				}
; 1704 : 			}
; 1705 : 	
; 1706 : 	#endif
; 1707 : 	
; 1708 : 			if ( keysite_sub_type != ENTITY_SUB_TYPE_KEYSITE_ANCHORAGE )

  0045b	83 bd d0 fe ff
	ff 01		 cmp	 DWORD PTR _keysite_sub_type$28[ebp], 1
  00462	74 1f		 je	 SHORT $LN21@read_popul

; 1709 : 			{
; 1710 : 	
; 1711 : 				current_airport_inst3d->object_internal_lighting = TRUE;

  00464	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00469	8b 48 50	 mov	 ecx, DWORD PTR [eax+80]
  0046c	83 c9 08	 or	 ecx, 8
  0046f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00475	89 4a 50	 mov	 DWORD PTR [edx+80], ecx

; 1712 : 	
; 1713 : 				insert_3d_object_into_terrain ( current_airport_inst3d );

  00478	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  0047d	50		 push	 eax
  0047e	e8 00 00 00 00	 call	 ?insert_3d_object_into_terrain@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; insert_3d_object_into_terrain
$LN21@read_popul:

; 1714 : 			}
; 1715 : 	
; 1716 : 			//
; 1717 : 			// Create keysite,
; 1718 : 			//
; 1719 : 	
; 1720 : 			{
; 1721 : 	
; 1722 : 				entity
; 1723 : 					*force,
; 1724 : 					*sector,
; 1725 : 					*keysite;
; 1726 : 	
; 1727 : 				vec3d
; 1728 : 					position;
; 1729 : 	
; 1730 : 				char
; 1731 : 					buffer [256];
; 1732 : 				const char
; 1733 : 					*airfield_name;
; 1734 : 	
; 1735 : 				int
; 1736 : 					fixed_wing_flag,
; 1737 : 					helicopter_flag,
; 1738 : 					routed_vehicle_flag,
; 1739 : 					ship_flag,
; 1740 : 					transport_flag,
; 1741 : 					people_flag,
; 1742 : 					keysite_id,
; 1743 : 					important,
; 1744 : 					x_sec,
; 1745 : 					z_sec;
; 1746 : 	
; 1747 : 				entity_sides
; 1748 : 					keysite_side;
; 1749 : 	
; 1750 : 				object_3d_database_entry
; 1751 : 					*landing_route,
; 1752 : 					*takeoff_route,
; 1753 : 					*landing_holding_route,
; 1754 : 					*takeoff_holding_route;
; 1755 : 
; 1756 : 				position.x = x;

  00483	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _x$32[ebp]
  00488	f3 0f 11 85 6c
	fe ff ff	 movss	 DWORD PTR _position$18[ebp], xmm0

; 1757 : 				position.y = y;

  00490	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _y$31[ebp]
  00495	f3 0f 11 85 70
	fe ff ff	 movss	 DWORD PTR _position$18[ebp+4], xmm0

; 1758 : 				position.z = z;

  0049d	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _z$30[ebp]
  004a2	f3 0f 11 85 74
	fe ff ff	 movss	 DWORD PTR _position$18[ebp+8], xmm0

; 1759 : 	
; 1760 : 				airfield_name = NULL;

  004aa	c7 85 68 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _airfield_name$16[ebp], 0

; 1761 : 
; 1762 : 				keysite_id = -1;

  004b4	c7 85 4c fd ff
	ff ff ff ff ff	 mov	 DWORD PTR _keysite_id$9[ebp], -1

; 1763 : 
; 1764 : 				get_x_sector ( x_sec, position.x );

  004be	8d 85 44 fd ff
	ff		 lea	 eax, DWORD PTR _x_sec$7[ebp]
  004c4	50		 push	 eax
  004c5	51		 push	 ecx
  004c6	f3 0f 10 85 6c
	fe ff ff	 movss	 xmm0, DWORD PTR _position$18[ebp]
  004ce	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004d3	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  004d8	8b 85 44 fd ff
	ff		 mov	 eax, DWORD PTR _x_sec$7[ebp]
  004de	99		 cdq
  004df	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  004e5	89 85 44 fd ff
	ff		 mov	 DWORD PTR _x_sec$7[ebp], eax

; 1765 : 
; 1766 : 				get_z_sector ( z_sec, position.z );

  004eb	8d 85 40 fd ff
	ff		 lea	 eax, DWORD PTR _z_sec$6[ebp]
  004f1	50		 push	 eax
  004f2	51		 push	 ecx
  004f3	f3 0f 10 85 74
	fe ff ff	 movss	 xmm0, DWORD PTR _position$18[ebp+8]
  004fb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00500	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  00505	8b 85 40 fd ff
	ff		 mov	 eax, DWORD PTR _z_sec$6[ebp]
  0050b	99		 cdq
  0050c	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  00512	89 85 40 fd ff
	ff		 mov	 DWORD PTR _z_sec$6[ebp], eax

; 1767 : 
; 1768 : 				if ( keysite_sub_type == ENTITY_SUB_TYPE_KEYSITE_AIRBASE )

  00518	83 bd d0 fe ff
	ff 00		 cmp	 DWORD PTR _keysite_sub_type$28[ebp], 0
  0051f	75 2a		 jne	 SHORT $LN22@read_popul

; 1769 : 				{
; 1770 : 	
; 1771 : 					airfield_name = get_keysite_name ( x, z, &keysite_side );

  00521	8d 85 3c fd ff
	ff		 lea	 eax, DWORD PTR _keysite_side$5[ebp]
  00527	50		 push	 eax
  00528	51		 push	 ecx
  00529	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _z$30[ebp]
  0052e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00533	51		 push	 ecx
  00534	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _x$32[ebp]
  00539	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0053e	e8 00 00 00 00	 call	 ?get_keysite_name@@YGPBDMMPAW4ENTITY_SIDES@@@Z ; get_keysite_name
  00543	89 85 68 fd ff
	ff		 mov	 DWORD PTR _airfield_name$16[ebp], eax

; 1772 : 				}
; 1773 : 				else

  00549	eb 2b		 jmp	 SHORT $LN23@read_popul
$LN22@read_popul:

; 1774 : 				{
; 1775 : 
; 1776 : 					keysite_side = get_initial_sector_side ( x_sec, z_sec );

  0054b	8b 85 40 fd ff
	ff		 mov	 eax, DWORD PTR _z_sec$6[ebp]
  00551	50		 push	 eax
  00552	8b 8d 44 fd ff
	ff		 mov	 ecx, DWORD PTR _x_sec$7[ebp]
  00558	51		 push	 ecx
  00559	e8 00 00 00 00	 call	 ?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z ; get_initial_sector_side
  0055e	89 85 3c fd ff
	ff		 mov	 DWORD PTR _keysite_side$5[ebp], eax

; 1777 : 
; 1778 : 					sector = get_local_sector_entity (&position);

  00564	8d 85 6c fe ff
	ff		 lea	 eax, DWORD PTR _position$18[ebp]
  0056a	50		 push	 eax
  0056b	e8 00 00 00 00	 call	 ?get_local_sector_entity@@YGPAUENTITY@@PAUVEC3D@@@Z ; get_local_sector_entity
  00570	89 85 7c fe ff
	ff		 mov	 DWORD PTR _sector$20[ebp], eax
$LN23@read_popul:

; 1779 : 				}
; 1780 : 	
; 1781 : 				if (keysite_sub_type == ENTITY_SUB_TYPE_KEYSITE_FARP)

  00576	83 bd d0 fe ff
	ff 03		 cmp	 DWORD PTR _keysite_sub_type$28[ebp], 3
  0057d	75 4f		 jne	 SHORT $LN24@read_popul

; 1782 : 				{
; 1783 : 
; 1784 : 					keysite_id = farp_count;

  0057f	8b 45 f8	 mov	 eax, DWORD PTR _farp_count$[ebp]
  00582	89 85 4c fd ff
	ff		 mov	 DWORD PTR _keysite_id$9[ebp], eax

; 1785 : 
; 1786 : 					sprintf (buffer, "%s %d", get_trans (keysite_database [keysite_sub_type].short_name), farp_count ++);

  00588	8b 45 f8	 mov	 eax, DWORD PTR _farp_count$[ebp]
  0058b	89 85 a8 fc ff
	ff		 mov	 DWORD PTR tv246[ebp], eax
  00591	8b 8d a8 fc ff
	ff		 mov	 ecx, DWORD PTR tv246[ebp]
  00597	51		 push	 ecx
  00598	6b 95 d0 fe ff
	ff 44		 imul	 edx, DWORD PTR _keysite_sub_type$28[ebp], 68
  0059f	8b 82 04 00 00
	00		 mov	 eax, DWORD PTR ?keysite_database@@3PAUKEYSITE_DATA@@A[edx+4]
  005a5	50		 push	 eax
  005a6	e8 00 00 00 00	 call	 ?get_trans@@YGPBDPBD@Z	; get_trans
  005ab	50		 push	 eax
  005ac	68 00 00 00 00	 push	 OFFSET ??_C@_05DIALNFFA@?$CFs?5?$CFd@
  005b1	8d 8d 6c fd ff
	ff		 lea	 ecx, DWORD PTR _buffer$17[ebp]
  005b7	51		 push	 ecx
  005b8	e8 00 00 00 00	 call	 _sprintf
  005bd	83 c4 10	 add	 esp, 16			; 00000010H
  005c0	8b 55 f8	 mov	 edx, DWORD PTR _farp_count$[ebp]
  005c3	83 c2 01	 add	 edx, 1
  005c6	89 55 f8	 mov	 DWORD PTR _farp_count$[ebp], edx
  005c9	e9 55 01 00 00	 jmp	 $LN27@read_popul
$LN24@read_popul:

; 1787 : 				}
; 1788 : 				else if (keysite_sub_type == ENTITY_SUB_TYPE_KEYSITE_ANCHORAGE)

  005ce	83 bd d0 fe ff
	ff 01		 cmp	 DWORD PTR _keysite_sub_type$28[ebp], 1
  005d5	0f 85 db 00 00
	00		 jne	 $LN26@read_popul

; 1789 : 				{
; 1790 : 
; 1791 : 					keysite_id = blue_force_carrier_count + red_force_carrier_count + 1;

  005db	8b 45 f0	 mov	 eax, DWORD PTR _red_force_carrier_count$[ebp]
  005de	8b 4d f4	 mov	 ecx, DWORD PTR _blue_force_carrier_count$[ebp]
  005e1	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  005e5	89 95 4c fd ff
	ff		 mov	 DWORD PTR _keysite_id$9[ebp], edx

; 1792 : 
; 1793 : 					switch ( object_index )

  005eb	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _object_index$27[ebp]
  005f1	89 85 a8 fc ff
	ff		 mov	 DWORD PTR tv290[ebp], eax
  005f7	81 bd a8 fc ff
	ff 52 0a 00 00	 cmp	 DWORD PTR tv290[ebp], 2642 ; 00000a52H
  00601	74 11		 je	 SHORT $LN28@read_popul
  00603	81 bd a8 fc ff
	ff 55 0a 00 00	 cmp	 DWORD PTR tv290[ebp], 2645 ; 00000a55H
  0060d	74 56		 je	 SHORT $LN30@read_popul
  0060f	e9 a0 00 00 00	 jmp	 $LN7@read_popul
$LN28@read_popul:

; 1794 : 					{
; 1795 : 
; 1796 : 						case OBJECT_3D_KIEV_CLASS:
; 1797 : 						{
; 1798 : 
; 1799 : 							ASSERT ( red_force_carrier_count < ( ( sizeof ( red_force_carrier_names ) / sizeof ( char * ) ) ) );

  00614	83 7d f0 11	 cmp	 DWORD PTR _red_force_carrier_count$[ebp], 17 ; 00000011H
  00618	72 1a		 jb	 SHORT $LN29@read_popul
  0061a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA
  0061f	05 73 01 00 00	 add	 eax, 371		; 00000173H
  00624	50		 push	 eax
  00625	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0062a	68 00 00 00 00	 push	 OFFSET ??_C@_0FJ@HPLOBPIP@red_force_carrier_count?5?$DM?5?$CI?5?$CI?5s@
  0062f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN29@read_popul:

; 1800 : 
; 1801 : 							strcpy ( buffer, red_force_carrier_names[red_force_carrier_count++] );

  00634	8b 45 f0	 mov	 eax, DWORD PTR _red_force_carrier_count$[ebp]
  00637	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?red_force_carrier_names@@3PAPBDA[eax*4]
  0063e	89 8d a8 fc ff
	ff		 mov	 DWORD PTR tv300[ebp], ecx
  00644	8b 95 a8 fc ff
	ff		 mov	 edx, DWORD PTR tv300[ebp]
  0064a	52		 push	 edx
  0064b	8d 85 6c fd ff
	ff		 lea	 eax, DWORD PTR _buffer$17[ebp]
  00651	50		 push	 eax
  00652	e8 00 00 00 00	 call	 _strcpy
  00657	83 c4 08	 add	 esp, 8
  0065a	8b 4d f0	 mov	 ecx, DWORD PTR _red_force_carrier_count$[ebp]
  0065d	83 c1 01	 add	 ecx, 1
  00660	89 4d f0	 mov	 DWORD PTR _red_force_carrier_count$[ebp], ecx

; 1802 : 
; 1803 : 							break;

  00663	eb 4f		 jmp	 SHORT $LN7@read_popul
$LN30@read_popul:

; 1804 : 						}
; 1805 : 
; 1806 : 						case OBJECT_3D_TARAWA:
; 1807 : 						{
; 1808 : 
; 1809 : 							ASSERT ( blue_force_carrier_count < ( ( sizeof ( blue_force_carrier_names ) / sizeof ( char * ) ) ) );

  00665	83 7d f4 0e	 cmp	 DWORD PTR _blue_force_carrier_count$[ebp], 14 ; 0000000eH
  00669	72 1a		 jb	 SHORT $LN31@read_popul
  0066b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA
  00670	05 7d 01 00 00	 add	 eax, 381		; 0000017dH
  00675	50		 push	 eax
  00676	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0067b	68 00 00 00 00	 push	 OFFSET ??_C@_0FL@OBFICHNO@blue_force_carrier_count?5?$DM?5?$CI?5?$CI?5@
  00680	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN31@read_popul:

; 1810 : 
; 1811 : 							strcpy ( buffer, blue_force_carrier_names[blue_force_carrier_count++] );

  00685	8b 45 f4	 mov	 eax, DWORD PTR _blue_force_carrier_count$[ebp]
  00688	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?blue_force_carrier_names@@3PAPBDA[eax*4]
  0068f	89 8d a8 fc ff
	ff		 mov	 DWORD PTR tv311[ebp], ecx
  00695	8b 95 a8 fc ff
	ff		 mov	 edx, DWORD PTR tv311[ebp]
  0069b	52		 push	 edx
  0069c	8d 85 6c fd ff
	ff		 lea	 eax, DWORD PTR _buffer$17[ebp]
  006a2	50		 push	 eax
  006a3	e8 00 00 00 00	 call	 _strcpy
  006a8	83 c4 08	 add	 esp, 8
  006ab	8b 4d f4	 mov	 ecx, DWORD PTR _blue_force_carrier_count$[ebp]
  006ae	83 c1 01	 add	 ecx, 1
  006b1	89 4d f4	 mov	 DWORD PTR _blue_force_carrier_count$[ebp], ecx
$LN7@read_popul:

; 1812 : 
; 1813 : 							break;
; 1814 : 						}
; 1815 : 					}
; 1816 : 				}
; 1817 : 				else

  006b4	eb 6d		 jmp	 SHORT $LN27@read_popul
$LN26@read_popul:

; 1818 : 				{
; 1819 : 					ASSERT (keysite_sub_type == ENTITY_SUB_TYPE_KEYSITE_AIRBASE);

  006b6	83 bd d0 fe ff
	ff 00		 cmp	 DWORD PTR _keysite_sub_type$28[ebp], 0
  006bd	74 1a		 je	 SHORT $LN32@read_popul
  006bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA
  006c4	05 87 01 00 00	 add	 eax, 391		; 00000187H
  006c9	50		 push	 eax
  006ca	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  006cf	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@NKAKKFFE@keysite_sub_type?5?$DN?$DN?5ENTITY_SUB_@
  006d4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN32@read_popul:

; 1820 : 
; 1821 : 					keysite_id = airfield_count;

  006d9	8b 45 fc	 mov	 eax, DWORD PTR _airfield_count$[ebp]
  006dc	89 85 4c fd ff
	ff		 mov	 DWORD PTR _keysite_id$9[ebp], eax

; 1822 : 
; 1823 : 					sprintf (buffer, "%s %d", get_trans (keysite_database [keysite_sub_type].short_name), airfield_count ++);

  006e2	8b 45 fc	 mov	 eax, DWORD PTR _airfield_count$[ebp]
  006e5	89 85 a8 fc ff
	ff		 mov	 DWORD PTR tv322[ebp], eax
  006eb	8b 8d a8 fc ff
	ff		 mov	 ecx, DWORD PTR tv322[ebp]
  006f1	51		 push	 ecx
  006f2	6b 95 d0 fe ff
	ff 44		 imul	 edx, DWORD PTR _keysite_sub_type$28[ebp], 68
  006f9	8b 82 04 00 00
	00		 mov	 eax, DWORD PTR ?keysite_database@@3PAUKEYSITE_DATA@@A[edx+4]
  006ff	50		 push	 eax
  00700	e8 00 00 00 00	 call	 ?get_trans@@YGPBDPBD@Z	; get_trans
  00705	50		 push	 eax
  00706	68 00 00 00 00	 push	 OFFSET ??_C@_05DIALNFFA@?$CFs?5?$CFd@
  0070b	8d 8d 6c fd ff
	ff		 lea	 ecx, DWORD PTR _buffer$17[ebp]
  00711	51		 push	 ecx
  00712	e8 00 00 00 00	 call	 _sprintf
  00717	83 c4 10	 add	 esp, 16			; 00000010H
  0071a	8b 55 fc	 mov	 edx, DWORD PTR _airfield_count$[ebp]
  0071d	83 c2 01	 add	 edx, 1
  00720	89 55 fc	 mov	 DWORD PTR _airfield_count$[ebp], edx
$LN27@read_popul:

; 1824 : 				}
; 1825 : 
; 1826 : 				if (!airfield_name)

  00723	83 bd 68 fd ff
	ff 00		 cmp	 DWORD PTR _airfield_name$16[ebp], 0
  0072a	75 0c		 jne	 SHORT $LN33@read_popul

; 1827 : 				{
; 1828 : 
; 1829 : 					airfield_name = buffer;

  0072c	8d 85 6c fd ff
	ff		 lea	 eax, DWORD PTR _buffer$17[ebp]
  00732	89 85 68 fd ff
	ff		 mov	 DWORD PTR _airfield_name$16[ebp], eax
$LN33@read_popul:

; 1830 : 				}
; 1831 : 
; 1832 : 				ASSERT (keysite_id > 0);

  00738	83 bd 4c fd ff
	ff 00		 cmp	 DWORD PTR _keysite_id$9[ebp], 0
  0073f	7f 1a		 jg	 SHORT $LN34@read_popul
  00741	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_population_airfield_placements@@YGXPAU_iobuf@@@Z@4JA
  00746	05 94 01 00 00	 add	 eax, 404		; 00000194H
  0074b	50		 push	 eax
  0074c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00751	68 00 00 00 00	 push	 OFFSET ??_C@_0P@CHJBOHAI@keysite_id?5?$DO?50@
  00756	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN34@read_popul:

; 1833 : /*
; 1834 : 				if (	( keysite_sub_type == ENTITY_SUB_TYPE_KEYSITE_FARP ) ||
; 1835 : 						( keysite_sub_type == ENTITY_SUB_TYPE_KEYSITE_AIRBASE ) )
; 1836 : 				{
; 1837 : 
; 1838 : 					if ( keysite_side == ENTITY_SIDE_RED_FORCE )
; 1839 : 					{
; 1840 : 
; 1841 : 						debug_log ( "RUSSIAN AIRPORT: %s", object_3d_enumeration_names[object_index] );
; 1842 : 					}
; 1843 : 					else
; 1844 : 					{
; 1845 : 
; 1846 : 						debug_log ( "AMERICAN AIRPORT: %s", object_3d_enumeration_names[object_index] );
; 1847 : 					}
; 1848 : 				}
; 1849 : */
; 1850 : 
; 1851 : 				force = get_local_force_entity (keysite_side);

  0075b	8b 85 3c fd ff
	ff		 mov	 eax, DWORD PTR _keysite_side$5[ebp]
  00761	50		 push	 eax
  00762	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00767	89 85 80 fe ff
	ff		 mov	 DWORD PTR _force$21[ebp], eax

; 1852 : 
; 1853 : 				if ( population_importances )

  0076d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?population_importances@@3PAHA, 0
  00774	74 45		 je	 SHORT $LN35@read_popul

; 1854 : 				{
; 1855 : 
; 1856 : 					important = population_importances[( z_sec * ( MAX_MAP_X_SECTOR + 1 ) ) + x_sec] ? FALSE : TRUE;

  00776	a1 1c 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+28
  0077b	83 c0 01	 add	 eax, 1
  0077e	0f af 85 40 fd
	ff ff		 imul	 eax, DWORD PTR _z_sec$6[ebp]
  00785	03 85 44 fd ff
	ff		 add	 eax, DWORD PTR _x_sec$7[ebp]
  0078b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?population_importances@@3PAHA
  00791	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  00795	74 0c		 je	 SHORT $LN48@read_popul
  00797	c7 85 a8 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv346[ebp], 0
  007a1	eb 0a		 jmp	 SHORT $LN49@read_popul
$LN48@read_popul:
  007a3	c7 85 a8 fc ff
	ff 01 00 00 00	 mov	 DWORD PTR tv346[ebp], 1
$LN49@read_popul:
  007ad	8b 95 a8 fc ff
	ff		 mov	 edx, DWORD PTR tv346[ebp]
  007b3	89 95 48 fd ff
	ff		 mov	 DWORD PTR _important$8[ebp], edx

; 1857 : 				}
; 1858 : 				else

  007b9	eb 0a		 jmp	 SHORT $LN36@read_popul
$LN35@read_popul:

; 1859 : 				{
; 1860 : 
; 1861 : 					important = FALSE;

  007bb	c7 85 48 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _important$8[ebp], 0
$LN36@read_popul:

; 1862 : 				}
; 1863 : 
; 1864 : 				keysite =	create_local_entity

  007c5	6a 00		 push	 0
  007c7	8b 85 68 fd ff
	ff		 mov	 eax, DWORD PTR _airfield_name$16[ebp]
  007cd	50		 push	 eax
  007ce	6a 07		 push	 7
  007d0	6a 08		 push	 8
  007d2	f3 0f 5a 85 74
	fe ff ff	 cvtss2sd xmm0, DWORD PTR _position$18[ebp+8]
  007da	83 ec 08	 sub	 esp, 8
  007dd	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  007e2	f3 0f 5a 85 70
	fe ff ff	 cvtss2sd xmm0, DWORD PTR _position$18[ebp+4]
  007ea	83 ec 08	 sub	 esp, 8
  007ed	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  007f2	f3 0f 5a 85 6c
	fe ff ff	 cvtss2sd xmm0, DWORD PTR _position$18[ebp]
  007fa	83 ec 08	 sub	 esp, 8
  007fd	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00802	6a 08		 push	 8
  00804	6a 09		 push	 9
  00806	83 ec 08	 sub	 esp, 8
  00809	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4059000000000000
  00811	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00816	6a 30		 push	 48			; 00000030H
  00818	6a 04		 push	 4
  0081a	83 ec 08	 sub	 esp, 8
  0081d	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4059000000000000
  00825	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0082a	6a 08		 push	 8
  0082c	6a 04		 push	 4
  0082e	8b 8d 4c fd ff
	ff		 mov	 ecx, DWORD PTR _keysite_id$9[ebp]
  00834	51		 push	 ecx
  00835	6a 6f		 push	 111			; 0000006fH
  00837	6a 05		 push	 5
  00839	8b 95 3c fd ff
	ff		 mov	 edx, DWORD PTR _keysite_side$5[ebp]
  0083f	52		 push	 edx
  00840	68 bb 00 00 00	 push	 187			; 000000bbH
  00845	6a 05		 push	 5
  00847	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _object_index$27[ebp]
  0084d	50		 push	 eax
  0084e	68 94 00 00 00	 push	 148			; 00000094H
  00853	6a 05		 push	 5
  00855	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR _keysite_sub_type$28[ebp]
  0085b	51		 push	 ecx
  0085c	6a 34		 push	 52			; 00000034H
  0085e	6a 05		 push	 5
  00860	8b 95 80 fe ff
	ff		 mov	 edx, DWORD PTR _force$21[ebp]
  00866	52		 push	 edx
  00867	6a 15		 push	 21			; 00000015H
  00869	6a 06		 push	 6
  0086b	6a ff		 push	 -1
  0086d	6a 0f		 push	 15			; 0000000fH
  0086f	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00874	81 c4 94 00 00
	00		 add	 esp, 148		; 00000094H
  0087a	89 85 78 fe ff
	ff		 mov	 DWORD PTR _keysite$19[ebp], eax

; 1865 : 								(
; 1866 : 									ENTITY_TYPE_KEYSITE,
; 1867 : 									ENTITY_INDEX_DONT_CARE,
; 1868 : 									ENTITY_ATTR_PARENT ( LIST_TYPE_KEYSITE_FORCE, force ),
; 1869 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, keysite_sub_type ),
; 1870 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_INDEX, object_index ),
; 1871 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, keysite_side ),
; 1872 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_KEYSITE_ID, keysite_id ),
; 1873 : 									ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_AMMO_SUPPLY_LEVEL, 100.0),
; 1874 : 									ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_FUEL_SUPPLY_LEVEL, 100.0),
; 1875 : 									ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, position.x, position.y, position.z ),
; 1876 : 									ENTITY_ATTR_STRING ( STRING_TYPE_KEYSITE_NAME, airfield_name ),
; 1877 : 									ENTITY_ATTR_END
; 1878 : 								);
; 1879 : 
; 1880 : 				#if LANDING_KEYSITE_DEBUG_OUTPUT
; 1881 : 
; 1882 : 				if (keysite_sub_type != ENTITY_SUB_TYPE_KEYSITE_FARP)
; 1883 : 				{
; 1884 : 					debug_filtered_log ("                             ");
; 1885 : 					debug_filtered_log ("%s (%s)", airfield_name, entity_side_names [keysite_side]);
; 1886 : 				}
; 1887 : 
; 1888 : 				#endif
; 1889 : 
; 1890 : 				set_parser_keysite ( keysite );

  00880	8b 85 78 fe ff
	ff		 mov	 eax, DWORD PTR _keysite$19[ebp]
  00886	a3 00 00 00 00	 mov	 DWORD PTR ?parser_keysite@@3PAUENTITY@@A, eax ; parser_keysite

; 1891 : 
; 1892 : 				fixed_wing_flag = FALSE;

  0088b	c7 85 64 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _fixed_wing_flag$15[ebp], 0

; 1893 : 				helicopter_flag = FALSE;

  00895	c7 85 60 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _helicopter_flag$14[ebp], 0

; 1894 : 				routed_vehicle_flag = FALSE;

  0089f	c7 85 5c fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _routed_vehicle_flag$13[ebp], 0

; 1895 : 				ship_flag = FALSE;

  008a9	c7 85 58 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _ship_flag$12[ebp], 0

; 1896 : 				transport_flag = FALSE;

  008b3	c7 85 54 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _transport_flag$11[ebp], 0

; 1897 : 				people_flag = FALSE;

  008bd	c7 85 50 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _people_flag$10[ebp], 0

; 1898 : 
; 1899 : 				//
; 1900 : 				// Insert FIXEDWING waypoint routes into keysite.
; 1901 : 				//
; 1902 : 
; 1903 : 				landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_LANDING_ROUTE );

  008c7	6a 4c		 push	 76			; 0000004cH
  008c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  008ce	50		 push	 eax
  008cf	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  008d4	89 85 38 fd ff
	ff		 mov	 DWORD PTR _landing_route$4[ebp], eax

; 1904 : 				takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_TAKEOFF_ROUTE );

  008da	6a 4d		 push	 77			; 0000004dH
  008dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  008e1	50		 push	 eax
  008e2	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  008e7	89 85 34 fd ff
	ff		 mov	 DWORD PTR _takeoff_route$3[ebp], eax

; 1905 : 				landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_LANDING_HOLDING_ROUTE );

  008ed	6a 52		 push	 82			; 00000052H
  008ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  008f4	50		 push	 eax
  008f5	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  008fa	89 85 30 fd ff
	ff		 mov	 DWORD PTR _landing_holding_route$2[ebp], eax

; 1906 : 				takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_TAKEOFF_HOLDING_ROUTE );

  00900	6a 53		 push	 83			; 00000053H
  00902	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00907	50		 push	 eax
  00908	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  0090d	89 85 2c fd ff
	ff		 mov	 DWORD PTR _takeoff_holding_route$1[ebp], eax

; 1907 : 	
; 1908 : 				if ( ( landing_route ) && ( takeoff_route ) )

  00913	83 bd 38 fd ff
	ff 00		 cmp	 DWORD PTR _landing_route$4[ebp], 0
  0091a	74 49		 je	 SHORT $LN37@read_popul
  0091c	83 bd 34 fd ff
	ff 00		 cmp	 DWORD PTR _takeoff_route$3[ebp], 0
  00923	74 40		 je	 SHORT $LN37@read_popul

; 1909 : 				{
; 1910 : 
; 1911 : 					fixed_wing_flag = TRUE;

  00925	c7 85 64 fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _fixed_wing_flag$15[ebp], 1

; 1912 : 
; 1913 : 					insert_airport_fixedwing_routes ( ENTITY_SUB_TYPE_LANDING_FIXED_WING, &position, landing_route, takeoff_route );

  0092f	8b 85 34 fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_route$3[ebp]
  00935	50		 push	 eax
  00936	8b 8d 38 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_route$4[ebp]
  0093c	51		 push	 ecx
  0093d	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00943	52		 push	 edx
  00944	6a 00		 push	 0
  00946	e8 00 00 00 00	 call	 ?insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_fixedwing_routes

; 1914 : 
; 1915 : 					insert_airport_holding_routes ( &position, landing_holding_route, takeoff_holding_route );

  0094b	8b 85 2c fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_holding_route$1[ebp]
  00951	50		 push	 eax
  00952	8b 8d 30 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_holding_route$2[ebp]
  00958	51		 push	 ecx
  00959	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  0095f	52		 push	 edx
  00960	e8 00 00 00 00	 call	 ?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_holding_routes
$LN37@read_popul:

; 1916 : 				}
; 1917 : 
; 1918 : 				//
; 1919 : 				// Insert HELICOPTER waypoint routes into keysite.
; 1920 : 				//
; 1921 : 
; 1922 : 				landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_LANDING_ROUTE );

  00965	6a 4e		 push	 78			; 0000004eH
  00967	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  0096c	50		 push	 eax
  0096d	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00972	89 85 38 fd ff
	ff		 mov	 DWORD PTR _landing_route$4[ebp], eax

; 1923 : 				takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_TAKEOFF_ROUTE );

  00978	6a 4f		 push	 79			; 0000004fH
  0097a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  0097f	50		 push	 eax
  00980	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00985	89 85 34 fd ff
	ff		 mov	 DWORD PTR _takeoff_route$3[ebp], eax

; 1924 : 				landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_LANDING_HOLDING_ROUTE );

  0098b	6a 54		 push	 84			; 00000054H
  0098d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00992	50		 push	 eax
  00993	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00998	89 85 30 fd ff
	ff		 mov	 DWORD PTR _landing_holding_route$2[ebp], eax

; 1925 : 				takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_TAKEOFF_HOLDING_ROUTE );

  0099e	6a 55		 push	 85			; 00000055H
  009a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  009a5	50		 push	 eax
  009a6	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  009ab	89 85 2c fd ff
	ff		 mov	 DWORD PTR _takeoff_holding_route$1[ebp], eax

; 1926 : 	
; 1927 : 				if ( ( landing_route ) && ( takeoff_route ) )

  009b1	83 bd 38 fd ff
	ff 00		 cmp	 DWORD PTR _landing_route$4[ebp], 0
  009b8	74 3b		 je	 SHORT $LN38@read_popul
  009ba	83 bd 34 fd ff
	ff 00		 cmp	 DWORD PTR _takeoff_route$3[ebp], 0
  009c1	74 32		 je	 SHORT $LN38@read_popul

; 1928 : 				{
; 1929 : 
; 1930 : 					helicopter_flag = TRUE;

  009c3	c7 85 60 fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _helicopter_flag$14[ebp], 1

; 1931 : 
; 1932 : 					insert_airport_helicopter_routes ( &position, landing_route, takeoff_route, landing_holding_route, takeoff_holding_route );

  009cd	8b 85 2c fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_holding_route$1[ebp]
  009d3	50		 push	 eax
  009d4	8b 8d 30 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_holding_route$2[ebp]
  009da	51		 push	 ecx
  009db	8b 95 34 fd ff
	ff		 mov	 edx, DWORD PTR _takeoff_route$3[ebp]
  009e1	52		 push	 edx
  009e2	8b 85 38 fd ff
	ff		 mov	 eax, DWORD PTR _landing_route$4[ebp]
  009e8	50		 push	 eax
  009e9	8d 8d 6c fe ff
	ff		 lea	 ecx, DWORD PTR _position$18[ebp]
  009ef	51		 push	 ecx
  009f0	e8 00 00 00 00	 call	 ?insert_airport_helicopter_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@111@Z ; insert_airport_helicopter_routes
$LN38@read_popul:

; 1933 : 				}
; 1934 : 	
; 1935 : 				//
; 1936 : 				// Insert ROUTED VEHICLE waypoint routes into keysite.
; 1937 : 				//
; 1938 : 
; 1939 : 				landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_LANDING_ROUTE );

  009f5	6a 50		 push	 80			; 00000050H
  009f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  009fc	50		 push	 eax
  009fd	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00a02	89 85 38 fd ff
	ff		 mov	 DWORD PTR _landing_route$4[ebp], eax

; 1940 : 				takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_TAKEOFF_ROUTE );

  00a08	6a 51		 push	 81			; 00000051H
  00a0a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00a0f	50		 push	 eax
  00a10	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00a15	89 85 34 fd ff
	ff		 mov	 DWORD PTR _takeoff_route$3[ebp], eax

; 1941 : 				landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_LANDING_HOLDING_ROUTE );

  00a1b	6a 56		 push	 86			; 00000056H
  00a1d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00a22	50		 push	 eax
  00a23	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00a28	89 85 30 fd ff
	ff		 mov	 DWORD PTR _landing_holding_route$2[ebp], eax

; 1942 : 				takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_TAKEOFF_HOLDING_ROUTE );

  00a2e	6a 57		 push	 87			; 00000057H
  00a30	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00a35	50		 push	 eax
  00a36	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00a3b	89 85 2c fd ff
	ff		 mov	 DWORD PTR _takeoff_holding_route$1[ebp], eax

; 1943 : 	
; 1944 : 				if ( ( landing_route ) && ( takeoff_route ) )

  00a41	83 bd 38 fd ff
	ff 00		 cmp	 DWORD PTR _landing_route$4[ebp], 0
  00a48	74 49		 je	 SHORT $LN39@read_popul
  00a4a	83 bd 34 fd ff
	ff 00		 cmp	 DWORD PTR _takeoff_route$3[ebp], 0
  00a51	74 40		 je	 SHORT $LN39@read_popul

; 1945 : 				{
; 1946 : 
; 1947 : 					routed_vehicle_flag = TRUE;

  00a53	c7 85 5c fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _routed_vehicle_flag$13[ebp], 1

; 1948 : 
; 1949 : 					insert_airport_general_takeoff_landing_routes ( ENTITY_SUB_TYPE_LANDING_GROUND , &position, landing_route, takeoff_route );

  00a5d	8b 85 34 fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_route$3[ebp]
  00a63	50		 push	 eax
  00a64	8b 8d 38 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_route$4[ebp]
  00a6a	51		 push	 ecx
  00a6b	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00a71	52		 push	 edx
  00a72	6a 03		 push	 3
  00a74	e8 00 00 00 00	 call	 ?insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_general_takeoff_landing_routes

; 1950 : 
; 1951 : 					insert_airport_holding_routes ( &position, landing_holding_route, takeoff_holding_route );

  00a79	8b 85 2c fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_holding_route$1[ebp]
  00a7f	50		 push	 eax
  00a80	8b 8d 30 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_holding_route$2[ebp]
  00a86	51		 push	 ecx
  00a87	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00a8d	52		 push	 edx
  00a8e	e8 00 00 00 00	 call	 ?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_holding_routes
$LN39@read_popul:

; 1952 : 				}
; 1953 : 	
; 1954 : 	
; 1955 : 				//
; 1956 : 				// Insert SHIP waypoint routes into keysite.
; 1957 : 				//
; 1958 : 	
; 1959 : 				landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_LANDING_ROUTE );

  00a93	68 0e 01 00 00	 push	 270			; 0000010eH
  00a98	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00a9d	50		 push	 eax
  00a9e	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00aa3	89 85 38 fd ff
	ff		 mov	 DWORD PTR _landing_route$4[ebp], eax

; 1960 : 				takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_TAKEOFF_ROUTE );

  00aa9	68 10 01 00 00	 push	 272			; 00000110H
  00aae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00ab3	50		 push	 eax
  00ab4	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00ab9	89 85 34 fd ff
	ff		 mov	 DWORD PTR _takeoff_route$3[ebp], eax

; 1961 : 				landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_LANDING_HOLDING_ROUTE );

  00abf	68 0d 01 00 00	 push	 269			; 0000010dH
  00ac4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00ac9	50		 push	 eax
  00aca	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00acf	89 85 30 fd ff
	ff		 mov	 DWORD PTR _landing_holding_route$2[ebp], eax

; 1962 : 				takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_TAKEOFF_HOLDING_ROUTE );

  00ad5	68 0f 01 00 00	 push	 271			; 0000010fH
  00ada	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00adf	50		 push	 eax
  00ae0	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00ae5	89 85 2c fd ff
	ff		 mov	 DWORD PTR _takeoff_holding_route$1[ebp], eax

; 1963 : 
; 1964 : 				if ( ( landing_route ) && ( takeoff_route ) )

  00aeb	83 bd 38 fd ff
	ff 00		 cmp	 DWORD PTR _landing_route$4[ebp], 0
  00af2	74 49		 je	 SHORT $LN40@read_popul
  00af4	83 bd 34 fd ff
	ff 00		 cmp	 DWORD PTR _takeoff_route$3[ebp], 0
  00afb	74 40		 je	 SHORT $LN40@read_popul

; 1965 : 				{
; 1966 : 
; 1967 : 					ship_flag = TRUE;

  00afd	c7 85 58 fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _ship_flag$12[ebp], 1

; 1968 : 
; 1969 : 					insert_airport_general_takeoff_landing_routes ( ENTITY_SUB_TYPE_LANDING_SEA, &position, landing_route, takeoff_route );

  00b07	8b 85 34 fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_route$3[ebp]
  00b0d	50		 push	 eax
  00b0e	8b 8d 38 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_route$4[ebp]
  00b14	51		 push	 ecx
  00b15	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00b1b	52		 push	 edx
  00b1c	6a 05		 push	 5
  00b1e	e8 00 00 00 00	 call	 ?insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_general_takeoff_landing_routes

; 1970 : 
; 1971 : 					insert_airport_holding_routes ( &position, landing_holding_route, takeoff_holding_route );

  00b23	8b 85 2c fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_holding_route$1[ebp]
  00b29	50		 push	 eax
  00b2a	8b 8d 30 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_holding_route$2[ebp]
  00b30	51		 push	 ecx
  00b31	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00b37	52		 push	 edx
  00b38	e8 00 00 00 00	 call	 ?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_holding_routes
$LN40@read_popul:

; 1972 : 				}
; 1973 : 	
; 1974 : 				//
; 1975 : 				// Insert TRANSPORT waypoint routes into keysite.
; 1976 : 				//
; 1977 : 
; 1978 : 				landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_TRANSPORT_LANDING_ROUTE );

  00b3d	6a 5b		 push	 91			; 0000005bH
  00b3f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00b44	50		 push	 eax
  00b45	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00b4a	89 85 38 fd ff
	ff		 mov	 DWORD PTR _landing_route$4[ebp], eax

; 1979 : 				takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_TRANSPORT_TAKEOFF_ROUTE );

  00b50	6a 5a		 push	 90			; 0000005aH
  00b52	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00b57	50		 push	 eax
  00b58	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00b5d	89 85 34 fd ff
	ff		 mov	 DWORD PTR _takeoff_route$3[ebp], eax

; 1980 : 				landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_TRANSPORT_LANDING_HOLDING_ROUTE );

  00b63	6a 5c		 push	 92			; 0000005cH
  00b65	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00b6a	50		 push	 eax
  00b6b	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00b70	89 85 30 fd ff
	ff		 mov	 DWORD PTR _landing_holding_route$2[ebp], eax

; 1981 : 				takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_TRANSPORT_TAKEOFF_HOLDING_ROUTE );

  00b76	6a 5d		 push	 93			; 0000005dH
  00b78	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00b7d	50		 push	 eax
  00b7e	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00b83	89 85 2c fd ff
	ff		 mov	 DWORD PTR _takeoff_holding_route$1[ebp], eax

; 1982 : 
; 1983 : 				if ( ( landing_route ) && ( takeoff_route ) )

  00b89	83 bd 38 fd ff
	ff 00		 cmp	 DWORD PTR _landing_route$4[ebp], 0
  00b90	74 49		 je	 SHORT $LN41@read_popul
  00b92	83 bd 34 fd ff
	ff 00		 cmp	 DWORD PTR _takeoff_route$3[ebp], 0
  00b99	74 40		 je	 SHORT $LN41@read_popul

; 1984 : 				{
; 1985 : 
; 1986 : 					transport_flag = TRUE;

  00b9b	c7 85 54 fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _transport_flag$11[ebp], 1

; 1987 : 
; 1988 : 					insert_airport_fixedwing_routes ( ENTITY_SUB_TYPE_LANDING_FIXED_WING_TRANSPORT , &position, landing_route, takeoff_route );

  00ba5	8b 85 34 fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_route$3[ebp]
  00bab	50		 push	 eax
  00bac	8b 8d 38 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_route$4[ebp]
  00bb2	51		 push	 ecx
  00bb3	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00bb9	52		 push	 edx
  00bba	6a 01		 push	 1
  00bbc	e8 00 00 00 00	 call	 ?insert_airport_fixedwing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_fixedwing_routes

; 1989 : 
; 1990 : 					insert_airport_holding_routes ( &position, landing_holding_route, takeoff_holding_route );

  00bc1	8b 85 2c fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_holding_route$1[ebp]
  00bc7	50		 push	 eax
  00bc8	8b 8d 30 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_holding_route$2[ebp]
  00bce	51		 push	 ecx
  00bcf	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00bd5	52		 push	 edx
  00bd6	e8 00 00 00 00	 call	 ?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_holding_routes
$LN41@read_popul:

; 1991 : 				}
; 1992 : 	
; 1993 : 				//
; 1994 : 				// Insert ASTHETIC PEOPLE waypoint routes into keysite.
; 1995 : 				//
; 1996 : 	
; 1997 : 				landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_PERSON_LANDING_ROUTE );

  00bdb	6a 5e		 push	 94			; 0000005eH
  00bdd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00be2	50		 push	 eax
  00be3	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00be8	89 85 38 fd ff
	ff		 mov	 DWORD PTR _landing_route$4[ebp], eax

; 1998 : 				takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_PERSON_TAKEOFF_ROUTE );

  00bee	6a 5f		 push	 95			; 0000005fH
  00bf0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00bf5	50		 push	 eax
  00bf6	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00bfb	89 85 34 fd ff
	ff		 mov	 DWORD PTR _takeoff_route$3[ebp], eax

; 1999 : 				landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_PERSON_LANDING_HOLDING_ROUTE );

  00c01	6a 61		 push	 97			; 00000061H
  00c03	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00c08	50		 push	 eax
  00c09	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00c0e	89 85 30 fd ff
	ff		 mov	 DWORD PTR _landing_holding_route$2[ebp], eax

; 2000 : 				takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_PERSON_TAKEOFF_HOLDING_ROUTE );

  00c14	6a 60		 push	 96			; 00000060H
  00c16	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00c1b	50		 push	 eax
  00c1c	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00c21	89 85 2c fd ff
	ff		 mov	 DWORD PTR _takeoff_holding_route$1[ebp], eax

; 2001 : 
; 2002 : 				if ( ( landing_route ) && ( takeoff_route ) )

  00c27	83 bd 38 fd ff
	ff 00		 cmp	 DWORD PTR _landing_route$4[ebp], 0
  00c2e	74 49		 je	 SHORT $LN42@read_popul
  00c30	83 bd 34 fd ff
	ff 00		 cmp	 DWORD PTR _takeoff_route$3[ebp], 0
  00c37	74 40		 je	 SHORT $LN42@read_popul

; 2003 : 				{
; 2004 : 
; 2005 : 					people_flag = TRUE;

  00c39	c7 85 50 fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _people_flag$10[ebp], 1

; 2006 : 
; 2007 : 					insert_airport_general_takeoff_landing_routes ( ENTITY_SUB_TYPE_LANDING_PEOPLE , &position, landing_route, takeoff_route );

  00c43	8b 85 34 fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_route$3[ebp]
  00c49	50		 push	 eax
  00c4a	8b 8d 38 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_route$4[ebp]
  00c50	51		 push	 ecx
  00c51	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00c57	52		 push	 edx
  00c58	6a 04		 push	 4
  00c5a	e8 00 00 00 00	 call	 ?insert_airport_general_takeoff_landing_routes@@YGXHPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_general_takeoff_landing_routes

; 2008 : 
; 2009 : 					insert_airport_holding_routes ( &position, landing_holding_route, takeoff_holding_route );

  00c5f	8b 85 2c fd ff
	ff		 mov	 eax, DWORD PTR _takeoff_holding_route$1[ebp]
  00c65	50		 push	 eax
  00c66	8b 8d 30 fd ff
	ff		 mov	 ecx, DWORD PTR _landing_holding_route$2[ebp]
  00c6c	51		 push	 ecx
  00c6d	8d 95 6c fe ff
	ff		 lea	 edx, DWORD PTR _position$18[ebp]
  00c73	52		 push	 edx
  00c74	e8 00 00 00 00	 call	 ?insert_airport_holding_routes@@YGXPAUVEC3D@@PAUOBJECT_3D_DATABASE_ENTRY@@1@Z ; insert_airport_holding_routes
$LN42@read_popul:

; 2010 : 				}
; 2011 : 
; 2012 : 				//
; 2013 : 				// Insert any buildings into the keysite
; 2014 : 				//
; 2015 : 
; 2016 : 				if ( keysite_sub_type != ENTITY_SUB_TYPE_KEYSITE_ANCHORAGE )

  00c79	83 bd d0 fe ff
	ff 01		 cmp	 DWORD PTR _keysite_sub_type$28[ebp], 1
  00c80	74 14		 je	 SHORT $LN43@read_popul

; 2017 : 				{
; 2018 : 	
; 2019 : 					insert_airfield_buildings ( keysite_side, current_airport_inst3d );

  00c82	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00c87	50		 push	 eax
  00c88	8b 8d 3c fd ff
	ff		 mov	 ecx, DWORD PTR _keysite_side$5[ebp]
  00c8e	51		 push	 ecx
  00c8f	e8 00 00 00 00	 call	 ?insert_airfield_buildings@@YGXHPAUOBJECT_3D_INSTANCE@@@Z ; insert_airfield_buildings

; 2020 : 				}
; 2021 : 				else

  00c94	eb 0b		 jmp	 SHORT $LN44@read_popul
$LN43@read_popul:

; 2022 : 				{
; 2023 : 	
; 2024 : 					destruct_3d_object ( current_airport_inst3d );

  00c96	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_airport_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; current_airport_inst3d
  00c9b	50		 push	 eax
  00c9c	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object
$LN44@read_popul:

; 2025 : 				}
; 2026 : 
; 2027 : 				// debug_log used to generate POPNAME.DAT. just replace the - with newlines....
; 2028 : 
; 2029 : 				#if DEBUG_MODULE
; 2030 : 
; 2031 : 				debug_log ("POPREAD: POPNAME.DAT (%s) :NAME %s-:POPULATION_TYPE KEYSITE-:POSITION %.0f %.0f-:ZOOM 0. (FW %d)(HC %d)(RV %d)(SH %d)(T-FW %d)(PPL %d)",
; 2032 : 							entity_side_names [keysite_side], airfield_name, position.x, position.z, fixed_wing_flag, helicopter_flag, routed_vehicle_flag, ship_flag, transport_flag, people_flag);
; 2033 : 
; 2034 : 				#endif
; 2035 : 
; 2036 : 				//
; 2037 : 				// Check all the landing site are on flat land
; 2038 : 				//
; 2039 : 
; 2040 : 				validate_keysite_landing_site_heights (keysite);

  00ca1	8b 85 78 fe ff
	ff		 mov	 eax, DWORD PTR _keysite$19[ebp]
  00ca7	50		 push	 eax
  00ca8	e8 00 00 00 00	 call	 ?validate_keysite_landing_site_heights@@YGXPAUENTITY@@@Z ; validate_keysite_landing_site_heights
$LN11@read_popul:

; 2041 : 			}
; 2042 : 		}
; 2043 : 	}

  00cad	e9 a8 f3 ff ff	 jmp	 $LN2@read_popul
$LN3@read_popul:

; 2044 : }

  00cb2	5f		 pop	 edi
  00cb3	5e		 pop	 esi
  00cb4	5b		 pop	 ebx
  00cb5	8b e5		 mov	 esp, ebp
  00cb7	5d		 pop	 ebp
  00cb8	c2 04 00	 ret	 4
  00cbb	90		 npad	 1
$LN51@read_popul:
  00cbc	00 00 00 00	 DD	 $LN12@read_popul
  00cc0	00 00 00 00	 DD	 $LN13@read_popul
  00cc4	00 00 00 00	 DD	 $LN14@read_popul
$LN50@read_popul:
  00cc8	00		 DB	 0
  00cc9	00		 DB	 0
  00cca	00		 DB	 0
  00ccb	02		 DB	 2
  00ccc	02		 DB	 2
  00ccd	02		 DB	 2
  00cce	02		 DB	 2
  00ccf	02		 DB	 2
  00cd0	02		 DB	 2
  00cd1	02		 DB	 2
  00cd2	02		 DB	 2
  00cd3	02		 DB	 2
  00cd4	02		 DB	 2
  00cd5	02		 DB	 2
  00cd6	02		 DB	 2
  00cd7	02		 DB	 2
  00cd8	02		 DB	 2
  00cd9	02		 DB	 2
  00cda	02		 DB	 2
  00cdb	02		 DB	 2
  00cdc	02		 DB	 2
  00cdd	02		 DB	 2
  00cde	02		 DB	 2
  00cdf	02		 DB	 2
  00ce0	02		 DB	 2
  00ce1	02		 DB	 2
  00ce2	01		 DB	 1
  00ce3	01		 DB	 1
  00ce4	01		 DB	 1
  00ce5	01		 DB	 1
  00ce6	01		 DB	 1
  00ce7	01		 DB	 1
  00ce8	01		 DB	 1
  00ce9	01		 DB	 1
  00cea	01		 DB	 1
  00ceb	01		 DB	 1
  00cec	01		 DB	 1
  00ced	01		 DB	 1
  00cee	01		 DB	 1
  00cef	02		 DB	 2
  00cf0	02		 DB	 2
  00cf1	02		 DB	 2
  00cf2	02		 DB	 2
  00cf3	02		 DB	 2
  00cf4	02		 DB	 2
  00cf5	02		 DB	 2
  00cf6	02		 DB	 2
  00cf7	02		 DB	 2
  00cf8	02		 DB	 2
  00cf9	02		 DB	 2
  00cfa	02		 DB	 2
  00cfb	02		 DB	 2
  00cfc	02		 DB	 2
  00cfd	02		 DB	 2
  00cfe	02		 DB	 2
  00cff	02		 DB	 2
  00d00	02		 DB	 2
  00d01	02		 DB	 2
  00d02	02		 DB	 2
  00d03	02		 DB	 2
  00d04	02		 DB	 2
  00d05	02		 DB	 2
  00d06	02		 DB	 2
  00d07	02		 DB	 2
  00d08	02		 DB	 2
  00d09	02		 DB	 2
  00d0a	02		 DB	 2
  00d0b	02		 DB	 2
  00d0c	02		 DB	 2
  00d0d	02		 DB	 2
  00d0e	02		 DB	 2
  00d0f	02		 DB	 2
  00d10	02		 DB	 2
  00d11	02		 DB	 2
  00d12	02		 DB	 2
  00d13	02		 DB	 2
  00d14	02		 DB	 2
  00d15	02		 DB	 2
  00d16	02		 DB	 2
  00d17	02		 DB	 2
  00d18	02		 DB	 2
  00d19	02		 DB	 2
  00d1a	02		 DB	 2
  00d1b	02		 DB	 2
  00d1c	02		 DB	 2
  00d1d	02		 DB	 2
  00d1e	02		 DB	 2
  00d1f	02		 DB	 2
  00d20	02		 DB	 2
  00d21	02		 DB	 2
  00d22	02		 DB	 2
  00d23	02		 DB	 2
  00d24	02		 DB	 2
  00d25	02		 DB	 2
  00d26	02		 DB	 2
  00d27	02		 DB	 2
  00d28	02		 DB	 2
  00d29	02		 DB	 2
  00d2a	02		 DB	 2
  00d2b	02		 DB	 2
  00d2c	02		 DB	 2
  00d2d	02		 DB	 2
  00d2e	02		 DB	 2
  00d2f	02		 DB	 2
  00d30	02		 DB	 2
  00d31	02		 DB	 2
  00d32	02		 DB	 2
  00d33	02		 DB	 2
  00d34	02		 DB	 2
  00d35	02		 DB	 2
  00d36	02		 DB	 2
  00d37	02		 DB	 2
  00d38	02		 DB	 2
  00d39	02		 DB	 2
  00d3a	02		 DB	 2
  00d3b	02		 DB	 2
  00d3c	02		 DB	 2
  00d3d	02		 DB	 2
  00d3e	02		 DB	 2
  00d3f	02		 DB	 2
  00d40	02		 DB	 2
  00d41	02		 DB	 2
  00d42	02		 DB	 2
  00d43	02		 DB	 2
  00d44	02		 DB	 2
  00d45	02		 DB	 2
  00d46	02		 DB	 2
  00d47	02		 DB	 2
  00d48	02		 DB	 2
  00d49	02		 DB	 2
  00d4a	02		 DB	 2
  00d4b	02		 DB	 2
  00d4c	02		 DB	 2
  00d4d	02		 DB	 2
  00d4e	02		 DB	 2
  00d4f	02		 DB	 2
  00d50	02		 DB	 2
  00d51	02		 DB	 2
  00d52	02		 DB	 2
  00d53	02		 DB	 2
  00d54	02		 DB	 2
  00d55	02		 DB	 2
  00d56	02		 DB	 2
  00d57	02		 DB	 2
  00d58	02		 DB	 2
  00d59	02		 DB	 2
  00d5a	02		 DB	 2
  00d5b	02		 DB	 2
  00d5c	02		 DB	 2
  00d5d	00		 DB	 0
  00d5e	00		 DB	 0
  00d5f	00		 DB	 0
  00d60	00		 DB	 0
  00d61	00		 DB	 0
  00d62	00		 DB	 0
  00d63	00		 DB	 0
  00d64	00		 DB	 0
  00d65	00		 DB	 0
  00d66	00		 DB	 0
  00d67	00		 DB	 0
  00d68	00		 DB	 0
  00d69	02		 DB	 2
  00d6a	02		 DB	 2
  00d6b	02		 DB	 2
  00d6c	02		 DB	 2
  00d6d	02		 DB	 2
  00d6e	02		 DB	 2
  00d6f	02		 DB	 2
  00d70	02		 DB	 2
  00d71	02		 DB	 2
  00d72	02		 DB	 2
  00d73	02		 DB	 2
  00d74	02		 DB	 2
  00d75	02		 DB	 2
  00d76	02		 DB	 2
  00d77	02		 DB	 2
  00d78	02		 DB	 2
  00d79	02		 DB	 2
  00d7a	02		 DB	 2
  00d7b	02		 DB	 2
  00d7c	02		 DB	 2
  00d7d	01		 DB	 1
  00d7e	01		 DB	 1
  00d7f	01		 DB	 1
  00d80	01		 DB	 1
  00d81	01		 DB	 1
  00d82	01		 DB	 1
  00d83	01		 DB	 1
  00d84	01		 DB	 1
  00d85	01		 DB	 1
  00d86	01		 DB	 1
  00d87	01		 DB	 1
  00d88	01		 DB	 1
  00d89	01		 DB	 1
?read_population_airfield_placements@@YGXPAU_iobuf@@@Z ENDP ; read_population_airfield_placements
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?read_population_city_placements@@YGXPAU_iobuf@@@Z
_TEXT	SEGMENT
tv733 = -564						; size = 4
tv713 = -564						; size = 4
tv692 = -564						; size = 4
tv405 = -564						; size = 4
tv380 = -564						; size = 4
tv260 = -564						; size = 4
tv725 = -560						; size = 4
tv705 = -560						; size = 4
tv684 = -560						; size = 4
tv397 = -560						; size = 4
tv372 = -560						; size = 4
tv330 = -560						; size = 4
tv301 = -560						; size = 4
tv275 = -560						; size = 4
tv252 = -560						; size = 4
tv199 = -560						; size = 4
tv191 = -560						; size = 4
tv89 = -560						; size = 4
_relative_heading$1 = -492				; size = 4
_member$2 = -488					; size = 4
_group$3 = -484						; size = 4
_formation_type$4 = -480				; size = 4
_m$5 = -476						; size = 36
_relative_position$6 = -440				; size = 12
_pos$7 = -428						; size = 12
_scene_link_count$8 = -416				; size = 4
_heading$9 = -412					; size = 4
_world_z$10 = -408					; size = 4
_world_y$11 = -404					; size = 4
_world_x$12 = -400					; size = 4
_sector_side$13 = -396					; size = 4
_important$14 = -392					; size = 4
_keysite_name$15 = -388					; size = 256
_keysite_type$16 = -132					; size = 4
_object_number$17 = -128				; size = 4
_index$18 = -124					; size = 4
_loop$19 = -120						; size = 4
_z_sec$20 = -116					; size = 4
_x_sec$21 = -112					; size = 4
_z$22 = -108						; size = 4
_y$23 = -104						; size = 4
_x$24 = -100						; size = 4
_keysite_pos$ = -96					; size = 12
_keysite_side$ = -84					; size = 4
_keysite_totals$ = -80					; size = 36
_keysite_group$ = -44					; size = 4
_keysite$ = -40						; size = 4
_sector$ = -36						; size = 4
_closest_keysite$ = -32					; size = 4
_city$ = -28						; size = 4
_count$ = -24						; size = 4
_sam_placement_count$ = -20				; size = 4
_keysite_placement_count$ = -16				; size = 4
_keysite_oil_rig_count$ = -12				; size = 4
_keysite_factory_count$ = -8				; size = 4
_number_of_instances$ = -4				; size = 4
_fp$ = 8						; size = 4
?read_population_city_placements@@YGXPAU_iobuf@@@Z PROC	; read_population_city_placements, COMDAT

; 905  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 34 02 00
	00		 sub	 esp, 564		; 00000234H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 906  : 
; 907  : 	int
; 908  : 		number_of_instances,
; 909  : 		keysite_factory_count,
; 910  : 		keysite_oil_rig_count,
; 911  : 		keysite_placement_count,
; 912  : 		sam_placement_count,
; 913  : 		count;
; 914  : 
; 915  : 	entity
; 916  : 		*city,
; 917  : 		*closest_keysite,
; 918  : 		*sector,
; 919  : 		*keysite,
; 920  : 		*keysite_group = NULL;

  0000c	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _keysite_group$[ebp], 0

; 921  : 
; 922  :    int
; 923  : 		keysite_totals[NUM_ENTITY_SUB_TYPE_KEYSITES];
; 924  : 
; 925  : 	entity_sides
; 926  : 		keysite_side = ENTITY_SIDE_NEUTRAL;

  00013	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _keysite_side$[ebp], 0

; 927  : 
; 928  : 	vec3d
; 929  : 		keysite_pos;
; 930  : 	
; 931  : 	keysite_factory_count = 0;

  0001a	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _keysite_factory_count$[ebp], 0

; 932  : 	keysite_oil_rig_count = 0;

  00021	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _keysite_oil_rig_count$[ebp], 0

; 933  : 	keysite_placement_count = 0;

  00028	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _keysite_placement_count$[ebp], 0

; 934  : 	sam_placement_count = 0;

  0002f	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _sam_placement_count$[ebp], 0

; 935  : 
; 936  : 	memset ( keysite_totals, 0, sizeof ( keysite_totals ) );

  00036	6a 24		 push	 36			; 00000024H
  00038	6a 00		 push	 0
  0003a	8d 45 b0	 lea	 eax, DWORD PTR _keysite_totals$[ebp]
  0003d	50		 push	 eax
  0003e	e8 00 00 00 00	 call	 _memset
  00043	83 c4 0c	 add	 esp, 12			; 0000000cH

; 937  : 
; 938  : 	fread ( &number_of_instances, sizeof ( int ), 1, fp );

  00046	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00049	50		 push	 eax
  0004a	6a 01		 push	 1
  0004c	6a 04		 push	 4
  0004e	8d 4d fc	 lea	 ecx, DWORD PTR _number_of_instances$[ebp]
  00051	51		 push	 ecx
  00052	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00058	83 c4 10	 add	 esp, 16			; 00000010H

; 939  : 
; 940  : 	for ( count = 0; count < number_of_instances; count++ )

  0005b	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00062	eb 09		 jmp	 SHORT $LN4@read_popul
$LN2@read_popul:
  00064	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  00067	83 c0 01	 add	 eax, 1
  0006a	89 45 e8	 mov	 DWORD PTR _count$[ebp], eax
$LN4@read_popul:
  0006d	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  00070	3b 45 fc	 cmp	 eax, DWORD PTR _number_of_instances$[ebp]
  00073	0f 8d 96 0f 00
	00		 jge	 $LN3@read_popul

; 941  : 	{
; 942  : 
; 943  : 		float
; 944  : 			x,
; 945  : 			y,
; 946  : 			z;
; 947  : 
; 948  : 		int
; 949  : 			x_sec,
; 950  : 			z_sec,
; 951  : 			loop,
; 952  : 			index,
; 953  : 			object_number,
; 954  : 			keysite_type;
; 955  : 
; 956  : 		char
; 957  : 			keysite_name[256];
; 958  : 
; 959  : 		fread ( &index, sizeof ( int ), 1, fp );

  00079	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0007c	50		 push	 eax
  0007d	6a 01		 push	 1
  0007f	6a 04		 push	 4
  00081	8d 4d 84	 lea	 ecx, DWORD PTR _index$18[ebp]
  00084	51		 push	 ecx
  00085	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0008b	83 c4 10	 add	 esp, 16			; 00000010H

; 960  : 		fread ( &x, sizeof ( float ), 1, fp );

  0008e	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00091	50		 push	 eax
  00092	6a 01		 push	 1
  00094	6a 04		 push	 4
  00096	8d 4d 9c	 lea	 ecx, DWORD PTR _x$24[ebp]
  00099	51		 push	 ecx
  0009a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000a0	83 c4 10	 add	 esp, 16			; 00000010H

; 961  : 		fread ( &z, sizeof ( float ), 1, fp );

  000a3	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  000a6	50		 push	 eax
  000a7	6a 01		 push	 1
  000a9	6a 04		 push	 4
  000ab	8d 4d 94	 lea	 ecx, DWORD PTR _z$22[ebp]
  000ae	51		 push	 ecx
  000af	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000b5	83 c4 10	 add	 esp, 16			; 00000010H

; 962  : 
; 963  : 		//
; 964  : 		// If its a port, or industry, place a keysite.
; 965  : 		//
; 966  : 
; 967  : 		keysite_type = -1;

  000b8	c7 85 7c ff ff
	ff ff ff ff ff	 mov	 DWORD PTR _keysite_type$16[ebp], -1

; 968  : 
; 969  : //			ENTITY_SUB_TYPE_KEYSITE_OIL_RIG
; 970  : 
; 971  : 		/////////////////////////////////////////////////////////////////
; 972  : 		update_gunships_screen_progress_indicator ();

  000c2	e8 00 00 00 00	 call	 ?update_gunships_screen_progress_indicator@@YGXXZ ; update_gunships_screen_progress_indicator

; 973  : 		/////////////////////////////////////////////////////////////////
; 974  : 
; 975  : 		keysite = NULL;

  000c7	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _keysite$[ebp], 0

; 976  : 
; 977  : 		city = NULL;

  000ce	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _city$[ebp], 0

; 978  : 
; 979  : 		if ( population_file_version2 )

  000d5	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?population_file_version2@@3HA, 0
  000dc	0f 84 05 04 00
	00		 je	 $LN26@read_popul

; 980  : 		/*
; 981  : 		{
; 982  : 	
; 983  : 			switch ( temporary_templates[index].type )
; 984  : 			{
; 985  : 	
; 986  : 				case TEMPLATE_TYPE_INDUSTRY:	{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_FACTORY; break; }
; 987  : 				case TEMPLATE_TYPE_PORTSE:		{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_FACTORY; break; }
; 988  : 				case TEMPLATE_TYPE_PORTNW:		{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_FACTORY; break; }
; 989  : 			}
; 990  : 	
; 991  : 			if ( keysite_type != -1 )
; 992  : 			{
; 993  : 	
; 994  : 				if ( keysite_placement_count == 0 )
; 995  : 				{
; 996  : 	
; 997  : 					keysite_placement_count = 20;
; 998  : 		
; 999  : 					switch ( temporary_templates[index].type )
; 1000 : 					{
; 1001 : 						case TEMPLATE_TYPE_INDUSTRY:
; 1002 : 						{
; 1003 : 							sprintf ( keysite_name, "FACTORY %03d", keysite_factory_count );
; 1004 : 	
; 1005 : 							keysite_factory_count++;
; 1006 : 		
; 1007 : 							break;
; 1008 : 						}
; 1009 : 						case TEMPLATE_TYPE_PORTSE:
; 1010 : 						case TEMPLATE_TYPE_PORTNW:
; 1011 : 						{
; 1012 : 							sprintf ( keysite_name, "PORT %03d", keysite_factory_count );
; 1013 : 	
; 1014 : 							keysite_factory_count++;
; 1015 : 		
; 1016 : 							break;
; 1017 : 						}
; 1018 : 					}
; 1019 : 		
; 1020 : 					keysite_x = x;
; 1021 : 					keysite_z = current_map_max_z - z;
; 1022 : 					keysite_y = get_3d_terrain_point_data ( keysite_x, keysite_z, NULL );
; 1023 : 		
; 1024 : 					//
; 1025 : 					// create city template
; 1026 : 					//
; 1027 : 		
; 1028 : 					get_x_sector ( x_sec, keysite_x );
; 1029 : 					get_x_sector ( z_sec, keysite_z );
; 1030 : 	
; 1031 : 					keysite_side = get_initial_sector_side ( x_sec, z_sec );
; 1032 : 	
; 1033 : 					sector = get_local_raw_sector_entity ( x_sec, z_sec );
; 1034 : 	
; 1035 : 					keysite = create_local_entity
; 1036 : 					(
; 1037 : 						ENTITY_TYPE_KEYSITE,
; 1038 : 						ENTITY_INDEX_DONT_CARE,
; 1039 : 						ENTITY_ATTR_PARENT ( LIST_TYPE_KEYSITE_FORCE, get_local_force_entity (keysite_side) ),
; 1040 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, keysite_type ),
; 1041 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, keysite_side ),
; 1042 : 						ENTITY_ATTR_INT_VALUE ( INT_TYPE_IN_USE, TRUE ),
; 1043 : 						ENTITY_ATTR_FLOAT_VALUE (FLOAT_TYPE_AMMO_SUPPLY_LEVEL, 100.0),
; 1044 : 						ENTITY_ATTR_FLOAT_VALUE (FLOAT_TYPE_FUEL_SUPPLY_LEVEL, 100.0),
; 1045 : 						ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, keysite_x, keysite_y, keysite_z ),
; 1046 : 						ENTITY_ATTR_STRING ( STRING_TYPE_KEYSITE_NAME, keysite_name ),
; 1047 : 						ENTITY_ATTR_END
; 1048 : 					);
; 1049 : 
; 1050 : 					keysite = NULL;
; 1051 : 				}
; 1052 : 				else
; 1053 : 				{
; 1054 : 	
; 1055 : 					keysite_placement_count--;
; 1056 : 				}
; 1057 : 			}
; 1058 : 		}
; 1059 : 		else*/
; 1060 : 		{
; 1061 : 
; 1062 : 			keysite_type = -1;

  000e2	c7 85 7c ff ff
	ff ff ff ff ff	 mov	 DWORD PTR _keysite_type$16[ebp], -1

; 1063 : 
; 1064 : 			switch ( temporary_templates[index].type )

  000ec	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  000f0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  000f6	8b 54 01 04	 mov	 edx, DWORD PTR [ecx+eax+4]
  000fa	89 95 d0 fd ff
	ff		 mov	 DWORD PTR tv89[ebp], edx
  00100	8b 85 d0 fd ff
	ff		 mov	 eax, DWORD PTR tv89[ebp]
  00106	83 e8 0f	 sub	 eax, 15			; 0000000fH
  00109	89 85 d0 fd ff
	ff		 mov	 DWORD PTR tv89[ebp], eax
  0010f	83 bd d0 fd ff
	ff 05		 cmp	 DWORD PTR tv89[ebp], 5
  00116	77 53		 ja	 SHORT $LN5@read_popul
  00118	8b 8d d0 fd ff
	ff		 mov	 ecx, DWORD PTR tv89[ebp]
  0011e	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN91@read_popul[ecx*4]
$LN20@read_popul:

; 1065 : 			{
; 1066 : 	
; 1067 : 				case TEMPLATE_TYPE_KEY_POWER:		{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_POWER_STATION; break; }

  00125	c7 85 7c ff ff
	ff 06 00 00 00	 mov	 DWORD PTR _keysite_type$16[ebp], 6
  0012f	eb 3a		 jmp	 SHORT $LN5@read_popul
$LN21@read_popul:

; 1068 : 				case TEMPLATE_TYPE_KEY_RADIO:		{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_RADIO_TRANSMITTER; break; }

  00131	c7 85 7c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR _keysite_type$16[ebp], 8
  0013b	eb 2e		 jmp	 SHORT $LN5@read_popul
$LN22@read_popul:

; 1069 : 				case TEMPLATE_TYPE_KEY_INDUSTRY:	{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_FACTORY; break; }

  0013d	c7 85 7c ff ff
	ff 02 00 00 00	 mov	 DWORD PTR _keysite_type$16[ebp], 2
  00147	eb 22		 jmp	 SHORT $LN5@read_popul
$LN23@read_popul:

; 1070 : 				case TEMPLATE_TYPE_KEY_PORT:		{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_PORT; break; }

  00149	c7 85 7c ff ff
	ff 05 00 00 00	 mov	 DWORD PTR _keysite_type$16[ebp], 5
  00153	eb 16		 jmp	 SHORT $LN5@read_popul
$LN24@read_popul:

; 1071 : 				case TEMPLATE_TYPE_KEY_MILITARY:	{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_MILITARY_BASE; break; }

  00155	c7 85 7c ff ff
	ff 04 00 00 00	 mov	 DWORD PTR _keysite_type$16[ebp], 4
  0015f	eb 0a		 jmp	 SHORT $LN5@read_popul
$LN25@read_popul:

; 1072 : 				case TEMPLATE_TYPE_KEY_OIL:		{ keysite_type = ENTITY_SUB_TYPE_KEYSITE_OIL_REFINERY; break; }

  00161	c7 85 7c ff ff
	ff 07 00 00 00	 mov	 DWORD PTR _keysite_type$16[ebp], 7
$LN5@read_popul:

; 1073 : 			}
; 1074 : 
; 1075 : 			if ( keysite_type != -1 )

  0016b	83 bd 7c ff ff
	ff ff		 cmp	 DWORD PTR _keysite_type$16[ebp], -1
  00172	0f 84 6f 03 00
	00		 je	 $LN26@read_popul

; 1076 : 			{
; 1077 : 
; 1078 : 				int
; 1079 : 					important;
; 1080 : 		
; 1081 : 				keysite_totals[keysite_type]++;

  00178	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _keysite_type$16[ebp]
  0017e	8b 4c 85 b0	 mov	 ecx, DWORD PTR _keysite_totals$[ebp+eax*4]
  00182	83 c1 01	 add	 ecx, 1
  00185	8b 95 7c ff ff
	ff		 mov	 edx, DWORD PTR _keysite_type$16[ebp]
  0018b	89 4c 95 b0	 mov	 DWORD PTR _keysite_totals$[ebp+edx*4], ecx

; 1082 : 	
; 1083 : 				sprintf (keysite_name, "%s %d", get_trans (keysite_database[keysite_type].short_name), keysite_totals[keysite_type]);

  0018f	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _keysite_type$16[ebp]
  00195	8b 4c 85 b0	 mov	 ecx, DWORD PTR _keysite_totals$[ebp+eax*4]
  00199	51		 push	 ecx
  0019a	6b 95 7c ff ff
	ff 44		 imul	 edx, DWORD PTR _keysite_type$16[ebp], 68
  001a1	8b 82 04 00 00
	00		 mov	 eax, DWORD PTR ?keysite_database@@3PAUKEYSITE_DATA@@A[edx+4]
  001a7	50		 push	 eax
  001a8	e8 00 00 00 00	 call	 ?get_trans@@YGPBDPBD@Z	; get_trans
  001ad	50		 push	 eax
  001ae	68 00 00 00 00	 push	 OFFSET ??_C@_05DIALNFFA@?$CFs?5?$CFd@
  001b3	8d 8d 7c fe ff
	ff		 lea	 ecx, DWORD PTR _keysite_name$15[ebp]
  001b9	51		 push	 ecx
  001ba	e8 00 00 00 00	 call	 _sprintf
  001bf	83 c4 10	 add	 esp, 16			; 00000010H

; 1084 : 	
; 1085 : 				keysite_pos.x = x;

  001c2	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _x$24[ebp]
  001c7	f3 0f 11 45 a0	 movss	 DWORD PTR _keysite_pos$[ebp], xmm0

; 1086 : 				keysite_pos.z = current_map_max_z - z;

  001cc	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?current_map_max_z@@3HA
  001d4	f3 0f 5c 45 94	 subss	 xmm0, DWORD PTR _z$22[ebp]
  001d9	f3 0f 11 45 a8	 movss	 DWORD PTR _keysite_pos$[ebp+8], xmm0

; 1087 : 				keysite_pos.y = get_3d_terrain_point_data ( keysite_pos.x, keysite_pos.z, NULL );

  001de	6a 00		 push	 0
  001e0	51		 push	 ecx
  001e1	f3 0f 10 45 a8	 movss	 xmm0, DWORD PTR _keysite_pos$[ebp+8]
  001e6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001eb	51		 push	 ecx
  001ec	f3 0f 10 45 a0	 movss	 xmm0, DWORD PTR _keysite_pos$[ebp]
  001f1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001f6	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  001fb	d9 5d a4	 fstp	 DWORD PTR _keysite_pos$[ebp+4]

; 1088 : 
; 1089 : 				ASSERT (point_inside_adjusted_map_area (&keysite_pos));

  001fe	f3 0f 5a 45 a0	 cvtss2sd xmm0, DWORD PTR _keysite_pos$[ebp]
  00203	f3 0f 5a 0d 24
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+36
  0020b	f2 0f 58 0d 00
	00 00 00	 addsd	 xmm1, QWORD PTR __real@40b3880000000000
  00213	66 0f 2f c1	 comisd	 xmm0, xmm1
  00217	72 51		 jb	 SHORT $LN28@read_popul
  00219	f3 0f 5a 45 a0	 cvtss2sd xmm0, DWORD PTR _keysite_pos$[ebp]
  0021e	f3 0f 5a 0d 3c
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+60
  00226	f2 0f 5c 0d 00
	00 00 00	 subsd	 xmm1, QWORD PTR __real@40b3880000000000
  0022e	66 0f 2f c8	 comisd	 xmm1, xmm0
  00232	72 36		 jb	 SHORT $LN28@read_popul
  00234	f3 0f 5a 45 a8	 cvtss2sd xmm0, DWORD PTR _keysite_pos$[ebp+8]
  00239	f3 0f 5a 0d 2c
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+44
  00241	f2 0f 58 0d 00
	00 00 00	 addsd	 xmm1, QWORD PTR __real@40b3880000000000
  00249	66 0f 2f c1	 comisd	 xmm0, xmm1
  0024d	72 1b		 jb	 SHORT $LN28@read_popul
  0024f	f3 0f 5a 45 a8	 cvtss2sd xmm0, DWORD PTR _keysite_pos$[ebp+8]
  00254	f3 0f 5a 0d 44
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+68
  0025c	f2 0f 5c 0d 00
	00 00 00	 subsd	 xmm1, QWORD PTR __real@40b3880000000000
  00264	66 0f 2f c8	 comisd	 xmm1, xmm0
  00268	73 1a		 jae	 SHORT $LN27@read_popul
$LN28@read_popul:
  0026a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  0026f	05 b8 00 00 00	 add	 eax, 184		; 000000b8H
  00274	50		 push	 eax
  00275	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0027a	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@LMJDOPHH@point_inside_adjusted_map_area?5@
  0027f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN27@read_popul:

; 1090 : 	
; 1091 : 				get_x_sector ( x_sec, keysite_pos.x );

  00284	8d 45 90	 lea	 eax, DWORD PTR _x_sec$21[ebp]
  00287	50		 push	 eax
  00288	51		 push	 ecx
  00289	f3 0f 10 45 a0	 movss	 xmm0, DWORD PTR _keysite_pos$[ebp]
  0028e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00293	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  00298	8b 45 90	 mov	 eax, DWORD PTR _x_sec$21[ebp]
  0029b	99		 cdq
  0029c	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  002a2	89 45 90	 mov	 DWORD PTR _x_sec$21[ebp], eax

; 1092 : 				get_x_sector ( z_sec, keysite_pos.z );

  002a5	8d 45 8c	 lea	 eax, DWORD PTR _z_sec$20[ebp]
  002a8	50		 push	 eax
  002a9	51		 push	 ecx
  002aa	f3 0f 10 45 a8	 movss	 xmm0, DWORD PTR _keysite_pos$[ebp+8]
  002af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002b4	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  002b9	8b 45 8c	 mov	 eax, DWORD PTR _z_sec$20[ebp]
  002bc	99		 cdq
  002bd	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  002c3	89 45 8c	 mov	 DWORD PTR _z_sec$20[ebp], eax

; 1093 : 	
; 1094 : 				keysite_side = get_initial_sector_side ( x_sec, z_sec );

  002c6	8b 45 8c	 mov	 eax, DWORD PTR _z_sec$20[ebp]
  002c9	50		 push	 eax
  002ca	8b 4d 90	 mov	 ecx, DWORD PTR _x_sec$21[ebp]
  002cd	51		 push	 ecx
  002ce	e8 00 00 00 00	 call	 ?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z ; get_initial_sector_side
  002d3	89 45 ac	 mov	 DWORD PTR _keysite_side$[ebp], eax

; 1095 : 	
; 1096 : 				sector = get_local_raw_sector_entity ( x_sec, z_sec );

  002d6	8b 45 8c	 mov	 eax, DWORD PTR _z_sec$20[ebp]
  002d9	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  002e0	03 45 90	 add	 eax, DWORD PTR _x_sec$21[ebp]
  002e3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  002e9	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  002ed	74 1d		 je	 SHORT $LN60@read_popul
  002ef	8b 55 8c	 mov	 edx, DWORD PTR _z_sec$20[ebp]
  002f2	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  002f9	03 55 90	 add	 edx, DWORD PTR _x_sec$21[ebp]
  002fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  00301	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  00304	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv191[ebp], ecx
  0030a	eb 27		 jmp	 SHORT $LN61@read_popul
$LN60@read_popul:
  0030c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00312	81 c2 bf 00 00
	00		 add	 edx, 191		; 000000bfH
  00318	52		 push	 edx
  00319	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0031e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  00323	50		 push	 eax
  00324	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00329	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv191[ebp], 0
$LN61@read_popul:
  00333	8b 8d d0 fd ff
	ff		 mov	 ecx, DWORD PTR tv191[ebp]
  00339	89 4d dc	 mov	 DWORD PTR _sector$[ebp], ecx

; 1097 : 
; 1098 : 				if ( population_importances )

  0033c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?population_importances@@3PAHA, 0
  00343	74 3f		 je	 SHORT $LN29@read_popul

; 1099 : 				{
; 1100 : 					important = population_importances[( z_sec * ( MAX_MAP_X_SECTOR + 1 ) ) + x_sec] ? FALSE : TRUE;

  00345	a1 1c 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+28
  0034a	83 c0 01	 add	 eax, 1
  0034d	0f af 45 8c	 imul	 eax, DWORD PTR _z_sec$20[ebp]
  00351	03 45 90	 add	 eax, DWORD PTR _x_sec$21[ebp]
  00354	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?population_importances@@3PAHA
  0035a	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  0035e	74 0c		 je	 SHORT $LN62@read_popul
  00360	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv199[ebp], 0
  0036a	eb 0a		 jmp	 SHORT $LN63@read_popul
$LN62@read_popul:
  0036c	c7 85 d0 fd ff
	ff 01 00 00 00	 mov	 DWORD PTR tv199[ebp], 1
$LN63@read_popul:
  00376	8b 95 d0 fd ff
	ff		 mov	 edx, DWORD PTR tv199[ebp]
  0037c	89 95 78 fe ff
	ff		 mov	 DWORD PTR _important$14[ebp], edx

; 1101 : 				}
; 1102 : 				else

  00382	eb 0a		 jmp	 SHORT $LN30@read_popul
$LN29@read_popul:

; 1103 : 				{
; 1104 : 
; 1105 : 					important = FALSE;

  00384	c7 85 78 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _important$14[ebp], 0
$LN30@read_popul:

; 1106 : 				}
; 1107 : 
; 1108 : 				keysite = create_local_entity

  0038e	6a 00		 push	 0
  00390	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  00394	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  0039a	8b 54 01 10	 mov	 edx, DWORD PTR [ecx+eax+16]
  0039e	52		 push	 edx
  0039f	68 94 00 00 00	 push	 148			; 00000094H
  003a4	6a 05		 push	 5
  003a6	8d 85 7c fe ff
	ff		 lea	 eax, DWORD PTR _keysite_name$15[ebp]
  003ac	50		 push	 eax
  003ad	6a 07		 push	 7
  003af	6a 08		 push	 8
  003b1	f3 0f 5a 45 a8	 cvtss2sd xmm0, DWORD PTR _keysite_pos$[ebp+8]
  003b6	83 ec 08	 sub	 esp, 8
  003b9	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  003be	f3 0f 5a 45 a4	 cvtss2sd xmm0, DWORD PTR _keysite_pos$[ebp+4]
  003c3	83 ec 08	 sub	 esp, 8
  003c6	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  003cb	f3 0f 5a 45 a0	 cvtss2sd xmm0, DWORD PTR _keysite_pos$[ebp]
  003d0	83 ec 08	 sub	 esp, 8
  003d3	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  003d8	6a 08		 push	 8
  003da	6a 09		 push	 9
  003dc	83 ec 08	 sub	 esp, 8
  003df	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4059000000000000
  003e7	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  003ec	6a 30		 push	 48			; 00000030H
  003ee	6a 04		 push	 4
  003f0	83 ec 08	 sub	 esp, 8
  003f3	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4059000000000000
  003fb	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00400	6a 08		 push	 8
  00402	6a 04		 push	 4
  00404	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR _keysite_type$16[ebp]
  0040a	8b 54 8d b0	 mov	 edx, DWORD PTR _keysite_totals$[ebp+ecx*4]
  0040e	52		 push	 edx
  0040f	6a 6f		 push	 111			; 0000006fH
  00411	6a 05		 push	 5
  00413	6a 01		 push	 1
  00415	6a 6d		 push	 109			; 0000006dH
  00417	6a 05		 push	 5
  00419	8b 45 ac	 mov	 eax, DWORD PTR _keysite_side$[ebp]
  0041c	50		 push	 eax
  0041d	68 bb 00 00 00	 push	 187			; 000000bbH
  00422	6a 05		 push	 5
  00424	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR _keysite_type$16[ebp]
  0042a	51		 push	 ecx
  0042b	6a 34		 push	 52			; 00000034H
  0042d	6a 05		 push	 5
  0042f	8b 55 ac	 mov	 edx, DWORD PTR _keysite_side$[ebp]
  00432	52		 push	 edx
  00433	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00438	50		 push	 eax
  00439	6a 15		 push	 21			; 00000015H
  0043b	6a 06		 push	 6
  0043d	6a ff		 push	 -1
  0043f	6a 0f		 push	 15			; 0000000fH
  00441	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00446	81 c4 a0 00 00
	00		 add	 esp, 160		; 000000a0H
  0044c	89 45 d8	 mov	 DWORD PTR _keysite$[ebp], eax

; 1109 : 								(
; 1110 : 									ENTITY_TYPE_KEYSITE,
; 1111 : 									ENTITY_INDEX_DONT_CARE,
; 1112 : 									ENTITY_ATTR_PARENT ( LIST_TYPE_KEYSITE_FORCE, get_local_force_entity (keysite_side) ),
; 1113 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, keysite_type ),
; 1114 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, keysite_side ),
; 1115 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_IN_USE, TRUE ),
; 1116 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_KEYSITE_ID, keysite_totals [keysite_type] ),
; 1117 : 									ENTITY_ATTR_FLOAT_VALUE (FLOAT_TYPE_AMMO_SUPPLY_LEVEL, 100.0),
; 1118 : 									ENTITY_ATTR_FLOAT_VALUE (FLOAT_TYPE_FUEL_SUPPLY_LEVEL, 100.0),
; 1119 : 									ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, keysite_pos.x, keysite_pos.y, keysite_pos.z ),
; 1120 : 									ENTITY_ATTR_STRING ( STRING_TYPE_KEYSITE_NAME, keysite_name ),
; 1121 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_INDEX, temporary_templates[index].routes_object ),
; 1122 : 									ENTITY_ATTR_END
; 1123 : 								);
; 1124 : 	
; 1125 : 				keysite_group = get_local_entity_first_child ( keysite, LIST_TYPE_BUILDING_GROUP );

  0044f	83 7d d8 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  00453	74 0d		 je	 SHORT $LN64@read_popul
  00455	8b 45 d8	 mov	 eax, DWORD PTR _keysite$[ebp]
  00458	8b 08		 mov	 ecx, DWORD PTR [eax]
  0045a	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv252[ebp], ecx
  00460	eb 27		 jmp	 SHORT $LN65@read_popul
$LN64@read_popul:
  00462	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00468	81 c2 dc 00 00
	00		 add	 edx, 220		; 000000dcH
  0046e	52		 push	 edx
  0046f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00474	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00479	50		 push	 eax
  0047a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0047f	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv252[ebp], 0
$LN65@read_popul:
  00489	b9 01 00 00 00	 mov	 ecx, 1
  0048e	85 c9		 test	 ecx, ecx
  00490	74 0c		 je	 SHORT $LN66@read_popul
  00492	c7 85 cc fd ff
	ff 04 00 00 00	 mov	 DWORD PTR tv260[ebp], 4
  0049c	eb 27		 jmp	 SHORT $LN67@read_popul
$LN66@read_popul:
  0049e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  004a4	81 c2 dc 00 00
	00		 add	 edx, 220		; 000000dcH
  004aa	52		 push	 edx
  004ab	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  004b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  004b5	50		 push	 eax
  004b6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004bb	c7 85 cc fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv260[ebp], 0
$LN67@read_popul:
  004c5	6a 04		 push	 4
  004c7	8b 4d d8	 mov	 ecx, DWORD PTR _keysite$[ebp]
  004ca	51		 push	 ecx
  004cb	69 95 d0 fd ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv252[ebp], 180
  004d5	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR tv260[ebp]
  004db	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  004e2	ff d1		 call	 ecx
  004e4	89 45 d4	 mov	 DWORD PTR _keysite_group$[ebp], eax
$LN26@read_popul:

; 1126 : 			}
; 1127 : 		}
; 1128 : 
; 1129 : 		if ( temporary_templates[index].number_of_objects )

  004e7	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  004eb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  004f1	83 3c 01 00	 cmp	 DWORD PTR [ecx+eax], 0
  004f5	0f 84 0f 0b 00
	00		 je	 $LN12@read_popul

; 1130 : 		{
; 1131 : 
; 1132 : 			entity_sides
; 1133 : 				sector_side;
; 1134 : 
; 1135 : 			z = current_map_max_z - z;

  004fb	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?current_map_max_z@@3HA
  00503	f3 0f 5c 45 94	 subss	 xmm0, DWORD PTR _z$22[ebp]
  00508	f3 0f 11 45 94	 movss	 DWORD PTR _z$22[ebp], xmm0

; 1136 : 
; 1137 : 			//
; 1138 : 			// If its a port, it assumes sea-level height, otherwise get the height of the template from the terrain height.
; 1139 : 			//
; 1140 : 
; 1141 : 			switch ( temporary_templates[index].type )

  0050d	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  00511	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00517	8b 54 01 04	 mov	 edx, DWORD PTR [ecx+eax+4]
  0051b	89 95 d0 fd ff
	ff		 mov	 DWORD PTR tv275[ebp], edx
  00521	83 bd d0 fd ff
	ff 0a		 cmp	 DWORD PTR tv275[ebp], 10 ; 0000000aH
  00528	7c 1a		 jl	 SHORT $LN33@read_popul
  0052a	83 bd d0 fd ff
	ff 0b		 cmp	 DWORD PTR tv275[ebp], 11 ; 0000000bH
  00531	7e 02		 jle	 SHORT $LN32@read_popul
  00533	eb 0f		 jmp	 SHORT $LN33@read_popul
$LN32@read_popul:

; 1142 : 			{
; 1143 : 
; 1144 : 				case TEMPLATE_TYPE_PORTSE:
; 1145 : 				case TEMPLATE_TYPE_PORTNW:
; 1146 : 				{
; 1147 : 
; 1148 : 					y = terrain_3d_map_minimum_height;

  00535	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?terrain_3d_map_minimum_height@@3MA
  0053d	f3 0f 11 45 98	 movss	 DWORD PTR _y$23[ebp], xmm0

; 1149 : 
; 1150 : 					break;

  00542	eb 20		 jmp	 SHORT $LN7@read_popul
$LN33@read_popul:

; 1151 : 				}
; 1152 : 
; 1153 : 				default:
; 1154 : 				{
; 1155 : 
; 1156 : 					y = get_3d_terrain_point_data ( x, z, NULL );

  00544	6a 00		 push	 0
  00546	51		 push	 ecx
  00547	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _z$22[ebp]
  0054c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00551	51		 push	 ecx
  00552	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _x$24[ebp]
  00557	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0055c	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00561	d9 5d 98	 fstp	 DWORD PTR _y$23[ebp]
$LN7@read_popul:

; 1157 : 
; 1158 : 					break;
; 1159 : 				}
; 1160 : 			}
; 1161 : 
; 1162 : 			//
; 1163 : 			// create city template
; 1164 : 			//
; 1165 : 
; 1166 : 			get_x_sector ( x_sec, x );

  00564	8d 45 90	 lea	 eax, DWORD PTR _x_sec$21[ebp]
  00567	50		 push	 eax
  00568	51		 push	 ecx
  00569	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _x$24[ebp]
  0056e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00573	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  00578	8b 45 90	 mov	 eax, DWORD PTR _x_sec$21[ebp]
  0057b	99		 cdq
  0057c	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  00582	89 45 90	 mov	 DWORD PTR _x_sec$21[ebp], eax

; 1167 : 			get_x_sector ( z_sec, z );

  00585	8d 45 8c	 lea	 eax, DWORD PTR _z_sec$20[ebp]
  00588	50		 push	 eax
  00589	51		 push	 ecx
  0058a	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _z$22[ebp]
  0058f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00594	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int
  00599	8b 45 8c	 mov	 eax, DWORD PTR _z_sec$20[ebp]
  0059c	99		 cdq
  0059d	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A
  005a3	89 45 8c	 mov	 DWORD PTR _z_sec$20[ebp], eax

; 1168 : 
; 1169 : 			sector = get_local_raw_sector_entity ( x_sec, z_sec );

  005a6	8b 45 8c	 mov	 eax, DWORD PTR _z_sec$20[ebp]
  005a9	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  005b0	03 45 90	 add	 eax, DWORD PTR _x_sec$21[ebp]
  005b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  005b9	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  005bd	74 1d		 je	 SHORT $LN68@read_popul
  005bf	8b 55 8c	 mov	 edx, DWORD PTR _z_sec$20[ebp]
  005c2	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  005c9	03 55 90	 add	 edx, DWORD PTR _x_sec$21[ebp]
  005cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  005d1	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  005d4	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv301[ebp], ecx
  005da	eb 27		 jmp	 SHORT $LN69@read_popul
$LN68@read_popul:
  005dc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  005e2	81 c2 08 01 00
	00		 add	 edx, 264		; 00000108H
  005e8	52		 push	 edx
  005e9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  005ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  005f3	50		 push	 eax
  005f4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005f9	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv301[ebp], 0
$LN69@read_popul:
  00603	8b 8d d0 fd ff
	ff		 mov	 ecx, DWORD PTR tv301[ebp]
  00609	89 4d dc	 mov	 DWORD PTR _sector$[ebp], ecx

; 1170 : 
; 1171 : 			sector_side = get_initial_sector_side ( x_sec, z_sec );

  0060c	8b 45 8c	 mov	 eax, DWORD PTR _z_sec$20[ebp]
  0060f	50		 push	 eax
  00610	8b 4d 90	 mov	 ecx, DWORD PTR _x_sec$21[ebp]
  00613	51		 push	 ecx
  00614	e8 00 00 00 00	 call	 ?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z ; get_initial_sector_side
  00619	89 85 74 fe ff
	ff		 mov	 DWORD PTR _sector_side$13[ebp], eax

; 1172 : 
; 1173 : 			if ( !keysite )

  0061f	83 7d d8 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  00623	75 4a		 jne	 SHORT $LN34@read_popul

; 1174 : 			{
; 1175 : 	
; 1176 : 				city = create_local_entity

  00625	6a 00		 push	 0
  00627	f3 0f 5a 45 94	 cvtss2sd xmm0, DWORD PTR _z$22[ebp]
  0062c	83 ec 08	 sub	 esp, 8
  0062f	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00634	f3 0f 5a 45 98	 cvtss2sd xmm0, DWORD PTR _y$23[ebp]
  00639	83 ec 08	 sub	 esp, 8
  0063c	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00641	f3 0f 5a 45 9c	 cvtss2sd xmm0, DWORD PTR _x$24[ebp]
  00646	83 ec 08	 sub	 esp, 8
  00649	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0064e	6a 08		 push	 8
  00650	6a 09		 push	 9
  00652	6a 04		 push	 4
  00654	6a 34		 push	 52			; 00000034H
  00656	6a 05		 push	 5
  00658	8b 45 dc	 mov	 eax, DWORD PTR _sector$[ebp]
  0065b	50		 push	 eax
  0065c	6a 21		 push	 33			; 00000021H
  0065e	6a 06		 push	 6
  00660	6a ff		 push	 -1
  00662	6a 05		 push	 5
  00664	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00669	83 c4 44	 add	 esp, 68			; 00000044H
  0066c	89 45 e4	 mov	 DWORD PTR _city$[ebp], eax
$LN34@read_popul:

; 1177 : 				(
; 1178 : 					ENTITY_TYPE_CITY,
; 1179 : 					ENTITY_INDEX_DONT_CARE,
; 1180 : 					ENTITY_ATTR_PARENT ( LIST_TYPE_SECTOR, sector ),
; 1181 : 					ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_FIXED_CITY ),
; 1182 : 					ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, x, y, z ),
; 1183 : 					ENTITY_ATTR_END
; 1184 : 				);
; 1185 : 			}
; 1186 : 
; 1187 : 			if ( ( city ) || ( keysite ) )

  0066f	83 7d e4 00	 cmp	 DWORD PTR _city$[ebp], 0
  00673	75 0a		 jne	 SHORT $LN36@read_popul
  00675	83 7d d8 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  00679	0f 84 8b 09 00
	00		 je	 $LN12@read_popul
$LN36@read_popul:

; 1188 : 			{
; 1189 : 
; 1190 : 				//
; 1191 : 				// Set base & approximation objects for the templates ( version1 of the population files only )
; 1192 : 				//
; 1193 : 
; 1194 : 				//
; 1195 : 				// Ports have their bases inserted as a normal object
; 1196 : 				//
; 1197 : 
; 1198 : 				if ( city )

  0067f	83 7d e4 00	 cmp	 DWORD PTR _city$[ebp], 0
  00683	0f 84 21 02 00
	00		 je	 $LN37@read_popul

; 1199 : 				{
; 1200 : 	
; 1201 : 					switch ( temporary_templates[index].type )

  00689	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  0068d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00693	8b 54 01 04	 mov	 edx, DWORD PTR [ecx+eax+4]
  00697	89 95 d0 fd ff
	ff		 mov	 DWORD PTR tv330[ebp], edx
  0069d	83 bd d0 fd ff
	ff 0a		 cmp	 DWORD PTR tv330[ebp], 10 ; 0000000aH
  006a4	0f 8c b0 00 00
	00		 jl	 $LN42@read_popul
  006aa	83 bd d0 fd ff
	ff 0b		 cmp	 DWORD PTR tv330[ebp], 11 ; 0000000bH
  006b1	7e 05		 jle	 SHORT $LN39@read_popul
  006b3	e9 a2 00 00 00	 jmp	 $LN42@read_popul
$LN39@read_popul:

; 1202 : 					{
; 1203 : 		
; 1204 : 						case TEMPLATE_TYPE_PORTSE:
; 1205 : 						case TEMPLATE_TYPE_PORTNW:
; 1206 : 						{
; 1207 : 	
; 1208 : 							ASSERT ( city );

  006b8	83 7d e4 00	 cmp	 DWORD PTR _city$[ebp], 0
  006bc	75 1a		 jne	 SHORT $LN40@read_popul
  006be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  006c3	05 2f 01 00 00	 add	 eax, 303		; 0000012fH
  006c8	50		 push	 eax
  006c9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  006ce	68 00 00 00 00	 push	 OFFSET ??_C@_04MGELPMF@city@
  006d3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN40@read_popul:

; 1209 : 	
; 1210 : 							if ( temporary_templates[index].base_object != OBJECT_3D_INVALID_OBJECT_INDEX )

  006d8	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  006dc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  006e2	83 7c 01 0c 00	 cmp	 DWORD PTR [ecx+eax+12], 0
  006e7	74 6c		 je	 SHORT $LN41@read_popul

; 1211 : 							{
; 1212 : 		
; 1213 : 								create_local_entity

  006e9	6a 00		 push	 0
  006eb	83 ec 08	 sub	 esp, 8
  006ee	0f 57 c0	 xorps	 xmm0, xmm0
  006f1	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  006f6	6a 34		 push	 52			; 00000034H
  006f8	6a 04		 push	 4
  006fa	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  006fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00704	8b 54 01 0c	 mov	 edx, DWORD PTR [ecx+eax+12]
  00708	52		 push	 edx
  00709	68 92 00 00 00	 push	 146			; 00000092H
  0070e	6a 05		 push	 5
  00710	f3 0f 5a 45 94	 cvtss2sd xmm0, DWORD PTR _z$22[ebp]
  00715	83 ec 08	 sub	 esp, 8
  00718	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0071d	f3 0f 5a 45 98	 cvtss2sd xmm0, DWORD PTR _y$23[ebp]
  00722	83 ec 08	 sub	 esp, 8
  00725	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0072a	f3 0f 5a 45 9c	 cvtss2sd xmm0, DWORD PTR _x$24[ebp]
  0072f	83 ec 08	 sub	 esp, 8
  00732	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00737	6a 08		 push	 8
  00739	6a 09		 push	 9
  0073b	6a 05		 push	 5
  0073d	6a 34		 push	 52			; 00000034H
  0073f	6a 05		 push	 5
  00741	8b 45 e4	 mov	 eax, DWORD PTR _city$[ebp]
  00744	50		 push	 eax
  00745	6a 07		 push	 7
  00747	6a 06		 push	 6
  00749	6a ff		 push	 -1
  0074b	6a 06		 push	 6
  0074d	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  00752	83 c4 60	 add	 esp, 96			; 00000060H
$LN41@read_popul:

; 1214 : 								(
; 1215 : 									ENTITY_TYPE_CITY_BUILDING,
; 1216 : 									ENTITY_INDEX_DONT_CARE,
; 1217 : 									ENTITY_ATTR_PARENT ( LIST_TYPE_CITY_BUILDING, city ),
; 1218 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_FIXED_CITY_BUILDING ),
; 1219 : 									ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, x, y, z ),
; 1220 : 									ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, temporary_templates[index].base_object ),
; 1221 : 									ENTITY_ATTR_FLOAT_VALUE ( FLOAT_TYPE_HEADING, 0 ),
; 1222 : 									ENTITY_ATTR_END
; 1223 : 								);
; 1224 : 							}
; 1225 : 	
; 1226 : 							break;

  00755	e9 a7 00 00 00	 jmp	 $LN9@read_popul
$LN42@read_popul:

; 1227 : 						}
; 1228 : 		
; 1229 : 						default:
; 1230 : 						{
; 1231 : 	
; 1232 : 							set_local_entity_int_value ( city, INT_TYPE_OBJECT_3D_SHAPE, temporary_templates[index].base_object );

  0075a	83 7d e4 00	 cmp	 DWORD PTR _city$[ebp], 0
  0075e	74 0d		 je	 SHORT $LN70@read_popul
  00760	8b 45 e4	 mov	 eax, DWORD PTR _city$[ebp]
  00763	8b 08		 mov	 ecx, DWORD PTR [eax]
  00765	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv372[ebp], ecx
  0076b	eb 27		 jmp	 SHORT $LN71@read_popul
$LN70@read_popul:
  0076d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00773	81 c2 47 01 00
	00		 add	 edx, 327		; 00000147H
  00779	52		 push	 edx
  0077a	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0077f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00784	50		 push	 eax
  00785	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0078a	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv372[ebp], 0
$LN71@read_popul:
  00794	b9 01 00 00 00	 mov	 ecx, 1
  00799	85 c9		 test	 ecx, ecx
  0079b	74 0c		 je	 SHORT $LN72@read_popul
  0079d	c7 85 cc fd ff
	ff 92 00 00 00	 mov	 DWORD PTR tv380[ebp], 146 ; 00000092H
  007a7	eb 27		 jmp	 SHORT $LN73@read_popul
$LN72@read_popul:
  007a9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  007af	81 c2 47 01 00
	00		 add	 edx, 327		; 00000147H
  007b5	52		 push	 edx
  007b6	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  007bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  007c0	50		 push	 eax
  007c1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007c6	c7 85 cc fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv380[ebp], 0
$LN73@read_popul:
  007d0	6b 4d 84 18	 imul	 ecx, DWORD PTR _index$18[ebp], 24
  007d4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  007da	8b 44 0a 0c	 mov	 eax, DWORD PTR [edx+ecx+12]
  007de	50		 push	 eax
  007df	68 92 00 00 00	 push	 146			; 00000092H
  007e4	8b 4d e4	 mov	 ecx, DWORD PTR _city$[ebp]
  007e7	51		 push	 ecx
  007e8	69 95 d0 fd ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv372[ebp], 1116
  007f2	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR tv380[ebp]
  007f8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  007ff	ff d1		 call	 ecx
$LN9@read_popul:

; 1233 : 	
; 1234 : 							break;
; 1235 : 						}
; 1236 : 					}
; 1237 : 		
; 1238 : 					set_local_entity_int_value ( city, INT_TYPE_APPROXIMATION_OBJECT_3D_SHAPE, temporary_templates[index].approximation_object );

  00801	83 7d e4 00	 cmp	 DWORD PTR _city$[ebp], 0
  00805	74 0d		 je	 SHORT $LN74@read_popul
  00807	8b 45 e4	 mov	 eax, DWORD PTR _city$[ebp]
  0080a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0080c	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv397[ebp], ecx
  00812	eb 27		 jmp	 SHORT $LN75@read_popul
$LN74@read_popul:
  00814	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  0081a	81 c2 4d 01 00
	00		 add	 edx, 333		; 0000014dH
  00820	52		 push	 edx
  00821	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00826	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0082b	50		 push	 eax
  0082c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00831	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv397[ebp], 0
$LN75@read_popul:
  0083b	b9 01 00 00 00	 mov	 ecx, 1
  00840	85 c9		 test	 ecx, ecx
  00842	74 0c		 je	 SHORT $LN76@read_popul
  00844	c7 85 cc fd ff
	ff 09 00 00 00	 mov	 DWORD PTR tv405[ebp], 9
  0084e	eb 27		 jmp	 SHORT $LN77@read_popul
$LN76@read_popul:
  00850	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00856	81 c2 4d 01 00
	00		 add	 edx, 333		; 0000014dH
  0085c	52		 push	 edx
  0085d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00862	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00867	50		 push	 eax
  00868	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0086d	c7 85 cc fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv405[ebp], 0
$LN77@read_popul:
  00877	6b 4d 84 18	 imul	 ecx, DWORD PTR _index$18[ebp], 24
  0087b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00881	8b 44 0a 08	 mov	 eax, DWORD PTR [edx+ecx+8]
  00885	50		 push	 eax
  00886	6a 09		 push	 9
  00888	8b 4d e4	 mov	 ecx, DWORD PTR _city$[ebp]
  0088b	51		 push	 ecx
  0088c	69 95 d0 fd ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv397[ebp], 1116
  00896	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR tv405[ebp]
  0089c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  008a3	ff d1		 call	 ecx
  008a5	e9 86 00 00 00	 jmp	 $LN44@read_popul
$LN37@read_popul:

; 1239 : 				}
; 1240 : 				else if ( keysite )

  008aa	83 7d d8 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  008ae	74 73		 je	 SHORT $LN43@read_popul

; 1241 : 				{
; 1242 : 
; 1243 : 					if ( temporary_templates[index].base_object != OBJECT_3D_INVALID_OBJECT_INDEX )

  008b0	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  008b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  008ba	83 7c 01 0c 00	 cmp	 DWORD PTR [ecx+eax+12], 0
  008bf	74 60		 je	 SHORT $LN45@read_popul

; 1244 : 					{
; 1245 : 
; 1246 : 						create_local_entity

  008c1	6a 00		 push	 0
  008c3	f3 0f 5a 45 94	 cvtss2sd xmm0, DWORD PTR _z$22[ebp]
  008c8	83 ec 08	 sub	 esp, 8
  008cb	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  008d0	f3 0f 5a 45 98	 cvtss2sd xmm0, DWORD PTR _y$23[ebp]
  008d5	83 ec 08	 sub	 esp, 8
  008d8	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  008dd	f3 0f 5a 45 9c	 cvtss2sd xmm0, DWORD PTR _x$24[ebp]
  008e2	83 ec 08	 sub	 esp, 8
  008e5	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  008ea	6a 08		 push	 8
  008ec	6a 09		 push	 9
  008ee	8b 45 ac	 mov	 eax, DWORD PTR _keysite_side$[ebp]
  008f1	50		 push	 eax
  008f2	68 bb 00 00 00	 push	 187			; 000000bbH
  008f7	6a 05		 push	 5
  008f9	6b 4d 84 18	 imul	 ecx, DWORD PTR _index$18[ebp], 24
  008fd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00903	8b 44 0a 0c	 mov	 eax, DWORD PTR [edx+ecx+12]
  00907	50		 push	 eax
  00908	68 92 00 00 00	 push	 146			; 00000092H
  0090d	6a 05		 push	 5
  0090f	6a 0c		 push	 12			; 0000000cH
  00911	6a 34		 push	 52			; 00000034H
  00913	6a 05		 push	 5
  00915	6a ff		 push	 -1
  00917	6a 18		 push	 24			; 00000018H
  00919	e8 00 00 00 00	 call	 ?create_local_entity@@YAPAUENTITY@@W4ENTITY_TYPES@@HZZ ; create_local_entity
  0091e	83 c4 50	 add	 esp, 80			; 00000050H
$LN45@read_popul:

; 1247 : 						(
; 1248 : 							ENTITY_TYPE_SCENIC,
; 1249 : 							ENTITY_INDEX_DONT_CARE,
; 1250 : 							ENTITY_ATTR_INT_VALUE ( INT_TYPE_ENTITY_SUB_TYPE,ENTITY_SUB_TYPE_FIXED_MILITARY_BUILDING ),
; 1251 : 							ENTITY_ATTR_INT_VALUE ( INT_TYPE_OBJECT_3D_SHAPE, temporary_templates[index].base_object ),
; 1252 : 							ENTITY_ATTR_INT_VALUE ( INT_TYPE_SIDE, keysite_side ),
; 1253 : 							ENTITY_ATTR_VEC3D ( VEC3D_TYPE_POSITION, x, y, z ),
; 1254 : 							ENTITY_ATTR_END
; 1255 : 						);
; 1256 : 					}
; 1257 : 				}
; 1258 : 				else

  00921	eb 0d		 jmp	 SHORT $LN44@read_popul
$LN43@read_popul:

; 1259 : 				{
; 1260 : 
; 1261 : 					debug_fatal ( "No city or keysite to attach city buildings to" );

  00923	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@FMCAAOGP@No?5city?5or?5keysite?5to?5attach?5ci@
  00928	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  0092d	83 c4 04	 add	 esp, 4
$LN44@read_popul:

; 1262 : 				}
; 1263 : 
; 1264 : 
; 1265 : 				//
; 1266 : 				// create city buildings
; 1267 : 				//
; 1268 : 
; 1269 : 				for (loop = 0; loop < temporary_templates[index].number_of_objects; loop ++)

  00930	c7 45 88 00 00
	00 00		 mov	 DWORD PTR _loop$19[ebp], 0
  00937	eb 09		 jmp	 SHORT $LN13@read_popul
$LN11@read_popul:
  00939	8b 45 88	 mov	 eax, DWORD PTR _loop$19[ebp]
  0093c	83 c0 01	 add	 eax, 1
  0093f	89 45 88	 mov	 DWORD PTR _loop$19[ebp], eax
$LN13@read_popul:
  00942	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  00946	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  0094c	8b 55 88	 mov	 edx, DWORD PTR _loop$19[ebp]
  0094f	3b 14 01	 cmp	 edx, DWORD PTR [ecx+eax]
  00952	0f 8d b2 06 00
	00		 jge	 $LN12@read_popul

; 1270 : 				{
; 1271 : 
; 1272 : 					float
; 1273 : 						world_x,
; 1274 : 						world_y,
; 1275 : 						world_z,
; 1276 : 						heading;
; 1277 : 
; 1278 : 					/////////////////////////////////////////////////////////////////
; 1279 : 					update_gunships_screen_progress_indicator ();

  00958	e8 00 00 00 00	 call	 ?update_gunships_screen_progress_indicator@@YGXXZ ; update_gunships_screen_progress_indicator

; 1280 : 					/////////////////////////////////////////////////////////////////
; 1281 : 
; 1282 : 					world_x = x;

  0095d	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _x$24[ebp]
  00962	f3 0f 11 85 70
	fe ff ff	 movss	 DWORD PTR _world_x$12[ebp], xmm0

; 1283 : 					world_z = z;

  0096a	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _z$22[ebp]
  0096f	f3 0f 11 85 68
	fe ff ff	 movss	 DWORD PTR _world_z$10[ebp], xmm0

; 1284 : 
; 1285 : 					world_x += temporary_templates[index].objects[loop].x;

  00977	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  0097b	8b 4d 88	 mov	 ecx, DWORD PTR _loop$19[ebp]
  0097e	c1 e1 04	 shl	 ecx, 4
  00981	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00987	8b 44 02 14	 mov	 eax, DWORD PTR [edx+eax+20]
  0098b	f3 0f 10 85 70
	fe ff ff	 movss	 xmm0, DWORD PTR _world_x$12[ebp]
  00993	f3 0f 58 44 08
	04		 addss	 xmm0, DWORD PTR [eax+ecx+4]
  00999	f3 0f 11 85 70
	fe ff ff	 movss	 DWORD PTR _world_x$12[ebp], xmm0

; 1286 : 					world_z -= temporary_templates[index].objects[loop].y;

  009a1	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  009a5	8b 4d 88	 mov	 ecx, DWORD PTR _loop$19[ebp]
  009a8	c1 e1 04	 shl	 ecx, 4
  009ab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  009b1	8b 44 02 14	 mov	 eax, DWORD PTR [edx+eax+20]
  009b5	f3 0f 10 85 68
	fe ff ff	 movss	 xmm0, DWORD PTR _world_z$10[ebp]
  009bd	f3 0f 5c 44 08
	08		 subss	 xmm0, DWORD PTR [eax+ecx+8]
  009c3	f3 0f 11 85 68
	fe ff ff	 movss	 DWORD PTR _world_z$10[ebp], xmm0

; 1287 : 					world_y = y;

  009cb	f3 0f 10 45 98	 movss	 xmm0, DWORD PTR _y$23[ebp]
  009d0	f3 0f 11 85 6c
	fe ff ff	 movss	 DWORD PTR _world_y$11[ebp], xmm0

; 1288 : 
; 1289 : 					//
; 1290 : 					// If its a farm, let buildings find their own height
; 1291 : 					//
; 1292 : 
; 1293 : 					if ( ( temporary_templates[index].type == TEMPLATE_TYPE_FARM ) || ( population_file_version2 ) )

  009d8	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  009dc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  009e2	83 7c 01 04 0d	 cmp	 DWORD PTR [ecx+eax+4], 13 ; 0000000dH
  009e7	74 09		 je	 SHORT $LN47@read_popul
  009e9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?population_file_version2@@3HA, 0
  009f0	74 29		 je	 SHORT $LN46@read_popul
$LN47@read_popul:

; 1294 : 					{
; 1295 : 
; 1296 : 						world_y = get_3d_terrain_point_data ( world_x, world_z, NULL );

  009f2	6a 00		 push	 0
  009f4	51		 push	 ecx
  009f5	f3 0f 10 85 68
	fe ff ff	 movss	 xmm0, DWORD PTR _world_z$10[ebp]
  009fd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a02	51		 push	 ecx
  00a03	f3 0f 10 85 70
	fe ff ff	 movss	 xmm0, DWORD PTR _world_x$12[ebp]
  00a0b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a10	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00a15	d9 9d 6c fe ff
	ff		 fstp	 DWORD PTR _world_y$11[ebp]
$LN46@read_popul:

; 1297 : 					}
; 1298 : 
; 1299 : 
; 1300 : 					heading = ( temporary_templates[index].objects[loop].heading );

  00a1b	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  00a1f	8b 4d 88	 mov	 ecx, DWORD PTR _loop$19[ebp]
  00a22	c1 e1 04	 shl	 ecx, 4
  00a25	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00a2b	8b 44 02 14	 mov	 eax, DWORD PTR [edx+eax+20]
  00a2f	f3 0f 10 44 08
	0c		 movss	 xmm0, DWORD PTR [eax+ecx+12]
  00a35	f3 0f 11 85 64
	fe ff ff	 movss	 DWORD PTR _heading$9[ebp], xmm0

; 1301 : 
; 1302 : 					object_number = temporary_templates[index].objects[loop].object_index;

  00a3d	6b 45 84 18	 imul	 eax, DWORD PTR _index$18[ebp], 24
  00a41	8b 4d 88	 mov	 ecx, DWORD PTR _loop$19[ebp]
  00a44	c1 e1 04	 shl	 ecx, 4
  00a47	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00a4d	8b 44 02 14	 mov	 eax, DWORD PTR [edx+eax+20]
  00a51	8b 0c 08	 mov	 ecx, DWORD PTR [eax+ecx]
  00a54	89 4d 80	 mov	 DWORD PTR _object_number$17[ebp], ecx

; 1303 : 
; 1304 : 					if ( object_number != OBJECT_3D_INVALID_OBJECT_INDEX )

  00a57	83 7d 80 00	 cmp	 DWORD PTR _object_number$17[ebp], 0
  00a5b	0f 84 a4 05 00
	00		 je	 $LN49@read_popul

; 1305 : 					{
; 1306 : 
; 1307 : 						insert_keysite_or_city_object ( city, keysite, keysite_group, keysite_side, object_number, world_x, world_y, world_z, heading );

  00a61	51		 push	 ecx
  00a62	f3 0f 10 85 64
	fe ff ff	 movss	 xmm0, DWORD PTR _heading$9[ebp]
  00a6a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a6f	51		 push	 ecx
  00a70	f3 0f 10 85 68
	fe ff ff	 movss	 xmm0, DWORD PTR _world_z$10[ebp]
  00a78	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a7d	51		 push	 ecx
  00a7e	f3 0f 10 85 6c
	fe ff ff	 movss	 xmm0, DWORD PTR _world_y$11[ebp]
  00a86	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a8b	51		 push	 ecx
  00a8c	f3 0f 10 85 70
	fe ff ff	 movss	 xmm0, DWORD PTR _world_x$12[ebp]
  00a94	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a99	8b 45 80	 mov	 eax, DWORD PTR _object_number$17[ebp]
  00a9c	50		 push	 eax
  00a9d	8b 4d ac	 mov	 ecx, DWORD PTR _keysite_side$[ebp]
  00aa0	51		 push	 ecx
  00aa1	8b 55 d4	 mov	 edx, DWORD PTR _keysite_group$[ebp]
  00aa4	52		 push	 edx
  00aa5	8b 45 d8	 mov	 eax, DWORD PTR _keysite$[ebp]
  00aa8	50		 push	 eax
  00aa9	8b 4d e4	 mov	 ecx, DWORD PTR _city$[ebp]
  00aac	51		 push	 ecx
  00aad	e8 00 00 00 00	 call	 ?insert_keysite_or_city_object@@YGXPAUENTITY@@00W4ENTITY_SIDES@@HMMMM@Z ; insert_keysite_or_city_object

; 1308 : 
; 1309 : 						//
; 1310 : 						// Check for scene links ( SAMS on buildings! )
; 1311 : 						//
; 1312 : 	
; 1313 : 						if ( ( objects_3d_scene_database[object_number].number_of_scene_link_objects ) )

  00ab2	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00ab9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00abf	83 7c 01 2c 00	 cmp	 DWORD PTR [ecx+eax+44], 0
  00ac4	0f 84 3b 05 00
	00		 je	 $LN49@read_popul

; 1314 : 						{
; 1315 : 	
; 1316 : 							int
; 1317 : 								scene_link_count;
; 1318 : 
; 1319 : 							for ( scene_link_count = 0; scene_link_count < objects_3d_scene_database[object_number].number_of_scene_link_objects; scene_link_count++ )

  00aca	c7 85 60 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _scene_link_count$8[ebp], 0
  00ad4	eb 0f		 jmp	 SHORT $LN16@read_popul
$LN14@read_popul:
  00ad6	8b 85 60 fe ff
	ff		 mov	 eax, DWORD PTR _scene_link_count$8[ebp]
  00adc	83 c0 01	 add	 eax, 1
  00adf	89 85 60 fe ff
	ff		 mov	 DWORD PTR _scene_link_count$8[ebp], eax
$LN16@read_popul:
  00ae5	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00aec	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00af2	8b 95 60 fe ff
	ff		 mov	 edx, DWORD PTR _scene_link_count$8[ebp]
  00af8	3b 54 01 2c	 cmp	 edx, DWORD PTR [ecx+eax+44]
  00afc	0f 8d fa 04 00
	00		 jge	 $LN15@read_popul

; 1320 : 							{
; 1321 : 
; 1322 : 								if (	( objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].scene_index == OBJECT_3D_PORTNW_FC_HUGE_CRANE01_BOOM ) ||
; 1323 : 										( objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].scene_index == OBJECT_3D_PORTNW_FC_HUGE_CRANE02_BOOM ) ||
; 1324 : 										( objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].scene_index == OBJECT_3D_LEBANON_CONSTRUCT_CRANE_BOOM_01 ) ||

  00b02	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00b09	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00b10	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00b16	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00b1a	81 3c 08 c1 06
	00 00		 cmp	 DWORD PTR [eax+ecx], 1729 ; 000006c1H
  00b21	74 67		 je	 SHORT $LN52@read_popul
  00b23	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00b2a	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00b31	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00b37	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00b3b	81 3c 08 c5 06
	00 00		 cmp	 DWORD PTR [eax+ecx], 1733 ; 000006c5H
  00b42	74 46		 je	 SHORT $LN52@read_popul
  00b44	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00b4b	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00b52	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00b58	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00b5c	81 3c 08 48 05
	00 00		 cmp	 DWORD PTR [eax+ecx], 1352 ; 00000548H
  00b63	74 25		 je	 SHORT $LN52@read_popul
  00b65	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00b6c	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00b73	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00b79	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00b7d	81 3c 08 4a 05
	00 00		 cmp	 DWORD PTR [eax+ecx], 1354 ; 0000054aH
  00b84	0f 85 c7 00 00
	00		 jne	 $LN50@read_popul
$LN52@read_popul:

; 1325 : 										( objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].scene_index == OBJECT_3D_LEBANON_CONSTRUCT_CRANE_BOOM_02 ) )
; 1326 : 								{
; 1327 : 
; 1328 : 									insert_keysite_or_city_object ( city, keysite, keysite_group, keysite_side,

  00b8a	51		 push	 ecx
  00b8b	f3 0f 10 85 64
	fe ff ff	 movss	 xmm0, DWORD PTR _heading$9[ebp]
  00b93	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b98	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00b9f	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00ba6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00bac	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00bb0	f3 0f 10 44 08
	0c		 movss	 xmm0, DWORD PTR [eax+ecx+12]
  00bb6	f3 0f 58 85 68
	fe ff ff	 addss	 xmm0, DWORD PTR _world_z$10[ebp]
  00bbe	51		 push	 ecx
  00bbf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bc4	69 4d 80 e0 00
	00 00		 imul	 ecx, DWORD PTR _object_number$17[ebp], 224
  00bcb	6b 95 60 fe ff
	ff 1c		 imul	 edx, DWORD PTR _scene_link_count$8[ebp], 28
  00bd2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00bd7	8b 4c 08 54	 mov	 ecx, DWORD PTR [eax+ecx+84]
  00bdb	f3 0f 10 44 11
	08		 movss	 xmm0, DWORD PTR [ecx+edx+8]
  00be1	f3 0f 58 85 6c
	fe ff ff	 addss	 xmm0, DWORD PTR _world_y$11[ebp]
  00be9	51		 push	 ecx
  00bea	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bef	69 55 80 e0 00
	00 00		 imul	 edx, DWORD PTR _object_number$17[ebp], 224
  00bf6	6b 85 60 fe ff
	ff 1c		 imul	 eax, DWORD PTR _scene_link_count$8[ebp], 28
  00bfd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00c03	8b 54 11 54	 mov	 edx, DWORD PTR [ecx+edx+84]
  00c07	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  00c0d	f3 0f 58 85 70
	fe ff ff	 addss	 xmm0, DWORD PTR _world_x$12[ebp]
  00c15	51		 push	 ecx
  00c16	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c1b	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00c22	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00c29	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00c2f	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00c33	8b 0c 08	 mov	 ecx, DWORD PTR [eax+ecx]
  00c36	51		 push	 ecx
  00c37	8b 55 ac	 mov	 edx, DWORD PTR _keysite_side$[ebp]
  00c3a	52		 push	 edx
  00c3b	8b 45 d4	 mov	 eax, DWORD PTR _keysite_group$[ebp]
  00c3e	50		 push	 eax
  00c3f	8b 4d d8	 mov	 ecx, DWORD PTR _keysite$[ebp]
  00c42	51		 push	 ecx
  00c43	8b 55 e4	 mov	 edx, DWORD PTR _city$[ebp]
  00c46	52		 push	 edx
  00c47	e8 00 00 00 00	 call	 ?insert_keysite_or_city_object@@YGXPAUENTITY@@00W4ENTITY_SIDES@@HMMMM@Z ; insert_keysite_or_city_object

; 1329 : 																				objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].scene_index,
; 1330 : 																				objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].x + world_x,
; 1331 : 																				objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].y + world_y,
; 1332 : 																				objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].z + world_z,
; 1333 : 																				heading );
; 1334 : 								}
; 1335 : 								else

  00c4c	e9 a6 03 00 00	 jmp	 $LN18@read_popul
$LN50@read_popul:

; 1336 : 								{
; 1337 : 		
; 1338 : 									if ( ( count % 4 ) == 1 )

  00c51	8b 45 e8	 mov	 eax, DWORD PTR _count$[ebp]
  00c54	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  00c59	79 05		 jns	 SHORT $LN90@read_popul
  00c5b	48		 dec	 eax
  00c5c	83 c8 fc	 or	 eax, -4			; fffffffcH
  00c5f	40		 inc	 eax
$LN90@read_popul:
  00c60	83 f8 01	 cmp	 eax, 1
  00c63	0f 85 8e 03 00
	00		 jne	 $LN18@read_popul

; 1339 : 									{
; 1340 : 		
; 1341 : 		
; 1342 : 										vec3d
; 1343 : 											pos;
; 1344 : 			
; 1345 : 										vec3d
; 1346 : 											relative_position;
; 1347 : 			
; 1348 : 										matrix3x3
; 1349 : 											m;
; 1350 : 			
; 1351 : 										formation_component_types
; 1352 : 											formation_type;
; 1353 : 			
; 1354 : 										entity
; 1355 : 											*group,
; 1356 : 											*member;
; 1357 : 		
; 1358 : 										if (sam_placement_count & 1)

  00c69	8b 45 ec	 mov	 eax, DWORD PTR _sam_placement_count$[ebp]
  00c6c	83 e0 01	 and	 eax, 1
  00c6f	74 0c		 je	 SHORT $LN54@read_popul

; 1359 : 										{
; 1360 : 		
; 1361 : 											formation_type = FORMATION_COMPONENT_INFANTRY_SAM_KNEELING;

  00c71	c7 85 20 fe ff
	ff 21 00 00 00	 mov	 DWORD PTR _formation_type$4[ebp], 33 ; 00000021H

; 1362 : 										}
; 1363 : 										else

  00c7b	eb 0a		 jmp	 SHORT $LN55@read_popul
$LN54@read_popul:

; 1364 : 										{
; 1365 : 		
; 1366 : 											formation_type = FORMATION_COMPONENT_INFANTRY_SAM_STANDING;

  00c7d	c7 85 20 fe ff
	ff 20 00 00 00	 mov	 DWORD PTR _formation_type$4[ebp], 32 ; 00000020H
$LN55@read_popul:

; 1367 : 										}
; 1368 : 			
; 1369 : 										relative_position.x = objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].x;

  00c87	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00c8e	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00c95	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00c9b	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00c9f	f3 0f 10 44 08
	04		 movss	 xmm0, DWORD PTR [eax+ecx+4]
  00ca5	f3 0f 11 85 48
	fe ff ff	 movss	 DWORD PTR _relative_position$6[ebp], xmm0

; 1370 : 										relative_position.y = objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].y;

  00cad	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00cb4	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00cbb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00cc1	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00cc5	f3 0f 10 44 08
	08		 movss	 xmm0, DWORD PTR [eax+ecx+8]
  00ccb	f3 0f 11 85 4c
	fe ff ff	 movss	 DWORD PTR _relative_position$6[ebp+4], xmm0

; 1371 : 										relative_position.z = objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].z;

  00cd3	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00cda	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00ce1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00ce7	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00ceb	f3 0f 10 44 08
	0c		 movss	 xmm0, DWORD PTR [eax+ecx+12]
  00cf1	f3 0f 11 85 50
	fe ff ff	 movss	 DWORD PTR _relative_position$6[ebp+8], xmm0

; 1372 : 			
; 1373 : 										get_3d_transformation_heading_matrix ( m, heading );

  00cf9	51		 push	 ecx
  00cfa	f3 0f 10 85 64
	fe ff ff	 movss	 xmm0, DWORD PTR _heading$9[ebp]
  00d02	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d07	8d 85 24 fe ff
	ff		 lea	 eax, DWORD PTR _m$5[ebp]
  00d0d	50		 push	 eax
  00d0e	e8 00 00 00 00	 call	 ?get_3d_transformation_heading_matrix@@YGXQAY02MM@Z ; get_3d_transformation_heading_matrix

; 1374 : 			
; 1375 : 										multiply_matrix3x3_vec3d ( &pos, m, &relative_position );

  00d13	8d 85 48 fe ff
	ff		 lea	 eax, DWORD PTR _relative_position$6[ebp]
  00d19	50		 push	 eax
  00d1a	8d 8d 24 fe ff
	ff		 lea	 ecx, DWORD PTR _m$5[ebp]
  00d20	51		 push	 ecx
  00d21	8d 95 54 fe ff
	ff		 lea	 edx, DWORD PTR _pos$7[ebp]
  00d27	52		 push	 edx
  00d28	e8 00 00 00 00	 call	 ?multiply_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_matrix3x3_vec3d

; 1376 : 			
; 1377 : 										pos.x += world_x;

  00d2d	f3 0f 10 85 54
	fe ff ff	 movss	 xmm0, DWORD PTR _pos$7[ebp]
  00d35	f3 0f 58 85 70
	fe ff ff	 addss	 xmm0, DWORD PTR _world_x$12[ebp]
  00d3d	f3 0f 11 85 54
	fe ff ff	 movss	 DWORD PTR _pos$7[ebp], xmm0

; 1378 : 										pos.y += world_y;

  00d45	f3 0f 10 85 58
	fe ff ff	 movss	 xmm0, DWORD PTR _pos$7[ebp+4]
  00d4d	f3 0f 58 85 6c
	fe ff ff	 addss	 xmm0, DWORD PTR _world_y$11[ebp]
  00d55	f3 0f 11 85 58
	fe ff ff	 movss	 DWORD PTR _pos$7[ebp+4], xmm0

; 1379 : 										pos.z += world_z;

  00d5d	f3 0f 10 85 5c
	fe ff ff	 movss	 xmm0, DWORD PTR _pos$7[ebp+8]
  00d65	f3 0f 58 85 68
	fe ff ff	 addss	 xmm0, DWORD PTR _world_z$10[ebp]
  00d6d	f3 0f 11 85 5c
	fe ff ff	 movss	 DWORD PTR _pos$7[ebp+8], xmm0

; 1380 : 		
; 1381 : 										if ( keysite )

  00d75	83 7d d8 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  00d79	74 08		 je	 SHORT $LN56@read_popul

; 1382 : 										{
; 1383 : 											closest_keysite = keysite;

  00d7b	8b 45 d8	 mov	 eax, DWORD PTR _keysite$[ebp]
  00d7e	89 45 e0	 mov	 DWORD PTR _closest_keysite$[ebp], eax

; 1384 : 										}
; 1385 : 										else

  00d81	eb 07		 jmp	 SHORT $LN57@read_popul
$LN56@read_popul:

; 1386 : 										{
; 1387 : 											closest_keysite = NULL;

  00d83	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _closest_keysite$[ebp], 0
$LN57@read_popul:

; 1388 : 										}
; 1389 : 
; 1390 : 										group = create_faction_members ( closest_keysite, ENTITY_SUB_TYPE_GROUP_STATIC_INFANTRY, formation_type, 1, sector_side, &pos, FALSE, FALSE );

  00d8a	6a 00		 push	 0
  00d8c	6a 00		 push	 0
  00d8e	8d 85 54 fe ff
	ff		 lea	 eax, DWORD PTR _pos$7[ebp]
  00d94	50		 push	 eax
  00d95	8b 8d 74 fe ff
	ff		 mov	 ecx, DWORD PTR _sector_side$13[ebp]
  00d9b	51		 push	 ecx
  00d9c	6a 01		 push	 1
  00d9e	8b 95 20 fe ff
	ff		 mov	 edx, DWORD PTR _formation_type$4[ebp]
  00da4	52		 push	 edx
  00da5	6a 13		 push	 19			; 00000013H
  00da7	8b 45 e0	 mov	 eax, DWORD PTR _closest_keysite$[ebp]
  00daa	50		 push	 eax
  00dab	e8 00 00 00 00	 call	 ?create_faction_members@@YGPAUENTITY@@PAU1@HW4FORMATION_COMPONENT_TYPES@@HW4ENTITY_SIDES@@PAUVEC3D@@HH@Z ; create_faction_members
  00db0	89 85 1c fe ff
	ff		 mov	 DWORD PTR _group$3[ebp], eax

; 1391 : 			
; 1392 : 										if ( group )

  00db6	83 bd 1c fe ff
	ff 00		 cmp	 DWORD PTR _group$3[ebp], 0
  00dbd	0f 84 34 02 00
	00		 je	 $LN18@read_popul

; 1393 : 										{
; 1394 : 			
; 1395 : 											float
; 1396 : 												relative_heading;
; 1397 : 			
; 1398 : 											relative_heading = objects_3d_scene_database[object_number].scene_link_objects[scene_link_count].heading + heading;

  00dc3	69 45 80 e0 00
	00 00		 imul	 eax, DWORD PTR _object_number$17[ebp], 224
  00dca	6b 8d 60 fe ff
	ff 1c		 imul	 ecx, DWORD PTR _scene_link_count$8[ebp], 28
  00dd1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_scene_database@@3PAUOBJECT_3D_SCENE_DATABASE_ENTRY@@A ; objects_3d_scene_database
  00dd7	8b 44 02 54	 mov	 eax, DWORD PTR [edx+eax+84]
  00ddb	f3 0f 10 44 08
	10		 movss	 xmm0, DWORD PTR [eax+ecx+16]
  00de1	f3 0f 58 85 64
	fe ff ff	 addss	 xmm0, DWORD PTR _heading$9[ebp]
  00de9	f3 0f 11 85 14
	fe ff ff	 movss	 DWORD PTR _relative_heading$1[ebp], xmm0

; 1399 : 			
; 1400 : 											member = get_local_entity_first_child ( group, LIST_TYPE_MEMBER );

  00df1	83 bd 1c fe ff
	ff 00		 cmp	 DWORD PTR _group$3[ebp], 0
  00df8	74 10		 je	 SHORT $LN78@read_popul
  00dfa	8b 85 1c fe ff
	ff		 mov	 eax, DWORD PTR _group$3[ebp]
  00e00	8b 08		 mov	 ecx, DWORD PTR [eax]
  00e02	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv684[ebp], ecx
  00e08	eb 27		 jmp	 SHORT $LN79@read_popul
$LN78@read_popul:
  00e0a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00e10	81 c2 ef 01 00
	00		 add	 edx, 495		; 000001efH
  00e16	52		 push	 edx
  00e17	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00e1c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00e21	50		 push	 eax
  00e22	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00e27	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv684[ebp], 0
$LN79@read_popul:
  00e31	b9 01 00 00 00	 mov	 ecx, 1
  00e36	85 c9		 test	 ecx, ecx
  00e38	74 0c		 je	 SHORT $LN80@read_popul
  00e3a	c7 85 cc fd ff
	ff 19 00 00 00	 mov	 DWORD PTR tv692[ebp], 25 ; 00000019H
  00e44	eb 27		 jmp	 SHORT $LN81@read_popul
$LN80@read_popul:
  00e46	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00e4c	81 c2 ef 01 00
	00		 add	 edx, 495		; 000001efH
  00e52	52		 push	 edx
  00e53	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00e58	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00e5d	50		 push	 eax
  00e5e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00e63	c7 85 cc fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv692[ebp], 0
$LN81@read_popul:
  00e6d	6a 19		 push	 25			; 00000019H
  00e6f	8b 8d 1c fe ff
	ff		 mov	 ecx, DWORD PTR _group$3[ebp]
  00e75	51		 push	 ecx
  00e76	69 95 d0 fd ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv684[ebp], 180
  00e80	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR tv692[ebp]
  00e86	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00e8d	ff d1		 call	 ecx
  00e8f	89 85 18 fe ff
	ff		 mov	 DWORD PTR _member$2[ebp], eax
$LN17@read_popul:

; 1401 : 			
; 1402 : 											while ( member )

  00e95	83 bd 18 fe ff
	ff 00		 cmp	 DWORD PTR _member$2[ebp], 0
  00e9c	0f 84 55 01 00
	00		 je	 $LN18@read_popul

; 1403 : 											{
; 1404 : 			
; 1405 : 												set_local_entity_float_value ( member, FLOAT_TYPE_HEADING, relative_heading );

  00ea2	83 bd 18 fe ff
	ff 00		 cmp	 DWORD PTR _member$2[ebp], 0
  00ea9	74 10		 je	 SHORT $LN82@read_popul
  00eab	8b 85 18 fe ff
	ff		 mov	 eax, DWORD PTR _member$2[ebp]
  00eb1	8b 08		 mov	 ecx, DWORD PTR [eax]
  00eb3	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv705[ebp], ecx
  00eb9	eb 27		 jmp	 SHORT $LN83@read_popul
$LN82@read_popul:
  00ebb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00ec1	81 c2 f4 01 00
	00		 add	 edx, 500		; 000001f4H
  00ec7	52		 push	 edx
  00ec8	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00ecd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00ed2	50		 push	 eax
  00ed3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00ed8	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv705[ebp], 0
$LN83@read_popul:
  00ee2	b9 01 00 00 00	 mov	 ecx, 1
  00ee7	85 c9		 test	 ecx, ecx
  00ee9	74 0c		 je	 SHORT $LN84@read_popul
  00eeb	c7 85 cc fd ff
	ff 34 00 00 00	 mov	 DWORD PTR tv713[ebp], 52 ; 00000034H
  00ef5	eb 27		 jmp	 SHORT $LN85@read_popul
$LN84@read_popul:
  00ef7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00efd	81 c2 f4 01 00
	00		 add	 edx, 500		; 000001f4H
  00f03	52		 push	 edx
  00f04	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00f09	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00f0e	50		 push	 eax
  00f0f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00f14	c7 85 cc fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv713[ebp], 0
$LN85@read_popul:
  00f1e	51		 push	 ecx
  00f1f	f3 0f 10 85 14
	fe ff ff	 movss	 xmm0, DWORD PTR _relative_heading$1[ebp]
  00f27	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00f2c	6a 34		 push	 52			; 00000034H
  00f2e	8b 8d 18 fe ff
	ff		 mov	 ecx, DWORD PTR _member$2[ebp]
  00f34	51		 push	 ecx
  00f35	69 95 d0 fd ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv705[ebp], 700
  00f3f	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR tv713[ebp]
  00f45	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  00f4c	ff d1		 call	 ecx

; 1406 : 			
; 1407 : 												member = get_local_entity_child_succ ( member, LIST_TYPE_MEMBER );

  00f4e	83 bd 18 fe ff
	ff 00		 cmp	 DWORD PTR _member$2[ebp], 0
  00f55	74 10		 je	 SHORT $LN86@read_popul
  00f57	8b 85 18 fe ff
	ff		 mov	 eax, DWORD PTR _member$2[ebp]
  00f5d	8b 08		 mov	 ecx, DWORD PTR [eax]
  00f5f	89 8d d0 fd ff
	ff		 mov	 DWORD PTR tv725[ebp], ecx
  00f65	eb 27		 jmp	 SHORT $LN87@read_popul
$LN86@read_popul:
  00f67	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00f6d	81 c2 f6 01 00
	00		 add	 edx, 502		; 000001f6H
  00f73	52		 push	 edx
  00f74	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00f79	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00f7e	50		 push	 eax
  00f7f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00f84	c7 85 d0 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv725[ebp], 0
$LN87@read_popul:
  00f8e	b9 01 00 00 00	 mov	 ecx, 1
  00f93	85 c9		 test	 ecx, ecx
  00f95	74 0c		 je	 SHORT $LN88@read_popul
  00f97	c7 85 cc fd ff
	ff 19 00 00 00	 mov	 DWORD PTR tv733[ebp], 25 ; 00000019H
  00fa1	eb 27		 jmp	 SHORT $LN89@read_popul
$LN88@read_popul:
  00fa3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??read_population_city_placements@@YGXPAU_iobuf@@@Z@4JA
  00fa9	81 c2 f6 01 00
	00		 add	 edx, 502		; 000001f6H
  00faf	52		 push	 edx
  00fb0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00fb5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00fba	50		 push	 eax
  00fbb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00fc0	c7 85 cc fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv733[ebp], 0
$LN89@read_popul:
  00fca	6a 19		 push	 25			; 00000019H
  00fcc	8b 8d 18 fe ff
	ff		 mov	 ecx, DWORD PTR _member$2[ebp]
  00fd2	51		 push	 ecx
  00fd3	69 95 d0 fd ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv725[ebp], 180
  00fdd	8b 85 cc fd ff
	ff		 mov	 eax, DWORD PTR tv733[ebp]
  00fe3	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00fea	ff d1		 call	 ecx
  00fec	89 85 18 fe ff
	ff		 mov	 DWORD PTR _member$2[ebp], eax

; 1408 : 											}

  00ff2	e9 9e fe ff ff	 jmp	 $LN17@read_popul
$LN18@read_popul:

; 1409 : 										}
; 1410 : 									}
; 1411 : 								}
; 1412 : 							}

  00ff7	e9 da fa ff ff	 jmp	 $LN14@read_popul
$LN15@read_popul:

; 1413 : 
; 1414 : 							sam_placement_count++;

  00ffc	8b 45 ec	 mov	 eax, DWORD PTR _sam_placement_count$[ebp]
  00fff	83 c0 01	 add	 eax, 1
  01002	89 45 ec	 mov	 DWORD PTR _sam_placement_count$[ebp], eax
$LN49@read_popul:

; 1415 : 						}
; 1416 : 					}
; 1417 : 				}

  01005	e9 2f f9 ff ff	 jmp	 $LN11@read_popul
$LN12@read_popul:

; 1418 : 			}
; 1419 : 		}
; 1420 : 	}

  0100a	e9 55 f0 ff ff	 jmp	 $LN2@read_popul
$LN3@read_popul:

; 1421 : }

  0100f	5f		 pop	 edi
  01010	5e		 pop	 esi
  01011	5b		 pop	 ebx
  01012	8b e5		 mov	 esp, ebp
  01014	5d		 pop	 ebp
  01015	c2 04 00	 ret	 4
$LN91@read_popul:
  01018	00 00 00 00	 DD	 $LN20@read_popul
  0101c	00 00 00 00	 DD	 $LN21@read_popul
  01020	00 00 00 00	 DD	 $LN22@read_popul
  01024	00 00 00 00	 DD	 $LN23@read_popul
  01028	00 00 00 00	 DD	 $LN24@read_popul
  0102c	00 00 00 00	 DD	 $LN25@read_popul
?read_population_city_placements@@YGXPAU_iobuf@@@Z ENDP	; read_population_city_placements
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?read_population_templates@@YGXPAU_iobuf@@@Z
_TEXT	SEGMENT
_object_name$1 = -276					; size = 256
_string_length$2 = -20					; size = 4
_object_count$3 = -16					; size = 4
_valid$4 = -12						; size = 4
_objects$5 = -8						; size = 4
_count$ = -4						; size = 4
_fp$ = 8						; size = 4
?read_population_templates@@YGXPAU_iobuf@@@Z PROC	; read_population_templates, COMDAT

; 733  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 54 01 00
	00		 sub	 esp, 340		; 00000154H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 734  : 
; 735  : 	int
; 736  : 		count;
; 737  : 
; 738  : 	population_file_version2 = FALSE;

  0000c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?population_file_version2@@3HA, 0

; 739  : 
; 740  : 	fread ( &number_of_temporary_templates, sizeof ( int ), 1, fp );

  00016	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00019	50		 push	 eax
  0001a	6a 01		 push	 1
  0001c	6a 04		 push	 4
  0001e	68 00 00 00 00	 push	 OFFSET ?number_of_temporary_templates@@3HA ; number_of_temporary_templates
  00023	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00029	83 c4 10	 add	 esp, 16			; 00000010H

; 741  : 
; 742  : 	if ( number_of_temporary_templates < 0 )

  0002c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?number_of_temporary_templates@@3HA, 0 ; number_of_temporary_templates
  00033	7d 16		 jge	 SHORT $LN8@read_popul

; 743  : 	{
; 744  : 
; 745  : 		population_file_version2 = TRUE;

  00035	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?population_file_version2@@3HA, 1

; 746  : 
; 747  : 		number_of_temporary_templates = -number_of_temporary_templates;

  0003f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_temporary_templates@@3HA ; number_of_temporary_templates
  00044	f7 d8		 neg	 eax
  00046	a3 00 00 00 00	 mov	 DWORD PTR ?number_of_temporary_templates@@3HA, eax ; number_of_temporary_templates
$LN8@read_popul:

; 748  : 	}
; 749  : 
; 750  : 	temporary_templates = ( temporary_template * ) safe_malloc ( number_of_temporary_templates * sizeof ( temporary_template ) );

  0004b	6b 05 00 00 00
	00 18		 imul	 eax, DWORD PTR ?number_of_temporary_templates@@3HA, 24 ; number_of_temporary_templates
  00052	50		 push	 eax
  00053	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00058	a3 00 00 00 00	 mov	 DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A, eax ; temporary_templates

; 751  : 
; 752  : 	for ( count = 0; count < number_of_temporary_templates; count++ )

  0005d	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00064	eb 09		 jmp	 SHORT $LN4@read_popul
$LN2@read_popul:
  00066	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00069	83 c0 01	 add	 eax, 1
  0006c	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@read_popul:
  0006f	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00072	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_temporary_templates@@3HA ; number_of_temporary_templates
  00078	0f 8d f8 03 00
	00		 jge	 $LN3@read_popul

; 753  : 	{
; 754  : 
; 755  : 		temporary_template_object
; 756  : 			*objects;
; 757  : 
; 758  : 		int
; 759  : 			valid,
; 760  : 			object_count,
; 761  : 			string_length;
; 762  : 
; 763  : 		char
; 764  : 			object_name[256];
; 765  : 
; 766  : 		#if DEBUG_MODULE
; 767  : 
; 768  : 		debug_log ( "Template: %d", count );
; 769  : 
; 770  : 		#endif
; 771  : 
; 772  : 		temporary_templates[count].approximation_object = OBJECT_3D_INVALID_OBJECT_INDEX;

  0007e	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  00082	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00088	c7 44 01 08 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+8], 0

; 773  : 
; 774  : 		temporary_templates[count].base_object = OBJECT_3D_INVALID_OBJECT_INDEX;

  00090	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  00094	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  0009a	c7 44 01 0c 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+12], 0

; 775  : 
; 776  : 		temporary_templates[count].routes_object = OBJECT_3D_INVALID_OBJECT_INDEX;

  000a2	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  000a6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  000ac	c7 44 01 10 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+16], 0

; 777  : 
; 778  : 		fread ( &temporary_templates[count].number_of_objects, sizeof ( int ), 1, fp );

  000b4	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  000b7	50		 push	 eax
  000b8	6a 01		 push	 1
  000ba	6a 04		 push	 4
  000bc	6b 4d fc 18	 imul	 ecx, DWORD PTR _count$[ebp], 24
  000c0	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  000c6	51		 push	 ecx
  000c7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000cd	83 c4 10	 add	 esp, 16			; 00000010H

; 779  : 
; 780  : 		fread ( &temporary_templates[count].type, sizeof ( int ), 1, fp );

  000d0	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  000d3	50		 push	 eax
  000d4	6a 01		 push	 1
  000d6	6a 04		 push	 4
  000d8	6b 4d fc 18	 imul	 ecx, DWORD PTR _count$[ebp], 24
  000dc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  000e2	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  000e6	50		 push	 eax
  000e7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000ed	83 c4 10	 add	 esp, 16			; 00000010H

; 781  : 
; 782  : 		fread ( &valid, sizeof ( int ), 1, fp );

  000f0	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  000f3	50		 push	 eax
  000f4	6a 01		 push	 1
  000f6	6a 04		 push	 4
  000f8	8d 4d f4	 lea	 ecx, DWORD PTR _valid$4[ebp]
  000fb	51		 push	 ecx
  000fc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00102	83 c4 10	 add	 esp, 16			; 00000010H

; 783  : 
; 784  : 		if ( valid )

  00105	83 7d f4 00	 cmp	 DWORD PTR _valid$4[ebp], 0
  00109	0f 84 84 00 00
	00		 je	 $LN10@read_popul

; 785  : 		{
; 786  : 
; 787  : 			fread ( &string_length, sizeof ( int ), 1, fp );

  0010f	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00112	50		 push	 eax
  00113	6a 01		 push	 1
  00115	6a 04		 push	 4
  00117	8d 4d ec	 lea	 ecx, DWORD PTR _string_length$2[ebp]
  0011a	51		 push	 ecx
  0011b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00121	83 c4 10	 add	 esp, 16			; 00000010H

; 788  : 
; 789  : 			memset ( object_name, 0, 256 );

  00124	68 00 01 00 00	 push	 256			; 00000100H
  00129	6a 00		 push	 0
  0012b	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  00131	50		 push	 eax
  00132	e8 00 00 00 00	 call	 _memset
  00137	83 c4 0c	 add	 esp, 12			; 0000000cH

; 790  : 
; 791  : 			fread ( object_name, string_length, 1, fp );

  0013a	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0013d	50		 push	 eax
  0013e	6a 01		 push	 1
  00140	8b 4d ec	 mov	 ecx, DWORD PTR _string_length$2[ebp]
  00143	51		 push	 ecx
  00144	8d 95 ec fe ff
	ff		 lea	 edx, DWORD PTR _object_name$1[ebp]
  0014a	52		 push	 edx
  0014b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00151	83 c4 10	 add	 esp, 16			; 00000010H

; 792  : 
; 793  : 			temporary_templates[count].approximation_object = get_object_index_from_name ( object_name );

  00154	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  0015a	50		 push	 eax
  0015b	e8 00 00 00 00	 call	 ?get_object_index_from_name@@YGHPAD@Z ; get_object_index_from_name
  00160	6b 4d fc 18	 imul	 ecx, DWORD PTR _count$[ebp], 24
  00164	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  0016a	89 44 0a 08	 mov	 DWORD PTR [edx+ecx+8], eax

; 794  : 
; 795  : 			if ( temporary_templates[count].approximation_object == OBJECT_3D_INVALID_OBJECT_INDEX )

  0016e	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  00172	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00178	83 7c 01 08 00	 cmp	 DWORD PTR [ecx+eax+8], 0
  0017d	75 14		 jne	 SHORT $LN10@read_popul

; 796  : 			{
; 797  : 
; 798  : 				debug_log ( "Invalid approximation specified: %s", object_name );

  0017f	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  00185	50		 push	 eax
  00186	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@IBFEKFKH@Invalid?5approximation?5specified@
  0018b	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00190	83 c4 08	 add	 esp, 8
$LN10@read_popul:

; 799  : 			}
; 800  : 		}
; 801  : 
; 802  : 		fread ( &valid, sizeof ( int ), 1, fp );

  00193	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00196	50		 push	 eax
  00197	6a 01		 push	 1
  00199	6a 04		 push	 4
  0019b	8d 4d f4	 lea	 ecx, DWORD PTR _valid$4[ebp]
  0019e	51		 push	 ecx
  0019f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  001a5	83 c4 10	 add	 esp, 16			; 00000010H

; 803  : 
; 804  : 		if ( valid )

  001a8	83 7d f4 00	 cmp	 DWORD PTR _valid$4[ebp], 0
  001ac	0f 84 84 00 00
	00		 je	 $LN12@read_popul

; 805  : 		{
; 806  : 
; 807  : 			fread ( &string_length, sizeof ( int ), 1, fp );

  001b2	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  001b5	50		 push	 eax
  001b6	6a 01		 push	 1
  001b8	6a 04		 push	 4
  001ba	8d 4d ec	 lea	 ecx, DWORD PTR _string_length$2[ebp]
  001bd	51		 push	 ecx
  001be	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  001c4	83 c4 10	 add	 esp, 16			; 00000010H

; 808  : 
; 809  : 			memset ( object_name, 0, 256 );

  001c7	68 00 01 00 00	 push	 256			; 00000100H
  001cc	6a 00		 push	 0
  001ce	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  001d4	50		 push	 eax
  001d5	e8 00 00 00 00	 call	 _memset
  001da	83 c4 0c	 add	 esp, 12			; 0000000cH

; 810  : 
; 811  : 			fread ( object_name, string_length, 1, fp );

  001dd	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  001e0	50		 push	 eax
  001e1	6a 01		 push	 1
  001e3	8b 4d ec	 mov	 ecx, DWORD PTR _string_length$2[ebp]
  001e6	51		 push	 ecx
  001e7	8d 95 ec fe ff
	ff		 lea	 edx, DWORD PTR _object_name$1[ebp]
  001ed	52		 push	 edx
  001ee	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  001f4	83 c4 10	 add	 esp, 16			; 00000010H

; 812  : 
; 813  : 			temporary_templates[count].base_object = get_object_index_from_name ( object_name );

  001f7	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  001fd	50		 push	 eax
  001fe	e8 00 00 00 00	 call	 ?get_object_index_from_name@@YGHPAD@Z ; get_object_index_from_name
  00203	6b 4d fc 18	 imul	 ecx, DWORD PTR _count$[ebp], 24
  00207	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  0020d	89 44 0a 0c	 mov	 DWORD PTR [edx+ecx+12], eax

; 814  : 
; 815  : 			if ( temporary_templates[count].base_object == OBJECT_3D_INVALID_OBJECT_INDEX )

  00211	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  00215	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  0021b	83 7c 01 0c 00	 cmp	 DWORD PTR [ecx+eax+12], 0
  00220	75 14		 jne	 SHORT $LN12@read_popul

; 816  : 			{
; 817  : 
; 818  : 				debug_log ( "Invalid approximation specified: %s", object_name );

  00222	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  00228	50		 push	 eax
  00229	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@IBFEKFKH@Invalid?5approximation?5specified@
  0022e	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00233	83 c4 08	 add	 esp, 8
$LN12@read_popul:

; 819  : 			}
; 820  : 		}
; 821  : 
; 822  : 		if ( population_file_version2 )

  00236	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?population_file_version2@@3HA, 0
  0023d	0f 84 a3 00 00
	00		 je	 $LN15@read_popul

; 823  : 		{
; 824  : 	
; 825  : 			fread ( &valid, sizeof ( int ), 1, fp );

  00243	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00246	50		 push	 eax
  00247	6a 01		 push	 1
  00249	6a 04		 push	 4
  0024b	8d 4d f4	 lea	 ecx, DWORD PTR _valid$4[ebp]
  0024e	51		 push	 ecx
  0024f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00255	83 c4 10	 add	 esp, 16			; 00000010H

; 826  : 	
; 827  : 			if ( valid )

  00258	83 7d f4 00	 cmp	 DWORD PTR _valid$4[ebp], 0
  0025c	0f 84 84 00 00
	00		 je	 $LN15@read_popul

; 828  : 			{
; 829  : 	
; 830  : 				fread ( &string_length, sizeof ( int ), 1, fp );

  00262	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00265	50		 push	 eax
  00266	6a 01		 push	 1
  00268	6a 04		 push	 4
  0026a	8d 4d ec	 lea	 ecx, DWORD PTR _string_length$2[ebp]
  0026d	51		 push	 ecx
  0026e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00274	83 c4 10	 add	 esp, 16			; 00000010H

; 831  : 	
; 832  : 				memset ( object_name, 0, 256 );

  00277	68 00 01 00 00	 push	 256			; 00000100H
  0027c	6a 00		 push	 0
  0027e	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  00284	50		 push	 eax
  00285	e8 00 00 00 00	 call	 _memset
  0028a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 833  : 	
; 834  : 				fread ( object_name, string_length, 1, fp );

  0028d	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  00290	50		 push	 eax
  00291	6a 01		 push	 1
  00293	8b 4d ec	 mov	 ecx, DWORD PTR _string_length$2[ebp]
  00296	51		 push	 ecx
  00297	8d 95 ec fe ff
	ff		 lea	 edx, DWORD PTR _object_name$1[ebp]
  0029d	52		 push	 edx
  0029e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  002a4	83 c4 10	 add	 esp, 16			; 00000010H

; 835  : 	
; 836  : 				temporary_templates[count].routes_object = get_object_index_from_name ( object_name );

  002a7	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  002ad	50		 push	 eax
  002ae	e8 00 00 00 00	 call	 ?get_object_index_from_name@@YGHPAD@Z ; get_object_index_from_name
  002b3	6b 4d fc 18	 imul	 ecx, DWORD PTR _count$[ebp], 24
  002b7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  002bd	89 44 0a 10	 mov	 DWORD PTR [edx+ecx+16], eax

; 837  : 	
; 838  : 				if ( temporary_templates[count].routes_object == OBJECT_3D_INVALID_OBJECT_INDEX )

  002c1	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  002c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  002cb	83 7c 01 10 00	 cmp	 DWORD PTR [ecx+eax+16], 0
  002d0	75 14		 jne	 SHORT $LN15@read_popul

; 839  : 				{
; 840  : 	
; 841  : 					debug_log ( "Invalid approximation specified: %s", object_name );

  002d2	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  002d8	50		 push	 eax
  002d9	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@IBFEKFKH@Invalid?5approximation?5specified@
  002de	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  002e3	83 c4 08	 add	 esp, 8
$LN15@read_popul:

; 842  : 				}
; 843  : 			}
; 844  : 		}
; 845  : 
; 846  : 		if ( temporary_templates[count].number_of_objects )

  002e6	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  002ea	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  002f0	83 3c 01 00	 cmp	 DWORD PTR [ecx+eax], 0
  002f4	0f 84 65 01 00
	00		 je	 $LN16@read_popul

; 847  : 		{
; 848  : 
; 849  : 			objects = ( temporary_template_object * ) safe_malloc ( temporary_templates[count].number_of_objects * sizeof ( temporary_template_object ) );

  002fa	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  002fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00304	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00307	c1 e2 04	 shl	 edx, 4
  0030a	52		 push	 edx
  0030b	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00310	89 45 f8	 mov	 DWORD PTR _objects$5[ebp], eax

; 850  : 
; 851  : 			temporary_templates[count].objects = objects;

  00313	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  00317	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  0031d	8b 55 f8	 mov	 edx, DWORD PTR _objects$5[ebp]
  00320	89 54 01 14	 mov	 DWORD PTR [ecx+eax+20], edx

; 852  : 
; 853  : 			for ( object_count = 0; object_count < temporary_templates[count].number_of_objects; object_count++ )

  00324	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _object_count$3[ebp], 0
  0032b	eb 09		 jmp	 SHORT $LN7@read_popul
$LN5@read_popul:
  0032d	8b 45 f0	 mov	 eax, DWORD PTR _object_count$3[ebp]
  00330	83 c0 01	 add	 eax, 1
  00333	89 45 f0	 mov	 DWORD PTR _object_count$3[ebp], eax
$LN7@read_popul:
  00336	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  0033a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00340	8b 55 f0	 mov	 edx, DWORD PTR _object_count$3[ebp]
  00343	3b 14 01	 cmp	 edx, DWORD PTR [ecx+eax]
  00346	0f 8d 11 01 00
	00		 jge	 $LN6@read_popul

; 854  : 			{
; 855  : 
; 856  : 				fread ( &objects[object_count].x, sizeof ( float ), 1, fp );

  0034c	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0034f	50		 push	 eax
  00350	6a 01		 push	 1
  00352	6a 04		 push	 4
  00354	8b 4d f0	 mov	 ecx, DWORD PTR _object_count$3[ebp]
  00357	c1 e1 04	 shl	 ecx, 4
  0035a	8b 55 f8	 mov	 edx, DWORD PTR _objects$5[ebp]
  0035d	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00361	50		 push	 eax
  00362	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00368	83 c4 10	 add	 esp, 16			; 00000010H

; 857  : 				fread ( &objects[object_count].y, sizeof ( float ), 1, fp );

  0036b	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0036e	50		 push	 eax
  0036f	6a 01		 push	 1
  00371	6a 04		 push	 4
  00373	8b 4d f0	 mov	 ecx, DWORD PTR _object_count$3[ebp]
  00376	c1 e1 04	 shl	 ecx, 4
  00379	8b 55 f8	 mov	 edx, DWORD PTR _objects$5[ebp]
  0037c	8d 44 0a 08	 lea	 eax, DWORD PTR [edx+ecx+8]
  00380	50		 push	 eax
  00381	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00387	83 c4 10	 add	 esp, 16			; 00000010H

; 858  : 				fread ( &objects[object_count].heading, sizeof ( float ), 1, fp );

  0038a	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  0038d	50		 push	 eax
  0038e	6a 01		 push	 1
  00390	6a 04		 push	 4
  00392	8b 4d f0	 mov	 ecx, DWORD PTR _object_count$3[ebp]
  00395	c1 e1 04	 shl	 ecx, 4
  00398	8b 55 f8	 mov	 edx, DWORD PTR _objects$5[ebp]
  0039b	8d 44 0a 0c	 lea	 eax, DWORD PTR [edx+ecx+12]
  0039f	50		 push	 eax
  003a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  003a6	83 c4 10	 add	 esp, 16			; 00000010H

; 859  : 				objects[object_count].heading = rad ( objects[object_count].heading);

  003a9	8b 45 f0	 mov	 eax, DWORD PTR _object_count$3[ebp]
  003ac	c1 e0 04	 shl	 eax, 4
  003af	8b 4d f8	 mov	 ecx, DWORD PTR _objects$5[ebp]
  003b2	f3 0f 10 44 01
	0c		 movss	 xmm0, DWORD PTR [ecx+eax+12]
  003b8	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  003c0	8b 55 f0	 mov	 edx, DWORD PTR _object_count$3[ebp]
  003c3	c1 e2 04	 shl	 edx, 4
  003c6	8b 45 f8	 mov	 eax, DWORD PTR _objects$5[ebp]
  003c9	f3 0f 11 44 10
	0c		 movss	 DWORD PTR [eax+edx+12], xmm0

; 860  : 
; 861  : 				fread ( &string_length, sizeof ( int ), 1, fp );

  003cf	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  003d2	50		 push	 eax
  003d3	6a 01		 push	 1
  003d5	6a 04		 push	 4
  003d7	8d 4d ec	 lea	 ecx, DWORD PTR _string_length$2[ebp]
  003da	51		 push	 ecx
  003db	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  003e1	83 c4 10	 add	 esp, 16			; 00000010H

; 862  : 
; 863  : 				memset ( object_name, 0, 256 );

  003e4	68 00 01 00 00	 push	 256			; 00000100H
  003e9	6a 00		 push	 0
  003eb	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  003f1	50		 push	 eax
  003f2	e8 00 00 00 00	 call	 _memset
  003f7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 864  : 
; 865  : 				fread ( object_name, string_length, 1, fp );

  003fa	8b 45 08	 mov	 eax, DWORD PTR _fp$[ebp]
  003fd	50		 push	 eax
  003fe	6a 01		 push	 1
  00400	8b 4d ec	 mov	 ecx, DWORD PTR _string_length$2[ebp]
  00403	51		 push	 ecx
  00404	8d 95 ec fe ff
	ff		 lea	 edx, DWORD PTR _object_name$1[ebp]
  0040a	52		 push	 edx
  0040b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00411	83 c4 10	 add	 esp, 16			; 00000010H

; 866  : 
; 867  : 				objects[object_count].object_index = get_object_index_from_name ( object_name );

  00414	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _object_name$1[ebp]
  0041a	50		 push	 eax
  0041b	e8 00 00 00 00	 call	 ?get_object_index_from_name@@YGHPAD@Z ; get_object_index_from_name
  00420	8b 4d f0	 mov	 ecx, DWORD PTR _object_count$3[ebp]
  00423	c1 e1 04	 shl	 ecx, 4
  00426	8b 55 f8	 mov	 edx, DWORD PTR _objects$5[ebp]
  00429	89 04 0a	 mov	 DWORD PTR [edx+ecx], eax

; 868  : 
; 869  : 				if ( objects[object_count].object_index != OBJECT_3D_INVALID_OBJECT_INDEX )
; 870  : 				{
; 871  : 
; 872  : 					#if DEBUG_MODULE
; 873  : 
; 874  : 					debug_log ( "3D Object: %s", object_3d_enumeration_names[ objects[object_count].object_index ] );
; 875  : 
; 876  : 					#endif
; 877  : 				}
; 878  : 				else
; 879  : 				{
; 880  : 
; 881  : 					#if DEBUG_MODULE
; 882  : 
; 883  : 					debug_log ( "3D Object: %s ( was %s ) ", object_3d_enumeration_names[ objects[object_count].object_index ], object_name );
; 884  : 
; 885  : 					#endif
; 886  : 				}
; 887  : 
; 888  : 				ASSERT ( objects[object_count].object_index < OBJECT_3D_LAST );

  0042c	8b 45 f0	 mov	 eax, DWORD PTR _object_count$3[ebp]
  0042f	c1 e0 04	 shl	 eax, 4
  00432	8b 4d f8	 mov	 ecx, DWORD PTR _objects$5[ebp]
  00435	81 3c 01 e4 0a
	00 00		 cmp	 DWORD PTR [ecx+eax], 2788 ; 00000ae4H
  0043c	7c 1a		 jl	 SHORT $LN20@read_popul
  0043e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_population_templates@@YGXPAU_iobuf@@@Z@4JA
  00443	05 9b 00 00 00	 add	 eax, 155		; 0000009bH
  00448	50		 push	 eax
  00449	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0044e	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@DILNJMMJ@objects?$FLobject_count?$FN?4object_in@
  00453	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN20@read_popul:

; 889  : 			}

  00458	e9 d0 fe ff ff	 jmp	 $LN5@read_popul
$LN6@read_popul:

; 890  : 		}
; 891  : 		else

  0045d	eb 12		 jmp	 SHORT $LN17@read_popul
$LN16@read_popul:

; 892  : 		{
; 893  : 
; 894  : 			temporary_templates[count].objects = NULL;

  0045f	6b 45 fc 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  00463	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00469	c7 44 01 14 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+20], 0
$LN17@read_popul:

; 895  : 		}
; 896  : 	}

  00471	e9 f0 fb ff ff	 jmp	 $LN2@read_popul
$LN3@read_popul:

; 897  : 
; 898  : }

  00476	5f		 pop	 edi
  00477	5e		 pop	 esi
  00478	5b		 pop	 ebx
  00479	8b e5		 mov	 esp, ebp
  0047b	5d		 pop	 ebp
  0047c	c2 04 00	 ret	 4
?read_population_templates@@YGXPAU_iobuf@@@Z ENDP	; read_population_templates
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z
_TEXT	SEGMENT
_ptr$ = -4						; size = 4
_x_sec$ = 8						; size = 4
_z_sec$ = 12						; size = 4
?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z PROC	; get_initial_sector_side, COMDAT

; 544  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 545  : 
; 546  : 	psd_rgb
; 547  : 		*ptr;
; 548  : 
; 549  : 	ASSERT ( current_initial_sector_sides );

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?current_initial_sector_sides@@3PAUPSD_RGB@@A, 0
  00010	75 18		 jne	 SHORT $LN2@get_initia
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z@4JA
  00017	83 c0 05	 add	 eax, 5
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@DMHIDJNG@current_initial_sector_sides@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_initia:

; 550  : 
; 551  : 	z_sec = ( current_initial_sector_sides_z_length - 1 ) - z_sec;

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_initial_sector_sides_z_length@@3HA
  0002f	83 e8 01	 sub	 eax, 1
  00032	2b 45 0c	 sub	 eax, DWORD PTR _z_sec$[ebp]
  00035	89 45 0c	 mov	 DWORD PTR _z_sec$[ebp], eax

; 552  : 
; 553  : 	ptr = &current_initial_sector_sides[ ( current_initial_sector_sides_x_length * z_sec ) + x_sec ];

  00038	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_initial_sector_sides_x_length@@3HA
  0003d	0f af 45 0c	 imul	 eax, DWORD PTR _z_sec$[ebp]
  00041	03 45 08	 add	 eax, DWORD PTR _x_sec$[ebp]
  00044	6b c8 03	 imul	 ecx, eax, 3
  00047	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?current_initial_sector_sides@@3PAUPSD_RGB@@A
  0004d	89 4d fc	 mov	 DWORD PTR _ptr$[ebp], ecx

; 554  : 
; 555  : 	if ( ptr->r > 240 )

  00050	8b 45 fc	 mov	 eax, DWORD PTR _ptr$[ebp]
  00053	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00056	81 f9 f0 00 00
	00		 cmp	 ecx, 240		; 000000f0H
  0005c	7e 09		 jle	 SHORT $LN3@get_initia

; 556  : 	{
; 557  : 
; 558  : 		return ( ENTITY_SIDE_RED_FORCE );

  0005e	b8 02 00 00 00	 mov	 eax, 2
  00063	eb 1c		 jmp	 SHORT $LN1@get_initia
  00065	eb 1a		 jmp	 SHORT $LN1@get_initia
$LN3@get_initia:

; 559  : 	}
; 560  : 	else if ( ptr->b > 240 )

  00067	8b 45 fc	 mov	 eax, DWORD PTR _ptr$[ebp]
  0006a	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  0006e	81 f9 f0 00 00
	00		 cmp	 ecx, 240		; 000000f0H
  00074	7e 09		 jle	 SHORT $LN5@get_initia

; 561  : 	{
; 562  : 
; 563  : 		return ( ENTITY_SIDE_BLUE_FORCE );

  00076	b8 01 00 00 00	 mov	 eax, 1
  0007b	eb 04		 jmp	 SHORT $LN1@get_initia

; 564  : 	}
; 565  : 	else

  0007d	eb 02		 jmp	 SHORT $LN1@get_initia
$LN5@get_initia:

; 566  : 	{
; 567  : 
; 568  : 		return ( ENTITY_SIDE_NEUTRAL );

  0007f	33 c0		 xor	 eax, eax
$LN1@get_initia:

; 569  : 	}
; 570  : }

  00081	5f		 pop	 edi
  00082	5e		 pop	 esi
  00083	5b		 pop	 ebx
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c2 08 00	 ret	 8
?get_initial_sector_side@@YG?AW4ENTITY_SIDES@@HH@Z ENDP	; get_initial_sector_side
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?process_population_forces@@YGXPAUPSD_RGB@@HH@Z
_TEXT	SEGMENT
tv219 = -84						; size = 4
tv183 = -84						; size = 4
tv144 = -84						; size = 4
tv211 = -80						; size = 4
tv204 = -80						; size = 4
tv175 = -80						; size = 4
tv168 = -80						; size = 4
tv136 = -80						; size = 4
tv129 = -80						; size = 4
_sector$1 = -12						; size = 4
_y$ = -8						; size = 4
_x$ = -4						; size = 4
_ptr$ = 8						; size = 4
_width$ = 12						; size = 4
_height$ = 16						; size = 4
?process_population_forces@@YGXPAUPSD_RGB@@HH@Z PROC	; process_population_forces, COMDAT

; 442  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 443  : 
; 444  : 	int
; 445  : 		x,
; 446  : 		y;
; 447  : 
; 448  : 	if ( current_initial_sector_sides )

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?current_initial_sector_sides@@3PAUPSD_RGB@@A, 0
  00010	74 15		 je	 SHORT $LN8@process_po

; 449  : 	{
; 450  : 
; 451  : 		safe_free ( current_initial_sector_sides );

  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_initial_sector_sides@@3PAUPSD_RGB@@A
  00017	50		 push	 eax
  00018	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 452  : 
; 453  : 		current_initial_sector_sides = NULL;

  0001d	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?current_initial_sector_sides@@3PAUPSD_RGB@@A, 0
$LN8@process_po:

; 454  : 	}
; 455  : 
; 456  : 	current_initial_sector_sides = ( psd_rgb * ) safe_malloc ( sizeof ( psd_rgb ) * width * height );

  00027	6b 45 0c 03	 imul	 eax, DWORD PTR _width$[ebp], 3
  0002b	0f af 45 10	 imul	 eax, DWORD PTR _height$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00035	a3 00 00 00 00	 mov	 DWORD PTR ?current_initial_sector_sides@@3PAUPSD_RGB@@A, eax

; 457  : 
; 458  : 	memcpy ( current_initial_sector_sides, ptr, ( sizeof ( psd_rgb ) * width * height ) );

  0003a	6b 45 0c 03	 imul	 eax, DWORD PTR _width$[ebp], 3
  0003e	0f af 45 10	 imul	 eax, DWORD PTR _height$[ebp]
  00042	50		 push	 eax
  00043	8b 4d 08	 mov	 ecx, DWORD PTR _ptr$[ebp]
  00046	51		 push	 ecx
  00047	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_initial_sector_sides@@3PAUPSD_RGB@@A
  0004d	52		 push	 edx
  0004e	e8 00 00 00 00	 call	 _memcpy
  00053	83 c4 0c	 add	 esp, 12			; 0000000cH

; 459  : 
; 460  : 	current_initial_sector_sides_x_length = width;

  00056	8b 45 0c	 mov	 eax, DWORD PTR _width$[ebp]
  00059	a3 00 00 00 00	 mov	 DWORD PTR ?current_initial_sector_sides_x_length@@3HA, eax

; 461  : 
; 462  : 	current_initial_sector_sides_z_length = height;

  0005e	8b 45 10	 mov	 eax, DWORD PTR _height$[ebp]
  00061	a3 00 00 00 00	 mov	 DWORD PTR ?current_initial_sector_sides_z_length@@3HA, eax

; 463  : 
; 464  : 	for ( y = 0; y < height; y++ )

  00066	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _y$[ebp], 0
  0006d	eb 09		 jmp	 SHORT $LN4@process_po
$LN2@process_po:
  0006f	8b 45 f8	 mov	 eax, DWORD PTR _y$[ebp]
  00072	83 c0 01	 add	 eax, 1
  00075	89 45 f8	 mov	 DWORD PTR _y$[ebp], eax
$LN4@process_po:
  00078	8b 45 f8	 mov	 eax, DWORD PTR _y$[ebp]
  0007b	3b 45 10	 cmp	 eax, DWORD PTR _height$[ebp]
  0007e	0f 8d 2a 03 00
	00		 jge	 $LN1@process_po

; 465  : 	{
; 466  : 
; 467  : 		for ( x = 0; x < width; x++ )

  00084	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _x$[ebp], 0
  0008b	eb 09		 jmp	 SHORT $LN7@process_po
$LN5@process_po:
  0008d	8b 45 fc	 mov	 eax, DWORD PTR _x$[ebp]
  00090	83 c0 01	 add	 eax, 1
  00093	89 45 fc	 mov	 DWORD PTR _x$[ebp], eax
$LN7@process_po:
  00096	8b 45 fc	 mov	 eax, DWORD PTR _x$[ebp]
  00099	3b 45 0c	 cmp	 eax, DWORD PTR _width$[ebp]
  0009c	0f 8d 07 03 00
	00		 jge	 $LN6@process_po

; 468  : 		{
; 469  : 
; 470  : 			entity
; 471  : 				*sector;
; 472  : 
; 473  : 			if ( ptr->r > 240 )

  000a2	8b 45 08	 mov	 eax, DWORD PTR _ptr$[ebp]
  000a5	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  000a8	81 f9 f0 00 00
	00		 cmp	 ecx, 240		; 000000f0H
  000ae	0f 8e ec 00 00
	00		 jle	 $LN9@process_po

; 474  : 			{
; 475  : 
; 476  : 				sector = get_local_raw_sector_entity (x, ( MAX_MAP_Z_SECTOR - y ) );

  000b4	a1 20 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  000b9	2b 45 f8	 sub	 eax, DWORD PTR _y$[ebp]
  000bc	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  000c3	03 45 fc	 add	 eax, DWORD PTR _x$[ebp]
  000c6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  000cc	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  000d0	74 20		 je	 SHORT $LN14@process_po
  000d2	8b 15 20 00 00
	00		 mov	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  000d8	2b 55 f8	 sub	 edx, DWORD PTR _y$[ebp]
  000db	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  000e2	03 55 fc	 add	 edx, DWORD PTR _x$[ebp]
  000e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  000ea	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  000ed	89 4d b0	 mov	 DWORD PTR tv129[ebp], ecx
  000f0	eb 21		 jmp	 SHORT $LN15@process_po
$LN14@process_po:
  000f2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  000f8	83 c2 22	 add	 edx, 34			; 00000022H
  000fb	52		 push	 edx
  000fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00101	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  00106	50		 push	 eax
  00107	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0010c	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN15@process_po:
  00113	8b 4d b0	 mov	 ecx, DWORD PTR tv129[ebp]
  00116	89 4d f4	 mov	 DWORD PTR _sector$1[ebp], ecx

; 477  : 
; 478  : 				set_local_entity_int_value ( sector, INT_TYPE_SIDE, ENTITY_SIDE_RED_FORCE );

  00119	83 7d f4 00	 cmp	 DWORD PTR _sector$1[ebp], 0
  0011d	74 0a		 je	 SHORT $LN16@process_po
  0011f	8b 45 f4	 mov	 eax, DWORD PTR _sector$1[ebp]
  00122	8b 08		 mov	 ecx, DWORD PTR [eax]
  00124	89 4d b0	 mov	 DWORD PTR tv136[ebp], ecx
  00127	eb 21		 jmp	 SHORT $LN17@process_po
$LN16@process_po:
  00129	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  0012f	83 c2 24	 add	 edx, 36			; 00000024H
  00132	52		 push	 edx
  00133	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00138	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0013d	50		 push	 eax
  0013e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00143	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv136[ebp], 0
$LN17@process_po:
  0014a	b9 01 00 00 00	 mov	 ecx, 1
  0014f	85 c9		 test	 ecx, ecx
  00151	74 09		 je	 SHORT $LN18@process_po
  00153	c7 45 ac bb 00
	00 00		 mov	 DWORD PTR tv144[ebp], 187 ; 000000bbH
  0015a	eb 21		 jmp	 SHORT $LN19@process_po
$LN18@process_po:
  0015c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  00162	83 c2 24	 add	 edx, 36			; 00000024H
  00165	52		 push	 edx
  00166	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0016b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00170	50		 push	 eax
  00171	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00176	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv144[ebp], 0
$LN19@process_po:
  0017d	6a 02		 push	 2
  0017f	68 bb 00 00 00	 push	 187			; 000000bbH
  00184	8b 4d f4	 mov	 ecx, DWORD PTR _sector$1[ebp]
  00187	51		 push	 ecx
  00188	69 55 b0 5c 04
	00 00		 imul	 edx, DWORD PTR tv136[ebp], 1116
  0018f	8b 45 ac	 mov	 eax, DWORD PTR tv144[ebp]
  00192	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  00199	ff d1		 call	 ecx
  0019b	e9 fb 01 00 00	 jmp	 $LN10@process_po
$LN9@process_po:

; 479  : 			}
; 480  : 			else if ( ptr->b > 240 )

  001a0	8b 45 08	 mov	 eax, DWORD PTR _ptr$[ebp]
  001a3	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  001a7	81 f9 f0 00 00
	00		 cmp	 ecx, 240		; 000000f0H
  001ad	0f 8e ec 00 00
	00		 jle	 $LN11@process_po

; 481  : 			{
; 482  : 
; 483  : 				sector = get_local_raw_sector_entity ( x, ( MAX_MAP_Z_SECTOR - y ) );

  001b3	a1 20 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  001b8	2b 45 f8	 sub	 eax, DWORD PTR _y$[ebp]
  001bb	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  001c2	03 45 fc	 add	 eax, DWORD PTR _x$[ebp]
  001c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  001cb	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  001cf	74 20		 je	 SHORT $LN20@process_po
  001d1	8b 15 20 00 00
	00		 mov	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  001d7	2b 55 f8	 sub	 edx, DWORD PTR _y$[ebp]
  001da	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  001e1	03 55 fc	 add	 edx, DWORD PTR _x$[ebp]
  001e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  001e9	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  001ec	89 4d b0	 mov	 DWORD PTR tv168[ebp], ecx
  001ef	eb 21		 jmp	 SHORT $LN21@process_po
$LN20@process_po:
  001f1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  001f7	83 c2 29	 add	 edx, 41			; 00000029H
  001fa	52		 push	 edx
  001fb	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00200	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  00205	50		 push	 eax
  00206	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0020b	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv168[ebp], 0
$LN21@process_po:
  00212	8b 4d b0	 mov	 ecx, DWORD PTR tv168[ebp]
  00215	89 4d f4	 mov	 DWORD PTR _sector$1[ebp], ecx

; 484  : 
; 485  : 				set_local_entity_int_value ( sector, INT_TYPE_SIDE, ENTITY_SIDE_BLUE_FORCE );

  00218	83 7d f4 00	 cmp	 DWORD PTR _sector$1[ebp], 0
  0021c	74 0a		 je	 SHORT $LN22@process_po
  0021e	8b 45 f4	 mov	 eax, DWORD PTR _sector$1[ebp]
  00221	8b 08		 mov	 ecx, DWORD PTR [eax]
  00223	89 4d b0	 mov	 DWORD PTR tv175[ebp], ecx
  00226	eb 21		 jmp	 SHORT $LN23@process_po
$LN22@process_po:
  00228	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  0022e	83 c2 2b	 add	 edx, 43			; 0000002bH
  00231	52		 push	 edx
  00232	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00237	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0023c	50		 push	 eax
  0023d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00242	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv175[ebp], 0
$LN23@process_po:
  00249	b9 01 00 00 00	 mov	 ecx, 1
  0024e	85 c9		 test	 ecx, ecx
  00250	74 09		 je	 SHORT $LN24@process_po
  00252	c7 45 ac bb 00
	00 00		 mov	 DWORD PTR tv183[ebp], 187 ; 000000bbH
  00259	eb 21		 jmp	 SHORT $LN25@process_po
$LN24@process_po:
  0025b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  00261	83 c2 2b	 add	 edx, 43			; 0000002bH
  00264	52		 push	 edx
  00265	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0026f	50		 push	 eax
  00270	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00275	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv183[ebp], 0
$LN25@process_po:
  0027c	6a 01		 push	 1
  0027e	68 bb 00 00 00	 push	 187			; 000000bbH
  00283	8b 4d f4	 mov	 ecx, DWORD PTR _sector$1[ebp]
  00286	51		 push	 ecx
  00287	69 55 b0 5c 04
	00 00		 imul	 edx, DWORD PTR tv175[ebp], 1116
  0028e	8b 45 ac	 mov	 eax, DWORD PTR tv183[ebp]
  00291	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  00298	ff d1		 call	 ecx

; 486  : 			}
; 487  : 			else

  0029a	e9 fc 00 00 00	 jmp	 $LN10@process_po
$LN11@process_po:

; 488  : 			{
; 489  : 
; 490  : 				sector = get_local_raw_sector_entity ( x, ( MAX_MAP_Z_SECTOR - y ) );

  0029f	a1 20 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  002a4	2b 45 f8	 sub	 eax, DWORD PTR _y$[ebp]
  002a7	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  002ae	03 45 fc	 add	 eax, DWORD PTR _x$[ebp]
  002b1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  002b7	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  002bb	74 20		 je	 SHORT $LN26@process_po
  002bd	8b 15 20 00 00
	00		 mov	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  002c3	2b 55 f8	 sub	 edx, DWORD PTR _y$[ebp]
  002c6	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  002cd	03 55 fc	 add	 edx, DWORD PTR _x$[ebp]
  002d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  002d5	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  002d8	89 4d b0	 mov	 DWORD PTR tv204[ebp], ecx
  002db	eb 21		 jmp	 SHORT $LN27@process_po
$LN26@process_po:
  002dd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  002e3	83 c2 30	 add	 edx, 48			; 00000030H
  002e6	52		 push	 edx
  002e7	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  002f1	50		 push	 eax
  002f2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002f7	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv204[ebp], 0
$LN27@process_po:
  002fe	8b 4d b0	 mov	 ecx, DWORD PTR tv204[ebp]
  00301	89 4d f4	 mov	 DWORD PTR _sector$1[ebp], ecx

; 491  : 
; 492  : 				set_local_entity_int_value ( sector, INT_TYPE_SIDE, ENTITY_SIDE_NEUTRAL );

  00304	83 7d f4 00	 cmp	 DWORD PTR _sector$1[ebp], 0
  00308	74 0a		 je	 SHORT $LN28@process_po
  0030a	8b 45 f4	 mov	 eax, DWORD PTR _sector$1[ebp]
  0030d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0030f	89 4d b0	 mov	 DWORD PTR tv211[ebp], ecx
  00312	eb 21		 jmp	 SHORT $LN29@process_po
$LN28@process_po:
  00314	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  0031a	83 c2 32	 add	 edx, 50			; 00000032H
  0031d	52		 push	 edx
  0031e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00323	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00328	50		 push	 eax
  00329	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0032e	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv211[ebp], 0
$LN29@process_po:
  00335	b9 01 00 00 00	 mov	 ecx, 1
  0033a	85 c9		 test	 ecx, ecx
  0033c	74 09		 je	 SHORT $LN30@process_po
  0033e	c7 45 ac bb 00
	00 00		 mov	 DWORD PTR tv219[ebp], 187 ; 000000bbH
  00345	eb 21		 jmp	 SHORT $LN31@process_po
$LN30@process_po:
  00347	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??process_population_forces@@YGXPAUPSD_RGB@@HH@Z@4JA
  0034d	83 c2 32	 add	 edx, 50			; 00000032H
  00350	52		 push	 edx
  00351	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00356	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0035b	50		 push	 eax
  0035c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00361	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv219[ebp], 0
$LN31@process_po:
  00368	6a 00		 push	 0
  0036a	68 bb 00 00 00	 push	 187			; 000000bbH
  0036f	8b 4d f4	 mov	 ecx, DWORD PTR _sector$1[ebp]
  00372	51		 push	 ecx
  00373	69 55 b0 5c 04
	00 00		 imul	 edx, DWORD PTR tv211[ebp], 1116
  0037a	8b 45 ac	 mov	 eax, DWORD PTR tv219[ebp]
  0037d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  00384	ff d1		 call	 ecx

; 493  : 
; 494  : 				debug_fatal ("POPREAD: neutral sector %d, %d", x, y);

  00386	8b 45 f8	 mov	 eax, DWORD PTR _y$[ebp]
  00389	50		 push	 eax
  0038a	8b 4d fc	 mov	 ecx, DWORD PTR _x$[ebp]
  0038d	51		 push	 ecx
  0038e	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@BLGAGCDG@POPREAD?3?5neutral?5sector?5?$CFd?0?5?$CFd@
  00393	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00398	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN10@process_po:

; 495  : 			}
; 496  : 
; 497  : 			ptr++;

  0039b	8b 45 08	 mov	 eax, DWORD PTR _ptr$[ebp]
  0039e	83 c0 03	 add	 eax, 3
  003a1	89 45 08	 mov	 DWORD PTR _ptr$[ebp], eax

; 498  : 		}

  003a4	e9 e4 fc ff ff	 jmp	 $LN5@process_po
$LN6@process_po:

; 499  : 	}

  003a9	e9 c1 fc ff ff	 jmp	 $LN2@process_po
$LN1@process_po:

; 500  : }

  003ae	5f		 pop	 edi
  003af	5e		 pop	 esi
  003b0	5b		 pop	 ebx
  003b1	8b e5		 mov	 esp, ebp
  003b3	5d		 pop	 ebp
  003b4	c2 0c 00	 ret	 12			; 0000000cH
?process_population_forces@@YGXPAUPSD_RGB@@HH@Z ENDP	; process_population_forces
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?reset_population_sector_values@@YGXHH@Z
_TEXT	SEGMENT
tv131 = -88						; size = 4
tv91 = -84						; size = 4
tv83 = -84						; size = 4
_sector$1 = -16						; size = 4
_sector_raw$ = -12					; size = 4
_y$ = -8						; size = 4
_x$ = -4						; size = 4
_width$ = 8						; size = 4
_height$ = 12						; size = 4
?reset_population_sector_values@@YGXHH@Z PROC		; reset_population_sector_values, COMDAT

; 410  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 411  : 
; 412  : 	int
; 413  : 		x,
; 414  : 		y;
; 415  : 
; 416  : 	sector
; 417  : 		*sector_raw;
; 418  : 
; 419  : 	for ( y = 0; y < height; y++ )

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _y$[ebp], 0
  00010	eb 09		 jmp	 SHORT $LN4@reset_popu
$LN2@reset_popu:
  00012	8b 45 f8	 mov	 eax, DWORD PTR _y$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 f8	 mov	 DWORD PTR _y$[ebp], eax
$LN4@reset_popu:
  0001b	8b 45 f8	 mov	 eax, DWORD PTR _y$[ebp]
  0001e	3b 45 0c	 cmp	 eax, DWORD PTR _height$[ebp]
  00021	0f 8d 18 01 00
	00		 jge	 $LN1@reset_popu

; 420  : 	{
; 421  : 
; 422  : 		for ( x = 0; x < width; x++ )

  00027	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _x$[ebp], 0
  0002e	eb 09		 jmp	 SHORT $LN7@reset_popu
$LN5@reset_popu:
  00030	8b 45 fc	 mov	 eax, DWORD PTR _x$[ebp]
  00033	83 c0 01	 add	 eax, 1
  00036	89 45 fc	 mov	 DWORD PTR _x$[ebp], eax
$LN7@reset_popu:
  00039	8b 45 fc	 mov	 eax, DWORD PTR _x$[ebp]
  0003c	3b 45 08	 cmp	 eax, DWORD PTR _width$[ebp]
  0003f	0f 8d f5 00 00
	00		 jge	 $LN6@reset_popu

; 423  : 		{
; 424  : 
; 425  : 			entity
; 426  : 				*sector;
; 427  : 
; 428  : 			sector = get_local_raw_sector_entity ( x, ( MAX_MAP_Z_SECTOR - y ) );

  00045	a1 20 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  0004a	2b 45 f8	 sub	 eax, DWORD PTR _y$[ebp]
  0004d	0f af 05 08 00
	00 00		 imul	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  00054	03 45 fc	 add	 eax, DWORD PTR _x$[ebp]
  00057	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  0005d	83 3c 81 00	 cmp	 DWORD PTR [ecx+eax*4], 0
  00061	74 20		 je	 SHORT $LN9@reset_popu
  00063	8b 15 20 00 00
	00		 mov	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  00069	2b 55 f8	 sub	 edx, DWORD PTR _y$[ebp]
  0006c	0f af 15 08 00
	00 00		 imul	 edx, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+8
  00073	03 55 fc	 add	 edx, DWORD PTR _x$[ebp]
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?entity_sector_map@@3PAPAUENTITY@@A ; entity_sector_map
  0007b	8b 0c 90	 mov	 ecx, DWORD PTR [eax+edx*4]
  0007e	89 4d ac	 mov	 DWORD PTR tv83[ebp], ecx
  00081	eb 21		 jmp	 SHORT $LN10@reset_popu
$LN9@reset_popu:
  00083	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_population_sector_values@@YGXHH@Z@4JA
  00089	83 c2 12	 add	 edx, 18			; 00000012H
  0008c	52		 push	 edx
  0008d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00092	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_sector_entity_map_pointer_message@@3PBDB ; null_sector_entity_map_pointer_message
  00097	50		 push	 eax
  00098	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009d	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN10@reset_popu:
  000a4	8b 4d ac	 mov	 ecx, DWORD PTR tv83[ebp]
  000a7	89 4d f0	 mov	 DWORD PTR _sector$1[ebp], ecx

; 429  : 
; 430  : 			sector_raw = (struct SECTOR *) get_local_entity_data ( sector );

  000aa	8b 45 f0	 mov	 eax, DWORD PTR _sector$1[ebp]
  000ad	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000b0	89 4d f4	 mov	 DWORD PTR _sector_raw$[ebp], ecx

; 431  : 
; 432  : 			set_local_entity_int_value ( sector, INT_TYPE_SIDE, ENTITY_SIDE_NEUTRAL );

  000b3	83 7d f0 00	 cmp	 DWORD PTR _sector$1[ebp], 0
  000b7	74 0a		 je	 SHORT $LN11@reset_popu
  000b9	8b 45 f0	 mov	 eax, DWORD PTR _sector$1[ebp]
  000bc	8b 08		 mov	 ecx, DWORD PTR [eax]
  000be	89 4d ac	 mov	 DWORD PTR tv91[ebp], ecx
  000c1	eb 21		 jmp	 SHORT $LN12@reset_popu
$LN11@reset_popu:
  000c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_population_sector_values@@YGXHH@Z@4JA
  000c9	83 c2 16	 add	 edx, 22			; 00000016H
  000cc	52		 push	 edx
  000cd	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000d7	50		 push	 eax
  000d8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000dd	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv91[ebp], 0
$LN12@reset_popu:
  000e4	b9 01 00 00 00	 mov	 ecx, 1
  000e9	85 c9		 test	 ecx, ecx
  000eb	74 09		 je	 SHORT $LN13@reset_popu
  000ed	c7 45 a8 bb 00
	00 00		 mov	 DWORD PTR tv131[ebp], 187 ; 000000bbH
  000f4	eb 21		 jmp	 SHORT $LN14@reset_popu
$LN13@reset_popu:
  000f6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_population_sector_values@@YGXHH@Z@4JA
  000fc	83 c2 16	 add	 edx, 22			; 00000016H
  000ff	52		 push	 edx
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00110	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN14@reset_popu:
  00117	6a 00		 push	 0
  00119	68 bb 00 00 00	 push	 187			; 000000bbH
  0011e	8b 4d f0	 mov	 ecx, DWORD PTR _sector$1[ebp]
  00121	51		 push	 ecx
  00122	69 55 ac 5c 04
	00 00		 imul	 edx, DWORD PTR tv91[ebp], 1116
  00129	8b 45 a8	 mov	 eax, DWORD PTR tv131[ebp]
  0012c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  00133	ff d1		 call	 ecx

; 433  : 		}

  00135	e9 f6 fe ff ff	 jmp	 $LN5@reset_popu
$LN6@reset_popu:

; 434  : 	}

  0013a	e9 d3 fe ff ff	 jmp	 $LN2@reset_popu
$LN1@reset_popu:

; 435  : }

  0013f	5f		 pop	 edi
  00140	5e		 pop	 esi
  00141	5b		 pop	 ebx
  00142	8b e5		 mov	 esp, ebp
  00144	5d		 pop	 ebp
  00145	c2 08 00	 ret	 8
?reset_population_sector_values@@YGXHH@Z ENDP		; reset_population_sector_values
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?validate_airport_links@@YGXH@Z
_TEXT	SEGMENT
_matching_slots$1 = -92					; size = 4
_slot_count$2 = -88					; size = 4
_number_of_matching_slots$3 = -84			; size = 4
_raw_object_index$4 = -80				; size = 4
_current_route_waypoint_offset$5 = -76			; size = 4
_total_landing_sites$6 = -72				; size = 4
_ship_takeoff_holding_route$ = -68			; size = 4
_ship_landing_holding_route$ = -64			; size = 4
_vehicle_takeoff_holding_route$ = -60			; size = 4
_vehicle_landing_holding_route$ = -56			; size = 4
_helicopter_takeoff_holding_route$ = -52		; size = 4
_helicopter_landing_holding_route$ = -48		; size = 4
_fixedwing_takeoff_holding_route$ = -44			; size = 4
_fixedwing_landing_holding_route$ = -40			; size = 4
_ship_takeoff_route$ = -36				; size = 4
_ship_landing_route$ = -32				; size = 4
_vehicle_takeoff_route$ = -28				; size = 4
_vehicle_landing_route$ = -24				; size = 4
_helicopter_takeoff_route$ = -20			; size = 4
_helicopter_landing_route$ = -16			; size = 4
_fixedwing_takeoff_route$ = -12				; size = 4
_fixedwing_landing_route$ = -8				; size = 4
_current_airport_inst3d$ = -4				; size = 4
_object_index$ = 8					; size = 4
?validate_airport_links@@YGXH@Z PROC			; validate_airport_links, COMDAT

; 2119 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 9c 00 00
	00		 sub	 esp, 156		; 0000009cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 2120 : 
; 2121 : 	object_3d_instance
; 2122 : 		*current_airport_inst3d;
; 2123 : 
; 2124 : 	object_3d_database_entry
; 2125 : 		*fixedwing_landing_route,
; 2126 : 		*fixedwing_takeoff_route,
; 2127 : 		*helicopter_landing_route,
; 2128 : 		*helicopter_takeoff_route,
; 2129 : 		*vehicle_landing_route,
; 2130 : 		*vehicle_takeoff_route,
; 2131 : 		*ship_landing_route,
; 2132 : 		*ship_takeoff_route,
; 2133 : 		*fixedwing_landing_holding_route,
; 2134 : 		*fixedwing_takeoff_holding_route,
; 2135 : 		*helicopter_landing_holding_route,
; 2136 : 		*helicopter_takeoff_holding_route,
; 2137 : 		*vehicle_landing_holding_route,
; 2138 : 		*vehicle_takeoff_holding_route,
; 2139 : 		*ship_landing_holding_route,
; 2140 : 		*ship_takeoff_holding_route;
; 2141 : 
; 2142 : 	current_airport_inst3d = construct_3d_object ( object_index );

  0000c	8b 45 08	 mov	 eax, DWORD PTR _object_index$[ebp]
  0000f	50		 push	 eax
  00010	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00015	89 45 fc	 mov	 DWORD PTR _current_airport_inst3d$[ebp], eax

; 2143 : 
; 2144 : 	//
; 2145 : 	// Get pointers to the waypoint route objects
; 2146 : 	//
; 2147 : 
; 2148 : 	fixedwing_landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_LANDING_ROUTE );

  00018	6a 4c		 push	 76			; 0000004cH
  0001a	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  0001d	50		 push	 eax
  0001e	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00023	89 45 f8	 mov	 DWORD PTR _fixedwing_landing_route$[ebp], eax

; 2149 : 	fixedwing_takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_TAKEOFF_ROUTE );

  00026	6a 4d		 push	 77			; 0000004dH
  00028	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  0002b	50		 push	 eax
  0002c	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00031	89 45 f4	 mov	 DWORD PTR _fixedwing_takeoff_route$[ebp], eax

; 2150 : 
; 2151 : 	helicopter_landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_LANDING_ROUTE );

  00034	6a 4e		 push	 78			; 0000004eH
  00036	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00039	50		 push	 eax
  0003a	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  0003f	89 45 f0	 mov	 DWORD PTR _helicopter_landing_route$[ebp], eax

; 2152 : 	helicopter_takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_TAKEOFF_ROUTE );

  00042	6a 4f		 push	 79			; 0000004fH
  00044	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  0004d	89 45 ec	 mov	 DWORD PTR _helicopter_takeoff_route$[ebp], eax

; 2153 : 
; 2154 : 	vehicle_landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_LANDING_ROUTE );

  00050	6a 50		 push	 80			; 00000050H
  00052	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00055	50		 push	 eax
  00056	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  0005b	89 45 e8	 mov	 DWORD PTR _vehicle_landing_route$[ebp], eax

; 2155 : 	vehicle_takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_TAKEOFF_ROUTE );

  0005e	6a 51		 push	 81			; 00000051H
  00060	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00063	50		 push	 eax
  00064	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00069	89 45 e4	 mov	 DWORD PTR _vehicle_takeoff_route$[ebp], eax

; 2156 : 
; 2157 : 	ship_landing_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_LANDING_ROUTE );

  0006c	68 0e 01 00 00	 push	 270			; 0000010eH
  00071	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00074	50		 push	 eax
  00075	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  0007a	89 45 e0	 mov	 DWORD PTR _ship_landing_route$[ebp], eax

; 2158 : 	ship_takeoff_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_TAKEOFF_ROUTE );

  0007d	68 10 01 00 00	 push	 272			; 00000110H
  00082	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00085	50		 push	 eax
  00086	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  0008b	89 45 dc	 mov	 DWORD PTR _ship_takeoff_route$[ebp], eax

; 2159 : 
; 2160 : 	fixedwing_landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_LANDING_HOLDING_ROUTE );

  0008e	6a 52		 push	 82			; 00000052H
  00090	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00093	50		 push	 eax
  00094	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00099	89 45 d8	 mov	 DWORD PTR _fixedwing_landing_holding_route$[ebp], eax

; 2161 : 	fixedwing_takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_FIXED_WING_TAKEOFF_HOLDING_ROUTE );

  0009c	6a 53		 push	 83			; 00000053H
  0009e	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  000a1	50		 push	 eax
  000a2	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  000a7	89 45 d4	 mov	 DWORD PTR _fixedwing_takeoff_holding_route$[ebp], eax

; 2162 : 
; 2163 : 	helicopter_landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_LANDING_HOLDING_ROUTE );

  000aa	6a 54		 push	 84			; 00000054H
  000ac	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  000af	50		 push	 eax
  000b0	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  000b5	89 45 d0	 mov	 DWORD PTR _helicopter_landing_holding_route$[ebp], eax

; 2164 : 	helicopter_takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_HELI_TAKEOFF_HOLDING_ROUTE );

  000b8	6a 55		 push	 85			; 00000055H
  000ba	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  000bd	50		 push	 eax
  000be	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  000c3	89 45 cc	 mov	 DWORD PTR _helicopter_takeoff_holding_route$[ebp], eax

; 2165 : 
; 2166 : 	vehicle_landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_LANDING_HOLDING_ROUTE );

  000c6	6a 56		 push	 86			; 00000056H
  000c8	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  000cb	50		 push	 eax
  000cc	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  000d1	89 45 c8	 mov	 DWORD PTR _vehicle_landing_holding_route$[ebp], eax

; 2167 : 	vehicle_takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_ROUTED_VEHICLE_TAKEOFF_HOLDING_ROUTE );

  000d4	6a 57		 push	 87			; 00000057H
  000d6	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  000d9	50		 push	 eax
  000da	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  000df	89 45 c4	 mov	 DWORD PTR _vehicle_takeoff_holding_route$[ebp], eax

; 2168 : 
; 2169 : 	ship_landing_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_LANDING_HOLDING_ROUTE );

  000e2	68 0d 01 00 00	 push	 269			; 0000010dH
  000e7	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  000ea	50		 push	 eax
  000eb	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  000f0	89 45 c0	 mov	 DWORD PTR _ship_landing_holding_route$[ebp], eax

; 2170 : 	ship_takeoff_holding_route = get_airfield_waypoint_route_object ( current_airport_inst3d, OBJECT_3D_SUB_OBJECT_SHIP_TAKEOFF_HOLDING_ROUTE );

  000f3	68 0f 01 00 00	 push	 271			; 0000010fH
  000f8	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  000fb	50		 push	 eax
  000fc	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00101	89 45 bc	 mov	 DWORD PTR _ship_takeoff_holding_route$[ebp], eax

; 2171 : 
; 2172 : 	//
; 2173 : 	// Create keysite,
; 2174 : 	//
; 2175 : 
; 2176 : 	{
; 2177 : 
; 2178 : 		int
; 2179 : 			total_landing_sites;
; 2180 : 
; 2181 : 		int
; 2182 : 			current_route_waypoint_offset,
; 2183 : 			raw_object_index,
; 2184 : 			number_of_matching_slots,
; 2185 : 			slot_count;
; 2186 : 
; 2187 : 		vec3d
; 2188 : 			*matching_slots;
; 2189 : 
; 2190 : 
; 2191 : 		//
; 2192 : 		// Insert FIXEDWING waypoint routes into keysite.
; 2193 : 		//
; 2194 : 
; 2195 : 		if ( ( fixedwing_landing_route ) && ( fixedwing_takeoff_route ) )

  00104	83 7d f8 00	 cmp	 DWORD PTR _fixedwing_landing_route$[ebp], 0
  00108	0f 84 89 01 00
	00		 je	 $LN16@validate_a
  0010e	83 7d f4 00	 cmp	 DWORD PTR _fixedwing_takeoff_route$[ebp], 0
  00112	0f 84 7f 01 00
	00		 je	 $LN16@validate_a

; 2196 : 		{
; 2197 : 
; 2198 : 			//
; 2199 : 			// Insert the landing routes
; 2200 : 			//
; 2201 : 
; 2202 : 			raw_object_index = fixedwing_landing_route->index;

  00118	8b 45 f8	 mov	 eax, DWORD PTR _fixedwing_landing_route$[ebp]
  0011b	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  0011e	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2203 : 
; 2204 : 			parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00121	6a 00		 push	 0
  00123	6a 00		 push	 0
  00125	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  00128	50		 push	 eax
  00129	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2205 : 
; 2206 : 			current_route_waypoint_offset = number_of_route_waypoint_positions - 1;

  0012e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00133	83 e8 01	 sub	 eax, 1
  00136	89 45 b4	 mov	 DWORD PTR _current_route_waypoint_offset$5[ebp], eax

; 2207 : 
; 2208 : 			total_landing_sites = route_waypoint_positions[current_route_waypoint_offset].number_of_positions;

  00139	6b 45 b4 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  0013d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00143	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00146	89 55 b8	 mov	 DWORD PTR _total_landing_sites$6[ebp], edx

; 2209 : 
; 2210 : 			number_of_matching_slots = total_landing_sites;

  00149	8b 45 b8	 mov	 eax, DWORD PTR _total_landing_sites$6[ebp]
  0014c	89 45 ac	 mov	 DWORD PTR _number_of_matching_slots$3[ebp], eax

; 2211 : 
; 2212 : 			matching_slots = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_matching_slots );

  0014f	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  00153	50		 push	 eax
  00154	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00159	89 45 a4	 mov	 DWORD PTR _matching_slots$1[ebp], eax

; 2213 : 
; 2214 : 			memcpy ( matching_slots, route_waypoint_positions[current_route_waypoint_offset].offsets, ( sizeof ( vec3d ) * number_of_matching_slots ) );

  0015c	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  00160	50		 push	 eax
  00161	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  00165	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0016b	8b 44 0a 10	 mov	 eax, DWORD PTR [edx+ecx+16]
  0016f	50		 push	 eax
  00170	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00173	51		 push	 ecx
  00174	e8 00 00 00 00	 call	 _memcpy
  00179	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2215 : 
; 2216 : 			for ( slot_count = 0; slot_count < number_of_matching_slots; slot_count++ )

  0017c	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _slot_count$2[ebp], 0
  00183	eb 09		 jmp	 SHORT $LN4@validate_a
$LN2@validate_a:
  00185	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  00188	83 c0 01	 add	 eax, 1
  0018b	89 45 a8	 mov	 DWORD PTR _slot_count$2[ebp], eax
$LN4@validate_a:
  0018e	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  00191	3b 45 ac	 cmp	 eax, DWORD PTR _number_of_matching_slots$3[ebp]
  00194	0f 8d 81 00 00
	00		 jge	 $LN3@validate_a

; 2217 : 			{
; 2218 : 
; 2219 : 				matching_slots[slot_count].x += route_waypoint_positions[current_route_waypoint_offset].position.x;

  0019a	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  0019e	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  001a2	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  001a5	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  001ab	f3 0f 10 04 02	 movss	 xmm0, DWORD PTR [edx+eax]
  001b0	f3 0f 58 44 0e
	04		 addss	 xmm0, DWORD PTR [esi+ecx+4]
  001b6	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  001ba	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  001bd	f3 0f 11 04 01	 movss	 DWORD PTR [ecx+eax], xmm0

; 2220 : 				matching_slots[slot_count].y += route_waypoint_positions[current_route_waypoint_offset].position.y;

  001c2	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  001c6	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  001ca	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  001cd	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  001d3	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  001d9	f3 0f 58 44 0e
	08		 addss	 xmm0, DWORD PTR [esi+ecx+8]
  001df	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  001e3	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  001e6	f3 0f 11 44 01
	04		 movss	 DWORD PTR [ecx+eax+4], xmm0

; 2221 : 				matching_slots[slot_count].z += route_waypoint_positions[current_route_waypoint_offset].position.z;

  001ec	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  001f0	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  001f4	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  001f7	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  001fd	f3 0f 10 44 02
	08		 movss	 xmm0, DWORD PTR [edx+eax+8]
  00203	f3 0f 58 44 0e
	0c		 addss	 xmm0, DWORD PTR [esi+ecx+12]
  00209	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  0020d	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00210	f3 0f 11 44 01
	08		 movss	 DWORD PTR [ecx+eax+8], xmm0

; 2222 : 			}

  00216	e9 6a ff ff ff	 jmp	 $LN2@validate_a
$LN3@validate_a:

; 2223 : 
; 2224 : 			destroy_routegen_waypoint_routes ();

  0021b	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2225 : 
; 2226 : 			//
; 2227 : 			// Insert the takeoff routes
; 2228 : 			//
; 2229 : 
; 2230 : 			raw_object_index = fixedwing_takeoff_route->index;

  00220	8b 45 f4	 mov	 eax, DWORD PTR _fixedwing_takeoff_route$[ebp]
  00223	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00226	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2231 : 
; 2232 : 			parse_waypoint_routes_from_object ( raw_object_index, number_of_matching_slots, matching_slots );

  00229	8b 45 a4	 mov	 eax, DWORD PTR _matching_slots$1[ebp]
  0022c	50		 push	 eax
  0022d	8b 4d ac	 mov	 ecx, DWORD PTR _number_of_matching_slots$3[ebp]
  00230	51		 push	 ecx
  00231	8b 55 b0	 mov	 edx, DWORD PTR _raw_object_index$4[ebp]
  00234	52		 push	 edx
  00235	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2233 : 
; 2234 : 			destroy_routegen_waypoint_routes ();

  0023a	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2235 : 
; 2236 : 			//
; 2237 : 			// Insert the holding loops for fixed wing takeoff & landing.
; 2238 : 			//
; 2239 : 
; 2240 : 			if ( ( fixedwing_landing_holding_route ) && ( fixedwing_takeoff_holding_route ) )

  0023f	83 7d d8 00	 cmp	 DWORD PTR _fixedwing_landing_holding_route$[ebp], 0
  00243	74 3c		 je	 SHORT $LN15@validate_a
  00245	83 7d d4 00	 cmp	 DWORD PTR _fixedwing_takeoff_holding_route$[ebp], 0
  00249	74 36		 je	 SHORT $LN15@validate_a

; 2241 : 			{
; 2242 : 
; 2243 : 				//
; 2244 : 				// Insert the landing holding routes
; 2245 : 				//
; 2246 : 
; 2247 : 				raw_object_index = fixedwing_landing_holding_route->index;

  0024b	8b 45 d8	 mov	 eax, DWORD PTR _fixedwing_landing_holding_route$[ebp]
  0024e	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00251	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2248 : 
; 2249 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00254	6a 00		 push	 0
  00256	6a 00		 push	 0
  00258	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  0025b	50		 push	 eax
  0025c	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2250 : 
; 2251 : 				destroy_routegen_waypoint_routes ();

  00261	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2252 : 
; 2253 : 				//
; 2254 : 				// Insert the takeoff holding routes
; 2255 : 				//
; 2256 : 
; 2257 : 				raw_object_index = fixedwing_takeoff_holding_route->index;

  00266	8b 45 d4	 mov	 eax, DWORD PTR _fixedwing_takeoff_holding_route$[ebp]
  00269	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  0026c	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2258 : 
; 2259 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  0026f	6a 00		 push	 0
  00271	6a 00		 push	 0
  00273	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  00276	50		 push	 eax
  00277	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2260 : 
; 2261 : 				destroy_routegen_waypoint_routes ();

  0027c	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes
$LN15@validate_a:

; 2262 : 			}
; 2263 : 
; 2264 : 			if ( matching_slots )

  00281	83 7d a4 00	 cmp	 DWORD PTR _matching_slots$1[ebp], 0
  00285	74 10		 je	 SHORT $LN16@validate_a

; 2265 : 			{
; 2266 : 
; 2267 : 				safe_free ( matching_slots );

  00287	8b 45 a4	 mov	 eax, DWORD PTR _matching_slots$1[ebp]
  0028a	50		 push	 eax
  0028b	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 2268 : 
; 2269 : 				matching_slots = NULL;

  00290	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _matching_slots$1[ebp], 0
$LN16@validate_a:

; 2270 : 			}
; 2271 : 		}
; 2272 : 
; 2273 : 		//
; 2274 : 		// Insert HELICOPTER waypoint routes into keysite.
; 2275 : 		//
; 2276 : 
; 2277 : 		if ( ( helicopter_landing_route ) && ( helicopter_takeoff_route ) )

  00297	83 7d f0 00	 cmp	 DWORD PTR _helicopter_landing_route$[ebp], 0
  0029b	0f 84 73 01 00
	00		 je	 $LN18@validate_a
  002a1	83 7d ec 00	 cmp	 DWORD PTR _helicopter_takeoff_route$[ebp], 0
  002a5	0f 84 69 01 00
	00		 je	 $LN18@validate_a

; 2278 : 		{
; 2279 : 
; 2280 : 			//
; 2281 : 			// Insert the landing routes
; 2282 : 			//
; 2283 : 
; 2284 : 			raw_object_index = helicopter_landing_route->index;

  002ab	8b 45 f0	 mov	 eax, DWORD PTR _helicopter_landing_route$[ebp]
  002ae	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  002b1	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2285 : 
; 2286 : 			parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  002b4	6a 00		 push	 0
  002b6	6a 00		 push	 0
  002b8	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  002bb	50		 push	 eax
  002bc	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2287 : 
; 2288 : 			current_route_waypoint_offset = number_of_route_waypoint_positions - 1;

  002c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  002c6	83 e8 01	 sub	 eax, 1
  002c9	89 45 b4	 mov	 DWORD PTR _current_route_waypoint_offset$5[ebp], eax

; 2289 : 
; 2290 : 			total_landing_sites = route_waypoint_positions[current_route_waypoint_offset].number_of_positions;

  002cc	6b 45 b4 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  002d0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  002d6	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  002d9	89 55 b8	 mov	 DWORD PTR _total_landing_sites$6[ebp], edx

; 2291 : 
; 2292 : 			number_of_matching_slots = total_landing_sites;

  002dc	8b 45 b8	 mov	 eax, DWORD PTR _total_landing_sites$6[ebp]
  002df	89 45 ac	 mov	 DWORD PTR _number_of_matching_slots$3[ebp], eax

; 2293 : 
; 2294 : 			matching_slots = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_matching_slots );

  002e2	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  002e6	50		 push	 eax
  002e7	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  002ec	89 45 a4	 mov	 DWORD PTR _matching_slots$1[ebp], eax

; 2295 : 
; 2296 : 			memcpy ( matching_slots, route_waypoint_positions[current_route_waypoint_offset].offsets, ( sizeof ( vec3d ) * number_of_matching_slots ) );

  002ef	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  002f3	50		 push	 eax
  002f4	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  002f8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  002fe	8b 44 0a 10	 mov	 eax, DWORD PTR [edx+ecx+16]
  00302	50		 push	 eax
  00303	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00306	51		 push	 ecx
  00307	e8 00 00 00 00	 call	 _memcpy
  0030c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2297 : 
; 2298 : 			for ( slot_count = 0; slot_count < number_of_matching_slots; slot_count++ )

  0030f	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _slot_count$2[ebp], 0
  00316	eb 09		 jmp	 SHORT $LN7@validate_a
$LN5@validate_a:
  00318	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  0031b	83 c0 01	 add	 eax, 1
  0031e	89 45 a8	 mov	 DWORD PTR _slot_count$2[ebp], eax
$LN7@validate_a:
  00321	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  00324	3b 45 ac	 cmp	 eax, DWORD PTR _number_of_matching_slots$3[ebp]
  00327	0f 8d 81 00 00
	00		 jge	 $LN6@validate_a

; 2299 : 			{
; 2300 : 
; 2301 : 				matching_slots[slot_count].x += route_waypoint_positions[current_route_waypoint_offset].position.x;

  0032d	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00331	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  00335	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  00338	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0033e	f3 0f 10 04 02	 movss	 xmm0, DWORD PTR [edx+eax]
  00343	f3 0f 58 44 0e
	04		 addss	 xmm0, DWORD PTR [esi+ecx+4]
  00349	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  0034d	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00350	f3 0f 11 04 01	 movss	 DWORD PTR [ecx+eax], xmm0

; 2302 : 				matching_slots[slot_count].y += route_waypoint_positions[current_route_waypoint_offset].position.y;

  00355	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00359	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  0035d	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  00360	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00366	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  0036c	f3 0f 58 44 0e
	08		 addss	 xmm0, DWORD PTR [esi+ecx+8]
  00372	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00376	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00379	f3 0f 11 44 01
	04		 movss	 DWORD PTR [ecx+eax+4], xmm0

; 2303 : 				matching_slots[slot_count].z += route_waypoint_positions[current_route_waypoint_offset].position.z;

  0037f	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00383	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  00387	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  0038a	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00390	f3 0f 10 44 02
	08		 movss	 xmm0, DWORD PTR [edx+eax+8]
  00396	f3 0f 58 44 0e
	0c		 addss	 xmm0, DWORD PTR [esi+ecx+12]
  0039c	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  003a0	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  003a3	f3 0f 11 44 01
	08		 movss	 DWORD PTR [ecx+eax+8], xmm0

; 2304 : 			}

  003a9	e9 6a ff ff ff	 jmp	 $LN5@validate_a
$LN6@validate_a:

; 2305 : 
; 2306 : 			destroy_routegen_waypoint_routes ();

  003ae	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2307 : 
; 2308 : 			//
; 2309 : 			// Insert the takeoff routes
; 2310 : 			//
; 2311 : 
; 2312 : 			raw_object_index = helicopter_takeoff_route->index;

  003b3	8b 45 ec	 mov	 eax, DWORD PTR _helicopter_takeoff_route$[ebp]
  003b6	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  003b9	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2313 : 
; 2314 : 			parse_waypoint_routes_from_object ( raw_object_index, number_of_matching_slots, matching_slots );

  003bc	8b 45 a4	 mov	 eax, DWORD PTR _matching_slots$1[ebp]
  003bf	50		 push	 eax
  003c0	8b 4d ac	 mov	 ecx, DWORD PTR _number_of_matching_slots$3[ebp]
  003c3	51		 push	 ecx
  003c4	8b 55 b0	 mov	 edx, DWORD PTR _raw_object_index$4[ebp]
  003c7	52		 push	 edx
  003c8	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2315 : 
; 2316 : 			destroy_routegen_waypoint_routes ();

  003cd	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2317 : 
; 2318 : 			//
; 2319 : 			// Insert the holding loops for helicopter takeoff & landing.
; 2320 : 			//
; 2321 : 
; 2322 : 			if ( ( helicopter_landing_holding_route ) && ( helicopter_takeoff_holding_route ) )

  003d2	83 7d d0 00	 cmp	 DWORD PTR _helicopter_landing_holding_route$[ebp], 0
  003d6	74 3c		 je	 SHORT $LN18@validate_a
  003d8	83 7d cc 00	 cmp	 DWORD PTR _helicopter_takeoff_holding_route$[ebp], 0
  003dc	74 36		 je	 SHORT $LN18@validate_a

; 2323 : 			{
; 2324 : 
; 2325 : 				//
; 2326 : 				// Insert the landing holding routes
; 2327 : 				//
; 2328 : 
; 2329 : 				raw_object_index = helicopter_landing_holding_route->index;

  003de	8b 45 d0	 mov	 eax, DWORD PTR _helicopter_landing_holding_route$[ebp]
  003e1	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  003e4	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2330 : 
; 2331 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  003e7	6a 00		 push	 0
  003e9	6a 00		 push	 0
  003eb	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  003ee	50		 push	 eax
  003ef	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2332 : 
; 2333 : 				destroy_routegen_waypoint_routes ();

  003f4	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2334 : 
; 2335 : 				//
; 2336 : 				// Insert the takeoff holding routes
; 2337 : 				//
; 2338 : 
; 2339 : 				raw_object_index = helicopter_takeoff_holding_route->index;

  003f9	8b 45 cc	 mov	 eax, DWORD PTR _helicopter_takeoff_holding_route$[ebp]
  003fc	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  003ff	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2340 : 
; 2341 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00402	6a 00		 push	 0
  00404	6a 00		 push	 0
  00406	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  00409	50		 push	 eax
  0040a	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2342 : 
; 2343 : 				destroy_routegen_waypoint_routes ();

  0040f	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes
$LN18@validate_a:

; 2344 : 			}
; 2345 : 		}
; 2346 : 
; 2347 : 		//
; 2348 : 		// Insert ROUTED VEHICLE waypoint routes into keysite.
; 2349 : 		//
; 2350 : 
; 2351 : 		if ( ( vehicle_landing_route ) && ( vehicle_takeoff_route ) )

  00414	83 7d e8 00	 cmp	 DWORD PTR _vehicle_landing_route$[ebp], 0
  00418	0f 84 73 01 00
	00		 je	 $LN20@validate_a
  0041e	83 7d e4 00	 cmp	 DWORD PTR _vehicle_takeoff_route$[ebp], 0
  00422	0f 84 69 01 00
	00		 je	 $LN20@validate_a

; 2352 : 		{
; 2353 : 
; 2354 : 			//
; 2355 : 			// Insert the landing routes
; 2356 : 			//
; 2357 : 
; 2358 : 			raw_object_index = vehicle_landing_route->index;

  00428	8b 45 e8	 mov	 eax, DWORD PTR _vehicle_landing_route$[ebp]
  0042b	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  0042e	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2359 : 
; 2360 : 			parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00431	6a 00		 push	 0
  00433	6a 00		 push	 0
  00435	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  00438	50		 push	 eax
  00439	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2361 : 
; 2362 : 			current_route_waypoint_offset = number_of_route_waypoint_positions - 1;

  0043e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  00443	83 e8 01	 sub	 eax, 1
  00446	89 45 b4	 mov	 DWORD PTR _current_route_waypoint_offset$5[ebp], eax

; 2363 : 
; 2364 : 			total_landing_sites = route_waypoint_positions[current_route_waypoint_offset].number_of_positions;

  00449	6b 45 b4 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  0044d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00453	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  00456	89 55 b8	 mov	 DWORD PTR _total_landing_sites$6[ebp], edx

; 2365 : 
; 2366 : 			number_of_matching_slots = total_landing_sites;

  00459	8b 45 b8	 mov	 eax, DWORD PTR _total_landing_sites$6[ebp]
  0045c	89 45 ac	 mov	 DWORD PTR _number_of_matching_slots$3[ebp], eax

; 2367 : 
; 2368 : 			matching_slots = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_matching_slots );

  0045f	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  00463	50		 push	 eax
  00464	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00469	89 45 a4	 mov	 DWORD PTR _matching_slots$1[ebp], eax

; 2369 : 
; 2370 : 			memcpy ( matching_slots, route_waypoint_positions[current_route_waypoint_offset].offsets, ( sizeof ( vec3d ) * number_of_matching_slots ) );

  0046c	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  00470	50		 push	 eax
  00471	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  00475	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0047b	8b 44 0a 10	 mov	 eax, DWORD PTR [edx+ecx+16]
  0047f	50		 push	 eax
  00480	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00483	51		 push	 ecx
  00484	e8 00 00 00 00	 call	 _memcpy
  00489	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2371 : 
; 2372 : 			for ( slot_count = 0; slot_count < number_of_matching_slots; slot_count++ )

  0048c	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _slot_count$2[ebp], 0
  00493	eb 09		 jmp	 SHORT $LN10@validate_a
$LN8@validate_a:
  00495	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  00498	83 c0 01	 add	 eax, 1
  0049b	89 45 a8	 mov	 DWORD PTR _slot_count$2[ebp], eax
$LN10@validate_a:
  0049e	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  004a1	3b 45 ac	 cmp	 eax, DWORD PTR _number_of_matching_slots$3[ebp]
  004a4	0f 8d 81 00 00
	00		 jge	 $LN9@validate_a

; 2373 : 			{
; 2374 : 
; 2375 : 				matching_slots[slot_count].x += route_waypoint_positions[current_route_waypoint_offset].position.x;

  004aa	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  004ae	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  004b2	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  004b5	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004bb	f3 0f 10 04 02	 movss	 xmm0, DWORD PTR [edx+eax]
  004c0	f3 0f 58 44 0e
	04		 addss	 xmm0, DWORD PTR [esi+ecx+4]
  004c6	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  004ca	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  004cd	f3 0f 11 04 01	 movss	 DWORD PTR [ecx+eax], xmm0

; 2376 : 				matching_slots[slot_count].y += route_waypoint_positions[current_route_waypoint_offset].position.y;

  004d2	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  004d6	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  004da	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  004dd	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  004e3	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  004e9	f3 0f 58 44 0e
	08		 addss	 xmm0, DWORD PTR [esi+ecx+8]
  004ef	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  004f3	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  004f6	f3 0f 11 44 01
	04		 movss	 DWORD PTR [ecx+eax+4], xmm0

; 2377 : 				matching_slots[slot_count].z += route_waypoint_positions[current_route_waypoint_offset].position.z;

  004fc	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00500	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  00504	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  00507	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0050d	f3 0f 10 44 02
	08		 movss	 xmm0, DWORD PTR [edx+eax+8]
  00513	f3 0f 58 44 0e
	0c		 addss	 xmm0, DWORD PTR [esi+ecx+12]
  00519	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  0051d	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00520	f3 0f 11 44 01
	08		 movss	 DWORD PTR [ecx+eax+8], xmm0

; 2378 : 			}

  00526	e9 6a ff ff ff	 jmp	 $LN8@validate_a
$LN9@validate_a:

; 2379 : 
; 2380 : 			destroy_routegen_waypoint_routes ();

  0052b	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2381 : 
; 2382 : 			//
; 2383 : 			// Insert the takeoff routes
; 2384 : 			//
; 2385 : 
; 2386 : 			raw_object_index = vehicle_takeoff_route->index;

  00530	8b 45 e4	 mov	 eax, DWORD PTR _vehicle_takeoff_route$[ebp]
  00533	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00536	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2387 : 
; 2388 : 			parse_waypoint_routes_from_object ( raw_object_index, number_of_matching_slots, matching_slots );

  00539	8b 45 a4	 mov	 eax, DWORD PTR _matching_slots$1[ebp]
  0053c	50		 push	 eax
  0053d	8b 4d ac	 mov	 ecx, DWORD PTR _number_of_matching_slots$3[ebp]
  00540	51		 push	 ecx
  00541	8b 55 b0	 mov	 edx, DWORD PTR _raw_object_index$4[ebp]
  00544	52		 push	 edx
  00545	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2389 : 
; 2390 : 			destroy_routegen_waypoint_routes ();

  0054a	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2391 : 
; 2392 : 			//
; 2393 : 			// Insert the holding loops
; 2394 : 			//
; 2395 : 
; 2396 : 			if ( ( vehicle_landing_holding_route ) && ( vehicle_takeoff_holding_route ) )

  0054f	83 7d c8 00	 cmp	 DWORD PTR _vehicle_landing_holding_route$[ebp], 0
  00553	74 3c		 je	 SHORT $LN20@validate_a
  00555	83 7d c4 00	 cmp	 DWORD PTR _vehicle_takeoff_holding_route$[ebp], 0
  00559	74 36		 je	 SHORT $LN20@validate_a

; 2397 : 			{
; 2398 : 
; 2399 : 				//
; 2400 : 				// Insert the landing holding routes
; 2401 : 				//
; 2402 : 
; 2403 : 				raw_object_index = vehicle_landing_holding_route->index;

  0055b	8b 45 c8	 mov	 eax, DWORD PTR _vehicle_landing_holding_route$[ebp]
  0055e	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00561	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2404 : 
; 2405 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  00564	6a 00		 push	 0
  00566	6a 00		 push	 0
  00568	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  0056b	50		 push	 eax
  0056c	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2406 : 
; 2407 : 				destroy_routegen_waypoint_routes ();

  00571	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2408 : 
; 2409 : 				//
; 2410 : 				// Insert the takeoff holding routes
; 2411 : 				//
; 2412 : 
; 2413 : 				raw_object_index = vehicle_takeoff_holding_route->index;

  00576	8b 45 c4	 mov	 eax, DWORD PTR _vehicle_takeoff_holding_route$[ebp]
  00579	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  0057c	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2414 : 
; 2415 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  0057f	6a 00		 push	 0
  00581	6a 00		 push	 0
  00583	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  00586	50		 push	 eax
  00587	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2416 : 
; 2417 : 				destroy_routegen_waypoint_routes ();

  0058c	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes
$LN20@validate_a:

; 2418 : 			}
; 2419 : 		}
; 2420 : 
; 2421 : 		//
; 2422 : 		// Insert SHIP waypoint routes into keysite.
; 2423 : 		//
; 2424 : 
; 2425 : 		if ( ( ship_landing_route ) && ( ship_takeoff_route ) )

  00591	83 7d e0 00	 cmp	 DWORD PTR _ship_landing_route$[ebp], 0
  00595	0f 84 73 01 00
	00		 je	 $LN22@validate_a
  0059b	83 7d dc 00	 cmp	 DWORD PTR _ship_takeoff_route$[ebp], 0
  0059f	0f 84 69 01 00
	00		 je	 $LN22@validate_a

; 2426 : 		{
; 2427 : 
; 2428 : 			//
; 2429 : 			// Insert the landing routes
; 2430 : 			//
; 2431 : 
; 2432 : 			raw_object_index = ship_landing_route->index;

  005a5	8b 45 e0	 mov	 eax, DWORD PTR _ship_landing_route$[ebp]
  005a8	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  005ab	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2433 : 
; 2434 : 			parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  005ae	6a 00		 push	 0
  005b0	6a 00		 push	 0
  005b2	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  005b5	50		 push	 eax
  005b6	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2435 : 
; 2436 : 			current_route_waypoint_offset = number_of_route_waypoint_positions - 1;

  005bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  005c0	83 e8 01	 sub	 eax, 1
  005c3	89 45 b4	 mov	 DWORD PTR _current_route_waypoint_offset$5[ebp], eax

; 2437 : 
; 2438 : 			total_landing_sites = route_waypoint_positions[current_route_waypoint_offset].number_of_positions;

  005c6	6b 45 b4 14	 imul	 eax, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  005ca	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  005d0	8b 14 01	 mov	 edx, DWORD PTR [ecx+eax]
  005d3	89 55 b8	 mov	 DWORD PTR _total_landing_sites$6[ebp], edx

; 2439 : 
; 2440 : 			number_of_matching_slots = total_landing_sites;

  005d6	8b 45 b8	 mov	 eax, DWORD PTR _total_landing_sites$6[ebp]
  005d9	89 45 ac	 mov	 DWORD PTR _number_of_matching_slots$3[ebp], eax

; 2441 : 
; 2442 : 			matching_slots = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_matching_slots );

  005dc	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  005e0	50		 push	 eax
  005e1	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  005e6	89 45 a4	 mov	 DWORD PTR _matching_slots$1[ebp], eax

; 2443 : 
; 2444 : 			memcpy ( matching_slots, route_waypoint_positions[current_route_waypoint_offset].offsets, ( sizeof ( vec3d ) * number_of_matching_slots ) );

  005e9	6b 45 ac 0c	 imul	 eax, DWORD PTR _number_of_matching_slots$3[ebp], 12
  005ed	50		 push	 eax
  005ee	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  005f2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  005f8	8b 44 0a 10	 mov	 eax, DWORD PTR [edx+ecx+16]
  005fc	50		 push	 eax
  005fd	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00600	51		 push	 ecx
  00601	e8 00 00 00 00	 call	 _memcpy
  00606	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2445 : 
; 2446 : 			for ( slot_count = 0; slot_count < number_of_matching_slots; slot_count++ )

  00609	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _slot_count$2[ebp], 0
  00610	eb 09		 jmp	 SHORT $LN13@validate_a
$LN11@validate_a:
  00612	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  00615	83 c0 01	 add	 eax, 1
  00618	89 45 a8	 mov	 DWORD PTR _slot_count$2[ebp], eax
$LN13@validate_a:
  0061b	8b 45 a8	 mov	 eax, DWORD PTR _slot_count$2[ebp]
  0061e	3b 45 ac	 cmp	 eax, DWORD PTR _number_of_matching_slots$3[ebp]
  00621	0f 8d 81 00 00
	00		 jge	 $LN12@validate_a

; 2447 : 			{
; 2448 : 
; 2449 : 				matching_slots[slot_count].x += route_waypoint_positions[current_route_waypoint_offset].position.x;

  00627	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  0062b	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  0062f	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  00632	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00638	f3 0f 10 04 02	 movss	 xmm0, DWORD PTR [edx+eax]
  0063d	f3 0f 58 44 0e
	04		 addss	 xmm0, DWORD PTR [esi+ecx+4]
  00643	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00647	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  0064a	f3 0f 11 04 01	 movss	 DWORD PTR [ecx+eax], xmm0

; 2450 : 				matching_slots[slot_count].y += route_waypoint_positions[current_route_waypoint_offset].position.y;

  0064f	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00653	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  00657	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  0065a	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00660	f3 0f 10 44 02
	04		 movss	 xmm0, DWORD PTR [edx+eax+4]
  00666	f3 0f 58 44 0e
	08		 addss	 xmm0, DWORD PTR [esi+ecx+8]
  0066c	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  00670	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  00673	f3 0f 11 44 01
	04		 movss	 DWORD PTR [ecx+eax+4], xmm0

; 2451 : 				matching_slots[slot_count].z += route_waypoint_positions[current_route_waypoint_offset].position.z;

  00679	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  0067d	6b 4d b4 14	 imul	 ecx, DWORD PTR _current_route_waypoint_offset$5[ebp], 20
  00681	8b 55 a4	 mov	 edx, DWORD PTR _matching_slots$1[ebp]
  00684	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0068a	f3 0f 10 44 02
	08		 movss	 xmm0, DWORD PTR [edx+eax+8]
  00690	f3 0f 58 44 0e
	0c		 addss	 xmm0, DWORD PTR [esi+ecx+12]
  00696	6b 45 a8 0c	 imul	 eax, DWORD PTR _slot_count$2[ebp], 12
  0069a	8b 4d a4	 mov	 ecx, DWORD PTR _matching_slots$1[ebp]
  0069d	f3 0f 11 44 01
	08		 movss	 DWORD PTR [ecx+eax+8], xmm0

; 2452 : 			}

  006a3	e9 6a ff ff ff	 jmp	 $LN11@validate_a
$LN12@validate_a:

; 2453 : 
; 2454 : 			destroy_routegen_waypoint_routes ();

  006a8	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2455 : 
; 2456 : 			//
; 2457 : 			// Insert the takeoff routes
; 2458 : 			//
; 2459 : 
; 2460 : 			raw_object_index = ship_takeoff_route->index;

  006ad	8b 45 dc	 mov	 eax, DWORD PTR _ship_takeoff_route$[ebp]
  006b0	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  006b3	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2461 : 
; 2462 : 			parse_waypoint_routes_from_object ( raw_object_index, number_of_matching_slots, matching_slots );

  006b6	8b 45 a4	 mov	 eax, DWORD PTR _matching_slots$1[ebp]
  006b9	50		 push	 eax
  006ba	8b 4d ac	 mov	 ecx, DWORD PTR _number_of_matching_slots$3[ebp]
  006bd	51		 push	 ecx
  006be	8b 55 b0	 mov	 edx, DWORD PTR _raw_object_index$4[ebp]
  006c1	52		 push	 edx
  006c2	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2463 : 
; 2464 : 			destroy_routegen_waypoint_routes ();

  006c7	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2465 : 
; 2466 : 			//
; 2467 : 			// Insert the holding loops
; 2468 : 			//
; 2469 : 
; 2470 : 			if ( ( ship_landing_holding_route ) && ( ship_takeoff_holding_route ) )

  006cc	83 7d c0 00	 cmp	 DWORD PTR _ship_landing_holding_route$[ebp], 0
  006d0	74 3c		 je	 SHORT $LN22@validate_a
  006d2	83 7d bc 00	 cmp	 DWORD PTR _ship_takeoff_holding_route$[ebp], 0
  006d6	74 36		 je	 SHORT $LN22@validate_a

; 2471 : 			{
; 2472 : 
; 2473 : 				//
; 2474 : 				// Insert the landing holding routes
; 2475 : 				//
; 2476 : 
; 2477 : 				raw_object_index = ship_landing_holding_route->index;

  006d8	8b 45 c0	 mov	 eax, DWORD PTR _ship_landing_holding_route$[ebp]
  006db	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  006de	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2478 : 
; 2479 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  006e1	6a 00		 push	 0
  006e3	6a 00		 push	 0
  006e5	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  006e8	50		 push	 eax
  006e9	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2480 : 
; 2481 : 				destroy_routegen_waypoint_routes ();

  006ee	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes

; 2482 : 
; 2483 : 				//
; 2484 : 				// Insert the takeoff holding routes
; 2485 : 				//
; 2486 : 
; 2487 : 				raw_object_index = ship_takeoff_holding_route->index;

  006f3	8b 45 bc	 mov	 eax, DWORD PTR _ship_takeoff_holding_route$[ebp]
  006f6	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  006f9	89 4d b0	 mov	 DWORD PTR _raw_object_index$4[ebp], ecx

; 2488 : 
; 2489 : 				parse_waypoint_routes_from_object ( raw_object_index, 0, NULL );

  006fc	6a 00		 push	 0
  006fe	6a 00		 push	 0
  00700	8b 45 b0	 mov	 eax, DWORD PTR _raw_object_index$4[ebp]
  00703	50		 push	 eax
  00704	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 2490 : 
; 2491 : 				destroy_routegen_waypoint_routes ();

  00709	e8 00 00 00 00	 call	 ?destroy_routegen_waypoint_routes@@YGXXZ ; destroy_routegen_waypoint_routes
$LN22@validate_a:

; 2492 : 			}
; 2493 : 		}
; 2494 : 
; 2495 : 		destruct_3d_object ( current_airport_inst3d );

  0070e	8b 45 fc	 mov	 eax, DWORD PTR _current_airport_inst3d$[ebp]
  00711	50		 push	 eax
  00712	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 2496 : 	}
; 2497 : }

  00717	5f		 pop	 edi
  00718	5e		 pop	 esi
  00719	5b		 pop	 ebx
  0071a	8b e5		 mov	 esp, ebp
  0071c	5d		 pop	 ebp
  0071d	c2 04 00	 ret	 4
?validate_airport_links@@YGXH@Z ENDP			; validate_airport_links
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_object_3d_troop_landing_position_and_heading@@YGHHPAUVEC3D@@PAM@Z
_TEXT	SEGMENT
_troop_lz$1 = -68					; size = 4
_count$ = -64						; size = 4
_object$ = -60						; size = 4
_search$ = -56						; size = 56
_object_index$ = 8					; size = 4
_position$ = 12						; size = 4
_heading$ = 16						; size = 4
?get_object_3d_troop_landing_position_and_heading@@YGHHPAUVEC3D@@PAM@Z PROC ; get_object_3d_troop_landing_position_and_heading, COMDAT

; 4185 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 4186 : 
; 4187 : 	object_3d_sub_object_search_data
; 4188 : 		search;
; 4189 : 
; 4190 : 	object_3d_instance
; 4191 : 		*object;
; 4192 : 
; 4193 : 	int
; 4194 : 		count;
; 4195 : 
; 4196 : 	if ( !object_3d_troop_routes )

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A, 0 ; object_3d_troop_routes
  00013	0f 85 85 00 00
	00		 jne	 $LN3@get_object

; 4197 : 	{
; 4198 : 
; 4199 : 		object_3d_troop_routes = ( troop_landing_route_information * ) safe_malloc ( sizeof ( troop_landing_route_information ) * OBJECT_3D_LAST );

  00019	68 10 88 01 00	 push	 100368			; 00018810H
  0001e	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00023	a3 00 00 00 00	 mov	 DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A, eax ; object_3d_troop_routes

; 4200 : 
; 4201 : 		for ( count = 0; count < OBJECT_3D_LAST; count++ )

  00028	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002f	eb 09		 jmp	 SHORT $LN4@get_object
$LN2@get_object:
  00031	8b 45 c0	 mov	 eax, DWORD PTR _count$[ebp]
  00034	83 c0 01	 add	 eax, 1
  00037	89 45 c0	 mov	 DWORD PTR _count$[ebp], eax
$LN4@get_object:
  0003a	81 7d c0 e4 0a
	00 00		 cmp	 DWORD PTR _count$[ebp], 2788 ; 00000ae4H
  00041	7d 5b		 jge	 SHORT $LN3@get_object

; 4202 : 		{
; 4203 : 
; 4204 : 			object_3d_troop_routes[count].landing_position_valid = FALSE;

  00043	6b 45 c0 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  00047	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0004d	c7 44 01 08 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+8], 0

; 4205 : 
; 4206 : 			object_3d_troop_routes[count].number_of_landing_route_nodes = 0;

  00055	6b 45 c0 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  00059	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0005f	c7 04 01 00 00
	00 00		 mov	 DWORD PTR [ecx+eax], 0

; 4207 : 			object_3d_troop_routes[count].landing_route = NULL;

  00066	6b 45 c0 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  0006a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00070	c7 44 01 0c 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+12], 0

; 4208 : 
; 4209 : 			object_3d_troop_routes[count].number_of_takeoff_route_nodes = 0;

  00078	6b 45 c0 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  0007c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00082	c7 44 01 04 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+4], 0

; 4210 : 			object_3d_troop_routes[count].takeoff_route = NULL;

  0008a	6b 45 c0 24	 imul	 eax, DWORD PTR _count$[ebp], 36
  0008e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00094	c7 44 01 10 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+16], 0

; 4211 : 		}

  0009c	eb 93		 jmp	 SHORT $LN2@get_object
$LN3@get_object:

; 4212 : 	}
; 4213 : 
; 4214 : 	if ( object_index == OBJECT_3D_INVALID_OBJECT_INDEX )

  0009e	83 7d 08 00	 cmp	 DWORD PTR _object_index$[ebp], 0
  000a2	75 31		 jne	 SHORT $LN6@get_object

; 4215 : 	{
; 4216 : 
; 4217 : 		position->x = 0;

  000a4	8b 45 0c	 mov	 eax, DWORD PTR _position$[ebp]
  000a7	0f 57 c0	 xorps	 xmm0, xmm0
  000aa	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 4218 : 		position->y = 0;

  000ae	8b 45 0c	 mov	 eax, DWORD PTR _position$[ebp]
  000b1	0f 57 c0	 xorps	 xmm0, xmm0
  000b4	f3 0f 11 40 04	 movss	 DWORD PTR [eax+4], xmm0

; 4219 : 		position->z = 0;

  000b9	8b 45 0c	 mov	 eax, DWORD PTR _position$[ebp]
  000bc	0f 57 c0	 xorps	 xmm0, xmm0
  000bf	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 4220 : 
; 4221 : 		*heading = 0.0;

  000c4	8b 45 10	 mov	 eax, DWORD PTR _heading$[ebp]
  000c7	0f 57 c0	 xorps	 xmm0, xmm0
  000ca	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 4222 : 
; 4223 : 		return ( FALSE );

  000ce	33 c0		 xor	 eax, eax
  000d0	e9 99 01 00 00	 jmp	 $LN1@get_object
$LN6@get_object:

; 4224 : 	}
; 4225 : 
; 4226 : 	if ( !object_3d_troop_routes[object_index].landing_position_valid )

  000d5	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  000d9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000df	83 7c 01 08 00	 cmp	 DWORD PTR [ecx+eax+8], 0
  000e4	0f 85 31 01 00
	00		 jne	 $LN7@get_object

; 4227 : 	{
; 4228 : 	
; 4229 : 		object_3d_troop_routes[object_index].landing_position.x = 0;

  000ea	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  000ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000f4	0f 57 c0	 xorps	 xmm0, xmm0
  000f7	f3 0f 11 44 01
	14		 movss	 DWORD PTR [ecx+eax+20], xmm0

; 4230 : 		object_3d_troop_routes[object_index].landing_position.y = 0;

  000fd	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00101	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00107	0f 57 c0	 xorps	 xmm0, xmm0
  0010a	f3 0f 11 44 01
	18		 movss	 DWORD PTR [ecx+eax+24], xmm0

; 4231 : 		object_3d_troop_routes[object_index].landing_position.z = 0;

  00110	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00114	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0011a	0f 57 c0	 xorps	 xmm0, xmm0
  0011d	f3 0f 11 44 01
	1c		 movss	 DWORD PTR [ecx+eax+28], xmm0

; 4232 : 		object_3d_troop_routes[object_index].heading = 0;

  00123	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00127	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0012d	0f 57 c0	 xorps	 xmm0, xmm0
  00130	f3 0f 11 44 01
	20		 movss	 DWORD PTR [ecx+eax+32], xmm0

; 4233 : 		object_3d_troop_routes[object_index].landing_position_valid = TRUE;

  00136	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  0013a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00140	c7 44 01 08 01
	00 00 00	 mov	 DWORD PTR [ecx+eax+8], 1

; 4234 : 
; 4235 : 		object = construct_3d_object ( object_index );

  00148	8b 45 08	 mov	 eax, DWORD PTR _object_index$[ebp]
  0014b	50		 push	 eax
  0014c	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00151	89 45 c4	 mov	 DWORD PTR _object$[ebp], eax

; 4236 : 
; 4237 : 		//
; 4238 : 		// Construct the landing route
; 4239 : 		//
; 4240 : 
; 4241 : 		search.search_object = object;

  00154	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  00157	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 4242 : 		search.search_depth = 0;

  0015a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 4243 : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_WAYPOINT_ROUTES;

  00161	c7 45 d4 33 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 51 ; 00000033H

; 4244 : 	
; 4245 : 		if ( find_object_3d_sub_object ( &search ) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND )

  00168	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0016b	50		 push	 eax
  0016c	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00171	83 f8 01	 cmp	 eax, 1
  00174	0f 85 98 00 00
	00		 jne	 $LN9@get_object

; 4246 : 		{
; 4247 : 	
; 4248 : 			object_3d_database_entry
; 4249 : 				*troop_lz;
; 4250 : 	
; 4251 : 			troop_lz = get_airfield_waypoint_route_object ( object, OBJECT_3D_SUB_OBJECT_TROOP_LZ );

  0017a	6a 58		 push	 88			; 00000058H
  0017c	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  0017f	50		 push	 eax
  00180	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00185	89 45 bc	 mov	 DWORD PTR _troop_lz$1[ebp], eax

; 4252 : 		
; 4253 : 			if ( troop_lz )

  00188	83 7d bc 00	 cmp	 DWORD PTR _troop_lz$1[ebp], 0
  0018c	0f 84 80 00 00
	00		 je	 $LN9@get_object

; 4254 : 			{
; 4255 : 
; 4256 : 				object_3d_troop_routes[object_index].landing_position.x = troop_lz->keyframes[0].x;

  00192	b8 38 00 00 00	 mov	 eax, 56			; 00000038H
  00197	6b c8 00	 imul	 ecx, eax, 0
  0019a	8b 55 bc	 mov	 edx, DWORD PTR _troop_lz$1[ebp]
  0019d	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  001a0	6b 55 08 24	 imul	 edx, DWORD PTR _object_index$[ebp], 36
  001a4	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  001aa	8b 44 08 08	 mov	 eax, DWORD PTR [eax+ecx+8]
  001ae	89 44 16 14	 mov	 DWORD PTR [esi+edx+20], eax

; 4257 : 				object_3d_troop_routes[object_index].landing_position.y = troop_lz->keyframes[0].y;

  001b2	b8 38 00 00 00	 mov	 eax, 56			; 00000038H
  001b7	6b c8 00	 imul	 ecx, eax, 0
  001ba	8b 55 bc	 mov	 edx, DWORD PTR _troop_lz$1[ebp]
  001bd	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  001c0	6b 55 08 24	 imul	 edx, DWORD PTR _object_index$[ebp], 36
  001c4	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  001ca	8b 44 08 0c	 mov	 eax, DWORD PTR [eax+ecx+12]
  001ce	89 44 16 18	 mov	 DWORD PTR [esi+edx+24], eax

; 4258 : 				object_3d_troop_routes[object_index].landing_position.z = troop_lz->keyframes[0].z;

  001d2	b8 38 00 00 00	 mov	 eax, 56			; 00000038H
  001d7	6b c8 00	 imul	 ecx, eax, 0
  001da	8b 55 bc	 mov	 edx, DWORD PTR _troop_lz$1[ebp]
  001dd	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  001e0	6b 55 08 24	 imul	 edx, DWORD PTR _object_index$[ebp], 36
  001e4	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  001ea	8b 44 08 10	 mov	 eax, DWORD PTR [eax+ecx+16]
  001ee	89 44 16 1c	 mov	 DWORD PTR [esi+edx+28], eax

; 4259 : 				object_3d_troop_routes[object_index].heading = troop_lz->keyframes[0].heading;

  001f2	b8 38 00 00 00	 mov	 eax, 56			; 00000038H
  001f7	6b c8 00	 imul	 ecx, eax, 0
  001fa	8b 55 bc	 mov	 edx, DWORD PTR _troop_lz$1[ebp]
  001fd	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00200	6b 55 08 24	 imul	 edx, DWORD PTR _object_index$[ebp], 36
  00204	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0020a	8b 44 08 14	 mov	 eax, DWORD PTR [eax+ecx+20]
  0020e	89 44 16 20	 mov	 DWORD PTR [esi+edx+32], eax
$LN9@get_object:

; 4260 : 			}
; 4261 : 		}
; 4262 : 
; 4263 : 		destruct_3d_object ( object );

  00212	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  00215	50		 push	 eax
  00216	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object
$LN7@get_object:

; 4264 : 	}
; 4265 : 
; 4266 : 	position->x = object_3d_troop_routes[object_index].landing_position.x;

  0021b	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  0021f	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00222	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00228	8b 44 02 14	 mov	 eax, DWORD PTR [edx+eax+20]
  0022c	89 01		 mov	 DWORD PTR [ecx], eax

; 4267 : 	position->y = object_3d_troop_routes[object_index].landing_position.y;

  0022e	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00232	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00235	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0023b	8b 44 02 18	 mov	 eax, DWORD PTR [edx+eax+24]
  0023f	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 4268 : 	position->z = object_3d_troop_routes[object_index].landing_position.z;

  00242	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00246	8b 4d 0c	 mov	 ecx, DWORD PTR _position$[ebp]
  00249	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0024f	8b 44 02 1c	 mov	 eax, DWORD PTR [edx+eax+28]
  00253	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 4269 : 
; 4270 : 	*heading =  ( object_3d_troop_routes[object_index].heading );

  00256	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  0025a	8b 4d 10	 mov	 ecx, DWORD PTR _heading$[ebp]
  0025d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00263	8b 44 02 20	 mov	 eax, DWORD PTR [edx+eax+32]
  00267	89 01		 mov	 DWORD PTR [ecx], eax

; 4271 : 
; 4272 : 	return ( TRUE );

  00269	b8 01 00 00 00	 mov	 eax, 1
$LN1@get_object:

; 4273 : }

  0026e	5f		 pop	 edi
  0026f	5e		 pop	 esi
  00270	5b		 pop	 ebx
  00271	8b e5		 mov	 esp, ebp
  00273	5d		 pop	 ebp
  00274	c2 0c 00	 ret	 12			; 0000000cH
?get_object_3d_troop_landing_position_and_heading@@YGHHPAUVEC3D@@PAM@Z ENDP ; get_object_3d_troop_landing_position_and_heading
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_object_3d_troop_takeoff_route@@YGHHPAPAUVEC3D@@@Z
_TEXT	SEGMENT
_count$1 = -68						; size = 4
_route$2 = -64						; size = 4
_object$ = -60						; size = 4
_search$ = -56						; size = 56
_object_index$ = 8					; size = 4
_route$ = 12						; size = 4
?get_object_3d_troop_takeoff_route@@YGHHPAPAUVEC3D@@@Z PROC ; get_object_3d_troop_takeoff_route, COMDAT

; 4113 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 4114 : 
; 4115 : 	object_3d_sub_object_search_data
; 4116 : 		search;
; 4117 : 
; 4118 : 	object_3d_instance
; 4119 : 		*object;
; 4120 : 
; 4121 : 	initialise_object_3d_troop_landing_routes ();

  0000c	e8 00 00 00 00	 call	 ?initialise_object_3d_troop_landing_routes@@YGXXZ ; initialise_object_3d_troop_landing_routes

; 4122 : 
; 4123 : 	if ( object_index == OBJECT_3D_INVALID_OBJECT_INDEX )

  00011	83 7d 08 00	 cmp	 DWORD PTR _object_index$[ebp], 0
  00015	75 07		 jne	 SHORT $LN5@get_object

; 4124 : 	{
; 4125 : 
; 4126 : 		return ( 0 );

  00017	33 c0		 xor	 eax, eax
  00019	e9 55 01 00 00	 jmp	 $LN1@get_object
$LN5@get_object:

; 4127 : 	}
; 4128 : 
; 4129 : 	if ( !object_3d_troop_routes[object_index].takeoff_route )

  0001e	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00028	83 7c 01 10 00	 cmp	 DWORD PTR [ecx+eax+16], 0
  0002d	0f 85 1f 01 00
	00		 jne	 $LN6@get_object

; 4130 : 	{
; 4131 : 	
; 4132 : 		object = construct_3d_object ( object_index );

  00033	8b 45 08	 mov	 eax, DWORD PTR _object_index$[ebp]
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0003c	89 45 c4	 mov	 DWORD PTR _object$[ebp], eax

; 4133 : 
; 4134 : 		//
; 4135 : 		// Construct the takeoff route
; 4136 : 		//
; 4137 : 
; 4138 : 		search.search_object = object;

  0003f	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  00042	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 4139 : 		search.search_depth = 0;

  00045	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 4140 : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_WAYPOINT_ROUTES;

  0004c	c7 45 d4 33 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 51 ; 00000033H

; 4141 : 	
; 4142 : 		if ( find_object_3d_sub_object ( &search ) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND )

  00053	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00056	50		 push	 eax
  00057	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0005c	83 f8 01	 cmp	 eax, 1
  0005f	0f 85 e4 00 00
	00		 jne	 $LN3@get_object

; 4143 : 		{
; 4144 : 	
; 4145 : 			object_3d_database_entry
; 4146 : 				*route;
; 4147 : 	
; 4148 : 			route = get_airfield_waypoint_route_object ( object, OBJECT_3D_SUB_OBJECT_TROOP_TAKEOFF_ROUTE );

  00065	6a 34		 push	 52			; 00000034H
  00067	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  0006a	50		 push	 eax
  0006b	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00070	89 45 c0	 mov	 DWORD PTR _route$2[ebp], eax

; 4149 : 		
; 4150 : 			if ( route )

  00073	83 7d c0 00	 cmp	 DWORD PTR _route$2[ebp], 0
  00077	0f 84 cc 00 00
	00		 je	 $LN3@get_object

; 4151 : 			{
; 4152 : 	
; 4153 : 				int
; 4154 : 					count;
; 4155 : 	
; 4156 : 				parse_waypoint_routes_from_object ( route->index, 0, NULL );

  0007d	6a 00		 push	 0
  0007f	6a 00		 push	 0
  00081	8b 45 c0	 mov	 eax, DWORD PTR _route$2[ebp]
  00084	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00087	51		 push	 ecx
  00088	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 4157 : 	
; 4158 : 				object_3d_troop_routes[object_index].takeoff_route = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_route_waypoint_positions );

  0008d	6b 05 00 00 00
	00 0c		 imul	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA, 12 ; number_of_route_waypoint_positions
  00094	50		 push	 eax
  00095	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  0009a	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  0009e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000a4	89 44 0a 10	 mov	 DWORD PTR [edx+ecx+16], eax

; 4159 : 
; 4160 : 				object_3d_troop_routes[object_index].number_of_takeoff_route_nodes = number_of_route_waypoint_positions;

  000a8	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  000ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000b2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  000b8	89 54 01 04	 mov	 DWORD PTR [ecx+eax+4], edx

; 4161 : 	
; 4162 : 				for ( count = 0; count < number_of_route_waypoint_positions; count++ )

  000bc	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _count$1[ebp], 0
  000c3	eb 09		 jmp	 SHORT $LN4@get_object
$LN2@get_object:
  000c5	8b 45 bc	 mov	 eax, DWORD PTR _count$1[ebp]
  000c8	83 c0 01	 add	 eax, 1
  000cb	89 45 bc	 mov	 DWORD PTR _count$1[ebp], eax
$LN4@get_object:
  000ce	8b 45 bc	 mov	 eax, DWORD PTR _count$1[ebp]
  000d1	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  000d7	7d 70		 jge	 SHORT $LN3@get_object

; 4163 : 				{
; 4164 : 	
; 4165 : 					object_3d_troop_routes[object_index].takeoff_route[count].x = route_waypoint_positions[count].position.x;

  000d9	6b 45 bc 14	 imul	 eax, DWORD PTR _count$1[ebp], 20
  000dd	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  000e1	6b 55 bc 0c	 imul	 edx, DWORD PTR _count$1[ebp], 12
  000e5	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000eb	8b 4c 0e 10	 mov	 ecx, DWORD PTR [esi+ecx+16]
  000ef	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000f5	8b 44 06 04	 mov	 eax, DWORD PTR [esi+eax+4]
  000f9	89 04 11	 mov	 DWORD PTR [ecx+edx], eax

; 4166 : 					object_3d_troop_routes[object_index].takeoff_route[count].y = route_waypoint_positions[count].position.y;

  000fc	6b 45 bc 14	 imul	 eax, DWORD PTR _count$1[ebp], 20
  00100	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  00104	6b 55 bc 0c	 imul	 edx, DWORD PTR _count$1[ebp], 12
  00108	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0010e	8b 4c 0e 10	 mov	 ecx, DWORD PTR [esi+ecx+16]
  00112	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00118	8b 44 06 08	 mov	 eax, DWORD PTR [esi+eax+8]
  0011c	89 44 11 04	 mov	 DWORD PTR [ecx+edx+4], eax

; 4167 : 					object_3d_troop_routes[object_index].takeoff_route[count].z = route_waypoint_positions[count].position.z;

  00120	6b 45 bc 14	 imul	 eax, DWORD PTR _count$1[ebp], 20
  00124	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  00128	6b 55 bc 0c	 imul	 edx, DWORD PTR _count$1[ebp], 12
  0012c	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00132	8b 4c 0e 10	 mov	 ecx, DWORD PTR [esi+ecx+16]
  00136	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0013c	8b 44 06 0c	 mov	 eax, DWORD PTR [esi+eax+12]
  00140	89 44 11 08	 mov	 DWORD PTR [ecx+edx+8], eax

; 4168 : 				}

  00144	e9 7c ff ff ff	 jmp	 $LN2@get_object
$LN3@get_object:

; 4169 : 			}
; 4170 : 		}
; 4171 : 
; 4172 : 		destruct_3d_object ( object );

  00149	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  0014c	50		 push	 eax
  0014d	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object
$LN6@get_object:

; 4173 : 	}
; 4174 : 
; 4175 : 	*route = object_3d_troop_routes[object_index].takeoff_route;

  00152	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00156	8b 4d 0c	 mov	 ecx, DWORD PTR _route$[ebp]
  00159	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0015f	8b 44 02 10	 mov	 eax, DWORD PTR [edx+eax+16]
  00163	89 01		 mov	 DWORD PTR [ecx], eax

; 4176 : 
; 4177 : 	return ( object_3d_troop_routes[object_index].number_of_takeoff_route_nodes );

  00165	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00169	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0016f	8b 44 01 04	 mov	 eax, DWORD PTR [ecx+eax+4]
$LN1@get_object:

; 4178 : }

  00173	5f		 pop	 edi
  00174	5e		 pop	 esi
  00175	5b		 pop	 ebx
  00176	8b e5		 mov	 esp, ebp
  00178	5d		 pop	 ebp
  00179	c2 08 00	 ret	 8
?get_object_3d_troop_takeoff_route@@YGHHPAPAUVEC3D@@@Z ENDP ; get_object_3d_troop_takeoff_route
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?get_object_3d_troop_landing_route@@YGHHPAPAUVEC3D@@@Z
_TEXT	SEGMENT
_count$1 = -68						; size = 4
_route$2 = -64						; size = 4
_object$ = -60						; size = 4
_search$ = -56						; size = 56
_object_index$ = 8					; size = 4
_route$ = 12						; size = 4
?get_object_3d_troop_landing_route@@YGHHPAPAUVEC3D@@@Z PROC ; get_object_3d_troop_landing_route, COMDAT

; 4041 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 4042 : 
; 4043 : 	object_3d_sub_object_search_data
; 4044 : 		search;
; 4045 : 
; 4046 : 	object_3d_instance
; 4047 : 		*object;
; 4048 : 
; 4049 : 	initialise_object_3d_troop_landing_routes ();

  0000c	e8 00 00 00 00	 call	 ?initialise_object_3d_troop_landing_routes@@YGXXZ ; initialise_object_3d_troop_landing_routes

; 4050 : 
; 4051 : 	if ( object_index == OBJECT_3D_INVALID_OBJECT_INDEX )

  00011	83 7d 08 00	 cmp	 DWORD PTR _object_index$[ebp], 0
  00015	75 07		 jne	 SHORT $LN5@get_object

; 4052 : 	{
; 4053 : 
; 4054 : 		return ( 0 );

  00017	33 c0		 xor	 eax, eax
  00019	e9 53 01 00 00	 jmp	 $LN1@get_object
$LN5@get_object:

; 4055 : 	}
; 4056 : 
; 4057 : 	if ( !object_3d_troop_routes[object_index].landing_route )

  0001e	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00028	83 7c 01 0c 00	 cmp	 DWORD PTR [ecx+eax+12], 0
  0002d	0f 85 1e 01 00
	00		 jne	 $LN6@get_object

; 4058 : 	{
; 4059 : 	
; 4060 : 		object = construct_3d_object ( object_index );

  00033	8b 45 08	 mov	 eax, DWORD PTR _object_index$[ebp]
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0003c	89 45 c4	 mov	 DWORD PTR _object$[ebp], eax

; 4061 : 
; 4062 : 		//
; 4063 : 		// Construct the landing route
; 4064 : 		//
; 4065 : 
; 4066 : 		search.search_object = object;

  0003f	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  00042	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 4067 : 		search.search_depth = 0;

  00045	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 4068 : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_WAYPOINT_ROUTES;

  0004c	c7 45 d4 33 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 51 ; 00000033H

; 4069 : 	
; 4070 : 		if ( find_object_3d_sub_object ( &search ) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND )

  00053	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00056	50		 push	 eax
  00057	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0005c	83 f8 01	 cmp	 eax, 1
  0005f	0f 85 e3 00 00
	00		 jne	 $LN3@get_object

; 4071 : 		{
; 4072 : 	
; 4073 : 			object_3d_database_entry
; 4074 : 				*route;
; 4075 : 	
; 4076 : 			route = get_airfield_waypoint_route_object ( object, OBJECT_3D_SUB_OBJECT_TROOP_LANDING_ROUTE );

  00065	6a 59		 push	 89			; 00000059H
  00067	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  0006a	50		 push	 eax
  0006b	e8 00 00 00 00	 call	 ?get_airfield_waypoint_route_object@@YGPAUOBJECT_3D_DATABASE_ENTRY@@PAUOBJECT_3D_INSTANCE@@H@Z ; get_airfield_waypoint_route_object
  00070	89 45 c0	 mov	 DWORD PTR _route$2[ebp], eax

; 4077 : 		
; 4078 : 			if ( route )

  00073	83 7d c0 00	 cmp	 DWORD PTR _route$2[ebp], 0
  00077	0f 84 cb 00 00
	00		 je	 $LN3@get_object

; 4079 : 			{
; 4080 : 	
; 4081 : 				int
; 4082 : 					count;
; 4083 : 	
; 4084 : 				parse_waypoint_routes_from_object ( route->index, 0, NULL );

  0007d	6a 00		 push	 0
  0007f	6a 00		 push	 0
  00081	8b 45 c0	 mov	 eax, DWORD PTR _route$2[ebp]
  00084	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  00087	51		 push	 ecx
  00088	e8 00 00 00 00	 call	 ?parse_waypoint_routes_from_object@@YGXHHPAUVEC3D@@@Z ; parse_waypoint_routes_from_object

; 4085 : 	
; 4086 : 				object_3d_troop_routes[object_index].landing_route = ( vec3d * ) safe_malloc ( sizeof ( vec3d ) * number_of_route_waypoint_positions );

  0008d	6b 05 00 00 00
	00 0c		 imul	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA, 12 ; number_of_route_waypoint_positions
  00094	50		 push	 eax
  00095	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  0009a	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  0009e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000a4	89 44 0a 0c	 mov	 DWORD PTR [edx+ecx+12], eax

; 4087 : 
; 4088 : 				object_3d_troop_routes[object_index].number_of_landing_route_nodes = number_of_route_waypoint_positions;

  000a8	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  000ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000b2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  000b8	89 14 01	 mov	 DWORD PTR [ecx+eax], edx

; 4089 : 	
; 4090 : 				for ( count = 0; count < number_of_route_waypoint_positions; count++ )

  000bb	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _count$1[ebp], 0
  000c2	eb 09		 jmp	 SHORT $LN4@get_object
$LN2@get_object:
  000c4	8b 45 bc	 mov	 eax, DWORD PTR _count$1[ebp]
  000c7	83 c0 01	 add	 eax, 1
  000ca	89 45 bc	 mov	 DWORD PTR _count$1[ebp], eax
$LN4@get_object:
  000cd	8b 45 bc	 mov	 eax, DWORD PTR _count$1[ebp]
  000d0	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_route_waypoint_positions@@3HA ; number_of_route_waypoint_positions
  000d6	7d 70		 jge	 SHORT $LN3@get_object

; 4091 : 				{
; 4092 : 	
; 4093 : 					object_3d_troop_routes[object_index].landing_route[count].x = route_waypoint_positions[count].position.x;

  000d8	6b 45 bc 14	 imul	 eax, DWORD PTR _count$1[ebp], 20
  000dc	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  000e0	6b 55 bc 0c	 imul	 edx, DWORD PTR _count$1[ebp], 12
  000e4	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  000ea	8b 4c 0e 0c	 mov	 ecx, DWORD PTR [esi+ecx+12]
  000ee	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  000f4	8b 44 06 04	 mov	 eax, DWORD PTR [esi+eax+4]
  000f8	89 04 11	 mov	 DWORD PTR [ecx+edx], eax

; 4094 : 					object_3d_troop_routes[object_index].landing_route[count].y = route_waypoint_positions[count].position.y;

  000fb	6b 45 bc 14	 imul	 eax, DWORD PTR _count$1[ebp], 20
  000ff	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  00103	6b 55 bc 0c	 imul	 edx, DWORD PTR _count$1[ebp], 12
  00107	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0010d	8b 4c 0e 0c	 mov	 ecx, DWORD PTR [esi+ecx+12]
  00111	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  00117	8b 44 06 08	 mov	 eax, DWORD PTR [esi+eax+8]
  0011b	89 44 11 04	 mov	 DWORD PTR [ecx+edx+4], eax

; 4095 : 					object_3d_troop_routes[object_index].landing_route[count].z = route_waypoint_positions[count].position.z;

  0011f	6b 45 bc 14	 imul	 eax, DWORD PTR _count$1[ebp], 20
  00123	6b 4d 08 24	 imul	 ecx, DWORD PTR _object_index$[ebp], 36
  00127	6b 55 bc 0c	 imul	 edx, DWORD PTR _count$1[ebp], 12
  0012b	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  00131	8b 4c 0e 0c	 mov	 ecx, DWORD PTR [esi+ecx+12]
  00135	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?route_waypoint_positions@@3PAUROUTE_WAYPOINT_POSITION@@A ; route_waypoint_positions
  0013b	8b 44 06 0c	 mov	 eax, DWORD PTR [esi+eax+12]
  0013f	89 44 11 08	 mov	 DWORD PTR [ecx+edx+8], eax

; 4096 : 				}

  00143	e9 7c ff ff ff	 jmp	 $LN2@get_object
$LN3@get_object:

; 4097 : 			}
; 4098 : 		}
; 4099 : 
; 4100 : 		destruct_3d_object ( object );

  00148	8b 45 c4	 mov	 eax, DWORD PTR _object$[ebp]
  0014b	50		 push	 eax
  0014c	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object
$LN6@get_object:

; 4101 : 	}
; 4102 : 
; 4103 : 	*route = object_3d_troop_routes[object_index].landing_route;

  00151	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00155	8b 4d 0c	 mov	 ecx, DWORD PTR _route$[ebp]
  00158	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0015e	8b 44 02 0c	 mov	 eax, DWORD PTR [edx+eax+12]
  00162	89 01		 mov	 DWORD PTR [ecx], eax

; 4104 : 
; 4105 : 	return ( object_3d_troop_routes[object_index].number_of_landing_route_nodes );

  00164	6b 45 08 24	 imul	 eax, DWORD PTR _object_index$[ebp], 36
  00168	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?object_3d_troop_routes@@3PAUTROOP_LANDING_ROUTE_INFORMATION@@A ; object_3d_troop_routes
  0016e	8b 04 01	 mov	 eax, DWORD PTR [ecx+eax]
$LN1@get_object:

; 4106 : }

  00171	5f		 pop	 edi
  00172	5e		 pop	 esi
  00173	5b		 pop	 ebx
  00174	8b e5		 mov	 esp, ebp
  00176	5d		 pop	 ebp
  00177	c2 08 00	 ret	 8
?get_object_3d_troop_landing_route@@YGHHPAPAUVEC3D@@@Z ENDP ; get_object_3d_troop_landing_route
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?read_population_placement_file@@YGXPBD@Z
_TEXT	SEGMENT
_count$ = -8						; size = 4
_fp$ = -4						; size = 4
_placement_filename$ = 8				; size = 4
?read_population_placement_file@@YGXPBD@Z PROC		; read_population_placement_file, COMDAT

; 577  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 578  : 
; 579  : 	FILE
; 580  : 		*fp;
; 581  : 
; 582  : 	int
; 583  : 		count;
; 584  : 
; 585  : 	current_map_max_z = terrain_3d_max_map_z;

  00009	f3 0f 2c 05 00
	00 00 00	 cvttss2si eax, DWORD PTR ?terrain_3d_max_map_z@@3MA
  00011	a3 00 00 00 00	 mov	 DWORD PTR ?current_map_max_z@@3HA, eax

; 586  : 	current_map_max_z /= 100;

  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_map_max_z@@3HA
  0001b	99		 cdq
  0001c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00021	f7 f9		 idiv	 ecx
  00023	a3 00 00 00 00	 mov	 DWORD PTR ?current_map_max_z@@3HA, eax

; 587  : 	current_map_max_z *= 100;

  00028	6b 05 00 00 00
	00 64		 imul	 eax, DWORD PTR ?current_map_max_z@@3HA, 100
  0002f	a3 00 00 00 00	 mov	 DWORD PTR ?current_map_max_z@@3HA, eax

; 588  : 
; 589  : 	validate_airport_links ( OBJECT_3D_AMERICAN_AIRPORT01 );

  00034	6a 2e		 push	 46			; 0000002eH
  00036	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 590  : 	validate_airport_links ( OBJECT_3D_AMERICAN_AIRPORT02 );

  0003b	6a 2f		 push	 47			; 0000002fH
  0003d	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 591  : 	validate_airport_links ( OBJECT_3D_AMERICAN_AIRPORT03 );

  00042	6a 30		 push	 48			; 00000030H
  00044	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 592  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP01 );

  00049	6a 48		 push	 72			; 00000048H
  0004b	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 593  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP02 );

  00050	6a 49		 push	 73			; 00000049H
  00052	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 594  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP03 );

  00057	6a 4a		 push	 74			; 0000004aH
  00059	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 595  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP04 );

  0005e	6a 4b		 push	 75			; 0000004bH
  00060	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 596  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP05 );

  00065	6a 4c		 push	 76			; 0000004cH
  00067	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 597  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP06 );

  0006c	6a 4d		 push	 77			; 0000004dH
  0006e	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 598  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP07 );

  00073	6a 4e		 push	 78			; 0000004eH
  00075	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 599  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP08 );

  0007a	6a 4f		 push	 79			; 0000004fH
  0007c	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 600  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP09 );

  00081	6a 50		 push	 80			; 00000050H
  00083	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 601  : //	validate_airport_links ( OBJECT_3D_AMERICAN_FARP10 );
; 602  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP11 );

  00088	6a 52		 push	 82			; 00000052H
  0008a	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 603  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP12 );

  0008f	6a 53		 push	 83			; 00000053H
  00091	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 604  : 	validate_airport_links ( OBJECT_3D_AMERICAN_FARP13 );

  00096	6a 54		 push	 84			; 00000054H
  00098	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 605  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT01 );

  0009d	68 c3 00 00 00	 push	 195			; 000000c3H
  000a2	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 606  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT02 );

  000a7	68 c4 00 00 00	 push	 196			; 000000c4H
  000ac	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 607  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT03 );

  000b1	68 c5 00 00 00	 push	 197			; 000000c5H
  000b6	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 608  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT04 );

  000bb	68 c6 00 00 00	 push	 198			; 000000c6H
  000c0	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 609  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT05 );

  000c5	68 c7 00 00 00	 push	 199			; 000000c7H
  000ca	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 610  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT06 );

  000cf	68 c8 00 00 00	 push	 200			; 000000c8H
  000d4	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 611  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT07 );

  000d9	68 c9 00 00 00	 push	 201			; 000000c9H
  000de	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 612  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT09 );

  000e3	68 ca 00 00 00	 push	 202			; 000000caH
  000e8	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 613  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT10 );

  000ed	68 cb 00 00 00	 push	 203			; 000000cbH
  000f2	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 614  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT11 );

  000f7	68 cc 00 00 00	 push	 204			; 000000ccH
  000fc	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 615  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT12 );

  00101	68 cd 00 00 00	 push	 205			; 000000cdH
  00106	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 616  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_AIRPORT13 );

  0010b	68 ce 00 00 00	 push	 206			; 000000ceH
  00110	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 617  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP01 );

  00115	68 e3 00 00 00	 push	 227			; 000000e3H
  0011a	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 618  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP02 );

  0011f	68 e4 00 00 00	 push	 228			; 000000e4H
  00124	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 619  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP03 );

  00129	68 e5 00 00 00	 push	 229			; 000000e5H
  0012e	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 620  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP04 );

  00133	68 e6 00 00 00	 push	 230			; 000000e6H
  00138	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 621  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP05 );

  0013d	68 e7 00 00 00	 push	 231			; 000000e7H
  00142	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 622  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP06 );

  00147	68 e8 00 00 00	 push	 232			; 000000e8H
  0014c	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 623  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP07 );

  00151	68 e9 00 00 00	 push	 233			; 000000e9H
  00156	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 624  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP08 );

  0015b	68 ea 00 00 00	 push	 234			; 000000eaH
  00160	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 625  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP09 );

  00165	68 eb 00 00 00	 push	 235			; 000000ebH
  0016a	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 626  : //	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP10 );
; 627  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP11 );

  0016f	68 ed 00 00 00	 push	 237			; 000000edH
  00174	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 628  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP12 );

  00179	68 ee 00 00 00	 push	 238			; 000000eeH
  0017e	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 629  : 	validate_airport_links ( OBJECT_3D_RUSSIAN_FARP13 );

  00183	68 ef 00 00 00	 push	 239			; 000000efH
  00188	e8 00 00 00 00	 call	 ?validate_airport_links@@YGXH@Z ; validate_airport_links

; 630  : 
; 631  : 	//
; 632  : 	// Read in the placement file
; 633  : 	//
; 634  : 
; 635  : 	if (!placement_filename)

  0018d	83 7d 08 00	 cmp	 DWORD PTR _placement_filename$[ebp], 0
  00191	75 05		 jne	 SHORT $LN5@read_popul

; 636  : 	{
; 637  : 
; 638  : 		return;

  00193	e9 de 00 00 00	 jmp	 $LN1@read_popul
$LN5@read_popul:

; 639  : 	}
; 640  : 
; 641  : 	fp = safe_fopen ( placement_filename, "rb" );

  00198	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb@
  0019d	8b 45 08	 mov	 eax, DWORD PTR _placement_filename$[ebp]
  001a0	50		 push	 eax
  001a1	e8 00 00 00 00	 call	 ?safe_fopen@@YGPAU_iobuf@@PBD0@Z ; safe_fopen
  001a6	89 45 fc	 mov	 DWORD PTR _fp$[ebp], eax

; 642  : 
; 643  : 	//
; 644  : 	// First the city block templates
; 645  : 	//
; 646  : 
; 647  : 	#if DEBUG_MODULE
; 648  : 
; 649  : 	debug_log ( "Starting to build cities" );
; 650  : 
; 651  : 	#endif
; 652  : 
; 653  : 	read_population_templates ( fp );

  001a9	8b 45 fc	 mov	 eax, DWORD PTR _fp$[ebp]
  001ac	50		 push	 eax
  001ad	e8 00 00 00 00	 call	 ?read_population_templates@@YGXPAU_iobuf@@@Z ; read_population_templates

; 654  : 
; 655  : 	//
; 656  : 	// Next the actual placement of the templates
; 657  : 	//
; 658  : 
; 659  : 	#if DEBUG_MODULE
; 660  : 
; 661  : 	debug_log ( "Placing the templates" );
; 662  : 
; 663  : 	#endif
; 664  : 
; 665  : 	read_population_city_placements ( fp );

  001b2	8b 45 fc	 mov	 eax, DWORD PTR _fp$[ebp]
  001b5	50		 push	 eax
  001b6	e8 00 00 00 00	 call	 ?read_population_city_placements@@YGXPAU_iobuf@@@Z ; read_population_city_placements

; 666  : 
; 667  : 	//
; 668  : 	// Free up the template memory
; 669  : 	//
; 670  : 
; 671  : 	if ( number_of_temporary_templates )

  001bb	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?number_of_temporary_templates@@3HA, 0 ; number_of_temporary_templates
  001c2	74 74		 je	 SHORT $LN8@read_popul

; 672  : 	{
; 673  : 
; 674  : 		for ( count = 0; count < number_of_temporary_templates; count++ )

  001c4	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  001cb	eb 09		 jmp	 SHORT $LN4@read_popul
$LN2@read_popul:
  001cd	8b 45 f8	 mov	 eax, DWORD PTR _count$[ebp]
  001d0	83 c0 01	 add	 eax, 1
  001d3	89 45 f8	 mov	 DWORD PTR _count$[ebp], eax
$LN4@read_popul:
  001d6	8b 45 f8	 mov	 eax, DWORD PTR _count$[ebp]
  001d9	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_temporary_templates@@3HA ; number_of_temporary_templates
  001df	7d 39		 jge	 SHORT $LN3@read_popul

; 675  : 		{
; 676  : 
; 677  : 			if ( temporary_templates[count].objects )

  001e1	6b 45 f8 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  001e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  001eb	83 7c 01 14 00	 cmp	 DWORD PTR [ecx+eax+20], 0
  001f0	74 26		 je	 SHORT $LN7@read_popul

; 678  : 			{
; 679  : 
; 680  : 				safe_free ( temporary_templates[count].objects );

  001f2	6b 45 f8 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  001f6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  001fc	8b 54 01 14	 mov	 edx, DWORD PTR [ecx+eax+20]
  00200	52		 push	 edx
  00201	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 681  : 
; 682  : 				temporary_templates[count].objects = NULL;

  00206	6b 45 f8 18	 imul	 eax, DWORD PTR _count$[ebp], 24
  0020a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00210	c7 44 01 14 00
	00 00 00	 mov	 DWORD PTR [ecx+eax+20], 0
$LN7@read_popul:

; 683  : 			}
; 684  : 		}

  00218	eb b3		 jmp	 SHORT $LN2@read_popul
$LN3@read_popul:

; 685  : 
; 686  : 		if ( temporary_templates )

  0021a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A, 0 ; temporary_templates
  00221	74 15		 je	 SHORT $LN8@read_popul

; 687  : 		{
; 688  : 
; 689  : 			safe_free ( temporary_templates );

  00223	a1 00 00 00 00	 mov	 eax, DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A ; temporary_templates
  00228	50		 push	 eax
  00229	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 690  : 
; 691  : 			temporary_templates = NULL;

  0022e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?temporary_templates@@3PAUTEMPORARY_TEMPLATE@@A, 0 ; temporary_templates
$LN8@read_popul:

; 692  : 		}
; 693  : 	}
; 694  : 
; 695  : 	#if DEBUG_MODULE
; 696  : 
; 697  : 	debug_log ( "Finished building cities" );
; 698  : 
; 699  : 	#endif
; 700  : 
; 701  : 	//
; 702  : 	// Next the airfield placements
; 703  : 	//
; 704  : 
; 705  : 	read_population_airfield_placements ( fp );

  00238	8b 45 fc	 mov	 eax, DWORD PTR _fp$[ebp]
  0023b	50		 push	 eax
  0023c	e8 00 00 00 00	 call	 ?read_population_airfield_placements@@YGXPAU_iobuf@@@Z ; read_population_airfield_placements

; 706  : 
; 707  : 	initialise_keysite_farp_enable (get_local_force_entity (ENTITY_SIDE_BLUE_FORCE));

  00241	6a 01		 push	 1
  00243	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00248	50		 push	 eax
  00249	e8 00 00 00 00	 call	 ?initialise_keysite_farp_enable@@YGXPAUENTITY@@@Z ; initialise_keysite_farp_enable

; 708  : 
; 709  : 	initialise_keysite_farp_enable (get_local_force_entity (ENTITY_SIDE_RED_FORCE));

  0024e	6a 02		 push	 2
  00250	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00255	50		 push	 eax
  00256	e8 00 00 00 00	 call	 ?initialise_keysite_farp_enable@@YGXPAUENTITY@@@Z ; initialise_keysite_farp_enable

; 710  : 
; 711  : 	//
; 712  : 	// Read in the AAA/SAM placements
; 713  : 	//
; 714  : 
; 715  : 	read_population_sam_placements ( fp );

  0025b	8b 45 fc	 mov	 eax, DWORD PTR _fp$[ebp]
  0025e	50		 push	 eax
  0025f	e8 00 00 00 00	 call	 ?read_population_sam_placements@@YGXPAU_iobuf@@@Z ; read_population_sam_placements

; 716  : 
; 717  : 	#if DEBUG_MODULE
; 718  : 
; 719  : 	debug_log ( "Finished airport placement" );
; 720  : 
; 721  : 	#endif
; 722  : 
; 723  : 	fclose ( fp );

  00264	8b 45 fc	 mov	 eax, DWORD PTR _fp$[ebp]
  00267	50		 push	 eax
  00268	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  0026e	83 c4 04	 add	 esp, 4

; 724  : 
; 725  : 	initialise_formation_database_table ();

  00271	e8 00 00 00 00	 call	 ?initialise_formation_database_table@@YGXXZ ; initialise_formation_database_table
$LN1@read_popul:

; 726  : }

  00276	5f		 pop	 edi
  00277	5e		 pop	 esi
  00278	5b		 pop	 ebx
  00279	8b e5		 mov	 esp, ebp
  0027b	5d		 pop	 ebp
  0027c	c2 04 00	 ret	 4
?read_population_placement_file@@YGXPBD@Z ENDP		; read_population_placement_file
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\faction\popread.c
;	COMDAT ?read_sector_side_file@@YGXPBD@Z
_TEXT	SEGMENT
_ptr$1 = -24						; size = 4
_sides_data$2 = -20					; size = 4
_channels$3 = -16					; size = 4
_height$4 = -12						; size = 4
_width$5 = -8						; size = 4
_layer$6 = -4						; size = 4
_sides_filename$ = 8					; size = 4
?read_sector_side_file@@YGXPBD@Z PROC			; read_sector_side_file, COMDAT

; 328  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 329  : 
; 330  : 	#if DEBUG_MODULE
; 331  : 
; 332  : 	debug_log ( "READING IN SIDE DATA" );
; 333  : 
; 334  : 	#endif
; 335  : 
; 336  : 	if ( sides_filename )

  00009	83 7d 08 00	 cmp	 DWORD PTR _sides_filename$[ebp], 0
  0000d	0f 84 8e 01 00
	00		 je	 $LN1@read_secto

; 337  : 	{
; 338  : 
; 339  : 		int
; 340  : 			layer,
; 341  : 			width,
; 342  : 			height,
; 343  : 			channels;
; 344  : 
; 345  : 		unsigned char
; 346  : 			*sides_data;
; 347  : 
; 348  : 		sides_data = (unsigned char*) load_psd_file ( sides_filename, &width, &height, &channels );

  00013	8d 45 f0	 lea	 eax, DWORD PTR _channels$3[ebp]
  00016	50		 push	 eax
  00017	8d 4d f4	 lea	 ecx, DWORD PTR _height$4[ebp]
  0001a	51		 push	 ecx
  0001b	8d 55 f8	 lea	 edx, DWORD PTR _width$5[ebp]
  0001e	52		 push	 edx
  0001f	8b 45 08	 mov	 eax, DWORD PTR _sides_filename$[ebp]
  00022	50		 push	 eax
  00023	e8 00 00 00 00	 call	 ?load_psd_file@@YGPAXPBDPAH11@Z ; load_psd_file
  00028	89 45 ec	 mov	 DWORD PTR _sides_data$2[ebp], eax

; 349  : 
; 350  : 		if ( sides_data )

  0002b	83 7d ec 00	 cmp	 DWORD PTR _sides_data$2[ebp], 0
  0002f	0f 84 6c 01 00
	00		 je	 $LN1@read_secto

; 351  : 		{
; 352  : 
; 353  : 			psd_rgb
; 354  : 				*ptr;
; 355  : 
; 356  : 			ASSERT ( channels == 3 );

  00035	83 7d f0 03	 cmp	 DWORD PTR _channels$3[ebp], 3
  00039	74 18		 je	 SHORT $LN7@read_secto
  0003b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_sector_side_file@@YGXPBD@Z@4JA
  00040	83 c0 1c	 add	 eax, 28			; 0000001cH
  00043	50		 push	 eax
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00049	68 00 00 00 00	 push	 OFFSET ??_C@_0O@CIDJENGH@channels?5?$DN?$DN?53@
  0004e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@read_secto:

; 357  : 			ASSERT ( width == ( MAX_MAP_X_SECTOR + 1 ) );

  00053	a1 1c 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+28
  00058	83 c0 01	 add	 eax, 1
  0005b	39 45 f8	 cmp	 DWORD PTR _width$5[ebp], eax
  0005e	74 18		 je	 SHORT $LN8@read_secto
  00060	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_sector_side_file@@YGXPBD@Z@4JA
  00065	83 c0 1d	 add	 eax, 29			; 0000001dH
  00068	50		 push	 eax
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006e	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@IKIOEBAL@width?5?$DN?$DN?5?$CI?5MAX_MAP_X_SECTOR?5?$CL?51@
  00073	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@read_secto:

; 358  : 			ASSERT ( height == ( MAX_MAP_Z_SECTOR + 1 ) );

  00078	a1 20 00 00 00	 mov	 eax, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+32
  0007d	83 c0 01	 add	 eax, 1
  00080	39 45 f4	 cmp	 DWORD PTR _height$4[ebp], eax
  00083	74 18		 je	 SHORT $LN9@read_secto
  00085	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??read_sector_side_file@@YGXPBD@Z@4JA
  0008a	83 c0 1e	 add	 eax, 30			; 0000001eH
  0008d	50		 push	 eax
  0008e	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@EADPBBJN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00093	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@GFMCIAPG@height?5?$DN?$DN?5?$CI?5MAX_MAP_Z_SECTOR?5?$CL?5@
  00098	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN9@read_secto:

; 359  : 
; 360  : 			//
; 361  : 			// Reset the population values
; 362  : 			//
; 363  : 
; 364  : 			reset_population_sector_values ( width, height );

  0009d	8b 45 f4	 mov	 eax, DWORD PTR _height$4[ebp]
  000a0	50		 push	 eax
  000a1	8b 4d f8	 mov	 ecx, DWORD PTR _width$5[ebp]
  000a4	51		 push	 ecx
  000a5	e8 00 00 00 00	 call	 ?reset_population_sector_values@@YGXHH@Z ; reset_population_sector_values

; 365  : 
; 366  : 			//
; 367  : 			// Now do the special layers
; 368  : 			//
; 369  : 
; 370  : 			if ( number_of_psd_layers == 0 )

  000aa	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?number_of_psd_layers@@3HA, 0 ; number_of_psd_layers
  000b1	75 16		 jne	 SHORT $LN10@read_secto

; 371  : 			{
; 372  : 
; 373  : 				//
; 374  : 				// Process the forces...
; 375  : 				//
; 376  : 
; 377  : 				process_population_forces ( ( psd_rgb * ) sides_data, width, height );

  000b3	8b 45 f4	 mov	 eax, DWORD PTR _height$4[ebp]
  000b6	50		 push	 eax
  000b7	8b 4d f8	 mov	 ecx, DWORD PTR _width$5[ebp]
  000ba	51		 push	 ecx
  000bb	8b 55 ec	 mov	 edx, DWORD PTR _sides_data$2[ebp]
  000be	52		 push	 edx
  000bf	e8 00 00 00 00	 call	 ?process_population_forces@@YGXPAUPSD_RGB@@HH@Z ; process_population_forces

; 378  : 			}
; 379  : 			else

  000c4	e9 cf 00 00 00	 jmp	 $LN11@read_secto
$LN10@read_secto:

; 380  : 			{
; 381  : 				for ( layer = 0; layer < number_of_psd_layers; layer++ )

  000c9	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _layer$6[ebp], 0
  000d0	eb 09		 jmp	 SHORT $LN4@read_secto
$LN2@read_secto:
  000d2	8b 45 fc	 mov	 eax, DWORD PTR _layer$6[ebp]
  000d5	83 c0 01	 add	 eax, 1
  000d8	89 45 fc	 mov	 DWORD PTR _layer$6[ebp], eax
$LN4@read_secto:
  000db	8b 45 fc	 mov	 eax, DWORD PTR _layer$6[ebp]
  000de	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?number_of_psd_layers@@3HA ; number_of_psd_layers
  000e4	0f 8d ae 00 00
	00		 jge	 $LN11@read_secto

; 382  : 				{
; 383  : 
; 384  : 					ptr = ( psd_rgb * ) psd_layers[layer].data;

  000ea	69 45 fc 9c 01
	00 00		 imul	 eax, DWORD PTR _layer$6[ebp], 412
  000f1	8b 88 18 01 00
	00		 mov	 ecx, DWORD PTR ?psd_layers@@3PAUPSD_LAYER_INFO@@A[eax+280]
  000f7	89 4d e8	 mov	 DWORD PTR _ptr$1[ebp], ecx

; 385  : 
; 386  : 					if ( ( strnicmp ( psd_layers[layer].name, "BACKGROUND", strlen ( "BACKGROUND" ) ) == 0 ) ||

  000fa	68 00 00 00 00	 push	 OFFSET ??_C@_0L@PAEHJLBC@BACKGROUND@
  000ff	e8 00 00 00 00	 call	 _strlen
  00104	83 c4 04	 add	 esp, 4
  00107	50		 push	 eax
  00108	68 00 00 00 00	 push	 OFFSET ??_C@_0L@PAEHJLBC@BACKGROUND@
  0010d	69 45 fc 9c 01
	00 00		 imul	 eax, DWORD PTR _layer$6[ebp], 412
  00114	05 00 00 00 00	 add	 eax, OFFSET ?psd_layers@@3PAUPSD_LAYER_INFO@@A ; psd_layers
  00119	50		 push	 eax
  0011a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___strnicmp
  00120	83 c4 0c	 add	 esp, 12			; 0000000cH
  00123	85 c0		 test	 eax, eax
  00125	74 19		 je	 SHORT $LN14@read_secto
  00127	69 45 fc 9c 01
	00 00		 imul	 eax, DWORD PTR _layer$6[ebp], 412
  0012e	05 00 00 00 00	 add	 eax, OFFSET ?psd_layers@@3PAUPSD_LAYER_INFO@@A ; psd_layers
  00133	50		 push	 eax
  00134	e8 00 00 00 00	 call	 _strlen
  00139	83 c4 04	 add	 esp, 4
  0013c	85 c0		 test	 eax, eax
  0013e	75 13		 jne	 SHORT $LN12@read_secto
$LN14@read_secto:

; 387  : 							( strlen ( psd_layers[layer].name ) == 0 ) )
; 388  : 					{
; 389  : 
; 390  : 						process_population_forces ( ptr, width, height );

  00140	8b 45 f4	 mov	 eax, DWORD PTR _height$4[ebp]
  00143	50		 push	 eax
  00144	8b 4d f8	 mov	 ecx, DWORD PTR _width$5[ebp]
  00147	51		 push	 ecx
  00148	8b 55 e8	 mov	 edx, DWORD PTR _ptr$1[ebp]
  0014b	52		 push	 edx
  0014c	e8 00 00 00 00	 call	 ?process_population_forces@@YGXPAUPSD_RGB@@HH@Z ; process_population_forces
  00151	eb 40		 jmp	 SHORT $LN13@read_secto
$LN12@read_secto:

; 391  : 					}
; 392  : 					else if ( strnicmp ( psd_layers[layer].name, "IMPORTANCE", strlen ( "IMPORTANCE" ) ) == 0 )

  00153	68 00 00 00 00	 push	 OFFSET ??_C@_0L@BCAJBAAP@IMPORTANCE@
  00158	e8 00 00 00 00	 call	 _strlen
  0015d	83 c4 04	 add	 esp, 4
  00160	50		 push	 eax
  00161	68 00 00 00 00	 push	 OFFSET ??_C@_0L@BCAJBAAP@IMPORTANCE@
  00166	69 45 fc 9c 01
	00 00		 imul	 eax, DWORD PTR _layer$6[ebp], 412
  0016d	05 00 00 00 00	 add	 eax, OFFSET ?psd_layers@@3PAUPSD_LAYER_INFO@@A ; psd_layers
  00172	50		 push	 eax
  00173	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___strnicmp
  00179	83 c4 0c	 add	 esp, 12			; 0000000cH
  0017c	85 c0		 test	 eax, eax
  0017e	75 13		 jne	 SHORT $LN13@read_secto

; 393  : 					{
; 394  : 
; 395  : 						process_population_importance ( ptr, ENTITY_SIDE_RED_FORCE, width, height );

  00180	8b 45 f4	 mov	 eax, DWORD PTR _height$4[ebp]
  00183	50		 push	 eax
  00184	8b 4d f8	 mov	 ecx, DWORD PTR _width$5[ebp]
  00187	51		 push	 ecx
  00188	6a 02		 push	 2
  0018a	8b 55 e8	 mov	 edx, DWORD PTR _ptr$1[ebp]
  0018d	52		 push	 edx
  0018e	e8 00 00 00 00	 call	 ?process_population_importance@@YGXPAUPSD_RGB@@HHH@Z ; process_population_importance
$LN13@read_secto:

; 396  : 					}
; 397  : 				}

  00193	e9 3a ff ff ff	 jmp	 $LN2@read_secto
$LN11@read_secto:

; 398  : 			}
; 399  : 
; 400  : 			safe_free ( sides_data );

  00198	8b 45 ec	 mov	 eax, DWORD PTR _sides_data$2[ebp]
  0019b	50		 push	 eax
  0019c	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free
$LN1@read_secto:

; 401  : 		}
; 402  : 	}
; 403  : }

  001a1	5f		 pop	 edi
  001a2	5e		 pop	 esi
  001a3	5b		 pop	 ebx
  001a4	8b e5		 mov	 esp, ebp
  001a6	5d		 pop	 ebp
  001a7	c2 04 00	 ret	 4
?read_sector_side_file@@YGXPBD@Z ENDP			; read_sector_side_file
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\stdio.h
;	COMDAT _sprintf
_TEXT	SEGMENT
__ArgList$ = -8						; size = 4
__Result$ = -4						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
_sprintf PROC						; COMDAT

; 1781 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1782 :         int _Result;
; 1783 :         va_list _ArgList;
; 1784 :         __crt_va_start(_ArgList, _Format);

  00009	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  0000c	89 45 f8	 mov	 DWORD PTR __ArgList$[ebp], eax

; 1785 : 
; 1786 :         #pragma warning(push)
; 1787 :         #pragma warning(disable: 4996) // Deprecation
; 1788 :         _Result = _vsprintf_l(_Buffer, _Format, NULL, _ArgList);

  0000f	8b 45 f8	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00012	50		 push	 eax
  00013	6a 00		 push	 0
  00015	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00018	51		 push	 ecx
  00019	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  0001c	52		 push	 edx
  0001d	e8 00 00 00 00	 call	 __vsprintf_l
  00022	83 c4 10	 add	 esp, 16			; 00000010H
  00025	89 45 fc	 mov	 DWORD PTR __Result$[ebp], eax

; 1789 :         #pragma warning(pop)
; 1790 : 
; 1791 :         __crt_va_end(_ArgList);

  00028	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 1792 :         return _Result;

  0002f	8b 45 fc	 mov	 eax, DWORD PTR __Result$[ebp]

; 1793 :     }

  00032	5f		 pop	 edi
  00033	5e		 pop	 esi
  00034	5b		 pop	 ebx
  00035	8b e5		 mov	 esp, ebp
  00037	5d		 pop	 ebp
  00038	c3		 ret	 0
_sprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\stdio.h
;	COMDAT __vsprintf_l
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
__Locale$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vsprintf_l PROC					; COMDAT

; 1459 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1460 :         #pragma warning(push)
; 1461 :         #pragma warning(disable: 4996) // Deprecation
; 1462 :         return _vsnprintf_l(_Buffer, (size_t)-1, _Format, _Locale, _ArgList);

  00009	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0000c	50		 push	 eax
  0000d	8b 4d 10	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00010	51		 push	 ecx
  00011	8b 55 0c	 mov	 edx, DWORD PTR __Format$[ebp]
  00014	52		 push	 edx
  00015	6a ff		 push	 -1
  00017	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0001a	50		 push	 eax
  0001b	e8 00 00 00 00	 call	 __vsnprintf_l
  00020	83 c4 14	 add	 esp, 20			; 00000014H

; 1463 :         #pragma warning(pop)
; 1464 :     }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
__vsprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\stdio.h
;	COMDAT __vsnprintf_l
_TEXT	SEGMENT
tv74 = -72						; size = 4
__Result$ = -4						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__Locale$ = 20						; size = 4
__ArgList$ = 24						; size = 4
__vsnprintf_l PROC					; COMDAT

; 1389 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1390 :         int const _Result = __stdio_common_vsprintf(

  00009	8b 45 18	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0000c	50		 push	 eax
  0000d	8b 4d 14	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00010	51		 push	 ecx
  00011	8b 55 10	 mov	 edx, DWORD PTR __Format$[ebp]
  00014	52		 push	 edx
  00015	8b 45 0c	 mov	 eax, DWORD PTR __BufferCount$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 08	 mov	 ecx, DWORD PTR __Buffer$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00022	8b 10		 mov	 edx, DWORD PTR [eax]
  00024	83 ca 01	 or	 edx, 1
  00027	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  0002a	50		 push	 eax
  0002b	52		 push	 edx
  0002c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf
  00032	83 c4 1c	 add	 esp, 28			; 0000001cH
  00035	89 45 fc	 mov	 DWORD PTR __Result$[ebp], eax

; 1391 :             _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS | _CRT_INTERNAL_PRINTF_LEGACY_VSPRINTF_NULL_TERMINATION,
; 1392 :             _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1393 : 
; 1394 :         return _Result < 0 ? -1 : _Result;

  00038	83 7d fc 00	 cmp	 DWORD PTR __Result$[ebp], 0
  0003c	7d 09		 jge	 SHORT $LN3@vsnprintf_
  0003e	c7 45 b8 ff ff
	ff ff		 mov	 DWORD PTR tv74[ebp], -1
  00045	eb 06		 jmp	 SHORT $LN4@vsnprintf_
$LN3@vsnprintf_:
  00047	8b 45 fc	 mov	 eax, DWORD PTR __Result$[ebp]
  0004a	89 45 b8	 mov	 DWORD PTR tv74[ebp], eax
$LN4@vsnprintf_:
  0004d	8b 45 b8	 mov	 eax, DWORD PTR tv74[ebp]

; 1395 :     }

  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	8b e5		 mov	 esp, ebp
  00055	5d		 pop	 ebp
  00056	c3		 ret	 0
__vsnprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_stdio_config.h
;	COMDAT ___local_stdio_printf_options
_TEXT	SEGMENT
___local_stdio_printf_options PROC			; COMDAT

; 86   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 87   :         static unsigned __int64 _OptionsStorage;
; 88   :         return &_OptionsStorage;

  00009	b8 00 00 00 00	 mov	 eax, OFFSET ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage

; 89   :     }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
___local_stdio_printf_options ENDP
_TEXT	ENDS
END
