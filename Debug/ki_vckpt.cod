; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_kiowa_virtual_cockpit@@YGXXZ	; initialise_kiowa_virtual_cockpit
PUBLIC	?deinitialise_kiowa_virtual_cockpit@@YGXXZ	; deinitialise_kiowa_virtual_cockpit
PUBLIC	?update_kiowa_virtual_cockpit@@YGXXZ		; update_kiowa_virtual_cockpit
PUBLIC	?pre_render_kiowa_virtual_cockpit_displays@@YGXXZ ; pre_render_kiowa_virtual_cockpit_displays
PUBLIC	?draw_kiowa_virtual_cockpit@@YGXXZ		; draw_kiowa_virtual_cockpit
PUBLIC	?get_kiowa_crew_viewpoint@@YGXXZ		; get_kiowa_crew_viewpoint
PUBLIC	?get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z ; get_kiowa_display_viewpoint
PUBLIC	?damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z ; damage_kiowa_virtual_cockpit_main_rotors
PUBLIC	?restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ ; restore_kiowa_virtual_cockpit_main_rotors
PUBLIC	?__LINE__Var@?0??draw_kiowa_virtual_cockpit@@YGXXZ@4JA ; `draw_kiowa_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??get_kiowa_crew_viewpoint@@YGXXZ@4JA ; `get_kiowa_crew_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@ ; `string'
PUBLIC	??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@ ; `string'
PUBLIC	?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA ; `get_kiowa_display_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ ; `string'
PUBLIC	??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@	; `string'
PUBLIC	??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ ; `string'
PUBLIC	??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ ; `string'
PUBLIC	?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA ; `damage_kiowa_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	??_C@_0DC@IAHLIPKH@virtual_cockpit_inst3d_detail_l@ ; `string'
PUBLIC	??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@ ; `string'
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA ; `restore_kiowa_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	__real@3c8efa35
PUBLIC	__real@3d20902e
PUBLIC	__real@3d4ccccd
PUBLIC	__real@3d8068dc
PUBLIC	__real@3d886595
PUBLIC	__real@3dcccccd
PUBLIC	__real@3dd0c43d
PUBLIC	__real@3de0ded3
PUBLIC	__real@3e50cb29
PUBLIC	__real@3ef4f8b588e368f1
PUBLIC	__real@3f000000
PUBLIC	__real@3f00002000400080
PUBLIC	__real@3f24a234
PUBLIC	__real@3f800000
PUBLIC	__real@3f9999999999999a
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4000000000000000
PUBLIC	__real@4008000000000000
PUBLIC	__real@400921fb60000000
PUBLIC	__real@4014000000000000
PUBLIC	__real@4016cbe4
PUBLIC	__real@40cfff8000000000
PUBLIC	__real@41200000
PUBLIC	__real@461c4000
PUBLIC	__real@bff8000000000000
PUBLIC	__real@c008000000000000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?query_TIR_active@@YAHXZ:PROC			; query_TIR_active
EXTRN	?TIR_GetRoll@@YGMXZ:PROC			; TIR_GetRoll
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_transpose_matrix3x3_vec3d
EXTRN	?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z:PROC ; multiply_matrix3x3_matrix3x3
EXTRN	?get_inverse_matrix@@YGXQAY02MQAY02$$CBM@Z:PROC	; get_inverse_matrix
EXTRN	?clear_zbuffer_screen@@YGXXZ:PROC		; clear_zbuffer_screen
EXTRN	?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z:PROC ; recalculate_3d_environment_settings
EXTRN	?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z:PROC ; set_3d_view_distances
EXTRN	?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z:PROC	; realise_3d_clip_extents
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; destruct_3d_object
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z:PROC ; insert_zbiased_relative_object_into_3d_scene
EXTRN	?draw_3d_scene@@YGXXZ:PROC			; draw_3d_scene
EXTRN	?begin_3d_scene@@YGHXZ:PROC			; begin_3d_scene
EXTRN	?end_3d_scene@@YGXXZ:PROC			; end_3d_scene
EXTRN	?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z:PROC ; create_light_3d_source
EXTRN	?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z:PROC ; destroy_light_3d_source
EXTRN	?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z:PROC ; insert_light_3d_source_into_3d_scene
EXTRN	?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z:PROC ; remove_light_3d_source_from_3d_scene
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z:PROC ; animate_helicopter_main_rotors
EXTRN	?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z:PROC ; animate_damaged_helicopter_main_rotors
EXTRN	?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_helicopter_virtual_cockpit_main_rotors
EXTRN	?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; damage_helicopter_main_rotor_inst3d
EXTRN	?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z:PROC ; restore_helicopter_main_rotor_inst3d
EXTRN	?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z:PROC ; get_helicopter_main_rotors_blurred
EXTRN	?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z:PROC ; set_rotation_angle_of_helicopter_main_rotors
EXTRN	?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z:PROC ; get_rotation_angle_of_helicopter_main_rotors
EXTRN	?draw_kiowa_hud_on_lens_texture@@YGXXZ:PROC	; draw_kiowa_hud_on_lens_texture
EXTRN	?draw_kiowa_mfd@@YGXXZ:PROC			; draw_kiowa_mfd
EXTRN	?get_crew_role@@YG?AW4CREW_ROLES@@XZ:PROC	; get_crew_role
EXTRN	?initialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; initialise_common_virtual_cockpit_cameras
EXTRN	?deinitialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; deinitialise_common_virtual_cockpit_cameras
EXTRN	?print_edit_wide_cockpit@@YGXXZ:PROC		; print_edit_wide_cockpit
EXTRN	?move_edit_wide_cockpit@@YGXXZ:PROC		; move_edit_wide_cockpit
EXTRN	?get_kiowa_co_pilot_head_pitch_datum@@YGMXZ:PROC ; get_kiowa_co_pilot_head_pitch_datum
EXTRN	?initialise_kiowa_crew_animation@@YGXXZ:PROC	; initialise_kiowa_crew_animation
EXTRN	?deinitialise_kiowa_crew_animation@@YGXXZ:PROC	; deinitialise_kiowa_crew_animation
EXTRN	?update_kiowa_crew_animation@@YGXXZ:PROC	; update_kiowa_crew_animation
EXTRN	?set_kiowa_crew_head_positions@@YGXXZ:PROC	; set_kiowa_crew_head_positions
EXTRN	?initialise_kiowa_virtual_cockpit_canopy_doors@@YGXXZ:PROC ; initialise_kiowa_virtual_cockpit_canopy_doors
EXTRN	?animate_kiowa_virtual_cockpit_canopy_doors@@YGXXZ:PROC ; animate_kiowa_virtual_cockpit_canopy_doors
EXTRN	?get_kiowa_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z:PROC ; get_kiowa_virtual_cockpit_adi_angles
EXTRN	?get_kiowa_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ:PROC ; get_kiowa_virtual_cockpit_adi_slip_indicator_needle_value
EXTRN	?get_kiowa_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ:PROC ; get_kiowa_virtual_cockpit_airspeed_indicator_needle_value
EXTRN	?get_kiowa_virtual_cockpit_barometric_altimeter_needle_value@@YGMXZ:PROC ; get_kiowa_virtual_cockpit_barometric_altimeter_needle_value
EXTRN	?get_kiowa_virtual_cockpit_clock_hand_values@@YGXPAM00@Z:PROC ; get_kiowa_virtual_cockpit_clock_hand_values
EXTRN	?draw_kiowa_virtual_cockpit_lamps@@YGXXZ:PROC	; draw_kiowa_virtual_cockpit_lamps
EXTRN	?get_kiowa_pilot_head_pitch_datum@@YGMXZ:PROC	; get_kiowa_pilot_head_pitch_datum
EXTRN	?initialise_kiowa_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; initialise_kiowa_virtual_cockpit_wiper_and_rain_effect
EXTRN	?deinitialise_kiowa_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; deinitialise_kiowa_virtual_cockpit_wiper_and_rain_effect
EXTRN	?get_time_acceleration@@YGHXZ:PROC		; get_time_acceleration
EXTRN	?move_by_rate@@YGMMMM@Z:PROC			; move_by_rate
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?command_line_TIR_6DOF@@3HA:DWORD		; command_line_TIR_6DOF
EXTRN	?command_line_g_force_head_movment_modifier@@3MA:DWORD ; command_line_g_force_head_movment_modifier
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?pilot_entity@@3PAUENTITY@@A:DWORD		; pilot_entity
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?main_3d_env@@3PAUENV_3D@@A:DWORD		; main_3d_env
EXTRN	?main_vp@@3UVIEWPOINT@@A:BYTE			; main_vp
EXTRN	?view_mode@@3W4VIEW_MODES@@A:DWORD		; view_mode
EXTRN	?pilot_head_heading@@3MA:DWORD			; pilot_head_heading
EXTRN	?pilot_head_pitch@@3MA:DWORD			; pilot_head_pitch
EXTRN	?pilot_head_vp@@3UVIEWPOINT@@A:BYTE		; pilot_head_vp
EXTRN	?wide_cockpit@@3HA:DWORD			; wide_cockpit
EXTRN	?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A:BYTE ; wide_cockpit_position
EXTRN	?wide_cockpit_nr@@3HA:DWORD			; wide_cockpit_nr
EXTRN	?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A:BYTE ; current_custom_cockpit_viewpoint
EXTRN	?night_vision_system_active@@3HA:DWORD		; night_vision_system_active
EXTRN	?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A:DWORD ; virtual_cockpit_inst3d
EXTRN	?pilot_head_pitch_datum@@3MA:DWORD		; pilot_head_pitch_datum
EXTRN	?co_pilot_head_pitch_datum@@3MA:DWORD		; co_pilot_head_pitch_datum
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_inst3d_detail_level_normal_inst3d
?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_inst3d_detail_level_glass_inst3d
?x_head_g_movement@@3MA DD 01H DUP (?)			; x_head_g_movement
?y_head_g_movement@@3MA DD 01H DUP (?)			; y_head_g_movement
?random_vibration_x@@3MA DD 01H DUP (?)			; random_vibration_x
?random_vibration_y@@3MA DD 01H DUP (?)			; random_vibration_y
_BSS	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@c008000000000000
CONST	SEGMENT
__real@c008000000000000 DQ 0c008000000000000r	; -3
CONST	ENDS
;	COMDAT __real@bff8000000000000
CONST	SEGMENT
__real@bff8000000000000 DQ 0bff8000000000000r	; -1.5
CONST	ENDS
;	COMDAT __real@461c4000
CONST	SEGMENT
__real@461c4000 DD 0461c4000r			; 10000
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@40cfff8000000000
CONST	SEGMENT
__real@40cfff8000000000 DQ 040cfff8000000000r	; 16383
CONST	ENDS
;	COMDAT __real@4016cbe4
CONST	SEGMENT
__real@4016cbe4 DD 04016cbe4r			; 2.35619
CONST	ENDS
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@400921fb60000000
CONST	SEGMENT
__real@400921fb60000000 DQ 0400921fb60000000r	; 3.14159
CONST	ENDS
;	COMDAT __real@4008000000000000
CONST	SEGMENT
__real@4008000000000000 DQ 04008000000000000r	; 3
CONST	ENDS
;	COMDAT __real@4000000000000000
CONST	SEGMENT
__real@4000000000000000 DQ 04000000000000000r	; 2
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3f9999999999999a
CONST	SEGMENT
__real@3f9999999999999a DQ 03f9999999999999ar	; 0.025
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f24a234
CONST	SEGMENT
__real@3f24a234 DD 03f24a234r			; 0.6431
CONST	ENDS
;	COMDAT __real@3f00002000400080
CONST	SEGMENT
__real@3f00002000400080 DQ 03f00002000400080r	; 3.05185e-05
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3ef4f8b588e368f1
CONST	SEGMENT
__real@3ef4f8b588e368f1 DQ 03ef4f8b588e368f1r	; 2e-05
CONST	ENDS
;	COMDAT __real@3e50cb29
CONST	SEGMENT
__real@3e50cb29 DD 03e50cb29r			; 0.2039
CONST	ENDS
;	COMDAT __real@3de0ded3
CONST	SEGMENT
__real@3de0ded3 DD 03de0ded3r			; 0.1098
CONST	ENDS
;	COMDAT __real@3dd0c43d
CONST	SEGMENT
__real@3dd0c43d DD 03dd0c43dr			; 0.101937
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@3d886595
CONST	SEGMENT
__real@3d886595 DD 03d886595r			; 0.0666
CONST	ENDS
;	COMDAT __real@3d8068dc
CONST	SEGMENT
__real@3d8068dc DD 03d8068dcr			; 0.0627
CONST	ENDS
;	COMDAT __real@3d4ccccd
CONST	SEGMENT
__real@3d4ccccd DD 03d4ccccdr			; 0.05
CONST	ENDS
;	COMDAT __real@3d20902e
CONST	SEGMENT
__real@3d20902e DD 03d20902er			; 0.0392
CONST	ENDS
;	COMDAT __real@3c8efa35
CONST	SEGMENT
__real@3c8efa35 DD 03c8efa35r			; 0.0174533
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA DD 04bdH ; `restore_kiowa_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@
CONST	SEGMENT
??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@ DB 'virtual_cockpit_i'
	DB	'nst3d_detail_level_glass_inst3d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DC@IAHLIPKH@virtual_cockpit_inst3d_detail_l@
CONST	SEGMENT
??_C@_0DC@IAHLIPKH@virtual_cockpit_inst3d_detail_l@ DB 'virtual_cockpit_i'
	DB	'nst3d_detail_level_normal_inst3d', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA DD 049cH ; `damage_kiowa_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
CONST	SEGMENT
??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ DB 'Failed to loc'
	DB	'ate display viewpoint in virtual cockpit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ DB 'Invalid view mod'
	DB	'e = %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@
CONST	SEGMENT
??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@ DB 'virtual_cockpit_inst3d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ DB 'get_gunship_entity ('
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA DD 0409H ; `get_kiowa_display_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@
CONST	SEGMENT
??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@ DB 'Failed to lo'
	DB	'cate crew''s viewpoint in virtual cockpit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@
CONST	SEGMENT
??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@ DB 'Failed to lo'
	DB	'cate crew''s head in virtual cockpit', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_kiowa_crew_viewpoint@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_kiowa_crew_viewpoint@@YGXXZ@4JA DD 0389H ; `get_kiowa_crew_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_v'
	DB	'ckpt.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_kiowa_virtual_cockpit@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_kiowa_virtual_cockpit@@YGXXZ@4JA DD 01d8H ; `draw_kiowa_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ
_TEXT	SEGMENT
tv93 = -80						; size = 4
tv85 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
?restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ PROC	; restore_kiowa_virtual_cockpit_main_rotors, COMDAT

; 1213 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1214 : 	float
; 1215 : 		theta;
; 1216 : 
; 1217 : 	object_3d_instance
; 1218 : 		*inst3d;
; 1219 : 
; 1220 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@restore_ki
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@restore_ki:

; 1221 : 
; 1222 : 	ASSERT (virtual_cockpit_inst3d_detail_level_normal_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@restore_ki
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0DC@IAHLIPKH@virtual_cockpit_inst3d_detail_l@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@restore_ki:

; 1223 : 	ASSERT (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@restore_ki
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@restore_ki:

; 1224 : 
; 1225 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00073	74 0c		 je	 SHORT $LN7@restore_ki
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0007c	89 4d b4	 mov	 DWORD PTR tv85[ebp], ecx
  0007f	eb 21		 jmp	 SHORT $LN8@restore_ki
$LN7@restore_ki:
  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00087	83 c2 0c	 add	 edx, 12			; 0000000cH
  0008a	52		 push	 edx
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN8@restore_ki:
  000a2	b9 01 00 00 00	 mov	 ecx, 1
  000a7	85 c9		 test	 ecx, ecx
  000a9	74 09		 je	 SHORT $LN9@restore_ki
  000ab	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv93[ebp], 2
  000b2	eb 21		 jmp	 SHORT $LN10@restore_ki
$LN9@restore_ki:
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000ba	83 c2 0c	 add	 edx, 12			; 0000000cH
  000bd	52		 push	 edx
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN10@restore_ki:
  000d5	6a 02		 push	 2
  000d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000dd	51		 push	 ecx
  000de	6b 55 b4 50	 imul	 edx, DWORD PTR tv85[ebp], 80
  000e2	8b 45 b0	 mov	 eax, DWORD PTR tv93[ebp]
  000e5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000ec	ff d1		 call	 ecx
  000ee	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1226 : 
; 1227 : 	ASSERT (inst3d);

  000f1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000f5	75 18		 jne	 SHORT $LN5@restore_ki
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000fc	83 c0 0e	 add	 eax, 14			; 0000000eH
  000ff	50		 push	 eax
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0010a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@restore_ki:

; 1228 : 
; 1229 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  0010f	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  00118	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1230 : 
; 1231 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_normal_inst3d, theta);

  0011b	51		 push	 ecx
  0011c	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00121	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012b	50		 push	 eax
  0012c	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1232 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_glass_inst3d, theta);

  00131	51		 push	 ecx
  00132	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00137	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00141	50		 push	 eax
  00142	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1233 : 
; 1234 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_normal_inst3d);

  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0014c	50		 push	 eax
  0014d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00153	51		 push	 ecx
  00154	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1235 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_glass_inst3d);

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0015e	50		 push	 eax
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1236 : 
; 1237 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_normal_inst3d);

  0016b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00170	50		 push	 eax
  00171	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1238 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  00176	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0017b	50		 push	 eax
  0017c	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1239 : }

  00181	5f		 pop	 edi
  00182	5e		 pop	 esi
  00183	5b		 pop	 ebx
  00184	8b e5		 mov	 esp, ebp
  00186	5d		 pop	 ebp
  00187	c3		 ret	 0
?restore_kiowa_virtual_cockpit_main_rotors@@YGXXZ ENDP	; restore_kiowa_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z
_TEXT	SEGMENT
tv93 = -80						; size = 4
tv85 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
_seed$ = 8						; size = 4
?damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z PROC	; damage_kiowa_virtual_cockpit_main_rotors, COMDAT

; 1180 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1181 : 	float
; 1182 : 		theta;
; 1183 : 
; 1184 : 	object_3d_instance
; 1185 : 		*inst3d;
; 1186 : 
; 1187 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@damage_kio
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@damage_kio:

; 1188 : 
; 1189 : 	ASSERT (virtual_cockpit_inst3d_detail_level_normal_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@damage_kio
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0DC@IAHLIPKH@virtual_cockpit_inst3d_detail_l@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@damage_kio:

; 1190 : 	ASSERT (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@damage_kio
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@damage_kio:

; 1191 : 
; 1192 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00073	74 0c		 je	 SHORT $LN7@damage_kio
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0007c	89 4d b4	 mov	 DWORD PTR tv85[ebp], ecx
  0007f	eb 21		 jmp	 SHORT $LN8@damage_kio
$LN7@damage_kio:
  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00087	83 c2 0c	 add	 edx, 12			; 0000000cH
  0008a	52		 push	 edx
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN8@damage_kio:
  000a2	b9 01 00 00 00	 mov	 ecx, 1
  000a7	85 c9		 test	 ecx, ecx
  000a9	74 09		 je	 SHORT $LN9@damage_kio
  000ab	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv93[ebp], 2
  000b2	eb 21		 jmp	 SHORT $LN10@damage_kio
$LN9@damage_kio:
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000ba	83 c2 0c	 add	 edx, 12			; 0000000cH
  000bd	52		 push	 edx
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN10@damage_kio:
  000d5	6a 02		 push	 2
  000d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000dd	51		 push	 ecx
  000de	6b 55 b4 50	 imul	 edx, DWORD PTR tv85[ebp], 80
  000e2	8b 45 b0	 mov	 eax, DWORD PTR tv93[ebp]
  000e5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000ec	ff d1		 call	 ecx
  000ee	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1193 : 
; 1194 : 	ASSERT (inst3d);

  000f1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000f5	75 18		 jne	 SHORT $LN5@damage_kio
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000fc	83 c0 0e	 add	 eax, 14			; 0000000eH
  000ff	50		 push	 eax
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0010a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@damage_kio:

; 1195 : 
; 1196 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  0010f	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  00118	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1197 : 
; 1198 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_normal_inst3d, theta);

  0011b	51		 push	 ecx
  0011c	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00121	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012b	50		 push	 eax
  0012c	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1199 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_glass_inst3d, theta);

  00131	51		 push	 ecx
  00132	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00137	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00141	50		 push	 eax
  00142	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1200 : 
; 1201 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_normal_inst3d);

  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0014c	50		 push	 eax
  0014d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00153	51		 push	 ecx
  00154	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1202 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_glass_inst3d);

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0015e	50		 push	 eax
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1203 : 
; 1204 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_normal_inst3d, seed);

  0016b	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  0016e	50		 push	 eax
  0016f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00175	51		 push	 ecx
  00176	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1205 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_glass_inst3d, seed);

  0017b	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  0017e	50		 push	 eax
  0017f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00185	51		 push	 ecx
  00186	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1206 : }

  0018b	5f		 pop	 edi
  0018c	5e		 pop	 esi
  0018d	5b		 pop	 ebx
  0018e	8b e5		 mov	 esp, ebp
  00190	5d		 pop	 ebp
  00191	c2 04 00	 ret	 4
?damage_kiowa_virtual_cockpit_main_rotors@@YGXH@Z ENDP	; damage_kiowa_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z
_TEXT	SEGMENT
tv158 = -144						; size = 4
tv150 = -140						; size = 4
tv91 = -140						; size = 4
tv74 = -140						; size = 4
_position$ = -72					; size = 12
_search$ = -60						; size = 56
_index$ = -4						; size = 4
_mode$ = 8						; size = 4
?get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z PROC	; get_kiowa_display_viewpoint, COMDAT

; 1033 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 00 00
	00		 sub	 esp, 144		; 00000090H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1034 : 	object_3d_sub_object_index_numbers
; 1035 : 		index;
; 1036 : 
; 1037 : 	object_3d_sub_object_search_data
; 1038 : 		search;
; 1039 : 
; 1040 : 	vec3d
; 1041 : 		position;
; 1042 : 
; 1043 : 	ASSERT (get_gunship_entity ());

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00013	75 18		 jne	 SHORT $LN4@get_kiowa_
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  0001a	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@get_kiowa_:

; 1044 : 
; 1045 : 	ASSERT (virtual_cockpit_inst3d);

  0002d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d
  00034	75 18		 jne	 SHORT $LN5@get_kiowa_
  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  0003b	83 c0 0c	 add	 eax, 12			; 0000000cH
  0003e	50		 push	 eax
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@
  00049	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@get_kiowa_:

; 1046 : 
; 1047 : 	switch (mode)

  0004e	8b 45 08	 mov	 eax, DWORD PTR _mode$[ebp]
  00051	89 85 74 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], eax
  00057	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR tv74[ebp]
  0005d	83 e9 26	 sub	 ecx, 38			; 00000026H
  00060	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], ecx
  00066	83 bd 74 ff ff
	ff 03		 cmp	 DWORD PTR tv74[ebp], 3
  0006d	77 31		 ja	 SHORT $LN10@get_kiowa_
  0006f	8b 95 74 ff ff
	ff		 mov	 edx, DWORD PTR tv74[ebp]
  00075	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN20@get_kiowa_[edx*4]
$LN6@get_kiowa_:

; 1048 : 	{
; 1049 : 		////////////////////////////////////////
; 1050 : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 1051 : 		////////////////////////////////////////
; 1052 : 		{
; 1053 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_FL;

  0007c	c7 45 fc 93 00
	00 00		 mov	 DWORD PTR _index$[ebp], 147 ; 00000093H

; 1054 : 
; 1055 : 			break;

  00083	eb 2c		 jmp	 SHORT $LN2@get_kiowa_
$LN7@get_kiowa_:

; 1056 : 		}
; 1057 : 		////////////////////////////////////////
; 1058 : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 1059 : 		////////////////////////////////////////
; 1060 : 		{
; 1061 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_FR;

  00085	c7 45 fc 94 00
	00 00		 mov	 DWORD PTR _index$[ebp], 148 ; 00000094H

; 1062 : 
; 1063 : 			break;

  0008c	eb 23		 jmp	 SHORT $LN2@get_kiowa_
$LN8@get_kiowa_:

; 1064 : 		}
; 1065 : 		////////////////////////////////////////
; 1066 : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 1067 : 		////////////////////////////////////////
; 1068 : 		{
; 1069 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_RL;

  0008e	c7 45 fc 95 00
	00 00		 mov	 DWORD PTR _index$[ebp], 149 ; 00000095H

; 1070 : 
; 1071 : 			break;

  00095	eb 1a		 jmp	 SHORT $LN2@get_kiowa_
$LN9@get_kiowa_:

; 1072 : 		}
; 1073 : 		////////////////////////////////////////
; 1074 : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 1075 : 		////////////////////////////////////////
; 1076 : 		{
; 1077 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_RR;

  00097	c7 45 fc 96 00
	00 00		 mov	 DWORD PTR _index$[ebp], 150 ; 00000096H

; 1078 : 
; 1079 : 			break;

  0009e	eb 11		 jmp	 SHORT $LN2@get_kiowa_
$LN10@get_kiowa_:

; 1080 : 		}
; 1081 : 		////////////////////////////////////////
; 1082 : 		default:
; 1083 : 		////////////////////////////////////////
; 1084 : 		{
; 1085 : 			debug_fatal ("Invalid view mode = %d", mode);

  000a0	8b 45 08	 mov	 eax, DWORD PTR _mode$[ebp]
  000a3	50		 push	 eax
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
  000a9	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000ae	83 c4 08	 add	 esp, 8
$LN2@get_kiowa_:

; 1086 : 
; 1087 : 			break;
; 1088 : 		}
; 1089 : 	}
; 1090 : 
; 1091 : 	virtual_cockpit_inst3d->vp.x = 0.0;

  000b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000b6	0f 57 c0	 xorps	 xmm0, xmm0
  000b9	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 1092 : 	virtual_cockpit_inst3d->vp.y = 0.0;

  000be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000c3	0f 57 c0	 xorps	 xmm0, xmm0
  000c6	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 1093 : 	virtual_cockpit_inst3d->vp.z = 0.0;

  000cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000d0	0f 57 c0	 xorps	 xmm0, xmm0
  000d3	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 1094 : 
; 1095 : 	////////////////////////////////////////
; 1096 : 	//
; 1097 : 
; 1098 : 	#if DEBUG_MODULE_FINE_DISPLAY_CAMERA_POSITION_ADJUSTMENT
; 1099 : 
; 1100 : 	get_identity_matrix3x3 (virtual_cockpit_inst3d->vp.attitude);
; 1101 : 
; 1102 : 	#else
; 1103 : 
; 1104 : 	get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  000d8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000df	74 0f		 je	 SHORT $LN14@get_kiowa_
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000e6	8b 08		 mov	 ecx, DWORD PTR [eax]
  000e8	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv91[ebp], ecx
  000ee	eb 24		 jmp	 SHORT $LN15@get_kiowa_
$LN14@get_kiowa_:
  000f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  000f6	83 c2 47	 add	 edx, 71			; 00000047H
  000f9	52		 push	 edx
  000fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00104	50		 push	 eax
  00105	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0010a	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv91[ebp], 0
$LN15@get_kiowa_:
  00114	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0011a	83 c1 14	 add	 ecx, 20			; 00000014H
  0011d	51		 push	 ecx
  0011e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00124	52		 push	 edx
  00125	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR tv91[ebp]
  0012b	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  00132	ff d1		 call	 ecx

; 1105 : 
; 1106 : 	#endif
; 1107 : 
; 1108 : 	//
; 1109 : 	////////////////////////////////////////
; 1110 : 
; 1111 : 	search.search_depth = 0;

  00134	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1112 : 	search.search_object = virtual_cockpit_inst3d;

  0013b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00140	89 45 c4	 mov	 DWORD PTR _search$[ebp], eax

; 1113 : 	search.sub_object_index = index;

  00143	8b 45 fc	 mov	 eax, DWORD PTR _index$[ebp]
  00146	89 45 d0	 mov	 DWORD PTR _search$[ebp+12], eax

; 1114 : 
; 1115 : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00149	8d 45 c4	 lea	 eax, DWORD PTR _search$[ebp]
  0014c	50		 push	 eax
  0014d	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00152	83 f8 01	 cmp	 eax, 1
  00155	75 10		 jne	 SHORT $LN11@get_kiowa_

; 1116 : 	{
; 1117 : 		get_3d_sub_object_world_viewpoint (search.result_sub_object, &main_vp);

  00157	68 00 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A ; main_vp
  0015c	8b 45 c8	 mov	 eax, DWORD PTR _search$[ebp+4]
  0015f	50		 push	 eax
  00160	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 1118 : 	}
; 1119 : 	else

  00165	eb 0d		 jmp	 SHORT $LN12@get_kiowa_
$LN11@get_kiowa_:

; 1120 : 	{
; 1121 : 		debug_fatal ("Failed to locate display viewpoint in virtual cockpit");

  00167	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
  0016c	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00171	83 c4 04	 add	 esp, 4
$LN12@get_kiowa_:

; 1122 : 	}
; 1123 : 
; 1124 : 	position.x = -main_vp.x;

  00174	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A
  0017c	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00183	f3 0f 11 45 b8	 movss	 DWORD PTR _position$[ebp], xmm0

; 1125 : 	position.y = -main_vp.y;

  00188	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4
  00190	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00197	f3 0f 11 45 bc	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1126 : 	position.z = -main_vp.z;

  0019c	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8
  001a4	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  001ab	f3 0f 11 45 c0	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 1127 : 
; 1128 : 	////////////////////////////////////////
; 1129 : 	//
; 1130 : 
; 1131 : 	#if DEBUG_MODULE_FINE_DISPLAY_CAMERA_POSITION_ADJUSTMENT
; 1132 : 	{
; 1133 : 		static float
; 1134 : 			z_offset = 0.0;
; 1135 : 
; 1136 : 		float
; 1137 : 			dx,
; 1138 : 			dy,
; 1139 : 			dz;
; 1140 : 
; 1141 : 		if (check_key (DIK_Q))
; 1142 : 		{
; 1143 : 			z_offset -= 0.0001;
; 1144 : 		}
; 1145 : 
; 1146 : 		if (check_key (DIK_A))
; 1147 : 		{
; 1148 : 			z_offset += 0.0001;
; 1149 : 		}
; 1150 : 
; 1151 : 		dx = main_vp.zv.x * z_offset;
; 1152 : 		dy = main_vp.zv.y * z_offset;
; 1153 : 		dz = main_vp.zv.z * z_offset;
; 1154 : 
; 1155 : 		position.x += dx;
; 1156 : 		position.y += dy;
; 1157 : 		position.z += dz;
; 1158 : 
; 1159 : 		debug_filtered_log ("offset=%.6f x=%.6f y=%.6f z=%.6f", z_offset, position.x, position.y, position.z);
; 1160 : 	}
; 1161 : 	#endif
; 1162 : 
; 1163 : 	//
; 1164 : 	////////////////////////////////////////
; 1165 : 
; 1166 : 	multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, main_vp.attitude, &position);

  001b0	8d 45 b8	 lea	 eax, DWORD PTR _position$[ebp]
  001b3	50		 push	 eax
  001b4	68 0c 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A+12
  001b9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001bf	83 c1 08	 add	 ecx, 8
  001c2	51		 push	 ecx
  001c3	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 1167 : 
; 1168 : 	get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &position);

  001c8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001cf	74 0f		 je	 SHORT $LN16@get_kiowa_
  001d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001d6	8b 08		 mov	 ecx, DWORD PTR [eax]
  001d8	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv150[ebp], ecx
  001de	eb 27		 jmp	 SHORT $LN17@get_kiowa_
$LN16@get_kiowa_:
  001e0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  001e6	81 c2 87 00 00
	00		 add	 edx, 135		; 00000087H
  001ec	52		 push	 edx
  001ed	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001f7	50		 push	 eax
  001f8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001fd	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv150[ebp], 0
$LN17@get_kiowa_:
  00207	b9 01 00 00 00	 mov	 ecx, 1
  0020c	85 c9		 test	 ecx, ecx
  0020e	74 0c		 je	 SHORT $LN18@get_kiowa_
  00210	c7 85 70 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv158[ebp], 8
  0021a	eb 27		 jmp	 SHORT $LN19@get_kiowa_
$LN18@get_kiowa_:
  0021c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  00222	81 c2 87 00 00
	00		 add	 edx, 135		; 00000087H
  00228	52		 push	 edx
  00229	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0022e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00233	50		 push	 eax
  00234	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00239	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv158[ebp], 0
$LN19@get_kiowa_:
  00243	8d 4d b8	 lea	 ecx, DWORD PTR _position$[ebp]
  00246	51		 push	 ecx
  00247	6a 08		 push	 8
  00249	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0024f	52		 push	 edx
  00250	6b 85 74 ff ff
	ff 60		 imul	 eax, DWORD PTR tv150[ebp], 96
  00257	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR tv158[ebp]
  0025d	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00264	ff d2		 call	 edx

; 1169 : 
; 1170 : 	main_vp.x += position.x;

  00266	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A
  0026e	f3 0f 58 45 b8	 addss	 xmm0, DWORD PTR _position$[ebp]
  00273	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A, xmm0

; 1171 : 	main_vp.y += position.y;

  0027b	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4
  00283	f3 0f 58 45 bc	 addss	 xmm0, DWORD PTR _position$[ebp+4]
  00288	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4, xmm0

; 1172 : 	main_vp.z += position.z;

  00290	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8
  00298	f3 0f 58 45 c0	 addss	 xmm0, DWORD PTR _position$[ebp+8]
  0029d	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8, xmm0

; 1173 : }

  002a5	5f		 pop	 edi
  002a6	5e		 pop	 esi
  002a7	5b		 pop	 ebx
  002a8	8b e5		 mov	 esp, ebp
  002aa	5d		 pop	 ebp
  002ab	c2 04 00	 ret	 4
  002ae	66 90		 npad	 2
$LN20@get_kiowa_:
  002b0	00 00 00 00	 DD	 $LN6@get_kiowa_
  002b4	00 00 00 00	 DD	 $LN7@get_kiowa_
  002b8	00 00 00 00	 DD	 $LN8@get_kiowa_
  002bc	00 00 00 00	 DD	 $LN9@get_kiowa_
?get_kiowa_display_viewpoint@@YGXW4VIEW_MODES@@@Z ENDP	; get_kiowa_display_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?get_kiowa_crew_viewpoint@@YGXXZ
_TEXT	SEGMENT
tv309 = -296						; size = 8
tv172 = -296						; size = 4
tv76 = -296						; size = 4
tv164 = -292						; size = 4
tv149 = -292						; size = 4
tv69 = -292						; size = 4
_shiftWorld$1 = -224					; size = 12
_shiftVP$2 = -212					; size = 12
_invAttitude$3 = -200					; size = 36
_head_pitch_datum$ = -164				; size = 4
_vp$ = -160						; size = 48
_search_viewpoint$ = -112				; size = 56
_search_head$ = -56					; size = 56
?get_kiowa_crew_viewpoint@@YGXXZ PROC			; get_kiowa_crew_viewpoint, COMDAT

; 905  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 28 01 00
	00		 sub	 esp, 296		; 00000128H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 906  : 	object_3d_sub_object_search_data
; 907  : 		search_head,
; 908  : 		search_viewpoint;
; 909  : 
; 910  : 	viewpoint
; 911  : 		vp;
; 912  : 
; 913  : 	float
; 914  : 		head_pitch_datum;
; 915  : 
; 916  : 	//
; 917  : 	// select head
; 918  : 	//
; 919  : 
; 920  : 	if (get_local_entity_int_value (get_pilot_entity (), INT_TYPE_CREW_ROLE) == CREW_ROLE_PILOT)

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pilot_entity@@3PAUENTITY@@A, 0 ; pilot_entity
  00013	74 0f		 je	 SHORT $LN13@get_kiowa_
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pilot_entity@@3PAUENTITY@@A ; pilot_entity
  0001a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001c	89 8d dc fe ff
	ff		 mov	 DWORD PTR tv69[ebp], ecx
  00022	eb 20		 jmp	 SHORT $LN14@get_kiowa_
$LN13@get_kiowa_:
  00024	68 98 03 00 00	 push	 920			; 00000398H
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	52		 push	 edx
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv69[ebp], 0
$LN14@get_kiowa_:
  00044	b8 01 00 00 00	 mov	 eax, 1
  00049	85 c0		 test	 eax, eax
  0004b	74 0c		 je	 SHORT $LN15@get_kiowa_
  0004d	c7 85 d8 fe ff
	ff 23 00 00 00	 mov	 DWORD PTR tv76[ebp], 35	; 00000023H
  00057	eb 20		 jmp	 SHORT $LN16@get_kiowa_
$LN15@get_kiowa_:
  00059	68 98 03 00 00	 push	 920			; 00000398H
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00069	51		 push	 ecx
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 85 d8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv76[ebp], 0
$LN16@get_kiowa_:
  00079	6a 23		 push	 35			; 00000023H
  0007b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pilot_entity@@3PAUENTITY@@A ; pilot_entity
  00081	52		 push	 edx
  00082	69 85 dc fe ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv69[ebp], 1116
  0008c	8b 8d d8 fe ff
	ff		 mov	 ecx, DWORD PTR tv76[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	85 c0		 test	 eax, eax
  0009d	75 20		 jne	 SHORT $LN2@get_kiowa_

; 921  : 	{
; 922  : 		search_head.sub_object_index = OBJECT_3D_SUB_OBJECT_PILOT_HEAD;

  0009f	c7 45 d4 bf 00
	00 00		 mov	 DWORD PTR _search_head$[ebp+12], 191 ; 000000bfH

; 923  : 
; 924  : 		search_viewpoint.sub_object_index = OBJECT_3D_SUB_OBJECT_PILOT_VIEWPOINT;

  000a6	c7 45 9c c0 00
	00 00		 mov	 DWORD PTR _search_viewpoint$[ebp+12], 192 ; 000000c0H

; 925  : 
; 926  : 		head_pitch_datum = pilot_head_pitch_datum;

  000ad	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch_datum@@3MA
  000b5	f3 0f 11 85 5c
	ff ff ff	 movss	 DWORD PTR _head_pitch_datum$[ebp], xmm0

; 927  : 	}
; 928  : 	else

  000bd	eb 1e		 jmp	 SHORT $LN3@get_kiowa_
$LN2@get_kiowa_:

; 929  : 	{
; 930  : 		search_head.sub_object_index = OBJECT_3D_SUB_OBJECT_WSO_HEAD;

  000bf	c7 45 d4 ad 00
	00 00		 mov	 DWORD PTR _search_head$[ebp+12], 173 ; 000000adH

; 931  : 
; 932  : 		search_viewpoint.sub_object_index = OBJECT_3D_SUB_OBJECT_WSO_VIEWPOINT;

  000c6	c7 45 9c af 00
	00 00		 mov	 DWORD PTR _search_viewpoint$[ebp+12], 175 ; 000000afH

; 933  : 
; 934  : 		head_pitch_datum = co_pilot_head_pitch_datum;

  000cd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?co_pilot_head_pitch_datum@@3MA
  000d5	f3 0f 11 85 5c
	ff ff ff	 movss	 DWORD PTR _head_pitch_datum$[ebp], xmm0
$LN3@get_kiowa_:

; 935  : 	}
; 936  : 
; 937  : 	//
; 938  : 	// rotate head
; 939  : 	//
; 940  : 
; 941  : 	search_head.search_depth = 0;

  000dd	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search_head$[ebp+8], 0

; 942  : 	search_head.search_object = virtual_cockpit_inst3d;

  000e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000e9	89 45 c8	 mov	 DWORD PTR _search_head$[ebp], eax

; 943  : 
; 944  : 	if (find_object_3d_sub_object (&search_head) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  000ec	8d 45 c8	 lea	 eax, DWORD PTR _search_head$[ebp]
  000ef	50		 push	 eax
  000f0	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  000f5	83 f8 01	 cmp	 eax, 1
  000f8	0f 85 88 00 00
	00		 jne	 $LN4@get_kiowa_

; 945  : 	{
; 946  : 		search_head.result_sub_object->relative_heading = -pilot_head_heading;

  000fe	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_heading@@3MA
  00106	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0010d	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  00110	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 947  : 		search_head.result_sub_object->relative_pitch = head_pitch_datum - pilot_head_pitch;

  00115	f3 0f 10 85 5c
	ff ff ff	 movss	 xmm0, DWORD PTR _head_pitch_datum$[ebp]
  0011d	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?pilot_head_pitch@@3MA
  00125	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  00128	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 948  : 
; 949  : 		if ((command_line_TIR_6DOF == TRUE)&&(query_TIR_active() == TRUE))	// Retro 6Feb2005

  0012d	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  00134	75 43		 jne	 SHORT $LN6@get_kiowa_
  00136	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  0013b	83 f8 01	 cmp	 eax, 1
  0013e	75 39		 jne	 SHORT $LN6@get_kiowa_

; 950  : 			search_head.result_sub_object->relative_roll = TIR_GetRoll() / 16383. * PI / 2.;	// Retro 6Feb2005

  00140	e8 00 00 00 00	 call	 ?TIR_GetRoll@@YGMXZ	; TIR_GetRoll
  00145	dd 9d d8 fe ff
	ff		 fstp	 QWORD PTR tv309[ebp]
  0014b	f2 0f 10 85 d8
	fe ff ff	 movsd	 xmm0, QWORD PTR tv309[ebp]
  00153	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@40cfff8000000000
  0015b	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@400921fb60000000
  00163	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@4000000000000000
  0016b	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0016f	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  00172	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0

; 951  : 		else

  00177	eb 0b		 jmp	 SHORT $LN7@get_kiowa_
$LN6@get_kiowa_:

; 952  : 			search_head.result_sub_object->relative_roll = 0.0;

  00179	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  0017c	0f 57 c0	 xorps	 xmm0, xmm0
  0017f	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN7@get_kiowa_:

; 953  : 	}
; 954  : 	else

  00184	eb 0d		 jmp	 SHORT $LN5@get_kiowa_
$LN4@get_kiowa_:

; 955  : 	{
; 956  : 		debug_fatal ("Failed to locate crew's head in virtual cockpit");

  00186	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@
  0018b	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00190	83 c4 04	 add	 esp, 4
$LN5@get_kiowa_:

; 957  : 	}
; 958  : 
; 959  : 	//
; 960  : 	// get viewpoint (avoid jitter)
; 961  : 	//
; 962  : 
; 963  : 	search_viewpoint.search_object = virtual_cockpit_inst3d;

  00193	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00198	89 45 90	 mov	 DWORD PTR _search_viewpoint$[ebp], eax

; 964  : 	search_viewpoint.search_depth = 0;

  0019b	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _search_viewpoint$[ebp+8], 0

; 965  : 
; 966  : 	if (find_object_3d_sub_object (&search_viewpoint) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  001a2	8d 45 90	 lea	 eax, DWORD PTR _search_viewpoint$[ebp]
  001a5	50		 push	 eax
  001a6	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  001ab	83 f8 01	 cmp	 eax, 1
  001ae	0f 85 16 03 00
	00		 jne	 $LN8@get_kiowa_

; 967  : 	{
; 968  : 		virtual_cockpit_inst3d->vp.x = 0.0;

  001b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001b9	0f 57 c0	 xorps	 xmm0, xmm0
  001bc	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 969  : 		virtual_cockpit_inst3d->vp.y = 0.0;

  001c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001c6	0f 57 c0	 xorps	 xmm0, xmm0
  001c9	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 970  : 		virtual_cockpit_inst3d->vp.z = 0.0;

  001ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001d3	0f 57 c0	 xorps	 xmm0, xmm0
  001d6	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 971  : 
; 972  : 		get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  001db	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001e2	74 0f		 je	 SHORT $LN17@get_kiowa_
  001e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001e9	8b 08		 mov	 ecx, DWORD PTR [eax]
  001eb	89 8d dc fe ff
	ff		 mov	 DWORD PTR tv149[ebp], ecx
  001f1	eb 24		 jmp	 SHORT $LN18@get_kiowa_
$LN17@get_kiowa_:
  001f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_kiowa_crew_viewpoint@@YGXXZ@4JA
  001f9	83 c2 43	 add	 edx, 67			; 00000043H
  001fc	52		 push	 edx
  001fd	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00202	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00207	50		 push	 eax
  00208	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0020d	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv149[ebp], 0
$LN18@get_kiowa_:
  00217	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0021d	83 c1 14	 add	 ecx, 20			; 00000014H
  00220	51		 push	 ecx
  00221	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00227	52		 push	 edx
  00228	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR tv149[ebp]
  0022e	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  00235	ff d1		 call	 ecx

; 973  : 
; 974  : 		get_3d_sub_object_world_viewpoint (search_viewpoint.result_sub_object, &vp);

  00237	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp]
  0023d	50		 push	 eax
  0023e	8b 4d 94	 mov	 ecx, DWORD PTR _search_viewpoint$[ebp+4]
  00241	51		 push	 ecx
  00242	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 975  : 
; 976  : 		get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &pilot_head_vp.position);

  00247	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0024e	74 0f		 je	 SHORT $LN19@get_kiowa_
  00250	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00255	8b 08		 mov	 ecx, DWORD PTR [eax]
  00257	89 8d dc fe ff
	ff		 mov	 DWORD PTR tv164[ebp], ecx
  0025d	eb 24		 jmp	 SHORT $LN20@get_kiowa_
$LN19@get_kiowa_:
  0025f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_kiowa_crew_viewpoint@@YGXXZ@4JA
  00265	83 c2 47	 add	 edx, 71			; 00000047H
  00268	52		 push	 edx
  00269	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00273	50		 push	 eax
  00274	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00279	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv164[ebp], 0
$LN20@get_kiowa_:
  00283	b9 01 00 00 00	 mov	 ecx, 1
  00288	85 c9		 test	 ecx, ecx
  0028a	74 0c		 je	 SHORT $LN21@get_kiowa_
  0028c	c7 85 d8 fe ff
	ff 08 00 00 00	 mov	 DWORD PTR tv172[ebp], 8
  00296	eb 24		 jmp	 SHORT $LN22@get_kiowa_
$LN21@get_kiowa_:
  00298	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_kiowa_crew_viewpoint@@YGXXZ@4JA
  0029e	83 c2 47	 add	 edx, 71			; 00000047H
  002a1	52		 push	 edx
  002a2	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  002a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  002ac	50		 push	 eax
  002ad	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b2	c7 85 d8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv172[ebp], 0
$LN22@get_kiowa_:
  002bc	68 00 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A ; pilot_head_vp
  002c1	6a 08		 push	 8
  002c3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002c9	51		 push	 ecx
  002ca	6b 95 dc fe ff
	ff 60		 imul	 edx, DWORD PTR tv164[ebp], 96
  002d1	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR tv172[ebp]
  002d7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[edx+eax*4]
  002de	ff d1		 call	 ecx

; 977  : 
; 978  : 		pilot_head_vp.x += vp.x;

  002e0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A
  002e8	f3 0f 58 85 60
	ff ff ff	 addss	 xmm0, DWORD PTR _vp$[ebp]
  002f0	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A, xmm0

; 979  : 		pilot_head_vp.y += vp.y;

  002f8	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4
  00300	f3 0f 58 85 64
	ff ff ff	 addss	 xmm0, DWORD PTR _vp$[ebp+4]
  00308	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4, xmm0

; 980  : 		pilot_head_vp.z += vp.z;

  00310	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8
  00318	f3 0f 58 85 68
	ff ff ff	 addss	 xmm0, DWORD PTR _vp$[ebp+8]
  00320	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8, xmm0

; 981  : 
; 982  : 		if ((command_line_TIR_6DOF == TRUE)&&(query_TIR_active() == TRUE))	// Retro 6Feb2005 (whole block)

  00328	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  0032f	0f 85 b3 00 00
	00		 jne	 $LN10@get_kiowa_
  00335	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  0033a	83 f8 01	 cmp	 eax, 1
  0033d	0f 85 a5 00 00
	00		 jne	 $LN10@get_kiowa_

; 983  : 		{
; 984  : 			matrix3x3 invAttitude;
; 985  : 			vec3d
; 986  : 				shiftVP, shiftWorld;
; 987  : 
; 988  : 			// First lets find out the displacement the user wants.. this is in the user's viewsystem coords !!
; 989  : 			// Now store this info in a temp vect3d..
; 990  : 			shiftVP.x = current_custom_cockpit_viewpoint.x;

  00343	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A
  0034b	f3 0f 11 85 2c
	ff ff ff	 movss	 DWORD PTR _shiftVP$2[ebp], xmm0

; 991  : 			shiftVP.y = current_custom_cockpit_viewpoint.y;

  00353	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+4
  0035b	f3 0f 11 85 30
	ff ff ff	 movss	 DWORD PTR _shiftVP$2[ebp+4], xmm0

; 992  : 			shiftVP.z = current_custom_cockpit_viewpoint.z;

  00363	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+8
  0036b	f3 0f 11 85 34
	ff ff ff	 movss	 DWORD PTR _shiftVP$2[ebp+8], xmm0

; 993  : 
; 994  : 			// Now we need to convert our vec3d into world coords.. for this we need the inverse of the viewpoint attitude matrix..
; 995  : 			get_inverse_matrix (invAttitude, vp.attitude);

  00373	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp+12]
  00379	50		 push	 eax
  0037a	8d 8d 38 ff ff
	ff		 lea	 ecx, DWORD PTR _invAttitude$3[ebp]
  00380	51		 push	 ecx
  00381	e8 00 00 00 00	 call	 ?get_inverse_matrix@@YGXQAY02MQAY02$$CBM@Z ; get_inverse_matrix

; 996  : 			// And rotate ! Voila, the result vec3d is now in world coords..
; 997  : 			multiply_transpose_matrix3x3_vec3d (&shiftWorld, invAttitude, &shiftVP);

  00386	8d 85 2c ff ff
	ff		 lea	 eax, DWORD PTR _shiftVP$2[ebp]
  0038c	50		 push	 eax
  0038d	8d 8d 38 ff ff
	ff		 lea	 ecx, DWORD PTR _invAttitude$3[ebp]
  00393	51		 push	 ecx
  00394	8d 95 20 ff ff
	ff		 lea	 edx, DWORD PTR _shiftWorld$1[ebp]
  0039a	52		 push	 edx
  0039b	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 998  : 			// Now apply that displacement.. BUT ONLY TO THE HEAD !!
; 999  : 			pilot_head_vp.x -= shiftWorld.x;

  003a0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A
  003a8	f3 0f 5c 85 20
	ff ff ff	 subss	 xmm0, DWORD PTR _shiftWorld$1[ebp]
  003b0	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A, xmm0

; 1000 : 			pilot_head_vp.y -= shiftWorld.y;

  003b8	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4
  003c0	f3 0f 5c 85 24
	ff ff ff	 subss	 xmm0, DWORD PTR _shiftWorld$1[ebp+4]
  003c8	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4, xmm0

; 1001 : 			pilot_head_vp.z -= shiftWorld.z;

  003d0	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8
  003d8	f3 0f 5c 85 28
	ff ff ff	 subss	 xmm0, DWORD PTR _shiftWorld$1[ebp+8]
  003e0	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8, xmm0
$LN10@get_kiowa_:

; 1002 : 		}
; 1003 : 
; 1004 : 		memcpy (pilot_head_vp.attitude, vp.attitude, sizeof (matrix3x3));

  003e8	6a 24		 push	 36			; 00000024H
  003ea	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp+12]
  003f0	50		 push	 eax
  003f1	68 0c 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A+12
  003f6	e8 00 00 00 00	 call	 _memcpy
  003fb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1005 : 
; 1006 : 		vp.x = -vp.x;

  003fe	f3 0f 10 85 60
	ff ff ff	 movss	 xmm0, DWORD PTR _vp$[ebp]
  00406	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0040d	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1007 : 		vp.y = -vp.y;

  00415	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR _vp$[ebp+4]
  0041d	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00424	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1008 : 		vp.z = -vp.z;

  0042c	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR _vp$[ebp+8]
  00434	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0043b	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1009 : 
; 1010 : 		multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, pilot_head_vp.attitude, &vp.position);

  00443	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp]
  00449	50		 push	 eax
  0044a	68 0c 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A+12
  0044f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00455	83 c1 08	 add	 ecx, 8
  00458	51		 push	 ecx
  00459	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 1011 : 
; 1012 : 		if ((command_line_TIR_6DOF == TRUE)&&(query_TIR_active() == TRUE))	// Retro 6Feb2005 (whole block)

  0045e	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  00465	75 61		 jne	 SHORT $LN11@get_kiowa_
  00467	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  0046c	83 f8 01	 cmp	 eax, 1
  0046f	75 57		 jne	 SHORT $LN11@get_kiowa_

; 1013 : 		{
; 1014 : 			// Now shift the viewpoint (AND the model) by the positive displacement.. puts the cockpit back were it belongs..
; 1015 : 			// but the viewpoint (the head) is in another place.. fini
; 1016 : 			virtual_cockpit_inst3d->vp.x += current_custom_cockpit_viewpoint.x;

  00471	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00476	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  0047b	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A
  00483	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00489	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 1017 : 			virtual_cockpit_inst3d->vp.y += current_custom_cockpit_viewpoint.y;

  0048e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00493	f3 0f 10 40 0c	 movss	 xmm0, DWORD PTR [eax+12]
  00498	f3 0f 58 05 04
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+4
  004a0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  004a6	f3 0f 11 41 0c	 movss	 DWORD PTR [ecx+12], xmm0

; 1018 : 			virtual_cockpit_inst3d->vp.z += current_custom_cockpit_viewpoint.z;

  004ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  004b0	f3 0f 10 40 10	 movss	 xmm0, DWORD PTR [eax+16]
  004b5	f3 0f 58 05 08
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+8
  004bd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  004c3	f3 0f 11 41 10	 movss	 DWORD PTR [ecx+16], xmm0
$LN11@get_kiowa_:

; 1019 : 		}
; 1020 : 
; 1021 : 	}
; 1022 : 	else

  004c8	eb 0d		 jmp	 SHORT $LN9@get_kiowa_
$LN8@get_kiowa_:

; 1023 : 	{
; 1024 : 		debug_fatal ("Failed to locate crew's viewpoint in virtual cockpit");

  004ca	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@
  004cf	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  004d4	83 c4 04	 add	 esp, 4
$LN9@get_kiowa_:

; 1025 : 	}
; 1026 : }

  004d7	5f		 pop	 edi
  004d8	5e		 pop	 esi
  004d9	5b		 pop	 ebx
  004da	8b e5		 mov	 esp, ebp
  004dc	5d		 pop	 ebp
  004dd	c3		 ret	 0
?get_kiowa_crew_viewpoint@@YGXXZ ENDP			; get_kiowa_crew_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?draw_kiowa_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
tv300 = -264						; size = 8
tv274 = -264						; size = 8
tv382 = -256						; size = 4
tv301 = -256						; size = 8
tv275 = -256						; size = 8
tv139 = -256						; size = 4
tv81 = -256						; size = 4
tv375 = -252						; size = 4
tv131 = -252						; size = 4
tv74 = -252						; size = 4
tv64 = -252						; size = 4
_seconds$1 = -184					; size = 4
_minutes$2 = -180					; size = 4
_hours$3 = -176						; size = 4
_roll$4 = -172						; size = 4
_pitch$5 = -168						; size = 4
_heading$6 = -164					; size = 4
_m2$7 = -160						; size = 36
_m1$8 = -124						; size = 36
_direction$9 = -88					; size = 12
_cockpit_light$10 = -76					; size = 4
_display_backlight$11 = -72				; size = 4
_search$ = -68						; size = 56
_inst3d$ = -12						; size = 4
_theta$ = -8						; size = 4
_draw_main_rotors$ = -4					; size = 4
?draw_kiowa_virtual_cockpit@@YGXXZ PROC			; draw_kiowa_virtual_cockpit, COMDAT

; 472  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 473  : 	int
; 474  : 		draw_main_rotors;
; 475  : 
; 476  : 	float
; 477  : 		theta;
; 478  : 
; 479  : 	object_3d_instance
; 480  : 		*inst3d;
; 481  : 
; 482  : 	object_3d_sub_object_search_data
; 483  : 		search;
; 484  : 
; 485  : 	switch (get_view_mode ())

  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  00011	89 85 04 ff ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  00017	83 bd 04 ff ff
	ff 23		 cmp	 DWORD PTR tv64[ebp], 35	; 00000023H
  0001e	74 14		 je	 SHORT $LN4@draw_kiowa
  00020	83 bd 04 ff ff
	ff 25		 cmp	 DWORD PTR tv64[ebp], 37	; 00000025H
  00027	7e 0d		 jle	 SHORT $LN5@draw_kiowa
  00029	83 bd 04 ff ff
	ff 29		 cmp	 DWORD PTR tv64[ebp], 41	; 00000029H
  00030	7e 02		 jle	 SHORT $LN4@draw_kiowa
  00032	eb 02		 jmp	 SHORT $LN5@draw_kiowa
$LN4@draw_kiowa:

; 486  : 	{
; 487  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CREW:
; 488  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 489  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 490  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 491  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 492  : 		{
; 493  : 			break;

  00034	eb 0e		 jmp	 SHORT $LN2@draw_kiowa
$LN5@draw_kiowa:

; 494  : 		}
; 495  : 		default:
; 496  : 		{
; 497  : 			if (!get_global_draw_cockpit_graphics ())

  00036	83 3d b8 01 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+440, 0
  0003d	75 05		 jne	 SHORT $LN6@draw_kiowa

; 498  : 			{
; 499  : 				return;

  0003f	e9 6b 0d 00 00	 jmp	 $LN1@draw_kiowa
$LN6@draw_kiowa:
$LN2@draw_kiowa:

; 500  : 			}
; 501  : 
; 502  : 			break;
; 503  : 		}
; 504  : 	}
; 505  : 
; 506  : 	//
; 507  : 	// lamps
; 508  : 	//
; 509  : 
; 510  : 	draw_kiowa_virtual_cockpit_lamps ();

  00044	e8 00 00 00 00	 call	 ?draw_kiowa_virtual_cockpit_lamps@@YGXXZ ; draw_kiowa_virtual_cockpit_lamps

; 511  : 
; 512  : 	//
; 513  : 	// crew animation
; 514  : 	//
; 515  : 
; 516  : 	set_kiowa_crew_head_positions ();

  00049	e8 00 00 00 00	 call	 ?set_kiowa_crew_head_positions@@YGXXZ ; set_kiowa_crew_head_positions

; 517  : 
; 518  : 	//
; 519  : 	// animate main rotors
; 520  : 	//
; 521  : 
; 522  : 	if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_MAIN_ROTOR_DAMAGED))

  0004e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00055	74 0f		 je	 SHORT $LN36@draw_kiowa
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0005c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005e	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], ecx
  00064	eb 20		 jmp	 SHORT $LN37@draw_kiowa
$LN36@draw_kiowa:
  00066	68 0a 02 00 00	 push	 522			; 0000020aH
  0006b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00070	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00076	52		 push	 edx
  00077	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007c	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv74[ebp], 0
$LN37@draw_kiowa:
  00086	b8 01 00 00 00	 mov	 eax, 1
  0008b	85 c0		 test	 eax, eax
  0008d	74 0c		 je	 SHORT $LN38@draw_kiowa
  0008f	c7 85 00 ff ff
	ff 81 00 00 00	 mov	 DWORD PTR tv81[ebp], 129 ; 00000081H
  00099	eb 20		 jmp	 SHORT $LN39@draw_kiowa
$LN38@draw_kiowa:
  0009b	68 0a 02 00 00	 push	 522			; 0000020aH
  000a0	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000ab	51		 push	 ecx
  000ac	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b1	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv81[ebp], 0
$LN39@draw_kiowa:
  000bb	68 81 00 00 00	 push	 129			; 00000081H
  000c0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000c6	52		 push	 edx
  000c7	69 85 04 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv74[ebp], 1116
  000d1	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv81[ebp]
  000d7	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  000de	ff d2		 call	 edx
  000e0	85 c0		 test	 eax, eax
  000e2	74 0f		 je	 SHORT $LN7@draw_kiowa

; 523  : 	{
; 524  : 		animate_damaged_helicopter_main_rotors (get_gunship_entity (), TRUE);

  000e4	6a 01		 push	 1
  000e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000eb	50		 push	 eax
  000ec	e8 00 00 00 00	 call	 ?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z ; animate_damaged_helicopter_main_rotors

; 525  : 	}
; 526  : 	else

  000f1	eb 0f		 jmp	 SHORT $LN8@draw_kiowa
$LN7@draw_kiowa:

; 527  : 	{
; 528  : 		animate_helicopter_main_rotors (get_gunship_entity (), TRUE, FALSE);

  000f3	6a 00		 push	 0
  000f5	6a 01		 push	 1
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000fc	50		 push	 eax
  000fd	e8 00 00 00 00	 call	 ?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z ; animate_helicopter_main_rotors
$LN8@draw_kiowa:

; 529  : 	}
; 530  : 
; 531  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  00102	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00109	74 0f		 je	 SHORT $LN40@draw_kiowa
  0010b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00110	8b 08		 mov	 ecx, DWORD PTR [eax]
  00112	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv131[ebp], ecx
  00118	eb 24		 jmp	 SHORT $LN41@draw_kiowa
$LN40@draw_kiowa:
  0011a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_kiowa_virtual_cockpit@@YGXXZ@4JA
  00120	83 c2 3b	 add	 edx, 59			; 0000003bH
  00123	52		 push	 edx
  00124	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00129	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0012e	50		 push	 eax
  0012f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00134	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv131[ebp], 0
$LN41@draw_kiowa:
  0013e	b9 01 00 00 00	 mov	 ecx, 1
  00143	85 c9		 test	 ecx, ecx
  00145	74 0c		 je	 SHORT $LN42@draw_kiowa
  00147	c7 85 00 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv139[ebp], 2
  00151	eb 24		 jmp	 SHORT $LN43@draw_kiowa
$LN42@draw_kiowa:
  00153	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_kiowa_virtual_cockpit@@YGXXZ@4JA
  00159	83 c2 3b	 add	 edx, 59			; 0000003bH
  0015c	52		 push	 edx
  0015d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00162	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00167	50		 push	 eax
  00168	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0016d	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv139[ebp], 0
$LN43@draw_kiowa:
  00177	6a 02		 push	 2
  00179	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0017f	51		 push	 ecx
  00180	6b 95 04 ff ff
	ff 50		 imul	 edx, DWORD PTR tv131[ebp], 80
  00187	8b 85 00 ff ff
	ff		 mov	 eax, DWORD PTR tv139[ebp]
  0018d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00194	ff d1		 call	 ecx
  00196	89 45 f4	 mov	 DWORD PTR _inst3d$[ebp], eax

; 532  : 
; 533  : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  00199	8b 45 f4	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0019c	50		 push	 eax
  0019d	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  001a2	d9 5d f8	 fstp	 DWORD PTR _theta$[ebp]

; 534  : 
; 535  : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d, theta);

  001a5	51		 push	 ecx
  001a6	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _theta$[ebp]
  001ab	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001b5	50		 push	 eax
  001b6	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 536  : 
; 537  : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d);

  001bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001c0	50		 push	 eax
  001c1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c7	51		 push	 ecx
  001c8	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 538  : 
; 539  : 	draw_main_rotors = TRUE;

  001cd	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _draw_main_rotors$[ebp], 1

; 540  : 
; 541  : 	if (get_global_glass_cockpit ())

  001d4	83 3d 68 03 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+872, 0
  001db	74 09		 je	 SHORT $LN9@draw_kiowa

; 542  : 	{
; 543  : 		draw_main_rotors = FALSE;

  001dd	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _draw_main_rotors$[ebp], 0

; 544  : 	}
; 545  : 	else

  001e4	eb 28		 jmp	 SHORT $LN13@draw_kiowa
$LN9@draw_kiowa:

; 546  : 	{
; 547  : 		if (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CREW)

  001e6	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  001ed	74 1f		 je	 SHORT $LN13@draw_kiowa

; 548  : 		{
; 549  : 			if (get_helicopter_main_rotors_blurred (get_gunship_entity ()))

  001ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001f4	50		 push	 eax
  001f5	e8 00 00 00 00	 call	 ?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z ; get_helicopter_main_rotors_blurred
  001fa	85 c0		 test	 eax, eax
  001fc	74 10		 je	 SHORT $LN13@draw_kiowa

; 550  : 			{
; 551  : 				if (!get_global_blurred_main_rotors_visible_from_cockpit ())

  001fe	83 3d 1c 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+28, 0
  00205	75 07		 jne	 SHORT $LN13@draw_kiowa

; 552  : 				{
; 553  : 					draw_main_rotors = FALSE;

  00207	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _draw_main_rotors$[ebp], 0
$LN13@draw_kiowa:

; 554  : 				}
; 555  : 			}
; 556  : 		}
; 557  : 	}
; 558  : 
; 559  : 	search.search_depth = 0;

  0020e	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 560  : 	search.search_object = virtual_cockpit_inst3d;

  00215	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0021a	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 561  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_MAIN_ROTOR_SHAFT;

  0021d	c7 45 c8 02 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 2

; 562  : 
; 563  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00224	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  00227	50		 push	 eax
  00228	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0022d	83 f8 01	 cmp	 eax, 1
  00230	75 17		 jne	 SHORT $LN14@draw_kiowa

; 564  : 	{
; 565  : 		search.result_sub_object->visible_object = draw_main_rotors;

  00232	8b 45 fc	 mov	 eax, DWORD PTR _draw_main_rotors$[ebp]
  00235	83 e0 01	 and	 eax, 1
  00238	8b 4d c0	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0023b	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0023e	83 e2 fe	 and	 edx, -2			; fffffffeH
  00241	0b d0		 or	 edx, eax
  00243	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  00246	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN14@draw_kiowa:

; 566  : 	}
; 567  : 
; 568  : 	//
; 569  : 	// draw 3D scene
; 570  : 	//
; 571  : 
; 572  : 	set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  00249	51		 push	 ecx
  0024a	0f 57 c0	 xorps	 xmm0, xmm0
  0024d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00252	51		 push	 ecx
  00253	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0025b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00260	51		 push	 ecx
  00261	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00269	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0026e	51		 push	 ecx
  0026f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00277	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0027c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00281	50		 push	 eax
  00282	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 573  : 
; 574  : 	realise_3d_clip_extents (main_3d_env);

  00287	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0028c	50		 push	 eax
  0028d	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 575  : 
; 576  : 	recalculate_3d_environment_settings (main_3d_env);

  00292	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00297	50		 push	 eax
  00298	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 577  : 
; 578  : 	clear_zbuffer_screen ();

  0029d	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 579  : 
; 580  : 	if (begin_3d_scene ())

  002a2	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  002a7	85 c0		 test	 eax, eax
  002a9	0f 84 b2 0a 00
	00		 je	 $LN30@draw_kiowa

; 581  : 	{
; 582  : 		//
; 583  : 		// light direction is in world coordinates
; 584  : 		//
; 585  : 
; 586  : 		light_3d_source
; 587  : 			*display_backlight,
; 588  : 			*cockpit_light;
; 589  : 
; 590  : 		vec3d
; 591  : 			direction;
; 592  : 
; 593  : 		matrix3x3
; 594  : 			m1,
; 595  : 			m2;
; 596  : 
; 597  : //VJ 050131 update on wideview mod, much better movement
; 598  : 		if (get_global_wide_cockpit () &&

  002af	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  002b6	0f 84 36 01 00
	00		 je	 $LN16@draw_kiowa
  002bc	83 3d 00 00 00
	00 26		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 38 ; view_mode, 00000026H
  002c3	0f 84 29 01 00
	00		 je	 $LN16@draw_kiowa
  002c9	83 3d 00 00 00
	00 27		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 39 ; view_mode, 00000027H
  002d0	0f 84 1c 01 00
	00		 je	 $LN16@draw_kiowa
  002d6	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 40 ; view_mode, 00000028H
  002dd	0f 84 0f 01 00
	00		 je	 $LN16@draw_kiowa
  002e3	83 3d 00 00 00
	00 29		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 41 ; view_mode, 00000029H
  002ea	0f 84 02 01 00
	00		 je	 $LN16@draw_kiowa

; 599  : 			( get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY &&
; 600  : 				get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY &&
; 601  : 				get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY &&
; 602  : 				get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY )
; 603  : 			)
; 604  : 		{
; 605  : 				get_kiowa_crew_viewpoint ();

  002f0	e8 00 00 00 00	 call	 ?get_kiowa_crew_viewpoint@@YGXXZ ; get_kiowa_crew_viewpoint

; 606  : 
; 607  : 				virtual_cockpit_inst3d->vp.x += wide_cockpit_position[wide_cockpit_nr].c.x;

  002f5	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  002fc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00302	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00307	f3 0f 58 80 14
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+20]
  0030f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00315	f3 0f 11 42 08	 movss	 DWORD PTR [edx+8], xmm0

; 608  : 				virtual_cockpit_inst3d->vp.y += wide_cockpit_position[wide_cockpit_nr].c.y;

  0031a	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00321	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00327	f3 0f 10 41 0c	 movss	 xmm0, DWORD PTR [ecx+12]
  0032c	f3 0f 58 80 18
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  00334	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0033a	f3 0f 11 42 0c	 movss	 DWORD PTR [edx+12], xmm0

; 609  : 				virtual_cockpit_inst3d->vp.z += wide_cockpit_position[wide_cockpit_nr].c.z;

  0033f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00346	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0034c	f3 0f 10 41 10	 movss	 xmm0, DWORD PTR [ecx+16]
  00351	f3 0f 58 80 1c
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00359	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0035f	f3 0f 11 42 10	 movss	 DWORD PTR [edx+16], xmm0

; 610  : 
; 611  : 				//ataribaby 27/12/2008
; 612  : 				//virtual_cockpit_inst3d->vp.x += bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 613  : 				//virtual_cockpit_inst3d->vp.y += bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 614  : 
; 615  : 				if (wide_cockpit_nr == WIDEVIEW_KIOWA_PILOT)

  00364	83 3d 00 00 00
	00 0b		 cmp	 DWORD PTR ?wide_cockpit_nr@@3HA, 11 ; wide_cockpit_nr, 0000000bH
  0036b	75 1f		 jne	 SHORT $LN17@draw_kiowa

; 616  : 					pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  0036d	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00374	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  0037c	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  00384	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0
$LN17@draw_kiowa:

; 617  : 				if (wide_cockpit_nr == WIDEVIEW_KIOWA_COPILOT)

  0038c	83 3d 00 00 00
	00 0c		 cmp	 DWORD PTR ?wide_cockpit_nr@@3HA, 12 ; wide_cockpit_nr, 0000000cH
  00393	75 1f		 jne	 SHORT $LN18@draw_kiowa

; 618  : 					co_pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  00395	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0039c	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  003a4	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  003ac	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?co_pilot_head_pitch_datum@@3MA, xmm0
$LN18@draw_kiowa:

; 619  : 
; 620  : 				set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  003b4	51		 push	 ecx
  003b5	0f 57 c0	 xorps	 xmm0, xmm0
  003b8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003bd	51		 push	 ecx
  003be	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  003c6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003cb	51		 push	 ecx
  003cc	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  003d4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003d9	51		 push	 ecx
  003da	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  003e2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  003ec	50		 push	 eax
  003ed	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances
$LN16@draw_kiowa:

; 621  : 
; 622  : 		}
; 623  : 
; 624  : 		//ataribaby 27/12/2008 new head g-force movement and vibration from main rotor
; 625  : 		if (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY &&
; 626  : 				get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY &&
; 627  : 				get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY &&

  003f2	83 3d 00 00 00
	00 26		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 38 ; view_mode, 00000026H
  003f9	0f 84 18 03 00
	00		 je	 $LN19@draw_kiowa
  003ff	83 3d 00 00 00
	00 27		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 39 ; view_mode, 00000027H
  00406	0f 84 0b 03 00
	00		 je	 $LN19@draw_kiowa
  0040c	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 40 ; view_mode, 00000028H
  00413	0f 84 fe 02 00
	00		 je	 $LN19@draw_kiowa
  00419	83 3d 00 00 00
	00 29		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 41 ; view_mode, 00000029H
  00420	0f 84 f1 02 00
	00		 je	 $LN19@draw_kiowa

; 628  : 				get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY)
; 629  : 		{
; 630  : 			if (get_time_acceleration() != TIME_ACCELERATION_PAUSE)

  00426	e8 00 00 00 00	 call	 ?get_time_acceleration@@YGHXZ ; get_time_acceleration
  0042b	85 c0		 test	 eax, eax
  0042d	0f 84 c2 00 00
	00		 je	 $LN20@draw_kiowa

; 631  : 			{
; 632  : 				random_vibration_x = (frand1() * (current_flight_dynamics->main_rotor_rpm.value * 0.00002)) * command_line_g_force_head_movment_modifier;

  00433	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0043d	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00442	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00447	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0044d	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00450	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00456	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  0045a	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00462	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00468	f3 0f 5a 8a 14
	1e 00 00	 cvtss2sd xmm1, DWORD PTR [edx+7700]
  00470	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ef4f8b588e368f1
  00478	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0047c	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  00484	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00488	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0048c	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?random_vibration_x@@3MA, xmm0

; 633  : 				random_vibration_y = (frand1() * (current_flight_dynamics->main_rotor_rpm.value * 0.00002)) * command_line_g_force_head_movment_modifier;

  00494	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0049e	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  004a3	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  004a8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  004ae	c1 f9 10	 sar	 ecx, 16			; 00000010H
  004b1	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  004b7	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  004bb	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  004c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  004c9	f3 0f 5a 8a 14
	1e 00 00	 cvtss2sd xmm1, DWORD PTR [edx+7700]
  004d1	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ef4f8b588e368f1
  004d9	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  004dd	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  004e5	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  004e9	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  004ed	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?random_vibration_y@@3MA, xmm0
$LN20@draw_kiowa:

; 634  : 			}
; 635  : 			x_head_g_movement = move_by_rate(x_head_g_movement, random_vibration_x + (bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier), 0.05);

  004f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  004fa	f3 0f 10 80 48
	1c 00 00	 movss	 xmm0, DWORD PTR [eax+7240]
  00502	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  0050a	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0050e	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@c008000000000000
  00516	66 0f 2f c8	 comisd	 xmm1, xmm0
  0051a	76 12		 jbe	 SHORT $LN46@draw_kiowa
  0051c	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@c008000000000000
  00524	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv275[ebp], xmm0
  0052c	eb 68		 jmp	 SHORT $LN47@draw_kiowa
$LN46@draw_kiowa:
  0052e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00534	f3 0f 10 81 48
	1c 00 00	 movss	 xmm0, DWORD PTR [ecx+7240]
  0053c	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  00544	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00548	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4008000000000000
  00550	76 12		 jbe	 SHORT $LN44@draw_kiowa
  00552	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4008000000000000
  0055a	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv274[ebp], xmm0
  00562	eb 22		 jmp	 SHORT $LN45@draw_kiowa
$LN44@draw_kiowa:
  00564	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0056a	f3 0f 10 82 48
	1c 00 00	 movss	 xmm0, DWORD PTR [edx+7240]
  00572	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  0057a	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0057e	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv274[ebp], xmm0
$LN45@draw_kiowa:
  00586	f2 0f 10 85 f8
	fe ff ff	 movsd	 xmm0, QWORD PTR tv274[ebp]
  0058e	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv275[ebp], xmm0
$LN47@draw_kiowa:
  00596	51		 push	 ecx
  00597	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  0059f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005a4	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?random_vibration_x@@3MA
  005ac	f2 0f 10 8d 00
	ff ff ff	 movsd	 xmm1, QWORD PTR tv275[ebp]
  005b4	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3f9999999999999a
  005bc	f3 0f 5a 15 00
	00 00 00	 cvtss2sd xmm2, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  005c4	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  005c8	f2 0f 58 c1	 addsd	 xmm0, xmm1
  005cc	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  005d0	51		 push	 ecx
  005d1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005d6	51		 push	 ecx
  005d7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?x_head_g_movement@@3MA
  005df	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005e4	e8 00 00 00 00	 call	 ?move_by_rate@@YGMMMM@Z	; move_by_rate
  005e9	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?x_head_g_movement@@3MA

; 636  : 			y_head_g_movement = move_by_rate(y_head_g_movement, random_vibration_y + (bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier), 0.05);

  005ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  005f4	f3 0f 5a 80 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [eax+9308]
  005fc	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00604	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bff8000000000000
  0060c	66 0f 2f c8	 comisd	 xmm1, xmm0
  00610	76 12		 jbe	 SHORT $LN50@draw_kiowa
  00612	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bff8000000000000
  0061a	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv301[ebp], xmm0
  00622	eb 60		 jmp	 SHORT $LN51@draw_kiowa
$LN50@draw_kiowa:
  00624	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0062a	f3 0f 5a 81 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [ecx+9308]
  00632	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  0063a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4014000000000000
  00642	76 12		 jbe	 SHORT $LN48@draw_kiowa
  00644	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4014000000000000
  0064c	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv300[ebp], xmm0
  00654	eb 1e		 jmp	 SHORT $LN49@draw_kiowa
$LN48@draw_kiowa:
  00656	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0065c	f3 0f 5a 82 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [edx+9308]
  00664	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  0066c	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv300[ebp], xmm0
$LN49@draw_kiowa:
  00674	f2 0f 10 85 f8
	fe ff ff	 movsd	 xmm0, QWORD PTR tv300[ebp]
  0067c	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv301[ebp], xmm0
$LN51@draw_kiowa:
  00684	51		 push	 ecx
  00685	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  0068d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00692	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?random_vibration_y@@3MA
  0069a	f2 0f 10 8d 00
	ff ff ff	 movsd	 xmm1, QWORD PTR tv301[ebp]
  006a2	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3f9999999999999a
  006aa	f3 0f 5a 15 00
	00 00 00	 cvtss2sd xmm2, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  006b2	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  006b6	f2 0f 58 c1	 addsd	 xmm0, xmm1
  006ba	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  006be	51		 push	 ecx
  006bf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006c4	51		 push	 ecx
  006c5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?y_head_g_movement@@3MA
  006cd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006d2	e8 00 00 00 00	 call	 ?move_by_rate@@YGMMMM@Z	; move_by_rate
  006d7	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?y_head_g_movement@@3MA

; 637  : 
; 638  : 			virtual_cockpit_inst3d->vp.x -= x_head_g_movement;

  006dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  006e2	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  006e7	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?x_head_g_movement@@3MA
  006ef	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  006f5	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 639  : 			//if (!current_flight_dynamics->auto_hover)   // arneh - auto hover has some weird dynamics which cause lots of g-forces, so disable head movement when auto hover is enabled
; 640  : 			virtual_cockpit_inst3d->vp.y -= y_head_g_movement;

  006fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  006ff	f3 0f 10 40 0c	 movss	 xmm0, DWORD PTR [eax+12]
  00704	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?y_head_g_movement@@3MA
  0070c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00712	f3 0f 11 41 0c	 movss	 DWORD PTR [ecx+12], xmm0
$LN19@draw_kiowa:

; 641  : 		}
; 642  : 
; 643  : 		{
; 644  : 				//
; 645  : 				// ADI
; 646  : 				//
; 647  : 
; 648  : 				search.search_depth = 0;

  00717	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 649  : 				search.search_object = virtual_cockpit_inst3d;

  0071e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00723	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 650  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI;

  00726	c7 45 c8 6c 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 108 ; 0000006cH

; 651  : 
; 652  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0072d	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  00730	50		 push	 eax
  00731	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00736	83 f8 01	 cmp	 eax, 1
  00739	75 61		 jne	 SHORT $LN21@draw_kiowa

; 653  : 				{
; 654  : 					float
; 655  : 						heading,
; 656  : 						pitch,
; 657  : 						roll;
; 658  : 
; 659  : 					get_kiowa_virtual_cockpit_adi_angles (virtual_cockpit_inst3d->vp.attitude, &heading, &pitch, &roll);

  0073b	8d 85 54 ff ff
	ff		 lea	 eax, DWORD PTR _roll$4[ebp]
  00741	50		 push	 eax
  00742	8d 8d 58 ff ff
	ff		 lea	 ecx, DWORD PTR _pitch$5[ebp]
  00748	51		 push	 ecx
  00749	8d 95 5c ff ff
	ff		 lea	 edx, DWORD PTR _heading$6[ebp]
  0074f	52		 push	 edx
  00750	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00755	83 c0 14	 add	 eax, 20			; 00000014H
  00758	50		 push	 eax
  00759	e8 00 00 00 00	 call	 ?get_kiowa_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z ; get_kiowa_virtual_cockpit_adi_angles

; 660  : 
; 661  : 					search.result_sub_object->relative_heading = -heading;

  0075e	f3 0f 10 85 5c
	ff ff ff	 movss	 xmm0, DWORD PTR _heading$6[ebp]
  00766	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0076d	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  00770	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 662  : 
; 663  : 					search.result_sub_object->relative_pitch = pitch;

  00775	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  00778	f3 0f 10 85 58
	ff ff ff	 movss	 xmm0, DWORD PTR _pitch$5[ebp]
  00780	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 664  : 
; 665  : 					search.result_sub_object->relative_roll = -roll;

  00785	f3 0f 10 85 54
	ff ff ff	 movss	 xmm0, DWORD PTR _roll$4[ebp]
  0078d	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00794	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  00797	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN21@draw_kiowa:

; 666  : 				}
; 667  : 
; 668  : 				//
; 669  : 				// ADI slip
; 670  : 				//
; 671  : 
; 672  : 				search.search_depth = 0;

  0079c	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 673  : 				search.search_object = virtual_cockpit_inst3d;

  007a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  007a8	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 674  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI_SIDE_SLIP;

  007ab	c7 45 c8 73 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 115 ; 00000073H

; 675  : 
; 676  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  007b2	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  007b5	50		 push	 eax
  007b6	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  007bb	83 f8 01	 cmp	 eax, 1
  007be	75 0b		 jne	 SHORT $LN22@draw_kiowa

; 677  : 				{
; 678  : 					search.result_sub_object->relative_roll = get_kiowa_virtual_cockpit_adi_slip_indicator_needle_value ();

  007c0	e8 00 00 00 00	 call	 ?get_kiowa_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ ; get_kiowa_virtual_cockpit_adi_slip_indicator_needle_value
  007c5	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  007c8	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN22@draw_kiowa:

; 679  : 				}
; 680  : 
; 681  : 				//
; 682  : 				// airspeed
; 683  : 				//
; 684  : 
; 685  : 				search.search_depth = 0;

  007cb	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 686  : 				search.search_object = virtual_cockpit_inst3d;

  007d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  007d7	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 687  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_AIRSPEED;

  007da	c7 45 c8 72 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 114 ; 00000072H

; 688  : 
; 689  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  007e1	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  007e4	50		 push	 eax
  007e5	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  007ea	83 f8 01	 cmp	 eax, 1
  007ed	75 0b		 jne	 SHORT $LN23@draw_kiowa

; 690  : 				{
; 691  : 					search.result_sub_object->relative_roll = get_kiowa_virtual_cockpit_airspeed_indicator_needle_value ();

  007ef	e8 00 00 00 00	 call	 ?get_kiowa_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ ; get_kiowa_virtual_cockpit_airspeed_indicator_needle_value
  007f4	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  007f7	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN23@draw_kiowa:

; 692  : 				}
; 693  : 
; 694  : 				//
; 695  : 				// altimeter
; 696  : 				//
; 697  : 
; 698  : 				search.search_depth = 0;

  007fa	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 699  : 				search.search_object = virtual_cockpit_inst3d;

  00801	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00806	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 700  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ALTIMETER;

  00809	c7 45 c8 74 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 116 ; 00000074H

; 701  : 
; 702  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00810	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  00813	50		 push	 eax
  00814	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00819	83 f8 01	 cmp	 eax, 1
  0081c	75 0b		 jne	 SHORT $LN24@draw_kiowa

; 703  : 				{
; 704  : 					search.result_sub_object->relative_roll = get_kiowa_virtual_cockpit_barometric_altimeter_needle_value ();

  0081e	e8 00 00 00 00	 call	 ?get_kiowa_virtual_cockpit_barometric_altimeter_needle_value@@YGMXZ ; get_kiowa_virtual_cockpit_barometric_altimeter_needle_value
  00823	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  00826	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN24@draw_kiowa:

; 705  : 				}
; 706  : 
; 707  : 				search.search_depth = 0;

  00829	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 708  : 				search.search_object = virtual_cockpit_inst3d;

  00830	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00835	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 709  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_COMPASS_HEADING_NULL;

  00838	c7 45 c8 6e 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 110 ; 0000006eH

; 710  : 
; 711  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0083f	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  00842	50		 push	 eax
  00843	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00848	83 f8 01	 cmp	 eax, 1
  0084b	75 1c		 jne	 SHORT $LN25@draw_kiowa

; 712  : 				{
; 713  : 					search.result_sub_object->relative_heading = -current_flight_dynamics->heading.value;

  0084d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00852	f3 0f 10 80 8c
	21 00 00	 movss	 xmm0, DWORD PTR [eax+8588]
  0085a	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00861	8b 4d c0	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00864	f3 0f 11 41 18	 movss	 DWORD PTR [ecx+24], xmm0
$LN25@draw_kiowa:

; 714  : 				}
; 715  : 
; 716  : 				//
; 717  : 				// clock
; 718  : 				//
; 719  : 
; 720  : 				{
; 721  : 					float
; 722  : 						hours,
; 723  : 						minutes,
; 724  : 						seconds;
; 725  : 
; 726  : 					//
; 727  : 					// only read clock values if drawing virtual cockpit needles to prevent speeding up clock debug values
; 728  : 					//
; 729  : 
; 730  : 					get_kiowa_virtual_cockpit_clock_hand_values (&hours, &minutes, &seconds);

  00869	8d 85 48 ff ff
	ff		 lea	 eax, DWORD PTR _seconds$1[ebp]
  0086f	50		 push	 eax
  00870	8d 8d 4c ff ff
	ff		 lea	 ecx, DWORD PTR _minutes$2[ebp]
  00876	51		 push	 ecx
  00877	8d 95 50 ff ff
	ff		 lea	 edx, DWORD PTR _hours$3[ebp]
  0087d	52		 push	 edx
  0087e	e8 00 00 00 00	 call	 ?get_kiowa_virtual_cockpit_clock_hand_values@@YGXPAM00@Z ; get_kiowa_virtual_cockpit_clock_hand_values

; 731  : 
; 732  : 					//
; 733  : 					// hour hand
; 734  : 					//
; 735  : 
; 736  : 					search.search_depth = 0;

  00883	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 737  : 					search.search_object = virtual_cockpit_inst3d;

  0088a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0088f	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 738  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_HOUR_HAND;

  00892	c7 45 c8 75 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 117 ; 00000075H

; 739  : 
; 740  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00899	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  0089c	50		 push	 eax
  0089d	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  008a2	83 f8 01	 cmp	 eax, 1
  008a5	75 10		 jne	 SHORT $LN26@draw_kiowa

; 741  : 					{
; 742  : 						search.result_sub_object->relative_roll = hours;

  008a7	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  008aa	f3 0f 10 85 50
	ff ff ff	 movss	 xmm0, DWORD PTR _hours$3[ebp]
  008b2	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN26@draw_kiowa:

; 743  : 					}
; 744  : 
; 745  : 					//
; 746  : 					// minute hand
; 747  : 					//
; 748  : 
; 749  : 					search.search_depth = 0;

  008b7	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 750  : 					search.search_object = virtual_cockpit_inst3d;

  008be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  008c3	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 751  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_MINUTE_HAND;

  008c6	c7 45 c8 77 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 119 ; 00000077H

; 752  : 
; 753  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  008cd	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  008d0	50		 push	 eax
  008d1	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  008d6	83 f8 01	 cmp	 eax, 1
  008d9	75 10		 jne	 SHORT $LN27@draw_kiowa

; 754  : 					{
; 755  : 						search.result_sub_object->relative_roll = minutes;

  008db	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  008de	f3 0f 10 85 4c
	ff ff ff	 movss	 xmm0, DWORD PTR _minutes$2[ebp]
  008e6	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN27@draw_kiowa:

; 756  : 					}
; 757  : 
; 758  : 					//
; 759  : 					// second hand
; 760  : 					//
; 761  : 
; 762  : 					search.search_depth = 0;

  008eb	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 763  : 					search.search_object = virtual_cockpit_inst3d;

  008f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  008f7	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 764  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_SECOND_HAND;

  008fa	c7 45 c8 76 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 118 ; 00000076H

; 765  : 
; 766  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00901	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  00904	50		 push	 eax
  00905	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0090a	83 f8 01	 cmp	 eax, 1
  0090d	75 10		 jne	 SHORT $LN28@draw_kiowa

; 767  : 					{
; 768  : 						search.result_sub_object->relative_roll = seconds;

  0090f	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  00912	f3 0f 10 85 48
	ff ff ff	 movss	 xmm0, DWORD PTR _seconds$1[ebp]
  0091a	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN28@draw_kiowa:

; 769  : 					}
; 770  : 				}
; 771  : 		}
; 772  : 
; 773  : 		if (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE) == DAY_SEGMENT_TYPE_DAY)

  0091f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00926	74 0f		 je	 SHORT $LN52@draw_kiowa
  00928	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0092d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0092f	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv375[ebp], ecx
  00935	eb 20		 jmp	 SHORT $LN53@draw_kiowa
$LN52@draw_kiowa:
  00937	68 05 03 00 00	 push	 773			; 00000305H
  0093c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00941	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00947	52		 push	 edx
  00948	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0094d	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv375[ebp], 0
$LN53@draw_kiowa:
  00957	b8 01 00 00 00	 mov	 eax, 1
  0095c	85 c0		 test	 eax, eax
  0095e	74 0c		 je	 SHORT $LN54@draw_kiowa
  00960	c7 85 00 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv382[ebp], 39 ; 00000027H
  0096a	eb 20		 jmp	 SHORT $LN55@draw_kiowa
$LN54@draw_kiowa:
  0096c	68 05 03 00 00	 push	 773			; 00000305H
  00971	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JLNIOHOF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00976	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0097c	51		 push	 ecx
  0097d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00982	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv382[ebp], 0
$LN55@draw_kiowa:
  0098c	6a 27		 push	 39			; 00000027H
  0098e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00994	52		 push	 edx
  00995	69 85 04 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv375[ebp], 1116
  0099f	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv382[ebp]
  009a5	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  009ac	ff d2		 call	 edx
  009ae	83 f8 01	 cmp	 eax, 1
  009b1	0f 85 6f 01 00
	00		 jne	 $LN29@draw_kiowa

; 774  : 		{
; 775  : 			////////////////////////////////////////
; 776  : 			//
; 777  : 			// DAY LIGHTING
; 778  : 			//
; 779  : 			////////////////////////////////////////
; 780  : 
; 781  : 			if (night_vision_system_active && (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CREW))

  009b7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?night_vision_system_active@@3HA, 0 ; night_vision_system_active
  009be	0f 84 2e 01 00
	00		 je	 $LN31@draw_kiowa
  009c4	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  009cb	0f 84 21 01 00
	00		 je	 $LN31@draw_kiowa

; 782  : 			{
; 783  : 				//
; 784  : 				// active night vision system
; 785  : 				//
; 786  : 
; 787  : 				get_3d_transformation_matrix (m1, rad (0.0), rad (135.0), rad (0.0));

  009d1	51		 push	 ecx
  009d2	0f 57 c0	 xorps	 xmm0, xmm0
  009d5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009da	51		 push	 ecx
  009db	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4016cbe4
  009e3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009e8	51		 push	 ecx
  009e9	0f 57 c0	 xorps	 xmm0, xmm0
  009ec	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009f1	8d 45 84	 lea	 eax, DWORD PTR _m1$8[ebp]
  009f4	50		 push	 eax
  009f5	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 788  : 
; 789  : 				multiply_matrix3x3_matrix3x3 (m2, m1, virtual_cockpit_inst3d->vp.attitude);

  009fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  009ff	83 c0 14	 add	 eax, 20			; 00000014H
  00a02	50		 push	 eax
  00a03	8d 4d 84	 lea	 ecx, DWORD PTR _m1$8[ebp]
  00a06	51		 push	 ecx
  00a07	8d 95 60 ff ff
	ff		 lea	 edx, DWORD PTR _m2$7[ebp]
  00a0d	52		 push	 edx
  00a0e	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 790  : 
; 791  : 				direction.x = m2[2][0];

  00a13	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00a18	d1 e0		 shl	 eax, 1
  00a1a	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$7[ebp+eax]
  00a21	ba 04 00 00 00	 mov	 edx, 4
  00a26	6b c2 00	 imul	 eax, edx, 0
  00a29	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  00a2e	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$9[ebp], xmm0

; 792  : 				direction.y = m2[2][1];

  00a33	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00a38	d1 e0		 shl	 eax, 1
  00a3a	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$7[ebp+eax]
  00a41	ba 04 00 00 00	 mov	 edx, 4
  00a46	c1 e2 00	 shl	 edx, 0
  00a49	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00a4e	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$9[ebp+4], xmm0

; 793  : 				direction.z = m2[2][2];

  00a53	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00a58	d1 e0		 shl	 eax, 1
  00a5a	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$7[ebp+eax]
  00a61	ba 04 00 00 00	 mov	 edx, 4
  00a66	d1 e2		 shl	 edx, 1
  00a68	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00a6d	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$9[ebp+8], xmm0

; 794  : 
; 795  : 				cockpit_light = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.0000, 0.5000, 0.0000);

  00a72	51		 push	 ecx
  00a73	0f 57 c0	 xorps	 xmm0, xmm0
  00a76	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a7b	51		 push	 ecx
  00a7c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00a84	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a89	51		 push	 ecx
  00a8a	0f 57 c0	 xorps	 xmm0, xmm0
  00a8d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a92	51		 push	 ecx
  00a93	0f 57 c0	 xorps	 xmm0, xmm0
  00a96	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a9b	8d 45 a8	 lea	 eax, DWORD PTR _direction$9[ebp]
  00a9e	50		 push	 eax
  00a9f	6a 00		 push	 0
  00aa1	6a 01		 push	 1
  00aa3	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  00aa8	89 45 b4	 mov	 DWORD PTR _cockpit_light$10[ebp], eax

; 796  : 
; 797  : 				insert_light_3d_source_into_3d_scene (cockpit_light);

  00aab	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$10[ebp]
  00aae	50		 push	 eax
  00aaf	e8 00 00 00 00	 call	 ?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; insert_light_3d_source_into_3d_scene

; 798  : 
; 799  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00ab4	51		 push	 ecx
  00ab5	0f 57 c0	 xorps	 xmm0, xmm0
  00ab8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00abd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00ac2	50		 push	 eax
  00ac3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00ac9	83 c1 08	 add	 ecx, 8
  00acc	51		 push	 ecx
  00acd	6a 02		 push	 2
  00acf	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 800  : 
; 801  : 				draw_3d_scene ();

  00ad4	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 802  : 
; 803  : 				end_3d_scene ();

  00ad9	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene

; 804  : 
; 805  : 				remove_light_3d_source_from_3d_scene (cockpit_light);

  00ade	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$10[ebp]
  00ae1	50		 push	 eax
  00ae2	e8 00 00 00 00	 call	 ?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; remove_light_3d_source_from_3d_scene

; 806  : 
; 807  : 				destroy_light_3d_source (cockpit_light);

  00ae7	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$10[ebp]
  00aea	50		 push	 eax
  00aeb	e8 00 00 00 00	 call	 ?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z ; destroy_light_3d_source

; 808  : 			}
; 809  : 			else

  00af0	eb 2f		 jmp	 SHORT $LN32@draw_kiowa
$LN31@draw_kiowa:

; 810  : 			{
; 811  : 				//
; 812  : 				// inactive night vision system
; 813  : 				//
; 814  : 
; 815  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00af2	51		 push	 ecx
  00af3	0f 57 c0	 xorps	 xmm0, xmm0
  00af6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00afb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00b00	50		 push	 eax
  00b01	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00b07	83 c1 08	 add	 ecx, 8
  00b0a	51		 push	 ecx
  00b0b	6a 02		 push	 2
  00b0d	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 816  : 
; 817  : 				draw_3d_scene ();

  00b12	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 818  : 
; 819  : 				print_edit_wide_cockpit ();

  00b17	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 820  : 
; 821  : 				end_3d_scene ();

  00b1c	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN32@draw_kiowa:

; 822  : 			}
; 823  : 		}
; 824  : 		else

  00b21	e9 3b 02 00 00	 jmp	 $LN30@draw_kiowa
$LN29@draw_kiowa:

; 825  : 		{
; 826  : 			////////////////////////////////////////
; 827  : 			//
; 828  : 			// NIGHT LIGHTING
; 829  : 			//
; 830  : 			////////////////////////////////////////
; 831  : 
; 832  : 			direction.x = virtual_cockpit_inst3d->vp.zv.x;

  00b26	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00b2b	f3 0f 10 40 2c	 movss	 xmm0, DWORD PTR [eax+44]
  00b30	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$9[ebp], xmm0

; 833  : 			direction.y = virtual_cockpit_inst3d->vp.zv.y;

  00b35	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00b3a	f3 0f 10 40 30	 movss	 xmm0, DWORD PTR [eax+48]
  00b3f	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$9[ebp+4], xmm0

; 834  : 			direction.z = virtual_cockpit_inst3d->vp.zv.z;

  00b44	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00b49	f3 0f 10 40 34	 movss	 xmm0, DWORD PTR [eax+52]
  00b4e	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$9[ebp+8], xmm0

; 835  : 
; 836  : 			display_backlight = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.0627, 0.2039, 0.0392);

  00b53	51		 push	 ecx
  00b54	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d20902e
  00b5c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b61	51		 push	 ecx
  00b62	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e50cb29
  00b6a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b6f	51		 push	 ecx
  00b70	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d8068dc
  00b78	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b7d	51		 push	 ecx
  00b7e	0f 57 c0	 xorps	 xmm0, xmm0
  00b81	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b86	8d 45 a8	 lea	 eax, DWORD PTR _direction$9[ebp]
  00b89	50		 push	 eax
  00b8a	6a 00		 push	 0
  00b8c	6a 01		 push	 1
  00b8e	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  00b93	89 45 b8	 mov	 DWORD PTR _display_backlight$11[ebp], eax

; 837  : 
; 838  : 			if (night_vision_system_active && (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CREW))

  00b96	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?night_vision_system_active@@3HA, 0 ; night_vision_system_active
  00b9d	0f 84 e9 00 00
	00		 je	 $LN33@draw_kiowa
  00ba3	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  00baa	0f 84 dc 00 00
	00		 je	 $LN33@draw_kiowa

; 839  : 			{
; 840  : 				//
; 841  : 				// active night vision system
; 842  : 				//
; 843  : 
; 844  : 				get_3d_transformation_matrix (m1, rad (0.0), rad (135.0), rad (0.0));

  00bb0	51		 push	 ecx
  00bb1	0f 57 c0	 xorps	 xmm0, xmm0
  00bb4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bb9	51		 push	 ecx
  00bba	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4016cbe4
  00bc2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bc7	51		 push	 ecx
  00bc8	0f 57 c0	 xorps	 xmm0, xmm0
  00bcb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bd0	8d 45 84	 lea	 eax, DWORD PTR _m1$8[ebp]
  00bd3	50		 push	 eax
  00bd4	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 845  : 
; 846  : 				multiply_matrix3x3_matrix3x3 (m2, m1, virtual_cockpit_inst3d->vp.attitude);

  00bd9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00bde	83 c0 14	 add	 eax, 20			; 00000014H
  00be1	50		 push	 eax
  00be2	8d 4d 84	 lea	 ecx, DWORD PTR _m1$8[ebp]
  00be5	51		 push	 ecx
  00be6	8d 95 60 ff ff
	ff		 lea	 edx, DWORD PTR _m2$7[ebp]
  00bec	52		 push	 edx
  00bed	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 847  : 
; 848  : 				direction.x = m2[2][0];

  00bf2	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00bf7	d1 e0		 shl	 eax, 1
  00bf9	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$7[ebp+eax]
  00c00	ba 04 00 00 00	 mov	 edx, 4
  00c05	6b c2 00	 imul	 eax, edx, 0
  00c08	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  00c0d	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$9[ebp], xmm0

; 849  : 				direction.y = m2[2][1];

  00c12	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00c17	d1 e0		 shl	 eax, 1
  00c19	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$7[ebp+eax]
  00c20	ba 04 00 00 00	 mov	 edx, 4
  00c25	c1 e2 00	 shl	 edx, 0
  00c28	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00c2d	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$9[ebp+4], xmm0

; 850  : 				direction.z = m2[2][2];

  00c32	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00c37	d1 e0		 shl	 eax, 1
  00c39	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$7[ebp+eax]
  00c40	ba 04 00 00 00	 mov	 edx, 4
  00c45	d1 e2		 shl	 edx, 1
  00c47	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00c4c	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$9[ebp+8], xmm0

; 851  : 
; 852  : 				cockpit_light = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.0000, 0.5000, 0.0000);

  00c51	51		 push	 ecx
  00c52	0f 57 c0	 xorps	 xmm0, xmm0
  00c55	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c5a	51		 push	 ecx
  00c5b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00c63	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c68	51		 push	 ecx
  00c69	0f 57 c0	 xorps	 xmm0, xmm0
  00c6c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c71	51		 push	 ecx
  00c72	0f 57 c0	 xorps	 xmm0, xmm0
  00c75	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c7a	8d 45 a8	 lea	 eax, DWORD PTR _direction$9[ebp]
  00c7d	50		 push	 eax
  00c7e	6a 00		 push	 0
  00c80	6a 01		 push	 1
  00c82	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  00c87	89 45 b4	 mov	 DWORD PTR _cockpit_light$10[ebp], eax

; 853  : 			}
; 854  : 			else

  00c8a	eb 70		 jmp	 SHORT $LN34@draw_kiowa
$LN33@draw_kiowa:

; 855  : 			{
; 856  : 				//
; 857  : 				// inactive night vision system
; 858  : 				//
; 859  : 
; 860  : 				direction.x = virtual_cockpit_inst3d->vp.yv.x;

  00c8c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00c91	f3 0f 10 40 20	 movss	 xmm0, DWORD PTR [eax+32]
  00c96	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$9[ebp], xmm0

; 861  : 				direction.y = virtual_cockpit_inst3d->vp.yv.y;

  00c9b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00ca0	f3 0f 10 40 24	 movss	 xmm0, DWORD PTR [eax+36]
  00ca5	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$9[ebp+4], xmm0

; 862  : 				direction.z = virtual_cockpit_inst3d->vp.yv.z;

  00caa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00caf	f3 0f 10 40 28	 movss	 xmm0, DWORD PTR [eax+40]
  00cb4	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$9[ebp+8], xmm0

; 863  : 
; 864  : 				cockpit_light = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.0666, 0.1098, 0.6431);

  00cb9	51		 push	 ecx
  00cba	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f24a234
  00cc2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00cc7	51		 push	 ecx
  00cc8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3de0ded3
  00cd0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00cd5	51		 push	 ecx
  00cd6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d886595
  00cde	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00ce3	51		 push	 ecx
  00ce4	0f 57 c0	 xorps	 xmm0, xmm0
  00ce7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00cec	8d 45 a8	 lea	 eax, DWORD PTR _direction$9[ebp]
  00cef	50		 push	 eax
  00cf0	6a 00		 push	 0
  00cf2	6a 01		 push	 1
  00cf4	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  00cf9	89 45 b4	 mov	 DWORD PTR _cockpit_light$10[ebp], eax
$LN34@draw_kiowa:

; 865  : 			}
; 866  : 
; 867  : 			insert_light_3d_source_into_3d_scene (display_backlight);

  00cfc	8b 45 b8	 mov	 eax, DWORD PTR _display_backlight$11[ebp]
  00cff	50		 push	 eax
  00d00	e8 00 00 00 00	 call	 ?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; insert_light_3d_source_into_3d_scene

; 868  : 
; 869  : 			insert_light_3d_source_into_3d_scene (cockpit_light);

  00d05	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$10[ebp]
  00d08	50		 push	 eax
  00d09	e8 00 00 00 00	 call	 ?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; insert_light_3d_source_into_3d_scene

; 870  : 
; 871  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00d0e	51		 push	 ecx
  00d0f	0f 57 c0	 xorps	 xmm0, xmm0
  00d12	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d17	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00d1c	50		 push	 eax
  00d1d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00d23	83 c1 08	 add	 ecx, 8
  00d26	51		 push	 ecx
  00d27	6a 02		 push	 2
  00d29	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 872  : 
; 873  : 			draw_3d_scene ();

  00d2e	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 874  : 
; 875  : 			print_edit_wide_cockpit ();

  00d33	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 876  : 
; 877  : 			end_3d_scene ();

  00d38	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene

; 878  : 
; 879  : 			remove_light_3d_source_from_3d_scene (display_backlight);

  00d3d	8b 45 b8	 mov	 eax, DWORD PTR _display_backlight$11[ebp]
  00d40	50		 push	 eax
  00d41	e8 00 00 00 00	 call	 ?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; remove_light_3d_source_from_3d_scene

; 880  : 
; 881  : 			remove_light_3d_source_from_3d_scene (cockpit_light);

  00d46	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$10[ebp]
  00d49	50		 push	 eax
  00d4a	e8 00 00 00 00	 call	 ?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; remove_light_3d_source_from_3d_scene

; 882  : 
; 883  : 			destroy_light_3d_source (display_backlight);

  00d4f	8b 45 b8	 mov	 eax, DWORD PTR _display_backlight$11[ebp]
  00d52	50		 push	 eax
  00d53	e8 00 00 00 00	 call	 ?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z ; destroy_light_3d_source

; 884  : 
; 885  : 			destroy_light_3d_source (cockpit_light);

  00d58	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$10[ebp]
  00d5b	50		 push	 eax
  00d5c	e8 00 00 00 00	 call	 ?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z ; destroy_light_3d_source
$LN30@draw_kiowa:

; 886  : 		}
; 887  : 	}
; 888  : 
; 889  : 	move_edit_wide_cockpit ();

  00d61	e8 00 00 00 00	 call	 ?move_edit_wide_cockpit@@YGXXZ ; move_edit_wide_cockpit

; 890  : 
; 891  : #if RECOGNITION_GUIDE
; 892  : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 893  : #else
; 894  : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00d66	51		 push	 ecx
  00d67	0f 57 c0	 xorps	 xmm0, xmm0
  00d6a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d6f	51		 push	 ecx
  00d70	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00d78	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d7d	51		 push	 ecx
  00d7e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00d86	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d8b	51		 push	 ecx
  00d8c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00d94	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d99	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00d9e	50		 push	 eax
  00d9f	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 895  : #endif
; 896  : 
; 897  : 	realise_3d_clip_extents (main_3d_env);

  00da4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00da9	50		 push	 eax
  00daa	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents
$LN1@draw_kiowa:

; 898  : }

  00daf	5f		 pop	 edi
  00db0	5e		 pop	 esi
  00db1	5b		 pop	 ebx
  00db2	8b e5		 mov	 esp, ebp
  00db4	5d		 pop	 ebp
  00db5	c3		 ret	 0
?draw_kiowa_virtual_cockpit@@YGXXZ ENDP			; draw_kiowa_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?pre_render_kiowa_virtual_cockpit_displays@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?pre_render_kiowa_virtual_cockpit_displays@@YGXXZ PROC	; pre_render_kiowa_virtual_cockpit_displays, COMDAT

; 437  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 438  : 	switch (get_view_mode ())

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 23	 cmp	 DWORD PTR tv64[ebp], 35	; 00000023H
  00015	74 0e		 je	 SHORT $LN4@pre_render
  00017	83 7d bc 25	 cmp	 DWORD PTR tv64[ebp], 37	; 00000025H
  0001b	7e 0a		 jle	 SHORT $LN5@pre_render
  0001d	83 7d bc 29	 cmp	 DWORD PTR tv64[ebp], 41	; 00000029H
  00021	7e 02		 jle	 SHORT $LN4@pre_render
  00023	eb 02		 jmp	 SHORT $LN5@pre_render
$LN4@pre_render:

; 439  : 	{
; 440  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CREW:
; 441  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 442  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 443  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 444  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 445  : 		{
; 446  : 			break;

  00025	eb 0b		 jmp	 SHORT $LN2@pre_render
$LN5@pre_render:

; 447  : 		}
; 448  : 		default:
; 449  : 		{
; 450  : 			if (!get_global_draw_cockpit_graphics ())

  00027	83 3d b8 01 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+440, 0
  0002e	75 02		 jne	 SHORT $LN2@pre_render

; 451  : 			{
; 452  : 				return;

  00030	eb 13		 jmp	 SHORT $LN1@pre_render
$LN2@pre_render:

; 453  : 			}
; 454  : 
; 455  : 			break;
; 456  : 		}
; 457  : 	}
; 458  : 
; 459  : 	draw_kiowa_mfd ();

  00032	e8 00 00 00 00	 call	 ?draw_kiowa_mfd@@YGXXZ	; draw_kiowa_mfd

; 460  : 
; 461  : 	if (get_view_mode () == VIEW_MODE_VIRTUAL_COCKPIT_CREW)

  00037	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  0003e	75 05		 jne	 SHORT $LN1@pre_render

; 462  : 	{
; 463  : 		draw_kiowa_hud_on_lens_texture ();

  00040	e8 00 00 00 00	 call	 ?draw_kiowa_hud_on_lens_texture@@YGXXZ ; draw_kiowa_hud_on_lens_texture
$LN1@pre_render:

; 464  : 	}
; 465  : }

  00045	5f		 pop	 edi
  00046	5e		 pop	 esi
  00047	5b		 pop	 ebx
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
?pre_render_kiowa_virtual_cockpit_displays@@YGXXZ ENDP	; pre_render_kiowa_virtual_cockpit_displays
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?update_kiowa_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
tv145 = -148						; size = 4
tv134 = -148						; size = 4
tv69 = -148						; size = 4
tv64 = -148						; size = 4
_search$ = -80						; size = 56
_draw_co_pilot_cockpit$ = -24				; size = 4
_draw_pilot_cockpit$ = -20				; size = 4
_draw_crew$ = -16					; size = 4
_draw_controls$ = -12					; size = 4
_draw_glass_cockpit$ = -8				; size = 4
_depth$ = -4						; size = 4
?update_kiowa_virtual_cockpit@@YGXXZ PROC		; update_kiowa_virtual_cockpit, COMDAT

; 189  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 94 00 00
	00		 sub	 esp, 148		; 00000094H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 190  : 	int
; 191  : 		depth,
; 192  : 		draw_glass_cockpit,
; 193  : 		draw_controls,
; 194  : 		draw_crew,
; 195  : 		draw_pilot_cockpit,
; 196  : 		draw_co_pilot_cockpit;
; 197  : 
; 198  : 	object_3d_sub_object_search_data
; 199  : 		search;
; 200  : 
; 201  : 	////////////////////////////////////////
; 202  : 	//
; 203  : 	// sort out what to draw
; 204  : 	//
; 205  : 	////////////////////////////////////////
; 206  : 
; 207  : 	switch (get_view_mode ())

  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  00011	89 85 6c ff ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  00017	83 bd 6c ff ff
	ff 23		 cmp	 DWORD PTR tv64[ebp], 35	; 00000023H
  0001e	74 14		 je	 SHORT $LN10@update_kio
  00020	83 bd 6c ff ff
	ff 25		 cmp	 DWORD PTR tv64[ebp], 37	; 00000025H
  00027	7e 14		 jle	 SHORT $LN11@update_kio
  00029	83 bd 6c ff ff
	ff 29		 cmp	 DWORD PTR tv64[ebp], 41	; 00000029H
  00030	7e 02		 jle	 SHORT $LN10@update_kio
  00032	eb 09		 jmp	 SHORT $LN11@update_kio
$LN10@update_kio:

; 208  : 	{
; 209  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CREW:
; 210  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 211  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 212  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 213  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 214  : 		{
; 215  : 			draw_glass_cockpit = FALSE;

  00034	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _draw_glass_cockpit$[ebp], 0

; 216  : 
; 217  : 			break;

  0003b	eb 08		 jmp	 SHORT $LN2@update_kio
$LN11@update_kio:

; 218  : 		}
; 219  : 		default:
; 220  : 		{
; 221  : 			draw_glass_cockpit = get_global_glass_cockpit ();

  0003d	a1 68 03 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+872
  00042	89 45 f8	 mov	 DWORD PTR _draw_glass_cockpit$[ebp], eax
$LN2@update_kio:

; 222  : 
; 223  : 			break;
; 224  : 		}
; 225  : 	}
; 226  : 
; 227  : 	draw_controls = !draw_glass_cockpit;

  00045	83 7d f8 00	 cmp	 DWORD PTR _draw_glass_cockpit$[ebp], 0
  00049	75 0c		 jne	 SHORT $LN34@update_kio
  0004b	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv69[ebp], 1
  00055	eb 0a		 jmp	 SHORT $LN35@update_kio
$LN34@update_kio:
  00057	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv69[ebp], 0
$LN35@update_kio:
  00061	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv69[ebp]
  00067	89 45 f4	 mov	 DWORD PTR _draw_controls$[ebp], eax

; 228  : 
; 229  : 	if (get_view_mode () == VIEW_MODE_VIRTUAL_COCKPIT_CREW)

  0006a	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  00071	75 10		 jne	 SHORT $LN12@update_kio

; 230  : 	{
; 231  : 		draw_pilot_cockpit = TRUE;

  00073	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _draw_pilot_cockpit$[ebp], 1

; 232  : 
; 233  : 		draw_co_pilot_cockpit = TRUE;

  0007a	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _draw_co_pilot_cockpit$[ebp], 1

; 234  : 	}
; 235  : 	else

  00081	eb 27		 jmp	 SHORT $LN13@update_kio
$LN12@update_kio:

; 236  : 	{
; 237  : 		if (get_crew_role () == CREW_ROLE_PILOT)

  00083	e8 00 00 00 00	 call	 ?get_crew_role@@YG?AW4CREW_ROLES@@XZ ; get_crew_role
  00088	85 c0		 test	 eax, eax
  0008a	75 10		 jne	 SHORT $LN14@update_kio

; 238  : 		{
; 239  : 			draw_pilot_cockpit = TRUE;

  0008c	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _draw_pilot_cockpit$[ebp], 1

; 240  : 
; 241  : 			draw_co_pilot_cockpit = FALSE;

  00093	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _draw_co_pilot_cockpit$[ebp], 0

; 242  : 		}
; 243  : 		else

  0009a	eb 0e		 jmp	 SHORT $LN13@update_kio
$LN14@update_kio:

; 244  : 		{
; 245  : 			draw_pilot_cockpit = FALSE;

  0009c	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _draw_pilot_cockpit$[ebp], 0

; 246  : 
; 247  : 			draw_co_pilot_cockpit = TRUE;

  000a3	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _draw_co_pilot_cockpit$[ebp], 1
$LN13@update_kio:

; 248  : 		}
; 249  : 	}
; 250  : 
; 251  : 	//
; 252  : 	// select 3D instance
; 253  : 	//
; 254  : 
; 255  : 	if (draw_glass_cockpit)

  000aa	83 7d f8 00	 cmp	 DWORD PTR _draw_glass_cockpit$[ebp], 0
  000ae	74 32		 je	 SHORT $LN16@update_kio

; 256  : 	{
; 257  : 		if (virtual_cockpit_inst3d != virtual_cockpit_inst3d_detail_level_glass_inst3d)

  000b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000b5	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000bb	74 23		 je	 SHORT $LN18@update_kio

; 258  : 		{
; 259  : 			virtual_cockpit_inst3d_detail_level_glass_inst3d->vp = virtual_cockpit_inst3d->vp;

  000bd	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000c3	83 c6 08	 add	 esi, 8
  000c6	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000cc	83 c7 08	 add	 edi, 8
  000cf	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  000d4	f3 a5		 rep movsd

; 260  : 
; 261  : 			virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_glass_inst3d;

  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000db	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d
$LN18@update_kio:

; 262  : 		}
; 263  : 	}
; 264  : 	else

  000e0	eb 30		 jmp	 SHORT $LN17@update_kio
$LN16@update_kio:

; 265  : 	{
; 266  : 		if (virtual_cockpit_inst3d != virtual_cockpit_inst3d_detail_level_normal_inst3d)

  000e2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000e7	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000ed	74 23		 je	 SHORT $LN17@update_kio

; 267  : 		{
; 268  : 			virtual_cockpit_inst3d_detail_level_normal_inst3d->vp = virtual_cockpit_inst3d->vp;

  000ef	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000f5	83 c6 08	 add	 esi, 8
  000f8	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000fe	83 c7 08	 add	 edi, 8
  00101	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00106	f3 a5		 rep movsd

; 269  : 
; 270  : 			virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_normal_inst3d;

  00108	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0010d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d
$LN17@update_kio:

; 271  : 		}
; 272  : 	}
; 273  : 
; 274  : 	//
; 275  : 	// draw cockpits
; 276  : 	//
; 277  : 
; 278  : 	depth = 0;

  00112	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0
$LN6@update_kio:

; 279  : 
; 280  : 	for (;;)
; 281  : 	{
; 282  : 		search.search_depth = depth;

  00119	8b 45 fc	 mov	 eax, DWORD PTR _depth$[ebp]
  0011c	89 45 b8	 mov	 DWORD PTR _search$[ebp+8], eax

; 283  : 		search.search_object = virtual_cockpit_inst3d;

  0011f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00124	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 284  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_VISIBLE_TO_PILOT;

  00127	c7 45 bc 9f 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 159 ; 0000009fH

; 285  : 
; 286  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0012e	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00131	50		 push	 eax
  00132	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00137	83 f8 01	 cmp	 eax, 1
  0013a	75 19		 jne	 SHORT $LN20@update_kio

; 287  : 		{
; 288  : 			search.result_sub_object->visible_object = draw_pilot_cockpit;

  0013c	8b 45 ec	 mov	 eax, DWORD PTR _draw_pilot_cockpit$[ebp]
  0013f	83 e0 01	 and	 eax, 1
  00142	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00145	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00148	83 e2 fe	 and	 edx, -2			; fffffffeH
  0014b	0b d0		 or	 edx, eax
  0014d	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00150	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 289  : 		}
; 290  : 		else

  00153	eb 02		 jmp	 SHORT $LN21@update_kio
$LN20@update_kio:

; 291  : 		{
; 292  : 			break;

  00155	eb 0b		 jmp	 SHORT $LN5@update_kio
$LN21@update_kio:

; 293  : 		}
; 294  : 
; 295  : 		depth++;

  00157	8b 45 fc	 mov	 eax, DWORD PTR _depth$[ebp]
  0015a	83 c0 01	 add	 eax, 1
  0015d	89 45 fc	 mov	 DWORD PTR _depth$[ebp], eax

; 296  : 	}

  00160	eb b7		 jmp	 SHORT $LN6@update_kio
$LN5@update_kio:

; 297  : 
; 298  : 	depth = 0;

  00162	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0
$LN9@update_kio:

; 299  : 
; 300  : 	for (;;)
; 301  : 	{
; 302  : 		search.search_depth = depth;

  00169	8b 45 fc	 mov	 eax, DWORD PTR _depth$[ebp]
  0016c	89 45 b8	 mov	 DWORD PTR _search$[ebp+8], eax

; 303  : 		search.search_object = virtual_cockpit_inst3d;

  0016f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00174	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 304  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_VISIBLE_TO_WSO;

  00177	c7 45 bc a0 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 160 ; 000000a0H

; 305  : 
; 306  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0017e	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00181	50		 push	 eax
  00182	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00187	83 f8 01	 cmp	 eax, 1
  0018a	75 19		 jne	 SHORT $LN22@update_kio

; 307  : 		{
; 308  : 			search.result_sub_object->visible_object = draw_co_pilot_cockpit;

  0018c	8b 45 e8	 mov	 eax, DWORD PTR _draw_co_pilot_cockpit$[ebp]
  0018f	83 e0 01	 and	 eax, 1
  00192	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00195	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00198	83 e2 fe	 and	 edx, -2			; fffffffeH
  0019b	0b d0		 or	 edx, eax
  0019d	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  001a0	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 309  : 		}
; 310  : 		else

  001a3	eb 02		 jmp	 SHORT $LN23@update_kio
$LN22@update_kio:

; 311  : 		{
; 312  : 			break;

  001a5	eb 0b		 jmp	 SHORT $LN8@update_kio
$LN23@update_kio:

; 313  : 		}
; 314  : 
; 315  : 		depth++;

  001a7	8b 45 fc	 mov	 eax, DWORD PTR _depth$[ebp]
  001aa	83 c0 01	 add	 eax, 1
  001ad	89 45 fc	 mov	 DWORD PTR _depth$[ebp], eax

; 316  : 	}

  001b0	eb b7		 jmp	 SHORT $LN9@update_kio
$LN8@update_kio:

; 317  : 
; 318  : 	//
; 319  : 	// draw crew
; 320  : 	//
; 321  : 
; 322  : //VJ 050206: wideview improvement show other pilot when in wideview
; 323  : 	draw_crew = !(get_global_wide_cockpit () && wide_cockpit_nr == WIDEVIEW_KIOWA_PILOT);

  001b2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  001b9	74 15		 je	 SHORT $LN36@update_kio
  001bb	83 3d 00 00 00
	00 0b		 cmp	 DWORD PTR ?wide_cockpit_nr@@3HA, 11 ; wide_cockpit_nr, 0000000bH
  001c2	75 0c		 jne	 SHORT $LN36@update_kio
  001c4	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv134[ebp], 0
  001ce	eb 0a		 jmp	 SHORT $LN37@update_kio
$LN36@update_kio:
  001d0	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv134[ebp], 1
$LN37@update_kio:
  001da	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv134[ebp]
  001e0	89 45 f0	 mov	 DWORD PTR _draw_crew$[ebp], eax

; 324  : 
; 325  : 	search.search_depth = 0;

  001e3	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 326  : 	search.search_object = virtual_cockpit_inst3d;

  001ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001ef	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 327  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COMANCHE_PILOT_VISIBLE;

  001f2	c7 45 bc 9d 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 157 ; 0000009dH

; 328  : 
; 329  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  001f9	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  001fc	50		 push	 eax
  001fd	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00202	83 f8 01	 cmp	 eax, 1
  00205	75 17		 jne	 SHORT $LN24@update_kio

; 330  : 	{
; 331  : 		search.result_sub_object->visible_object = draw_crew;

  00207	8b 45 f0	 mov	 eax, DWORD PTR _draw_crew$[ebp]
  0020a	83 e0 01	 and	 eax, 1
  0020d	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00210	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00213	83 e2 fe	 and	 edx, -2			; fffffffeH
  00216	0b d0		 or	 edx, eax
  00218	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  0021b	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN24@update_kio:

; 332  : 	}
; 333  : 
; 334  : //VJ 050206: wideview improvement show other pilot when in wideview
; 335  : 	draw_crew = !(get_global_wide_cockpit () && wide_cockpit_nr == WIDEVIEW_KIOWA_COPILOT);

  0021e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00225	74 15		 je	 SHORT $LN38@update_kio
  00227	83 3d 00 00 00
	00 0c		 cmp	 DWORD PTR ?wide_cockpit_nr@@3HA, 12 ; wide_cockpit_nr, 0000000cH
  0022e	75 0c		 jne	 SHORT $LN38@update_kio
  00230	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv145[ebp], 0
  0023a	eb 0a		 jmp	 SHORT $LN39@update_kio
$LN38@update_kio:
  0023c	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv145[ebp], 1
$LN39@update_kio:
  00246	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv145[ebp]
  0024c	89 45 f0	 mov	 DWORD PTR _draw_crew$[ebp], eax

; 336  : 
; 337  : 	search.search_depth = 0;

  0024f	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 338  : 	search.search_object = virtual_cockpit_inst3d;

  00256	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0025b	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 339  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COMANCHE_WSO_VISIBLE;

  0025e	c7 45 bc 9c 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 156 ; 0000009cH

; 340  : 
; 341  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00265	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00268	50		 push	 eax
  00269	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0026e	83 f8 01	 cmp	 eax, 1
  00271	75 17		 jne	 SHORT $LN25@update_kio

; 342  : 	{
; 343  : 		search.result_sub_object->visible_object = draw_crew;

  00273	8b 45 f0	 mov	 eax, DWORD PTR _draw_crew$[ebp]
  00276	83 e0 01	 and	 eax, 1
  00279	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0027c	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0027f	83 e2 fe	 and	 edx, -2			; fffffffeH
  00282	0b d0		 or	 edx, eax
  00284	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00287	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN25@update_kio:

; 344  : 	}
; 345  : 
; 346  : 	//
; 347  : 	// draw controls
; 348  : 	//
; 349  : 
; 350  : 	search.search_depth = 0;

  0028a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 351  : 	search.search_object = virtual_cockpit_inst3d;

  00291	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00296	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 352  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_JOYSTICK;

  00299	c7 45 bc 97 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 151 ; 00000097H

; 353  : 
; 354  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  002a0	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  002a3	50		 push	 eax
  002a4	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  002a9	83 f8 01	 cmp	 eax, 1
  002ac	75 17		 jne	 SHORT $LN26@update_kio

; 355  : 	{
; 356  : 		search.result_sub_object->visible_object = draw_controls;

  002ae	8b 45 f4	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  002b1	83 e0 01	 and	 eax, 1
  002b4	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  002b7	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  002ba	83 e2 fe	 and	 edx, -2			; fffffffeH
  002bd	0b d0		 or	 edx, eax
  002bf	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  002c2	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN26@update_kio:

; 357  : 	}
; 358  : 
; 359  : 	search.search_depth = 0;

  002c5	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 360  : 	search.search_object = virtual_cockpit_inst3d;

  002cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002d1	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 361  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_COLLECTIVE;

  002d4	c7 45 bc 99 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 153 ; 00000099H

; 362  : 
; 363  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  002db	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  002de	50		 push	 eax
  002df	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  002e4	83 f8 01	 cmp	 eax, 1
  002e7	75 17		 jne	 SHORT $LN27@update_kio

; 364  : 	{
; 365  : 		search.result_sub_object->visible_object = draw_controls;

  002e9	8b 45 f4	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  002ec	83 e0 01	 and	 eax, 1
  002ef	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  002f2	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  002f5	83 e2 fe	 and	 edx, -2			; fffffffeH
  002f8	0b d0		 or	 edx, eax
  002fa	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  002fd	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN27@update_kio:

; 366  : 	}
; 367  : 
; 368  : 	search.search_depth = 0;

  00300	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 369  : 	search.search_object = virtual_cockpit_inst3d;

  00307	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0030c	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 370  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_JOYSTICK;

  0030f	c7 45 bc 98 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 152 ; 00000098H

; 371  : 
; 372  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00316	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00319	50		 push	 eax
  0031a	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0031f	83 f8 01	 cmp	 eax, 1
  00322	75 17		 jne	 SHORT $LN28@update_kio

; 373  : 	{
; 374  : 		search.result_sub_object->visible_object = draw_controls;

  00324	8b 45 f4	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  00327	83 e0 01	 and	 eax, 1
  0032a	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0032d	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00330	83 e2 fe	 and	 edx, -2			; fffffffeH
  00333	0b d0		 or	 edx, eax
  00335	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00338	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN28@update_kio:

; 375  : 	}
; 376  : 
; 377  : 	search.search_depth = 0;

  0033b	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 378  : 	search.search_object = virtual_cockpit_inst3d;

  00342	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00347	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 379  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_COLLECTIVE;

  0034a	c7 45 bc 9a 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 154 ; 0000009aH

; 380  : 
; 381  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00351	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00354	50		 push	 eax
  00355	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0035a	83 f8 01	 cmp	 eax, 1
  0035d	75 17		 jne	 SHORT $LN29@update_kio

; 382  : 	{
; 383  : 		search.result_sub_object->visible_object = draw_controls;

  0035f	8b 45 f4	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  00362	83 e0 01	 and	 eax, 1
  00365	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00368	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0036b	83 e2 fe	 and	 edx, -2			; fffffffeH
  0036e	0b d0		 or	 edx, eax
  00370	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00373	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN29@update_kio:

; 384  : 	}
; 385  : 
; 386  : 	////////////////////////////////////////
; 387  : 	//
; 388  : 	// update animations
; 389  : 	//
; 390  : 	////////////////////////////////////////
; 391  : 
; 392  : 	//
; 393  : 	// crew animation
; 394  : 	//
; 395  : 
; 396  : 	update_kiowa_crew_animation ();

  00376	e8 00 00 00 00	 call	 ?update_kiowa_crew_animation@@YGXXZ ; update_kiowa_crew_animation

; 397  : 
; 398  : 	//
; 399  : 	// canopy doors
; 400  : 	//
; 401  : 
; 402  : 	animate_kiowa_virtual_cockpit_canopy_doors ();

  0037b	e8 00 00 00 00	 call	 ?animate_kiowa_virtual_cockpit_canopy_doors@@YGXXZ ; animate_kiowa_virtual_cockpit_canopy_doors

; 403  : 
; 404  : 	////////////////////////////////////////
; 405  : 	//
; 406  : 	// sort static hands
; 407  : 	//
; 408  : 	////////////////////////////////////////
; 409  : 
; 410  : 	if (!draw_crew)

  00380	83 7d f0 00	 cmp	 DWORD PTR _draw_crew$[ebp], 0
  00384	75 66		 jne	 SHORT $LN1@update_kio

; 411  : 	{
; 412  : 		search.search_depth = 0;

  00386	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 413  : 		search.search_object = virtual_cockpit_inst3d;

  0038d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00392	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 414  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_HAND_STATIC;

  00395	c7 45 bc 9e 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 158 ; 0000009eH

; 415  : 
; 416  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0039c	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  0039f	50		 push	 eax
  003a0	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  003a5	83 f8 01	 cmp	 eax, 1
  003a8	75 0f		 jne	 SHORT $LN31@update_kio

; 417  : 		{
; 418  : 			search.result_sub_object->visible_object = FALSE;

  003aa	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  003ad	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  003b0	83 e1 fe	 and	 ecx, -2			; fffffffeH
  003b3	8b 55 b4	 mov	 edx, DWORD PTR _search$[ebp+4]
  003b6	89 4a 08	 mov	 DWORD PTR [edx+8], ecx
$LN31@update_kio:

; 419  : 		}
; 420  : 
; 421  : 		search.search_depth = 0;

  003b9	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 422  : 		search.search_object = virtual_cockpit_inst3d;

  003c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003c5	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 423  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_HAND_STATIC;

  003c8	c7 45 bc d0 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 208 ; 000000d0H

; 424  : 
; 425  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  003cf	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  003d2	50		 push	 eax
  003d3	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  003d8	83 f8 01	 cmp	 eax, 1
  003db	75 0f		 jne	 SHORT $LN1@update_kio

; 426  : 		{
; 427  : 			search.result_sub_object->visible_object = FALSE;

  003dd	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  003e0	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  003e3	83 e1 fe	 and	 ecx, -2			; fffffffeH
  003e6	8b 55 b4	 mov	 edx, DWORD PTR _search$[ebp+4]
  003e9	89 4a 08	 mov	 DWORD PTR [edx+8], ecx
$LN1@update_kio:

; 428  : 		}
; 429  : 	}
; 430  : }

  003ec	5f		 pop	 edi
  003ed	5e		 pop	 esi
  003ee	5b		 pop	 ebx
  003ef	8b e5		 mov	 esp, ebp
  003f1	5d		 pop	 ebp
  003f2	c3		 ret	 0
?update_kiowa_virtual_cockpit@@YGXXZ ENDP		; update_kiowa_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?deinitialise_kiowa_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?deinitialise_kiowa_virtual_cockpit@@YGXXZ PROC		; deinitialise_kiowa_virtual_cockpit, COMDAT

; 152  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 153  : 	//
; 154  : 	// 3D instances
; 155  : 	//
; 156  : 
; 157  : 	destruct_3d_object (virtual_cockpit_inst3d_detail_level_normal_inst3d);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 158  : 
; 159  : 	destruct_3d_object (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 160  : 
; 161  : 	virtual_cockpit_inst3d = NULL;

  0001f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d

; 162  : 
; 163  : 	//
; 164  : 	// wipers and rain
; 165  : 	//
; 166  : 
; 167  : 	deinitialise_kiowa_virtual_cockpit_wiper_and_rain_effect ();

  00029	e8 00 00 00 00	 call	 ?deinitialise_kiowa_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; deinitialise_kiowa_virtual_cockpit_wiper_and_rain_effect

; 168  : 
; 169  : 	//
; 170  : 	// crew animation
; 171  : 	//
; 172  : 
; 173  : 	deinitialise_kiowa_crew_animation ();

  0002e	e8 00 00 00 00	 call	 ?deinitialise_kiowa_crew_animation@@YGXXZ ; deinitialise_kiowa_crew_animation

; 174  : 
; 175  : 	//
; 176  : 	// virtual cockpit cameras
; 177  : 	//
; 178  : 
; 179  : 	deinitialise_common_virtual_cockpit_cameras ();

  00033	e8 00 00 00 00	 call	 ?deinitialise_common_virtual_cockpit_cameras@@YGXXZ ; deinitialise_common_virtual_cockpit_cameras

; 180  : 
; 181  : 
; 182  : }

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	5b		 pop	 ebx
  0003b	8b e5		 mov	 esp, ebp
  0003d	5d		 pop	 ebp
  0003e	c3		 ret	 0
?deinitialise_kiowa_virtual_cockpit@@YGXXZ ENDP		; deinitialise_kiowa_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\kiowa\ki_vckpt.c
;	COMDAT ?initialise_kiowa_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?initialise_kiowa_virtual_cockpit@@YGXXZ PROC		; initialise_kiowa_virtual_cockpit, COMDAT

; 101  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 102  : 	//
; 103  : 	// 3D instances
; 104  : 	//
; 105  : 
; 106  : 	virtual_cockpit_inst3d_detail_level_normal_inst3d = construct_3d_object (OBJECT_3D_OH_58D_COCKPIT);

  00009	68 e1 0a 00 00	 push	 2785			; 00000ae1H
  0000e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00013	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 107  : 
; 108  : 	virtual_cockpit_inst3d_detail_level_glass_inst3d = construct_3d_object (OBJECT_3D_OH_58D_COCKPIT);

  00018	68 e1 0a 00 00	 push	 2785			; 00000ae1H
  0001d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00022	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 109  : 
; 110  : 	virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_normal_inst3d;

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_normal_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0002c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d

; 111  : 
; 112  : 	pilot_head_pitch_datum = get_kiowa_pilot_head_pitch_datum ();

  00031	e8 00 00 00 00	 call	 ?get_kiowa_pilot_head_pitch_datum@@YGMXZ ; get_kiowa_pilot_head_pitch_datum
  00036	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?pilot_head_pitch_datum@@3MA ; pilot_head_pitch_datum

; 113  : 
; 114  : 	co_pilot_head_pitch_datum = get_kiowa_co_pilot_head_pitch_datum ();

  0003c	e8 00 00 00 00	 call	 ?get_kiowa_co_pilot_head_pitch_datum@@YGMXZ ; get_kiowa_co_pilot_head_pitch_datum
  00041	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?co_pilot_head_pitch_datum@@3MA ; co_pilot_head_pitch_datum

; 115  : 
; 116  : 	//
; 117  : 	// wipers and rain
; 118  : 	//
; 119  : 
; 120  : 	initialise_kiowa_virtual_cockpit_wiper_and_rain_effect ();

  00047	e8 00 00 00 00	 call	 ?initialise_kiowa_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; initialise_kiowa_virtual_cockpit_wiper_and_rain_effect

; 121  : 
; 122  : 	//
; 123  : 	// crew animation
; 124  : 	//
; 125  : 
; 126  : 	initialise_kiowa_crew_animation ();

  0004c	e8 00 00 00 00	 call	 ?initialise_kiowa_crew_animation@@YGXXZ ; initialise_kiowa_crew_animation

; 127  : 
; 128  : 	//
; 129  : 	// canopy doors
; 130  : 	//
; 131  : 
; 132  : 	initialise_kiowa_virtual_cockpit_canopy_doors ();

  00051	e8 00 00 00 00	 call	 ?initialise_kiowa_virtual_cockpit_canopy_doors@@YGXXZ ; initialise_kiowa_virtual_cockpit_canopy_doors

; 133  : 
; 134  : 	//
; 135  : 	// virtual cockpit cameras
; 136  : 	//
; 137  : 
; 138  : 	initialise_common_virtual_cockpit_cameras ();

  00056	e8 00 00 00 00	 call	 ?initialise_common_virtual_cockpit_cameras@@YGXXZ ; initialise_common_virtual_cockpit_cameras

; 139  : 
; 140  : //VJ 050208 cleaing up wideview
; 141  : 	wide_cockpit_nr = WIDEVIEW_KIOWA_PILOT;

  0005b	c7 05 00 00 00
	00 0b 00 00 00	 mov	 DWORD PTR ?wide_cockpit_nr@@3HA, 11 ; wide_cockpit_nr, 0000000bH

; 142  : //VJ wideview mod, date: 20-mar-03
; 143  : //start up in normal view because when you switch to wideview the parameters are read
; 144  : 	set_global_wide_cockpit(FALSE);

  00065	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 145  : }

  0006f	5f		 pop	 edi
  00070	5e		 pop	 esi
  00071	5b		 pop	 ebx
  00072	8b e5		 mov	 esp, ebp
  00074	5d		 pop	 ebp
  00075	c3		 ret	 0
?initialise_kiowa_virtual_cockpit@@YGXXZ ENDP		; initialise_kiowa_virtual_cockpit
_TEXT	ENDS
END
