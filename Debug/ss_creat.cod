; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\session\ss_creat.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_session_create_functions@@YGXXZ	; overload_session_create_functions
PUBLIC	?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_local'::`1'::__LINE__Var
PUBLIC	??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@ ; `string'
PUBLIC	??_C@_0BH@GDGOJOI@?$CBget_session_entity?5?$CI?$CJ@ ; `string'
PUBLIC	??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@	; `string'
PUBLIC	?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_remote'::`1'::__LINE__Var
PUBLIC	??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@ ; `string'
PUBLIC	?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_server'::`1'::__LINE__Var
PUBLIC	??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@ ; `string'
PUBLIC	??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@ ; `string'
PUBLIC	?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_client'::`1'::__LINE__Var
PUBLIC	__real@3f800000
PUBLIC	__real@4024eb1a
PUBLIC	__real@406e000000000000
PUBLIC	__real@40dc200000000000
PUBLIC	__real@414e25e0
PUBLIC	__real@42700000
PUBLIC	__real@42f760a7
PUBLIC	__real@431a9c68
PUBLIC	__real@43346124
PUBLIC	__real@471c4000
PUBLIC	__real@c24e25e0
EXTRN	_memset:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?malloc_fast_memory@@YGPAXI@Z:PROC		; malloc_fast_memory
EXTRN	?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z:PROC	; normalise_any_3d_vector
EXTRN	?set_local_entity_attributes@@YGXPAUENTITY@@PAD@Z:PROC ; set_local_entity_attributes
EXTRN	?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z:PROC ; insert_local_entity_into_parents_child_list
EXTRN	?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ:PROC ; transmit_entity_comms_message
EXTRN	?assert_client_server_local_fn@@YGHXZ:PROC	; assert_client_server_local_fn
EXTRN	?assert_client_server_remote_fn@@YGHXZ:PROC	; assert_client_server_remote_fn
EXTRN	?assert_local_create_entity_index@@YGHH@Z:PROC	; assert_local_create_entity_index
EXTRN	?assert_remote_create_entity_index@@YGHH@Z:PROC	; assert_remote_create_entity_index
EXTRN	?get_free_entity@@YGPAUENTITY@@H@Z:PROC		; get_free_entity
EXTRN	?initialise_pilot_high_score_table@@YGXXZ:PROC	; initialise_pilot_high_score_table
EXTRN	?set_session_entity@@YGXPAUENTITY@@@Z:PROC	; set_session_entity
EXTRN	?get_day_segment_type@@YG?AW4DAY_SEGMENT_TYPES@@M@Z:PROC ; get_day_segment_type
EXTRN	?get_session_random_start_time_of_day@@YGMXZ:PROC ; get_session_random_start_time_of_day
EXTRN	?command_line_fog_of_war_maximum_value@@3MA:DWORD ; command_line_fog_of_war_maximum_value
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A:DWORD ; system_comms_data_flow
EXTRN	?world_map@@3UWORLD_MAP_DATA@@A:BYTE		; world_map
EXTRN	?fn_create_local_entity@@3PAP6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA:BYTE ; fn_create_local_entity
EXTRN	?fn_create_client_server_entity@@3PAY01P6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA:BYTE ; fn_create_client_server_entity
EXTRN	?entities@@3PAUENTITY@@A:DWORD			; entities
EXTRN	?camera_entity@@3PAUENTITY@@A:DWORD		; camera_entity
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?update_entity@@3PAUENTITY@@A:DWORD		; update_entity
EXTRN	__fltused:DWORD
;	COMDAT __real@c24e25e0
CONST	SEGMENT
__real@c24e25e0 DD 0c24e25e0r			; -51.537
CONST	ENDS
;	COMDAT __real@471c4000
CONST	SEGMENT
__real@471c4000 DD 0471c4000r			; 40000
CONST	ENDS
;	COMDAT __real@43346124
CONST	SEGMENT
__real@43346124 DD 043346124r			; 180.379
CONST	ENDS
;	COMDAT __real@431a9c68
CONST	SEGMENT
__real@431a9c68 DD 0431a9c68r			; 154.611
CONST	ENDS
;	COMDAT __real@42f760a7
CONST	SEGMENT
__real@42f760a7 DD 042f760a7r			; 123.689
CONST	ENDS
;	COMDAT __real@42700000
CONST	SEGMENT
__real@42700000 DD 042700000r			; 60
CONST	ENDS
;	COMDAT __real@414e25e0
CONST	SEGMENT
__real@414e25e0 DD 0414e25e0r			; 12.8842
CONST	ENDS
;	COMDAT __real@40dc200000000000
CONST	SEGMENT
__real@40dc200000000000 DQ 040dc200000000000r	; 28800
CONST	ENDS
;	COMDAT __real@406e000000000000
CONST	SEGMENT
__real@406e000000000000 DQ 0406e000000000000r	; 240
CONST	ENDS
;	COMDAT __real@4024eb1a
CONST	SEGMENT
__real@4024eb1a DD 04024eb1ar			; 2.57685
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 0120H ; `create_client'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
CONST	SEGMENT
??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@ DB 'assert_client_se'
	DB	'rver_remote_fn ()', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
CONST	SEGMENT
??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@ DB 'assert_client'
	DB	'_server_local_fn ()', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 0109H ; `create_server'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@
CONST	SEGMENT
??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@ DB 'assert_remote_cre'
	DB	'ate_entity_index ((index))', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 0f6H ; `create_remote'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@ DB 'get_camera_entity ()', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@GDGOJOI@?$CBget_session_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BH@GDGOJOI@?$CBget_session_entity?5?$CI?$CJ@ DB '!get_session_enti'
	DB	'ty ()', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@
CONST	SEGMENT
??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@ DB 'assert_local_crea'
	DB	'te_entity_index ((index))', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\session\ss_cr'
	DB	'eat.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 052H ; `create_local'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\session\ss_creat.c
;	COMDAT ?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
_en$ = -4						; size = 4
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC ; create_client, COMDAT

; 288  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 289  : 	entity
; 290  : 		*en;
; 291  : 
; 292  : 	if (get_comms_data_flow () == COMMS_DATA_FLOW_TX)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A, 0 ; system_comms_data_flow
  00010	75 37		 jne	 SHORT $LN2@create_cli

; 293  : 	{
; 294  : 		validate_client_server_remote_fn ();

  00012	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  00017	85 c0		 test	 eax, eax
  00019	75 18		 jne	 SHORT $LN4@create_cli
  0001b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00020	83 c0 06	 add	 eax, 6
  00023	50		 push	 eax
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_cli:

; 295  : 
; 296  : 		en = create_remote (type, index, pargs);

  00033	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  00036	50		 push	 eax
  00037	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  0003a	51		 push	 ecx
  0003b	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  0003e	52		 push	 edx
  0003f	e8 00 00 00 00	 call	 ?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_remote
  00044	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 297  : 	}
; 298  : 	else

  00047	eb 35		 jmp	 SHORT $LN3@create_cli
$LN2@create_cli:

; 299  : 	{
; 300  : 		validate_client_server_local_fn ();

  00049	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  0004e	85 c0		 test	 eax, eax
  00050	75 18		 jne	 SHORT $LN5@create_cli
  00052	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00057	83 c0 0c	 add	 eax, 12			; 0000000cH
  0005a	50		 push	 eax
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00060	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  00065	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_cli:

; 301  : 
; 302  : 		en = create_local (type, index, pargs);

  0006a	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  0006d	50		 push	 eax
  0006e	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  00071	51		 push	 ecx
  00072	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00075	52		 push	 edx
  00076	e8 00 00 00 00	 call	 ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_local
  0007b	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax
$LN3@create_cli:

; 303  : 	}
; 304  : 
; 305  : 	return (en);

  0007e	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]

; 306  : }

  00081	5f		 pop	 edi
  00082	5e		 pop	 esi
  00083	5b		 pop	 ebx
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c2 0c 00	 ret	 12			; 0000000cH
?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP ; create_client
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\session\ss_creat.c
;	COMDAT ?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
_en$ = -4						; size = 4
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC ; create_server, COMDAT

; 265  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 266  : 	entity
; 267  : 		*en;
; 268  : 
; 269  : 	validate_client_server_local_fn ();

  00009	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  0000e	85 c0		 test	 eax, eax
  00010	75 18		 jne	 SHORT $LN2@create_ser
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00017	83 c0 04	 add	 eax, 4
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_ser:

; 270  : 
; 271  : 	en = create_local (type, index, pargs);

  0002a	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  0002d	50		 push	 eax
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  00031	51		 push	 ecx
  00032	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00035	52		 push	 edx
  00036	e8 00 00 00 00	 call	 ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_local
  0003b	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 272  : 
; 273  : 	if (en)

  0003e	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00042	74 3b		 je	 SHORT $LN3@create_ser

; 274  : 	{
; 275  : 		validate_client_server_remote_fn ();

  00044	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  00049	85 c0		 test	 eax, eax
  0004b	75 18		 jne	 SHORT $LN4@create_ser
  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00052	83 c0 0a	 add	 eax, 10			; 0000000aH
  00055	50		 push	 eax
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  00060	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_ser:

; 276  : 
; 277  : 		create_remote (type, get_local_entity_index (en), pargs);

  00065	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  00068	50		 push	 eax
  00069	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0006c	2b 0d 00 00 00
	00		 sub	 ecx, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  00072	c1 f9 04	 sar	 ecx, 4
  00075	51		 push	 ecx
  00076	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00079	52		 push	 edx
  0007a	e8 00 00 00 00	 call	 ?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_remote
$LN3@create_ser:

; 278  : 	}
; 279  : 
; 280  : 	return (en);

  0007f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]

; 281  : }

  00082	5f		 pop	 edi
  00083	5e		 pop	 esi
  00084	5b		 pop	 ebx
  00085	8b e5		 mov	 esp, ebp
  00087	5d		 pop	 ebp
  00088	c2 0c 00	 ret	 12			; 0000000cH
?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP ; create_server
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\session\ss_creat.c
;	COMDAT ?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC ; create_remote, COMDAT

; 246  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 247  : 	validate_remote_create_entity_index (index);

  00009	8b 45 0c	 mov	 eax, DWORD PTR _index$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?assert_remote_create_entity_index@@YGHH@Z ; assert_remote_create_entity_index
  00012	85 c0		 test	 eax, eax
  00014	75 18		 jne	 SHORT $LN2@create_rem
  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0001b	83 c0 01	 add	 eax, 1
  0001e	50		 push	 eax
  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@
  00029	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_rem:

; 248  : 
; 249  : 	#if DEBUG_MODULE
; 250  : 
; 251  : 	debug_log_entity_args (ENTITY_DEBUG_REMOTE, ENTITY_DEBUG_CREATE, NULL, type, index);
; 252  : 
; 253  : 	#endif
; 254  : 
; 255  : 	transmit_entity_comms_message (ENTITY_COMMS_CREATE, NULL, type, index, pargs);

  0002e	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  00031	50		 push	 eax
  00032	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  00035	51		 push	 ecx
  00036	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00039	52		 push	 edx
  0003a	6a 00		 push	 0
  0003c	6a 08		 push	 8
  0003e	e8 00 00 00 00	 call	 ?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ ; transmit_entity_comms_message
  00043	83 c4 14	 add	 esp, 20			; 00000014H

; 256  : 
; 257  : 	return (NULL);

  00046	33 c0		 xor	 eax, eax

; 258  : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	8b e5		 mov	 esp, ebp
  0004d	5d		 pop	 ebp
  0004e	c2 0c 00	 ret	 12			; 0000000cH
?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP ; create_remote
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\session\ss_creat.c
;	COMDAT ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
tv198 = -88						; size = 8
tv199 = -80						; size = 8
_raw$ = -8						; size = 4
_en$ = -4						; size = 4
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC	; create_local, COMDAT

; 82   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 83   : 	entity
; 84   : 		*en;
; 85   : 
; 86   : 	session
; 87   : 		*raw;
; 88   : 
; 89   : 	////////////////////////////////////////
; 90   :   	//
; 91   :   	// VALIDATE
; 92   :   	//
; 93   : 	////////////////////////////////////////
; 94   : 
; 95   : 	validate_local_create_entity_index (index);

  00009	8b 45 0c	 mov	 eax, DWORD PTR _index$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?assert_local_create_entity_index@@YGHH@Z ; assert_local_create_entity_index
  00012	85 c0		 test	 eax, eax
  00014	75 18		 jne	 SHORT $LN2@create_loc
  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0001b	83 c0 0d	 add	 eax, 13			; 0000000dH
  0001e	50		 push	 eax
  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@
  00029	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_loc:

; 96   : 
; 97   : 	#if DEBUG_MODULE
; 98   : 
; 99   : 	debug_log_entity_args (ENTITY_DEBUG_LOCAL, ENTITY_DEBUG_CREATE, NULL, type, index);
; 100  : 
; 101  : 	#endif
; 102  : 
; 103  : 	en = get_free_entity (index);

  0002e	8b 45 0c	 mov	 eax, DWORD PTR _index$[ebp]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ?get_free_entity@@YGPAUENTITY@@H@Z ; get_free_entity
  00037	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 104  : 
; 105  : 	ASSERT (!get_session_entity ());

  0003a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00041	74 18		 je	 SHORT $LN3@create_loc
  00043	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00048	83 c0 17	 add	 eax, 23			; 00000017H
  0004b	50		 push	 eax
  0004c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00051	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@GDGOJOI@?$CBget_session_entity?5?$CI?$CJ@
  00056	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_loc:

; 106  : 
; 107  : 	if (en)

  0005b	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0005f	0f 84 50 03 00
	00		 je	 $LN4@create_loc

; 108  : 	{
; 109  : 		////////////////////////////////////////
; 110  :    	//
; 111  :    	// MALLOC ENTITY DATA
; 112  :    	//
; 113  : 		////////////////////////////////////////
; 114  : 
; 115  : 		set_local_entity_type (en, type);

  00065	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00068	8b 4d 08	 mov	 ecx, DWORD PTR _type$[ebp]
  0006b	89 08		 mov	 DWORD PTR [eax], ecx

; 116  : 
; 117  : 		raw = (session *) malloc_fast_mem (sizeof (session));

  0006d	68 a8 00 00 00	 push	 168			; 000000a8H
  00072	e8 00 00 00 00	 call	 ?malloc_fast_memory@@YGPAXI@Z ; malloc_fast_memory
  00077	89 45 f8	 mov	 DWORD PTR _raw$[ebp], eax

; 118  : 
; 119  : 		set_local_entity_data (en, raw);

  0007a	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0007d	8b 4d f8	 mov	 ecx, DWORD PTR _raw$[ebp]
  00080	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 120  : 
; 121  : 		////////////////////////////////////////
; 122  :    	//
; 123  :    	// INITIALISE ALL ENTITY DATA TO 'WORKING' DEFAULT VALUES
; 124  : 		//
; 125  : 		// DO NOT USE ACCESS FUNCTIONS
; 126  : 		//
; 127  : 		// DO NOT USE RANDOM VALUES
; 128  : 		//
; 129  : 		////////////////////////////////////////
; 130  : 
; 131  : 		memset (raw, 0, sizeof (session));

  00083	68 a8 00 00 00	 push	 168			; 000000a8H
  00088	6a 00		 push	 0
  0008a	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0008d	50		 push	 eax
  0008e	e8 00 00 00 00	 call	 _memset
  00093	83 c4 0c	 add	 esp, 12			; 0000000cH

; 132  : 
; 133  : 		raw->version_number = get_global_version_number ();

  00096	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00099	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A
  0009f	89 08		 mov	 DWORD PTR [eax], ecx

; 134  : 
; 135  : 		raw->session_complete = FALSE;

  000a1	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000a4	8b 88 a4 00 00
	00		 mov	 ecx, DWORD PTR [eax+164]
  000aa	81 e1 ff ff f3
	ff		 and	 ecx, -786433		; fff3ffffH
  000b0	8b 55 f8	 mov	 edx, DWORD PTR _raw$[ebp]
  000b3	89 8a a4 00 00
	00		 mov	 DWORD PTR [edx+164], ecx

; 136  : 
; 137  : 		raw->cheats_enabled = TRUE;

  000b9	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000bc	8b 88 a4 00 00
	00		 mov	 ecx, DWORD PTR [eax+164]
  000c2	81 c9 00 00 00
	02		 or	 ecx, 33554432		; 02000000H
  000c8	8b 55 f8	 mov	 edx, DWORD PTR _raw$[ebp]
  000cb	89 8a a4 00 00
	00		 mov	 DWORD PTR [edx+164], ecx

; 138  : 
; 139  : 		raw->start_time = get_session_random_start_time_of_day ();

  000d1	e8 00 00 00 00	 call	 ?get_session_random_start_time_of_day@@YGMXZ ; get_session_random_start_time_of_day
  000d6	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000d9	d9 58 18	 fstp	 DWORD PTR [eax+24]

; 140  : 
; 141  : 		raw->time_of_day_acceleration = 1.0;

  000dc	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000df	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000e7	f3 0f 11 40 28	 movss	 DWORD PTR [eax+40], xmm0

; 142  : 
; 143  : 		raw->local_weather_model = TRUE;

  000ec	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000ef	8b 88 a4 00 00
	00		 mov	 ecx, DWORD PTR [eax+164]
  000f5	81 c9 00 00 00
	20		 or	 ecx, 536870912		; 20000000H
  000fb	8b 55 f8	 mov	 edx, DWORD PTR _raw$[ebp]
  000fe	89 8a a4 00 00
	00		 mov	 DWORD PTR [edx+164], ecx

; 144  : 
; 145  : 		raw->weather_mode = WEATHERMODE_DRY;

  00104	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00107	c7 40 3c 01 00
	00 00		 mov	 DWORD PTR [eax+60], 1

; 146  : 
; 147  : 		raw->target_weather_mode = WEATHERMODE_DRY;

  0010e	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00111	c7 40 40 01 00
	00 00		 mov	 DWORD PTR [eax+64], 1

; 148  : 
; 149  : 		raw->weather_radius = 40.0 * KILOMETRE;

  00118	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0011b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@471c4000
  00123	f3 0f 11 40 30	 movss	 DWORD PTR [eax+48], xmm0

; 150  : 
; 151  : 		raw->wind_effect_radius = 40.0 * KILOMETRE;

  00128	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0012b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@471c4000
  00133	f3 0f 11 40 5c	 movss	 DWORD PTR [eax+92], xmm0

; 152  : 
; 153  : 		raw->weather_mode_transitional_period = 60.0;

  00138	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0013b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42700000
  00143	f3 0f 11 40 34	 movss	 DWORD PTR [eax+52], xmm0

; 154  : 
; 155  : 		raw->weather_mode_transitional_status = 0.0;

  00148	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0014b	0f 57 c0	 xorps	 xmm0, xmm0
  0014e	f3 0f 11 40 38	 movss	 DWORD PTR [eax+56], xmm0

; 156  : 
; 157  : 		raw->weather_position.x = MID_MAP_X;

  00153	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00156	f3 0f 10 05 30
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+48
  0015e	f3 0f 11 40 44	 movss	 DWORD PTR [eax+68], xmm0

; 158  : 		raw->weather_position.y = 0.0;

  00163	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00166	0f 57 c0	 xorps	 xmm0, xmm0
  00169	f3 0f 11 40 48	 movss	 DWORD PTR [eax+72], xmm0

; 159  : 		raw->weather_position.z = MID_MAP_Z;

  0016e	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00171	f3 0f 10 05 38
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+56
  00179	f3 0f 11 40 4c	 movss	 DWORD PTR [eax+76], xmm0

; 160  : 
; 161  : 		raw->weather_velocity.x = knots_to_metres_per_second (300.0);

  0017e	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00181	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@431a9c68
  00189	f3 0f 11 40 50	 movss	 DWORD PTR [eax+80], xmm0

; 162  : 		raw->weather_velocity.y = 0.0;

  0018e	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00191	0f 57 c0	 xorps	 xmm0, xmm0
  00194	f3 0f 11 40 54	 movss	 DWORD PTR [eax+84], xmm0

; 163  : 		raw->weather_velocity.z = -knots_to_metres_per_second (100.0);

  00199	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0019c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@c24e25e0
  001a4	f3 0f 11 40 58	 movss	 DWORD PTR [eax+88], xmm0

; 164  : 
; 165  : 		raw->wind_effect_position.x = 0.0;

  001a9	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  001ac	0f 57 c0	 xorps	 xmm0, xmm0
  001af	f3 0f 11 40 78	 movss	 DWORD PTR [eax+120], xmm0

; 166  : 		raw->wind_effect_position.y = 0.0;

  001b4	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  001b7	0f 57 c0	 xorps	 xmm0, xmm0
  001ba	f3 0f 11 40 7c	 movss	 DWORD PTR [eax+124], xmm0

; 167  : 		raw->wind_effect_position.z = 0.0;

  001bf	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  001c2	0f 57 c0	 xorps	 xmm0, xmm0
  001c5	f3 0f 11 80 80
	00 00 00	 movss	 DWORD PTR [eax+128], xmm0

; 168  : 
; 169  : 		raw->wind_effect_velocity.x = knots_to_metres_per_second (240.0);

  001cd	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  001d0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42f760a7
  001d8	f3 0f 11 80 84
	00 00 00	 movss	 DWORD PTR [eax+132], xmm0

; 170  : 		raw->wind_effect_velocity.y = 0.0;

  001e0	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  001e3	0f 57 c0	 xorps	 xmm0, xmm0
  001e6	f3 0f 11 80 88
	00 00 00	 movss	 DWORD PTR [eax+136], xmm0

; 171  : 		raw->wind_effect_velocity.z = knots_to_metres_per_second (350.0);

  001ee	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  001f1	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43346124
  001f9	f3 0f 11 80 8c
	00 00 00	 movss	 DWORD PTR [eax+140], xmm0

; 172  : 
; 173  : 		raw->lightning_timer = ONE_MINUTE;

  00201	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00204	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42700000
  0020c	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0

; 174  : 
; 175  : 		raw->wind_minimum_speed = DEFAULT_MIN_WIND_SPEED;

  00211	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00214	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4024eb1a
  0021c	f3 0f 11 40 64	 movss	 DWORD PTR [eax+100], xmm0

; 176  : 		raw->wind_maximum_speed = DEFAULT_MAX_WIND_SPEED;

  00221	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00224	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@414e25e0
  0022c	f3 0f 11 40 68	 movss	 DWORD PTR [eax+104], xmm0

; 177  : 
; 178  : 		raw->wind_direction_vector.x = raw->wind_effect_position.x - MID_MAP_X;

  00231	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00234	f3 0f 10 40 78	 movss	 xmm0, DWORD PTR [eax+120]
  00239	f3 0f 5c 05 30
	00 00 00	 subss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+48
  00241	8b 4d f8	 mov	 ecx, DWORD PTR _raw$[ebp]
  00244	f3 0f 11 41 6c	 movss	 DWORD PTR [ecx+108], xmm0

; 179  : 		raw->wind_direction_vector.y = 0.0;

  00249	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0024c	0f 57 c0	 xorps	 xmm0, xmm0
  0024f	f3 0f 11 40 70	 movss	 DWORD PTR [eax+112], xmm0

; 180  : 		raw->wind_direction_vector.z = raw->wind_effect_position.z - MID_MAP_Z;

  00254	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00257	f3 0f 10 80 80
	00 00 00	 movss	 xmm0, DWORD PTR [eax+128]
  0025f	f3 0f 5c 05 38
	00 00 00	 subss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+56
  00267	8b 4d f8	 mov	 ecx, DWORD PTR _raw$[ebp]
  0026a	f3 0f 11 41 74	 movss	 DWORD PTR [ecx+116], xmm0

; 181  : 
; 182  : 		normalise_any_3d_vector (&raw->wind_direction_vector);

  0026f	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00272	83 c0 6c	 add	 eax, 108		; 0000006cH
  00275	50		 push	 eax
  00276	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  0027b	dd d8		 fstp	 ST(0)

; 183  : 
; 184  : 		raw->day_segment_type = get_day_segment_type (raw->start_time);

  0027d	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00280	51		 push	 ecx
  00281	f3 0f 10 40 18	 movss	 xmm0, DWORD PTR [eax+24]
  00286	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0028b	e8 00 00 00 00	 call	 ?get_day_segment_type@@YG?AW4DAY_SEGMENT_TYPES@@M@Z ; get_day_segment_type
  00290	8b 4d f8	 mov	 ecx, DWORD PTR _raw$[ebp]
  00293	89 81 90 00 00
	00		 mov	 DWORD PTR [ecx+144], eax

; 185  : 
; 186  : 		raw->population_x_min = MIN_MAP_X;

  00299	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  0029c	f3 0f 10 05 24
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+36
  002a4	f3 0f 11 80 94
	00 00 00	 movss	 DWORD PTR [eax+148], xmm0

; 187  : 		raw->population_x_max = MAX_MAP_X;

  002ac	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  002af	f3 0f 10 05 3c
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+60
  002b7	f3 0f 11 80 98
	00 00 00	 movss	 DWORD PTR [eax+152], xmm0

; 188  : 		raw->population_z_min = MIN_MAP_Z;

  002bf	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  002c2	f3 0f 10 05 2c
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+44
  002ca	f3 0f 11 80 9c
	00 00 00	 movss	 DWORD PTR [eax+156], xmm0

; 189  : 		raw->population_z_max = MAX_MAP_Z;

  002d2	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  002d5	f3 0f 10 05 44
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+68
  002dd	f3 0f 11 80 a0
	00 00 00	 movss	 DWORD PTR [eax+160], xmm0

; 190  : 
; 191  : 		raw->fog_of_war_maximum_value = command_line_fog_of_war_maximum_value;

  002e5	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  002e8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?command_line_fog_of_war_maximum_value@@3MA
  002f0	f3 0f 11 40 2c	 movss	 DWORD PTR [eax+44], xmm0

; 192  : 
; 193  : 		////////////////////////////////////////
; 194  : 		//
; 195  : 		// OVERWRITE DEFAULT VALUES WITH GIVEN ATTRIBUTES
; 196  : 		//
; 197  : 		////////////////////////////////////////
; 198  : 
; 199  : 		set_local_entity_attributes (en, pargs);

  002f5	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  002f8	50		 push	 eax
  002f9	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  002fc	51		 push	 ecx
  002fd	e8 00 00 00 00	 call	 ?set_local_entity_attributes@@YGXPAUENTITY@@PAD@Z ; set_local_entity_attributes

; 200  : 
; 201  : 		////////////////////////////////////////
; 202  : 		//
; 203  : 		// CHECK MANDATORY ATTRIBUTES HAVE BEEN GIVEN
; 204  : 		//
; 205  : 		////////////////////////////////////////
; 206  : 
; 207  : 		////////////////////////////////////////
; 208  : 		//
; 209  : 		// RESOLVE DEFAULT VALUES
; 210  : 		//
; 211  : 		////////////////////////////////////////
; 212  : 
; 213  : 		raw->fog_of_war_maximum_value = bound (raw->fog_of_war_maximum_value, (8.0 * FOG_OF_WAR_DECAY_RATE), (8.0 * ONE_HOUR));

  00302	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00305	f3 0f 5a 40 2c	 cvtss2sd xmm0, DWORD PTR [eax+44]
  0030a	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@406e000000000000
  00312	66 0f 2f c8	 comisd	 xmm1, xmm0
  00316	76 0f		 jbe	 SHORT $LN9@create_loc
  00318	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@406e000000000000
  00320	f2 0f 11 45 b0	 movsd	 QWORD PTR tv199[ebp], xmm0
  00325	eb 38		 jmp	 SHORT $LN10@create_loc
$LN9@create_loc:
  00327	8b 4d f8	 mov	 ecx, DWORD PTR _raw$[ebp]
  0032a	f3 0f 5a 41 2c	 cvtss2sd xmm0, DWORD PTR [ecx+44]
  0032f	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@40dc200000000000
  00337	76 0f		 jbe	 SHORT $LN7@create_loc
  00339	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@40dc200000000000
  00341	f2 0f 11 45 a8	 movsd	 QWORD PTR tv198[ebp], xmm0
  00346	eb 0d		 jmp	 SHORT $LN8@create_loc
$LN7@create_loc:
  00348	8b 55 f8	 mov	 edx, DWORD PTR _raw$[ebp]
  0034b	f3 0f 5a 42 2c	 cvtss2sd xmm0, DWORD PTR [edx+44]
  00350	f2 0f 11 45 a8	 movsd	 QWORD PTR tv198[ebp], xmm0
$LN8@create_loc:
  00355	f2 0f 10 45 a8	 movsd	 xmm0, QWORD PTR tv198[ebp]
  0035a	f2 0f 11 45 b0	 movsd	 QWORD PTR tv199[ebp], xmm0
$LN10@create_loc:
  0035f	f2 0f 5a 45 b0	 cvtsd2ss xmm0, QWORD PTR tv199[ebp]
  00364	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00367	f3 0f 11 40 2c	 movss	 DWORD PTR [eax+44], xmm0

; 214  : 
; 215  : 		////////////////////////////////////////
; 216  : 		//
; 217  : 		// LINK INTO SYSTEM
; 218  : 		//
; 219  : 		////////////////////////////////////////
; 220  : 
; 221  : 		//
; 222  : 		// need to insert session into update list after camera entity
; 223  : 		//
; 224  : 
; 225  : 		ASSERT (get_camera_entity ());

  0036c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?camera_entity@@3PAUENTITY@@A, 0 ; camera_entity
  00373	75 1a		 jne	 SHORT $LN5@create_loc
  00375	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0037a	05 8f 00 00 00	 add	 eax, 143		; 0000008fH
  0037f	50		 push	 eax
  00380	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@LLOEGMDC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00385	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@
  0038a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_loc:

; 226  : 
; 227  : 		insert_local_entity_into_parents_child_list (en, LIST_TYPE_UPDATE, get_update_entity (), get_camera_entity ());

  0038f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  00394	50		 push	 eax
  00395	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?update_entity@@3PAUENTITY@@A ; update_entity
  0039b	51		 push	 ecx
  0039c	6a 29		 push	 41			; 00000029H
  0039e	8b 55 fc	 mov	 edx, DWORD PTR _en$[ebp]
  003a1	52		 push	 edx
  003a2	e8 00 00 00 00	 call	 ?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z ; insert_local_entity_into_parents_child_list

; 228  : 
; 229  : 		set_session_entity (en);

  003a7	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  003aa	50		 push	 eax
  003ab	e8 00 00 00 00	 call	 ?set_session_entity@@YGXPAUENTITY@@@Z ; set_session_entity

; 230  : 
; 231  : 		//
; 232  : 		// for special (i.e. deathmatch games), initialise the high score table (Not used in C-H yet...)
; 233  : 		//
; 234  : 
; 235  : 		initialise_pilot_high_score_table ();

  003b0	e8 00 00 00 00	 call	 ?initialise_pilot_high_score_table@@YGXXZ ; initialise_pilot_high_score_table
$LN4@create_loc:

; 236  : 	}
; 237  : 
; 238  : 	return (en);

  003b5	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]

; 239  : }

  003b8	5f		 pop	 edi
  003b9	5e		 pop	 esi
  003ba	5b		 pop	 ebx
  003bb	8b e5		 mov	 esp, ebp
  003bd	5d		 pop	 ebp
  003be	c2 0c 00	 ret	 12			; 0000000cH
?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP	; create_local
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\session\ss_creat.c
;	COMDAT ?overload_session_create_functions@@YGXXZ
_TEXT	SEGMENT
?overload_session_create_functions@@YGXXZ PROC		; overload_session_create_functions, COMDAT

; 313  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 314  : 	fn_create_local_entity[ENTITY_TYPE_SESSION]										= create_local;

  00009	b8 04 00 00 00	 mov	 eax, 4
  0000e	6b c8 1b	 imul	 ecx, eax, 27
  00011	c7 81 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fn_create_local_entity@@3PAP6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA[ecx], OFFSET ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_local

; 315  : 
; 316  : 	fn_create_client_server_entity[ENTITY_TYPE_SESSION][COMMS_MODEL_SERVER]	= create_server;

  0001b	b8 08 00 00 00	 mov	 eax, 8
  00020	6b c8 1b	 imul	 ecx, eax, 27
  00023	ba 04 00 00 00	 mov	 edx, 4
  00028	6b c2 00	 imul	 eax, edx, 0
  0002b	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_create_client_server_entity@@3PAY01P6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA[ecx+eax], OFFSET ?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_server

; 317  : 
; 318  : 	fn_create_client_server_entity[ENTITY_TYPE_SESSION][COMMS_MODEL_CLIENT]	= create_client;

  00036	b8 08 00 00 00	 mov	 eax, 8
  0003b	6b c8 1b	 imul	 ecx, eax, 27
  0003e	ba 04 00 00 00	 mov	 edx, 4
  00043	c1 e2 00	 shl	 edx, 0
  00046	c7 84 11 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_create_client_server_entity@@3PAY01P6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA[ecx+edx], OFFSET ?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_client

; 319  : }

  00051	5f		 pop	 edi
  00052	5e		 pop	 esi
  00053	5b		 pop	 ebx
  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c3		 ret	 0
?overload_session_create_functions@@YGXXZ ENDP		; overload_session_create_functions
_TEXT	ENDS
END
