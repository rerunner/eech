; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	_cosf
PUBLIC	_sinf
PUBLIC	?cos@@YGMM@Z					; cos
PUBLIC	?sin@@YGMM@Z					; sin
PUBLIC	?get_local_entity_first_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_first_waypoint
PUBLIC	?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_current_waypoint
PUBLIC	?get_local_entity_last_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_last_waypoint
PUBLIC	?get_local_entity_next_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_next_waypoint
PUBLIC	?get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_prev_waypoint
PUBLIC	?get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z ; get_local_waypoint_formation_position_offset
PUBLIC	?get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z ; get_local_entity_formation_position_offset
PUBLIC	?get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z ; get_local_waypoint_formation_position
PUBLIC	?get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z ; get_local_entity_formation_position
PUBLIC	?get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z ; get_local_waypoint_simple_formation_position
PUBLIC	?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA ; `get_local_entity_first_waypoint'::`1'::__LINE__Var
PUBLIC	??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_02LFNMGJAP@en@				; `string'
PUBLIC	?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA ; `get_local_entity_current_waypoint'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA ; `get_local_entity_last_waypoint'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_local_entity_next_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA ; `get_local_entity_next_waypoint'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA ; `get_local_entity_prev_waypoint'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA ; `get_local_waypoint_formation_position_offset'::`1'::__LINE__Var
PUBLIC	??_C@_02HODPCBMO@wp@				; `string'
PUBLIC	??_C@_06KLHHMIGM@offset@			; `string'
PUBLIC	?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA ; `get_local_entity_formation_position_offset'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA ; `get_local_waypoint_formation_position'::`1'::__LINE__Var
PUBLIC	??_C@_03PCBNCGFH@pos@				; `string'
PUBLIC	?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA ; `get_local_entity_formation_position'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z@4JA ; `get_local_waypoint_simple_formation_position'::`1'::__LINE__Var
PUBLIC	??_C@_09HGGDPOEO@formation@			; `string'
PUBLIC	__real@00000000
PUBLIC	__real@3f800000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_cos:PROC
EXTRN	_sin:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z:PROC	; normalise_any_3d_vector
EXTRN	?get_formation@@YGPAUFORMATION_TYPE@@W4FORMATION_TYPES@@@Z:PROC ; get_formation
EXTRN	?get_local_group_primary_task@@YGPAUENTITY@@PAU1@@Z:PROC ; get_local_group_primary_task
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_pred
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	__fltused:DWORD
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT ??_C@_09HGGDPOEO@formation@
CONST	SEGMENT
??_C@_09HGGDPOEO@formation@ DB 'formation', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z@4JA DD 0202H ; `get_local_waypoint_simple_formation_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA DD 01eaH ; `get_local_entity_formation_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_03PCBNCGFH@pos@
CONST	SEGMENT
??_C@_03PCBNCGFH@pos@ DB 'pos', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA DD 01d4H ; `get_local_waypoint_formation_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA DD 01c0H ; `get_local_entity_formation_position_offset'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06KLHHMIGM@offset@
CONST	SEGMENT
??_C@_06KLHHMIGM@offset@ DB 'offset', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_02HODPCBMO@wp@
CONST	SEGMENT
??_C@_02HODPCBMO@wp@ DB 'wp', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA DD 0116H ; `get_local_waypoint_formation_position_offset'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA DD 0f6H ; `get_local_entity_prev_waypoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_next_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_next_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA DD 0d6H ; `get_local_entity_next_waypoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA DD 0a1H ; `get_local_entity_last_waypoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA DD 089H ; `get_local_entity_current_waypoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02LFNMGJAP@en@
CONST	SEGMENT
??_C@_02LFNMGJAP@en@ DB 'en', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\waypoint\wayp'
	DB	'oint.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA DD 050H ; `get_local_entity_first_waypoint'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z
_TEXT	SEGMENT
_formation$ = -20					; size = 4
_perpendicular$ = -16					; size = 12
_index$ = -4						; size = 4
_formation_position$ = 8				; size = 4
_origin$ = 12						; size = 4
_type$ = 16						; size = 4
_pos$ = 20						; size = 4
?get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z PROC ; get_local_waypoint_simple_formation_position, COMDAT

; 514  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 515  :    int
; 516  :       index;
; 517  : 
; 518  :    vec3d
; 519  :       perpendicular;
; 520  : 
; 521  : 	formation_type
; 522  : 		*formation;
; 523  : 
; 524  : 	perpendicular.x = 1.0;

  00009	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00011	f3 0f 11 45 f0	 movss	 DWORD PTR _perpendicular$[ebp], xmm0

; 525  : 	perpendicular.y = 0.0;

  00016	0f 57 c0	 xorps	 xmm0, xmm0
  00019	f3 0f 11 45 f4	 movss	 DWORD PTR _perpendicular$[ebp+4], xmm0

; 526  : 	perpendicular.z = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 45 f8	 movss	 DWORD PTR _perpendicular$[ebp+8], xmm0

; 527  : 
; 528  : 	formation = get_formation ((formation_types) type);

  00026	8b 45 10	 mov	 eax, DWORD PTR _type$[ebp]
  00029	50		 push	 eax
  0002a	e8 00 00 00 00	 call	 ?get_formation@@YGPAUFORMATION_TYPE@@W4FORMATION_TYPES@@@Z ; get_formation
  0002f	89 45 ec	 mov	 DWORD PTR _formation$[ebp], eax

; 529  : 
; 530  : 	ASSERT (formation);

  00032	83 7d ec 00	 cmp	 DWORD PTR _formation$[ebp], 0
  00036	75 18		 jne	 SHORT $LN2@get_local_
  00038	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z@4JA
  0003d	83 c0 10	 add	 eax, 16			; 00000010H
  00040	50		 push	 eax
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00046	68 00 00 00 00	 push	 OFFSET ??_C@_09HGGDPOEO@formation@
  0004b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 531  : 	
; 532  :    index = formation->number_in_formation;

  00050	8b 45 ec	 mov	 eax, DWORD PTR _formation$[ebp]
  00053	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  00057	89 4d fc	 mov	 DWORD PTR _index$[ebp], ecx

; 533  : 
; 534  :    if (index)

  0005a	83 7d fc 00	 cmp	 DWORD PTR _index$[ebp], 0
  0005e	74 0a		 je	 SHORT $LN3@get_local_

; 535  :    {
; 536  :       index = formation_position % index;

  00060	8b 45 08	 mov	 eax, DWORD PTR _formation_position$[ebp]
  00063	99		 cdq
  00064	f7 7d fc	 idiv	 DWORD PTR _index$[ebp]
  00067	89 55 fc	 mov	 DWORD PTR _index$[ebp], edx
$LN3@get_local_:

; 537  :    }
; 538  : 
; 539  :    pos->x = origin->x +

  0006a	6b 45 fc 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  0006e	8b 4d ec	 mov	 ecx, DWORD PTR _formation$[ebp]
  00071	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00074	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _perpendicular$[ebp]
  00079	f3 0f 59 04 02	 mulss	 xmm0, DWORD PTR [edx+eax]
  0007e	8b 45 0c	 mov	 eax, DWORD PTR _origin$[ebp]
  00081	f3 0f 58 00	 addss	 xmm0, DWORD PTR [eax]
  00085	6b 4d fc 0c	 imul	 ecx, DWORD PTR _index$[ebp], 12
  00089	8b 55 ec	 mov	 edx, DWORD PTR _formation$[ebp]
  0008c	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  0008f	f3 0f 10 4d f8	 movss	 xmm1, DWORD PTR _perpendicular$[ebp+8]
  00094	f3 0f 59 4c 08
	08		 mulss	 xmm1, DWORD PTR [eax+ecx+8]
  0009a	f3 0f 5c c1	 subss	 xmm0, xmm1
  0009e	8b 4d 14	 mov	 ecx, DWORD PTR _pos$[ebp]
  000a1	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 540  :             perpendicular.x * formation->sites [index].x -	
; 541  :             perpendicular.z * formation->sites [index].z;
; 542  : 
; 543  :    pos->y = origin->y + formation->sites [index].y;

  000a5	6b 45 fc 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  000a9	8b 4d ec	 mov	 ecx, DWORD PTR _formation$[ebp]
  000ac	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  000af	8b 4d 0c	 mov	 ecx, DWORD PTR _origin$[ebp]
  000b2	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  000b7	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  000bd	8b 55 14	 mov	 edx, DWORD PTR _pos$[ebp]
  000c0	f3 0f 11 42 04	 movss	 DWORD PTR [edx+4], xmm0

; 544  : 
; 545  :    pos->z = origin->z +

  000c5	6b 45 fc 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  000c9	8b 4d ec	 mov	 ecx, DWORD PTR _formation$[ebp]
  000cc	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  000cf	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _perpendicular$[ebp+8]
  000d4	f3 0f 59 04 02	 mulss	 xmm0, DWORD PTR [edx+eax]
  000d9	8b 45 0c	 mov	 eax, DWORD PTR _origin$[ebp]
  000dc	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  000e1	6b 4d fc 0c	 imul	 ecx, DWORD PTR _index$[ebp], 12
  000e5	8b 55 ec	 mov	 edx, DWORD PTR _formation$[ebp]
  000e8	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  000eb	f3 0f 10 4d f0	 movss	 xmm1, DWORD PTR _perpendicular$[ebp]
  000f0	f3 0f 59 4c 08
	08		 mulss	 xmm1, DWORD PTR [eax+ecx+8]
  000f6	f3 0f 58 c1	 addss	 xmm0, xmm1
  000fa	8b 4d 14	 mov	 ecx, DWORD PTR _pos$[ebp]
  000fd	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 546  :             perpendicular.z * formation->sites [index].x +
; 547  :             perpendicular.x * formation->sites [index].z;
; 548  : }

  00102	5f		 pop	 edi
  00103	5e		 pop	 esi
  00104	5b		 pop	 ebx
  00105	8b e5		 mov	 esp, ebp
  00107	5d		 pop	 ebp
  00108	c2 10 00	 ret	 16			; 00000010H
?get_local_waypoint_simple_formation_position@@YGXHPAUVEC3D@@H0@Z ENDP ; get_local_waypoint_simple_formation_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z
_TEXT	SEGMENT
tv93 = -84						; size = 4
tv85 = -80						; size = 4
_offset$ = -12						; size = 12
_en$ = 8						; size = 4
_wp$ = 12						; size = 4
_pos$ = 16						; size = 4
?get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z PROC ; get_local_entity_formation_position, COMDAT

; 490  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 491  : 	vec3d
; 492  : 		offset;
; 493  : 
; 494  : 	ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 495  : 
; 496  : 	ASSERT (wp);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  0002b	75 18		 jne	 SHORT $LN3@get_local_
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00032	83 c0 06	 add	 eax, 6
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_02HODPCBMO@wp@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_local_:

; 497  : 
; 498  : 	ASSERT (pos);

  00045	83 7d 10 00	 cmp	 DWORD PTR _pos$[ebp], 0
  00049	75 18		 jne	 SHORT $LN4@get_local_
  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00050	83 c0 08	 add	 eax, 8
  00053	50		 push	 eax
  00054	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00059	68 00 00 00 00	 push	 OFFSET ??_C@_03PCBNCGFH@pos@
  0005e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@get_local_:

; 499  : 
; 500  : 	get_local_entity_vec3d (wp, VEC3D_TYPE_POSITION, pos);

  00063	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00067	74 0a		 je	 SHORT $LN6@get_local_
  00069	8b 45 0c	 mov	 eax, DWORD PTR _wp$[ebp]
  0006c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0006e	89 4d b0	 mov	 DWORD PTR tv85[ebp], ecx
  00071	eb 21		 jmp	 SHORT $LN7@get_local_
$LN6@get_local_:
  00073	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00079	83 c2 0a	 add	 edx, 10			; 0000000aH
  0007c	52		 push	 edx
  0007d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00082	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008d	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN7@get_local_:
  00094	b9 01 00 00 00	 mov	 ecx, 1
  00099	85 c9		 test	 ecx, ecx
  0009b	74 09		 je	 SHORT $LN8@get_local_
  0009d	c7 45 ac 08 00
	00 00		 mov	 DWORD PTR tv93[ebp], 8
  000a4	eb 21		 jmp	 SHORT $LN9@get_local_
$LN8@get_local_:
  000a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  000ac	83 c2 0a	 add	 edx, 10			; 0000000aH
  000af	52		 push	 edx
  000b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c0	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN9@get_local_:
  000c7	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  000ca	51		 push	 ecx
  000cb	6a 08		 push	 8
  000cd	8b 55 0c	 mov	 edx, DWORD PTR _wp$[ebp]
  000d0	52		 push	 edx
  000d1	6b 45 b0 60	 imul	 eax, DWORD PTR tv85[ebp], 96
  000d5	8b 4d ac	 mov	 ecx, DWORD PTR tv93[ebp]
  000d8	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  000df	ff d2		 call	 edx

; 501  : 
; 502  : 	get_local_entity_formation_position_offset (en, wp, &offset);

  000e1	8d 45 f4	 lea	 eax, DWORD PTR _offset$[ebp]
  000e4	50		 push	 eax
  000e5	8b 4d 0c	 mov	 ecx, DWORD PTR _wp$[ebp]
  000e8	51		 push	 ecx
  000e9	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  000ec	52		 push	 edx
  000ed	e8 00 00 00 00	 call	 ?get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z ; get_local_entity_formation_position_offset

; 503  : 
; 504  : 	pos->x += offset.x;

  000f2	8b 45 10	 mov	 eax, DWORD PTR _pos$[ebp]
  000f5	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  000f9	f3 0f 58 45 f4	 addss	 xmm0, DWORD PTR _offset$[ebp]
  000fe	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  00101	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 505  : 	pos->y += offset.y;

  00105	8b 45 10	 mov	 eax, DWORD PTR _pos$[ebp]
  00108	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  0010d	f3 0f 58 45 f8	 addss	 xmm0, DWORD PTR _offset$[ebp+4]
  00112	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  00115	f3 0f 11 41 04	 movss	 DWORD PTR [ecx+4], xmm0

; 506  : 	pos->z += offset.z;

  0011a	8b 45 10	 mov	 eax, DWORD PTR _pos$[ebp]
  0011d	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00122	f3 0f 58 45 fc	 addss	 xmm0, DWORD PTR _offset$[ebp+8]
  00127	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  0012a	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 507  : }

  0012f	5f		 pop	 edi
  00130	5e		 pop	 esi
  00131	5b		 pop	 ebx
  00132	8b e5		 mov	 esp, ebp
  00134	5d		 pop	 ebp
  00135	c2 0c 00	 ret	 12			; 0000000cH
?get_local_entity_formation_position@@YGXPAUENTITY@@0PAUVEC3D@@@Z ENDP ; get_local_entity_formation_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z
_TEXT	SEGMENT
tv88 = -84						; size = 4
tv80 = -80						; size = 4
_offset$ = -12						; size = 12
_formation_position$ = 8				; size = 4
_wp$ = 12						; size = 4
_pos$ = 16						; size = 4
?get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z PROC ; get_local_waypoint_formation_position, COMDAT

; 468  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 469  : 	vec3d
; 470  : 		offset;
; 471  : 
; 472  : 	ASSERT (wp);

  00009	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02HODPCBMO@wp@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 473  : 
; 474  : 	ASSERT (pos);

  00027	83 7d 10 00	 cmp	 DWORD PTR _pos$[ebp], 0
  0002b	75 18		 jne	 SHORT $LN3@get_local_
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00032	83 c0 06	 add	 eax, 6
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_03PCBNCGFH@pos@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_local_:

; 475  : 
; 476  : 	get_local_entity_vec3d (wp, VEC3D_TYPE_POSITION, pos);

  00045	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00049	74 0a		 je	 SHORT $LN5@get_local_
  0004b	8b 45 0c	 mov	 eax, DWORD PTR _wp$[ebp]
  0004e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00050	89 4d b0	 mov	 DWORD PTR tv80[ebp], ecx
  00053	eb 21		 jmp	 SHORT $LN6@get_local_
$LN5@get_local_:
  00055	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  0005b	83 c2 08	 add	 edx, 8
  0005e	52		 push	 edx
  0005f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00064	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN6@get_local_:
  00076	b9 01 00 00 00	 mov	 ecx, 1
  0007b	85 c9		 test	 ecx, ecx
  0007d	74 09		 je	 SHORT $LN7@get_local_
  0007f	c7 45 ac 08 00
	00 00		 mov	 DWORD PTR tv88[ebp], 8
  00086	eb 21		 jmp	 SHORT $LN8@get_local_
$LN7@get_local_:
  00088	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  0008e	83 c2 08	 add	 edx, 8
  00091	52		 push	 edx
  00092	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00097	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0009c	50		 push	 eax
  0009d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000a2	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv88[ebp], 0
$LN8@get_local_:
  000a9	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  000ac	51		 push	 ecx
  000ad	6a 08		 push	 8
  000af	8b 55 0c	 mov	 edx, DWORD PTR _wp$[ebp]
  000b2	52		 push	 edx
  000b3	6b 45 b0 60	 imul	 eax, DWORD PTR tv80[ebp], 96
  000b7	8b 4d ac	 mov	 ecx, DWORD PTR tv88[ebp]
  000ba	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  000c1	ff d2		 call	 edx

; 477  : 
; 478  : 	get_local_waypoint_formation_position_offset (formation_position, wp, &offset);

  000c3	8d 45 f4	 lea	 eax, DWORD PTR _offset$[ebp]
  000c6	50		 push	 eax
  000c7	8b 4d 0c	 mov	 ecx, DWORD PTR _wp$[ebp]
  000ca	51		 push	 ecx
  000cb	8b 55 08	 mov	 edx, DWORD PTR _formation_position$[ebp]
  000ce	52		 push	 edx
  000cf	e8 00 00 00 00	 call	 ?get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z ; get_local_waypoint_formation_position_offset

; 479  : 
; 480  : 	pos->x += offset.x;

  000d4	8b 45 10	 mov	 eax, DWORD PTR _pos$[ebp]
  000d7	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  000db	f3 0f 58 45 f4	 addss	 xmm0, DWORD PTR _offset$[ebp]
  000e0	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  000e3	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 481  : 	pos->y += offset.y;

  000e7	8b 45 10	 mov	 eax, DWORD PTR _pos$[ebp]
  000ea	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  000ef	f3 0f 58 45 f8	 addss	 xmm0, DWORD PTR _offset$[ebp+4]
  000f4	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  000f7	f3 0f 11 41 04	 movss	 DWORD PTR [ecx+4], xmm0

; 482  : 	pos->z += offset.z;

  000fc	8b 45 10	 mov	 eax, DWORD PTR _pos$[ebp]
  000ff	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00104	f3 0f 58 45 fc	 addss	 xmm0, DWORD PTR _offset$[ebp+8]
  00109	8b 4d 10	 mov	 ecx, DWORD PTR _pos$[ebp]
  0010c	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 483  : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 0c 00	 ret	 12			; 0000000cH
?get_local_waypoint_formation_position@@YGXHPAUENTITY@@PAUVEC3D@@@Z ENDP ; get_local_waypoint_formation_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z
_TEXT	SEGMENT
tv93 = -76						; size = 4
tv85 = -72						; size = 4
_formation_position$ = -4				; size = 4
_en$ = 8						; size = 4
_wp$ = 12						; size = 4
_offset$ = 16						; size = 4
?get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z PROC ; get_local_entity_formation_position_offset, COMDAT

; 448  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 449  :    int
; 450  : 		formation_position;
; 451  : 
; 452  : 	ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 453  : 
; 454  : 	ASSERT (wp);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  0002b	75 18		 jne	 SHORT $LN3@get_local_
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00032	83 c0 06	 add	 eax, 6
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_02HODPCBMO@wp@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_local_:

; 455  : 
; 456  : 	ASSERT (offset);

  00045	83 7d 10 00	 cmp	 DWORD PTR _offset$[ebp], 0
  00049	75 18		 jne	 SHORT $LN4@get_local_
  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00050	83 c0 08	 add	 eax, 8
  00053	50		 push	 eax
  00054	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00059	68 00 00 00 00	 push	 OFFSET ??_C@_06KLHHMIGM@offset@
  0005e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@get_local_:

; 457  : 
; 458  : 	formation_position = get_local_entity_int_value (en, INT_TYPE_FORMATION_POSITION);

  00063	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00067	74 0a		 je	 SHORT $LN6@get_local_
  00069	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0006c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0006e	89 4d b8	 mov	 DWORD PTR tv85[ebp], ecx
  00071	eb 21		 jmp	 SHORT $LN7@get_local_
$LN6@get_local_:
  00073	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  00079	83 c2 0a	 add	 edx, 10			; 0000000aH
  0007c	52		 push	 edx
  0007d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00082	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008d	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN7@get_local_:
  00094	b9 01 00 00 00	 mov	 ecx, 1
  00099	85 c9		 test	 ecx, ecx
  0009b	74 09		 je	 SHORT $LN8@get_local_
  0009d	c7 45 b4 3e 00
	00 00		 mov	 DWORD PTR tv93[ebp], 62	; 0000003eH
  000a4	eb 21		 jmp	 SHORT $LN9@get_local_
$LN8@get_local_:
  000a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z@4JA
  000ac	83 c2 0a	 add	 edx, 10			; 0000000aH
  000af	52		 push	 edx
  000b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c0	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN9@get_local_:
  000c7	6a 3e		 push	 62			; 0000003eH
  000c9	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000cc	51		 push	 ecx
  000cd	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv85[ebp], 1116
  000d4	8b 45 b4	 mov	 eax, DWORD PTR tv93[ebp]
  000d7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  000de	ff d1		 call	 ecx
  000e0	89 45 fc	 mov	 DWORD PTR _formation_position$[ebp], eax

; 459  : 
; 460  : 	get_local_waypoint_formation_position_offset (formation_position, wp, offset);

  000e3	8b 45 10	 mov	 eax, DWORD PTR _offset$[ebp]
  000e6	50		 push	 eax
  000e7	8b 4d 0c	 mov	 ecx, DWORD PTR _wp$[ebp]
  000ea	51		 push	 ecx
  000eb	8b 55 fc	 mov	 edx, DWORD PTR _formation_position$[ebp]
  000ee	52		 push	 edx
  000ef	e8 00 00 00 00	 call	 ?get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z ; get_local_waypoint_formation_position_offset

; 461  : }

  000f4	5f		 pop	 edi
  000f5	5e		 pop	 esi
  000f6	5b		 pop	 ebx
  000f7	8b e5		 mov	 esp, ebp
  000f9	5d		 pop	 ebp
  000fa	c2 0c 00	 ret	 12			; 0000000cH
?get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z ENDP ; get_local_entity_formation_position_offset
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z
_TEXT	SEGMENT
tv296 = -184						; size = 4
tv210 = -184						; size = 4
tv186 = -184						; size = 4
tv165 = -184						; size = 4
tv145 = -184						; size = 4
tv89 = -184						; size = 4
tv288 = -180						; size = 4
tv202 = -180						; size = 4
tv178 = -180						; size = 4
tv157 = -180						; size = 4
tv137 = -180						; size = 4
tv81 = -180						; size = 4
_raw$ = -112						; size = 4
_formation$ = -108					; size = 4
_sin_heading$ = -104					; size = 4
_cos_heading$ = -100					; size = 4
_perpendicular$ = -96					; size = 12
_resultant$ = -84					; size = 12
_second$ = -72						; size = 12
_first$ = -60						; size = 12
_succ_pos$ = -48					; size = 12
_pred_pos$ = -36					; size = 12
_wp_pos$ = -24						; size = 4
_wp_succ$ = -20						; size = 4
_wp_pred$ = -16						; size = 4
_formation_count$ = -12					; size = 4
_index$ = -8						; size = 4
_type$ = -4						; size = 4
_formation_position$ = 8				; size = 4
_wp$ = 12						; size = 4
_offset$ = 16						; size = 4
?get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z PROC ; get_local_waypoint_formation_position_offset, COMDAT

; 278  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b8 00 00
	00		 sub	 esp, 184		; 000000b8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 279  :    int
; 280  :       type,
; 281  :       index,
; 282  : 		formation_count;
; 283  : 
; 284  :    entity
; 285  :       *wp_pred,
; 286  :       *wp_succ;
; 287  : 
; 288  :    vec3d
; 289  :       *wp_pos,
; 290  :       pred_pos,
; 291  :       succ_pos,
; 292  :       first,
; 293  :       second,
; 294  :       resultant,
; 295  :       perpendicular;
; 296  : 
; 297  : 	float
; 298  : 		cos_heading,
; 299  : 		sin_heading;
; 300  : 
; 301  : 	formation_type
; 302  : 		*formation;
; 303  : 
; 304  : 	waypoint
; 305  : 		*raw;
; 306  : 
; 307  : 	ASSERT (wp);

  0000c	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@get_local_
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00017	83 c0 1d	 add	 eax, 29			; 0000001dH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_02HODPCBMO@wp@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 308  : 
; 309  : 	ASSERT (offset);

  0002a	83 7d 10 00	 cmp	 DWORD PTR _offset$[ebp], 0
  0002e	75 18		 jne	 SHORT $LN3@get_local_
  00030	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00035	83 c0 1f	 add	 eax, 31			; 0000001fH
  00038	50		 push	 eax
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	68 00 00 00 00	 push	 OFFSET ??_C@_06KLHHMIGM@offset@
  00043	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_local_:

; 310  : 
; 311  : 	raw = (waypoint *) get_local_entity_data (wp);

  00048	8b 45 0c	 mov	 eax, DWORD PTR _wp$[ebp]
  0004b	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0004e	89 4d 90	 mov	 DWORD PTR _raw$[ebp], ecx

; 312  : 
; 313  : 	//
; 314  : 	// default values
; 315  : 	//
; 316  : 
; 317  : 	perpendicular.x = 1.0;

  00051	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00059	f3 0f 11 45 a0	 movss	 DWORD PTR _perpendicular$[ebp], xmm0

; 318  : 	perpendicular.y = 0.0;

  0005e	0f 57 c0	 xorps	 xmm0, xmm0
  00061	f3 0f 11 45 a4	 movss	 DWORD PTR _perpendicular$[ebp+4], xmm0

; 319  : 	perpendicular.z = 0.0;

  00066	0f 57 c0	 xorps	 xmm0, xmm0
  00069	f3 0f 11 45 a8	 movss	 DWORD PTR _perpendicular$[ebp+8], xmm0

; 320  : 
; 321  : 	//
; 322  : 	// get current waypoint position
; 323  : 	//	
; 324  : 	
; 325  : 	wp_pos = get_local_entity_vec3d_ptr (wp, VEC3D_TYPE_POSITION);

  0006e	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00072	74 0d		 je	 SHORT $LN16@get_local_
  00074	8b 45 0c	 mov	 eax, DWORD PTR _wp$[ebp]
  00077	8b 08		 mov	 ecx, DWORD PTR [eax]
  00079	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv81[ebp], ecx
  0007f	eb 24		 jmp	 SHORT $LN17@get_local_
$LN16@get_local_:
  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00087	83 c2 2f	 add	 edx, 47			; 0000002fH
  0008a	52		 push	 edx
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009b	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv81[ebp], 0
$LN17@get_local_:
  000a5	b9 01 00 00 00	 mov	 ecx, 1
  000aa	85 c9		 test	 ecx, ecx
  000ac	74 0c		 je	 SHORT $LN18@get_local_
  000ae	c7 85 48 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv89[ebp], 8
  000b8	eb 24		 jmp	 SHORT $LN19@get_local_
$LN18@get_local_:
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  000c0	83 c2 2f	 add	 edx, 47			; 0000002fH
  000c3	52		 push	 edx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000ce	50		 push	 eax
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv89[ebp], 0
$LN19@get_local_:
  000de	6a 08		 push	 8
  000e0	8b 4d 0c	 mov	 ecx, DWORD PTR _wp$[ebp]
  000e3	51		 push	 ecx
  000e4	6b 95 4c ff ff
	ff 60		 imul	 edx, DWORD PTR tv81[ebp], 96
  000eb	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv89[ebp]
  000f1	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000f8	ff d1		 call	 ecx
  000fa	89 45 e8	 mov	 DWORD PTR _wp_pos$[ebp], eax

; 326  : 	
; 327  : 	//
; 328  : 	// find perpendicular vector (but only for non-relative waypoints)
; 329  : 	//
; 330  : 
; 331  : 	if (raw->position_type != POSITION_TYPE_RELATIVE)

  000fd	8b 45 90	 mov	 eax, DWORD PTR _raw$[ebp]
  00100	8b 48 2c	 mov	 ecx, DWORD PTR [eax+44]
  00103	c1 e9 04	 shr	 ecx, 4
  00106	83 e1 03	 and	 ecx, 3
  00109	83 f9 01	 cmp	 ecx, 1
  0010c	0f 84 14 04 00
	00		 je	 $LN12@get_local_

; 332  : 	{
; 333  : 		wp_pred = get_local_entity_child_pred (wp, LIST_TYPE_WAYPOINT);

  00112	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00116	74 0d		 je	 SHORT $LN20@get_local_
  00118	8b 45 0c	 mov	 eax, DWORD PTR _wp$[ebp]
  0011b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0011d	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv137[ebp], ecx
  00123	eb 24		 jmp	 SHORT $LN21@get_local_
$LN20@get_local_:
  00125	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  0012b	83 c2 37	 add	 edx, 55			; 00000037H
  0012e	52		 push	 edx
  0012f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00134	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00139	50		 push	 eax
  0013a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0013f	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv137[ebp], 0
$LN21@get_local_:
  00149	b9 01 00 00 00	 mov	 ecx, 1
  0014e	85 c9		 test	 ecx, ecx
  00150	74 0c		 je	 SHORT $LN22@get_local_
  00152	c7 85 48 ff ff
	ff 2c 00 00 00	 mov	 DWORD PTR tv145[ebp], 44 ; 0000002cH
  0015c	eb 24		 jmp	 SHORT $LN23@get_local_
$LN22@get_local_:
  0015e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00164	83 c2 37	 add	 edx, 55			; 00000037H
  00167	52		 push	 edx
  00168	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0016d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00172	50		 push	 eax
  00173	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00178	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv145[ebp], 0
$LN23@get_local_:
  00182	6a 2c		 push	 44			; 0000002cH
  00184	8b 4d 0c	 mov	 ecx, DWORD PTR _wp$[ebp]
  00187	51		 push	 ecx
  00188	69 95 4c ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv137[ebp], 180
  00192	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv145[ebp]
  00198	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0019f	ff d1		 call	 ecx
  001a1	89 45 f0	 mov	 DWORD PTR _wp_pred$[ebp], eax

; 334  : 	
; 335  : 		wp_succ = get_local_entity_child_succ (wp, LIST_TYPE_WAYPOINT);

  001a4	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  001a8	74 0d		 je	 SHORT $LN24@get_local_
  001aa	8b 45 0c	 mov	 eax, DWORD PTR _wp$[ebp]
  001ad	8b 08		 mov	 ecx, DWORD PTR [eax]
  001af	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv157[ebp], ecx
  001b5	eb 24		 jmp	 SHORT $LN25@get_local_
$LN24@get_local_:
  001b7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  001bd	83 c2 39	 add	 edx, 57			; 00000039H
  001c0	52		 push	 edx
  001c1	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001cb	50		 push	 eax
  001cc	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d1	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv157[ebp], 0
$LN25@get_local_:
  001db	b9 01 00 00 00	 mov	 ecx, 1
  001e0	85 c9		 test	 ecx, ecx
  001e2	74 0c		 je	 SHORT $LN26@get_local_
  001e4	c7 85 48 ff ff
	ff 2c 00 00 00	 mov	 DWORD PTR tv165[ebp], 44 ; 0000002cH
  001ee	eb 24		 jmp	 SHORT $LN27@get_local_
$LN26@get_local_:
  001f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  001f6	83 c2 39	 add	 edx, 57			; 00000039H
  001f9	52		 push	 edx
  001fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00204	50		 push	 eax
  00205	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0020a	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv165[ebp], 0
$LN27@get_local_:
  00214	6a 2c		 push	 44			; 0000002cH
  00216	8b 4d 0c	 mov	 ecx, DWORD PTR _wp$[ebp]
  00219	51		 push	 ecx
  0021a	69 95 4c ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv157[ebp], 180
  00224	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv165[ebp]
  0022a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00231	ff d1		 call	 ecx
  00233	89 45 ec	 mov	 DWORD PTR _wp_succ$[ebp], eax

; 336  : 	
; 337  : 		//
; 338  : 		// get previous waypoint position
; 339  : 		//	
; 340  : 	
; 341  : 		if (wp_pred)

  00236	83 7d f0 00	 cmp	 DWORD PTR _wp_pred$[ebp], 0
  0023a	0f 84 92 00 00
	00		 je	 $LN5@get_local_

; 342  : 		{
; 343  : 			get_local_entity_vec3d (wp_pred, VEC3D_TYPE_POSITION, &pred_pos);

  00240	83 7d f0 00	 cmp	 DWORD PTR _wp_pred$[ebp], 0
  00244	74 0d		 je	 SHORT $LN28@get_local_
  00246	8b 45 f0	 mov	 eax, DWORD PTR _wp_pred$[ebp]
  00249	8b 08		 mov	 ecx, DWORD PTR [eax]
  0024b	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv178[ebp], ecx
  00251	eb 24		 jmp	 SHORT $LN29@get_local_
$LN28@get_local_:
  00253	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00259	83 c2 41	 add	 edx, 65			; 00000041H
  0025c	52		 push	 edx
  0025d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00262	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00267	50		 push	 eax
  00268	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0026d	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv178[ebp], 0
$LN29@get_local_:
  00277	b9 01 00 00 00	 mov	 ecx, 1
  0027c	85 c9		 test	 ecx, ecx
  0027e	74 0c		 je	 SHORT $LN30@get_local_
  00280	c7 85 48 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv186[ebp], 8
  0028a	eb 24		 jmp	 SHORT $LN31@get_local_
$LN30@get_local_:
  0028c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00292	83 c2 41	 add	 edx, 65			; 00000041H
  00295	52		 push	 edx
  00296	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0029b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  002a0	50		 push	 eax
  002a1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a6	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv186[ebp], 0
$LN31@get_local_:
  002b0	8d 4d dc	 lea	 ecx, DWORD PTR _pred_pos$[ebp]
  002b3	51		 push	 ecx
  002b4	6a 08		 push	 8
  002b6	8b 55 f0	 mov	 edx, DWORD PTR _wp_pred$[ebp]
  002b9	52		 push	 edx
  002ba	6b 85 4c ff ff
	ff 60		 imul	 eax, DWORD PTR tv178[ebp], 96
  002c1	8b 8d 48 ff ff
	ff		 mov	 ecx, DWORD PTR tv186[ebp]
  002c7	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  002ce	ff d2		 call	 edx

; 344  : 		}
; 345  : 		else

  002d0	eb 26		 jmp	 SHORT $LN6@get_local_
$LN5@get_local_:

; 346  : 		{
; 347  : 			pred_pos.x = wp_pos->x;

  002d2	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  002d5	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  002d9	f3 0f 11 45 dc	 movss	 DWORD PTR _pred_pos$[ebp], xmm0

; 348  : 			pred_pos.y = wp_pos->y;

  002de	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  002e1	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  002e6	f3 0f 11 45 e0	 movss	 DWORD PTR _pred_pos$[ebp+4], xmm0

; 349  : 			pred_pos.z = wp_pos->z;

  002eb	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  002ee	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  002f3	f3 0f 11 45 e4	 movss	 DWORD PTR _pred_pos$[ebp+8], xmm0
$LN6@get_local_:

; 350  : 		}
; 351  : 	
; 352  : 		//
; 353  : 		// get next waypoint position
; 354  : 		//	
; 355  : 	
; 356  : 		if (wp_succ)

  002f8	83 7d ec 00	 cmp	 DWORD PTR _wp_succ$[ebp], 0
  002fc	0f 84 92 00 00
	00		 je	 $LN7@get_local_

; 357  : 		{
; 358  : 			get_local_entity_vec3d (wp_succ, VEC3D_TYPE_POSITION, &succ_pos);

  00302	83 7d ec 00	 cmp	 DWORD PTR _wp_succ$[ebp], 0
  00306	74 0d		 je	 SHORT $LN32@get_local_
  00308	8b 45 ec	 mov	 eax, DWORD PTR _wp_succ$[ebp]
  0030b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0030d	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv202[ebp], ecx
  00313	eb 24		 jmp	 SHORT $LN33@get_local_
$LN32@get_local_:
  00315	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  0031b	83 c2 50	 add	 edx, 80			; 00000050H
  0031e	52		 push	 edx
  0031f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00324	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00329	50		 push	 eax
  0032a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0032f	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv202[ebp], 0
$LN33@get_local_:
  00339	b9 01 00 00 00	 mov	 ecx, 1
  0033e	85 c9		 test	 ecx, ecx
  00340	74 0c		 je	 SHORT $LN34@get_local_
  00342	c7 85 48 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv210[ebp], 8
  0034c	eb 24		 jmp	 SHORT $LN35@get_local_
$LN34@get_local_:
  0034e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  00354	83 c2 50	 add	 edx, 80			; 00000050H
  00357	52		 push	 edx
  00358	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0035d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00362	50		 push	 eax
  00363	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00368	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv210[ebp], 0
$LN35@get_local_:
  00372	8d 4d d0	 lea	 ecx, DWORD PTR _succ_pos$[ebp]
  00375	51		 push	 ecx
  00376	6a 08		 push	 8
  00378	8b 55 ec	 mov	 edx, DWORD PTR _wp_succ$[ebp]
  0037b	52		 push	 edx
  0037c	6b 85 4c ff ff
	ff 60		 imul	 eax, DWORD PTR tv202[ebp], 96
  00383	8b 8d 48 ff ff
	ff		 mov	 ecx, DWORD PTR tv210[ebp]
  00389	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00390	ff d2		 call	 edx

; 359  : 		}
; 360  : 		else

  00392	eb 26		 jmp	 SHORT $LN8@get_local_
$LN7@get_local_:

; 361  : 		{
; 362  : 			succ_pos.x = wp_pos->x;

  00394	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  00397	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  0039b	f3 0f 11 45 d0	 movss	 DWORD PTR _succ_pos$[ebp], xmm0

; 363  : 			succ_pos.y = wp_pos->y;

  003a0	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  003a3	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  003a8	f3 0f 11 45 d4	 movss	 DWORD PTR _succ_pos$[ebp+4], xmm0

; 364  : 			succ_pos.z = wp_pos->z;

  003ad	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  003b0	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  003b5	f3 0f 11 45 d8	 movss	 DWORD PTR _succ_pos$[ebp+8], xmm0
$LN8@get_local_:

; 365  : 		}
; 366  : 	
; 367  : 		//
; 368  : 		// Calculate tangent vector at waypoint 
; 369  : 		//
; 370  : 		
; 371  : 		if ((wp_pred) || (wp_succ))

  003ba	83 7d f0 00	 cmp	 DWORD PTR _wp_pred$[ebp], 0
  003be	75 0a		 jne	 SHORT $LN10@get_local_
  003c0	83 7d ec 00	 cmp	 DWORD PTR _wp_succ$[ebp], 0
  003c4	0f 84 5c 01 00
	00		 je	 $LN12@get_local_
$LN10@get_local_:

; 372  : 		{
; 373  : 			first.x = wp_pos->x - pred_pos.x;

  003ca	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  003cd	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  003d1	f3 0f 5c 45 dc	 subss	 xmm0, DWORD PTR _pred_pos$[ebp]
  003d6	f3 0f 11 45 c4	 movss	 DWORD PTR _first$[ebp], xmm0

; 374  : 			first.y = 0.0;

  003db	0f 57 c0	 xorps	 xmm0, xmm0
  003de	f3 0f 11 45 c8	 movss	 DWORD PTR _first$[ebp+4], xmm0

; 375  : 			first.z = wp_pos->z - pred_pos.z;

  003e3	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  003e6	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  003eb	f3 0f 5c 45 e4	 subss	 xmm0, DWORD PTR _pred_pos$[ebp+8]
  003f0	f3 0f 11 45 cc	 movss	 DWORD PTR _first$[ebp+8], xmm0

; 376  : 		
; 377  : 			normalise_any_3d_vector (&first);

  003f5	8d 45 c4	 lea	 eax, DWORD PTR _first$[ebp]
  003f8	50		 push	 eax
  003f9	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  003fe	dd d8		 fstp	 ST(0)

; 378  : 		
; 379  : 			second.x = succ_pos.x - wp_pos->x;

  00400	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  00403	f3 0f 10 45 d0	 movss	 xmm0, DWORD PTR _succ_pos$[ebp]
  00408	f3 0f 5c 00	 subss	 xmm0, DWORD PTR [eax]
  0040c	f3 0f 11 45 b8	 movss	 DWORD PTR _second$[ebp], xmm0

; 380  : 			second.y = 0.0;

  00411	0f 57 c0	 xorps	 xmm0, xmm0
  00414	f3 0f 11 45 bc	 movss	 DWORD PTR _second$[ebp+4], xmm0

; 381  : 			second.z = succ_pos.z - wp_pos->z;

  00419	8b 45 e8	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  0041c	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _succ_pos$[ebp+8]
  00421	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  00426	f3 0f 11 45 c0	 movss	 DWORD PTR _second$[ebp+8], xmm0

; 382  : 		
; 383  : 			normalise_any_3d_vector (&second);

  0042b	8d 45 b8	 lea	 eax, DWORD PTR _second$[ebp]
  0042e	50		 push	 eax
  0042f	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  00434	dd d8		 fstp	 ST(0)

; 384  : 		
; 385  : 			resultant.x = second.x + first.x;

  00436	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR _second$[ebp]
  0043b	f3 0f 58 45 c4	 addss	 xmm0, DWORD PTR _first$[ebp]
  00440	f3 0f 11 45 ac	 movss	 DWORD PTR _resultant$[ebp], xmm0

; 386  : 			resultant.y = 0.0;

  00445	0f 57 c0	 xorps	 xmm0, xmm0
  00448	f3 0f 11 45 b0	 movss	 DWORD PTR _resultant$[ebp+4], xmm0

; 387  : 			resultant.z = second.z + first.z;

  0044d	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _second$[ebp+8]
  00452	f3 0f 58 45 cc	 addss	 xmm0, DWORD PTR _first$[ebp+8]
  00457	f3 0f 11 45 b4	 movss	 DWORD PTR _resultant$[ebp+8], xmm0

; 388  : 	
; 389  : 			cos_heading = cos (raw->heading);

  0045c	8b 45 90	 mov	 eax, DWORD PTR _raw$[ebp]
  0045f	51		 push	 ecx
  00460	f3 0f 10 40 28	 movss	 xmm0, DWORD PTR [eax+40]
  00465	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0046a	e8 00 00 00 00	 call	 ?cos@@YGMM@Z		; cos
  0046f	d9 5d 9c	 fstp	 DWORD PTR _cos_heading$[ebp]

; 390  : 			sin_heading = sin (raw->heading);

  00472	8b 45 90	 mov	 eax, DWORD PTR _raw$[ebp]
  00475	51		 push	 ecx
  00476	f3 0f 10 40 28	 movss	 xmm0, DWORD PTR [eax+40]
  0047b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00480	e8 00 00 00 00	 call	 ?sin@@YGMM@Z		; sin
  00485	d9 5d 98	 fstp	 DWORD PTR _sin_heading$[ebp]

; 391  : 		
; 392  : 			perpendicular.x = (cos_heading * -resultant.z) + (sin_heading * resultant.x);

  00488	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR _resultant$[ebp+8]
  0048d	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00494	f3 0f 59 45 9c	 mulss	 xmm0, DWORD PTR _cos_heading$[ebp]
  00499	f3 0f 10 4d 98	 movss	 xmm1, DWORD PTR _sin_heading$[ebp]
  0049e	f3 0f 59 4d ac	 mulss	 xmm1, DWORD PTR _resultant$[ebp]
  004a3	f3 0f 58 c1	 addss	 xmm0, xmm1
  004a7	f3 0f 11 45 a0	 movss	 DWORD PTR _perpendicular$[ebp], xmm0

; 393  : 			perpendicular.y = 0.0;

  004ac	0f 57 c0	 xorps	 xmm0, xmm0
  004af	f3 0f 11 45 a4	 movss	 DWORD PTR _perpendicular$[ebp+4], xmm0

; 394  : 			perpendicular.z = (cos_heading * resultant.x) - (sin_heading * -resultant.z);

  004b4	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _cos_heading$[ebp]
  004b9	f3 0f 59 45 ac	 mulss	 xmm0, DWORD PTR _resultant$[ebp]
  004be	f3 0f 10 4d b4	 movss	 xmm1, DWORD PTR _resultant$[ebp+8]
  004c3	0f 57 0d 00 00
	00 00		 xorps	 xmm1, DWORD PTR __xmm@80000000800000008000000080000000
  004ca	f3 0f 59 4d 98	 mulss	 xmm1, DWORD PTR _sin_heading$[ebp]
  004cf	f3 0f 5c c1	 subss	 xmm0, xmm1
  004d3	f3 0f 11 45 a8	 movss	 DWORD PTR _perpendicular$[ebp+8], xmm0

; 395  : 
; 396  : 			if ((perpendicular.x == 0) && (perpendicular.z == 0))

  004d8	f3 0f 10 45 a0	 movss	 xmm0, DWORD PTR _perpendicular$[ebp]
  004dd	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  004e4	9f		 lahf
  004e5	f6 c4 44	 test	 ah, 68			; 00000044H
  004e8	7a 31		 jp	 SHORT $LN11@get_local_
  004ea	f3 0f 10 45 a8	 movss	 xmm0, DWORD PTR _perpendicular$[ebp+8]
  004ef	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  004f6	9f		 lahf
  004f7	f6 c4 44	 test	 ah, 68			; 00000044H
  004fa	7a 1f		 jp	 SHORT $LN11@get_local_

; 397  : 			{
; 398  : 
; 399  : 				perpendicular.x = 1.0;

  004fc	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00504	f3 0f 11 45 a0	 movss	 DWORD PTR _perpendicular$[ebp], xmm0

; 400  : 				perpendicular.y = 0.0;

  00509	0f 57 c0	 xorps	 xmm0, xmm0
  0050c	f3 0f 11 45 a4	 movss	 DWORD PTR _perpendicular$[ebp+4], xmm0

; 401  : 				perpendicular.z = 0.0;

  00511	0f 57 c0	 xorps	 xmm0, xmm0
  00514	f3 0f 11 45 a8	 movss	 DWORD PTR _perpendicular$[ebp+8], xmm0

; 402  : 			}
; 403  : 			else

  00519	eb 0b		 jmp	 SHORT $LN12@get_local_
$LN11@get_local_:

; 404  : 			{
; 405  : 		
; 406  : 				normalise_any_3d_vector (&perpendicular);

  0051b	8d 45 a0	 lea	 eax, DWORD PTR _perpendicular$[ebp]
  0051e	50		 push	 eax
  0051f	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  00524	dd d8		 fstp	 ST(0)
$LN12@get_local_:

; 407  : 			}
; 408  : 		}
; 409  : 	}
; 410  : 
; 411  : 	//
; 412  : 	// get formation data
; 413  : 	//
; 414  : 		
; 415  : 	type = get_local_entity_int_value (wp, INT_TYPE_WAYPOINT_FORMATION);

  00526	83 7d 0c 00	 cmp	 DWORD PTR _wp$[ebp], 0
  0052a	74 0d		 je	 SHORT $LN36@get_local_
  0052c	8b 45 0c	 mov	 eax, DWORD PTR _wp$[ebp]
  0052f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00531	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv288[ebp], ecx
  00537	eb 27		 jmp	 SHORT $LN37@get_local_
$LN36@get_local_:
  00539	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  0053f	81 c2 89 00 00
	00		 add	 edx, 137		; 00000089H
  00545	52		 push	 edx
  00546	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0054b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00550	50		 push	 eax
  00551	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00556	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv288[ebp], 0
$LN37@get_local_:
  00560	b9 01 00 00 00	 mov	 ecx, 1
  00565	85 c9		 test	 ecx, ecx
  00567	74 0c		 je	 SHORT $LN38@get_local_
  00569	c7 85 48 ff ff
	ff fe 00 00 00	 mov	 DWORD PTR tv296[ebp], 254 ; 000000feH
  00573	eb 27		 jmp	 SHORT $LN39@get_local_
$LN38@get_local_:
  00575	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z@4JA
  0057b	81 c2 89 00 00
	00		 add	 edx, 137		; 00000089H
  00581	52		 push	 edx
  00582	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00587	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0058c	50		 push	 eax
  0058d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00592	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv296[ebp], 0
$LN39@get_local_:
  0059c	68 fe 00 00 00	 push	 254			; 000000feH
  005a1	8b 4d 0c	 mov	 ecx, DWORD PTR _wp$[ebp]
  005a4	51		 push	 ecx
  005a5	69 95 4c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv288[ebp], 1116
  005af	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR tv296[ebp]
  005b5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  005bc	ff d1		 call	 ecx
  005be	89 45 fc	 mov	 DWORD PTR _type$[ebp], eax

; 416  : 	
; 417  : 	formation = get_formation ((formation_types) type);

  005c1	8b 45 fc	 mov	 eax, DWORD PTR _type$[ebp]
  005c4	50		 push	 eax
  005c5	e8 00 00 00 00	 call	 ?get_formation@@YGPAUFORMATION_TYPE@@W4FORMATION_TYPES@@@Z ; get_formation
  005ca	89 45 94	 mov	 DWORD PTR _formation$[ebp], eax

; 418  : 	
; 419  : 	formation_count = formation->number_in_formation;

  005cd	8b 45 94	 mov	 eax, DWORD PTR _formation$[ebp]
  005d0	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  005d4	89 4d f4	 mov	 DWORD PTR _formation_count$[ebp], ecx

; 420  : 	
; 421  : 	if (formation_count)

  005d7	83 7d f4 00	 cmp	 DWORD PTR _formation_count$[ebp], 0
  005db	74 0c		 je	 SHORT $LN13@get_local_

; 422  : 	{
; 423  : 		index = formation_position % formation_count;			// needed ? DL

  005dd	8b 45 08	 mov	 eax, DWORD PTR _formation_position$[ebp]
  005e0	99		 cdq
  005e1	f7 7d f4	 idiv	 DWORD PTR _formation_count$[ebp]
  005e4	89 55 f8	 mov	 DWORD PTR _index$[ebp], edx

; 424  : 	}
; 425  : 	else

  005e7	eb 07		 jmp	 SHORT $LN14@get_local_
$LN13@get_local_:

; 426  : 	{
; 427  : 		index = 0;		// can we have a formation with 0 positions ??? DL

  005e9	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _index$[ebp], 0
$LN14@get_local_:

; 428  : 	}
; 429  : 	
; 430  : 	//
; 431  : 	// Calculate position offset in world coordinates
; 432  : 	//
; 433  : 
; 434  : 	offset->x = (perpendicular.x * formation->sites [index].x) -		

  005f0	6b 45 f8 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  005f4	8b 4d 94	 mov	 ecx, DWORD PTR _formation$[ebp]
  005f7	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  005fa	f3 0f 10 45 a0	 movss	 xmm0, DWORD PTR _perpendicular$[ebp]
  005ff	f3 0f 59 04 02	 mulss	 xmm0, DWORD PTR [edx+eax]
  00604	6b 45 f8 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  00608	8b 4d 94	 mov	 ecx, DWORD PTR _formation$[ebp]
  0060b	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0060e	f3 0f 10 4d a8	 movss	 xmm1, DWORD PTR _perpendicular$[ebp+8]
  00613	f3 0f 59 4c 02
	08		 mulss	 xmm1, DWORD PTR [edx+eax+8]
  00619	f3 0f 5c c1	 subss	 xmm0, xmm1
  0061d	8b 45 10	 mov	 eax, DWORD PTR _offset$[ebp]
  00620	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 435  : 					(perpendicular.z * formation->sites [index].z);
; 436  : 	
; 437  : 	offset->y = formation->sites [index].y;

  00624	6b 45 f8 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  00628	8b 4d 94	 mov	 ecx, DWORD PTR _formation$[ebp]
  0062b	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0062e	8b 4d 10	 mov	 ecx, DWORD PTR _offset$[ebp]
  00631	8b 54 02 04	 mov	 edx, DWORD PTR [edx+eax+4]
  00635	89 51 04	 mov	 DWORD PTR [ecx+4], edx

; 438  : 	
; 439  : 	offset->z = (perpendicular.z * formation->sites [index].x) +

  00638	6b 45 f8 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  0063c	8b 4d 94	 mov	 ecx, DWORD PTR _formation$[ebp]
  0063f	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00642	f3 0f 10 45 a8	 movss	 xmm0, DWORD PTR _perpendicular$[ebp+8]
  00647	f3 0f 59 04 02	 mulss	 xmm0, DWORD PTR [edx+eax]
  0064c	6b 45 f8 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  00650	8b 4d 94	 mov	 ecx, DWORD PTR _formation$[ebp]
  00653	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00656	f3 0f 10 4d a0	 movss	 xmm1, DWORD PTR _perpendicular$[ebp]
  0065b	f3 0f 59 4c 02
	08		 mulss	 xmm1, DWORD PTR [edx+eax+8]
  00661	f3 0f 58 c1	 addss	 xmm0, xmm1
  00665	8b 45 10	 mov	 eax, DWORD PTR _offset$[ebp]
  00668	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 440  : 					(perpendicular.x * formation->sites [index].z);
; 441  : }

  0066d	5f		 pop	 edi
  0066e	5e		 pop	 esi
  0066f	5b		 pop	 ebx
  00670	8b e5		 mov	 esp, ebp
  00672	5d		 pop	 ebp
  00673	c2 0c 00	 ret	 12			; 0000000cH
?get_local_waypoint_formation_position_offset@@YGXHPAUENTITY@@PAUVEC3D@@@Z ENDP ; get_local_waypoint_formation_position_offset
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU1@@Z
_TEXT	SEGMENT
tv86 = -80						; size = 4
tv78 = -76						; size = 4
_prev_waypoint$ = -8					; size = 4
_current_waypoint$ = -4					; size = 4
_en$ = 8						; size = 4
?get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU1@@Z PROC ; get_local_entity_prev_waypoint, COMDAT

; 246  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 247  : 
; 248  :    entity
; 249  :       *current_waypoint,
; 250  :       *prev_waypoint;
; 251  : 
; 252  :    ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00014	83 c0 06	 add	 eax, 6
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 253  : 
; 254  : 	prev_waypoint = NULL;

  00027	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _prev_waypoint$[ebp], 0

; 255  : 
; 256  :    current_waypoint = get_local_entity_current_waypoint (en);

  0002e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_current_waypoint
  00037	89 45 fc	 mov	 DWORD PTR _current_waypoint$[ebp], eax

; 257  : 
; 258  :    if (current_waypoint)

  0003a	83 7d fc 00	 cmp	 DWORD PTR _current_waypoint$[ebp], 0
  0003e	0f 84 92 00 00
	00		 je	 $LN3@get_local_

; 259  :    {
; 260  : 
; 261  :       prev_waypoint = get_local_entity_child_pred (current_waypoint, LIST_TYPE_WAYPOINT);

  00044	83 7d fc 00	 cmp	 DWORD PTR _current_waypoint$[ebp], 0
  00048	74 0a		 je	 SHORT $LN6@get_local_
  0004a	8b 45 fc	 mov	 eax, DWORD PTR _current_waypoint$[ebp]
  0004d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0004f	89 4d b4	 mov	 DWORD PTR tv78[ebp], ecx
  00052	eb 21		 jmp	 SHORT $LN7@get_local_
$LN6@get_local_:
  00054	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0005a	83 c2 0f	 add	 edx, 15			; 0000000fH
  0005d	52		 push	 edx
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006e	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN7@get_local_:
  00075	b9 01 00 00 00	 mov	 ecx, 1
  0007a	85 c9		 test	 ecx, ecx
  0007c	74 09		 je	 SHORT $LN8@get_local_
  0007e	c7 45 b0 2c 00
	00 00		 mov	 DWORD PTR tv86[ebp], 44	; 0000002cH
  00085	eb 21		 jmp	 SHORT $LN9@get_local_
$LN8@get_local_:
  00087	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0008d	83 c2 0f	 add	 edx, 15			; 0000000fH
  00090	52		 push	 edx
  00091	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00096	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0009b	50		 push	 eax
  0009c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000a1	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
$LN9@get_local_:
  000a8	6a 2c		 push	 44			; 0000002cH
  000aa	8b 4d fc	 mov	 ecx, DWORD PTR _current_waypoint$[ebp]
  000ad	51		 push	 ecx
  000ae	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv78[ebp], 180
  000b5	8b 45 b0	 mov	 eax, DWORD PTR tv86[ebp]
  000b8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000bf	ff d1		 call	 ecx
  000c1	89 45 f8	 mov	 DWORD PTR _prev_waypoint$[ebp], eax

; 262  : 
; 263  :       if (!prev_waypoint)

  000c4	83 7d f8 00	 cmp	 DWORD PTR _prev_waypoint$[ebp], 0
  000c8	75 0c		 jne	 SHORT $LN3@get_local_

; 264  :       {
; 265  : 
; 266  :          prev_waypoint = get_local_entity_last_waypoint (en);

  000ca	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000cd	50		 push	 eax
  000ce	e8 00 00 00 00	 call	 ?get_local_entity_last_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_last_waypoint
  000d3	89 45 f8	 mov	 DWORD PTR _prev_waypoint$[ebp], eax
$LN3@get_local_:

; 267  :       }
; 268  :    }
; 269  : 
; 270  :    return (prev_waypoint);

  000d6	8b 45 f8	 mov	 eax, DWORD PTR _prev_waypoint$[ebp]

; 271  : }

  000d9	5f		 pop	 edi
  000da	5e		 pop	 esi
  000db	5b		 pop	 ebx
  000dc	8b e5		 mov	 esp, ebp
  000de	5d		 pop	 ebp
  000df	c2 04 00	 ret	 4
?get_local_entity_prev_waypoint@@YGPAUENTITY@@PAU1@@Z ENDP ; get_local_entity_prev_waypoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_entity_next_waypoint@@YGPAUENTITY@@PAU1@@Z
_TEXT	SEGMENT
tv86 = -80						; size = 4
tv78 = -76						; size = 4
_next_waypoint$ = -8					; size = 4
_current_waypoint$ = -4					; size = 4
_en$ = 8						; size = 4
?get_local_entity_next_waypoint@@YGPAUENTITY@@PAU1@@Z PROC ; get_local_entity_next_waypoint, COMDAT

; 214  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 215  : 
; 216  :    entity
; 217  :       *current_waypoint,
; 218  :       *next_waypoint;
; 219  : 
; 220  :    ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_next_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00014	83 c0 06	 add	 eax, 6
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 221  : 
; 222  : 	next_waypoint = NULL;

  00027	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _next_waypoint$[ebp], 0

; 223  : 
; 224  :    current_waypoint = get_local_entity_current_waypoint (en);

  0002e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_current_waypoint
  00037	89 45 fc	 mov	 DWORD PTR _current_waypoint$[ebp], eax

; 225  : 
; 226  :    if (current_waypoint)

  0003a	83 7d fc 00	 cmp	 DWORD PTR _current_waypoint$[ebp], 0
  0003e	0f 84 92 00 00
	00		 je	 $LN3@get_local_

; 227  :    {
; 228  : 
; 229  :       next_waypoint = get_local_entity_child_succ (current_waypoint, LIST_TYPE_WAYPOINT);

  00044	83 7d fc 00	 cmp	 DWORD PTR _current_waypoint$[ebp], 0
  00048	74 0a		 je	 SHORT $LN6@get_local_
  0004a	8b 45 fc	 mov	 eax, DWORD PTR _current_waypoint$[ebp]
  0004d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0004f	89 4d b4	 mov	 DWORD PTR tv78[ebp], ecx
  00052	eb 21		 jmp	 SHORT $LN7@get_local_
$LN6@get_local_:
  00054	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_next_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0005a	83 c2 0f	 add	 edx, 15			; 0000000fH
  0005d	52		 push	 edx
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006e	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN7@get_local_:
  00075	b9 01 00 00 00	 mov	 ecx, 1
  0007a	85 c9		 test	 ecx, ecx
  0007c	74 09		 je	 SHORT $LN8@get_local_
  0007e	c7 45 b0 2c 00
	00 00		 mov	 DWORD PTR tv86[ebp], 44	; 0000002cH
  00085	eb 21		 jmp	 SHORT $LN9@get_local_
$LN8@get_local_:
  00087	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_next_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0008d	83 c2 0f	 add	 edx, 15			; 0000000fH
  00090	52		 push	 edx
  00091	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00096	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0009b	50		 push	 eax
  0009c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000a1	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv86[ebp], 0
$LN9@get_local_:
  000a8	6a 2c		 push	 44			; 0000002cH
  000aa	8b 4d fc	 mov	 ecx, DWORD PTR _current_waypoint$[ebp]
  000ad	51		 push	 ecx
  000ae	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv78[ebp], 180
  000b5	8b 45 b0	 mov	 eax, DWORD PTR tv86[ebp]
  000b8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000bf	ff d1		 call	 ecx
  000c1	89 45 f8	 mov	 DWORD PTR _next_waypoint$[ebp], eax

; 230  : 
; 231  :       if (!next_waypoint)

  000c4	83 7d f8 00	 cmp	 DWORD PTR _next_waypoint$[ebp], 0
  000c8	75 0c		 jne	 SHORT $LN3@get_local_

; 232  :       {
; 233  : 
; 234  :          next_waypoint = get_local_entity_first_waypoint (en);

  000ca	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000cd	50		 push	 eax
  000ce	e8 00 00 00 00	 call	 ?get_local_entity_first_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_first_waypoint
  000d3	89 45 f8	 mov	 DWORD PTR _next_waypoint$[ebp], eax
$LN3@get_local_:

; 235  :       }
; 236  :    }
; 237  : 
; 238  :    return (next_waypoint);

  000d6	8b 45 f8	 mov	 eax, DWORD PTR _next_waypoint$[ebp]

; 239  : }

  000d9	5f		 pop	 edi
  000da	5e		 pop	 esi
  000db	5b		 pop	 ebx
  000dc	8b e5		 mov	 esp, ebp
  000de	5d		 pop	 ebp
  000df	c2 04 00	 ret	 4
?get_local_entity_next_waypoint@@YGPAUENTITY@@PAU1@@Z ENDP ; get_local_entity_next_waypoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_entity_last_waypoint@@YGPAUENTITY@@PAU1@@Z
_TEXT	SEGMENT
tv204 = -88						; size = 4
tv183 = -88						; size = 4
tv163 = -88						; size = 4
tv142 = -88						; size = 4
tv83 = -88						; size = 4
tv196 = -84						; size = 4
tv175 = -84						; size = 4
tv155 = -84						; size = 4
tv134 = -84						; size = 4
tv75 = -84						; size = 4
_last_waypoint$ = -16					; size = 4
_group$ = -12						; size = 4
_task$ = -8						; size = 4
_cwp$ = -4						; size = 4
_en$ = 8						; size = 4
?get_local_entity_last_waypoint@@YGPAUENTITY@@PAU1@@Z PROC ; get_local_entity_last_waypoint, COMDAT

; 161  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 162  :    entity
; 163  : 		*cwp,
; 164  : 		*task,
; 165  :       *group,
; 166  :       *last_waypoint;
; 167  : 
; 168  :    ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00014	83 c0 07	 add	 eax, 7
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@get_local_:

; 169  : 
; 170  : 	last_waypoint = NULL;

  00027	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _last_waypoint$[ebp], 0

; 171  : 
; 172  : 	group = get_local_entity_parent (en, LIST_TYPE_MEMBER);

  0002e	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00032	74 0a		 je	 SHORT $LN10@get_local_
  00034	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00037	8b 08		 mov	 ecx, DWORD PTR [eax]
  00039	89 4d ac	 mov	 DWORD PTR tv75[ebp], ecx
  0003c	eb 21		 jmp	 SHORT $LN11@get_local_
$LN10@get_local_:
  0003e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00044	83 c2 0b	 add	 edx, 11			; 0000000bH
  00047	52		 push	 edx
  00048	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00052	50		 push	 eax
  00053	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00058	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN11@get_local_:
  0005f	b9 01 00 00 00	 mov	 ecx, 1
  00064	85 c9		 test	 ecx, ecx
  00066	74 09		 je	 SHORT $LN12@get_local_
  00068	c7 45 a8 19 00
	00 00		 mov	 DWORD PTR tv83[ebp], 25	; 00000019H
  0006f	eb 21		 jmp	 SHORT $LN13@get_local_
$LN12@get_local_:
  00071	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00077	83 c2 0b	 add	 edx, 11			; 0000000bH
  0007a	52		 push	 edx
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00080	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00085	50		 push	 eax
  00086	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008b	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN13@get_local_:
  00092	6a 19		 push	 25			; 00000019H
  00094	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00097	51		 push	 ecx
  00098	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv75[ebp], 180
  0009f	8b 45 a8	 mov	 eax, DWORD PTR tv83[ebp]
  000a2	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000a9	ff d1		 call	 ecx
  000ab	89 45 f4	 mov	 DWORD PTR _group$[ebp], eax

; 173  : 
; 174  : 	if (!group)

  000ae	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  000b2	75 07		 jne	 SHORT $LN5@get_local_

; 175  : 	{
; 176  : 
; 177  : 		return NULL;

  000b4	33 c0		 xor	 eax, eax
  000b6	e9 43 02 00 00	 jmp	 $LN1@get_local_
$LN5@get_local_:

; 178  : 	}
; 179  : 
; 180  : 	task = get_local_group_primary_task (group);

  000bb	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  000be	50		 push	 eax
  000bf	e8 00 00 00 00	 call	 ?get_local_group_primary_task@@YGPAUENTITY@@PAU1@@Z ; get_local_group_primary_task
  000c4	89 45 f8	 mov	 DWORD PTR _task$[ebp], eax

; 181  : 
; 182  : 	if (!task)

  000c7	83 7d f8 00	 cmp	 DWORD PTR _task$[ebp], 0
  000cb	0f 85 96 00 00
	00		 jne	 $LN6@get_local_

; 183  : 	{
; 184  : 
; 185  : 		cwp = get_local_entity_current_waypoint (en);

  000d1	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000d4	50		 push	 eax
  000d5	e8 00 00 00 00	 call	 ?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_current_waypoint
  000da	89 45 fc	 mov	 DWORD PTR _cwp$[ebp], eax

; 186  : 
; 187  : 		if (cwp)

  000dd	83 7d fc 00	 cmp	 DWORD PTR _cwp$[ebp], 0
  000e1	0f 84 80 00 00
	00		 je	 $LN6@get_local_

; 188  : 		{
; 189  : 
; 190  : 			task = get_local_entity_parent (cwp, LIST_TYPE_WAYPOINT);

  000e7	83 7d fc 00	 cmp	 DWORD PTR _cwp$[ebp], 0
  000eb	74 0a		 je	 SHORT $LN14@get_local_
  000ed	8b 45 fc	 mov	 eax, DWORD PTR _cwp$[ebp]
  000f0	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f2	89 4d ac	 mov	 DWORD PTR tv134[ebp], ecx
  000f5	eb 21		 jmp	 SHORT $LN15@get_local_
$LN14@get_local_:
  000f7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  000fd	83 c2 1d	 add	 edx, 29			; 0000001dH
  00100	52		 push	 edx
  00101	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00106	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0010b	50		 push	 eax
  0010c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00111	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN15@get_local_:
  00118	b9 01 00 00 00	 mov	 ecx, 1
  0011d	85 c9		 test	 ecx, ecx
  0011f	74 09		 je	 SHORT $LN16@get_local_
  00121	c7 45 a8 2c 00
	00 00		 mov	 DWORD PTR tv142[ebp], 44 ; 0000002cH
  00128	eb 21		 jmp	 SHORT $LN17@get_local_
$LN16@get_local_:
  0012a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00130	83 c2 1d	 add	 edx, 29			; 0000001dH
  00133	52		 push	 edx
  00134	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00139	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0013e	50		 push	 eax
  0013f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00144	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv142[ebp], 0
$LN17@get_local_:
  0014b	6a 2c		 push	 44			; 0000002cH
  0014d	8b 4d fc	 mov	 ecx, DWORD PTR _cwp$[ebp]
  00150	51		 push	 ecx
  00151	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv134[ebp], 180
  00158	8b 45 a8	 mov	 eax, DWORD PTR tv142[ebp]
  0015b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00162	ff d1		 call	 ecx
  00164	89 45 f8	 mov	 DWORD PTR _task$[ebp], eax
$LN6@get_local_:

; 191  : 		}
; 192  : 	}
; 193  : 
; 194  : 	if (task)

  00167	83 7d f8 00	 cmp	 DWORD PTR _task$[ebp], 0
  0016b	0f 84 8a 01 00
	00		 je	 $LN8@get_local_

; 195  : 	{
; 196  : 
; 197  : 		last_waypoint = get_local_entity_first_child (task, LIST_TYPE_WAYPOINT);

  00171	83 7d f8 00	 cmp	 DWORD PTR _task$[ebp], 0
  00175	74 0a		 je	 SHORT $LN18@get_local_
  00177	8b 45 f8	 mov	 eax, DWORD PTR _task$[ebp]
  0017a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0017c	89 4d ac	 mov	 DWORD PTR tv155[ebp], ecx
  0017f	eb 21		 jmp	 SHORT $LN19@get_local_
$LN18@get_local_:
  00181	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00187	83 c2 24	 add	 edx, 36			; 00000024H
  0018a	52		 push	 edx
  0018b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00190	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00195	50		 push	 eax
  00196	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019b	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN19@get_local_:
  001a2	b9 01 00 00 00	 mov	 ecx, 1
  001a7	85 c9		 test	 ecx, ecx
  001a9	74 09		 je	 SHORT $LN20@get_local_
  001ab	c7 45 a8 2c 00
	00 00		 mov	 DWORD PTR tv163[ebp], 44 ; 0000002cH
  001b2	eb 21		 jmp	 SHORT $LN21@get_local_
$LN20@get_local_:
  001b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  001ba	83 c2 24	 add	 edx, 36			; 00000024H
  001bd	52		 push	 edx
  001be	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001c8	50		 push	 eax
  001c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ce	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv163[ebp], 0
$LN21@get_local_:
  001d5	6a 2c		 push	 44			; 0000002cH
  001d7	8b 4d f8	 mov	 ecx, DWORD PTR _task$[ebp]
  001da	51		 push	 ecx
  001db	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv155[ebp], 180
  001e2	8b 45 a8	 mov	 eax, DWORD PTR tv163[ebp]
  001e5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001ec	ff d1		 call	 ecx
  001ee	89 45 f0	 mov	 DWORD PTR _last_waypoint$[ebp], eax
$LN2@get_local_:

; 198  : 
; 199  : 		while (get_local_entity_child_succ (last_waypoint, LIST_TYPE_WAYPOINT))

  001f1	83 7d f0 00	 cmp	 DWORD PTR _last_waypoint$[ebp], 0
  001f5	74 0a		 je	 SHORT $LN22@get_local_
  001f7	8b 45 f0	 mov	 eax, DWORD PTR _last_waypoint$[ebp]
  001fa	8b 08		 mov	 ecx, DWORD PTR [eax]
  001fc	89 4d ac	 mov	 DWORD PTR tv175[ebp], ecx
  001ff	eb 21		 jmp	 SHORT $LN23@get_local_
$LN22@get_local_:
  00201	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00207	83 c2 26	 add	 edx, 38			; 00000026H
  0020a	52		 push	 edx
  0020b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00210	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00215	50		 push	 eax
  00216	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0021b	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv175[ebp], 0
$LN23@get_local_:
  00222	b9 01 00 00 00	 mov	 ecx, 1
  00227	85 c9		 test	 ecx, ecx
  00229	74 09		 je	 SHORT $LN24@get_local_
  0022b	c7 45 a8 2c 00
	00 00		 mov	 DWORD PTR tv183[ebp], 44 ; 0000002cH
  00232	eb 21		 jmp	 SHORT $LN25@get_local_
$LN24@get_local_:
  00234	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0023a	83 c2 26	 add	 edx, 38			; 00000026H
  0023d	52		 push	 edx
  0023e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00243	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00248	50		 push	 eax
  00249	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0024e	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv183[ebp], 0
$LN25@get_local_:
  00255	6a 2c		 push	 44			; 0000002cH
  00257	8b 4d f0	 mov	 ecx, DWORD PTR _last_waypoint$[ebp]
  0025a	51		 push	 ecx
  0025b	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv175[ebp], 180
  00262	8b 45 a8	 mov	 eax, DWORD PTR tv183[ebp]
  00265	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0026c	ff d1		 call	 ecx
  0026e	85 c0		 test	 eax, eax
  00270	0f 84 85 00 00
	00		 je	 $LN8@get_local_

; 200  : 		{
; 201  : 
; 202  : 			last_waypoint = get_local_entity_child_succ (last_waypoint, LIST_TYPE_WAYPOINT);

  00276	83 7d f0 00	 cmp	 DWORD PTR _last_waypoint$[ebp], 0
  0027a	74 0a		 je	 SHORT $LN26@get_local_
  0027c	8b 45 f0	 mov	 eax, DWORD PTR _last_waypoint$[ebp]
  0027f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00281	89 4d ac	 mov	 DWORD PTR tv196[ebp], ecx
  00284	eb 21		 jmp	 SHORT $LN27@get_local_
$LN26@get_local_:
  00286	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0028c	83 c2 29	 add	 edx, 41			; 00000029H
  0028f	52		 push	 edx
  00290	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00295	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0029a	50		 push	 eax
  0029b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a0	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv196[ebp], 0
$LN27@get_local_:
  002a7	b9 01 00 00 00	 mov	 ecx, 1
  002ac	85 c9		 test	 ecx, ecx
  002ae	74 09		 je	 SHORT $LN28@get_local_
  002b0	c7 45 a8 2c 00
	00 00		 mov	 DWORD PTR tv204[ebp], 44 ; 0000002cH
  002b7	eb 21		 jmp	 SHORT $LN29@get_local_
$LN28@get_local_:
  002b9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_last_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  002bf	83 c2 29	 add	 edx, 41			; 00000029H
  002c2	52		 push	 edx
  002c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  002cd	50		 push	 eax
  002ce	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d3	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv204[ebp], 0
$LN29@get_local_:
  002da	6a 2c		 push	 44			; 0000002cH
  002dc	8b 4d f0	 mov	 ecx, DWORD PTR _last_waypoint$[ebp]
  002df	51		 push	 ecx
  002e0	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv196[ebp], 180
  002e7	8b 45 a8	 mov	 eax, DWORD PTR tv204[ebp]
  002ea	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  002f1	ff d1		 call	 ecx
  002f3	89 45 f0	 mov	 DWORD PTR _last_waypoint$[ebp], eax

; 203  : 		}

  002f6	e9 f6 fe ff ff	 jmp	 $LN2@get_local_
$LN8@get_local_:

; 204  : 	}
; 205  : 
; 206  :    return (last_waypoint);

  002fb	8b 45 f0	 mov	 eax, DWORD PTR _last_waypoint$[ebp]
$LN1@get_local_:

; 207  : }

  002fe	5f		 pop	 edi
  002ff	5e		 pop	 esi
  00300	5b		 pop	 ebx
  00301	8b e5		 mov	 esp, ebp
  00303	5d		 pop	 ebp
  00304	c2 04 00	 ret	 4
?get_local_entity_last_waypoint@@YGPAUENTITY@@PAU1@@Z ENDP ; get_local_entity_last_waypoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z
_TEXT	SEGMENT
tv136 = -80						; size = 4
tv83 = -80						; size = 4
tv128 = -76						; size = 4
tv75 = -76						; size = 4
_cwp$ = -8						; size = 4
_guide$ = -4						; size = 4
_en$ = 8						; size = 4
?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z PROC ; get_local_entity_current_waypoint, COMDAT

; 137  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 138  : 	entity
; 139  : 		*guide,
; 140  : 		*cwp;
; 141  : 		
; 142  : 	ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00014	83 c0 05	 add	 eax, 5
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 143  : 
; 144  : 	guide = get_local_entity_parent (en, LIST_TYPE_FOLLOWER);

  00027	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN5@get_local_
  0002d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d b4	 mov	 DWORD PTR tv75[ebp], ecx
  00035	eb 21		 jmp	 SHORT $LN6@get_local_
$LN5@get_local_:
  00037	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0003d	83 c2 07	 add	 edx, 7
  00040	52		 push	 edx
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00051	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN6@get_local_:
  00058	b9 01 00 00 00	 mov	 ecx, 1
  0005d	85 c9		 test	 ecx, ecx
  0005f	74 09		 je	 SHORT $LN7@get_local_
  00061	c7 45 b0 0d 00
	00 00		 mov	 DWORD PTR tv83[ebp], 13	; 0000000dH
  00068	eb 21		 jmp	 SHORT $LN8@get_local_
$LN7@get_local_:
  0006a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00070	83 c2 07	 add	 edx, 7
  00073	52		 push	 edx
  00074	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00084	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN8@get_local_:
  0008b	6a 0d		 push	 13			; 0000000dH
  0008d	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00090	51		 push	 ecx
  00091	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv75[ebp], 180
  00098	8b 45 b0	 mov	 eax, DWORD PTR tv83[ebp]
  0009b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000a2	ff d1		 call	 ecx
  000a4	89 45 fc	 mov	 DWORD PTR _guide$[ebp], eax

; 145  : 
; 146  : 	if (!guide)

  000a7	83 7d fc 00	 cmp	 DWORD PTR _guide$[ebp], 0
  000ab	75 07		 jne	 SHORT $LN3@get_local_

; 147  : 	{
; 148  : 		return NULL;

  000ad	33 c0		 xor	 eax, eax
  000af	e9 83 00 00 00	 jmp	 $LN1@get_local_
$LN3@get_local_:

; 149  : 	}
; 150  : 
; 151  : 	cwp = get_local_entity_parent (guide, LIST_TYPE_CURRENT_WAYPOINT);

  000b4	83 7d fc 00	 cmp	 DWORD PTR _guide$[ebp], 0
  000b8	74 0a		 je	 SHORT $LN9@get_local_
  000ba	8b 45 fc	 mov	 eax, DWORD PTR _guide$[ebp]
  000bd	8b 08		 mov	 ecx, DWORD PTR [eax]
  000bf	89 4d b4	 mov	 DWORD PTR tv128[ebp], ecx
  000c2	eb 21		 jmp	 SHORT $LN10@get_local_
$LN9@get_local_:
  000c4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  000ca	83 c2 0e	 add	 edx, 14			; 0000000eH
  000cd	52		 push	 edx
  000ce	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000d8	50		 push	 eax
  000d9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000de	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv128[ebp], 0
$LN10@get_local_:
  000e5	b9 01 00 00 00	 mov	 ecx, 1
  000ea	85 c9		 test	 ecx, ecx
  000ec	74 09		 je	 SHORT $LN11@get_local_
  000ee	c7 45 b0 09 00
	00 00		 mov	 DWORD PTR tv136[ebp], 9
  000f5	eb 21		 jmp	 SHORT $LN12@get_local_
$LN11@get_local_:
  000f7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_current_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  000fd	83 c2 0e	 add	 edx, 14			; 0000000eH
  00100	52		 push	 edx
  00101	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00106	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0010b	50		 push	 eax
  0010c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00111	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv136[ebp], 0
$LN12@get_local_:
  00118	6a 09		 push	 9
  0011a	8b 4d fc	 mov	 ecx, DWORD PTR _guide$[ebp]
  0011d	51		 push	 ecx
  0011e	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv128[ebp], 180
  00125	8b 45 b0	 mov	 eax, DWORD PTR tv136[ebp]
  00128	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0012f	ff d1		 call	 ecx
  00131	89 45 f8	 mov	 DWORD PTR _cwp$[ebp], eax

; 152  : 
; 153  : 	return cwp;

  00134	8b 45 f8	 mov	 eax, DWORD PTR _cwp$[ebp]
$LN1@get_local_:

; 154  : }

  00137	5f		 pop	 edi
  00138	5e		 pop	 esi
  00139	5b		 pop	 ebx
  0013a	8b e5		 mov	 esp, ebp
  0013c	5d		 pop	 ebp
  0013d	c2 04 00	 ret	 4
?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z ENDP ; get_local_entity_current_waypoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\waypoint\waypoint.c
;	COMDAT ?get_local_entity_first_waypoint@@YGPAUENTITY@@PAU1@@Z
_TEXT	SEGMENT
tv183 = -88						; size = 4
tv162 = -88						; size = 4
tv139 = -88						; size = 4
tv83 = -88						; size = 4
tv175 = -84						; size = 4
tv154 = -84						; size = 4
tv131 = -84						; size = 4
tv75 = -84						; size = 4
_first_waypoint$ = -16					; size = 4
_group$ = -12						; size = 4
_task$ = -8						; size = 4
_cwp$ = -4						; size = 4
_en$ = 8						; size = 4
?get_local_entity_first_waypoint@@YGPAUENTITY@@PAU1@@Z PROC ; get_local_entity_first_waypoint, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   :    entity
; 82   : 		*cwp,
; 83   : 		*task,
; 84   : 		*group,
; 85   :       *first_waypoint;
; 86   : 
; 87   :    ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00014	83 c0 07	 add	 eax, 7
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 88   : 
; 89   : 	first_waypoint = NULL;

  00027	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _first_waypoint$[ebp], 0

; 90   : 
; 91   : 	//
; 92   : 	// get tasks waypoint route first
; 93   : 	//
; 94   : 
; 95   : 	group = get_local_entity_parent (en, LIST_TYPE_MEMBER);

  0002e	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00032	74 0a		 je	 SHORT $LN8@get_local_
  00034	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00037	8b 08		 mov	 ecx, DWORD PTR [eax]
  00039	89 4d ac	 mov	 DWORD PTR tv75[ebp], ecx
  0003c	eb 21		 jmp	 SHORT $LN9@get_local_
$LN8@get_local_:
  0003e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00044	83 c2 0f	 add	 edx, 15			; 0000000fH
  00047	52		 push	 edx
  00048	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00052	50		 push	 eax
  00053	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00058	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN9@get_local_:
  0005f	b9 01 00 00 00	 mov	 ecx, 1
  00064	85 c9		 test	 ecx, ecx
  00066	74 09		 je	 SHORT $LN10@get_local_
  00068	c7 45 a8 19 00
	00 00		 mov	 DWORD PTR tv83[ebp], 25	; 00000019H
  0006f	eb 21		 jmp	 SHORT $LN11@get_local_
$LN10@get_local_:
  00071	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00077	83 c2 0f	 add	 edx, 15			; 0000000fH
  0007a	52		 push	 edx
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00080	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00085	50		 push	 eax
  00086	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008b	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN11@get_local_:
  00092	6a 19		 push	 25			; 00000019H
  00094	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00097	51		 push	 ecx
  00098	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv75[ebp], 180
  0009f	8b 45 a8	 mov	 eax, DWORD PTR tv83[ebp]
  000a2	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000a9	ff d1		 call	 ecx
  000ab	89 45 f4	 mov	 DWORD PTR _group$[ebp], eax

; 96   : 
; 97   : 	if (group)

  000ae	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  000b2	0f 84 9e 00 00
	00		 je	 $LN3@get_local_

; 98   : 	{
; 99   : 
; 100  : 		task = get_local_group_primary_task (group);

  000b8	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  000bb	50		 push	 eax
  000bc	e8 00 00 00 00	 call	 ?get_local_group_primary_task@@YGPAUENTITY@@PAU1@@Z ; get_local_group_primary_task
  000c1	89 45 f8	 mov	 DWORD PTR _task$[ebp], eax

; 101  : 
; 102  : 		if (task)

  000c4	83 7d f8 00	 cmp	 DWORD PTR _task$[ebp], 0
  000c8	0f 84 88 00 00
	00		 je	 $LN3@get_local_

; 103  : 		{
; 104  : 
; 105  : 			first_waypoint = get_local_entity_first_child (task, LIST_TYPE_WAYPOINT);

  000ce	83 7d f8 00	 cmp	 DWORD PTR _task$[ebp], 0
  000d2	74 0a		 je	 SHORT $LN12@get_local_
  000d4	8b 45 f8	 mov	 eax, DWORD PTR _task$[ebp]
  000d7	8b 08		 mov	 ecx, DWORD PTR [eax]
  000d9	89 4d ac	 mov	 DWORD PTR tv131[ebp], ecx
  000dc	eb 21		 jmp	 SHORT $LN13@get_local_
$LN12@get_local_:
  000de	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  000e4	83 c2 19	 add	 edx, 25			; 00000019H
  000e7	52		 push	 edx
  000e8	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000f2	50		 push	 eax
  000f3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000f8	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN13@get_local_:
  000ff	b9 01 00 00 00	 mov	 ecx, 1
  00104	85 c9		 test	 ecx, ecx
  00106	74 09		 je	 SHORT $LN14@get_local_
  00108	c7 45 a8 2c 00
	00 00		 mov	 DWORD PTR tv139[ebp], 44 ; 0000002cH
  0010f	eb 21		 jmp	 SHORT $LN15@get_local_
$LN14@get_local_:
  00111	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00117	83 c2 19	 add	 edx, 25			; 00000019H
  0011a	52		 push	 edx
  0011b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00120	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00125	50		 push	 eax
  00126	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0012b	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv139[ebp], 0
$LN15@get_local_:
  00132	6a 2c		 push	 44			; 0000002cH
  00134	8b 4d f8	 mov	 ecx, DWORD PTR _task$[ebp]
  00137	51		 push	 ecx
  00138	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv131[ebp], 180
  0013f	8b 45 a8	 mov	 eax, DWORD PTR tv139[ebp]
  00142	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00149	ff d1		 call	 ecx
  0014b	89 45 f0	 mov	 DWORD PTR _first_waypoint$[ebp], eax

; 106  : 
; 107  : 			return first_waypoint;

  0014e	8b 45 f0	 mov	 eax, DWORD PTR _first_waypoint$[ebp]
  00151	e9 23 01 00 00	 jmp	 $LN1@get_local_
$LN3@get_local_:

; 108  : 		}
; 109  : 	}
; 110  : 
; 111  : 	//
; 112  : 	// If not get current waypoint tasks route (might be the landing routes)
; 113  : 	//
; 114  : 
; 115  : 	cwp = get_local_entity_current_waypoint (en);

  00156	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00159	50		 push	 eax
  0015a	e8 00 00 00 00	 call	 ?get_local_entity_current_waypoint@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_current_waypoint
  0015f	89 45 fc	 mov	 DWORD PTR _cwp$[ebp], eax

; 116  : 
; 117  : 	if (cwp)

  00162	83 7d fc 00	 cmp	 DWORD PTR _cwp$[ebp], 0
  00166	0f 84 0a 01 00
	00		 je	 $LN5@get_local_

; 118  : 	{
; 119  : 	
; 120  : 		task = get_local_entity_parent (cwp, LIST_TYPE_WAYPOINT);

  0016c	83 7d fc 00	 cmp	 DWORD PTR _cwp$[ebp], 0
  00170	74 0a		 je	 SHORT $LN16@get_local_
  00172	8b 45 fc	 mov	 eax, DWORD PTR _cwp$[ebp]
  00175	8b 08		 mov	 ecx, DWORD PTR [eax]
  00177	89 4d ac	 mov	 DWORD PTR tv154[ebp], ecx
  0017a	eb 21		 jmp	 SHORT $LN17@get_local_
$LN16@get_local_:
  0017c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  00182	83 c2 28	 add	 edx, 40			; 00000028H
  00185	52		 push	 edx
  00186	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0018b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00190	50		 push	 eax
  00191	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00196	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv154[ebp], 0
$LN17@get_local_:
  0019d	b9 01 00 00 00	 mov	 ecx, 1
  001a2	85 c9		 test	 ecx, ecx
  001a4	74 09		 je	 SHORT $LN18@get_local_
  001a6	c7 45 a8 2c 00
	00 00		 mov	 DWORD PTR tv162[ebp], 44 ; 0000002cH
  001ad	eb 21		 jmp	 SHORT $LN19@get_local_
$LN18@get_local_:
  001af	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  001b5	83 c2 28	 add	 edx, 40			; 00000028H
  001b8	52		 push	 edx
  001b9	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  001be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001c3	50		 push	 eax
  001c4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c9	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv162[ebp], 0
$LN19@get_local_:
  001d0	6a 2c		 push	 44			; 0000002cH
  001d2	8b 4d fc	 mov	 ecx, DWORD PTR _cwp$[ebp]
  001d5	51		 push	 ecx
  001d6	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv154[ebp], 180
  001dd	8b 45 a8	 mov	 eax, DWORD PTR tv162[ebp]
  001e0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001e7	ff d1		 call	 ecx
  001e9	89 45 f8	 mov	 DWORD PTR _task$[ebp], eax

; 121  : 	
; 122  : 		if (task)

  001ec	83 7d f8 00	 cmp	 DWORD PTR _task$[ebp], 0
  001f0	0f 84 80 00 00
	00		 je	 $LN5@get_local_

; 123  : 		{
; 124  : 	
; 125  : 			first_waypoint = get_local_entity_first_child (task, LIST_TYPE_WAYPOINT);

  001f6	83 7d f8 00	 cmp	 DWORD PTR _task$[ebp], 0
  001fa	74 0a		 je	 SHORT $LN20@get_local_
  001fc	8b 45 f8	 mov	 eax, DWORD PTR _task$[ebp]
  001ff	8b 08		 mov	 ecx, DWORD PTR [eax]
  00201	89 4d ac	 mov	 DWORD PTR tv175[ebp], ecx
  00204	eb 21		 jmp	 SHORT $LN21@get_local_
$LN20@get_local_:
  00206	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0020c	83 c2 2d	 add	 edx, 45			; 0000002dH
  0020f	52		 push	 edx
  00210	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00215	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0021a	50		 push	 eax
  0021b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00220	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv175[ebp], 0
$LN21@get_local_:
  00227	b9 01 00 00 00	 mov	 ecx, 1
  0022c	85 c9		 test	 ecx, ecx
  0022e	74 09		 je	 SHORT $LN22@get_local_
  00230	c7 45 a8 2c 00
	00 00		 mov	 DWORD PTR tv183[ebp], 44 ; 0000002cH
  00237	eb 21		 jmp	 SHORT $LN23@get_local_
$LN22@get_local_:
  00239	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_first_waypoint@@YGPAUENTITY@@PAU2@@Z@4JA
  0023f	83 c2 2d	 add	 edx, 45			; 0000002dH
  00242	52		 push	 edx
  00243	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@JBDMDJPB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00248	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0024d	50		 push	 eax
  0024e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00253	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv183[ebp], 0
$LN23@get_local_:
  0025a	6a 2c		 push	 44			; 0000002cH
  0025c	8b 4d f8	 mov	 ecx, DWORD PTR _task$[ebp]
  0025f	51		 push	 ecx
  00260	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv175[ebp], 180
  00267	8b 45 a8	 mov	 eax, DWORD PTR tv183[ebp]
  0026a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00271	ff d1		 call	 ecx
  00273	89 45 f0	 mov	 DWORD PTR _first_waypoint$[ebp], eax
$LN5@get_local_:

; 126  : 		}
; 127  : 	}
; 128  : 
; 129  :    return (first_waypoint);

  00276	8b 45 f0	 mov	 eax, DWORD PTR _first_waypoint$[ebp]
$LN1@get_local_:

; 130  : }

  00279	5f		 pop	 edi
  0027a	5e		 pop	 esi
  0027b	5b		 pop	 ebx
  0027c	8b e5		 mov	 esp, ebp
  0027e	5d		 pop	 ebp
  0027f	c2 04 00	 ret	 4
?get_local_entity_first_waypoint@@YGPAUENTITY@@PAU1@@Z ENDP ; get_local_entity_first_waypoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?sin@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?sin@@YGMM@Z PROC					; sin, COMDAT

; 284  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 285  : 	return (_CSTD sinf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _sinf
  00019	83 c4 04	 add	 esp, 4

; 286  : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?sin@@YGMM@Z ENDP					; sin
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?cos@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?cos@@YGMM@Z PROC					; cos, COMDAT

; 77   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 78   : 	return (_CSTD cosf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _cosf
  00019	83 c4 04	 add	 esp, 4

; 79   : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?cos@@YGMM@Z ENDP					; cos
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _sinf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_sinf	PROC						; COMDAT

; 749  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 750  :             return (float)sin(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _sin
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 751  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_sinf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _cosf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_cosf	PROC						; COMDAT

; 648  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 649  :             return (float)cos(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _cos
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 650  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_cosf	ENDP
_TEXT	ENDS
END
