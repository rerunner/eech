; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\mobile\mb_pack.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z ; pack_mobile_data
PUBLIC	?unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z ; unpack_mobile_data
PUBLIC	?pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z ; pack_mobile_local_sound_effects
PUBLIC	?unpack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z ; unpack_mobile_local_sound_effects
PUBLIC	?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA ; `pack_mobile_data'::`1'::__LINE__Var
PUBLIC	??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@ ; `string'
PUBLIC	?__LINE__Var@?0??unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA ; `unpack_mobile_data'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA ; `pack_mobile_local_sound_effects'::`1'::__LINE__Var
PUBLIC	__real@0000000000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z:PROC	; get_3d_vector_magnitude
EXTRN	?get_identity_matrix3x3@@YGXQAY02M@Z:PROC	; get_identity_matrix3x3
EXTRN	?pack_list_root@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_ROOT@@@Z:PROC ; pack_list_root
EXTRN	?unpack_list_root@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_ROOT@@@Z:PROC ; unpack_list_root
EXTRN	?pack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z:PROC ; pack_list_link
EXTRN	?unpack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z:PROC ; unpack_list_link
EXTRN	?pack_attitude_matrix@@YGXPAUENTITY@@QAY02M@Z:PROC ; pack_attitude_matrix
EXTRN	?unpack_attitude_matrix@@YGXPAUENTITY@@QAY02M@Z:PROC ; unpack_attitude_matrix
EXTRN	?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z:PROC ; pack_int_value
EXTRN	?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z:PROC ; unpack_int_value
EXTRN	?pack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z:PROC ; pack_vec3d
EXTRN	?unpack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z:PROC ; unpack_vec3d
EXTRN	?pack_local_only_sound_effect_data@@YGXPAUENTITY@@W4PACK_MODES@@@Z:PROC ; pack_local_only_sound_effect_data
EXTRN	?unpack_local_only_sound_effect_data@@YGXPAUENTITY@@W4PACK_MODES@@@Z:PROC ; unpack_local_only_sound_effect_data
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?effect_database@@3QBUEFFECT_DATA@@B:BYTE	; effect_database
EXTRN	__fltused:DWORD
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA DD 0153H ; `pack_mobile_local_sound_effects'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA DD 0e8H ; `unpack_mobile_data'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@
CONST	SEGMENT
??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@ DB '('
	DB	'mode >= 0) && (mode < NUM_PACK_MODES)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\mobile\mb_pack.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA DD 050H ; `pack_mobile_data'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\mb_pack.c
;	COMDAT ?unpack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
_count$ = -8						; size = 4
_loop$ = -4						; size = 4
_mobile$ = 8						; size = 4
_mode$ = 12						; size = 4
?unpack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z PROC ; unpack_mobile_local_sound_effects, COMDAT

; 412  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 413  : 	int
; 414  : 		loop,
; 415  : 		count;
; 416  : 
; 417  : 	count = 0;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 418  : 
; 419  : 	//
; 420  : 	// unpack count
; 421  : 	//
; 422  : 
; 423  : 	count = unpack_int_value (mobile, INT_TYPE_LOCAL_EFFECT_COUNT);

  00010	6a 7b		 push	 123			; 0000007bH
  00012	8b 45 08	 mov	 eax, DWORD PTR _mobile$[ebp]
  00015	50		 push	 eax
  00016	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  0001b	89 45 f8	 mov	 DWORD PTR _count$[ebp], eax

; 424  : 
; 425  : 	if (count == 0)

  0001e	83 7d f8 00	 cmp	 DWORD PTR _count$[ebp], 0
  00022	75 04		 jne	 SHORT $LN5@unpack_mob

; 426  : 	{
; 427  : 		return 0;

  00024	33 c0		 xor	 eax, eax
  00026	eb 2c		 jmp	 SHORT $LN1@unpack_mob
$LN5@unpack_mob:

; 428  : 	}
; 429  : 
; 430  : 	//
; 431  : 	// unpack sound data
; 432  : 	//
; 433  : 
; 434  : 	for (loop = 0; loop < count; loop ++)

  00028	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  0002f	eb 09		 jmp	 SHORT $LN4@unpack_mob
$LN2@unpack_mob:
  00031	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00034	83 c0 01	 add	 eax, 1
  00037	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@unpack_mob:
  0003a	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  0003d	3b 45 f8	 cmp	 eax, DWORD PTR _count$[ebp]
  00040	7d 0f		 jge	 SHORT $LN3@unpack_mob

; 435  : 	{
; 436  : 		unpack_local_only_sound_effect_data (mobile, mode);

  00042	8b 45 0c	 mov	 eax, DWORD PTR _mode$[ebp]
  00045	50		 push	 eax
  00046	8b 4d 08	 mov	 ecx, DWORD PTR _mobile$[ebp]
  00049	51		 push	 ecx
  0004a	e8 00 00 00 00	 call	 ?unpack_local_only_sound_effect_data@@YGXPAUENTITY@@W4PACK_MODES@@@Z ; unpack_local_only_sound_effect_data

; 437  : 	}

  0004f	eb e0		 jmp	 SHORT $LN2@unpack_mob
$LN3@unpack_mob:

; 438  : 
; 439  : 	return count;

  00051	8b 45 f8	 mov	 eax, DWORD PTR _count$[ebp]
$LN1@unpack_mob:

; 440  : }

  00054	5f		 pop	 edi
  00055	5e		 pop	 esi
  00056	5b		 pop	 ebx
  00057	8b e5		 mov	 esp, ebp
  00059	5d		 pop	 ebp
  0005a	c2 08 00	 ret	 8
?unpack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z ENDP ; unpack_mobile_local_sound_effects
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\mb_pack.c
;	COMDAT ?pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
tv241 = -84						; size = 4
tv215 = -84						; size = 4
tv187 = -84						; size = 4
tv163 = -84						; size = 4
tv138 = -84						; size = 4
tv78 = -84						; size = 4
tv233 = -80						; size = 4
tv207 = -80						; size = 4
tv199 = -80						; size = 4
tv179 = -80						; size = 4
tv155 = -80						; size = 4
tv130 = -80						; size = 4
tv90 = -80						; size = 4
tv70 = -80						; size = 4
_sub_type$ = -12					; size = 4
_en$ = -8						; size = 4
_count$ = -4						; size = 4
_mobile$ = 8						; size = 4
_mode$ = 12						; size = 4
?pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z PROC ; pack_mobile_local_sound_effects, COMDAT

; 339  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 340  : 	int
; 341  : 		count;
; 342  : 
; 343  : 	entity
; 344  : 		*en;
; 345  : 
; 346  : 	entity_sub_types
; 347  : 		sub_type;
; 348  : 
; 349  : 	count = 0;

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 350  : 
; 351  : 	//
; 352  : 	// count up local sound effect entities
; 353  : 	//
; 354  : 
; 355  : 	en = get_local_entity_first_child (mobile, LIST_TYPE_SPECIAL_EFFECT);

  00010	83 7d 08 00	 cmp	 DWORD PTR _mobile$[ebp], 0
  00014	74 0a		 je	 SHORT $LN12@pack_mobil
  00016	8b 45 08	 mov	 eax, DWORD PTR _mobile$[ebp]
  00019	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001b	89 4d b0	 mov	 DWORD PTR tv70[ebp], ecx
  0001e	eb 21		 jmp	 SHORT $LN13@pack_mobil
$LN12@pack_mobil:
  00020	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00026	83 c2 10	 add	 edx, 16			; 00000010H
  00029	52		 push	 edx
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	50		 push	 eax
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN13@pack_mobil:
  00041	b9 01 00 00 00	 mov	 ecx, 1
  00046	85 c9		 test	 ecx, ecx
  00048	74 09		 je	 SHORT $LN14@pack_mobil
  0004a	c7 45 ac 24 00
	00 00		 mov	 DWORD PTR tv78[ebp], 36	; 00000024H
  00051	eb 21		 jmp	 SHORT $LN15@pack_mobil
$LN14@pack_mobil:
  00053	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00059	83 c2 10	 add	 edx, 16			; 00000010H
  0005c	52		 push	 edx
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00067	50		 push	 eax
  00068	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006d	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN15@pack_mobil:
  00074	6a 24		 push	 36			; 00000024H
  00076	8b 4d 08	 mov	 ecx, DWORD PTR _mobile$[ebp]
  00079	51		 push	 ecx
  0007a	69 55 b0 b4 00
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 180
  00081	8b 45 ac	 mov	 eax, DWORD PTR tv78[ebp]
  00084	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0008b	ff d1		 call	 ecx
  0008d	89 45 f8	 mov	 DWORD PTR _en$[ebp], eax
$LN2@pack_mobil:

; 356  : 
; 357  : 	while (en)

  00090	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  00094	0f 84 52 01 00
	00		 je	 $LN3@pack_mobil

; 358  : 	{
; 359  : 		if (get_local_entity_type (en) == ENTITY_TYPE_SOUND_EFFECT)

  0009a	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  0009e	74 0a		 je	 SHORT $LN16@pack_mobil
  000a0	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  000a3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a5	89 4d b0	 mov	 DWORD PTR tv90[ebp], ecx
  000a8	eb 1d		 jmp	 SHORT $LN17@pack_mobil
$LN16@pack_mobil:
  000aa	68 67 01 00 00	 push	 359			; 00000167H
  000af	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ba	52		 push	 edx
  000bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c0	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN17@pack_mobil:
  000c7	83 7d b0 20	 cmp	 DWORD PTR tv90[ebp], 32	; 00000020H
  000cb	0f 85 96 00 00
	00		 jne	 $LN6@pack_mobil

; 360  : 		{
; 361  : 			sub_type = get_local_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE);

  000d1	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  000d5	74 0a		 je	 SHORT $LN18@pack_mobil
  000d7	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  000da	8b 08		 mov	 ecx, DWORD PTR [eax]
  000dc	89 4d b0	 mov	 DWORD PTR tv130[ebp], ecx
  000df	eb 21		 jmp	 SHORT $LN19@pack_mobil
$LN18@pack_mobil:
  000e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  000e7	83 c2 16	 add	 edx, 22			; 00000016H
  000ea	52		 push	 edx
  000eb	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000f5	50		 push	 eax
  000f6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000fb	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv130[ebp], 0
$LN19@pack_mobil:
  00102	b9 01 00 00 00	 mov	 ecx, 1
  00107	85 c9		 test	 ecx, ecx
  00109	74 09		 je	 SHORT $LN20@pack_mobil
  0010b	c7 45 ac 34 00
	00 00		 mov	 DWORD PTR tv138[ebp], 52 ; 00000034H
  00112	eb 21		 jmp	 SHORT $LN21@pack_mobil
$LN20@pack_mobil:
  00114	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  0011a	83 c2 16	 add	 edx, 22			; 00000016H
  0011d	52		 push	 edx
  0011e	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00123	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00128	50		 push	 eax
  00129	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0012e	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv138[ebp], 0
$LN21@pack_mobil:
  00135	6a 34		 push	 52			; 00000034H
  00137	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  0013a	51		 push	 ecx
  0013b	69 55 b0 5c 04
	00 00		 imul	 edx, DWORD PTR tv130[ebp], 1116
  00142	8b 45 ac	 mov	 eax, DWORD PTR tv138[ebp]
  00145	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0014c	ff d1		 call	 ecx
  0014e	89 45 f4	 mov	 DWORD PTR _sub_type$[ebp], eax

; 362  : 
; 363  : 			if (effect_database [sub_type].constructed_locally)

  00151	8b 45 f4	 mov	 eax, DWORD PTR _sub_type$[ebp]
  00154	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[eax*4], 0
  0015c	74 09		 je	 SHORT $LN6@pack_mobil

; 364  : 			{
; 365  : 				count ++;

  0015e	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00161	83 c0 01	 add	 eax, 1
  00164	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN6@pack_mobil:

; 366  : 			}
; 367  : 		}
; 368  : 
; 369  : 		en = get_local_entity_child_succ (en, LIST_TYPE_SPECIAL_EFFECT);

  00167	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  0016b	74 0a		 je	 SHORT $LN22@pack_mobil
  0016d	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  00170	8b 08		 mov	 ecx, DWORD PTR [eax]
  00172	89 4d b0	 mov	 DWORD PTR tv155[ebp], ecx
  00175	eb 21		 jmp	 SHORT $LN23@pack_mobil
$LN22@pack_mobil:
  00177	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  0017d	83 c2 1e	 add	 edx, 30			; 0000001eH
  00180	52		 push	 edx
  00181	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00186	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0018b	50		 push	 eax
  0018c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00191	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN23@pack_mobil:
  00198	b9 01 00 00 00	 mov	 ecx, 1
  0019d	85 c9		 test	 ecx, ecx
  0019f	74 09		 je	 SHORT $LN24@pack_mobil
  001a1	c7 45 ac 24 00
	00 00		 mov	 DWORD PTR tv163[ebp], 36 ; 00000024H
  001a8	eb 21		 jmp	 SHORT $LN25@pack_mobil
$LN24@pack_mobil:
  001aa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  001b0	83 c2 1e	 add	 edx, 30			; 0000001eH
  001b3	52		 push	 edx
  001b4	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001be	50		 push	 eax
  001bf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c4	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv163[ebp], 0
$LN25@pack_mobil:
  001cb	6a 24		 push	 36			; 00000024H
  001cd	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  001d0	51		 push	 ecx
  001d1	69 55 b0 b4 00
	00 00		 imul	 edx, DWORD PTR tv155[ebp], 180
  001d8	8b 45 ac	 mov	 eax, DWORD PTR tv163[ebp]
  001db	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001e2	ff d1		 call	 ecx
  001e4	89 45 f8	 mov	 DWORD PTR _en$[ebp], eax

; 370  : 	}

  001e7	e9 a4 fe ff ff	 jmp	 $LN2@pack_mobil
$LN3@pack_mobil:

; 371  : 
; 372  : 	//
; 373  : 	// pack up count
; 374  : 	//
; 375  : 
; 376  : 	pack_int_value (en, INT_TYPE_LOCAL_EFFECT_COUNT, count);

  001ec	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  001ef	50		 push	 eax
  001f0	6a 7b		 push	 123			; 0000007bH
  001f2	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  001f5	51		 push	 ecx
  001f6	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 377  : 
; 378  : 	if (count == 0)

  001fb	83 7d fc 00	 cmp	 DWORD PTR _count$[ebp], 0
  001ff	75 07		 jne	 SHORT $LN8@pack_mobil

; 379  : 	{
; 380  : 		return 0;

  00201	33 c0		 xor	 eax, eax
  00203	e9 e3 01 00 00	 jmp	 $LN1@pack_mobil
$LN8@pack_mobil:

; 381  : 	}
; 382  : 
; 383  : 	//
; 384  : 	// pack sound data
; 385  : 	//
; 386  : 
; 387  : 	en = get_local_entity_first_child (mobile, LIST_TYPE_SPECIAL_EFFECT);

  00208	83 7d 08 00	 cmp	 DWORD PTR _mobile$[ebp], 0
  0020c	74 0a		 je	 SHORT $LN26@pack_mobil
  0020e	8b 45 08	 mov	 eax, DWORD PTR _mobile$[ebp]
  00211	8b 08		 mov	 ecx, DWORD PTR [eax]
  00213	89 4d b0	 mov	 DWORD PTR tv179[ebp], ecx
  00216	eb 21		 jmp	 SHORT $LN27@pack_mobil
$LN26@pack_mobil:
  00218	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  0021e	83 c2 30	 add	 edx, 48			; 00000030H
  00221	52		 push	 edx
  00222	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00227	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0022c	50		 push	 eax
  0022d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00232	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN27@pack_mobil:
  00239	b9 01 00 00 00	 mov	 ecx, 1
  0023e	85 c9		 test	 ecx, ecx
  00240	74 09		 je	 SHORT $LN28@pack_mobil
  00242	c7 45 ac 24 00
	00 00		 mov	 DWORD PTR tv187[ebp], 36 ; 00000024H
  00249	eb 21		 jmp	 SHORT $LN29@pack_mobil
$LN28@pack_mobil:
  0024b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00251	83 c2 30	 add	 edx, 48			; 00000030H
  00254	52		 push	 edx
  00255	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0025a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0025f	50		 push	 eax
  00260	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00265	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv187[ebp], 0
$LN29@pack_mobil:
  0026c	6a 24		 push	 36			; 00000024H
  0026e	8b 4d 08	 mov	 ecx, DWORD PTR _mobile$[ebp]
  00271	51		 push	 ecx
  00272	69 55 b0 b4 00
	00 00		 imul	 edx, DWORD PTR tv179[ebp], 180
  00279	8b 45 ac	 mov	 eax, DWORD PTR tv187[ebp]
  0027c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00283	ff d1		 call	 ecx
  00285	89 45 f8	 mov	 DWORD PTR _en$[ebp], eax
$LN4@pack_mobil:

; 388  : 
; 389  : 	while (en)

  00288	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  0028c	0f 84 56 01 00
	00		 je	 $LN5@pack_mobil

; 390  : 	{
; 391  : 		if (get_local_entity_type (en) == ENTITY_TYPE_SOUND_EFFECT)

  00292	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  00296	74 0a		 je	 SHORT $LN30@pack_mobil
  00298	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  0029b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0029d	89 4d b0	 mov	 DWORD PTR tv199[ebp], ecx
  002a0	eb 1d		 jmp	 SHORT $LN31@pack_mobil
$LN30@pack_mobil:
  002a2	68 87 01 00 00	 push	 391			; 00000187H
  002a7	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ac	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002b2	52		 push	 edx
  002b3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b8	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv199[ebp], 0
$LN31@pack_mobil:
  002bf	83 7d b0 20	 cmp	 DWORD PTR tv199[ebp], 32 ; 00000020H
  002c3	0f 85 9a 00 00
	00		 jne	 $LN9@pack_mobil

; 392  : 		{
; 393  : 			sub_type = get_local_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE);

  002c9	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  002cd	74 0a		 je	 SHORT $LN32@pack_mobil
  002cf	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  002d2	8b 08		 mov	 ecx, DWORD PTR [eax]
  002d4	89 4d b0	 mov	 DWORD PTR tv207[ebp], ecx
  002d7	eb 21		 jmp	 SHORT $LN33@pack_mobil
$LN32@pack_mobil:
  002d9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  002df	83 c2 36	 add	 edx, 54			; 00000036H
  002e2	52		 push	 edx
  002e3	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002ed	50		 push	 eax
  002ee	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002f3	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv207[ebp], 0
$LN33@pack_mobil:
  002fa	b9 01 00 00 00	 mov	 ecx, 1
  002ff	85 c9		 test	 ecx, ecx
  00301	74 09		 je	 SHORT $LN34@pack_mobil
  00303	c7 45 ac 34 00
	00 00		 mov	 DWORD PTR tv215[ebp], 52 ; 00000034H
  0030a	eb 21		 jmp	 SHORT $LN35@pack_mobil
$LN34@pack_mobil:
  0030c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00312	83 c2 36	 add	 edx, 54			; 00000036H
  00315	52		 push	 edx
  00316	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0031b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00320	50		 push	 eax
  00321	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00326	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv215[ebp], 0
$LN35@pack_mobil:
  0032d	6a 34		 push	 52			; 00000034H
  0032f	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  00332	51		 push	 ecx
  00333	69 55 b0 5c 04
	00 00		 imul	 edx, DWORD PTR tv207[ebp], 1116
  0033a	8b 45 ac	 mov	 eax, DWORD PTR tv215[ebp]
  0033d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00344	ff d1		 call	 ecx
  00346	89 45 f4	 mov	 DWORD PTR _sub_type$[ebp], eax

; 394  : 
; 395  : 			if (effect_database [sub_type].constructed_locally)

  00349	8b 45 f4	 mov	 eax, DWORD PTR _sub_type$[ebp]
  0034c	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[eax*4], 0
  00354	74 0d		 je	 SHORT $LN9@pack_mobil

; 396  : 			{
; 397  : 				pack_local_only_sound_effect_data (en, mode);

  00356	8b 45 0c	 mov	 eax, DWORD PTR _mode$[ebp]
  00359	50		 push	 eax
  0035a	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  0035d	51		 push	 ecx
  0035e	e8 00 00 00 00	 call	 ?pack_local_only_sound_effect_data@@YGXPAUENTITY@@W4PACK_MODES@@@Z ; pack_local_only_sound_effect_data
$LN9@pack_mobil:

; 398  : 			}
; 399  : 		}
; 400  : 
; 401  : 		en = get_local_entity_child_succ (en, LIST_TYPE_SPECIAL_EFFECT);

  00363	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  00367	74 0a		 je	 SHORT $LN36@pack_mobil
  00369	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  0036c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0036e	89 4d b0	 mov	 DWORD PTR tv233[ebp], ecx
  00371	eb 21		 jmp	 SHORT $LN37@pack_mobil
$LN36@pack_mobil:
  00373	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00379	83 c2 3e	 add	 edx, 62			; 0000003eH
  0037c	52		 push	 edx
  0037d	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00382	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00387	50		 push	 eax
  00388	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0038d	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv233[ebp], 0
$LN37@pack_mobil:
  00394	b9 01 00 00 00	 mov	 ecx, 1
  00399	85 c9		 test	 ecx, ecx
  0039b	74 09		 je	 SHORT $LN38@pack_mobil
  0039d	c7 45 ac 24 00
	00 00		 mov	 DWORD PTR tv241[ebp], 36 ; 00000024H
  003a4	eb 21		 jmp	 SHORT $LN39@pack_mobil
$LN38@pack_mobil:
  003a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z@4JA
  003ac	83 c2 3e	 add	 edx, 62			; 0000003eH
  003af	52		 push	 edx
  003b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  003b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  003ba	50		 push	 eax
  003bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003c0	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv241[ebp], 0
$LN39@pack_mobil:
  003c7	6a 24		 push	 36			; 00000024H
  003c9	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  003cc	51		 push	 ecx
  003cd	69 55 b0 b4 00
	00 00		 imul	 edx, DWORD PTR tv233[ebp], 180
  003d4	8b 45 ac	 mov	 eax, DWORD PTR tv241[ebp]
  003d7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  003de	ff d1		 call	 ecx
  003e0	89 45 f8	 mov	 DWORD PTR _en$[ebp], eax

; 402  : 	}

  003e3	e9 a0 fe ff ff	 jmp	 $LN4@pack_mobil
$LN5@pack_mobil:

; 403  : 
; 404  : 	return count;

  003e8	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
$LN1@pack_mobil:

; 405  : }

  003eb	5f		 pop	 edi
  003ec	5e		 pop	 esi
  003ed	5b		 pop	 ebx
  003ee	8b e5		 mov	 esp, ebp
  003f0	5d		 pop	 ebp
  003f1	c2 08 00	 ret	 8
?pack_mobile_local_sound_effects@@YGHPAUENTITY@@W4PACK_MODES@@@Z ENDP ; pack_mobile_local_sound_effects
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\mb_pack.c
;	COMDAT ?unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
tv181 = -68						; size = 4
tv168 = -68						; size = 4
tv159 = -68						; size = 4
tv84 = -68						; size = 4
tv70 = -68						; size = 4
_en$ = 8						; size = 4
_raw$ = 12						; size = 4
_mode$ = 16						; size = 4
?unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z PROC ; unpack_mobile_data, COMDAT

; 232  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 233  : 	ASSERT ((mode >= 0) && (mode < NUM_PACK_MODES));

  00009	83 7d 10 00	 cmp	 DWORD PTR _mode$[ebp], 0
  0000d	7c 06		 jl	 SHORT $LN5@unpack_mob
  0000f	83 7d 10 04	 cmp	 DWORD PTR _mode$[ebp], 4
  00013	7c 18		 jl	 SHORT $LN4@unpack_mob
$LN5@unpack_mob:
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
  0001a	83 c0 01	 add	 eax, 1
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@unpack_mob:

; 234  : 
; 235  : 	switch (mode)

  0002d	8b 45 10	 mov	 eax, DWORD PTR _mode$[ebp]
  00030	89 45 bc	 mov	 DWORD PTR tv70[ebp], eax
  00033	83 7d bc 00	 cmp	 DWORD PTR tv70[ebp], 0
  00037	0f 8c 90 01 00
	00		 jl	 $LN1@unpack_mob
  0003d	83 7d bc 01	 cmp	 DWORD PTR tv70[ebp], 1
  00041	7e 05		 jle	 SHORT $LN6@unpack_mob
  00043	e9 85 01 00 00	 jmp	 $LN1@unpack_mob
$LN6@unpack_mob:

; 236  : 	{
; 237  : 		////////////////////////////////////////
; 238  : 		case PACK_MODE_SERVER_SESSION:
; 239  : 		case PACK_MODE_CLIENT_SESSION:
; 240  : 		////////////////////////////////////////
; 241  : 		{
; 242  : 			raw->sub_type = unpack_int_value (en, INT_TYPE_ENTITY_SUB_TYPE);

  00048	6a 34		 push	 52			; 00000034H
  0004a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0004d	50		 push	 eax
  0004e	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  00053	8b 4d 0c	 mov	 ecx, DWORD PTR _raw$[ebp]
  00056	89 01		 mov	 DWORD PTR [ecx], eax

; 243  : 
; 244  : 			unpack_vec3d (en, VEC3D_TYPE_POSITION, &raw->position);

  00058	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0005b	83 c0 04	 add	 eax, 4
  0005e	50		 push	 eax
  0005f	6a 08		 push	 8
  00061	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00064	51		 push	 ecx
  00065	e8 00 00 00 00	 call	 ?unpack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z ; unpack_vec3d

; 245  : 
; 246  : 			/////////////////////////////////////////////////////////////////
; 247  : 
; 248  : 			if (get_local_entity_type (en) == ENTITY_TYPE_CARGO)

  0006a	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0006e	74 0a		 je	 SHORT $LN17@unpack_mob
  00070	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00073	8b 08		 mov	 ecx, DWORD PTR [eax]
  00075	89 4d bc	 mov	 DWORD PTR tv84[ebp], ecx
  00078	eb 1d		 jmp	 SHORT $LN18@unpack_mob
$LN17@unpack_mob:
  0007a	68 f8 00 00 00	 push	 248			; 000000f8H
  0007f	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00084	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0008a	52		 push	 edx
  0008b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00090	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN18@unpack_mob:
  00097	83 7d bc 04	 cmp	 DWORD PTR tv84[ebp], 4
  0009b	75 0e		 jne	 SHORT $LN7@unpack_mob

; 249  : 			{
; 250  : 
; 251  : 				get_identity_matrix3x3 (raw->attitude);

  0009d	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  000a0	83 c0 10	 add	 eax, 16			; 00000010H
  000a3	50		 push	 eax
  000a4	e8 00 00 00 00	 call	 ?get_identity_matrix3x3@@YGXQAY02M@Z ; get_identity_matrix3x3

; 252  : 			}
; 253  : 			else

  000a9	eb 10		 jmp	 SHORT $LN8@unpack_mob
$LN7@unpack_mob:

; 254  : 			{
; 255  : 
; 256  : 				unpack_attitude_matrix (en, raw->attitude);

  000ab	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  000ae	83 c0 10	 add	 eax, 16			; 00000010H
  000b1	50		 push	 eax
  000b2	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000b5	51		 push	 ecx
  000b6	e8 00 00 00 00	 call	 ?unpack_attitude_matrix@@YGXPAUENTITY@@QAY02M@Z ; unpack_attitude_matrix
$LN8@unpack_mob:

; 257  : 			}
; 258  : 
; 259  : 			/////////////////////////////////////////////////////////////////
; 260  : 			if (unpack_int_value (en, INT_TYPE_VALID))

  000bb	68 ef 00 00 00	 push	 239			; 000000efH
  000c0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000c3	50		 push	 eax
  000c4	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  000c9	85 c0		 test	 eax, eax
  000cb	74 12		 je	 SHORT $LN9@unpack_mob

; 261  : 			{
; 262  : 
; 263  : 				unpack_vec3d (en, VEC3D_TYPE_MOTION_VECTOR, &raw->motion_vector);

  000cd	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  000d0	83 c0 34	 add	 eax, 52			; 00000034H
  000d3	50		 push	 eax
  000d4	6a 06		 push	 6
  000d6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000d9	51		 push	 ecx
  000da	e8 00 00 00 00	 call	 ?unpack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z ; unpack_vec3d
$LN9@unpack_mob:

; 264  : 			}
; 265  : 			/////////////////////////////////////////////////////////////////
; 266  : 
; 267  : 			// velocity unpacked at lower levels (aircraft / vehicle)
; 268  : 
; 269  : 			/////////////////////////////////////////////////////////////////
; 270  : 			if (unpack_int_value (en, INT_TYPE_VALID))

  000df	68 ef 00 00 00	 push	 239			; 000000efH
  000e4	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000e7	50		 push	 eax
  000e8	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  000ed	85 c0		 test	 eax, eax
  000ef	74 12		 je	 SHORT $LN10@unpack_mob

; 271  : 			{
; 272  : 
; 273  : 				unpack_list_root (en, LIST_TYPE_SPECIAL_EFFECT, &raw->special_effect_root);

  000f1	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  000f4	83 c0 44	 add	 eax, 68			; 00000044H
  000f7	50		 push	 eax
  000f8	6a 24		 push	 36			; 00000024H
  000fa	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000fd	51		 push	 ecx
  000fe	e8 00 00 00 00	 call	 ?unpack_list_root@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_ROOT@@@Z ; unpack_list_root
$LN10@unpack_mob:

; 274  : 			}
; 275  : 			/////////////////////////////////////////////////////////////////
; 276  : 
; 277  : 			/////////////////////////////////////////////////////////////////
; 278  : 			if (unpack_int_value (en, INT_TYPE_VALID))

  00103	68 ef 00 00 00	 push	 239			; 000000efH
  00108	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0010b	50		 push	 eax
  0010c	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  00111	85 c0		 test	 eax, eax
  00113	74 12		 je	 SHORT $LN11@unpack_mob

; 279  : 			{
; 280  : 
; 281  : 				unpack_list_root (en, LIST_TYPE_TARGET, &raw->target_root);

  00115	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  00118	83 c0 48	 add	 eax, 72			; 00000048H
  0011b	50		 push	 eax
  0011c	6a 26		 push	 38			; 00000026H
  0011e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00121	51		 push	 ecx
  00122	e8 00 00 00 00	 call	 ?unpack_list_root@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_ROOT@@@Z ; unpack_list_root
$LN11@unpack_mob:

; 282  : 			}
; 283  : 			/////////////////////////////////////////////////////////////////
; 284  : 
; 285  : 			// padlock_link
; 286  : 
; 287  : 			// sector_link
; 288  : 
; 289  : 			/////////////////////////////////////////////////////////////////
; 290  : 			if (unpack_int_value (en, INT_TYPE_VALID))

  00127	68 ef 00 00 00	 push	 239			; 000000efH
  0012c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0012f	50		 push	 eax
  00130	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  00135	85 c0		 test	 eax, eax
  00137	74 12		 je	 SHORT $LN12@unpack_mob

; 291  : 			{
; 292  : 
; 293  : 				unpack_list_link (en, LIST_TYPE_TARGET, &raw->target_link);

  00139	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0013c	83 c0 64	 add	 eax, 100		; 00000064H
  0013f	50		 push	 eax
  00140	6a 26		 push	 38			; 00000026H
  00142	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00145	51		 push	 ecx
  00146	e8 00 00 00 00	 call	 ?unpack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z ; unpack_list_link
$LN12@unpack_mob:

; 294  : 			}
; 295  : 			/////////////////////////////////////////////////////////////////
; 296  : 
; 297  : 			// update_link
; 298  : 
; 299  : 			raw->alive = unpack_int_value (en, INT_TYPE_ALIVE);

  0014b	6a 07		 push	 7
  0014d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  00156	89 45 bc	 mov	 DWORD PTR tv159[ebp], eax
  00159	8b 4d bc	 mov	 ecx, DWORD PTR tv159[ebp]
  0015c	83 e1 01	 and	 ecx, 1
  0015f	8b 55 0c	 mov	 edx, DWORD PTR _raw$[ebp]
  00162	8b 42 7c	 mov	 eax, DWORD PTR [edx+124]
  00165	83 e0 fe	 and	 eax, -2			; fffffffeH
  00168	0b c1		 or	 eax, ecx
  0016a	8b 4d 0c	 mov	 ecx, DWORD PTR _raw$[ebp]
  0016d	89 41 7c	 mov	 DWORD PTR [ecx+124], eax

; 300  : 
; 301  : 			raw->side = unpack_int_value (en, INT_TYPE_SIDE);

  00170	68 bb 00 00 00	 push	 187			; 000000bbH
  00175	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00178	50		 push	 eax
  00179	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  0017e	89 45 bc	 mov	 DWORD PTR tv168[ebp], eax
  00181	8b 4d bc	 mov	 ecx, DWORD PTR tv168[ebp]
  00184	83 e1 03	 and	 ecx, 3
  00187	d1 e1		 shl	 ecx, 1
  00189	8b 55 0c	 mov	 edx, DWORD PTR _raw$[ebp]
  0018c	8b 42 7c	 mov	 eax, DWORD PTR [edx+124]
  0018f	83 e0 f9	 and	 eax, -7			; fffffff9H
  00192	0b c1		 or	 eax, ecx
  00194	8b 4d 0c	 mov	 ecx, DWORD PTR _raw$[ebp]
  00197	89 41 7c	 mov	 DWORD PTR [ecx+124], eax

; 302  : 
; 303  : 			if (raw->alive)

  0019a	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0019d	8b 48 7c	 mov	 ecx, DWORD PTR [eax+124]
  001a0	83 e1 01	 and	 ecx, 1
  001a3	74 28		 je	 SHORT $LN1@unpack_mob

; 304  : 			{
; 305  : 
; 306  : 				raw->kill_next_update = unpack_int_value (en, INT_TYPE_KILL_NEXT_UPDATE);

  001a5	6a 71		 push	 113			; 00000071H
  001a7	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001aa	50		 push	 eax
  001ab	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  001b0	89 45 bc	 mov	 DWORD PTR tv181[ebp], eax
  001b3	8b 4d bc	 mov	 ecx, DWORD PTR tv181[ebp]
  001b6	83 e1 03	 and	 ecx, 3
  001b9	c1 e1 03	 shl	 ecx, 3
  001bc	8b 55 0c	 mov	 edx, DWORD PTR _raw$[ebp]
  001bf	8b 42 7c	 mov	 eax, DWORD PTR [edx+124]
  001c2	83 e0 e7	 and	 eax, -25		; ffffffe7H
  001c5	0b c1		 or	 eax, ecx
  001c7	8b 4d 0c	 mov	 ecx, DWORD PTR _raw$[ebp]
  001ca	89 41 7c	 mov	 DWORD PTR [ecx+124], eax
$LN1@unpack_mob:

; 307  : 			}
; 308  : 
; 309  : 			// updated
; 310  : 
; 311  : 			// object_drawn_once_this_frame
; 312  : 
; 313  : 			break;
; 314  : 		}
; 315  : 		////////////////////////////////////////
; 316  : 		case PACK_MODE_BROWSE_SESSION:
; 317  : 		////////////////////////////////////////
; 318  : 		{
; 319  : 			break;
; 320  : 		}
; 321  : 		////////////////////////////////////////
; 322  : 		case PACK_MODE_UPDATE_ENTITY:
; 323  : 		////////////////////////////////////////
; 324  : 		{
; 325  : 			//
; 326  : 			// cannot update entity at this level as the update may not apply to all entity types below
; 327  : 			//
; 328  : 
; 329  : 			break;
; 330  : 		}
; 331  : 	}
; 332  : }

  001cd	5f		 pop	 edi
  001ce	5e		 pop	 esi
  001cf	5b		 pop	 ebx
  001d0	8b e5		 mov	 esp, ebp
  001d2	5d		 pop	 ebp
  001d3	c2 0c 00	 ret	 12			; 0000000cH
?unpack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z ENDP ; unpack_mobile_data
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\mb_pack.c
;	COMDAT ?pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
tv293 = -80						; size = 8
tv219 = -80						; size = 4
tv192 = -80						; size = 4
tv172 = -80						; size = 4
tv148 = -80						; size = 4
tv211 = -76						; size = 4
tv185 = -76						; size = 4
tv164 = -76						; size = 4
tv141 = -76						; size = 4
tv84 = -76						; size = 4
tv70 = -76						; size = 4
_spec$1 = -8						; size = 4
_root$2 = -4						; size = 4
_en$ = 8						; size = 4
_raw$ = 12						; size = 4
_mode$ = 16						; size = 4
?pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z PROC ; pack_mobile_data, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	ASSERT ((mode >= 0) && (mode < NUM_PACK_MODES));

  00009	83 7d 10 00	 cmp	 DWORD PTR _mode$[ebp], 0
  0000d	7c 06		 jl	 SHORT $LN7@pack_mobil
  0000f	83 7d 10 04	 cmp	 DWORD PTR _mode$[ebp], 4
  00013	7c 18		 jl	 SHORT $LN6@pack_mobil
$LN7@pack_mobil:
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
  0001a	83 c0 01	 add	 eax, 1
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@pack_mobil:

; 82   : 
; 83   : 	switch (mode)

  0002d	8b 45 10	 mov	 eax, DWORD PTR _mode$[ebp]
  00030	89 45 b4	 mov	 DWORD PTR tv70[ebp], eax
  00033	83 7d b4 00	 cmp	 DWORD PTR tv70[ebp], 0
  00037	0f 8c da 03 00
	00		 jl	 $LN2@pack_mobil
  0003d	83 7d b4 01	 cmp	 DWORD PTR tv70[ebp], 1
  00041	7e 05		 jle	 SHORT $LN8@pack_mobil
  00043	e9 cf 03 00 00	 jmp	 $LN2@pack_mobil
$LN8@pack_mobil:

; 84   : 	{
; 85   : 		////////////////////////////////////////
; 86   : 		case PACK_MODE_SERVER_SESSION:
; 87   : 		case PACK_MODE_CLIENT_SESSION:
; 88   : 		////////////////////////////////////////
; 89   : 		{
; 90   : 			pack_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, raw->sub_type);

  00048	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0004b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0004d	51		 push	 ecx
  0004e	6a 34		 push	 52			; 00000034H
  00050	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00053	52		 push	 edx
  00054	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 91   : 
; 92   : 			pack_vec3d (en, VEC3D_TYPE_POSITION, &raw->position);

  00059	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0005c	83 c0 04	 add	 eax, 4
  0005f	50		 push	 eax
  00060	6a 08		 push	 8
  00062	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00065	51		 push	 ecx
  00066	e8 00 00 00 00	 call	 ?pack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z ; pack_vec3d

; 93   : 
; 94   : 			/////////////////////////////////////////////////////////////////
; 95   : 
; 96   : 			if (get_local_entity_type (en) != ENTITY_TYPE_CARGO)

  0006b	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0006f	74 0a		 je	 SHORT $LN24@pack_mobil
  00071	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00074	8b 08		 mov	 ecx, DWORD PTR [eax]
  00076	89 4d b4	 mov	 DWORD PTR tv84[ebp], ecx
  00079	eb 1a		 jmp	 SHORT $LN25@pack_mobil
$LN24@pack_mobil:
  0007b	6a 60		 push	 96			; 00000060H
  0007d	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00082	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00088	52		 push	 edx
  00089	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008e	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN25@pack_mobil:
  00095	83 7d b4 04	 cmp	 DWORD PTR tv84[ebp], 4
  00099	74 10		 je	 SHORT $LN9@pack_mobil

; 97   : 			{
; 98   : 
; 99   : 				pack_attitude_matrix (en, raw->attitude);

  0009b	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0009e	83 c0 10	 add	 eax, 16			; 00000010H
  000a1	50		 push	 eax
  000a2	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000a5	51		 push	 ecx
  000a6	e8 00 00 00 00	 call	 ?pack_attitude_matrix@@YGXPAUENTITY@@QAY02M@Z ; pack_attitude_matrix
$LN9@pack_mobil:

; 100  : 			}
; 101  : 
; 102  : 			/////////////////////////////////////////////////////////////////
; 103  : 			if (!check_zero_3d_vector (&raw->motion_vector))

  000ab	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  000ae	83 c0 34	 add	 eax, 52			; 00000034H
  000b1	50		 push	 eax
  000b2	e8 00 00 00 00	 call	 ?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z ; get_3d_vector_magnitude
  000b7	dd 5d b0	 fstp	 QWORD PTR tv293[ebp]
  000ba	f2 0f 10 45 b0	 movsd	 xmm0, QWORD PTR tv293[ebp]
  000bf	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  000c7	9f		 lahf
  000c8	f6 c4 44	 test	 ah, 68			; 00000044H
  000cb	7b 24		 jnp	 SHORT $LN10@pack_mobil

; 104  : 			{
; 105  : 
; 106  : 				pack_int_value (en, INT_TYPE_VALID, TRUE);

  000cd	6a 01		 push	 1
  000cf	68 ef 00 00 00	 push	 239			; 000000efH
  000d4	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000d7	50		 push	 eax
  000d8	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 107  : 
; 108  : 				pack_vec3d (en, VEC3D_TYPE_MOTION_VECTOR, &raw->motion_vector);

  000dd	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  000e0	83 c0 34	 add	 eax, 52			; 00000034H
  000e3	50		 push	 eax
  000e4	6a 06		 push	 6
  000e6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000e9	51		 push	 ecx
  000ea	e8 00 00 00 00	 call	 ?pack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z ; pack_vec3d

; 109  : 			}
; 110  : 			else

  000ef	eb 10		 jmp	 SHORT $LN11@pack_mobil
$LN10@pack_mobil:

; 111  : 			{
; 112  : 
; 113  : 				pack_int_value (en, INT_TYPE_VALID, FALSE);

  000f1	6a 00		 push	 0
  000f3	68 ef 00 00 00	 push	 239			; 000000efH
  000f8	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000fb	50		 push	 eax
  000fc	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value
$LN11@pack_mobil:

; 114  : 			}
; 115  : 			/////////////////////////////////////////////////////////////////
; 116  : 
; 117  : 			// velocity packed at lower levels (aircraft / vehicle)
; 118  : 
; 119  : 			/////////////////////////////////////////////////////////////////
; 120  : 			// special case for special effect root
; 121  : 			// Pack first non-locally contructed entity as the list_root.
; 122  : 			if (get_local_entity_first_child (en, LIST_TYPE_SPECIAL_EFFECT))

  00101	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00105	74 0a		 je	 SHORT $LN26@pack_mobil
  00107	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0010a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0010c	89 4d b4	 mov	 DWORD PTR tv141[ebp], ecx
  0010f	eb 1a		 jmp	 SHORT $LN27@pack_mobil
$LN26@pack_mobil:
  00111	6a 7a		 push	 122			; 0000007aH
  00113	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00118	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0011e	52		 push	 edx
  0011f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00124	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv141[ebp], 0
$LN27@pack_mobil:
  0012b	b8 01 00 00 00	 mov	 eax, 1
  00130	85 c0		 test	 eax, eax
  00132	74 09		 je	 SHORT $LN28@pack_mobil
  00134	c7 45 b0 24 00
	00 00		 mov	 DWORD PTR tv148[ebp], 36 ; 00000024H
  0013b	eb 1a		 jmp	 SHORT $LN29@pack_mobil
$LN28@pack_mobil:
  0013d	6a 7a		 push	 122			; 0000007aH
  0013f	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00144	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0014a	51		 push	 ecx
  0014b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00150	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv148[ebp], 0
$LN29@pack_mobil:
  00157	6a 24		 push	 36			; 00000024H
  00159	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0015c	52		 push	 edx
  0015d	69 45 b4 b4 00
	00 00		 imul	 eax, DWORD PTR tv141[ebp], 180
  00164	8b 4d b0	 mov	 ecx, DWORD PTR tv148[ebp]
  00167	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[eax+ecx*4]
  0016e	ff d2		 call	 edx
  00170	85 c0		 test	 eax, eax
  00172	0f 84 c3 01 00
	00		 je	 $LN12@pack_mobil

; 123  : 			{
; 124  : 				list_root
; 125  : 					root;
; 126  : 
; 127  : 				entity
; 128  : 					*spec;
; 129  : 
; 130  : 				pack_int_value (en, INT_TYPE_VALID, TRUE);

  00178	6a 01		 push	 1
  0017a	68 ef 00 00 00	 push	 239			; 000000efH
  0017f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00182	50		 push	 eax
  00183	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 131  : 
; 132  : 				spec = get_local_entity_first_child (en, LIST_TYPE_SPECIAL_EFFECT);

  00188	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0018c	74 0a		 je	 SHORT $LN30@pack_mobil
  0018e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00191	8b 08		 mov	 ecx, DWORD PTR [eax]
  00193	89 4d b4	 mov	 DWORD PTR tv164[ebp], ecx
  00196	eb 21		 jmp	 SHORT $LN31@pack_mobil
$LN30@pack_mobil:
  00198	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
  0019e	83 c2 34	 add	 edx, 52			; 00000034H
  001a1	52		 push	 edx
  001a2	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ac	50		 push	 eax
  001ad	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv164[ebp], 0
$LN31@pack_mobil:
  001b9	b9 01 00 00 00	 mov	 ecx, 1
  001be	85 c9		 test	 ecx, ecx
  001c0	74 09		 je	 SHORT $LN32@pack_mobil
  001c2	c7 45 b0 24 00
	00 00		 mov	 DWORD PTR tv172[ebp], 36 ; 00000024H
  001c9	eb 21		 jmp	 SHORT $LN33@pack_mobil
$LN32@pack_mobil:
  001cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
  001d1	83 c2 34	 add	 edx, 52			; 00000034H
  001d4	52		 push	 edx
  001d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001df	50		 push	 eax
  001e0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e5	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv172[ebp], 0
$LN33@pack_mobil:
  001ec	6a 24		 push	 36			; 00000024H
  001ee	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001f1	51		 push	 ecx
  001f2	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv164[ebp], 180
  001f9	8b 45 b0	 mov	 eax, DWORD PTR tv172[ebp]
  001fc	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00203	ff d1		 call	 ecx
  00205	89 45 f8	 mov	 DWORD PTR _spec$1[ebp], eax
$LN4@pack_mobil:

; 133  : 
; 134  : 				while (TRUE)

  00208	b8 01 00 00 00	 mov	 eax, 1
  0020d	85 c0		 test	 eax, eax
  0020f	0f 84 24 01 00
	00		 je	 $LN5@pack_mobil

; 135  : 				{
; 136  : 					if ((spec == NULL) ||

  00215	83 7d f8 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  00219	74 7f		 je	 SHORT $LN15@pack_mobil
  0021b	83 7d f8 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  0021f	74 0a		 je	 SHORT $LN34@pack_mobil
  00221	8b 45 f8	 mov	 eax, DWORD PTR _spec$1[ebp]
  00224	8b 08		 mov	 ecx, DWORD PTR [eax]
  00226	89 4d b4	 mov	 DWORD PTR tv185[ebp], ecx
  00229	eb 1d		 jmp	 SHORT $LN35@pack_mobil
$LN34@pack_mobil:
  0022b	68 89 00 00 00	 push	 137			; 00000089H
  00230	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00235	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0023b	52		 push	 edx
  0023c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00241	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv185[ebp], 0
$LN35@pack_mobil:
  00248	b8 01 00 00 00	 mov	 eax, 1
  0024d	85 c0		 test	 eax, eax
  0024f	74 09		 je	 SHORT $LN36@pack_mobil
  00251	c7 45 b0 34 00
	00 00		 mov	 DWORD PTR tv192[ebp], 52 ; 00000034H
  00258	eb 1d		 jmp	 SHORT $LN37@pack_mobil
$LN36@pack_mobil:
  0025a	68 89 00 00 00	 push	 137			; 00000089H
  0025f	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00264	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0026a	51		 push	 ecx
  0026b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00270	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv192[ebp], 0
$LN37@pack_mobil:
  00277	6a 34		 push	 52			; 00000034H
  00279	8b 55 f8	 mov	 edx, DWORD PTR _spec$1[ebp]
  0027c	52		 push	 edx
  0027d	69 45 b4 5c 04
	00 00		 imul	 eax, DWORD PTR tv185[ebp], 1116
  00284	8b 4d b0	 mov	 ecx, DWORD PTR tv192[ebp]
  00287	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0028e	ff d2		 call	 edx
  00290	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[eax*4], 0
  00298	75 1a		 jne	 SHORT $LN14@pack_mobil
$LN15@pack_mobil:

; 137  : 							(effect_database [get_local_entity_int_value (spec, INT_TYPE_ENTITY_SUB_TYPE)].constructed_locally == FALSE))
; 138  : 					{
; 139  : 						root.first_child = spec;

  0029a	8b 45 f8	 mov	 eax, DWORD PTR _spec$1[ebp]
  0029d	89 45 fc	 mov	 DWORD PTR _root$2[ebp], eax

; 140  : 
; 141  : 						pack_list_root (en, LIST_TYPE_SPECIAL_EFFECT, &root);

  002a0	8d 45 fc	 lea	 eax, DWORD PTR _root$2[ebp]
  002a3	50		 push	 eax
  002a4	6a 24		 push	 36			; 00000024H
  002a6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  002a9	51		 push	 ecx
  002aa	e8 00 00 00 00	 call	 ?pack_list_root@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_ROOT@@@Z ; pack_list_root

; 142  : 
; 143  : 						break;

  002af	e9 85 00 00 00	 jmp	 $LN5@pack_mobil
$LN14@pack_mobil:

; 144  : 					}
; 145  : 
; 146  : 					spec = get_local_entity_child_succ (spec, LIST_TYPE_SPECIAL_EFFECT);

  002b4	83 7d f8 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  002b8	74 0a		 je	 SHORT $LN38@pack_mobil
  002ba	8b 45 f8	 mov	 eax, DWORD PTR _spec$1[ebp]
  002bd	8b 08		 mov	 ecx, DWORD PTR [eax]
  002bf	89 4d b4	 mov	 DWORD PTR tv211[ebp], ecx
  002c2	eb 21		 jmp	 SHORT $LN39@pack_mobil
$LN38@pack_mobil:
  002c4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
  002ca	83 c2 42	 add	 edx, 66			; 00000042H
  002cd	52		 push	 edx
  002ce	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002d8	50		 push	 eax
  002d9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002de	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv211[ebp], 0
$LN39@pack_mobil:
  002e5	b9 01 00 00 00	 mov	 ecx, 1
  002ea	85 c9		 test	 ecx, ecx
  002ec	74 09		 je	 SHORT $LN40@pack_mobil
  002ee	c7 45 b0 24 00
	00 00		 mov	 DWORD PTR tv219[ebp], 36 ; 00000024H
  002f5	eb 21		 jmp	 SHORT $LN41@pack_mobil
$LN40@pack_mobil:
  002f7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z@4JA
  002fd	83 c2 42	 add	 edx, 66			; 00000042H
  00300	52		 push	 edx
  00301	68 00 00 00 00	 push	 OFFSET ??_C@_0EE@BDLCMOAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00306	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0030b	50		 push	 eax
  0030c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00311	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv219[ebp], 0
$LN41@pack_mobil:
  00318	6a 24		 push	 36			; 00000024H
  0031a	8b 4d f8	 mov	 ecx, DWORD PTR _spec$1[ebp]
  0031d	51		 push	 ecx
  0031e	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv211[ebp], 180
  00325	8b 45 b0	 mov	 eax, DWORD PTR tv219[ebp]
  00328	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0032f	ff d1		 call	 ecx
  00331	89 45 f8	 mov	 DWORD PTR _spec$1[ebp], eax

; 147  : 				}

  00334	e9 cf fe ff ff	 jmp	 $LN4@pack_mobil
$LN5@pack_mobil:

; 148  : 			}
; 149  : 			else

  00339	eb 10		 jmp	 SHORT $LN13@pack_mobil
$LN12@pack_mobil:

; 150  : 			{
; 151  : 
; 152  : 				pack_int_value (en, INT_TYPE_VALID, FALSE);

  0033b	6a 00		 push	 0
  0033d	68 ef 00 00 00	 push	 239			; 000000efH
  00342	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00345	50		 push	 eax
  00346	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value
$LN13@pack_mobil:

; 153  : 			}
; 154  : 			/////////////////////////////////////////////////////////////////
; 155  : 
; 156  : 			/////////////////////////////////////////////////////////////////
; 157  : 			if (raw->target_root.first_child)

  0034b	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0034e	83 78 48 00	 cmp	 DWORD PTR [eax+72], 0
  00352	74 24		 je	 SHORT $LN16@pack_mobil

; 158  : 			{
; 159  : 
; 160  : 				pack_int_value (en, INT_TYPE_VALID, TRUE);

  00354	6a 01		 push	 1
  00356	68 ef 00 00 00	 push	 239			; 000000efH
  0035b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0035e	50		 push	 eax
  0035f	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 161  : 
; 162  : 				pack_list_root (en, LIST_TYPE_TARGET, &raw->target_root);

  00364	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  00367	83 c0 48	 add	 eax, 72			; 00000048H
  0036a	50		 push	 eax
  0036b	6a 26		 push	 38			; 00000026H
  0036d	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00370	51		 push	 ecx
  00371	e8 00 00 00 00	 call	 ?pack_list_root@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_ROOT@@@Z ; pack_list_root

; 163  : 			}
; 164  : 			else

  00376	eb 10		 jmp	 SHORT $LN17@pack_mobil
$LN16@pack_mobil:

; 165  : 			{
; 166  : 
; 167  : 				pack_int_value (en, INT_TYPE_VALID, FALSE);

  00378	6a 00		 push	 0
  0037a	68 ef 00 00 00	 push	 239			; 000000efH
  0037f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00382	50		 push	 eax
  00383	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value
$LN17@pack_mobil:

; 168  : 			}
; 169  : 			/////////////////////////////////////////////////////////////////
; 170  : 
; 171  : 			// padlock_link
; 172  : 
; 173  : 			// sector_link
; 174  : 
; 175  : 			/////////////////////////////////////////////////////////////////
; 176  : 			if (raw->target_link.parent)

  00388	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0038b	83 78 64 00	 cmp	 DWORD PTR [eax+100], 0
  0038f	74 24		 je	 SHORT $LN18@pack_mobil

; 177  : 			{
; 178  : 
; 179  : 				pack_int_value (en, INT_TYPE_VALID, TRUE);

  00391	6a 01		 push	 1
  00393	68 ef 00 00 00	 push	 239			; 000000efH
  00398	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0039b	50		 push	 eax
  0039c	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 180  : 
; 181  : 				pack_list_link (en, LIST_TYPE_TARGET, &raw->target_link);

  003a1	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  003a4	83 c0 64	 add	 eax, 100		; 00000064H
  003a7	50		 push	 eax
  003a8	6a 26		 push	 38			; 00000026H
  003aa	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  003ad	51		 push	 ecx
  003ae	e8 00 00 00 00	 call	 ?pack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z ; pack_list_link

; 182  : 			}
; 183  : 			else

  003b3	eb 10		 jmp	 SHORT $LN19@pack_mobil
$LN18@pack_mobil:

; 184  : 			{
; 185  : 
; 186  : 				pack_int_value (en, INT_TYPE_VALID, FALSE);

  003b5	6a 00		 push	 0
  003b7	68 ef 00 00 00	 push	 239			; 000000efH
  003bc	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  003bf	50		 push	 eax
  003c0	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value
$LN19@pack_mobil:

; 187  : 			}
; 188  : 			/////////////////////////////////////////////////////////////////
; 189  : 
; 190  : 			// update_link
; 191  : 
; 192  : 			pack_int_value (en, INT_TYPE_ALIVE, raw->alive);

  003c5	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  003c8	8b 48 7c	 mov	 ecx, DWORD PTR [eax+124]
  003cb	83 e1 01	 and	 ecx, 1
  003ce	51		 push	 ecx
  003cf	6a 07		 push	 7
  003d1	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  003d4	52		 push	 edx
  003d5	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 193  : 
; 194  : 			pack_int_value (en, INT_TYPE_SIDE, raw->side);

  003da	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  003dd	8b 48 7c	 mov	 ecx, DWORD PTR [eax+124]
  003e0	d1 e9		 shr	 ecx, 1
  003e2	83 e1 03	 and	 ecx, 3
  003e5	51		 push	 ecx
  003e6	68 bb 00 00 00	 push	 187			; 000000bbH
  003eb	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  003ee	52		 push	 edx
  003ef	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 195  : 
; 196  : 			if (raw->alive)

  003f4	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  003f7	8b 48 7c	 mov	 ecx, DWORD PTR [eax+124]
  003fa	83 e1 01	 and	 ecx, 1
  003fd	74 18		 je	 SHORT $LN20@pack_mobil

; 197  : 			{
; 198  : 
; 199  : 				pack_int_value (en, INT_TYPE_KILL_NEXT_UPDATE, raw->kill_next_update);

  003ff	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  00402	8b 48 7c	 mov	 ecx, DWORD PTR [eax+124]
  00405	c1 e9 03	 shr	 ecx, 3
  00408	83 e1 03	 and	 ecx, 3
  0040b	51		 push	 ecx
  0040c	6a 71		 push	 113			; 00000071H
  0040e	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00411	52		 push	 edx
  00412	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value
$LN20@pack_mobil:
$LN2@pack_mobil:

; 200  : 			}
; 201  : 
; 202  : 			// updated
; 203  : 
; 204  : 			// object_drawn_once_this_frame
; 205  : 
; 206  : 			break;
; 207  : 		}
; 208  : 		////////////////////////////////////////
; 209  : 		case PACK_MODE_BROWSE_SESSION:
; 210  : 		////////////////////////////////////////
; 211  : 		{
; 212  : 			break;
; 213  : 		}
; 214  : 		////////////////////////////////////////
; 215  : 		case PACK_MODE_UPDATE_ENTITY:
; 216  : 		////////////////////////////////////////
; 217  : 		{
; 218  : 			//
; 219  : 			// cannot update entity at this level as the update may not apply to all entity types below
; 220  : 			//
; 221  : 
; 222  : 			break;
; 223  : 		}
; 224  : 	}
; 225  : }

  00417	5f		 pop	 edi
  00418	5e		 pop	 esi
  00419	5b		 pop	 ebx
  0041a	8b e5		 mov	 esp, ebp
  0041c	5d		 pop	 ebp
  0041d	c2 0c 00	 ret	 12			; 0000000cH
?pack_mobile_data@@YGXPAUENTITY@@PAUMOBILE@@W4PACK_MODES@@@Z ENDP ; pack_mobile_data
_TEXT	ENDS
END
