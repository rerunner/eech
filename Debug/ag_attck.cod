; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z ; initialise_air_to_ground_attack_guide
PUBLIC	?attack_guide_approach_reached@@YGXPAUENTITY@@@Z ; attack_guide_approach_reached
PUBLIC	?attack_guide_seek_cover_reached@@YGXPAUENTITY@@@Z ; attack_guide_seek_cover_reached
PUBLIC	?attack_guide_fly_to_cover_reached@@YGXPAUENTITY@@@Z ; attack_guide_fly_to_cover_reached
PUBLIC	?attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z ; attack_guide_take_cover_reached
PUBLIC	?attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z ; attack_guide_proceed_to_fire_positon
PUBLIC	?attack_guide_climb_reached@@YGXPAUENTITY@@@Z	; attack_guide_climb_reached
PUBLIC	?attack_guide_dive_reached@@YGXPAUENTITY@@@Z	; attack_guide_dive_reached
PUBLIC	?attack_guide_fire_reached@@YGXPAUENTITY@@@Z	; attack_guide_fire_reached
PUBLIC	?attack_guide_disengage_reached@@YGXPAUENTITY@@@Z ; attack_guide_disengage_reached
PUBLIC	?attack_guide_egress_reached@@YGXPAUENTITY@@@Z	; attack_guide_egress_reached
PUBLIC	?attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z ; attack_guide_hasty_fire_reached
PUBLIC	?attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z ; attack_guide_hasty_take_cover_reached
PUBLIC	?attack_guide_no_cover_found@@YGXPAUENTITY@@@Z	; attack_guide_no_cover_found
PUBLIC	?set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_fly_to_cover_position
PUBLIC	?set_attack_guide_dive_position@@YGXPAUENTITY@@@Z ; set_attack_guide_dive_position
PUBLIC	??$max@M@std@@YGABMABM0@Z			; std::max<float>
PUBLIC	??_C@_02DKCKIIND@?$CFs@				; `string'
PUBLIC	?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA ; `initialise_air_to_ground_attack_guide'::`1'::__LINE__Var
PUBLIC	??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CF@GNHKAAGH@Entity?5?$CFs?5incapable?5of?5destroyi@ ; `string'
PUBLIC	?__LINE__Var@?0??attack_guide_approach_reached@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_approach_reached'::`1'::__LINE__Var
PUBLIC	??_C@_09HKMIOAOH@aggressor@			; `string'
PUBLIC	??_C@_0CB@JPPNIKIJ@GD_ATTCK?3?5Invalid?5Entity?5Type?5?$CF@ ; `string'
PUBLIC	?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_take_cover_reached'::`1'::__LINE__Var
PUBLIC	??_C@_05MGJOOGAJ@group@				; `string'
PUBLIC	??_C@_06DFLPLEOP@leader@			; `string'
PUBLIC	?__LINE__Var@?0??attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_proceed_to_fire_positon'::`1'::__LINE__Var
PUBLIC	??_C@_0GI@JBBFOOOP@get_local_entity_int_value?5?$CIen?0@ ; `string'
PUBLIC	?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_fire_reached'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??attack_guide_egress_reached@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_egress_reached'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_hasty_fire_reached'::`1'::__LINE__Var
PUBLIC	??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@ ; `string'
PUBLIC	??_C@_06JJLAMBGK@target@			; `string'
PUBLIC	?__LINE__Var@?0??attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_hasty_take_cover_reached'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_approach_position'::`1'::__LINE__Var
PUBLIC	??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@ ; `string'
PUBLIC	??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@		; `string'
PUBLIC	?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_seek_cover_position'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA ; `attack_guide_no_cover_found'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_fly_to_cover_position'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_take_cover_position'::`1'::__LINE__Var
PUBLIC	??_C@_08OAGMDKAF@position@			; `string'
PUBLIC	??_C@_0CB@OEPEKLGF@?$CBcheck_zero_3d_vector?5?$CIposition@ ; `string'
PUBLIC	?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_climb_position'::`1'::__LINE__Var
PUBLIC	??_C@_0BE@FGBCMLAJ@target_range?5?$CB?$DN?50?40@ ; `string'
PUBLIC	?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_dive_position'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_fire_position'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_disengage_position'::`1'::__LINE__Var
PUBLIC	??_C@_0CA@OFNEFMNN@AG_ATTCK?3?5Invalid?5Guide?5Type?5?$CFd@ ; `string'
PUBLIC	??_C@_0DM@CKNHJJLP@get_local_entity_type?5?$CIaggresso@ ; `string'
PUBLIC	?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_egress_position'::`1'::__LINE__Var
PUBLIC	??_C@_04BHIIPFEC@base@				; `string'
PUBLIC	??_C@_08GEHOOIKH@base_pos@			; `string'
PUBLIC	?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_hasty_fire_position'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA ; `set_attack_guide_hasty_take_cover_position'::`1'::__LINE__Var
PUBLIC	??_C@_0BD@FEEMDEPI@invalid?5comparator@		; `string'
PUBLIC	??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ ; `string'
PUBLIC	??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ ; `string'
PUBLIC	??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ ; `string'
PUBLIC	??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ ; `string'
PUBLIC	__real@0000000000000000
PUBLIC	__real@3db2b8c2
PUBLIC	__real@3e99999a
PUBLIC	__real@3eb2b8c2
PUBLIC	__real@3edf66f3
PUBLIC	__real@3f19999a
PUBLIC	__real@3f490fdb
PUBLIC	__real@3f800000
PUBLIC	__real@3fc00000
PUBLIC	__real@3fe999999999999a
PUBLIC	__real@3feccccccccccccd
PUBLIC	__real@40000000
PUBLIC	__real@4014000000000000
PUBLIC	__real@4024000000000000
PUBLIC	__real@4034000000000000
PUBLIC	__real@40400000
PUBLIC	__real@4059000000000000
PUBLIC	__real@40800000
PUBLIC	__real@40a00000
PUBLIC	__real@41000000
PUBLIC	__real@41200000
PUBLIC	__real@437a0000
PUBLIC	__real@beb2b8c2
PUBLIC	__real@bf490fdb
PUBLIC	__real@bf800000
EXTRN	__imp___invalid_parameter:PROC
EXTRN	__imp___CrtDbgReport:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z:PROC	; normalise_any_3d_vector
EXTRN	?normalise_any_2d_vector@@YGMPAUVEC2D@@@Z:PROC	; normalise_any_2d_vector
EXTRN	?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z:PROC	; get_3d_vector_magnitude
EXTRN	?rotate_2d_vector@@YGXPAUVEC2D@@M@Z:PROC	; rotate_2d_vector
EXTRN	?rotate_3d_vector@@YGXPAUVEC3D@@M@Z:PROC	; rotate_3d_vector
EXTRN	?get_2d_range@@YGMPBUVEC3D@@0@Z:PROC		; get_2d_range
EXTRN	?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z:PROC ; get_3d_terrain_point_data
EXTRN	?bound_position_to_map_volume@@YGHPAUVEC3D@@@Z:PROC ; bound_position_to_map_volume
EXTRN	?bound_position_to_adjusted_map_volume@@YGHPAUVEC3D@@@Z:PROC ; bound_position_to_adjusted_map_volume
EXTRN	?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ:PROC ; notify_local_entity
EXTRN	?check_entity_line_of_sight@@YGHPAUENTITY@@0W4MOBILE_LOS_CHECK_CRITERIA@@@Z:PROC ; check_entity_line_of_sight
EXTRN	?check_position_line_of_sight@@YGHPAUENTITY@@0PAUVEC3D@@1W4MOBILE_LOS_CHECK_CRITERIA@@@Z:PROC ; check_position_line_of_sight
EXTRN	?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z:PROC ; get_best_weapon_for_target
EXTRN	?aircraft_fire_weapon@@YG?AW4AIRCRAFT_FIRE_RESULT@@PAUENTITY@@I@Z:PROC ; aircraft_fire_weapon
EXTRN	?play_client_server_wingman_message@@YGHPAUENTITY@@MMW4speech_category_types@@MW4speech_intro_types@@W4speech_array_types@@H@Z:PROC ; play_client_server_wingman_message
EXTRN	?calculate_attack_guide_intercept_point@@YGXPAUENTITY@@0HPAUVEC3D@@@Z:PROC ; calculate_attack_guide_intercept_point
EXTRN	?reset_guide_seek_cover_results@@YGXPAUENTITY@@@Z:PROC ; reset_guide_seek_cover_results
EXTRN	?update_guide_seek_cover_results@@YGHPAUENTITY@@@Z:PROC ; update_guide_seek_cover_results
EXTRN	?delete_group_member_from_engage_guide@@YGXPAUENTITY@@0H@Z:PROC ; delete_group_member_from_engage_guide
EXTRN	?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z:PROC ; set_client_server_guide_entity_new_position
EXTRN	?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z:PROC ; get_local_guide_entity_pointers
EXTRN	?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z:PROC ; set_client_server_guide_criteria_valid
EXTRN	?get_local_entity_waypoint_database_reached_radius_value@@YGMPAUENTITY@@0@Z:PROC ; get_local_entity_waypoint_database_reached_radius_value
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA:BYTE ; fn_set_client_server_entity_float_value
EXTRN	?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA:BYTE ; fn_get_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_string_type_message@@3PBDB:DWORD ; overload_invalid_string_type_message
EXTRN	?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA:BYTE ; fn_get_local_entity_string
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_set_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_set_local_entity_vec3d
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?weapon_database@@3PAUWEAPON_DATA@@A:BYTE	; weapon_database
EXTRN	__fltused:DWORD
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
CONST	ENDS
;	COMDAT __real@bf490fdb
CONST	SEGMENT
__real@bf490fdb DD 0bf490fdbr			; -0.785398
CONST	ENDS
;	COMDAT __real@beb2b8c2
CONST	SEGMENT
__real@beb2b8c2 DD 0beb2b8c2r			; -0.349066
CONST	ENDS
;	COMDAT __real@437a0000
CONST	SEGMENT
__real@437a0000 DD 0437a0000r			; 250
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@41000000
CONST	SEGMENT
__real@41000000 DD 041000000r			; 8
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
CONST	ENDS
;	COMDAT __real@40800000
CONST	SEGMENT
__real@40800000 DD 040800000r			; 4
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT __real@40400000
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
CONST	ENDS
;	COMDAT __real@4034000000000000
CONST	SEGMENT
__real@4034000000000000 DQ 04034000000000000r	; 20
CONST	ENDS
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3feccccccccccccd
CONST	SEGMENT
__real@3feccccccccccccd DQ 03feccccccccccccdr	; 0.9
CONST	ENDS
;	COMDAT __real@3fe999999999999a
CONST	SEGMENT
__real@3fe999999999999a DQ 03fe999999999999ar	; 0.8
CONST	ENDS
;	COMDAT __real@3fc00000
CONST	SEGMENT
__real@3fc00000 DD 03fc00000r			; 1.5
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f490fdb
CONST	SEGMENT
__real@3f490fdb DD 03f490fdbr			; 0.785398
CONST	ENDS
;	COMDAT __real@3f19999a
CONST	SEGMENT
__real@3f19999a DD 03f19999ar			; 0.6
CONST	ENDS
;	COMDAT __real@3edf66f3
CONST	SEGMENT
__real@3edf66f3 DD 03edf66f3r			; 0.436332
CONST	ENDS
;	COMDAT __real@3eb2b8c2
CONST	SEGMENT
__real@3eb2b8c2 DD 03eb2b8c2r			; 0.349066
CONST	ENDS
;	COMDAT __real@3e99999a
CONST	SEGMENT
__real@3e99999a DD 03e99999ar			; 0.3
CONST	ENDS
;	COMDAT __real@3db2b8c2
CONST	SEGMENT
__real@3db2b8c2 DD 03db2b8c2r			; 0.0872665
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
CONST	SEGMENT
??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ DB '"'
	DB	00H, 'i', 00H, 'n', 00H, 'v', 00H, 'a', 00H, 'l', 00H, 'i', 00H
	DB	'd', 00H, ' ', 00H, 'c', 00H, 'o', 00H, 'm', 00H, 'p', 00H, 'a'
	DB	00H, 'r', 00H, 'a', 00H, 't', 00H, 'o', 00H, 'r', 00H, '"', 00H
	DB	00H, 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
CONST	SEGMENT
??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ DB 's', 00H
	DB	't', 00H, 'd', 00H, ':', 00H, ':', 00H, 'm', 00H, 'a', 00H, 'x'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
CONST	SEGMENT
??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ DB 'c'
	DB	00H, ':', 00H, '\', 00H, 'p', 00H, 'r', 00H, 'o', 00H, 'g', 00H
	DB	'r', 00H, 'a', 00H, 'm', 00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l'
	DB	00H, 'e', 00H, 's', 00H, ' ', 00H, '(', 00H, 'x', 00H, '8', 00H
	DB	'6', 00H, ')', 00H, '\', 00H, 'm', 00H, 'i', 00H, 'c', 00H, 'r'
	DB	00H, 'o', 00H, 's', 00H, 'o', 00H, 'f', 00H, 't', 00H, ' ', 00H
	DB	'v', 00H, 'i', 00H, 's', 00H, 'u', 00H, 'a', 00H, 'l', 00H, ' '
	DB	00H, 's', 00H, 't', 00H, 'u', 00H, 'd', 00H, 'i', 00H, 'o', 00H
	DB	'\', 00H, '2', 00H, '0', 00H, '1', 00H, '7', 00H, '\', 00H, 'c'
	DB	00H, 'o', 00H, 'm', 00H, 'm', 00H, 'u', 00H, 'n', 00H, 'i', 00H
	DB	't', 00H, 'y', 00H, '\', 00H, 'v', 00H, 'c', 00H, '\', 00H, 't'
	DB	00H, 'o', 00H, 'o', 00H, 'l', 00H, 's', 00H, '\', 00H, 'm', 00H
	DB	's', 00H, 'v', 00H, 'c', 00H, '\', 00H, '1', 00H, '4', 00H, '.'
	DB	00H, '1', 00H, '6', 00H, '.', 00H, '2', 00H, '7', 00H, '0', 00H
	DB	'2', 00H, '3', 00H, '\', 00H, 'i', 00H, 'n', 00H, 'c', 00H, 'l'
	DB	00H, 'u', 00H, 'd', 00H, 'e', 00H, '\', 00H, 'a', 00H, 'l', 00H
	DB	'g', 00H, 'o', 00H, 'r', 00H, 'i', 00H, 't', 00H, 'h', 00H, 'm'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
CONST	SEGMENT
??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ DB 'c:\pro'
	DB	'gram files (x86)\microsoft visual studio\2017\community\vc\to'
	DB	'ols\msvc\14.16.27023\include\algorithm', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FEEMDEPI@invalid?5comparator@
CONST	SEGMENT
??_C@_0BD@FEEMDEPI@invalid?5comparator@ DB 'invalid comparator', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA DD 06b1H ; `set_attack_guide_hasty_take_cover_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA DD 0687H ; `set_attack_guide_hasty_fire_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_08GEHOOIKH@base_pos@
CONST	SEGMENT
??_C@_08GEHOOIKH@base_pos@ DB 'base_pos', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_04BHIIPFEC@base@
CONST	SEGMENT
??_C@_04BHIIPFEC@base@ DB 'base', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA DD 05f4H ; `set_attack_guide_egress_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DM@CKNHJJLP@get_local_entity_type?5?$CIaggresso@
CONST	SEGMENT
??_C@_0DM@CKNHJJLP@get_local_entity_type?5?$CIaggresso@ DB 'get_local_ent'
	DB	'ity_type (aggressor) == ENTITY_TYPE_FIXED_WING', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@OFNEFMNN@AG_ATTCK?3?5Invalid?5Guide?5Type?5?$CFd@
CONST	SEGMENT
??_C@_0CA@OFNEFMNN@AG_ATTCK?3?5Invalid?5Guide?5Type?5?$CFd@ DB 'AG_ATTCK:'
	DB	' Invalid Guide Type %d', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA DD 057bH ; `set_attack_guide_disengage_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA DD 0506H ; `set_attack_guide_fire_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA DD 04adH ; `set_attack_guide_dive_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BE@FGBCMLAJ@target_range?5?$CB?$DN?50?40@
CONST	SEGMENT
??_C@_0BE@FGBCMLAJ@target_range?5?$CB?$DN?50?40@ DB 'target_range != 0.0', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA DD 0454H ; `set_attack_guide_climb_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CB@OEPEKLGF@?$CBcheck_zero_3d_vector?5?$CIposition@
CONST	SEGMENT
??_C@_0CB@OEPEKLGF@?$CBcheck_zero_3d_vector?5?$CIposition@ DB '!check_zer'
	DB	'o_3d_vector (position)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_08OAGMDKAF@position@
CONST	SEGMENT
??_C@_08OAGMDKAF@position@ DB 'position', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA DD 0423H ; `set_attack_guide_take_cover_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA DD 03f3H ; `set_attack_guide_fly_to_cover_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA DD 0394H ; `attack_guide_no_cover_found'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA DD 0350H ; `set_attack_guide_seek_cover_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@
CONST	SEGMENT
??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@ DB 'velocity > 0.0', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@
CONST	SEGMENT
??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@ DB 'selected_'
	DB	'weapon != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA DD 02b0H ; `set_attack_guide_approach_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z@4JA DD 0279H ; `attack_guide_hasty_take_cover_reached'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06JJLAMBGK@target@
CONST	SEGMENT
??_C@_06JJLAMBGK@target@ DB 'target', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
CONST	SEGMENT
??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@ DB 'get_local_ent'
	DB	'ity_type (aggressor) == ENTITY_TYPE_HELICOPTER', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA DD 024bH ; `attack_guide_hasty_fire_reached'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_egress_reached@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_egress_reached@@YGXPAUENTITY@@@Z@4JA DD 0220H ; `attack_guide_egress_reached'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA DD 0189H ; `attack_guide_fire_reached'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0GI@JBBFOOOP@get_local_entity_int_value?5?$CIen?0@
CONST	SEGMENT
??_C@_0GI@JBBFOOOP@get_local_entity_int_value?5?$CIen?0@ DB 'get_local_en'
	DB	'tity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE) == ENTITY_SUB_T'
	DB	'YPE_GUIDE_ATTACK_AG_TAKE_COVER', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z@4JA DD 0160H ; `attack_guide_proceed_to_fire_positon'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06DFLPLEOP@leader@
CONST	SEGMENT
??_C@_06DFLPLEOP@leader@ DB 'leader', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05MGJOOGAJ@group@
CONST	SEGMENT
??_C@_05MGJOOGAJ@group@ DB 'group', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA DD 0f3H ; `attack_guide_take_cover_reached'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CB@JPPNIKIJ@GD_ATTCK?3?5Invalid?5Entity?5Type?5?$CF@
CONST	SEGMENT
??_C@_0CB@JPPNIKIJ@GD_ATTCK?3?5Invalid?5Entity?5Type?5?$CF@ DB 'GD_ATTCK:'
	DB	' Invalid Entity Type %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_09HKMIOAOH@aggressor@
CONST	SEGMENT
??_C@_09HKMIOAOH@aggressor@ DB 'aggressor', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??attack_guide_approach_reached@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attack_guide_approach_reached@@YGXPAUENTITY@@@Z@4JA DD 0b2H ; `attack_guide_approach_reached'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CF@GNHKAAGH@Entity?5?$CFs?5incapable?5of?5destroyi@
CONST	SEGMENT
??_C@_0CF@GNHKAAGH@Entity?5?$CFs?5incapable?5of?5destroyi@ DB 'Entity %s '
	DB	'incapable of destroying %s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\guide\ag_attc'
	DB	'k.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA DD 076H ; `initialise_air_to_ground_attack_guide'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs@ DB '%s', 00H			; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\algorithm
;	COMDAT ??$max@M@std@@YGABMABM0@Z
_TEXT	SEGMENT
__Left$ = 8						; size = 4
__Right$ = 12						; size = 4
??$max@M@std@@YGABMABM0@Z PROC				; std::max<float>, COMDAT

; 5387 : 	{	// return larger of _Left and _Right

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 5388 : 	if (_Left < _Right)

  00009	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0000c	8b 4d 08	 mov	 ecx, DWORD PTR __Left$[ebp]
  0000f	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00013	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00016	76 64		 jbe	 SHORT $LN8@max
$LN4@max:

; 5389 : 		{
; 5390 : 		_STL_ASSERT(!(_Right < _Left), "invalid comparator");

  00018	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
  0001b	8b 4d 0c	 mov	 ecx, DWORD PTR __Right$[ebp]
  0001e	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00022	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00025	77 02		 ja	 SHORT $LN9@max
  00027	eb 4a		 jmp	 SHORT $LN6@max
$LN9@max:
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FEEMDEPI@invalid?5comparator@
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs@
  00033	6a 00		 push	 0
  00035	68 0e 15 00 00	 push	 5390			; 0000150eH
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
  0003f	6a 02		 push	 2
  00041	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00047	83 c4 18	 add	 esp, 24			; 00000018H
  0004a	83 f8 01	 cmp	 eax, 1
  0004d	75 01		 jne	 SHORT $LN12@max
  0004f	cc		 int	 3
$LN12@max:
  00050	6a 00		 push	 0
  00052	68 0e 15 00 00	 push	 5390			; 0000150eH
  00057	68 00 00 00 00	 push	 OFFSET ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter
  0006c	83 c4 14	 add	 esp, 20			; 00000014H
  0006f	33 c0		 xor	 eax, eax
  00071	75 b6		 jne	 SHORT $LN9@max
$LN6@max:
  00073	33 c0		 xor	 eax, eax
  00075	75 a1		 jne	 SHORT $LN4@max

; 5391 : 		return (_Right);

  00077	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0007a	eb 03		 jmp	 SHORT $LN1@max
$LN8@max:

; 5392 : 		}
; 5393 : 
; 5394 : 	return (_Left);

  0007c	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
$LN1@max:

; 5395 : 	}

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
??$max@M@std@@YGABMABM0@Z ENDP				; std::max<float>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_dive_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv480 = -156						; size = 4
tv457 = -156						; size = 4
tv489 = -152						; size = 4
tv282 = -152						; size = 4
tv450 = -148						; size = 4
tv274 = -148						; size = 4
tv301 = -144						; size = 4
tv261 = -144						; size = 4
tv219 = -144						; size = 4
tv185 = -144						; size = 4
tv165 = -144						; size = 4
tv137 = -144						; size = 4
tv78 = -144						; size = 4
tv293 = -140						; size = 4
tv253 = -140						; size = 4
tv211 = -140						; size = 4
tv177 = -140						; size = 4
tv157 = -140						; size = 4
tv129 = -140						; size = 4
tv70 = -140						; size = 4
_target$ = -72						; size = 4
_aggressor$ = -68					; size = 4
_task$ = -64						; size = 4
_wp$ = -60						; size = 4
_position$ = -56					; size = 12
_direction$ = -44					; size = 12
_aggressor_pos$ = -32					; size = 4
_target_pos$ = -28					; size = 4
_velocity$ = -24					; size = 4
_time$ = -20						; size = 4
_distance$ = -16					; size = 4
_target_range$ = -12					; size = 4
_weapon_effective_range$ = -8				; size = 4
_selected_weapon$ = -4					; size = 4
_en$ = 8						; size = 4
?set_attack_guide_dive_position@@YGXPAUENTITY@@@Z PROC	; set_attack_guide_dive_position, COMDAT

; 1197 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 9c 00 00
	00		 sub	 esp, 156		; 0000009cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1198 : 	entity_sub_types
; 1199 : 		selected_weapon;
; 1200 : 
; 1201 : 	float
; 1202 : 		weapon_effective_range,
; 1203 : 		target_range,
; 1204 : 		distance,
; 1205 : 		time,
; 1206 : 		velocity;
; 1207 : 
; 1208 : 	vec3d
; 1209 : 		*target_pos,
; 1210 : 		*aggressor_pos,
; 1211 : 		direction,
; 1212 : 		position;
; 1213 : 
; 1214 : 	entity
; 1215 : 		*wp,
; 1216 : 		*task,
; 1217 : 		*aggressor,
; 1218 : 		*target;
; 1219 : 
; 1220 : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_DIVE);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	74 0d		 je	 SHORT $LN6@set_attack
  00012	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0001d	eb 24		 jmp	 SHORT $LN7@set_attack
$LN6@set_attack:
  0001f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  00025	83 c2 17	 add	 edx, 23			; 00000017H
  00028	52		 push	 edx
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN7@set_attack:
  00043	b9 01 00 00 00	 mov	 ecx, 1
  00048	85 c9		 test	 ecx, ecx
  0004a	74 0c		 je	 SHORT $LN8@set_attack
  0004c	c7 85 70 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  00056	eb 24		 jmp	 SHORT $LN9@set_attack
$LN8@set_attack:
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0005e	83 c2 17	 add	 edx, 23			; 00000017H
  00061	52		 push	 edx
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00072	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv78[ebp], 0
$LN9@set_attack:
  0007c	6a 0e		 push	 14			; 0000000eH
  0007e	6a 34		 push	 52			; 00000034H
  00080	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00083	51		 push	 ecx
  00084	69 95 74 ff ff
	ff b8 08 00 00	 imul	 edx, DWORD PTR tv70[ebp], 2232
  0008e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv78[ebp]
  00094	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  0009b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000a1	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  000a4	ff d0		 call	 eax

; 1221 : 
; 1222 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  000a6	8d 45 b8	 lea	 eax, DWORD PTR _target$[ebp]
  000a9	50		 push	 eax
  000aa	8d 4d c0	 lea	 ecx, DWORD PTR _task$[ebp]
  000ad	51		 push	 ecx
  000ae	8d 55 c4	 lea	 edx, DWORD PTR _wp$[ebp]
  000b1	52		 push	 edx
  000b2	8d 45 bc	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000b5	50		 push	 eax
  000b6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000b9	51		 push	 ecx
  000ba	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1223 : 
; 1224 : 	//
; 1225 : 	// find aggressors selected weapon, and it's effective range
; 1226 : 	//
; 1227 : 
; 1228 : 	selected_weapon = get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON);

  000bf	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000c3	74 0d		 je	 SHORT $LN10@set_attack
  000c5	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ca	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv129[ebp], ecx
  000d0	eb 24		 jmp	 SHORT $LN11@set_attack
$LN10@set_attack:
  000d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  000d8	83 c2 1f	 add	 edx, 31			; 0000001fH
  000db	52		 push	 edx
  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv129[ebp], 0
$LN11@set_attack:
  000f6	b9 01 00 00 00	 mov	 ecx, 1
  000fb	85 c9		 test	 ecx, ecx
  000fd	74 0c		 je	 SHORT $LN12@set_attack
  000ff	c7 85 70 ff ff
	ff b8 00 00 00	 mov	 DWORD PTR tv137[ebp], 184 ; 000000b8H
  00109	eb 24		 jmp	 SHORT $LN13@set_attack
$LN12@set_attack:
  0010b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  00111	83 c2 1f	 add	 edx, 31			; 0000001fH
  00114	52		 push	 edx
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0011a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00125	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv137[ebp], 0
$LN13@set_attack:
  0012f	68 b8 00 00 00	 push	 184			; 000000b8H
  00134	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00137	51		 push	 ecx
  00138	69 95 74 ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv129[ebp], 1116
  00142	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv137[ebp]
  00148	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0014f	ff d1		 call	 ecx
  00151	89 45 fc	 mov	 DWORD PTR _selected_weapon$[ebp], eax

; 1229 : 
; 1230 : 	ASSERT (selected_weapon != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON);

  00154	83 7d fc 00	 cmp	 DWORD PTR _selected_weapon$[ebp], 0
  00158	75 18		 jne	 SHORT $LN2@set_attack
  0015a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0015f	83 c0 21	 add	 eax, 33			; 00000021H
  00162	50		 push	 eax
  00163	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00168	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@
  0016d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_attack:

; 1231 : 
; 1232 : 	weapon_effective_range = weapon_database [selected_weapon].effective_range;

  00172	69 45 fc e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$[ebp], 224
  00179	f3 0f 10 80 94
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+148]
  00181	f3 0f 11 45 f8	 movss	 DWORD PTR _weapon_effective_range$[ebp], xmm0

; 1233 : 
; 1234 : 	//
; 1235 : 	// calculate vector of aggressor to target
; 1236 : 	//
; 1237 : 
; 1238 : 	target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00186	83 7d b8 00	 cmp	 DWORD PTR _target$[ebp], 0
  0018a	74 0d		 je	 SHORT $LN14@set_attack
  0018c	8b 45 b8	 mov	 eax, DWORD PTR _target$[ebp]
  0018f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00191	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv157[ebp], ecx
  00197	eb 24		 jmp	 SHORT $LN15@set_attack
$LN14@set_attack:
  00199	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0019f	83 c2 29	 add	 edx, 41			; 00000029H
  001a2	52		 push	 edx
  001a3	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ad	50		 push	 eax
  001ae	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b3	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv157[ebp], 0
$LN15@set_attack:
  001bd	b9 01 00 00 00	 mov	 ecx, 1
  001c2	85 c9		 test	 ecx, ecx
  001c4	74 0c		 je	 SHORT $LN16@set_attack
  001c6	c7 85 70 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv165[ebp], 8
  001d0	eb 24		 jmp	 SHORT $LN17@set_attack
$LN16@set_attack:
  001d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  001d8	83 c2 29	 add	 edx, 41			; 00000029H
  001db	52		 push	 edx
  001dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  001e6	50		 push	 eax
  001e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ec	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv165[ebp], 0
$LN17@set_attack:
  001f6	6a 08		 push	 8
  001f8	8b 4d b8	 mov	 ecx, DWORD PTR _target$[ebp]
  001fb	51		 push	 ecx
  001fc	6b 95 74 ff ff
	ff 60		 imul	 edx, DWORD PTR tv157[ebp], 96
  00203	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv165[ebp]
  00209	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00210	ff d1		 call	 ecx
  00212	89 45 e4	 mov	 DWORD PTR _target_pos$[ebp], eax

; 1239 : 
; 1240 : 	aggressor_pos = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_POSITION);

  00215	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00219	74 0d		 je	 SHORT $LN18@set_attack
  0021b	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0021e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00220	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv177[ebp], ecx
  00226	eb 24		 jmp	 SHORT $LN19@set_attack
$LN18@set_attack:
  00228	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0022e	83 c2 2b	 add	 edx, 43			; 0000002bH
  00231	52		 push	 edx
  00232	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00237	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0023c	50		 push	 eax
  0023d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00242	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv177[ebp], 0
$LN19@set_attack:
  0024c	b9 01 00 00 00	 mov	 ecx, 1
  00251	85 c9		 test	 ecx, ecx
  00253	74 0c		 je	 SHORT $LN20@set_attack
  00255	c7 85 70 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv185[ebp], 8
  0025f	eb 24		 jmp	 SHORT $LN21@set_attack
$LN20@set_attack:
  00261	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  00267	83 c2 2b	 add	 edx, 43			; 0000002bH
  0026a	52		 push	 edx
  0026b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00270	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00275	50		 push	 eax
  00276	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0027b	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv185[ebp], 0
$LN21@set_attack:
  00285	6a 08		 push	 8
  00287	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0028a	51		 push	 ecx
  0028b	6b 95 74 ff ff
	ff 60		 imul	 edx, DWORD PTR tv177[ebp], 96
  00292	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv185[ebp]
  00298	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0029f	ff d1		 call	 ecx
  002a1	89 45 e0	 mov	 DWORD PTR _aggressor_pos$[ebp], eax

; 1241 : 
; 1242 : 	direction.x = aggressor_pos->x - target_pos->x;

  002a4	8b 45 e0	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002a7	8b 4d e4	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002aa	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  002ae	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  002b2	f3 0f 11 45 d4	 movss	 DWORD PTR _direction$[ebp], xmm0

; 1243 : 	direction.y = 0.0;

  002b7	0f 57 c0	 xorps	 xmm0, xmm0
  002ba	f3 0f 11 45 d8	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 1244 : 	direction.z = aggressor_pos->z - target_pos->z;

  002bf	8b 45 e0	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002c2	8b 4d e4	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002c5	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  002ca	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  002cf	f3 0f 11 45 dc	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 1245 : 
; 1246 : 	target_range = normalise_any_3d_vector (&direction);

  002d4	8d 45 d4	 lea	 eax, DWORD PTR _direction$[ebp]
  002d7	50		 push	 eax
  002d8	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  002dd	d9 5d f4	 fstp	 DWORD PTR _target_range$[ebp]

; 1247 : 
; 1248 : 	ASSERT (target_range != 0.0);

  002e0	f3 0f 5a 45 f4	 cvtss2sd xmm0, DWORD PTR _target_range$[ebp]
  002e5	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  002ed	9f		 lahf
  002ee	f6 c4 44	 test	 ah, 68			; 00000044H
  002f1	7a 18		 jp	 SHORT $LN3@set_attack
  002f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  002f8	83 c0 33	 add	 eax, 51			; 00000033H
  002fb	50		 push	 eax
  002fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00301	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@FGBCMLAJ@target_range?5?$CB?$DN?50?40@
  00306	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@set_attack:

; 1249 : 
; 1250 : 	//
; 1251 : 	// calculate required distance of guide from target
; 1252 : 	//
; 1253 : 
; 1254 : 	velocity = get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY);

  0030b	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0030f	74 0d		 je	 SHORT $LN22@set_attack
  00311	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00314	8b 08		 mov	 ecx, DWORD PTR [eax]
  00316	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv211[ebp], ecx
  0031c	eb 24		 jmp	 SHORT $LN23@set_attack
$LN22@set_attack:
  0031e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  00324	83 c2 39	 add	 edx, 57			; 00000039H
  00327	52		 push	 edx
  00328	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0032d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00332	50		 push	 eax
  00333	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00338	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv211[ebp], 0
$LN23@set_attack:
  00342	b9 01 00 00 00	 mov	 ecx, 1
  00347	85 c9		 test	 ecx, ecx
  00349	74 0c		 je	 SHORT $LN24@set_attack
  0034b	c7 85 70 ff ff
	ff 19 00 00 00	 mov	 DWORD PTR tv219[ebp], 25 ; 00000019H
  00355	eb 24		 jmp	 SHORT $LN25@set_attack
$LN24@set_attack:
  00357	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0035d	83 c2 39	 add	 edx, 57			; 00000039H
  00360	52		 push	 edx
  00361	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00366	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0036b	50		 push	 eax
  0036c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00371	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv219[ebp], 0
$LN25@set_attack:
  0037b	6a 19		 push	 25			; 00000019H
  0037d	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00380	51		 push	 ecx
  00381	69 95 74 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv211[ebp], 700
  0038b	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv219[ebp]
  00391	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00398	ff d1		 call	 ecx
  0039a	d9 5d e8	 fstp	 DWORD PTR _velocity$[ebp]

; 1255 : 
; 1256 : 	ASSERT (velocity > 0.0);

  0039d	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _velocity$[ebp]
  003a2	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  003aa	77 18		 ja	 SHORT $LN4@set_attack
  003ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  003b1	83 c0 3b	 add	 eax, 59			; 0000003bH
  003b4	50		 push	 eax
  003b5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003ba	68 00 00 00 00	 push	 OFFSET ??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@
  003bf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@set_attack:

; 1257 : 
; 1258 : 	time = weapon_effective_range / velocity;

  003c4	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _weapon_effective_range$[ebp]
  003c9	f3 0f 5e 45 e8	 divss	 xmm0, DWORD PTR _velocity$[ebp]
  003ce	f3 0f 11 45 ec	 movss	 DWORD PTR _time$[ebp], xmm0

; 1259 : 
; 1260 : 	time = time + FIXED_WING_DIVE_TIME;

  003d3	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _time$[ebp]
  003d8	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4014000000000000
  003e0	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  003e4	f3 0f 11 45 ec	 movss	 DWORD PTR _time$[ebp], xmm0

; 1261 : 
; 1262 : 	distance = velocity * time;

  003e9	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _velocity$[ebp]
  003ee	f3 0f 59 45 ec	 mulss	 xmm0, DWORD PTR _time$[ebp]
  003f3	f3 0f 11 45 f0	 movss	 DWORD PTR _distance$[ebp], xmm0

; 1263 : 
; 1264 : 	//
; 1265 : 	// calculate guide position
; 1266 : 	//
; 1267 : 
; 1268 : 	position.x = target_pos->x + (direction.x * distance);

  003f8	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _direction$[ebp]
  003fd	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  00402	8b 45 e4	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00405	f3 0f 58 00	 addss	 xmm0, DWORD PTR [eax]
  00409	f3 0f 11 45 c8	 movss	 DWORD PTR _position$[ebp], xmm0

; 1269 : 	position.y = 0.0;

  0040e	0f 57 c0	 xorps	 xmm0, xmm0
  00411	f3 0f 11 45 cc	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1270 : 	position.z = target_pos->z + (direction.z * distance);

  00416	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _direction$[ebp+8]
  0041b	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  00420	8b 45 e4	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00423	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  00428	f3 0f 11 45 d0	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 1271 : 
; 1272 : 	bound_position_to_map_volume (&position);

  0042d	8d 45 c8	 lea	 eax, DWORD PTR _position$[ebp]
  00430	50		 push	 eax
  00431	e8 00 00 00 00	 call	 ?bound_position_to_map_volume@@YGHPAUVEC3D@@@Z ; bound_position_to_map_volume

; 1273 : 
; 1274 : 	position.y = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_ALTITUDE);

  00436	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0043a	74 0d		 je	 SHORT $LN26@set_attack
  0043c	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0043f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00441	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv253[ebp], ecx
  00447	eb 24		 jmp	 SHORT $LN27@set_attack
$LN26@set_attack:
  00449	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0044f	83 c2 4d	 add	 edx, 77			; 0000004dH
  00452	52		 push	 edx
  00453	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00458	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0045d	50		 push	 eax
  0045e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00463	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv253[ebp], 0
$LN27@set_attack:
  0046d	b9 01 00 00 00	 mov	 ecx, 1
  00472	85 c9		 test	 ecx, ecx
  00474	74 0c		 je	 SHORT $LN28@set_attack
  00476	c7 85 70 ff ff
	ff 18 00 00 00	 mov	 DWORD PTR tv261[ebp], 24 ; 00000018H
  00480	eb 24		 jmp	 SHORT $LN29@set_attack
$LN28@set_attack:
  00482	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  00488	83 c2 4d	 add	 edx, 77			; 0000004dH
  0048b	52		 push	 edx
  0048c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00491	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00496	50		 push	 eax
  00497	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0049c	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv261[ebp], 0
$LN29@set_attack:
  004a6	6a 00		 push	 0
  004a8	51		 push	 ecx
  004a9	f3 0f 10 45 d0	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  004ae	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004b3	51		 push	 ecx
  004b4	f3 0f 10 45 c8	 movss	 xmm0, DWORD PTR _position$[ebp]
  004b9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004be	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  004c3	d9 9d 6c ff ff
	ff		 fstp	 DWORD PTR tv450[ebp]
  004c9	f3 0f 10 85 6c
	ff ff ff	 movss	 xmm0, DWORD PTR tv450[ebp]
  004d1	6a 18		 push	 24			; 00000018H
  004d3	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  004d6	51		 push	 ecx
  004d7	69 95 74 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv253[ebp], 700
  004e1	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv261[ebp]
  004e7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  004ee	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR tv489[ebp], xmm0
  004f6	ff d1		 call	 ecx
  004f8	d9 9d 64 ff ff
	ff		 fstp	 DWORD PTR tv457[ebp]
  004fe	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR tv489[ebp]
  00506	f3 0f 58 85 64
	ff ff ff	 addss	 xmm0, DWORD PTR tv457[ebp]
  0050e	f3 0f 11 45 cc	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1275 : 
; 1276 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_VELOCITY));

  00513	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00517	74 0d		 je	 SHORT $LN34@set_attack
  00519	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0051c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0051e	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv293[ebp], ecx
  00524	eb 24		 jmp	 SHORT $LN35@set_attack
$LN34@set_attack:
  00526	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0052c	83 c2 4f	 add	 edx, 79			; 0000004fH
  0052f	52		 push	 edx
  00530	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00535	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0053a	50		 push	 eax
  0053b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00540	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv293[ebp], 0
$LN35@set_attack:
  0054a	b9 01 00 00 00	 mov	 ecx, 1
  0054f	85 c9		 test	 ecx, ecx
  00551	74 0c		 je	 SHORT $LN36@set_attack
  00553	c7 85 70 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv301[ebp], 147 ; 00000093H
  0055d	eb 24		 jmp	 SHORT $LN37@set_attack
$LN36@set_attack:
  0055f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  00565	83 c2 4f	 add	 edx, 79			; 0000004fH
  00568	52		 push	 edx
  00569	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0056e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00573	50		 push	 eax
  00574	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00579	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv301[ebp], 0
$LN37@set_attack:
  00583	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00587	74 0d		 je	 SHORT $LN30@set_attack
  00589	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0058c	8b 11		 mov	 edx, DWORD PTR [ecx]
  0058e	89 95 6c ff ff
	ff		 mov	 DWORD PTR tv274[ebp], edx
  00594	eb 24		 jmp	 SHORT $LN31@set_attack
$LN30@set_attack:
  00596	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  0059b	83 c0 4f	 add	 eax, 79			; 0000004fH
  0059e	50		 push	 eax
  0059f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005a4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005aa	51		 push	 ecx
  005ab	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005b0	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv274[ebp], 0
$LN31@set_attack:
  005ba	ba 01 00 00 00	 mov	 edx, 1
  005bf	85 d2		 test	 edx, edx
  005c1	74 0c		 je	 SHORT $LN32@set_attack
  005c3	c7 85 68 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv282[ebp], 147 ; 00000093H
  005cd	eb 24		 jmp	 SHORT $LN33@set_attack
$LN32@set_attack:
  005cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_dive_position@@YGXPAUENTITY@@@Z@4JA
  005d4	83 c0 4f	 add	 eax, 79			; 0000004fH
  005d7	50		 push	 eax
  005d8	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  005e3	51		 push	 ecx
  005e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005e9	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv282[ebp], 0
$LN33@set_attack:
  005f3	68 93 00 00 00	 push	 147			; 00000093H
  005f8	8b 55 bc	 mov	 edx, DWORD PTR _aggressor$[ebp]
  005fb	52		 push	 edx
  005fc	69 85 74 ff ff
	ff bc 02 00 00	 imul	 eax, DWORD PTR tv293[ebp], 700
  00606	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR tv301[ebp]
  0060c	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  00613	ff d2		 call	 edx
  00615	d9 9d 64 ff ff
	ff		 fstp	 DWORD PTR tv480[ebp]
  0061b	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR tv480[ebp]
  00623	51		 push	 ecx
  00624	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00629	68 93 00 00 00	 push	 147			; 00000093H
  0062e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00631	50		 push	 eax
  00632	69 8d 6c ff ff
	ff 78 05 00 00	 imul	 ecx, DWORD PTR tv274[ebp], 1400
  0063c	8b 95 68 ff ff
	ff		 mov	 edx, DWORD PTR tv282[ebp]
  00642	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  00649	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0064f	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  00652	ff d2		 call	 edx

; 1277 : 
; 1278 : 	set_client_server_guide_entity_new_position (en, &position, NULL);

  00654	6a 00		 push	 0
  00656	8d 45 c8	 lea	 eax, DWORD PTR _position$[ebp]
  00659	50		 push	 eax
  0065a	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0065d	51		 push	 ecx
  0065e	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1279 : }

  00663	5f		 pop	 edi
  00664	5e		 pop	 esi
  00665	5b		 pop	 ebx
  00666	8b e5		 mov	 esp, ebp
  00668	5d		 pop	 ebp
  00669	c2 04 00	 ret	 4
?set_attack_guide_dive_position@@YGXPAUENTITY@@@Z ENDP	; set_attack_guide_dive_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv307 = -112						; size = 4
tv179 = -108						; size = 4
tv171 = -104						; size = 4
tv282 = -100						; size = 8
tv223 = -100						; size = 4
tv198 = -100						; size = 4
tv149 = -100						; size = 4
tv78 = -100						; size = 4
tv215 = -96						; size = 4
tv190 = -96						; size = 4
tv141 = -96						; size = 4
tv129 = -96						; size = 4
tv70 = -96						; size = 4
_target$ = -28						; size = 4
_aggressor$ = -24					; size = 4
_task$ = -20						; size = 4
_wp$ = -16						; size = 4
_position$ = -12					; size = 12
_en$ = 8						; size = 4
?set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_hasty_take_cover_position, COMDAT

; 1713 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 70	 sub	 esp, 112		; 00000070H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1714 : 	vec3d
; 1715 : 		position;
; 1716 : 
; 1717 : 	entity
; 1718 : 		*wp,
; 1719 : 		*task,
; 1720 : 		*aggressor,
; 1721 : 		*target;
; 1722 : 
; 1723 : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_HASTY_TAKE_COVER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN4@set_attack
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d a0	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN5@set_attack
$LN4@set_attack:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 0a	 add	 edx, 10			; 0000000aH
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN5@set_attack:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN6@set_attack
  00043	c7 45 9c 34 00
	00 00		 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  0004a	eb 21		 jmp	 SHORT $LN7@set_attack
$LN6@set_attack:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 0a	 add	 edx, 10			; 0000000aH
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN7@set_attack:
  0006d	6a 15		 push	 21			; 00000015H
  0006f	6a 34		 push	 52			; 00000034H
  00071	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00074	51		 push	 ecx
  00075	69 55 a0 b8 08
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 2232
  0007c	8b 45 9c	 mov	 eax, DWORD PTR tv78[ebp]
  0007f	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00086	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0008c	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  0008f	ff d0		 call	 eax

; 1724 : 
; 1725 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00091	8d 45 e4	 lea	 eax, DWORD PTR _target$[ebp]
  00094	50		 push	 eax
  00095	8d 4d ec	 lea	 ecx, DWORD PTR _task$[ebp]
  00098	51		 push	 ecx
  00099	8d 55 f0	 lea	 edx, DWORD PTR _wp$[ebp]
  0009c	52		 push	 edx
  0009d	8d 45 e8	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000a0	50		 push	 eax
  000a1	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000a4	51		 push	 ecx
  000a5	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1726 : 
; 1727 : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER);

  000aa	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000ae	74 0a		 je	 SHORT $LN8@set_attack
  000b0	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b5	89 4d a0	 mov	 DWORD PTR tv129[ebp], ecx
  000b8	eb 21		 jmp	 SHORT $LN9@set_attack
$LN8@set_attack:
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  000c0	83 c2 0e	 add	 edx, 14			; 0000000eH
  000c3	52		 push	 edx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ce	50		 push	 eax
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN9@set_attack:
  000db	83 7d a0 0e	 cmp	 DWORD PTR tv129[ebp], 14 ; 0000000eH
  000df	74 18		 je	 SHORT $LN2@set_attack
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  000e6	83 c0 0e	 add	 eax, 14			; 0000000eH
  000e9	50		 push	 eax
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ef	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
  000f4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_attack:

; 1728 : 
; 1729 : 	get_local_entity_vec3d (en, VEC3D_TYPE_GUIDE_POSITION, &position);

  000f9	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000fd	74 0a		 je	 SHORT $LN10@set_attack
  000ff	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00102	8b 08		 mov	 ecx, DWORD PTR [eax]
  00104	89 4d a0	 mov	 DWORD PTR tv141[ebp], ecx
  00107	eb 21		 jmp	 SHORT $LN11@set_attack
$LN10@set_attack:
  00109	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  0010f	83 c2 10	 add	 edx, 16			; 00000010H
  00112	52		 push	 edx
  00113	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0011d	50		 push	 eax
  0011e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00123	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv141[ebp], 0
$LN11@set_attack:
  0012a	b9 01 00 00 00	 mov	 ecx, 1
  0012f	85 c9		 test	 ecx, ecx
  00131	74 09		 je	 SHORT $LN12@set_attack
  00133	c7 45 9c 04 00
	00 00		 mov	 DWORD PTR tv149[ebp], 4
  0013a	eb 21		 jmp	 SHORT $LN13@set_attack
$LN12@set_attack:
  0013c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00142	83 c2 10	 add	 edx, 16			; 00000010H
  00145	52		 push	 edx
  00146	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00156	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN13@set_attack:
  0015d	8d 4d f4	 lea	 ecx, DWORD PTR _position$[ebp]
  00160	51		 push	 ecx
  00161	6a 04		 push	 4
  00163	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00166	52		 push	 edx
  00167	6b 45 a0 60	 imul	 eax, DWORD PTR tv141[ebp], 96
  0016b	8b 4d 9c	 mov	 ecx, DWORD PTR tv149[ebp]
  0016e	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00175	ff d2		 call	 edx

; 1730 : 
; 1731 : 	//
; 1732 : 	// Helicopter remains at current location - just change altitude
; 1733 : 	//
; 1734 : 
; 1735 : 	position.y = get_3d_terrain_elevation (position.x, position.z) + 5.0;

  00177	6a 00		 push	 0
  00179	51		 push	 ecx
  0017a	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  0017f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00184	51		 push	 ecx
  00185	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _position$[ebp]
  0018a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0018f	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00194	dd 5d 9c	 fstp	 QWORD PTR tv282[ebp]
  00197	f2 0f 10 45 9c	 movsd	 xmm0, QWORD PTR tv282[ebp]
  0019c	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4014000000000000
  001a4	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001a8	f3 0f 11 45 f8	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1736 : 
; 1737 : 	set_client_server_guide_entity_new_position (en, &position, NULL);

  001ad	6a 00		 push	 0
  001af	8d 45 f4	 lea	 eax, DWORD PTR _position$[ebp]
  001b2	50		 push	 eax
  001b3	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001b6	51		 push	 ecx
  001b7	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1738 : 
; 1739 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY));

  001bc	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  001c0	74 0a		 je	 SHORT $LN18@set_attack
  001c2	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  001c5	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c7	89 4d a0	 mov	 DWORD PTR tv190[ebp], ecx
  001ca	eb 21		 jmp	 SHORT $LN19@set_attack
$LN18@set_attack:
  001cc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  001d2	83 c2 1a	 add	 edx, 26			; 0000001aH
  001d5	52		 push	 edx
  001d6	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e0	50		 push	 eax
  001e1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e6	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv190[ebp], 0
$LN19@set_attack:
  001ed	b9 01 00 00 00	 mov	 ecx, 1
  001f2	85 c9		 test	 ecx, ecx
  001f4	74 09		 je	 SHORT $LN20@set_attack
  001f6	c7 45 9c 19 00
	00 00		 mov	 DWORD PTR tv198[ebp], 25 ; 00000019H
  001fd	eb 21		 jmp	 SHORT $LN21@set_attack
$LN20@set_attack:
  001ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00205	83 c2 1a	 add	 edx, 26			; 0000001aH
  00208	52		 push	 edx
  00209	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0020e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00213	50		 push	 eax
  00214	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00219	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$LN21@set_attack:
  00220	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00224	74 0a		 je	 SHORT $LN14@set_attack
  00226	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00229	8b 11		 mov	 edx, DWORD PTR [ecx]
  0022b	89 55 98	 mov	 DWORD PTR tv171[ebp], edx
  0022e	eb 21		 jmp	 SHORT $LN15@set_attack
$LN14@set_attack:
  00230	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00235	83 c0 1a	 add	 eax, 26			; 0000001aH
  00238	50		 push	 eax
  00239	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0023e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00244	51		 push	 ecx
  00245	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0024a	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv171[ebp], 0
$LN15@set_attack:
  00251	ba 01 00 00 00	 mov	 edx, 1
  00256	85 d2		 test	 edx, edx
  00258	74 09		 je	 SHORT $LN16@set_attack
  0025a	c7 45 94 93 00
	00 00		 mov	 DWORD PTR tv179[ebp], 147 ; 00000093H
  00261	eb 21		 jmp	 SHORT $LN17@set_attack
$LN16@set_attack:
  00263	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00268	83 c0 1a	 add	 eax, 26			; 0000001aH
  0026b	50		 push	 eax
  0026c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00271	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00277	51		 push	 ecx
  00278	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0027d	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN17@set_attack:
  00284	6a 19		 push	 25			; 00000019H
  00286	8b 55 e8	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00289	52		 push	 edx
  0028a	69 45 a0 bc 02
	00 00		 imul	 eax, DWORD PTR tv190[ebp], 700
  00291	8b 4d 9c	 mov	 ecx, DWORD PTR tv198[ebp]
  00294	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  0029b	ff d2		 call	 edx
  0029d	d9 5d 90	 fstp	 DWORD PTR tv307[ebp]
  002a0	f3 0f 10 45 90	 movss	 xmm0, DWORD PTR tv307[ebp]
  002a5	51		 push	 ecx
  002a6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002ab	68 93 00 00 00	 push	 147			; 00000093H
  002b0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002b3	50		 push	 eax
  002b4	69 4d 98 78 05
	00 00		 imul	 ecx, DWORD PTR tv171[ebp], 1400
  002bb	8b 55 94	 mov	 edx, DWORD PTR tv179[ebp]
  002be	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  002c5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  002cb	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  002ce	ff d2		 call	 edx

; 1740 : 
; 1741 : 	//
; 1742 : 	// Need to set COVER_POSITION also
; 1743 : 	//
; 1744 : 
; 1745 : 	set_local_entity_vec3d (aggressor, VEC3D_TYPE_COVER_POSITION, &position);

  002d0	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  002d4	74 0a		 je	 SHORT $LN22@set_attack
  002d6	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002d9	8b 08		 mov	 ecx, DWORD PTR [eax]
  002db	89 4d a0	 mov	 DWORD PTR tv215[ebp], ecx
  002de	eb 21		 jmp	 SHORT $LN23@set_attack
$LN22@set_attack:
  002e0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  002e6	83 c2 20	 add	 edx, 32			; 00000020H
  002e9	52		 push	 edx
  002ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002f4	50		 push	 eax
  002f5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002fa	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv215[ebp], 0
$LN23@set_attack:
  00301	b9 01 00 00 00	 mov	 ecx, 1
  00306	85 c9		 test	 ecx, ecx
  00308	74 09		 je	 SHORT $LN24@set_attack
  0030a	c7 45 9c 02 00
	00 00		 mov	 DWORD PTR tv223[ebp], 2
  00311	eb 21		 jmp	 SHORT $LN25@set_attack
$LN24@set_attack:
  00313	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00319	83 c2 20	 add	 edx, 32			; 00000020H
  0031c	52		 push	 edx
  0031d	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00322	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00327	50		 push	 eax
  00328	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0032d	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv223[ebp], 0
$LN25@set_attack:
  00334	8d 4d f4	 lea	 ecx, DWORD PTR _position$[ebp]
  00337	51		 push	 ecx
  00338	6a 02		 push	 2
  0033a	8b 55 e8	 mov	 edx, DWORD PTR _aggressor$[ebp]
  0033d	52		 push	 edx
  0033e	6b 45 a0 60	 imul	 eax, DWORD PTR tv215[ebp], 96
  00342	8b 4d 9c	 mov	 ecx, DWORD PTR tv223[ebp]
  00345	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0034c	ff d2		 call	 edx

; 1746 : 
; 1747 : 	//
; 1748 : 	// change guide reached criteria
; 1749 : 	//
; 1750 : 
; 1751 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, TRUE, 1.0);

  0034e	51		 push	 ecx
  0034f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00357	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0035c	6a 01		 push	 1
  0035e	6a 02		 push	 2
  00360	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00363	50		 push	 eax
  00364	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1752 : 
; 1753 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, TRUE, rad (5.0));

  00369	51		 push	 ecx
  0036a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3db2b8c2
  00372	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00377	6a 01		 push	 1
  00379	6a 01		 push	 1
  0037b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0037e	50		 push	 eax
  0037f	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1754 : 
; 1755 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, FALSE, 0.0);

  00384	51		 push	 ecx
  00385	0f 57 c0	 xorps	 xmm0, xmm0
  00388	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0038d	6a 00		 push	 0
  0038f	6a 05		 push	 5
  00391	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00394	50		 push	 eax
  00395	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1756 : }

  0039a	5f		 pop	 edi
  0039b	5e		 pop	 esi
  0039c	5b		 pop	 ebx
  0039d	8b e5		 mov	 esp, ebp
  0039f	5d		 pop	 ebp
  003a0	c2 04 00	 ret	 4
?set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_hasty_take_cover_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv257 = -112						; size = 4
tv149 = -108						; size = 4
tv141 = -104						; size = 4
tv193 = -100						; size = 4
tv168 = -100						; size = 4
tv78 = -100						; size = 4
tv185 = -96						; size = 4
tv160 = -96						; size = 4
tv129 = -96						; size = 4
tv70 = -96						; size = 4
_position$ = -28					; size = 12
_target$ = -16						; size = 4
_aggressor$ = -12					; size = 4
_task$ = -8						; size = 4
_wp$ = -4						; size = 4
_en$ = 8						; size = 4
?set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_hasty_fire_position, COMDAT

; 1671 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 70	 sub	 esp, 112		; 00000070H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1672 : 	entity
; 1673 : 		*wp,
; 1674 : 		*task,
; 1675 : 		*aggressor,
; 1676 : 		*target;
; 1677 : 
; 1678 : 	vec3d
; 1679 : 		position;
; 1680 : 
; 1681 : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_HASTY_FIRE);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN4@set_attack
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d a0	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN5@set_attack
$LN4@set_attack:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 0a	 add	 edx, 10			; 0000000aH
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN5@set_attack:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN6@set_attack
  00043	c7 45 9c 34 00
	00 00		 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  0004a	eb 21		 jmp	 SHORT $LN7@set_attack
$LN6@set_attack:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 0a	 add	 edx, 10			; 0000000aH
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN7@set_attack:
  0006d	6a 14		 push	 20			; 00000014H
  0006f	6a 34		 push	 52			; 00000034H
  00071	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00074	51		 push	 ecx
  00075	69 55 a0 b8 08
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 2232
  0007c	8b 45 9c	 mov	 eax, DWORD PTR tv78[ebp]
  0007f	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00086	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0008c	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  0008f	ff d0		 call	 eax

; 1682 : 
; 1683 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00091	8d 45 f0	 lea	 eax, DWORD PTR _target$[ebp]
  00094	50		 push	 eax
  00095	8d 4d f8	 lea	 ecx, DWORD PTR _task$[ebp]
  00098	51		 push	 ecx
  00099	8d 55 fc	 lea	 edx, DWORD PTR _wp$[ebp]
  0009c	52		 push	 edx
  0009d	8d 45 f4	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000a0	50		 push	 eax
  000a1	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000a4	51		 push	 ecx
  000a5	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1684 : 
; 1685 : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER);

  000aa	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000ae	74 0a		 je	 SHORT $LN8@set_attack
  000b0	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b5	89 4d a0	 mov	 DWORD PTR tv129[ebp], ecx
  000b8	eb 21		 jmp	 SHORT $LN9@set_attack
$LN8@set_attack:
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  000c0	83 c2 0e	 add	 edx, 14			; 0000000eH
  000c3	52		 push	 edx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ce	50		 push	 eax
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN9@set_attack:
  000db	83 7d a0 0e	 cmp	 DWORD PTR tv129[ebp], 14 ; 0000000eH
  000df	74 18		 je	 SHORT $LN2@set_attack
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  000e6	83 c0 0e	 add	 eax, 14			; 0000000eH
  000e9	50		 push	 eax
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ef	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
  000f4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_attack:

; 1686 : 
; 1687 : 	//
; 1688 : 	// Helicopter remains at current location
; 1689 : 	//
; 1690 : 
; 1691 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY));

  000f9	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000fd	74 0a		 je	 SHORT $LN14@set_attack
  000ff	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00102	8b 08		 mov	 ecx, DWORD PTR [eax]
  00104	89 4d a0	 mov	 DWORD PTR tv160[ebp], ecx
  00107	eb 21		 jmp	 SHORT $LN15@set_attack
$LN14@set_attack:
  00109	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  0010f	83 c2 14	 add	 edx, 20			; 00000014H
  00112	52		 push	 edx
  00113	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0011d	50		 push	 eax
  0011e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00123	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
$LN15@set_attack:
  0012a	b9 01 00 00 00	 mov	 ecx, 1
  0012f	85 c9		 test	 ecx, ecx
  00131	74 09		 je	 SHORT $LN16@set_attack
  00133	c7 45 9c 19 00
	00 00		 mov	 DWORD PTR tv168[ebp], 25 ; 00000019H
  0013a	eb 21		 jmp	 SHORT $LN17@set_attack
$LN16@set_attack:
  0013c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  00142	83 c2 14	 add	 edx, 20			; 00000014H
  00145	52		 push	 edx
  00146	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00156	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv168[ebp], 0
$LN17@set_attack:
  0015d	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00161	74 0a		 je	 SHORT $LN10@set_attack
  00163	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00166	8b 11		 mov	 edx, DWORD PTR [ecx]
  00168	89 55 98	 mov	 DWORD PTR tv141[ebp], edx
  0016b	eb 21		 jmp	 SHORT $LN11@set_attack
$LN10@set_attack:
  0016d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  00172	83 c0 14	 add	 eax, 20			; 00000014H
  00175	50		 push	 eax
  00176	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00181	51		 push	 ecx
  00182	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00187	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv141[ebp], 0
$LN11@set_attack:
  0018e	ba 01 00 00 00	 mov	 edx, 1
  00193	85 d2		 test	 edx, edx
  00195	74 09		 je	 SHORT $LN12@set_attack
  00197	c7 45 94 93 00
	00 00		 mov	 DWORD PTR tv149[ebp], 147 ; 00000093H
  0019e	eb 21		 jmp	 SHORT $LN13@set_attack
$LN12@set_attack:
  001a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  001a5	83 c0 14	 add	 eax, 20			; 00000014H
  001a8	50		 push	 eax
  001a9	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ae	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  001b4	51		 push	 ecx
  001b5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ba	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN13@set_attack:
  001c1	6a 19		 push	 25			; 00000019H
  001c3	8b 55 f4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  001c6	52		 push	 edx
  001c7	69 45 a0 bc 02
	00 00		 imul	 eax, DWORD PTR tv160[ebp], 700
  001ce	8b 4d 9c	 mov	 ecx, DWORD PTR tv168[ebp]
  001d1	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  001d8	ff d2		 call	 edx
  001da	d9 5d 90	 fstp	 DWORD PTR tv257[ebp]
  001dd	f3 0f 10 45 90	 movss	 xmm0, DWORD PTR tv257[ebp]
  001e2	51		 push	 ecx
  001e3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001e8	68 93 00 00 00	 push	 147			; 00000093H
  001ed	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001f0	50		 push	 eax
  001f1	69 4d 98 78 05
	00 00		 imul	 ecx, DWORD PTR tv141[ebp], 1400
  001f8	8b 55 94	 mov	 edx, DWORD PTR tv149[ebp]
  001fb	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  00202	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00208	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  0020b	ff d2		 call	 edx

; 1692 : 
; 1693 : 	get_local_entity_vec3d (aggressor, VEC3D_TYPE_POSITION, &position);

  0020d	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00211	74 0a		 je	 SHORT $LN18@set_attack
  00213	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00216	8b 08		 mov	 ecx, DWORD PTR [eax]
  00218	89 4d a0	 mov	 DWORD PTR tv185[ebp], ecx
  0021b	eb 21		 jmp	 SHORT $LN19@set_attack
$LN18@set_attack:
  0021d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  00223	83 c2 16	 add	 edx, 22			; 00000016H
  00226	52		 push	 edx
  00227	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0022c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00231	50		 push	 eax
  00232	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00237	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv185[ebp], 0
$LN19@set_attack:
  0023e	b9 01 00 00 00	 mov	 ecx, 1
  00243	85 c9		 test	 ecx, ecx
  00245	74 09		 je	 SHORT $LN20@set_attack
  00247	c7 45 9c 08 00
	00 00		 mov	 DWORD PTR tv193[ebp], 8
  0024e	eb 21		 jmp	 SHORT $LN21@set_attack
$LN20@set_attack:
  00250	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z@4JA
  00256	83 c2 16	 add	 edx, 22			; 00000016H
  00259	52		 push	 edx
  0025a	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0025f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00264	50		 push	 eax
  00265	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0026a	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv193[ebp], 0
$LN21@set_attack:
  00271	8d 4d e4	 lea	 ecx, DWORD PTR _position$[ebp]
  00274	51		 push	 ecx
  00275	6a 08		 push	 8
  00277	8b 55 f4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  0027a	52		 push	 edx
  0027b	6b 45 a0 60	 imul	 eax, DWORD PTR tv185[ebp], 96
  0027f	8b 4d 9c	 mov	 ecx, DWORD PTR tv193[ebp]
  00282	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00289	ff d2		 call	 edx

; 1694 : 
; 1695 : 	set_client_server_guide_entity_new_position (en, &position, NULL);

  0028b	6a 00		 push	 0
  0028d	8d 45 e4	 lea	 eax, DWORD PTR _position$[ebp]
  00290	50		 push	 eax
  00291	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00294	51		 push	 ecx
  00295	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1696 : 
; 1697 : 	//
; 1698 : 	// change guide reached criteria
; 1699 : 	//
; 1700 : 
; 1701 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, FALSE, 0.0);

  0029a	51		 push	 ecx
  0029b	0f 57 c0	 xorps	 xmm0, xmm0
  0029e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002a3	6a 00		 push	 0
  002a5	6a 02		 push	 2
  002a7	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002aa	50		 push	 eax
  002ab	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1702 : 
; 1703 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, FALSE, 0.0);

  002b0	51		 push	 ecx
  002b1	0f 57 c0	 xorps	 xmm0, xmm0
  002b4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002b9	6a 00		 push	 0
  002bb	6a 01		 push	 1
  002bd	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002c0	50		 push	 eax
  002c1	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1704 : 
; 1705 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, TRUE, 0.0);

  002c6	51		 push	 ecx
  002c7	0f 57 c0	 xorps	 xmm0, xmm0
  002ca	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002cf	6a 01		 push	 1
  002d1	6a 05		 push	 5
  002d3	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002d6	50		 push	 eax
  002d7	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1706 : }

  002dc	5f		 pop	 edi
  002dd	5e		 pop	 esi
  002de	5b		 pop	 ebx
  002df	8b e5		 mov	 esp, ebp
  002e1	5d		 pop	 ebp
  002e2	c2 04 00	 ret	 4
?set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_hasty_fire_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_egress_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv609 = -160						; size = 4
tv584 = -160						; size = 4
tv623 = -156						; size = 4
tv359 = -156						; size = 4
tv577 = -152						; size = 4
tv351 = -152						; size = 4
tv378 = -148						; size = 4
tv335 = -148						; size = 4
tv297 = -148						; size = 4
tv261 = -148						; size = 4
tv236 = -148						; size = 4
tv211 = -148						; size = 4
tv190 = -148						; size = 4
tv169 = -148						; size = 4
tv149 = -148						; size = 4
tv78 = -148						; size = 4
tv370 = -144						; size = 4
tv327 = -144						; size = 4
tv289 = -144						; size = 4
tv278 = -144						; size = 4
tv253 = -144						; size = 4
tv228 = -144						; size = 4
tv203 = -144						; size = 4
tv182 = -144						; size = 4
tv161 = -144						; size = 4
tv141 = -144						; size = 4
tv129 = -144						; size = 4
tv70 = -144						; size = 4
_member_number$ = -76					; size = 4
_target_pos$ = -72					; size = 4
_base_pos$ = -68					; size = 4
_direction$ = -64					; size = 12
_position$ = -52					; size = 12
_time$ = -40						; size = 4
_velocity$ = -36					; size = 4
_distance$ = -32					; size = 4
_angle$ = -28						; size = 4
_target$ = -24						; size = 4
_aggressor$ = -20					; size = 4
_base$ = -16						; size = 4
_group$ = -12						; size = 4
_task$ = -8						; size = 4
_wp$ = -4						; size = 4
_en$ = 8						; size = 4
?set_attack_guide_egress_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_egress_position, COMDAT

; 1524 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a0 00 00
	00		 sub	 esp, 160		; 000000a0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1525 : 	entity
; 1526 : 		*wp,
; 1527 : 		*task,
; 1528 : 		*group,
; 1529 : 		*base,
; 1530 : 		*aggressor,
; 1531 : 		*target;
; 1532 : 
; 1533 : 	float
; 1534 : 		angle,
; 1535 : 		distance,
; 1536 : 		velocity,
; 1537 : 		time;
; 1538 : 
; 1539 : 	vec3d
; 1540 : 		position,
; 1541 : 		direction,
; 1542 : 		*base_pos,
; 1543 : 		*target_pos;
; 1544 : 
; 1545 : 	int
; 1546 : 		member_number;
; 1547 : 
; 1548 : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_EGRESS);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	74 0d		 je	 SHORT $LN16@set_attack
  00012	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0001d	eb 24		 jmp	 SHORT $LN17@set_attack
$LN16@set_attack:
  0001f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00025	83 c2 18	 add	 edx, 24			; 00000018H
  00028	52		 push	 edx
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN17@set_attack:
  00043	b9 01 00 00 00	 mov	 ecx, 1
  00048	85 c9		 test	 ecx, ecx
  0004a	74 0c		 je	 SHORT $LN18@set_attack
  0004c	c7 85 6c ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  00056	eb 24		 jmp	 SHORT $LN19@set_attack
$LN18@set_attack:
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  0005e	83 c2 18	 add	 edx, 24			; 00000018H
  00061	52		 push	 edx
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00072	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv78[ebp], 0
$LN19@set_attack:
  0007c	6a 13		 push	 19			; 00000013H
  0007e	6a 34		 push	 52			; 00000034H
  00080	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00083	51		 push	 ecx
  00084	69 95 70 ff ff
	ff b8 08 00 00	 imul	 edx, DWORD PTR tv70[ebp], 2232
  0008e	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv78[ebp]
  00094	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  0009b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000a1	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  000a4	ff d0		 call	 eax

; 1549 : 
; 1550 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  000a6	8d 45 e8	 lea	 eax, DWORD PTR _target$[ebp]
  000a9	50		 push	 eax
  000aa	8d 4d f8	 lea	 ecx, DWORD PTR _task$[ebp]
  000ad	51		 push	 ecx
  000ae	8d 55 fc	 lea	 edx, DWORD PTR _wp$[ebp]
  000b1	52		 push	 edx
  000b2	8d 45 ec	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000b5	50		 push	 eax
  000b6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000b9	51		 push	 ecx
  000ba	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1551 : 
; 1552 : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_FIXED_WING);

  000bf	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000c3	74 0d		 je	 SHORT $LN20@set_attack
  000c5	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ca	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv129[ebp], ecx
  000d0	eb 24		 jmp	 SHORT $LN21@set_attack
$LN20@set_attack:
  000d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  000d8	83 c2 1c	 add	 edx, 28			; 0000001cH
  000db	52		 push	 edx
  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv129[ebp], 0
$LN21@set_attack:
  000f6	83 bd 70 ff ff
	ff 0a		 cmp	 DWORD PTR tv129[ebp], 10 ; 0000000aH
  000fd	74 18		 je	 SHORT $LN4@set_attack
  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00104	83 c0 1c	 add	 eax, 28			; 0000001cH
  00107	50		 push	 eax
  00108	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0010d	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CKNHJJLP@get_local_entity_type?5?$CIaggresso@
  00112	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@set_attack:

; 1553 : 
; 1554 : 	target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00117	83 7d e8 00	 cmp	 DWORD PTR _target$[ebp], 0
  0011b	74 0d		 je	 SHORT $LN22@set_attack
  0011d	8b 45 e8	 mov	 eax, DWORD PTR _target$[ebp]
  00120	8b 08		 mov	 ecx, DWORD PTR [eax]
  00122	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv141[ebp], ecx
  00128	eb 24		 jmp	 SHORT $LN23@set_attack
$LN22@set_attack:
  0012a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00130	83 c2 1e	 add	 edx, 30			; 0000001eH
  00133	52		 push	 edx
  00134	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00139	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0013e	50		 push	 eax
  0013f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00144	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv141[ebp], 0
$LN23@set_attack:
  0014e	b9 01 00 00 00	 mov	 ecx, 1
  00153	85 c9		 test	 ecx, ecx
  00155	74 0c		 je	 SHORT $LN24@set_attack
  00157	c7 85 6c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv149[ebp], 8
  00161	eb 24		 jmp	 SHORT $LN25@set_attack
$LN24@set_attack:
  00163	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00169	83 c2 1e	 add	 edx, 30			; 0000001eH
  0016c	52		 push	 edx
  0016d	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00172	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00177	50		 push	 eax
  00178	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0017d	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv149[ebp], 0
$LN25@set_attack:
  00187	6a 08		 push	 8
  00189	8b 4d e8	 mov	 ecx, DWORD PTR _target$[ebp]
  0018c	51		 push	 ecx
  0018d	6b 95 70 ff ff
	ff 60		 imul	 edx, DWORD PTR tv141[ebp], 96
  00194	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv149[ebp]
  0019a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  001a1	ff d1		 call	 ecx
  001a3	89 45 b8	 mov	 DWORD PTR _target_pos$[ebp], eax

; 1555 : 
; 1556 : 	member_number = get_local_entity_int_value (aggressor, INT_TYPE_GROUP_MEMBER_NUMBER);

  001a6	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  001aa	74 0d		 je	 SHORT $LN26@set_attack
  001ac	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  001af	8b 08		 mov	 ecx, DWORD PTR [eax]
  001b1	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv161[ebp], ecx
  001b7	eb 24		 jmp	 SHORT $LN27@set_attack
$LN26@set_attack:
  001b9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  001bf	83 c2 20	 add	 edx, 32			; 00000020H
  001c2	52		 push	 edx
  001c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001cd	50		 push	 eax
  001ce	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d3	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv161[ebp], 0
$LN27@set_attack:
  001dd	b9 01 00 00 00	 mov	 ecx, 1
  001e2	85 c9		 test	 ecx, ecx
  001e4	74 0c		 je	 SHORT $LN28@set_attack
  001e6	c7 85 6c ff ff
	ff 4b 00 00 00	 mov	 DWORD PTR tv169[ebp], 75 ; 0000004bH
  001f0	eb 24		 jmp	 SHORT $LN29@set_attack
$LN28@set_attack:
  001f2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  001f8	83 c2 20	 add	 edx, 32			; 00000020H
  001fb	52		 push	 edx
  001fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00201	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00206	50		 push	 eax
  00207	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0020c	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv169[ebp], 0
$LN29@set_attack:
  00216	6a 4b		 push	 75			; 0000004bH
  00218	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0021b	51		 push	 ecx
  0021c	69 95 70 ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv161[ebp], 1116
  00226	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv169[ebp]
  0022c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00233	ff d1		 call	 ecx
  00235	89 45 b4	 mov	 DWORD PTR _member_number$[ebp], eax

; 1557 : 
; 1558 : 	//
; 1559 : 	// break off at an angle
; 1560 : 	//
; 1561 : 
; 1562 : 	if (member_number > 3)

  00238	83 7d b4 03	 cmp	 DWORD PTR _member_number$[ebp], 3
  0023c	0f 8e a8 00 00
	00		 jle	 $LN5@set_attack

; 1563 : 	{
; 1564 : 		//
; 1565 : 		// Should never happen, but just in case...
; 1566 : 		//
; 1567 : 
; 1568 : 		get_local_entity_vec3d (aggressor, VEC3D_TYPE_XV, &direction);

  00242	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00246	74 0d		 je	 SHORT $LN30@set_attack
  00248	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0024b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0024d	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv182[ebp], ecx
  00253	eb 24		 jmp	 SHORT $LN31@set_attack
$LN30@set_attack:
  00255	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  0025b	83 c2 2c	 add	 edx, 44			; 0000002cH
  0025e	52		 push	 edx
  0025f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00264	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00269	50		 push	 eax
  0026a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0026f	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv182[ebp], 0
$LN31@set_attack:
  00279	b9 01 00 00 00	 mov	 ecx, 1
  0027e	85 c9		 test	 ecx, ecx
  00280	74 0c		 je	 SHORT $LN32@set_attack
  00282	c7 85 6c ff ff
	ff 14 00 00 00	 mov	 DWORD PTR tv190[ebp], 20 ; 00000014H
  0028c	eb 24		 jmp	 SHORT $LN33@set_attack
$LN32@set_attack:
  0028e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00294	83 c2 2c	 add	 edx, 44			; 0000002cH
  00297	52		 push	 edx
  00298	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0029d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  002a2	50		 push	 eax
  002a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a8	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv190[ebp], 0
$LN33@set_attack:
  002b2	8d 4d c0	 lea	 ecx, DWORD PTR _direction$[ebp]
  002b5	51		 push	 ecx
  002b6	6a 14		 push	 20			; 00000014H
  002b8	8b 55 ec	 mov	 edx, DWORD PTR _aggressor$[ebp]
  002bb	52		 push	 edx
  002bc	6b 85 70 ff ff
	ff 60		 imul	 eax, DWORD PTR tv182[ebp], 96
  002c3	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR tv190[ebp]
  002c9	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  002d0	ff d2		 call	 edx

; 1569 : 
; 1570 : 		direction.y = 0.0;

  002d2	0f 57 c0	 xorps	 xmm0, xmm0
  002d5	f3 0f 11 45 c4	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 1571 : 
; 1572 : 		normalise_any_3d_vector (&direction);

  002da	8d 45 c0	 lea	 eax, DWORD PTR _direction$[ebp]
  002dd	50		 push	 eax
  002de	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  002e3	dd d8		 fstp	 ST(0)

; 1573 : 	}
; 1574 : 	else

  002e5	e9 bd 02 00 00	 jmp	 $LN6@set_attack
$LN5@set_attack:

; 1575 : 	{
; 1576 : 		//
; 1577 : 		// Use groups base as reference point so that egress route usually goes into friendly territory
; 1578 : 		//
; 1579 : 
; 1580 : 		group = get_local_entity_parent (aggressor, LIST_TYPE_MEMBER);

  002ea	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  002ee	74 0d		 je	 SHORT $LN34@set_attack
  002f0	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002f3	8b 08		 mov	 ecx, DWORD PTR [eax]
  002f5	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv203[ebp], ecx
  002fb	eb 24		 jmp	 SHORT $LN35@set_attack
$LN34@set_attack:
  002fd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00303	83 c2 38	 add	 edx, 56			; 00000038H
  00306	52		 push	 edx
  00307	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0030c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00311	50		 push	 eax
  00312	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00317	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv203[ebp], 0
$LN35@set_attack:
  00321	b9 01 00 00 00	 mov	 ecx, 1
  00326	85 c9		 test	 ecx, ecx
  00328	74 0c		 je	 SHORT $LN36@set_attack
  0032a	c7 85 6c ff ff
	ff 19 00 00 00	 mov	 DWORD PTR tv211[ebp], 25 ; 00000019H
  00334	eb 24		 jmp	 SHORT $LN37@set_attack
$LN36@set_attack:
  00336	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  0033c	83 c2 38	 add	 edx, 56			; 00000038H
  0033f	52		 push	 edx
  00340	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00345	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0034a	50		 push	 eax
  0034b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00350	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv211[ebp], 0
$LN37@set_attack:
  0035a	6a 19		 push	 25			; 00000019H
  0035c	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0035f	51		 push	 ecx
  00360	69 95 70 ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv203[ebp], 180
  0036a	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv211[ebp]
  00370	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00377	ff d1		 call	 ecx
  00379	89 45 f4	 mov	 DWORD PTR _group$[ebp], eax

; 1581 : 
; 1582 : 		ASSERT (group);

  0037c	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  00380	75 18		 jne	 SHORT $LN7@set_attack
  00382	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00387	83 c0 3a	 add	 eax, 58			; 0000003aH
  0038a	50		 push	 eax
  0038b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00390	68 00 00 00 00	 push	 OFFSET ??_C@_05MGJOOGAJ@group@
  00395	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@set_attack:

; 1583 : 
; 1584 : 		base = get_local_entity_parent (group, LIST_TYPE_KEYSITE_GROUP);

  0039a	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  0039e	74 0d		 je	 SHORT $LN38@set_attack
  003a0	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  003a3	8b 08		 mov	 ecx, DWORD PTR [eax]
  003a5	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv228[ebp], ecx
  003ab	eb 24		 jmp	 SHORT $LN39@set_attack
$LN38@set_attack:
  003ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  003b3	83 c2 3c	 add	 edx, 60			; 0000003cH
  003b6	52		 push	 edx
  003b7	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003c1	50		 push	 eax
  003c2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003c7	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv228[ebp], 0
$LN39@set_attack:
  003d1	b9 01 00 00 00	 mov	 ecx, 1
  003d6	85 c9		 test	 ecx, ecx
  003d8	74 0c		 je	 SHORT $LN40@set_attack
  003da	c7 85 6c ff ff
	ff 16 00 00 00	 mov	 DWORD PTR tv236[ebp], 22 ; 00000016H
  003e4	eb 24		 jmp	 SHORT $LN41@set_attack
$LN40@set_attack:
  003e6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  003ec	83 c2 3c	 add	 edx, 60			; 0000003cH
  003ef	52		 push	 edx
  003f0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  003fa	50		 push	 eax
  003fb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00400	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv236[ebp], 0
$LN41@set_attack:
  0040a	6a 16		 push	 22			; 00000016H
  0040c	8b 4d f4	 mov	 ecx, DWORD PTR _group$[ebp]
  0040f	51		 push	 ecx
  00410	69 95 70 ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv228[ebp], 180
  0041a	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv236[ebp]
  00420	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00427	ff d1		 call	 ecx
  00429	89 45 f0	 mov	 DWORD PTR _base$[ebp], eax

; 1585 : 
; 1586 : 		ASSERT (base);

  0042c	83 7d f0 00	 cmp	 DWORD PTR _base$[ebp], 0
  00430	75 18		 jne	 SHORT $LN8@set_attack
  00432	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00437	83 c0 3e	 add	 eax, 62			; 0000003eH
  0043a	50		 push	 eax
  0043b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00440	68 00 00 00 00	 push	 OFFSET ??_C@_04BHIIPFEC@base@
  00445	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@set_attack:

; 1587 : 
; 1588 : 		base_pos = get_local_entity_vec3d_ptr (base, VEC3D_TYPE_POSITION);

  0044a	83 7d f0 00	 cmp	 DWORD PTR _base$[ebp], 0
  0044e	74 0d		 je	 SHORT $LN42@set_attack
  00450	8b 45 f0	 mov	 eax, DWORD PTR _base$[ebp]
  00453	8b 08		 mov	 ecx, DWORD PTR [eax]
  00455	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv253[ebp], ecx
  0045b	eb 24		 jmp	 SHORT $LN43@set_attack
$LN42@set_attack:
  0045d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00463	83 c2 40	 add	 edx, 64			; 00000040H
  00466	52		 push	 edx
  00467	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0046c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00471	50		 push	 eax
  00472	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00477	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv253[ebp], 0
$LN43@set_attack:
  00481	b9 01 00 00 00	 mov	 ecx, 1
  00486	85 c9		 test	 ecx, ecx
  00488	74 0c		 je	 SHORT $LN44@set_attack
  0048a	c7 85 6c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv261[ebp], 8
  00494	eb 24		 jmp	 SHORT $LN45@set_attack
$LN44@set_attack:
  00496	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  0049c	83 c2 40	 add	 edx, 64			; 00000040H
  0049f	52		 push	 edx
  004a0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  004a5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  004aa	50		 push	 eax
  004ab	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004b0	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv261[ebp], 0
$LN45@set_attack:
  004ba	6a 08		 push	 8
  004bc	8b 4d f0	 mov	 ecx, DWORD PTR _base$[ebp]
  004bf	51		 push	 ecx
  004c0	6b 95 70 ff ff
	ff 60		 imul	 edx, DWORD PTR tv253[ebp], 96
  004c7	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv261[ebp]
  004cd	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  004d4	ff d1		 call	 ecx
  004d6	89 45 bc	 mov	 DWORD PTR _base_pos$[ebp], eax

; 1589 : 
; 1590 : 		ASSERT (base_pos);

  004d9	83 7d bc 00	 cmp	 DWORD PTR _base_pos$[ebp], 0
  004dd	75 18		 jne	 SHORT $LN9@set_attack
  004df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  004e4	83 c0 42	 add	 eax, 66			; 00000042H
  004e7	50		 push	 eax
  004e8	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  004ed	68 00 00 00 00	 push	 OFFSET ??_C@_08GEHOOIKH@base_pos@
  004f2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN9@set_attack:

; 1591 : 
; 1592 : 		direction.x = base_pos->x - target_pos->x;

  004f7	8b 45 bc	 mov	 eax, DWORD PTR _base_pos$[ebp]
  004fa	8b 4d b8	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  004fd	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00501	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  00505	f3 0f 11 45 c0	 movss	 DWORD PTR _direction$[ebp], xmm0

; 1593 : 		direction.y = 0.0;

  0050a	0f 57 c0	 xorps	 xmm0, xmm0
  0050d	f3 0f 11 45 c4	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 1594 : 		direction.z = base_pos->z - target_pos->z;

  00512	8b 45 bc	 mov	 eax, DWORD PTR _base_pos$[ebp]
  00515	8b 4d b8	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  00518	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  0051d	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  00522	f3 0f 11 45 c8	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 1595 : 
; 1596 : 		normalise_any_3d_vector (&direction);

  00527	8d 45 c0	 lea	 eax, DWORD PTR _direction$[ebp]
  0052a	50		 push	 eax
  0052b	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  00530	dd d8		 fstp	 ST(0)

; 1597 : 
; 1598 : 		angle = 0.0;

  00532	0f 57 c0	 xorps	 xmm0, xmm0
  00535	f3 0f 11 45 e4	 movss	 DWORD PTR _angle$[ebp], xmm0

; 1599 : 
; 1600 : 		switch (member_number)

  0053a	8b 45 b4	 mov	 eax, DWORD PTR _member_number$[ebp]
  0053d	89 85 70 ff ff
	ff		 mov	 DWORD PTR tv278[ebp], eax
  00543	83 bd 70 ff ff
	ff 03		 cmp	 DWORD PTR tv278[ebp], 3
  0054a	77 47		 ja	 SHORT $LN2@set_attack
  0054c	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR tv278[ebp]
  00552	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN62@set_attack[ecx*4]
$LN10@set_attack:

; 1601 : 		{
; 1602 : 			case 0:
; 1603 : 			{
; 1604 : 				angle = rad (-20.0);

  00559	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@beb2b8c2
  00561	f3 0f 11 45 e4	 movss	 DWORD PTR _angle$[ebp], xmm0

; 1605 : 
; 1606 : 				break;

  00566	eb 2b		 jmp	 SHORT $LN2@set_attack
$LN11@set_attack:

; 1607 : 			}
; 1608 : 			case 1:
; 1609 : 			{
; 1610 : 				angle = rad (45.0);

  00568	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f490fdb
  00570	f3 0f 11 45 e4	 movss	 DWORD PTR _angle$[ebp], xmm0

; 1611 : 
; 1612 : 				break;

  00575	eb 1c		 jmp	 SHORT $LN2@set_attack
$LN12@set_attack:

; 1613 : 			}
; 1614 : 			case 2:
; 1615 : 			{
; 1616 : 				angle = rad (20.0);

  00577	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3eb2b8c2
  0057f	f3 0f 11 45 e4	 movss	 DWORD PTR _angle$[ebp], xmm0

; 1617 : 
; 1618 : 				break;

  00584	eb 0d		 jmp	 SHORT $LN2@set_attack
$LN13@set_attack:

; 1619 : 			}
; 1620 : 			case 3:
; 1621 : 			{
; 1622 : 				angle = rad (-45.0);

  00586	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf490fdb
  0058e	f3 0f 11 45 e4	 movss	 DWORD PTR _angle$[ebp], xmm0
$LN2@set_attack:

; 1623 : 
; 1624 : 				break;
; 1625 : 			}
; 1626 : 		}
; 1627 : 
; 1628 : 		rotate_3d_vector (&direction, angle);

  00593	51		 push	 ecx
  00594	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _angle$[ebp]
  00599	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0059e	8d 45 c0	 lea	 eax, DWORD PTR _direction$[ebp]
  005a1	50		 push	 eax
  005a2	e8 00 00 00 00	 call	 ?rotate_3d_vector@@YGXPAUVEC3D@@M@Z ; rotate_3d_vector
$LN6@set_attack:

; 1629 : 	}
; 1630 : 
; 1631 : 	//
; 1632 : 	// calculate required distance of guide from target
; 1633 : 	//
; 1634 : 
; 1635 : 	velocity = get_local_entity_float_value (aggressor, FLOAT_TYPE_VELOCITY);

  005a7	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  005ab	74 0d		 je	 SHORT $LN46@set_attack
  005ad	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  005b0	8b 08		 mov	 ecx, DWORD PTR [eax]
  005b2	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv289[ebp], ecx
  005b8	eb 24		 jmp	 SHORT $LN47@set_attack
$LN46@set_attack:
  005ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  005c0	83 c2 6f	 add	 edx, 111		; 0000006fH
  005c3	52		 push	 edx
  005c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005ce	50		 push	 eax
  005cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005d4	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv289[ebp], 0
$LN47@set_attack:
  005de	b9 01 00 00 00	 mov	 ecx, 1
  005e3	85 c9		 test	 ecx, ecx
  005e5	74 0c		 je	 SHORT $LN48@set_attack
  005e7	c7 85 6c ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv297[ebp], 147 ; 00000093H
  005f1	eb 24		 jmp	 SHORT $LN49@set_attack
$LN48@set_attack:
  005f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  005f9	83 c2 6f	 add	 edx, 111		; 0000006fH
  005fc	52		 push	 edx
  005fd	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00602	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00607	50		 push	 eax
  00608	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0060d	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv297[ebp], 0
$LN49@set_attack:
  00617	68 93 00 00 00	 push	 147			; 00000093H
  0061c	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0061f	51		 push	 ecx
  00620	69 95 70 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv289[ebp], 700
  0062a	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv297[ebp]
  00630	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00637	ff d1		 call	 ecx
  00639	d9 5d dc	 fstp	 DWORD PTR _velocity$[ebp]

; 1636 : 
; 1637 : 	ASSERT (velocity > 0.0);

  0063c	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _velocity$[ebp]
  00641	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00649	77 18		 ja	 SHORT $LN14@set_attack
  0064b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00650	83 c0 71	 add	 eax, 113		; 00000071H
  00653	50		 push	 eax
  00654	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00659	68 00 00 00 00	 push	 OFFSET ??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@
  0065e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN14@set_attack:

; 1638 : 
; 1639 : 	time = FIXED_WING_EGRESS_TIME;

  00663	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  0066b	f3 0f 11 45 d8	 movss	 DWORD PTR _time$[ebp], xmm0

; 1640 : 
; 1641 : 	distance = velocity * time;

  00670	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _velocity$[ebp]
  00675	f3 0f 59 45 d8	 mulss	 xmm0, DWORD PTR _time$[ebp]
  0067a	f3 0f 11 45 e0	 movss	 DWORD PTR _distance$[ebp], xmm0

; 1642 : 
; 1643 : 	//
; 1644 : 	// calculate guide position
; 1645 : 	//
; 1646 : 
; 1647 : 	position.x = target_pos->x + (direction.x * distance);

  0067f	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _direction$[ebp]
  00684	f3 0f 59 45 e0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  00689	8b 45 b8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  0068c	f3 0f 58 00	 addss	 xmm0, DWORD PTR [eax]
  00690	f3 0f 11 45 cc	 movss	 DWORD PTR _position$[ebp], xmm0

; 1648 : 	position.y = 0.0;

  00695	0f 57 c0	 xorps	 xmm0, xmm0
  00698	f3 0f 11 45 d0	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1649 : 	position.z = target_pos->z + (direction.z * distance);

  0069d	f3 0f 10 45 c8	 movss	 xmm0, DWORD PTR _direction$[ebp+8]
  006a2	f3 0f 59 45 e0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  006a7	8b 45 b8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  006aa	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  006af	f3 0f 11 45 d4	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 1650 : 
; 1651 : 	bound_position_to_adjusted_map_volume (&position);

  006b4	8d 45 cc	 lea	 eax, DWORD PTR _position$[ebp]
  006b7	50		 push	 eax
  006b8	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_volume@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_volume

; 1652 : 
; 1653 : 	position.y = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_ATTACK_ALTITUDE);

  006bd	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  006c1	74 0d		 je	 SHORT $LN50@set_attack
  006c3	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  006c6	8b 08		 mov	 ecx, DWORD PTR [eax]
  006c8	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv327[ebp], ecx
  006ce	eb 27		 jmp	 SHORT $LN51@set_attack
$LN50@set_attack:
  006d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  006d6	81 c2 81 00 00
	00		 add	 edx, 129		; 00000081H
  006dc	52		 push	 edx
  006dd	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  006e2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006e7	50		 push	 eax
  006e8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006ed	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv327[ebp], 0
$LN51@set_attack:
  006f7	b9 01 00 00 00	 mov	 ecx, 1
  006fc	85 c9		 test	 ecx, ecx
  006fe	74 0c		 je	 SHORT $LN52@set_attack
  00700	c7 85 6c ff ff
	ff 0e 00 00 00	 mov	 DWORD PTR tv335[ebp], 14 ; 0000000eH
  0070a	eb 27		 jmp	 SHORT $LN53@set_attack
$LN52@set_attack:
  0070c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00712	81 c2 81 00 00
	00		 add	 edx, 129		; 00000081H
  00718	52		 push	 edx
  00719	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0071e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00723	50		 push	 eax
  00724	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00729	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv335[ebp], 0
$LN53@set_attack:
  00733	6a 00		 push	 0
  00735	51		 push	 ecx
  00736	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  0073b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00740	51		 push	 ecx
  00741	f3 0f 10 45 cc	 movss	 xmm0, DWORD PTR _position$[ebp]
  00746	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0074b	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00750	d9 9d 68 ff ff
	ff		 fstp	 DWORD PTR tv577[ebp]
  00756	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR tv577[ebp]
  0075e	6a 0e		 push	 14			; 0000000eH
  00760	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00763	51		 push	 ecx
  00764	69 95 70 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv327[ebp], 700
  0076e	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv335[ebp]
  00774	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  0077b	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR tv623[ebp], xmm0
  00783	ff d1		 call	 ecx
  00785	d9 9d 60 ff ff
	ff		 fstp	 DWORD PTR tv584[ebp]
  0078b	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR tv623[ebp]
  00793	f3 0f 58 85 60
	ff ff ff	 addss	 xmm0, DWORD PTR tv584[ebp]
  0079b	f3 0f 11 45 d0	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1654 : 
; 1655 : 	set_client_server_guide_entity_new_position (en, &position, NULL);

  007a0	6a 00		 push	 0
  007a2	8d 45 cc	 lea	 eax, DWORD PTR _position$[ebp]
  007a5	50		 push	 eax
  007a6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  007a9	51		 push	 ecx
  007aa	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1656 : 
; 1657 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_VELOCITY));

  007af	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  007b3	74 0d		 je	 SHORT $LN58@set_attack
  007b5	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  007b8	8b 08		 mov	 ecx, DWORD PTR [eax]
  007ba	89 8d 70 ff ff
	ff		 mov	 DWORD PTR tv370[ebp], ecx
  007c0	eb 27		 jmp	 SHORT $LN59@set_attack
$LN58@set_attack:
  007c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  007c8	81 c2 85 00 00
	00		 add	 edx, 133		; 00000085H
  007ce	52		 push	 edx
  007cf	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  007d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  007d9	50		 push	 eax
  007da	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007df	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv370[ebp], 0
$LN59@set_attack:
  007e9	b9 01 00 00 00	 mov	 ecx, 1
  007ee	85 c9		 test	 ecx, ecx
  007f0	74 0c		 je	 SHORT $LN60@set_attack
  007f2	c7 85 6c ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv378[ebp], 147 ; 00000093H
  007fc	eb 27		 jmp	 SHORT $LN61@set_attack
$LN60@set_attack:
  007fe	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00804	81 c2 85 00 00
	00		 add	 edx, 133		; 00000085H
  0080a	52		 push	 edx
  0080b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00810	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00815	50		 push	 eax
  00816	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0081b	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv378[ebp], 0
$LN61@set_attack:
  00825	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00829	74 0d		 je	 SHORT $LN54@set_attack
  0082b	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0082e	8b 11		 mov	 edx, DWORD PTR [ecx]
  00830	89 95 68 ff ff
	ff		 mov	 DWORD PTR tv351[ebp], edx
  00836	eb 26		 jmp	 SHORT $LN55@set_attack
$LN54@set_attack:
  00838	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  0083d	05 85 00 00 00	 add	 eax, 133		; 00000085H
  00842	50		 push	 eax
  00843	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00848	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0084e	51		 push	 ecx
  0084f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00854	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv351[ebp], 0
$LN55@set_attack:
  0085e	ba 01 00 00 00	 mov	 edx, 1
  00863	85 d2		 test	 edx, edx
  00865	74 0c		 je	 SHORT $LN56@set_attack
  00867	c7 85 64 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv359[ebp], 147 ; 00000093H
  00871	eb 26		 jmp	 SHORT $LN57@set_attack
$LN56@set_attack:
  00873	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_egress_position@@YGXPAUENTITY@@@Z@4JA
  00878	05 85 00 00 00	 add	 eax, 133		; 00000085H
  0087d	50		 push	 eax
  0087e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00883	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00889	51		 push	 ecx
  0088a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0088f	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv359[ebp], 0
$LN57@set_attack:
  00899	68 93 00 00 00	 push	 147			; 00000093H
  0089e	8b 55 ec	 mov	 edx, DWORD PTR _aggressor$[ebp]
  008a1	52		 push	 edx
  008a2	69 85 70 ff ff
	ff bc 02 00 00	 imul	 eax, DWORD PTR tv370[ebp], 700
  008ac	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR tv378[ebp]
  008b2	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  008b9	ff d2		 call	 edx
  008bb	d9 9d 60 ff ff
	ff		 fstp	 DWORD PTR tv609[ebp]
  008c1	f3 0f 10 85 60
	ff ff ff	 movss	 xmm0, DWORD PTR tv609[ebp]
  008c9	51		 push	 ecx
  008ca	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008cf	68 93 00 00 00	 push	 147			; 00000093H
  008d4	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  008d7	50		 push	 eax
  008d8	69 8d 68 ff ff
	ff 78 05 00 00	 imul	 ecx, DWORD PTR tv351[ebp], 1400
  008e2	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR tv359[ebp]
  008e8	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  008ef	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  008f5	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  008f8	ff d2		 call	 edx

; 1658 : 
; 1659 : 	//
; 1660 : 	// change guide reached criteria
; 1661 : 	//
; 1662 : 
; 1663 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_RADIUS, TRUE, get_local_entity_waypoint_database_reached_radius_value (wp, aggressor));

  008fa	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  008fd	50		 push	 eax
  008fe	8b 4d fc	 mov	 ecx, DWORD PTR _wp$[ebp]
  00901	51		 push	 ecx
  00902	e8 00 00 00 00	 call	 ?get_local_entity_waypoint_database_reached_radius_value@@YGMPAUENTITY@@0@Z ; get_local_entity_waypoint_database_reached_radius_value
  00907	51		 push	 ecx
  00908	d9 1c 24	 fstp	 DWORD PTR [esp]
  0090b	6a 01		 push	 1
  0090d	6a 00		 push	 0
  0090f	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00912	52		 push	 edx
  00913	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1664 : }

  00918	5f		 pop	 edi
  00919	5e		 pop	 esi
  0091a	5b		 pop	 ebx
  0091b	8b e5		 mov	 esp, ebp
  0091d	5d		 pop	 ebp
  0091e	c2 04 00	 ret	 4
  00921	0f 1f 00	 npad	 3
$LN62@set_attack:
  00924	00 00 00 00	 DD	 $LN10@set_attack
  00928	00 00 00 00	 DD	 $LN11@set_attack
  0092c	00 00 00 00	 DD	 $LN12@set_attack
  00930	00 00 00 00	 DD	 $LN13@set_attack
?set_attack_guide_egress_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_egress_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv549 = -144						; size = 4
tv524 = -144						; size = 4
tv559 = -140						; size = 4
tv351 = -140						; size = 4
tv517 = -136						; size = 4
tv343 = -136						; size = 4
tv82 = -136						; size = 4
tv370 = -132						; size = 4
tv327 = -132						; size = 4
tv303 = -132						; size = 4
tv280 = -132						; size = 4
tv242 = -132						; size = 4
tv214 = -132						; size = 4
tv173 = -132						; size = 4
tv151 = -132						; size = 4
tv129 = -132						; size = 4
tv76 = -132						; size = 4
tv362 = -128						; size = 4
tv319 = -128						; size = 4
tv295 = -128						; size = 4
tv272 = -128						; size = 4
tv234 = -128						; size = 4
tv206 = -128						; size = 4
tv194 = -128						; size = 4
tv165 = -128						; size = 4
tv143 = -128						; size = 4
tv89 = -128						; size = 4
tv69 = -128						; size = 4
$T1 = -124						; size = 4
$T2 = -120						; size = 4
_position$ = -52					; size = 12
_virtual_$ = -40					; size = 4
_weapon_effective_range$ = -36				; size = 4
_time$ = -32						; size = 4
_velocity$ = -28					; size = 4
_distance$ = -24					; size = 4
_selected_weapon$ = -20					; size = 4
_target$ = -16						; size = 4
_aggressor$ = -12					; size = 4
_task$ = -8						; size = 4
_wp$ = -4						; size = 4
_en$ = 8						; size = 4
?set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_disengage_position, COMDAT

; 1403 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 00 00
	00		 sub	 esp, 144		; 00000090H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1404 : 	entity
; 1405 : 		*wp,
; 1406 : 		*task,
; 1407 : 		*aggressor,
; 1408 : 		*target;
; 1409 : 
; 1410 : 	entity_sub_types
; 1411 : 		selected_weapon;
; 1412 : 
; 1413 : 	float
; 1414 : 		distance,
; 1415 : 		velocity,
; 1416 : 		time,
; 1417 : 		weapon_effective_range;
; 1418 : 
; 1419 : 	int
; 1420 : 		virtual_;
; 1421 : 
; 1422 : 	vec3d
; 1423 : 		position;
; 1424 : 
; 1425 : 	virtual_ = FALSE;

  0000c	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _virtual_$[ebp], 0

; 1426 : 
; 1427 : 	switch (get_local_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE))

  00013	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00017	74 0a		 je	 SHORT $LN13@set_attack
  00019	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0001c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001e	89 4d 80	 mov	 DWORD PTR tv69[ebp], ecx
  00021	eb 1d		 jmp	 SHORT $LN14@set_attack
$LN13@set_attack:
  00023	68 93 05 00 00	 push	 1427			; 00000593H
  00028	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	52		 push	 edx
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
$LN14@set_attack:
  00040	b8 01 00 00 00	 mov	 eax, 1
  00045	85 c0		 test	 eax, eax
  00047	74 0c		 je	 SHORT $LN15@set_attack
  00049	c7 85 7c ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv76[ebp], 52	; 00000034H
  00053	eb 20		 jmp	 SHORT $LN16@set_attack
$LN15@set_attack:
  00055	68 93 05 00 00	 push	 1427			; 00000593H
  0005a	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00065	51		 push	 ecx
  00066	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006b	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv76[ebp], 0
$LN16@set_attack:
  00075	6a 34		 push	 52			; 00000034H
  00077	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0007a	52		 push	 edx
  0007b	69 45 80 5c 04
	00 00		 imul	 eax, DWORD PTR tv69[ebp], 1116
  00082	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv76[ebp]
  00088	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0008f	ff d2		 call	 edx
  00091	89 85 78 ff ff
	ff		 mov	 DWORD PTR tv82[ebp], eax
  00097	83 bd 78 ff ff
	ff 0f		 cmp	 DWORD PTR tv82[ebp], 15	; 0000000fH
  0009e	74 12		 je	 SHORT $LN4@set_attack
  000a0	83 bd 78 ff ff
	ff 10		 cmp	 DWORD PTR tv82[ebp], 16	; 00000010H
  000a7	0f 84 9b 00 00
	00		 je	 $LN5@set_attack
  000ad	e9 33 01 00 00	 jmp	 $LN6@set_attack
$LN4@set_attack:

; 1428 : 	{
; 1429 : 		case ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_FIRE:
; 1430 : 		{
; 1431 : 			set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_DISENGAGE);

  000b2	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000b6	74 0a		 je	 SHORT $LN17@set_attack
  000b8	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000bb	8b 08		 mov	 ecx, DWORD PTR [eax]
  000bd	89 4d 80	 mov	 DWORD PTR tv89[ebp], ecx
  000c0	eb 21		 jmp	 SHORT $LN18@set_attack
$LN17@set_attack:
  000c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  000c8	83 c2 1c	 add	 edx, 28			; 0000001cH
  000cb	52		 push	 edx
  000cc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000d6	50		 push	 eax
  000d7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000dc	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN18@set_attack:
  000e3	b9 01 00 00 00	 mov	 ecx, 1
  000e8	85 c9		 test	 ecx, ecx
  000ea	74 0c		 je	 SHORT $LN19@set_attack
  000ec	c7 85 7c ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv129[ebp], 52 ; 00000034H
  000f6	eb 24		 jmp	 SHORT $LN20@set_attack
$LN19@set_attack:
  000f8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  000fe	83 c2 1c	 add	 edx, 28			; 0000001cH
  00101	52		 push	 edx
  00102	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00107	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0010c	50		 push	 eax
  0010d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00112	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv129[ebp], 0
$LN20@set_attack:
  0011c	6a 11		 push	 17			; 00000011H
  0011e	6a 34		 push	 52			; 00000034H
  00120	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00123	51		 push	 ecx
  00124	69 55 80 b8 08
	00 00		 imul	 edx, DWORD PTR tv89[ebp], 2232
  0012b	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv129[ebp]
  00131	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00138	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0013e	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  00141	ff d0		 call	 eax

; 1432 : 
; 1433 : 			break;

  00143	e9 31 01 00 00	 jmp	 $LN2@set_attack
$LN5@set_attack:

; 1434 : 		}
; 1435 : 
; 1436 : 		case ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_FIRE_VIRTUAL:
; 1437 : 		{
; 1438 : 			set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_DISENGAGE_VIRTUAL);

  00148	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0014c	74 0a		 je	 SHORT $LN21@set_attack
  0014e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00151	8b 08		 mov	 ecx, DWORD PTR [eax]
  00153	89 4d 80	 mov	 DWORD PTR tv143[ebp], ecx
  00156	eb 21		 jmp	 SHORT $LN22@set_attack
$LN21@set_attack:
  00158	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  0015e	83 c2 23	 add	 edx, 35			; 00000023H
  00161	52		 push	 edx
  00162	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00167	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0016c	50		 push	 eax
  0016d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00172	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv143[ebp], 0
$LN22@set_attack:
  00179	b9 01 00 00 00	 mov	 ecx, 1
  0017e	85 c9		 test	 ecx, ecx
  00180	74 0c		 je	 SHORT $LN23@set_attack
  00182	c7 85 7c ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv151[ebp], 52 ; 00000034H
  0018c	eb 24		 jmp	 SHORT $LN24@set_attack
$LN23@set_attack:
  0018e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  00194	83 c2 23	 add	 edx, 35			; 00000023H
  00197	52		 push	 edx
  00198	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0019d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001a2	50		 push	 eax
  001a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001a8	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv151[ebp], 0
$LN24@set_attack:
  001b2	6a 12		 push	 18			; 00000012H
  001b4	6a 34		 push	 52			; 00000034H
  001b6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001b9	51		 push	 ecx
  001ba	69 55 80 b8 08
	00 00		 imul	 edx, DWORD PTR tv143[ebp], 2232
  001c1	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv151[ebp]
  001c7	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  001ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  001d4	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  001d7	ff d0		 call	 eax

; 1439 : 
; 1440 : 			virtual_ = TRUE;

  001d9	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _virtual_$[ebp], 1

; 1441 : 
; 1442 : 			break;

  001e0	e9 94 00 00 00	 jmp	 $LN2@set_attack
$LN6@set_attack:

; 1443 : 		}
; 1444 : 
; 1445 : 		default:
; 1446 : 		{
; 1447 : 			debug_fatal ("AG_ATTCK: Invalid Guide Type %d", get_local_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE));

  001e5	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  001e9	74 0a		 je	 SHORT $LN25@set_attack
  001eb	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001ee	8b 08		 mov	 ecx, DWORD PTR [eax]
  001f0	89 4d 80	 mov	 DWORD PTR tv165[ebp], ecx
  001f3	eb 21		 jmp	 SHORT $LN26@set_attack
$LN25@set_attack:
  001f5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  001fb	83 c2 2c	 add	 edx, 44			; 0000002cH
  001fe	52		 push	 edx
  001ff	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00204	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00209	50		 push	 eax
  0020a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0020f	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv165[ebp], 0
$LN26@set_attack:
  00216	b9 01 00 00 00	 mov	 ecx, 1
  0021b	85 c9		 test	 ecx, ecx
  0021d	74 0c		 je	 SHORT $LN27@set_attack
  0021f	c7 85 7c ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv173[ebp], 52 ; 00000034H
  00229	eb 24		 jmp	 SHORT $LN28@set_attack
$LN27@set_attack:
  0022b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  00231	83 c2 2c	 add	 edx, 44			; 0000002cH
  00234	52		 push	 edx
  00235	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0023a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0023f	50		 push	 eax
  00240	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00245	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv173[ebp], 0
$LN28@set_attack:
  0024f	6a 34		 push	 52			; 00000034H
  00251	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00254	51		 push	 ecx
  00255	69 55 80 5c 04
	00 00		 imul	 edx, DWORD PTR tv165[ebp], 1116
  0025c	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv173[ebp]
  00262	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00269	ff d1		 call	 ecx
  0026b	50		 push	 eax
  0026c	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@OFNEFMNN@AG_ATTCK?3?5Invalid?5Guide?5Type?5?$CFd@
  00271	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00276	83 c4 08	 add	 esp, 8
$LN2@set_attack:

; 1448 : 
; 1449 : 			break;
; 1450 : 		}
; 1451 : 	}
; 1452 : 
; 1453 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00279	8d 45 f0	 lea	 eax, DWORD PTR _target$[ebp]
  0027c	50		 push	 eax
  0027d	8d 4d f8	 lea	 ecx, DWORD PTR _task$[ebp]
  00280	51		 push	 ecx
  00281	8d 55 fc	 lea	 edx, DWORD PTR _wp$[ebp]
  00284	52		 push	 edx
  00285	8d 45 f4	 lea	 eax, DWORD PTR _aggressor$[ebp]
  00288	50		 push	 eax
  00289	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0028c	51		 push	 ecx
  0028d	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1454 : 
; 1455 : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_FIXED_WING);

  00292	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00296	74 0a		 je	 SHORT $LN29@set_attack
  00298	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0029b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0029d	89 4d 80	 mov	 DWORD PTR tv194[ebp], ecx
  002a0	eb 21		 jmp	 SHORT $LN30@set_attack
$LN29@set_attack:
  002a2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  002a8	83 c2 34	 add	 edx, 52			; 00000034H
  002ab	52		 push	 edx
  002ac	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002b6	50		 push	 eax
  002b7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002bc	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv194[ebp], 0
$LN30@set_attack:
  002c3	83 7d 80 0a	 cmp	 DWORD PTR tv194[ebp], 10 ; 0000000aH
  002c7	74 18		 je	 SHORT $LN7@set_attack
  002c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  002ce	83 c0 34	 add	 eax, 52			; 00000034H
  002d1	50		 push	 eax
  002d2	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002d7	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CKNHJJLP@get_local_entity_type?5?$CIaggresso@
  002dc	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@set_attack:

; 1456 : 
; 1457 : 	//
; 1458 : 	// find aggressors selected weapon, and it's effective range
; 1459 : 	//
; 1460 : 
; 1461 : 	selected_weapon = get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON);

  002e1	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  002e5	74 0a		 je	 SHORT $LN31@set_attack
  002e7	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002ea	8b 08		 mov	 ecx, DWORD PTR [eax]
  002ec	89 4d 80	 mov	 DWORD PTR tv206[ebp], ecx
  002ef	eb 21		 jmp	 SHORT $LN32@set_attack
$LN31@set_attack:
  002f1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  002f7	83 c2 3a	 add	 edx, 58			; 0000003aH
  002fa	52		 push	 edx
  002fb	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00300	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00305	50		 push	 eax
  00306	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0030b	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv206[ebp], 0
$LN32@set_attack:
  00312	b9 01 00 00 00	 mov	 ecx, 1
  00317	85 c9		 test	 ecx, ecx
  00319	74 0c		 je	 SHORT $LN33@set_attack
  0031b	c7 85 7c ff ff
	ff b8 00 00 00	 mov	 DWORD PTR tv214[ebp], 184 ; 000000b8H
  00325	eb 24		 jmp	 SHORT $LN34@set_attack
$LN33@set_attack:
  00327	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  0032d	83 c2 3a	 add	 edx, 58			; 0000003aH
  00330	52		 push	 edx
  00331	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00336	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0033b	50		 push	 eax
  0033c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00341	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv214[ebp], 0
$LN34@set_attack:
  0034b	68 b8 00 00 00	 push	 184			; 000000b8H
  00350	8b 4d f4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00353	51		 push	 ecx
  00354	69 55 80 5c 04
	00 00		 imul	 edx, DWORD PTR tv206[ebp], 1116
  0035b	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv214[ebp]
  00361	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00368	ff d1		 call	 ecx
  0036a	89 45 ec	 mov	 DWORD PTR _selected_weapon$[ebp], eax

; 1462 : 
; 1463 : 	ASSERT (selected_weapon != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON);

  0036d	83 7d ec 00	 cmp	 DWORD PTR _selected_weapon$[ebp], 0
  00371	75 18		 jne	 SHORT $LN8@set_attack
  00373	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  00378	83 c0 3c	 add	 eax, 60			; 0000003cH
  0037b	50		 push	 eax
  0037c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00381	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@
  00386	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@set_attack:

; 1464 : 
; 1465 : 	weapon_effective_range = weapon_database [selected_weapon].effective_range;

  0038b	69 45 ec e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$[ebp], 224
  00392	f3 0f 10 80 94
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+148]
  0039a	f3 0f 11 45 dc	 movss	 DWORD PTR _weapon_effective_range$[ebp], xmm0

; 1466 : 
; 1467 : 	//
; 1468 : 	// calculate required distance of guide from target
; 1469 : 	//
; 1470 : 
; 1471 : 	velocity = get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY);

  0039f	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  003a3	74 0a		 je	 SHORT $LN35@set_attack
  003a5	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  003a8	8b 08		 mov	 ecx, DWORD PTR [eax]
  003aa	89 4d 80	 mov	 DWORD PTR tv234[ebp], ecx
  003ad	eb 21		 jmp	 SHORT $LN36@set_attack
$LN35@set_attack:
  003af	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  003b5	83 c2 44	 add	 edx, 68			; 00000044H
  003b8	52		 push	 edx
  003b9	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003c3	50		 push	 eax
  003c4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003c9	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv234[ebp], 0
$LN36@set_attack:
  003d0	b9 01 00 00 00	 mov	 ecx, 1
  003d5	85 c9		 test	 ecx, ecx
  003d7	74 0c		 je	 SHORT $LN37@set_attack
  003d9	c7 85 7c ff ff
	ff 19 00 00 00	 mov	 DWORD PTR tv242[ebp], 25 ; 00000019H
  003e3	eb 24		 jmp	 SHORT $LN38@set_attack
$LN37@set_attack:
  003e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  003eb	83 c2 44	 add	 edx, 68			; 00000044H
  003ee	52		 push	 edx
  003ef	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  003f9	50		 push	 eax
  003fa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003ff	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv242[ebp], 0
$LN38@set_attack:
  00409	6a 19		 push	 25			; 00000019H
  0040b	8b 4d f4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0040e	51		 push	 ecx
  0040f	69 55 80 bc 02
	00 00		 imul	 edx, DWORD PTR tv234[ebp], 700
  00416	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv242[ebp]
  0041c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00423	ff d1		 call	 ecx
  00425	d9 5d e4	 fstp	 DWORD PTR _velocity$[ebp]

; 1472 : 
; 1473 : 	ASSERT (velocity > 0.0);

  00428	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _velocity$[ebp]
  0042d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00435	77 18		 ja	 SHORT $LN9@set_attack
  00437	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  0043c	83 c0 46	 add	 eax, 70			; 00000046H
  0043f	50		 push	 eax
  00440	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00445	68 00 00 00 00	 push	 OFFSET ??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@
  0044a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN9@set_attack:

; 1474 : 
; 1475 : 	time = weapon_database [selected_weapon].burst_duration;

  0044f	69 45 ec e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$[ebp], 224
  00456	f3 0f 10 80 c4
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+196]
  0045e	f3 0f 11 45 e0	 movss	 DWORD PTR _time$[ebp], xmm0

; 1476 : 
; 1477 : 	time = max (time, 1.5f);

  00463	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  0046b	f3 0f 11 45 88	 movss	 DWORD PTR $T2[ebp], xmm0
  00470	8d 45 88	 lea	 eax, DWORD PTR $T2[ebp]
  00473	50		 push	 eax
  00474	8d 4d e0	 lea	 ecx, DWORD PTR _time$[ebp]
  00477	51		 push	 ecx
  00478	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  0047d	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00481	f3 0f 11 45 e0	 movss	 DWORD PTR _time$[ebp], xmm0

; 1478 : 
; 1479 : 	distance = weapon_effective_range - (velocity * time);

  00486	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _velocity$[ebp]
  0048b	f3 0f 59 45 e0	 mulss	 xmm0, DWORD PTR _time$[ebp]
  00490	f3 0f 10 4d dc	 movss	 xmm1, DWORD PTR _weapon_effective_range$[ebp]
  00495	f3 0f 5c c8	 subss	 xmm1, xmm0
  00499	f3 0f 11 4d e8	 movss	 DWORD PTR _distance$[ebp], xmm1

; 1480 : 
; 1481 : 	distance = max (distance, 250.0f);

  0049e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@437a0000
  004a6	f3 0f 11 45 84	 movss	 DWORD PTR $T1[ebp], xmm0
  004ab	8d 45 84	 lea	 eax, DWORD PTR $T1[ebp]
  004ae	50		 push	 eax
  004af	8d 4d e8	 lea	 ecx, DWORD PTR _distance$[ebp]
  004b2	51		 push	 ecx
  004b3	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  004b8	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  004bc	f3 0f 11 45 e8	 movss	 DWORD PTR _distance$[ebp], xmm0

; 1482 : 
; 1483 : 	//
; 1484 : 	// Set position
; 1485 : 	//
; 1486 : 
; 1487 : 	if (virtual_)

  004c1	83 7d d8 00	 cmp	 DWORD PTR _virtual_$[ebp], 0
  004c5	0f 84 9d 00 00
	00		 je	 $LN10@set_attack

; 1488 : 	{
; 1489 : 		//
; 1490 : 		// Use same lead distance as fire position
; 1491 : 		//
; 1492 : 
; 1493 : 		get_local_entity_vec3d (en, VEC3D_TYPE_RELATIVE_POSITION, &position);

  004cb	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  004cf	74 0a		 je	 SHORT $LN39@set_attack
  004d1	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  004d4	8b 08		 mov	 ecx, DWORD PTR [eax]
  004d6	89 4d 80	 mov	 DWORD PTR tv272[ebp], ecx
  004d9	eb 21		 jmp	 SHORT $LN40@set_attack
$LN39@set_attack:
  004db	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  004e1	83 c2 5a	 add	 edx, 90			; 0000005aH
  004e4	52		 push	 edx
  004e5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  004ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004ef	50		 push	 eax
  004f0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004f5	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv272[ebp], 0
$LN40@set_attack:
  004fc	b9 01 00 00 00	 mov	 ecx, 1
  00501	85 c9		 test	 ecx, ecx
  00503	74 0c		 je	 SHORT $LN41@set_attack
  00505	c7 85 7c ff ff
	ff 09 00 00 00	 mov	 DWORD PTR tv280[ebp], 9
  0050f	eb 24		 jmp	 SHORT $LN42@set_attack
$LN41@set_attack:
  00511	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  00517	83 c2 5a	 add	 edx, 90			; 0000005aH
  0051a	52		 push	 edx
  0051b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00520	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00525	50		 push	 eax
  00526	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0052b	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv280[ebp], 0
$LN42@set_attack:
  00535	8d 4d cc	 lea	 ecx, DWORD PTR _position$[ebp]
  00538	51		 push	 ecx
  00539	6a 09		 push	 9
  0053b	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0053e	52		 push	 edx
  0053f	6b 45 80 60	 imul	 eax, DWORD PTR tv272[ebp], 96
  00543	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv280[ebp]
  00549	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00550	ff d2		 call	 edx

; 1494 : 
; 1495 : 		set_client_server_guide_entity_new_position (en, &position, target);

  00552	8b 45 f0	 mov	 eax, DWORD PTR _target$[ebp]
  00555	50		 push	 eax
  00556	8d 4d cc	 lea	 ecx, DWORD PTR _position$[ebp]
  00559	51		 push	 ecx
  0055a	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0055d	52		 push	 edx
  0055e	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1496 : 	}
; 1497 : 	else

  00563	e9 6a 01 00 00	 jmp	 $LN11@set_attack
$LN10@set_attack:

; 1498 : 	{
; 1499 : 		//
; 1500 : 		// calculate vector of aggressor to target
; 1501 : 		//
; 1502 : 
; 1503 : 		get_local_entity_vec3d (target, VEC3D_TYPE_POSITION, &position);

  00568	83 7d f0 00	 cmp	 DWORD PTR _target$[ebp], 0
  0056c	74 0a		 je	 SHORT $LN43@set_attack
  0056e	8b 45 f0	 mov	 eax, DWORD PTR _target$[ebp]
  00571	8b 08		 mov	 ecx, DWORD PTR [eax]
  00573	89 4d 80	 mov	 DWORD PTR tv295[ebp], ecx
  00576	eb 21		 jmp	 SHORT $LN44@set_attack
$LN43@set_attack:
  00578	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  0057e	83 c2 64	 add	 edx, 100		; 00000064H
  00581	52		 push	 edx
  00582	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00587	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0058c	50		 push	 eax
  0058d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00592	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv295[ebp], 0
$LN44@set_attack:
  00599	b9 01 00 00 00	 mov	 ecx, 1
  0059e	85 c9		 test	 ecx, ecx
  005a0	74 0c		 je	 SHORT $LN45@set_attack
  005a2	c7 85 7c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv303[ebp], 8
  005ac	eb 24		 jmp	 SHORT $LN46@set_attack
$LN45@set_attack:
  005ae	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  005b4	83 c2 64	 add	 edx, 100		; 00000064H
  005b7	52		 push	 edx
  005b8	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005bd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  005c2	50		 push	 eax
  005c3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005c8	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv303[ebp], 0
$LN46@set_attack:
  005d2	8d 4d cc	 lea	 ecx, DWORD PTR _position$[ebp]
  005d5	51		 push	 ecx
  005d6	6a 08		 push	 8
  005d8	8b 55 f0	 mov	 edx, DWORD PTR _target$[ebp]
  005db	52		 push	 edx
  005dc	6b 45 80 60	 imul	 eax, DWORD PTR tv295[ebp], 96
  005e0	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv303[ebp]
  005e6	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  005ed	ff d2		 call	 edx

; 1504 : 
; 1505 : 		position.y = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_ALTITUDE);

  005ef	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  005f3	74 0a		 je	 SHORT $LN47@set_attack
  005f5	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  005f8	8b 08		 mov	 ecx, DWORD PTR [eax]
  005fa	89 4d 80	 mov	 DWORD PTR tv319[ebp], ecx
  005fd	eb 21		 jmp	 SHORT $LN48@set_attack
$LN47@set_attack:
  005ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  00605	83 c2 66	 add	 edx, 102		; 00000066H
  00608	52		 push	 edx
  00609	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0060e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00613	50		 push	 eax
  00614	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00619	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv319[ebp], 0
$LN48@set_attack:
  00620	b9 01 00 00 00	 mov	 ecx, 1
  00625	85 c9		 test	 ecx, ecx
  00627	74 0c		 je	 SHORT $LN49@set_attack
  00629	c7 85 7c ff ff
	ff 18 00 00 00	 mov	 DWORD PTR tv327[ebp], 24 ; 00000018H
  00633	eb 24		 jmp	 SHORT $LN50@set_attack
$LN49@set_attack:
  00635	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  0063b	83 c2 66	 add	 edx, 102		; 00000066H
  0063e	52		 push	 edx
  0063f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00644	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00649	50		 push	 eax
  0064a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0064f	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv327[ebp], 0
$LN50@set_attack:
  00659	6a 00		 push	 0
  0065b	51		 push	 ecx
  0065c	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  00661	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00666	51		 push	 ecx
  00667	f3 0f 10 45 cc	 movss	 xmm0, DWORD PTR _position$[ebp]
  0066c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00671	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00676	d9 9d 78 ff ff
	ff		 fstp	 DWORD PTR tv517[ebp]
  0067c	f3 0f 10 85 78
	ff ff ff	 movss	 xmm0, DWORD PTR tv517[ebp]
  00684	6a 18		 push	 24			; 00000018H
  00686	8b 4d f4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00689	51		 push	 ecx
  0068a	69 55 80 bc 02
	00 00		 imul	 edx, DWORD PTR tv319[ebp], 700
  00691	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv327[ebp]
  00697	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  0069e	f3 0f 11 85 74
	ff ff ff	 movss	 DWORD PTR tv559[ebp], xmm0
  006a6	ff d1		 call	 ecx
  006a8	d9 9d 70 ff ff
	ff		 fstp	 DWORD PTR tv524[ebp]
  006ae	f3 0f 10 85 74
	ff ff ff	 movss	 xmm0, DWORD PTR tv559[ebp]
  006b6	f3 0f 58 85 70
	ff ff ff	 addss	 xmm0, DWORD PTR tv524[ebp]
  006be	f3 0f 11 45 d0	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1506 : 
; 1507 : 		set_client_server_guide_entity_new_position (en, &position, NULL);

  006c3	6a 00		 push	 0
  006c5	8d 45 cc	 lea	 eax, DWORD PTR _position$[ebp]
  006c8	50		 push	 eax
  006c9	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  006cc	51		 push	 ecx
  006cd	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position
$LN11@set_attack:

; 1508 : 	}
; 1509 : 
; 1510 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_VELOCITY));

  006d2	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  006d6	74 0a		 je	 SHORT $LN55@set_attack
  006d8	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  006db	8b 08		 mov	 ecx, DWORD PTR [eax]
  006dd	89 4d 80	 mov	 DWORD PTR tv362[ebp], ecx
  006e0	eb 21		 jmp	 SHORT $LN56@set_attack
$LN55@set_attack:
  006e2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  006e8	83 c2 6b	 add	 edx, 107		; 0000006bH
  006eb	52		 push	 edx
  006ec	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  006f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006f6	50		 push	 eax
  006f7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006fc	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv362[ebp], 0
$LN56@set_attack:
  00703	b9 01 00 00 00	 mov	 ecx, 1
  00708	85 c9		 test	 ecx, ecx
  0070a	74 0c		 je	 SHORT $LN57@set_attack
  0070c	c7 85 7c ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv370[ebp], 147 ; 00000093H
  00716	eb 24		 jmp	 SHORT $LN58@set_attack
$LN57@set_attack:
  00718	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  0071e	83 c2 6b	 add	 edx, 107		; 0000006bH
  00721	52		 push	 edx
  00722	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00727	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0072c	50		 push	 eax
  0072d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00732	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv370[ebp], 0
$LN58@set_attack:
  0073c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00740	74 0d		 je	 SHORT $LN51@set_attack
  00742	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00745	8b 11		 mov	 edx, DWORD PTR [ecx]
  00747	89 95 78 ff ff
	ff		 mov	 DWORD PTR tv343[ebp], edx
  0074d	eb 24		 jmp	 SHORT $LN52@set_attack
$LN51@set_attack:
  0074f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  00754	83 c0 6b	 add	 eax, 107		; 0000006bH
  00757	50		 push	 eax
  00758	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0075d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00763	51		 push	 ecx
  00764	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00769	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv343[ebp], 0
$LN52@set_attack:
  00773	ba 01 00 00 00	 mov	 edx, 1
  00778	85 d2		 test	 edx, edx
  0077a	74 0c		 je	 SHORT $LN53@set_attack
  0077c	c7 85 74 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv351[ebp], 147 ; 00000093H
  00786	eb 24		 jmp	 SHORT $LN54@set_attack
$LN53@set_attack:
  00788	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z@4JA
  0078d	83 c0 6b	 add	 eax, 107		; 0000006bH
  00790	50		 push	 eax
  00791	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00796	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0079c	51		 push	 ecx
  0079d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007a2	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv351[ebp], 0
$LN54@set_attack:
  007ac	68 93 00 00 00	 push	 147			; 00000093H
  007b1	8b 55 f4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  007b4	52		 push	 edx
  007b5	69 45 80 bc 02
	00 00		 imul	 eax, DWORD PTR tv362[ebp], 700
  007bc	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv370[ebp]
  007c2	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  007c9	ff d2		 call	 edx
  007cb	d9 9d 70 ff ff
	ff		 fstp	 DWORD PTR tv549[ebp]
  007d1	f3 0f 10 85 70
	ff ff ff	 movss	 xmm0, DWORD PTR tv549[ebp]
  007d9	51		 push	 ecx
  007da	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007df	68 93 00 00 00	 push	 147			; 00000093H
  007e4	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  007e7	50		 push	 eax
  007e8	69 8d 78 ff ff
	ff 78 05 00 00	 imul	 ecx, DWORD PTR tv343[ebp], 1400
  007f2	8b 95 74 ff ff
	ff		 mov	 edx, DWORD PTR tv351[ebp]
  007f8	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  007ff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00805	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  00808	ff d2		 call	 edx

; 1511 : 
; 1512 : 	//
; 1513 : 	// change guide reached criteria
; 1514 : 	//
; 1515 : 
; 1516 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_RADIUS, TRUE, distance);

  0080a	51		 push	 ecx
  0080b	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _distance$[ebp]
  00810	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00815	6a 01		 push	 1
  00817	6a 00		 push	 0
  00819	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0081c	50		 push	 eax
  0081d	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1517 : }

  00822	5f		 pop	 edi
  00823	5e		 pop	 esi
  00824	5b		 pop	 ebx
  00825	8b e5		 mov	 esp, ebp
  00827	5d		 pop	 ebp
  00828	c2 04 00	 ret	 4
?set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_disengage_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_fire_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv577 = -124						; size = 4
tv534 = -124						; size = 4
tv459 = -124						; size = 4
tv592 = -120						; size = 4
tv356 = -120						; size = 4
tv167 = -120						; size = 4
tv527 = -116						; size = 4
tv348 = -116						; size = 4
tv159 = -116						; size = 4
tv375 = -112						; size = 4
tv327 = -112						; size = 4
tv303 = -112						; size = 4
tv275 = -112						; size = 4
tv251 = -112						; size = 4
tv223 = -112						; size = 4
tv186 = -112						; size = 4
tv144 = -112						; size = 4
tv90 = -112						; size = 4
tv75 = -112						; size = 4
tv396 = -108						; size = 4
tv367 = -108						; size = 4
tv319 = -108						; size = 4
tv295 = -108						; size = 4
tv267 = -108						; size = 4
tv243 = -108						; size = 4
tv215 = -108						; size = 4
tv178 = -108						; size = 4
tv136 = -108						; size = 4
tv82 = -108						; size = 4
tv74 = -108						; size = 4
_target_pos$1 = -40					; size = 4
_weapon_effective_range$2 = -36				; size = 4
_selected_weapon$3 = -32				; size = 4
_target$ = -28						; size = 4
_aggressor$ = -24					; size = 4
_task$ = -20						; size = 4
_wp$ = -16						; size = 4
_position$ = -12					; size = 12
_en$ = 8						; size = 4
?set_attack_guide_fire_position@@YGXPAUENTITY@@@Z PROC	; set_attack_guide_fire_position, COMDAT

; 1286 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1287 : 	vec3d
; 1288 : 		position;
; 1289 : 
; 1290 : 	entity
; 1291 : 		*wp,
; 1292 : 		*task,
; 1293 : 		*aggressor,
; 1294 : 		*target;
; 1295 : 
; 1296 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00009	8d 45 e4	 lea	 eax, DWORD PTR _target$[ebp]
  0000c	50		 push	 eax
  0000d	8d 4d ec	 lea	 ecx, DWORD PTR _task$[ebp]
  00010	51		 push	 ecx
  00011	8d 55 f0	 lea	 edx, DWORD PTR _wp$[ebp]
  00014	52		 push	 edx
  00015	8d 45 e8	 lea	 eax, DWORD PTR _aggressor$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1297 : 
; 1298 : 	switch (get_local_entity_type (aggressor))

  00022	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00026	74 0a		 je	 SHORT $LN11@set_attack
  00028	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0002b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002d	89 4d 94	 mov	 DWORD PTR tv74[ebp], ecx
  00030	eb 1d		 jmp	 SHORT $LN12@set_attack
$LN11@set_attack:
  00032	68 12 05 00 00	 push	 1298			; 00000512H
  00037	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00042	52		 push	 edx
  00043	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00048	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN12@set_attack:
  0004f	8b 45 94	 mov	 eax, DWORD PTR tv74[ebp]
  00052	89 45 90	 mov	 DWORD PTR tv75[ebp], eax
  00055	83 7d 90 0a	 cmp	 DWORD PTR tv75[ebp], 10	; 0000000aH
  00059	0f 84 80 02 00
	00		 je	 $LN5@set_attack
  0005f	83 7d 90 0e	 cmp	 DWORD PTR tv75[ebp], 14	; 0000000eH
  00063	74 05		 je	 SHORT $LN4@set_attack
  00065	e9 08 07 00 00	 jmp	 $LN9@set_attack
$LN4@set_attack:

; 1299 : 	{
; 1300 : 		case ENTITY_TYPE_HELICOPTER:
; 1301 : 		{
; 1302 : 			set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_FIRE);

  0006a	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0006e	74 0a		 je	 SHORT $LN13@set_attack
  00070	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00073	8b 08		 mov	 ecx, DWORD PTR [eax]
  00075	89 4d 94	 mov	 DWORD PTR tv82[ebp], ecx
  00078	eb 21		 jmp	 SHORT $LN14@set_attack
$LN13@set_attack:
  0007a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  00080	83 c2 10	 add	 edx, 16			; 00000010H
  00083	52		 push	 edx
  00084	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00089	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0008e	50		 push	 eax
  0008f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00094	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN14@set_attack:
  0009b	b9 01 00 00 00	 mov	 ecx, 1
  000a0	85 c9		 test	 ecx, ecx
  000a2	74 09		 je	 SHORT $LN15@set_attack
  000a4	c7 45 90 34 00
	00 00		 mov	 DWORD PTR tv90[ebp], 52	; 00000034H
  000ab	eb 21		 jmp	 SHORT $LN16@set_attack
$LN15@set_attack:
  000ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  000b3	83 c2 10	 add	 edx, 16			; 00000010H
  000b6	52		 push	 edx
  000b7	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000c1	50		 push	 eax
  000c2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c7	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN16@set_attack:
  000ce	6a 0f		 push	 15			; 0000000fH
  000d0	6a 34		 push	 52			; 00000034H
  000d2	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000d5	51		 push	 ecx
  000d6	69 55 94 b8 08
	00 00		 imul	 edx, DWORD PTR tv82[ebp], 2232
  000dd	8b 45 90	 mov	 eax, DWORD PTR tv90[ebp]
  000e0	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  000e7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000ed	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  000f0	ff d0		 call	 eax

; 1303 : 
; 1304 : 			get_local_entity_vec3d (aggressor, VEC3D_TYPE_POSITION, &position);

  000f2	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000f6	74 0a		 je	 SHORT $LN17@set_attack
  000f8	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000fb	8b 08		 mov	 ecx, DWORD PTR [eax]
  000fd	89 4d 94	 mov	 DWORD PTR tv136[ebp], ecx
  00100	eb 21		 jmp	 SHORT $LN18@set_attack
$LN17@set_attack:
  00102	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  00108	83 c2 12	 add	 edx, 18			; 00000012H
  0010b	52		 push	 edx
  0010c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00111	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00116	50		 push	 eax
  00117	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011c	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv136[ebp], 0
$LN18@set_attack:
  00123	b9 01 00 00 00	 mov	 ecx, 1
  00128	85 c9		 test	 ecx, ecx
  0012a	74 09		 je	 SHORT $LN19@set_attack
  0012c	c7 45 90 08 00
	00 00		 mov	 DWORD PTR tv144[ebp], 8
  00133	eb 21		 jmp	 SHORT $LN20@set_attack
$LN19@set_attack:
  00135	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  0013b	83 c2 12	 add	 edx, 18			; 00000012H
  0013e	52		 push	 edx
  0013f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00144	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00149	50		 push	 eax
  0014a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0014f	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv144[ebp], 0
$LN20@set_attack:
  00156	8d 4d f4	 lea	 ecx, DWORD PTR _position$[ebp]
  00159	51		 push	 ecx
  0015a	6a 08		 push	 8
  0015c	8b 55 e8	 mov	 edx, DWORD PTR _aggressor$[ebp]
  0015f	52		 push	 edx
  00160	6b 45 94 60	 imul	 eax, DWORD PTR tv136[ebp], 96
  00164	8b 4d 90	 mov	 ecx, DWORD PTR tv144[ebp]
  00167	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0016e	ff d2		 call	 edx

; 1305 : 
; 1306 : //			position.y += INITIAL_BOB_UP_DISTANCE;
; 1307 : 
; 1308 : 			set_client_server_guide_entity_new_position (en, &position, NULL);

  00170	6a 00		 push	 0
  00172	8d 45 f4	 lea	 eax, DWORD PTR _position$[ebp]
  00175	50		 push	 eax
  00176	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00179	51		 push	 ecx
  0017a	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1309 : 
; 1310 : 			set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY));

  0017f	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00183	74 0a		 je	 SHORT $LN25@set_attack
  00185	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00188	8b 08		 mov	 ecx, DWORD PTR [eax]
  0018a	89 4d 94	 mov	 DWORD PTR tv178[ebp], ecx
  0018d	eb 21		 jmp	 SHORT $LN26@set_attack
$LN25@set_attack:
  0018f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  00195	83 c2 18	 add	 edx, 24			; 00000018H
  00198	52		 push	 edx
  00199	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0019e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001a3	50		 push	 eax
  001a4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001a9	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv178[ebp], 0
$LN26@set_attack:
  001b0	b9 01 00 00 00	 mov	 ecx, 1
  001b5	85 c9		 test	 ecx, ecx
  001b7	74 09		 je	 SHORT $LN27@set_attack
  001b9	c7 45 90 19 00
	00 00		 mov	 DWORD PTR tv186[ebp], 25 ; 00000019H
  001c0	eb 21		 jmp	 SHORT $LN28@set_attack
$LN27@set_attack:
  001c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  001c8	83 c2 18	 add	 edx, 24			; 00000018H
  001cb	52		 push	 edx
  001cc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  001d6	50		 push	 eax
  001d7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001dc	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv186[ebp], 0
$LN28@set_attack:
  001e3	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  001e7	74 0a		 je	 SHORT $LN21@set_attack
  001e9	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001ec	8b 11		 mov	 edx, DWORD PTR [ecx]
  001ee	89 55 8c	 mov	 DWORD PTR tv159[ebp], edx
  001f1	eb 21		 jmp	 SHORT $LN22@set_attack
$LN21@set_attack:
  001f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  001f8	83 c0 18	 add	 eax, 24			; 00000018H
  001fb	50		 push	 eax
  001fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00201	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00207	51		 push	 ecx
  00208	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0020d	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv159[ebp], 0
$LN22@set_attack:
  00214	ba 01 00 00 00	 mov	 edx, 1
  00219	85 d2		 test	 edx, edx
  0021b	74 09		 je	 SHORT $LN23@set_attack
  0021d	c7 45 88 93 00
	00 00		 mov	 DWORD PTR tv167[ebp], 147 ; 00000093H
  00224	eb 21		 jmp	 SHORT $LN24@set_attack
$LN23@set_attack:
  00226	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  0022b	83 c0 18	 add	 eax, 24			; 00000018H
  0022e	50		 push	 eax
  0022f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00234	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0023a	51		 push	 ecx
  0023b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00240	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv167[ebp], 0
$LN24@set_attack:
  00247	6a 19		 push	 25			; 00000019H
  00249	8b 55 e8	 mov	 edx, DWORD PTR _aggressor$[ebp]
  0024c	52		 push	 edx
  0024d	69 45 94 bc 02
	00 00		 imul	 eax, DWORD PTR tv178[ebp], 700
  00254	8b 4d 90	 mov	 ecx, DWORD PTR tv186[ebp]
  00257	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  0025e	ff d2		 call	 edx
  00260	d9 5d 84	 fstp	 DWORD PTR tv459[ebp]
  00263	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR tv459[ebp]
  00268	51		 push	 ecx
  00269	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0026e	68 93 00 00 00	 push	 147			; 00000093H
  00273	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00276	50		 push	 eax
  00277	69 4d 8c 78 05
	00 00		 imul	 ecx, DWORD PTR tv159[ebp], 1400
  0027e	8b 55 88	 mov	 edx, DWORD PTR tv167[ebp]
  00281	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  00288	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0028e	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  00291	ff d2		 call	 edx

; 1311 : 
; 1312 : 			//
; 1313 : 			// change guide reached criteria
; 1314 : 			//
; 1315 : 
; 1316 : 			set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, TRUE, 2.0);

  00293	51		 push	 ecx
  00294	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40000000
  0029c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002a1	6a 01		 push	 1
  002a3	6a 02		 push	 2
  002a5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002a8	50		 push	 eax
  002a9	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1317 : 
; 1318 : 			set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, FALSE, 0.0);

  002ae	51		 push	 ecx
  002af	0f 57 c0	 xorps	 xmm0, xmm0
  002b2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002b7	6a 00		 push	 0
  002b9	6a 01		 push	 1
  002bb	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002be	50		 push	 eax
  002bf	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1319 : 
; 1320 : 			set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, TRUE, 0.0);

  002c4	51		 push	 ecx
  002c5	0f 57 c0	 xorps	 xmm0, xmm0
  002c8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002cd	6a 01		 push	 1
  002cf	6a 05		 push	 5
  002d1	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002d4	50		 push	 eax
  002d5	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1321 : 
; 1322 : 			break;

  002da	e9 d5 04 00 00	 jmp	 $LN2@set_attack
$LN5@set_attack:

; 1323 : 		}
; 1324 : 
; 1325 : 		case ENTITY_TYPE_FIXED_WING:
; 1326 : 		{
; 1327 : 			entity_sub_types
; 1328 : 				selected_weapon;
; 1329 : 
; 1330 : 			float
; 1331 : 				weapon_effective_range;
; 1332 : 
; 1333 : 			vec3d
; 1334 : 				*target_pos;
; 1335 : 
; 1336 : 			//
; 1337 : 			// find aggressors selected weapon, and it's max range
; 1338 : 			//
; 1339 : 
; 1340 : 			selected_weapon = get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON);

  002df	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  002e3	74 0a		 je	 SHORT $LN29@set_attack
  002e5	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002e8	8b 08		 mov	 ecx, DWORD PTR [eax]
  002ea	89 4d 94	 mov	 DWORD PTR tv215[ebp], ecx
  002ed	eb 21		 jmp	 SHORT $LN30@set_attack
$LN29@set_attack:
  002ef	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  002f5	83 c2 36	 add	 edx, 54			; 00000036H
  002f8	52		 push	 edx
  002f9	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00303	50		 push	 eax
  00304	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00309	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv215[ebp], 0
$LN30@set_attack:
  00310	b9 01 00 00 00	 mov	 ecx, 1
  00315	85 c9		 test	 ecx, ecx
  00317	74 09		 je	 SHORT $LN31@set_attack
  00319	c7 45 90 b8 00
	00 00		 mov	 DWORD PTR tv223[ebp], 184 ; 000000b8H
  00320	eb 21		 jmp	 SHORT $LN32@set_attack
$LN31@set_attack:
  00322	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  00328	83 c2 36	 add	 edx, 54			; 00000036H
  0032b	52		 push	 edx
  0032c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00331	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00336	50		 push	 eax
  00337	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0033c	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv223[ebp], 0
$LN32@set_attack:
  00343	68 b8 00 00 00	 push	 184			; 000000b8H
  00348	8b 4d e8	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0034b	51		 push	 ecx
  0034c	69 55 94 5c 04
	00 00		 imul	 edx, DWORD PTR tv215[ebp], 1116
  00353	8b 45 90	 mov	 eax, DWORD PTR tv223[ebp]
  00356	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0035d	ff d1		 call	 ecx
  0035f	89 45 e0	 mov	 DWORD PTR _selected_weapon$3[ebp], eax

; 1341 : 
; 1342 : 			ASSERT (selected_weapon != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON);

  00362	83 7d e0 00	 cmp	 DWORD PTR _selected_weapon$3[ebp], 0
  00366	75 18		 jne	 SHORT $LN6@set_attack
  00368	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  0036d	83 c0 38	 add	 eax, 56			; 00000038H
  00370	50		 push	 eax
  00371	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00376	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@
  0037b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@set_attack:

; 1343 : 
; 1344 : 			weapon_effective_range = weapon_database [selected_weapon].effective_range;

  00380	69 45 e0 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$3[ebp], 224
  00387	f3 0f 10 80 94
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+148]
  0038f	f3 0f 11 45 dc	 movss	 DWORD PTR _weapon_effective_range$2[ebp], xmm0

; 1345 : 
; 1346 : 			//
; 1347 : 			// calculate vector of aggressor to target
; 1348 : 			//
; 1349 : 
; 1350 : 			target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00394	83 7d e4 00	 cmp	 DWORD PTR _target$[ebp], 0
  00398	74 0a		 je	 SHORT $LN33@set_attack
  0039a	8b 45 e4	 mov	 eax, DWORD PTR _target$[ebp]
  0039d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0039f	89 4d 94	 mov	 DWORD PTR tv243[ebp], ecx
  003a2	eb 21		 jmp	 SHORT $LN34@set_attack
$LN33@set_attack:
  003a4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  003aa	83 c2 40	 add	 edx, 64			; 00000040H
  003ad	52		 push	 edx
  003ae	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003b8	50		 push	 eax
  003b9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003be	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv243[ebp], 0
$LN34@set_attack:
  003c5	b9 01 00 00 00	 mov	 ecx, 1
  003ca	85 c9		 test	 ecx, ecx
  003cc	74 09		 je	 SHORT $LN35@set_attack
  003ce	c7 45 90 08 00
	00 00		 mov	 DWORD PTR tv251[ebp], 8
  003d5	eb 21		 jmp	 SHORT $LN36@set_attack
$LN35@set_attack:
  003d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  003dd	83 c2 40	 add	 edx, 64			; 00000040H
  003e0	52		 push	 edx
  003e1	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  003eb	50		 push	 eax
  003ec	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003f1	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv251[ebp], 0
$LN36@set_attack:
  003f8	6a 08		 push	 8
  003fa	8b 4d e4	 mov	 ecx, DWORD PTR _target$[ebp]
  003fd	51		 push	 ecx
  003fe	6b 55 94 60	 imul	 edx, DWORD PTR tv243[ebp], 96
  00402	8b 45 90	 mov	 eax, DWORD PTR tv251[ebp]
  00405	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0040c	ff d1		 call	 ecx
  0040e	89 45 d8	 mov	 DWORD PTR _target_pos$1[ebp], eax

; 1351 : 
; 1352 : 			if (weapon_database [selected_weapon].guidance_type != WEAPON_GUIDANCE_TYPE_NONE)

  00411	69 45 e0 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$3[ebp], 224
  00418	83 b8 18 00 00
	00 00		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+24], 0
  0041f	0f 84 6e 01 00
	00		 je	 $LN7@set_attack

; 1353 : 			{
; 1354 : 				//
; 1355 : 				// Make Jet Fly level and high for guided AG missiles
; 1356 : 				//
; 1357 : 
; 1358 : 				set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_FIRE);

  00425	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00429	74 0a		 je	 SHORT $LN37@set_attack
  0042b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0042e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00430	89 4d 94	 mov	 DWORD PTR tv267[ebp], ecx
  00433	eb 21		 jmp	 SHORT $LN38@set_attack
$LN37@set_attack:
  00435	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  0043b	83 c2 48	 add	 edx, 72			; 00000048H
  0043e	52		 push	 edx
  0043f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00444	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00449	50		 push	 eax
  0044a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0044f	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv267[ebp], 0
$LN38@set_attack:
  00456	b9 01 00 00 00	 mov	 ecx, 1
  0045b	85 c9		 test	 ecx, ecx
  0045d	74 09		 je	 SHORT $LN39@set_attack
  0045f	c7 45 90 34 00
	00 00		 mov	 DWORD PTR tv275[ebp], 52 ; 00000034H
  00466	eb 21		 jmp	 SHORT $LN40@set_attack
$LN39@set_attack:
  00468	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  0046e	83 c2 48	 add	 edx, 72			; 00000048H
  00471	52		 push	 edx
  00472	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00477	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0047c	50		 push	 eax
  0047d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00482	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv275[ebp], 0
$LN40@set_attack:
  00489	6a 0f		 push	 15			; 0000000fH
  0048b	6a 34		 push	 52			; 00000034H
  0048d	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00490	51		 push	 ecx
  00491	69 55 94 b8 08
	00 00		 imul	 edx, DWORD PTR tv267[ebp], 2232
  00498	8b 45 90	 mov	 eax, DWORD PTR tv275[ebp]
  0049b	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  004a2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  004a8	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  004ab	ff d0		 call	 eax

; 1359 : 
; 1360 : 				position.x = target_pos->x;

  004ad	8b 45 d8	 mov	 eax, DWORD PTR _target_pos$1[ebp]
  004b0	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  004b4	f3 0f 11 45 f4	 movss	 DWORD PTR _position$[ebp], xmm0

; 1361 : 				position.z = target_pos->z;

  004b9	8b 45 d8	 mov	 eax, DWORD PTR _target_pos$1[ebp]
  004bc	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  004c1	f3 0f 11 45 fc	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 1362 : 
; 1363 : 				position.y = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_ALTITUDE);

  004c6	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  004ca	74 0a		 je	 SHORT $LN41@set_attack
  004cc	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  004cf	8b 08		 mov	 ecx, DWORD PTR [eax]
  004d1	89 4d 94	 mov	 DWORD PTR tv295[ebp], ecx
  004d4	eb 21		 jmp	 SHORT $LN42@set_attack
$LN41@set_attack:
  004d6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  004dc	83 c2 4d	 add	 edx, 77			; 0000004dH
  004df	52		 push	 edx
  004e0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  004e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004ea	50		 push	 eax
  004eb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004f0	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv295[ebp], 0
$LN42@set_attack:
  004f7	b9 01 00 00 00	 mov	 ecx, 1
  004fc	85 c9		 test	 ecx, ecx
  004fe	74 09		 je	 SHORT $LN43@set_attack
  00500	c7 45 90 18 00
	00 00		 mov	 DWORD PTR tv303[ebp], 24 ; 00000018H
  00507	eb 21		 jmp	 SHORT $LN44@set_attack
$LN43@set_attack:
  00509	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  0050f	83 c2 4d	 add	 edx, 77			; 0000004dH
  00512	52		 push	 edx
  00513	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00518	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0051d	50		 push	 eax
  0051e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00523	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv303[ebp], 0
$LN44@set_attack:
  0052a	6a 00		 push	 0
  0052c	51		 push	 ecx
  0052d	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  00532	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00537	51		 push	 ecx
  00538	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _position$[ebp]
  0053d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00542	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  00547	d9 5d 8c	 fstp	 DWORD PTR tv527[ebp]
  0054a	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR tv527[ebp]
  0054f	6a 18		 push	 24			; 00000018H
  00551	8b 4d e8	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00554	51		 push	 ecx
  00555	69 55 94 bc 02
	00 00		 imul	 edx, DWORD PTR tv295[ebp], 700
  0055c	8b 45 90	 mov	 eax, DWORD PTR tv303[ebp]
  0055f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00566	f3 0f 11 45 88	 movss	 DWORD PTR tv592[ebp], xmm0
  0056b	ff d1		 call	 ecx
  0056d	d9 5d 84	 fstp	 DWORD PTR tv534[ebp]
  00570	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR tv592[ebp]
  00575	f3 0f 58 45 84	 addss	 xmm0, DWORD PTR tv534[ebp]
  0057a	f3 0f 11 45 f8	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1364 : 
; 1365 : 				set_client_server_guide_entity_new_position (en, &position, NULL);

  0057f	6a 00		 push	 0
  00581	8d 45 f4	 lea	 eax, DWORD PTR _position$[ebp]
  00584	50		 push	 eax
  00585	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00588	51		 push	 ecx
  00589	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1366 : 			}
; 1367 : 			else

  0058e	e9 ae 00 00 00	 jmp	 $LN8@set_attack
$LN7@set_attack:

; 1368 : 			{
; 1369 : 				//
; 1370 : 				// Head for intercept point (virtual)
; 1371 : 				//
; 1372 : 
; 1373 : 				set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_FIRE_VIRTUAL);

  00593	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00597	74 0a		 je	 SHORT $LN45@set_attack
  00599	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0059c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0059e	89 4d 94	 mov	 DWORD PTR tv319[ebp], ecx
  005a1	eb 21		 jmp	 SHORT $LN46@set_attack
$LN45@set_attack:
  005a3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  005a9	83 c2 57	 add	 edx, 87			; 00000057H
  005ac	52		 push	 edx
  005ad	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005b7	50		 push	 eax
  005b8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005bd	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv319[ebp], 0
$LN46@set_attack:
  005c4	b9 01 00 00 00	 mov	 ecx, 1
  005c9	85 c9		 test	 ecx, ecx
  005cb	74 09		 je	 SHORT $LN47@set_attack
  005cd	c7 45 90 34 00
	00 00		 mov	 DWORD PTR tv327[ebp], 52 ; 00000034H
  005d4	eb 21		 jmp	 SHORT $LN48@set_attack
$LN47@set_attack:
  005d6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  005dc	83 c2 57	 add	 edx, 87			; 00000057H
  005df	52		 push	 edx
  005e0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  005ea	50		 push	 eax
  005eb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005f0	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv327[ebp], 0
$LN48@set_attack:
  005f7	6a 10		 push	 16			; 00000010H
  005f9	6a 34		 push	 52			; 00000034H
  005fb	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  005fe	51		 push	 ecx
  005ff	69 55 94 b8 08
	00 00		 imul	 edx, DWORD PTR tv319[ebp], 2232
  00606	8b 45 90	 mov	 eax, DWORD PTR tv327[ebp]
  00609	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00610	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00616	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  00619	ff d0		 call	 eax

; 1374 : 
; 1375 : 				calculate_attack_guide_intercept_point (aggressor, target, selected_weapon, &position);

  0061b	8d 45 f4	 lea	 eax, DWORD PTR _position$[ebp]
  0061e	50		 push	 eax
  0061f	8b 4d e0	 mov	 ecx, DWORD PTR _selected_weapon$3[ebp]
  00622	51		 push	 ecx
  00623	8b 55 e4	 mov	 edx, DWORD PTR _target$[ebp]
  00626	52		 push	 edx
  00627	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0062a	50		 push	 eax
  0062b	e8 00 00 00 00	 call	 ?calculate_attack_guide_intercept_point@@YGXPAUENTITY@@0HPAUVEC3D@@@Z ; calculate_attack_guide_intercept_point

; 1376 : 
; 1377 : 				set_client_server_guide_entity_new_position (en, &position, target);

  00630	8b 45 e4	 mov	 eax, DWORD PTR _target$[ebp]
  00633	50		 push	 eax
  00634	8d 4d f4	 lea	 ecx, DWORD PTR _position$[ebp]
  00637	51		 push	 ecx
  00638	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0063b	52		 push	 edx
  0063c	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position
$LN8@set_attack:

; 1378 : 			}
; 1379 : 
; 1380 : 			set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_VELOCITY));

  00641	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00645	74 0a		 je	 SHORT $LN53@set_attack
  00647	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0064a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0064c	89 4d 94	 mov	 DWORD PTR tv367[ebp], ecx
  0064f	eb 21		 jmp	 SHORT $LN54@set_attack
$LN53@set_attack:
  00651	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  00657	83 c2 5e	 add	 edx, 94			; 0000005eH
  0065a	52		 push	 edx
  0065b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00660	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00665	50		 push	 eax
  00666	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0066b	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv367[ebp], 0
$LN54@set_attack:
  00672	b9 01 00 00 00	 mov	 ecx, 1
  00677	85 c9		 test	 ecx, ecx
  00679	74 09		 je	 SHORT $LN55@set_attack
  0067b	c7 45 90 93 00
	00 00		 mov	 DWORD PTR tv375[ebp], 147 ; 00000093H
  00682	eb 21		 jmp	 SHORT $LN56@set_attack
$LN55@set_attack:
  00684	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  0068a	83 c2 5e	 add	 edx, 94			; 0000005eH
  0068d	52		 push	 edx
  0068e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00693	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00698	50		 push	 eax
  00699	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0069e	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv375[ebp], 0
$LN56@set_attack:
  006a5	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  006a9	74 0a		 je	 SHORT $LN49@set_attack
  006ab	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  006ae	8b 11		 mov	 edx, DWORD PTR [ecx]
  006b0	89 55 8c	 mov	 DWORD PTR tv348[ebp], edx
  006b3	eb 21		 jmp	 SHORT $LN50@set_attack
$LN49@set_attack:
  006b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  006ba	83 c0 5e	 add	 eax, 94			; 0000005eH
  006bd	50		 push	 eax
  006be	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  006c3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006c9	51		 push	 ecx
  006ca	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006cf	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv348[ebp], 0
$LN50@set_attack:
  006d6	ba 01 00 00 00	 mov	 edx, 1
  006db	85 d2		 test	 edx, edx
  006dd	74 09		 je	 SHORT $LN51@set_attack
  006df	c7 45 88 93 00
	00 00		 mov	 DWORD PTR tv356[ebp], 147 ; 00000093H
  006e6	eb 21		 jmp	 SHORT $LN52@set_attack
$LN51@set_attack:
  006e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  006ed	83 c0 5e	 add	 eax, 94			; 0000005eH
  006f0	50		 push	 eax
  006f1	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  006f6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  006fc	51		 push	 ecx
  006fd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00702	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv356[ebp], 0
$LN52@set_attack:
  00709	68 93 00 00 00	 push	 147			; 00000093H
  0070e	8b 55 e8	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00711	52		 push	 edx
  00712	69 45 94 bc 02
	00 00		 imul	 eax, DWORD PTR tv367[ebp], 700
  00719	8b 4d 90	 mov	 ecx, DWORD PTR tv375[ebp]
  0071c	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  00723	ff d2		 call	 edx
  00725	d9 5d 84	 fstp	 DWORD PTR tv577[ebp]
  00728	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR tv577[ebp]
  0072d	51		 push	 ecx
  0072e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00733	68 93 00 00 00	 push	 147			; 00000093H
  00738	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0073b	50		 push	 eax
  0073c	69 4d 8c 78 05
	00 00		 imul	 ecx, DWORD PTR tv348[ebp], 1400
  00743	8b 55 88	 mov	 edx, DWORD PTR tv356[ebp]
  00746	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  0074d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00753	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  00756	ff d2		 call	 edx

; 1381 : 
; 1382 : 			//
; 1383 : 			// change guide reached criteria
; 1384 : 			//
; 1385 : 
; 1386 : 			set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_RADIUS, TRUE, weapon_effective_range);

  00758	51		 push	 ecx
  00759	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _weapon_effective_range$2[ebp]
  0075e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00763	6a 01		 push	 1
  00765	6a 00		 push	 0
  00767	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0076a	50		 push	 eax
  0076b	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1387 : 
; 1388 : 			break;

  00770	eb 42		 jmp	 SHORT $LN2@set_attack
$LN9@set_attack:

; 1389 : 		}
; 1390 : 
; 1391 : 		default:
; 1392 : 		{
; 1393 : 			debug_fatal ("GD_ATTCK: Invalid Entity Type %d", get_local_entity_type (aggressor));

  00772	83 7d e8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00776	74 0a		 je	 SHORT $LN57@set_attack
  00778	8b 45 e8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0077b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0077d	89 4d 94	 mov	 DWORD PTR tv396[ebp], ecx
  00780	eb 21		 jmp	 SHORT $LN58@set_attack
$LN57@set_attack:
  00782	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fire_position@@YGXPAUENTITY@@@Z@4JA
  00788	83 c2 6b	 add	 edx, 107		; 0000006bH
  0078b	52		 push	 edx
  0078c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00791	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00796	50		 push	 eax
  00797	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0079c	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv396[ebp], 0
$LN58@set_attack:
  007a3	8b 4d 94	 mov	 ecx, DWORD PTR tv396[ebp]
  007a6	51		 push	 ecx
  007a7	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@JPPNIKIJ@GD_ATTCK?3?5Invalid?5Entity?5Type?5?$CF@
  007ac	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  007b1	83 c4 08	 add	 esp, 8
$LN2@set_attack:

; 1394 : 		}
; 1395 : 	}
; 1396 : }

  007b4	5f		 pop	 edi
  007b5	5e		 pop	 esi
  007b6	5b		 pop	 ebx
  007b7	8b e5		 mov	 esp, ebp
  007b9	5d		 pop	 ebp
  007ba	c2 04 00	 ret	 4
?set_attack_guide_fire_position@@YGXPAUENTITY@@@Z ENDP	; set_attack_guide_fire_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_climb_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv481 = -156						; size = 4
tv458 = -156						; size = 4
tv490 = -152						; size = 4
tv283 = -152						; size = 4
tv451 = -148						; size = 4
tv275 = -148						; size = 4
tv302 = -144						; size = 4
tv262 = -144						; size = 4
tv219 = -144						; size = 4
tv185 = -144						; size = 4
tv165 = -144						; size = 4
tv137 = -144						; size = 4
tv78 = -144						; size = 4
tv294 = -140						; size = 4
tv254 = -140						; size = 4
tv211 = -140						; size = 4
tv177 = -140						; size = 4
tv157 = -140						; size = 4
tv129 = -140						; size = 4
tv70 = -140						; size = 4
_target$ = -72						; size = 4
_aggressor$ = -68					; size = 4
_task$ = -64						; size = 4
_wp$ = -60						; size = 4
_position$ = -56					; size = 12
_direction$ = -44					; size = 12
_aggressor_pos$ = -32					; size = 4
_target_pos$ = -28					; size = 4
_velocity$ = -24					; size = 4
_time$ = -20						; size = 4
_distance$ = -16					; size = 4
_target_range$ = -12					; size = 4
_weapon_effective_range$ = -8				; size = 4
_selected_weapon$ = -4					; size = 4
_en$ = 8						; size = 4
?set_attack_guide_climb_position@@YGXPAUENTITY@@@Z PROC	; set_attack_guide_climb_position, COMDAT

; 1108 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 9c 00 00
	00		 sub	 esp, 156		; 0000009cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1109 : 	entity_sub_types
; 1110 : 		selected_weapon;
; 1111 : 
; 1112 : 	float
; 1113 : 		weapon_effective_range,
; 1114 : 		target_range,
; 1115 : 		distance,
; 1116 : 		time,
; 1117 : 		velocity;
; 1118 : 
; 1119 : 	vec3d
; 1120 : 		*target_pos,
; 1121 : 		*aggressor_pos,
; 1122 : 		direction,
; 1123 : 		position;
; 1124 : 
; 1125 : 	entity
; 1126 : 		*wp,
; 1127 : 		*task,
; 1128 : 		*aggressor,
; 1129 : 		*target;
; 1130 : 
; 1131 : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_CLIMB);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	74 0d		 je	 SHORT $LN6@set_attack
  00012	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0001d	eb 24		 jmp	 SHORT $LN7@set_attack
$LN6@set_attack:
  0001f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  00025	83 c2 17	 add	 edx, 23			; 00000017H
  00028	52		 push	 edx
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN7@set_attack:
  00043	b9 01 00 00 00	 mov	 ecx, 1
  00048	85 c9		 test	 ecx, ecx
  0004a	74 0c		 je	 SHORT $LN8@set_attack
  0004c	c7 85 70 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  00056	eb 24		 jmp	 SHORT $LN9@set_attack
$LN8@set_attack:
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  0005e	83 c2 17	 add	 edx, 23			; 00000017H
  00061	52		 push	 edx
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00072	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv78[ebp], 0
$LN9@set_attack:
  0007c	6a 0d		 push	 13			; 0000000dH
  0007e	6a 34		 push	 52			; 00000034H
  00080	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00083	51		 push	 ecx
  00084	69 95 74 ff ff
	ff b8 08 00 00	 imul	 edx, DWORD PTR tv70[ebp], 2232
  0008e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv78[ebp]
  00094	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  0009b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000a1	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  000a4	ff d0		 call	 eax

; 1132 : 
; 1133 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  000a6	8d 45 b8	 lea	 eax, DWORD PTR _target$[ebp]
  000a9	50		 push	 eax
  000aa	8d 4d c0	 lea	 ecx, DWORD PTR _task$[ebp]
  000ad	51		 push	 ecx
  000ae	8d 55 c4	 lea	 edx, DWORD PTR _wp$[ebp]
  000b1	52		 push	 edx
  000b2	8d 45 bc	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000b5	50		 push	 eax
  000b6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000b9	51		 push	 ecx
  000ba	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1134 : 
; 1135 : 	//
; 1136 : 	// find aggressors selected weapon, and it's max range
; 1137 : 	//
; 1138 : 
; 1139 : 	selected_weapon = get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON);

  000bf	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000c3	74 0d		 je	 SHORT $LN10@set_attack
  000c5	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ca	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv129[ebp], ecx
  000d0	eb 24		 jmp	 SHORT $LN11@set_attack
$LN10@set_attack:
  000d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  000d8	83 c2 1f	 add	 edx, 31			; 0000001fH
  000db	52		 push	 edx
  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv129[ebp], 0
$LN11@set_attack:
  000f6	b9 01 00 00 00	 mov	 ecx, 1
  000fb	85 c9		 test	 ecx, ecx
  000fd	74 0c		 je	 SHORT $LN12@set_attack
  000ff	c7 85 70 ff ff
	ff b8 00 00 00	 mov	 DWORD PTR tv137[ebp], 184 ; 000000b8H
  00109	eb 24		 jmp	 SHORT $LN13@set_attack
$LN12@set_attack:
  0010b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  00111	83 c2 1f	 add	 edx, 31			; 0000001fH
  00114	52		 push	 edx
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0011a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00125	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv137[ebp], 0
$LN13@set_attack:
  0012f	68 b8 00 00 00	 push	 184			; 000000b8H
  00134	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00137	51		 push	 ecx
  00138	69 95 74 ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv129[ebp], 1116
  00142	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv137[ebp]
  00148	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0014f	ff d1		 call	 ecx
  00151	89 45 fc	 mov	 DWORD PTR _selected_weapon$[ebp], eax

; 1140 : 
; 1141 : 	ASSERT (selected_weapon != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON);

  00154	83 7d fc 00	 cmp	 DWORD PTR _selected_weapon$[ebp], 0
  00158	75 18		 jne	 SHORT $LN2@set_attack
  0015a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  0015f	83 c0 21	 add	 eax, 33			; 00000021H
  00162	50		 push	 eax
  00163	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00168	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@
  0016d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_attack:

; 1142 : 
; 1143 : 	weapon_effective_range = weapon_database [selected_weapon].effective_range;

  00172	69 45 fc e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$[ebp], 224
  00179	f3 0f 10 80 94
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+148]
  00181	f3 0f 11 45 f8	 movss	 DWORD PTR _weapon_effective_range$[ebp], xmm0

; 1144 : 
; 1145 : 	//
; 1146 : 	// calculate vector of aggressor to target
; 1147 : 	//
; 1148 : 
; 1149 : 	target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00186	83 7d b8 00	 cmp	 DWORD PTR _target$[ebp], 0
  0018a	74 0d		 je	 SHORT $LN14@set_attack
  0018c	8b 45 b8	 mov	 eax, DWORD PTR _target$[ebp]
  0018f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00191	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv157[ebp], ecx
  00197	eb 24		 jmp	 SHORT $LN15@set_attack
$LN14@set_attack:
  00199	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  0019f	83 c2 29	 add	 edx, 41			; 00000029H
  001a2	52		 push	 edx
  001a3	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ad	50		 push	 eax
  001ae	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b3	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv157[ebp], 0
$LN15@set_attack:
  001bd	b9 01 00 00 00	 mov	 ecx, 1
  001c2	85 c9		 test	 ecx, ecx
  001c4	74 0c		 je	 SHORT $LN16@set_attack
  001c6	c7 85 70 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv165[ebp], 8
  001d0	eb 24		 jmp	 SHORT $LN17@set_attack
$LN16@set_attack:
  001d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  001d8	83 c2 29	 add	 edx, 41			; 00000029H
  001db	52		 push	 edx
  001dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  001e6	50		 push	 eax
  001e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ec	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv165[ebp], 0
$LN17@set_attack:
  001f6	6a 08		 push	 8
  001f8	8b 4d b8	 mov	 ecx, DWORD PTR _target$[ebp]
  001fb	51		 push	 ecx
  001fc	6b 95 74 ff ff
	ff 60		 imul	 edx, DWORD PTR tv157[ebp], 96
  00203	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv165[ebp]
  00209	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00210	ff d1		 call	 ecx
  00212	89 45 e4	 mov	 DWORD PTR _target_pos$[ebp], eax

; 1150 : 
; 1151 : 	aggressor_pos = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_POSITION);

  00215	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00219	74 0d		 je	 SHORT $LN18@set_attack
  0021b	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0021e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00220	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv177[ebp], ecx
  00226	eb 24		 jmp	 SHORT $LN19@set_attack
$LN18@set_attack:
  00228	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  0022e	83 c2 2b	 add	 edx, 43			; 0000002bH
  00231	52		 push	 edx
  00232	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00237	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0023c	50		 push	 eax
  0023d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00242	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv177[ebp], 0
$LN19@set_attack:
  0024c	b9 01 00 00 00	 mov	 ecx, 1
  00251	85 c9		 test	 ecx, ecx
  00253	74 0c		 je	 SHORT $LN20@set_attack
  00255	c7 85 70 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv185[ebp], 8
  0025f	eb 24		 jmp	 SHORT $LN21@set_attack
$LN20@set_attack:
  00261	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  00267	83 c2 2b	 add	 edx, 43			; 0000002bH
  0026a	52		 push	 edx
  0026b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00270	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00275	50		 push	 eax
  00276	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0027b	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv185[ebp], 0
$LN21@set_attack:
  00285	6a 08		 push	 8
  00287	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0028a	51		 push	 ecx
  0028b	6b 95 74 ff ff
	ff 60		 imul	 edx, DWORD PTR tv177[ebp], 96
  00292	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv185[ebp]
  00298	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0029f	ff d1		 call	 ecx
  002a1	89 45 e0	 mov	 DWORD PTR _aggressor_pos$[ebp], eax

; 1152 : 
; 1153 : 	direction.x = aggressor_pos->x - target_pos->x;

  002a4	8b 45 e0	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002a7	8b 4d e4	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002aa	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  002ae	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  002b2	f3 0f 11 45 d4	 movss	 DWORD PTR _direction$[ebp], xmm0

; 1154 : 	direction.y = 0.0;

  002b7	0f 57 c0	 xorps	 xmm0, xmm0
  002ba	f3 0f 11 45 d8	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 1155 : 	direction.z = aggressor_pos->z - target_pos->z;

  002bf	8b 45 e0	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002c2	8b 4d e4	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002c5	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  002ca	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  002cf	f3 0f 11 45 dc	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 1156 : 
; 1157 : 	target_range = normalise_any_3d_vector (&direction);

  002d4	8d 45 d4	 lea	 eax, DWORD PTR _direction$[ebp]
  002d7	50		 push	 eax
  002d8	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  002dd	d9 5d f4	 fstp	 DWORD PTR _target_range$[ebp]

; 1158 : 
; 1159 : 	ASSERT (target_range != 0.0);

  002e0	f3 0f 5a 45 f4	 cvtss2sd xmm0, DWORD PTR _target_range$[ebp]
  002e5	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  002ed	9f		 lahf
  002ee	f6 c4 44	 test	 ah, 68			; 00000044H
  002f1	7a 18		 jp	 SHORT $LN3@set_attack
  002f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  002f8	83 c0 33	 add	 eax, 51			; 00000033H
  002fb	50		 push	 eax
  002fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00301	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@FGBCMLAJ@target_range?5?$CB?$DN?50?40@
  00306	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@set_attack:

; 1160 : 
; 1161 : 	//
; 1162 : 	// calculate required distance of guide from target
; 1163 : 	//
; 1164 : 
; 1165 : 	velocity = get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY);

  0030b	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0030f	74 0d		 je	 SHORT $LN22@set_attack
  00311	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00314	8b 08		 mov	 ecx, DWORD PTR [eax]
  00316	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv211[ebp], ecx
  0031c	eb 24		 jmp	 SHORT $LN23@set_attack
$LN22@set_attack:
  0031e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  00324	83 c2 39	 add	 edx, 57			; 00000039H
  00327	52		 push	 edx
  00328	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0032d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00332	50		 push	 eax
  00333	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00338	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv211[ebp], 0
$LN23@set_attack:
  00342	b9 01 00 00 00	 mov	 ecx, 1
  00347	85 c9		 test	 ecx, ecx
  00349	74 0c		 je	 SHORT $LN24@set_attack
  0034b	c7 85 70 ff ff
	ff 19 00 00 00	 mov	 DWORD PTR tv219[ebp], 25 ; 00000019H
  00355	eb 24		 jmp	 SHORT $LN25@set_attack
$LN24@set_attack:
  00357	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  0035d	83 c2 39	 add	 edx, 57			; 00000039H
  00360	52		 push	 edx
  00361	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00366	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0036b	50		 push	 eax
  0036c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00371	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv219[ebp], 0
$LN25@set_attack:
  0037b	6a 19		 push	 25			; 00000019H
  0037d	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00380	51		 push	 ecx
  00381	69 95 74 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv211[ebp], 700
  0038b	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv219[ebp]
  00391	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00398	ff d1		 call	 ecx
  0039a	d9 5d e8	 fstp	 DWORD PTR _velocity$[ebp]

; 1166 : 
; 1167 : 	ASSERT (velocity > 0.0);

  0039d	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _velocity$[ebp]
  003a2	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  003aa	77 18		 ja	 SHORT $LN4@set_attack
  003ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  003b1	83 c0 3b	 add	 eax, 59			; 0000003bH
  003b4	50		 push	 eax
  003b5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003ba	68 00 00 00 00	 push	 OFFSET ??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@
  003bf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@set_attack:

; 1168 : 
; 1169 : 	time = weapon_effective_range / velocity;

  003c4	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _weapon_effective_range$[ebp]
  003c9	f3 0f 5e 45 e8	 divss	 xmm0, DWORD PTR _velocity$[ebp]
  003ce	f3 0f 11 45 ec	 movss	 DWORD PTR _time$[ebp], xmm0

; 1170 : 
; 1171 : 	time = time + FIXED_WING_CLIMB_TIME + FIXED_WING_DIVE_TIME;

  003d3	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _time$[ebp]
  003d8	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  003e0	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4014000000000000
  003e8	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  003ec	f3 0f 11 45 ec	 movss	 DWORD PTR _time$[ebp], xmm0

; 1172 : 
; 1173 : 	distance = velocity * time;

  003f1	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _velocity$[ebp]
  003f6	f3 0f 59 45 ec	 mulss	 xmm0, DWORD PTR _time$[ebp]
  003fb	f3 0f 11 45 f0	 movss	 DWORD PTR _distance$[ebp], xmm0

; 1174 : 
; 1175 : 	//
; 1176 : 	// calculate guide position
; 1177 : 	//
; 1178 : 
; 1179 : 	position.x = target_pos->x + (direction.x * distance);

  00400	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _direction$[ebp]
  00405	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  0040a	8b 45 e4	 mov	 eax, DWORD PTR _target_pos$[ebp]
  0040d	f3 0f 58 00	 addss	 xmm0, DWORD PTR [eax]
  00411	f3 0f 11 45 c8	 movss	 DWORD PTR _position$[ebp], xmm0

; 1180 : 	position.y = 0.0;

  00416	0f 57 c0	 xorps	 xmm0, xmm0
  00419	f3 0f 11 45 cc	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1181 : 	position.z = target_pos->z + (direction.z * distance);

  0041e	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _direction$[ebp+8]
  00423	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  00428	8b 45 e4	 mov	 eax, DWORD PTR _target_pos$[ebp]
  0042b	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  00430	f3 0f 11 45 d0	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 1182 : 
; 1183 : 	bound_position_to_adjusted_map_volume (&position);

  00435	8d 45 c8	 lea	 eax, DWORD PTR _position$[ebp]
  00438	50		 push	 eax
  00439	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_volume@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_volume

; 1184 : 
; 1185 : 	position.y = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_ATTACK_ALTITUDE);

  0043e	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00442	74 0d		 je	 SHORT $LN26@set_attack
  00444	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00447	8b 08		 mov	 ecx, DWORD PTR [eax]
  00449	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv254[ebp], ecx
  0044f	eb 24		 jmp	 SHORT $LN27@set_attack
$LN26@set_attack:
  00451	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  00457	83 c2 4d	 add	 edx, 77			; 0000004dH
  0045a	52		 push	 edx
  0045b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00460	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00465	50		 push	 eax
  00466	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0046b	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv254[ebp], 0
$LN27@set_attack:
  00475	b9 01 00 00 00	 mov	 ecx, 1
  0047a	85 c9		 test	 ecx, ecx
  0047c	74 0c		 je	 SHORT $LN28@set_attack
  0047e	c7 85 70 ff ff
	ff 0e 00 00 00	 mov	 DWORD PTR tv262[ebp], 14 ; 0000000eH
  00488	eb 24		 jmp	 SHORT $LN29@set_attack
$LN28@set_attack:
  0048a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  00490	83 c2 4d	 add	 edx, 77			; 0000004dH
  00493	52		 push	 edx
  00494	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00499	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0049e	50		 push	 eax
  0049f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004a4	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv262[ebp], 0
$LN29@set_attack:
  004ae	6a 00		 push	 0
  004b0	51		 push	 ecx
  004b1	f3 0f 10 45 d0	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  004b6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004bb	51		 push	 ecx
  004bc	f3 0f 10 45 c8	 movss	 xmm0, DWORD PTR _position$[ebp]
  004c1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004c6	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  004cb	d9 9d 6c ff ff
	ff		 fstp	 DWORD PTR tv451[ebp]
  004d1	f3 0f 10 85 6c
	ff ff ff	 movss	 xmm0, DWORD PTR tv451[ebp]
  004d9	6a 0e		 push	 14			; 0000000eH
  004db	8b 4d bc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  004de	51		 push	 ecx
  004df	69 95 74 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv254[ebp], 700
  004e9	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR tv262[ebp]
  004ef	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  004f6	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR tv490[ebp], xmm0
  004fe	ff d1		 call	 ecx
  00500	d9 9d 64 ff ff
	ff		 fstp	 DWORD PTR tv458[ebp]
  00506	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR tv490[ebp]
  0050e	f3 0f 58 85 64
	ff ff ff	 addss	 xmm0, DWORD PTR tv458[ebp]
  00516	f3 0f 11 45 cc	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1186 : 
; 1187 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_VELOCITY));

  0051b	83 7d bc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0051f	74 0d		 je	 SHORT $LN34@set_attack
  00521	8b 45 bc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00524	8b 08		 mov	 ecx, DWORD PTR [eax]
  00526	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv294[ebp], ecx
  0052c	eb 24		 jmp	 SHORT $LN35@set_attack
$LN34@set_attack:
  0052e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  00534	83 c2 4f	 add	 edx, 79			; 0000004fH
  00537	52		 push	 edx
  00538	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0053d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00542	50		 push	 eax
  00543	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00548	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv294[ebp], 0
$LN35@set_attack:
  00552	b9 01 00 00 00	 mov	 ecx, 1
  00557	85 c9		 test	 ecx, ecx
  00559	74 0c		 je	 SHORT $LN36@set_attack
  0055b	c7 85 70 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv302[ebp], 147 ; 00000093H
  00565	eb 24		 jmp	 SHORT $LN37@set_attack
$LN36@set_attack:
  00567	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  0056d	83 c2 4f	 add	 edx, 79			; 0000004fH
  00570	52		 push	 edx
  00571	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00576	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0057b	50		 push	 eax
  0057c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00581	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv302[ebp], 0
$LN37@set_attack:
  0058b	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0058f	74 0d		 je	 SHORT $LN30@set_attack
  00591	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00594	8b 11		 mov	 edx, DWORD PTR [ecx]
  00596	89 95 6c ff ff
	ff		 mov	 DWORD PTR tv275[ebp], edx
  0059c	eb 24		 jmp	 SHORT $LN31@set_attack
$LN30@set_attack:
  0059e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  005a3	83 c0 4f	 add	 eax, 79			; 0000004fH
  005a6	50		 push	 eax
  005a7	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005b2	51		 push	 ecx
  005b3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005b8	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv275[ebp], 0
$LN31@set_attack:
  005c2	ba 01 00 00 00	 mov	 edx, 1
  005c7	85 d2		 test	 edx, edx
  005c9	74 0c		 je	 SHORT $LN32@set_attack
  005cb	c7 85 68 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv283[ebp], 147 ; 00000093H
  005d5	eb 24		 jmp	 SHORT $LN33@set_attack
$LN32@set_attack:
  005d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_climb_position@@YGXPAUENTITY@@@Z@4JA
  005dc	83 c0 4f	 add	 eax, 79			; 0000004fH
  005df	50		 push	 eax
  005e0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  005eb	51		 push	 ecx
  005ec	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005f1	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv283[ebp], 0
$LN33@set_attack:
  005fb	68 93 00 00 00	 push	 147			; 00000093H
  00600	8b 55 bc	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00603	52		 push	 edx
  00604	69 85 74 ff ff
	ff bc 02 00 00	 imul	 eax, DWORD PTR tv294[ebp], 700
  0060e	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR tv302[ebp]
  00614	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  0061b	ff d2		 call	 edx
  0061d	d9 9d 64 ff ff
	ff		 fstp	 DWORD PTR tv481[ebp]
  00623	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR tv481[ebp]
  0062b	51		 push	 ecx
  0062c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00631	68 93 00 00 00	 push	 147			; 00000093H
  00636	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00639	50		 push	 eax
  0063a	69 8d 6c ff ff
	ff 78 05 00 00	 imul	 ecx, DWORD PTR tv275[ebp], 1400
  00644	8b 95 68 ff ff
	ff		 mov	 edx, DWORD PTR tv283[ebp]
  0064a	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  00651	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00657	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  0065a	ff d2		 call	 edx

; 1188 : 
; 1189 : 	set_client_server_guide_entity_new_position (en, &position, NULL);

  0065c	6a 00		 push	 0
  0065e	8d 45 c8	 lea	 eax, DWORD PTR _position$[ebp]
  00661	50		 push	 eax
  00662	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00665	51		 push	 ecx
  00666	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1190 : }

  0066b	5f		 pop	 edi
  0066c	5e		 pop	 esi
  0066d	5b		 pop	 ebx
  0066e	8b e5		 mov	 esp, ebp
  00670	5d		 pop	 ebp
  00671	c2 04 00	 ret	 4
?set_attack_guide_climb_position@@YGXPAUENTITY@@@Z ENDP	; set_attack_guide_climb_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv338 = -104						; size = 4
tv209 = -100						; size = 4
tv201 = -96						; size = 4
tv300 = -92						; size = 8
tv291 = -92						; size = 8
tv228 = -92						; size = 4
tv186 = -92						; size = 4
tv149 = -92						; size = 4
tv78 = -92						; size = 4
tv220 = -88						; size = 4
tv178 = -88						; size = 4
tv141 = -88						; size = 4
tv129 = -88						; size = 4
tv70 = -88						; size = 4
_target$ = -20						; size = 4
_aggressor$ = -16					; size = 4
_task$ = -12						; size = 4
_wp$ = -8						; size = 4
_position$ = -4						; size = 4
_en$ = 8						; size = 4
?set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_take_cover_position, COMDAT

; 1059 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 68	 sub	 esp, 104		; 00000068H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1060 : 	vec3d
; 1061 : 		*position;
; 1062 : 
; 1063 : 	entity
; 1064 : 		*wp,
; 1065 : 		*task,
; 1066 : 		*aggressor,
; 1067 : 		*target;
; 1068 : 
; 1069 : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_TAKE_COVER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN7@set_attack
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d a8	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN8@set_attack
$LN7@set_attack:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 0a	 add	 edx, 10			; 0000000aH
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN8@set_attack:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN9@set_attack
  00043	c7 45 a4 34 00
	00 00		 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  0004a	eb 21		 jmp	 SHORT $LN10@set_attack
$LN9@set_attack:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 0a	 add	 edx, 10			; 0000000aH
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN10@set_attack:
  0006d	6a 0c		 push	 12			; 0000000cH
  0006f	6a 34		 push	 52			; 00000034H
  00071	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00074	51		 push	 ecx
  00075	69 55 a8 b8 08
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 2232
  0007c	8b 45 a4	 mov	 eax, DWORD PTR tv78[ebp]
  0007f	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00086	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0008c	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  0008f	ff d0		 call	 eax

; 1070 : 
; 1071 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00091	8d 45 ec	 lea	 eax, DWORD PTR _target$[ebp]
  00094	50		 push	 eax
  00095	8d 4d f4	 lea	 ecx, DWORD PTR _task$[ebp]
  00098	51		 push	 ecx
  00099	8d 55 f8	 lea	 edx, DWORD PTR _wp$[ebp]
  0009c	52		 push	 edx
  0009d	8d 45 f0	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000a0	50		 push	 eax
  000a1	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000a4	51		 push	 ecx
  000a5	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1072 : 
; 1073 : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER);

  000aa	83 7d f0 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000ae	74 0a		 je	 SHORT $LN11@set_attack
  000b0	8b 45 f0	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b5	89 4d a8	 mov	 DWORD PTR tv129[ebp], ecx
  000b8	eb 21		 jmp	 SHORT $LN12@set_attack
$LN11@set_attack:
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  000c0	83 c2 0e	 add	 edx, 14			; 0000000eH
  000c3	52		 push	 edx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ce	50		 push	 eax
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN12@set_attack:
  000db	83 7d a8 0e	 cmp	 DWORD PTR tv129[ebp], 14 ; 0000000eH
  000df	74 18		 je	 SHORT $LN2@set_attack
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  000e6	83 c0 0e	 add	 eax, 14			; 0000000eH
  000e9	50		 push	 eax
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ef	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
  000f4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_attack:

; 1074 : 
; 1075 : 	position = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_COVER_POSITION);

  000f9	83 7d f0 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000fd	74 0a		 je	 SHORT $LN13@set_attack
  000ff	8b 45 f0	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00102	8b 08		 mov	 ecx, DWORD PTR [eax]
  00104	89 4d a8	 mov	 DWORD PTR tv141[ebp], ecx
  00107	eb 21		 jmp	 SHORT $LN14@set_attack
$LN13@set_attack:
  00109	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  0010f	83 c2 10	 add	 edx, 16			; 00000010H
  00112	52		 push	 edx
  00113	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0011d	50		 push	 eax
  0011e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00123	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv141[ebp], 0
$LN14@set_attack:
  0012a	b9 01 00 00 00	 mov	 ecx, 1
  0012f	85 c9		 test	 ecx, ecx
  00131	74 09		 je	 SHORT $LN15@set_attack
  00133	c7 45 a4 02 00
	00 00		 mov	 DWORD PTR tv149[ebp], 2
  0013a	eb 21		 jmp	 SHORT $LN16@set_attack
$LN15@set_attack:
  0013c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00142	83 c2 10	 add	 edx, 16			; 00000010H
  00145	52		 push	 edx
  00146	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00156	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN16@set_attack:
  0015d	6a 02		 push	 2
  0015f	8b 4d f0	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00162	51		 push	 ecx
  00163	6b 55 a8 60	 imul	 edx, DWORD PTR tv141[ebp], 96
  00167	8b 45 a4	 mov	 eax, DWORD PTR tv149[ebp]
  0016a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00171	ff d1		 call	 ecx
  00173	89 45 fc	 mov	 DWORD PTR _position$[ebp], eax

; 1076 : 
; 1077 : 	ASSERT (position);

  00176	83 7d fc 00	 cmp	 DWORD PTR _position$[ebp], 0
  0017a	75 18		 jne	 SHORT $LN3@set_attack
  0017c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00181	83 c0 12	 add	 eax, 18			; 00000012H
  00184	50		 push	 eax
  00185	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0018a	68 00 00 00 00	 push	 OFFSET ??_C@_08OAGMDKAF@position@
  0018f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@set_attack:

; 1078 : 
; 1079 : 	ASSERT (!check_zero_3d_vector (position));

  00194	8b 45 fc	 mov	 eax, DWORD PTR _position$[ebp]
  00197	50		 push	 eax
  00198	e8 00 00 00 00	 call	 ?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z ; get_3d_vector_magnitude
  0019d	dd 5d a4	 fstp	 QWORD PTR tv291[ebp]
  001a0	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR tv291[ebp]
  001a5	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  001ad	9f		 lahf
  001ae	f6 c4 44	 test	 ah, 68			; 00000044H
  001b1	7a 18		 jp	 SHORT $LN4@set_attack
  001b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  001b8	83 c0 14	 add	 eax, 20			; 00000014H
  001bb	50		 push	 eax
  001bc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c1	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@OEPEKLGF@?$CBcheck_zero_3d_vector?5?$CIposition@
  001c6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@set_attack:

; 1080 : 
; 1081 : 	// Just to be sure....
; 1082 : 
; 1083 : 	if (check_zero_3d_vector (position))

  001cb	8b 45 fc	 mov	 eax, DWORD PTR _position$[ebp]
  001ce	50		 push	 eax
  001cf	e8 00 00 00 00	 call	 ?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z ; get_3d_vector_magnitude
  001d4	dd 5d a4	 fstp	 QWORD PTR tv300[ebp]
  001d7	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR tv300[ebp]
  001dc	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  001e4	9f		 lahf
  001e5	f6 c4 44	 test	 ah, 68			; 00000044H
  001e8	7a 7d		 jp	 SHORT $LN5@set_attack

; 1084 : 	{
; 1085 : 		position = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_POSITION);

  001ea	83 7d f0 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  001ee	74 0a		 je	 SHORT $LN17@set_attack
  001f0	8b 45 f0	 mov	 eax, DWORD PTR _aggressor$[ebp]
  001f3	8b 08		 mov	 ecx, DWORD PTR [eax]
  001f5	89 4d a8	 mov	 DWORD PTR tv178[ebp], ecx
  001f8	eb 21		 jmp	 SHORT $LN18@set_attack
$LN17@set_attack:
  001fa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00200	83 c2 1a	 add	 edx, 26			; 0000001aH
  00203	52		 push	 edx
  00204	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00209	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0020e	50		 push	 eax
  0020f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00214	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv178[ebp], 0
$LN18@set_attack:
  0021b	b9 01 00 00 00	 mov	 ecx, 1
  00220	85 c9		 test	 ecx, ecx
  00222	74 09		 je	 SHORT $LN19@set_attack
  00224	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv186[ebp], 8
  0022b	eb 21		 jmp	 SHORT $LN20@set_attack
$LN19@set_attack:
  0022d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00233	83 c2 1a	 add	 edx, 26			; 0000001aH
  00236	52		 push	 edx
  00237	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0023c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00241	50		 push	 eax
  00242	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00247	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv186[ebp], 0
$LN20@set_attack:
  0024e	6a 08		 push	 8
  00250	8b 4d f0	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00253	51		 push	 ecx
  00254	6b 55 a8 60	 imul	 edx, DWORD PTR tv178[ebp], 96
  00258	8b 45 a4	 mov	 eax, DWORD PTR tv186[ebp]
  0025b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00262	ff d1		 call	 ecx
  00264	89 45 fc	 mov	 DWORD PTR _position$[ebp], eax
$LN5@set_attack:

; 1086 : 	}
; 1087 : 
; 1088 : 	set_client_server_guide_entity_new_position (en, position, NULL);

  00267	6a 00		 push	 0
  00269	8b 45 fc	 mov	 eax, DWORD PTR _position$[ebp]
  0026c	50		 push	 eax
  0026d	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00270	51		 push	 ecx
  00271	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1089 : 
; 1090 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY));

  00276	83 7d f0 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0027a	74 0a		 je	 SHORT $LN25@set_attack
  0027c	8b 45 f0	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0027f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00281	89 4d a8	 mov	 DWORD PTR tv220[ebp], ecx
  00284	eb 21		 jmp	 SHORT $LN26@set_attack
$LN25@set_attack:
  00286	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  0028c	83 c2 1f	 add	 edx, 31			; 0000001fH
  0028f	52		 push	 edx
  00290	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00295	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0029a	50		 push	 eax
  0029b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a0	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv220[ebp], 0
$LN26@set_attack:
  002a7	b9 01 00 00 00	 mov	 ecx, 1
  002ac	85 c9		 test	 ecx, ecx
  002ae	74 09		 je	 SHORT $LN27@set_attack
  002b0	c7 45 a4 19 00
	00 00		 mov	 DWORD PTR tv228[ebp], 25 ; 00000019H
  002b7	eb 21		 jmp	 SHORT $LN28@set_attack
$LN27@set_attack:
  002b9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  002bf	83 c2 1f	 add	 edx, 31			; 0000001fH
  002c2	52		 push	 edx
  002c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  002cd	50		 push	 eax
  002ce	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d3	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv228[ebp], 0
$LN28@set_attack:
  002da	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  002de	74 0a		 je	 SHORT $LN21@set_attack
  002e0	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  002e3	8b 11		 mov	 edx, DWORD PTR [ecx]
  002e5	89 55 a0	 mov	 DWORD PTR tv201[ebp], edx
  002e8	eb 21		 jmp	 SHORT $LN22@set_attack
$LN21@set_attack:
  002ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  002ef	83 c0 1f	 add	 eax, 31			; 0000001fH
  002f2	50		 push	 eax
  002f3	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002f8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002fe	51		 push	 ecx
  002ff	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00304	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv201[ebp], 0
$LN22@set_attack:
  0030b	ba 01 00 00 00	 mov	 edx, 1
  00310	85 d2		 test	 edx, edx
  00312	74 09		 je	 SHORT $LN23@set_attack
  00314	c7 45 9c 93 00
	00 00		 mov	 DWORD PTR tv209[ebp], 147 ; 00000093H
  0031b	eb 21		 jmp	 SHORT $LN24@set_attack
$LN23@set_attack:
  0031d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z@4JA
  00322	83 c0 1f	 add	 eax, 31			; 0000001fH
  00325	50		 push	 eax
  00326	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0032b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00331	51		 push	 ecx
  00332	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00337	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv209[ebp], 0
$LN24@set_attack:
  0033e	6a 19		 push	 25			; 00000019H
  00340	8b 55 f0	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00343	52		 push	 edx
  00344	69 45 a8 bc 02
	00 00		 imul	 eax, DWORD PTR tv220[ebp], 700
  0034b	8b 4d a4	 mov	 ecx, DWORD PTR tv228[ebp]
  0034e	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  00355	ff d2		 call	 edx
  00357	d9 5d 98	 fstp	 DWORD PTR tv338[ebp]
  0035a	f3 0f 10 45 98	 movss	 xmm0, DWORD PTR tv338[ebp]
  0035f	51		 push	 ecx
  00360	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00365	68 93 00 00 00	 push	 147			; 00000093H
  0036a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0036d	50		 push	 eax
  0036e	69 4d a0 78 05
	00 00		 imul	 ecx, DWORD PTR tv201[ebp], 1400
  00375	8b 55 9c	 mov	 edx, DWORD PTR tv209[ebp]
  00378	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  0037f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00385	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  00388	ff d2		 call	 edx

; 1091 : 
; 1092 : 	//
; 1093 : 	// change guide reached criteria
; 1094 : 	//
; 1095 : 
; 1096 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, TRUE, 1.0);

  0038a	51		 push	 ecx
  0038b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00393	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00398	6a 01		 push	 1
  0039a	6a 02		 push	 2
  0039c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0039f	50		 push	 eax
  003a0	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1097 : 
; 1098 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, TRUE, rad (5.0));

  003a5	51		 push	 ecx
  003a6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3db2b8c2
  003ae	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003b3	6a 01		 push	 1
  003b5	6a 01		 push	 1
  003b7	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  003ba	50		 push	 eax
  003bb	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1099 : 
; 1100 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, FALSE, 0.0);

  003c0	51		 push	 ecx
  003c1	0f 57 c0	 xorps	 xmm0, xmm0
  003c4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003c9	6a 00		 push	 0
  003cb	6a 05		 push	 5
  003cd	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  003d0	50		 push	 eax
  003d1	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1101 : }

  003d6	5f		 pop	 edi
  003d7	5e		 pop	 esi
  003d8	5b		 pop	 ebx
  003d9	8b e5		 mov	 esp, ebp
  003db	5d		 pop	 ebp
  003dc	c2 04 00	 ret	 4
?set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_take_cover_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv259 = -116						; size = 4
tv282 = -112						; size = 4
tv252 = -108						; size = 4
tv173 = -104						; size = 4
tv149 = -104						; size = 4
tv78 = -104						; size = 4
tv165 = -100						; size = 4
tv141 = -100						; size = 4
tv129 = -100						; size = 4
tv70 = -100						; size = 4
_alt$ = -32						; size = 4
_position$ = -28					; size = 12
_target$ = -16						; size = 4
_aggressor$ = -12					; size = 4
_task$ = -8						; size = 4
_wp$ = -4						; size = 4
_en$ = 8						; size = 4
?set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_seek_cover_position, COMDAT

; 848  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 74	 sub	 esp, 116		; 00000074H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 849  : 	entity
; 850  : 		*wp,
; 851  : 		*task,
; 852  : 		*aggressor,
; 853  : 		*target;
; 854  : 
; 855  : 	vec3d
; 856  : 		position;
; 857  : 
; 858  : 	float
; 859  : 		alt;
; 860  : 
; 861  : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_SEEK_COVER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN5@set_attack
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d 9c	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN6@set_attack
$LN5@set_attack:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 0d	 add	 edx, 13			; 0000000dH
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN6@set_attack:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN7@set_attack
  00043	c7 45 98 34 00
	00 00		 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  0004a	eb 21		 jmp	 SHORT $LN8@set_attack
$LN7@set_attack:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 0d	 add	 edx, 13			; 0000000dH
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN8@set_attack:
  0006d	6a 0a		 push	 10			; 0000000aH
  0006f	6a 34		 push	 52			; 00000034H
  00071	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00074	51		 push	 ecx
  00075	69 55 9c b8 08
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 2232
  0007c	8b 45 98	 mov	 eax, DWORD PTR tv78[ebp]
  0007f	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00086	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0008c	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  0008f	ff d0		 call	 eax

; 862  : 
; 863  : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00091	8d 45 f0	 lea	 eax, DWORD PTR _target$[ebp]
  00094	50		 push	 eax
  00095	8d 4d f8	 lea	 ecx, DWORD PTR _task$[ebp]
  00098	51		 push	 ecx
  00099	8d 55 fc	 lea	 edx, DWORD PTR _wp$[ebp]
  0009c	52		 push	 edx
  0009d	8d 45 f4	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000a0	50		 push	 eax
  000a1	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000a4	51		 push	 ecx
  000a5	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 864  : 
; 865  : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER);

  000aa	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000ae	74 0a		 je	 SHORT $LN9@set_attack
  000b0	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b5	89 4d 9c	 mov	 DWORD PTR tv129[ebp], ecx
  000b8	eb 21		 jmp	 SHORT $LN10@set_attack
$LN9@set_attack:
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  000c0	83 c2 11	 add	 edx, 17			; 00000011H
  000c3	52		 push	 edx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ce	50		 push	 eax
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN10@set_attack:
  000db	83 7d 9c 0e	 cmp	 DWORD PTR tv129[ebp], 14 ; 0000000eH
  000df	74 18		 je	 SHORT $LN2@set_attack
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  000e6	83 c0 11	 add	 eax, 17			; 00000011H
  000e9	50		 push	 eax
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ef	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
  000f4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_attack:

; 866  : 
; 867  : 	//
; 868  : 	// Helicopter remains at current location - just set heading criteria (so it's not spinning while it does the searching)
; 869  : 	//
; 870  : 
; 871  : 	get_local_entity_vec3d (aggressor, VEC3D_TYPE_POSITION, &position);

  000f9	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000fd	74 0a		 je	 SHORT $LN11@set_attack
  000ff	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00102	8b 08		 mov	 ecx, DWORD PTR [eax]
  00104	89 4d 9c	 mov	 DWORD PTR tv141[ebp], ecx
  00107	eb 21		 jmp	 SHORT $LN12@set_attack
$LN11@set_attack:
  00109	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  0010f	83 c2 17	 add	 edx, 23			; 00000017H
  00112	52		 push	 edx
  00113	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0011d	50		 push	 eax
  0011e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00123	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv141[ebp], 0
$LN12@set_attack:
  0012a	b9 01 00 00 00	 mov	 ecx, 1
  0012f	85 c9		 test	 ecx, ecx
  00131	74 09		 je	 SHORT $LN13@set_attack
  00133	c7 45 98 08 00
	00 00		 mov	 DWORD PTR tv149[ebp], 8
  0013a	eb 21		 jmp	 SHORT $LN14@set_attack
$LN13@set_attack:
  0013c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  00142	83 c2 17	 add	 edx, 23			; 00000017H
  00145	52		 push	 edx
  00146	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00156	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN14@set_attack:
  0015d	8d 4d e4	 lea	 ecx, DWORD PTR _position$[ebp]
  00160	51		 push	 ecx
  00161	6a 08		 push	 8
  00163	8b 55 f4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00166	52		 push	 edx
  00167	6b 45 9c 60	 imul	 eax, DWORD PTR tv141[ebp], 96
  0016b	8b 4d 98	 mov	 ecx, DWORD PTR tv149[ebp]
  0016e	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00175	ff d2		 call	 edx

; 872  : 
; 873  : 	alt = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_ATTACK_ALTITUDE);

  00177	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0017b	74 0a		 je	 SHORT $LN15@set_attack
  0017d	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00180	8b 08		 mov	 ecx, DWORD PTR [eax]
  00182	89 4d 9c	 mov	 DWORD PTR tv165[ebp], ecx
  00185	eb 21		 jmp	 SHORT $LN16@set_attack
$LN15@set_attack:
  00187	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  0018d	83 c2 19	 add	 edx, 25			; 00000019H
  00190	52		 push	 edx
  00191	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00196	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0019b	50		 push	 eax
  0019c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001a1	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv165[ebp], 0
$LN16@set_attack:
  001a8	b9 01 00 00 00	 mov	 ecx, 1
  001ad	85 c9		 test	 ecx, ecx
  001af	74 09		 je	 SHORT $LN17@set_attack
  001b1	c7 45 98 0e 00
	00 00		 mov	 DWORD PTR tv173[ebp], 14 ; 0000000eH
  001b8	eb 21		 jmp	 SHORT $LN18@set_attack
$LN17@set_attack:
  001ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z@4JA
  001c0	83 c2 19	 add	 edx, 25			; 00000019H
  001c3	52		 push	 edx
  001c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  001ce	50		 push	 eax
  001cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d4	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv173[ebp], 0
$LN18@set_attack:
  001db	6a 00		 push	 0
  001dd	51		 push	 ecx
  001de	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  001e3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001e8	51		 push	 ecx
  001e9	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _position$[ebp]
  001ee	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001f3	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  001f8	d9 5d 94	 fstp	 DWORD PTR tv252[ebp]
  001fb	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR tv252[ebp]
  00200	6a 0e		 push	 14			; 0000000eH
  00202	8b 4d f4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00205	51		 push	 ecx
  00206	69 55 9c bc 02
	00 00		 imul	 edx, DWORD PTR tv165[ebp], 700
  0020d	8b 45 98	 mov	 eax, DWORD PTR tv173[ebp]
  00210	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00217	f3 0f 11 45 90	 movss	 DWORD PTR tv282[ebp], xmm0
  0021c	ff d1		 call	 ecx
  0021e	d9 5d 8c	 fstp	 DWORD PTR tv259[ebp]
  00221	f3 0f 10 45 90	 movss	 xmm0, DWORD PTR tv282[ebp]
  00226	f3 0f 58 45 8c	 addss	 xmm0, DWORD PTR tv259[ebp]
  0022b	f3 0f 11 45 e0	 movss	 DWORD PTR _alt$[ebp], xmm0

; 874  : 
; 875  : 	if (position.y > alt)

  00230	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _position$[ebp+4]
  00235	0f 2f 45 e0	 comiss	 xmm0, DWORD PTR _alt$[ebp]
  00239	76 19		 jbe	 SHORT $LN3@set_attack

; 876  : 	{
; 877  : 		position.y = alt;

  0023b	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _alt$[ebp]
  00240	f3 0f 11 45 e8	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 878  : 
; 879  : 		set_client_server_guide_entity_new_position (en, &position, NULL);

  00245	6a 00		 push	 0
  00247	8d 45 e4	 lea	 eax, DWORD PTR _position$[ebp]
  0024a	50		 push	 eax
  0024b	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0024e	51		 push	 ecx
  0024f	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position
$LN3@set_attack:

; 880  : 	}
; 881  : 
; 882  : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, FALSE, 0.0);

  00254	51		 push	 ecx
  00255	0f 57 c0	 xorps	 xmm0, xmm0
  00258	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0025d	6a 00		 push	 0
  0025f	6a 02		 push	 2
  00261	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00264	50		 push	 eax
  00265	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 883  : 
; 884  : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, TRUE, rad (5.0));

  0026a	51		 push	 ecx
  0026b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3db2b8c2
  00273	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00278	6a 01		 push	 1
  0027a	6a 01		 push	 1
  0027c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0027f	50		 push	 eax
  00280	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 885  : 
; 886  : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, FALSE, 0.0);

  00285	51		 push	 ecx
  00286	0f 57 c0	 xorps	 xmm0, xmm0
  00289	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0028e	6a 00		 push	 0
  00290	6a 05		 push	 5
  00292	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00295	50		 push	 eax
  00296	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 887  : 
; 888  : 	//
; 889  : 	// reset seek data
; 890  : 	//
; 891  : 
; 892  : 	reset_guide_seek_cover_results (en);

  0029b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0029e	50		 push	 eax
  0029f	e8 00 00 00 00	 call	 ?reset_guide_seek_cover_results@@YGXPAUENTITY@@@Z ; reset_guide_seek_cover_results

; 893  : 
; 894  : 	//
; 895  : 	// Play Speech
; 896  : 	//
; 897  : 
; 898  : 	play_client_server_wingman_message

  002a4	6a 34		 push	 52			; 00000034H
  002a6	6a 07		 push	 7
  002a8	6a 02		 push	 2
  002aa	51		 push	 ecx
  002ab	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41000000
  002b3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002b8	6a 02		 push	 2
  002ba	51		 push	 ecx
  002bb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40800000
  002c3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002c8	51		 push	 ecx
  002c9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f19999a
  002d1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002d6	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002d9	50		 push	 eax
  002da	e8 00 00 00 00	 call	 ?play_client_server_wingman_message@@YGHPAUENTITY@@MMW4speech_category_types@@MW4speech_intro_types@@W4speech_array_types@@H@Z ; play_client_server_wingman_message

; 899  : 	(
; 900  : 		aggressor,
; 901  : 		0.6,
; 902  : 		4.0,
; 903  : 		SPEECH_CATEGORY_ATTACKING_TARGETS,
; 904  : 		8.0,
; 905  : 		SPEECH_INTRODUCTION_ALWAYS,
; 906  : 		SPEECH_ARRAY_WINGMAN_MESSAGES,
; 907  : 		SPEECH_WINGMAN_SEEKING_COVER
; 908  : 	);
; 909  : }

  002df	5f		 pop	 edi
  002e0	5e		 pop	 esi
  002e1	5b		 pop	 ebx
  002e2	8b e5		 mov	 esp, ebp
  002e4	5d		 pop	 ebp
  002e5	c2 04 00	 ret	 4
?set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_seek_cover_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_approach_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv630 = -172						; size = 4
tv605 = -172						; size = 4
tv646 = -168						; size = 4
tv361 = -168						; size = 4
tv598 = -164						; size = 4
tv353 = -164						; size = 4
tv575 = -160						; size = 8
tv566 = -160						; size = 8
tv380 = -160						; size = 4
tv337 = -160						; size = 4
tv287 = -160						; size = 4
tv236 = -160						; size = 4
tv219 = -160						; size = 4
tv216 = -160						; size = 4
tv194 = -160						; size = 4
tv174 = -160						; size = 4
tv137 = -160						; size = 4
tv78 = -160						; size = 4
tv372 = -156						; size = 4
tv329 = -156						; size = 4
tv310 = -156						; size = 4
tv279 = -156						; size = 4
tv261 = -156						; size = 4
tv228 = -156						; size = 4
tv220 = -156						; size = 4
tv215 = -156						; size = 4
tv186 = -156						; size = 4
tv166 = -156						; size = 4
tv129 = -156						; size = 4
tv70 = -156						; size = 4
_velocity$1 = -88					; size = 4
_time$2 = -84						; size = 4
_force_new_position$ = -80				; size = 4
_target$ = -76						; size = 4
_aggressor$ = -72					; size = 4
_task$ = -68						; size = 4
_wp$ = -64						; size = 4
_position$ = -60					; size = 12
_direction$ = -48					; size = 12
_cover_pos$ = -36					; size = 4
_aggressor_pos$ = -32					; size = 4
_target_pos$ = -28					; size = 4
_distance$ = -24					; size = 4
_target_range$ = -20					; size = 4
_weapon_effective_range$ = -16				; size = 4
_weapon_min_range$ = -12				; size = 4
_weapon_max_range$ = -8					; size = 4
_selected_weapon$ = -4					; size = 4
_en$ = 8						; size = 4
?set_attack_guide_approach_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_approach_position, COMDAT

; 688  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec ac 00 00
	00		 sub	 esp, 172		; 000000acH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 689  : 	entity_sub_types
; 690  : 		selected_weapon;
; 691  : 
; 692  : 	float
; 693  : 		weapon_max_range,
; 694  : 		weapon_min_range,
; 695  : 		weapon_effective_range,
; 696  : 		target_range,
; 697  : 		distance;
; 698  : 
; 699  : 	vec3d
; 700  : 		*target_pos,
; 701  : 		*aggressor_pos,
; 702  : 		*cover_pos,
; 703  : 		direction,
; 704  : 		position;
; 705  : 
; 706  : 	entity
; 707  : 		*wp,
; 708  : 		*task,
; 709  : 		*aggressor,
; 710  : 		*target;
; 711  : 
; 712  : 	int
; 713  : 		force_new_position;
; 714  : 
; 715  : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_APPROACH);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	74 0d		 je	 SHORT $LN15@set_attack
  00012	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0001d	eb 24		 jmp	 SHORT $LN16@set_attack
$LN15@set_attack:
  0001f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00025	83 c2 1b	 add	 edx, 27			; 0000001bH
  00028	52		 push	 edx
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN16@set_attack:
  00043	b9 01 00 00 00	 mov	 ecx, 1
  00048	85 c9		 test	 ecx, ecx
  0004a	74 0c		 je	 SHORT $LN17@set_attack
  0004c	c7 85 60 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  00056	eb 24		 jmp	 SHORT $LN18@set_attack
$LN17@set_attack:
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  0005e	83 c2 1b	 add	 edx, 27			; 0000001bH
  00061	52		 push	 edx
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00072	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv78[ebp], 0
$LN18@set_attack:
  0007c	6a 09		 push	 9
  0007e	6a 34		 push	 52			; 00000034H
  00080	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00083	51		 push	 ecx
  00084	69 95 64 ff ff
	ff b8 08 00 00	 imul	 edx, DWORD PTR tv70[ebp], 2232
  0008e	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR tv78[ebp]
  00094	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  0009b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000a1	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  000a4	ff d0		 call	 eax

; 716  : 
; 717  : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  000a6	8d 45 b4	 lea	 eax, DWORD PTR _target$[ebp]
  000a9	50		 push	 eax
  000aa	8d 4d bc	 lea	 ecx, DWORD PTR _task$[ebp]
  000ad	51		 push	 ecx
  000ae	8d 55 c0	 lea	 edx, DWORD PTR _wp$[ebp]
  000b1	52		 push	 edx
  000b2	8d 45 b8	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000b5	50		 push	 eax
  000b6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000b9	51		 push	 ecx
  000ba	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 718  : 
; 719  : 	//
; 720  : 	// find aggressors selected weapon, and it's max range
; 721  : 	//
; 722  : 
; 723  : 	selected_weapon = get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON);

  000bf	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000c3	74 0d		 je	 SHORT $LN19@set_attack
  000c5	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000c8	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ca	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv129[ebp], ecx
  000d0	eb 24		 jmp	 SHORT $LN20@set_attack
$LN19@set_attack:
  000d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  000d8	83 c2 23	 add	 edx, 35			; 00000023H
  000db	52		 push	 edx
  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv129[ebp], 0
$LN20@set_attack:
  000f6	b9 01 00 00 00	 mov	 ecx, 1
  000fb	85 c9		 test	 ecx, ecx
  000fd	74 0c		 je	 SHORT $LN21@set_attack
  000ff	c7 85 60 ff ff
	ff b8 00 00 00	 mov	 DWORD PTR tv137[ebp], 184 ; 000000b8H
  00109	eb 24		 jmp	 SHORT $LN22@set_attack
$LN21@set_attack:
  0010b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00111	83 c2 23	 add	 edx, 35			; 00000023H
  00114	52		 push	 edx
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0011a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00125	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv137[ebp], 0
$LN22@set_attack:
  0012f	68 b8 00 00 00	 push	 184			; 000000b8H
  00134	8b 4d b8	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00137	51		 push	 ecx
  00138	69 95 64 ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv129[ebp], 1116
  00142	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR tv137[ebp]
  00148	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0014f	ff d1		 call	 ecx
  00151	89 45 fc	 mov	 DWORD PTR _selected_weapon$[ebp], eax

; 724  : 
; 725  : 	ASSERT (selected_weapon != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON);

  00154	83 7d fc 00	 cmp	 DWORD PTR _selected_weapon$[ebp], 0
  00158	75 18		 jne	 SHORT $LN4@set_attack
  0015a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  0015f	83 c0 25	 add	 eax, 37			; 00000025H
  00162	50		 push	 eax
  00163	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00168	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@FBJGKGOB@selected_weapon?5?$CB?$DN?5ENTITY_SUB_T@
  0016d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@set_attack:

; 726  : 
; 727  : 	weapon_max_range = weapon_database [selected_weapon].max_range * 0.9;

  00172	69 45 fc e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$[ebp], 224
  00179	f3 0f 5a 80 90
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+144]
  00181	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00189	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0018d	f3 0f 11 45 f8	 movss	 DWORD PTR _weapon_max_range$[ebp], xmm0

; 728  : 
; 729  : 	weapon_min_range = weapon_database [selected_weapon].min_range;

  00192	69 45 fc e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$[ebp], 224
  00199	f3 0f 10 80 8c
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+140]
  001a1	f3 0f 11 45 f4	 movss	 DWORD PTR _weapon_min_range$[ebp], xmm0

; 730  : 
; 731  : 	weapon_effective_range = weapon_database [selected_weapon].effective_range;

  001a6	69 45 fc e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon$[ebp], 224
  001ad	f3 0f 10 80 94
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+148]
  001b5	f3 0f 11 45 f0	 movss	 DWORD PTR _weapon_effective_range$[ebp], xmm0

; 732  : 
; 733  : 	//
; 734  : 	// calculate vector of aggressor to target
; 735  : 	//
; 736  : 
; 737  : 	target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  001ba	83 7d b4 00	 cmp	 DWORD PTR _target$[ebp], 0
  001be	74 0d		 je	 SHORT $LN23@set_attack
  001c0	8b 45 b4	 mov	 eax, DWORD PTR _target$[ebp]
  001c3	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c5	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv166[ebp], ecx
  001cb	eb 24		 jmp	 SHORT $LN24@set_attack
$LN23@set_attack:
  001cd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  001d3	83 c2 31	 add	 edx, 49			; 00000031H
  001d6	52		 push	 edx
  001d7	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e1	50		 push	 eax
  001e2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e7	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv166[ebp], 0
$LN24@set_attack:
  001f1	b9 01 00 00 00	 mov	 ecx, 1
  001f6	85 c9		 test	 ecx, ecx
  001f8	74 0c		 je	 SHORT $LN25@set_attack
  001fa	c7 85 60 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv174[ebp], 8
  00204	eb 24		 jmp	 SHORT $LN26@set_attack
$LN25@set_attack:
  00206	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  0020c	83 c2 31	 add	 edx, 49			; 00000031H
  0020f	52		 push	 edx
  00210	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00215	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0021a	50		 push	 eax
  0021b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00220	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv174[ebp], 0
$LN26@set_attack:
  0022a	6a 08		 push	 8
  0022c	8b 4d b4	 mov	 ecx, DWORD PTR _target$[ebp]
  0022f	51		 push	 ecx
  00230	6b 95 64 ff ff
	ff 60		 imul	 edx, DWORD PTR tv166[ebp], 96
  00237	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR tv174[ebp]
  0023d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00244	ff d1		 call	 ecx
  00246	89 45 e4	 mov	 DWORD PTR _target_pos$[ebp], eax

; 738  : 
; 739  : 	aggressor_pos = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_POSITION);

  00249	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0024d	74 0d		 je	 SHORT $LN27@set_attack
  0024f	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00252	8b 08		 mov	 ecx, DWORD PTR [eax]
  00254	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv186[ebp], ecx
  0025a	eb 24		 jmp	 SHORT $LN28@set_attack
$LN27@set_attack:
  0025c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00262	83 c2 33	 add	 edx, 51			; 00000033H
  00265	52		 push	 edx
  00266	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00270	50		 push	 eax
  00271	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00276	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv186[ebp], 0
$LN28@set_attack:
  00280	b9 01 00 00 00	 mov	 ecx, 1
  00285	85 c9		 test	 ecx, ecx
  00287	74 0c		 je	 SHORT $LN29@set_attack
  00289	c7 85 60 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv194[ebp], 8
  00293	eb 24		 jmp	 SHORT $LN30@set_attack
$LN29@set_attack:
  00295	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  0029b	83 c2 33	 add	 edx, 51			; 00000033H
  0029e	52		 push	 edx
  0029f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  002a9	50		 push	 eax
  002aa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002af	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv194[ebp], 0
$LN30@set_attack:
  002b9	6a 08		 push	 8
  002bb	8b 4d b8	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  002be	51		 push	 ecx
  002bf	6b 95 64 ff ff
	ff 60		 imul	 edx, DWORD PTR tv186[ebp], 96
  002c6	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR tv194[ebp]
  002cc	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  002d3	ff d1		 call	 ecx
  002d5	89 45 e0	 mov	 DWORD PTR _aggressor_pos$[ebp], eax

; 740  : 
; 741  : 	direction.x = aggressor_pos->x - target_pos->x;

  002d8	8b 45 e0	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002db	8b 4d e4	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002de	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  002e2	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  002e6	f3 0f 11 45 d0	 movss	 DWORD PTR _direction$[ebp], xmm0

; 742  : 	direction.y = 0.0;

  002eb	0f 57 c0	 xorps	 xmm0, xmm0
  002ee	f3 0f 11 45 d4	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 743  : 	direction.z = aggressor_pos->z - target_pos->z;

  002f3	8b 45 e0	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002f6	8b 4d e4	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002f9	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  002fe	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  00303	f3 0f 11 45 d8	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 744  : 
; 745  : 	target_range = normalise_any_3d_vector (&direction);

  00308	8d 45 d0	 lea	 eax, DWORD PTR _direction$[ebp]
  0030b	50		 push	 eax
  0030c	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  00311	d9 5d ec	 fstp	 DWORD PTR _target_range$[ebp]

; 746  : 
; 747  : 	if (target_range == 0.0)

  00314	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _target_range$[ebp]
  00319	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  00321	9f		 lahf
  00322	f6 c4 44	 test	 ah, 68			; 00000044H
  00325	7a 1d		 jp	 SHORT $LN5@set_attack

; 748  : 	{
; 749  : 		//
; 750  : 		// safety check for case when aggressor is directly above target
; 751  : 		//
; 752  : 
; 753  : 		direction.x = 0.0;

  00327	0f 57 c0	 xorps	 xmm0, xmm0
  0032a	f3 0f 11 45 d0	 movss	 DWORD PTR _direction$[ebp], xmm0

; 754  : 		direction.y = 0.0;

  0032f	0f 57 c0	 xorps	 xmm0, xmm0
  00332	f3 0f 11 45 d4	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 755  : 		direction.z = -1.0;

  00337	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  0033f	f3 0f 11 45 d8	 movss	 DWORD PTR _direction$[ebp+8], xmm0
$LN5@set_attack:

; 756  : 	}
; 757  : 
; 758  : 	//
; 759  : 	// calculate required distance of guide from target
; 760  : 	//
; 761  : 
; 762  : 	force_new_position = FALSE;

  00344	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _force_new_position$[ebp], 0

; 763  : 
; 764  : 	switch (get_local_entity_type (aggressor))

  0034b	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0034f	74 0d		 je	 SHORT $LN31@set_attack
  00351	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00354	8b 08		 mov	 ecx, DWORD PTR [eax]
  00356	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv215[ebp], ecx
  0035c	eb 20		 jmp	 SHORT $LN32@set_attack
$LN31@set_attack:
  0035e	68 fc 02 00 00	 push	 764			; 000002fcH
  00363	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00368	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0036e	52		 push	 edx
  0036f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00374	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv215[ebp], 0
$LN32@set_attack:
  0037e	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR tv215[ebp]
  00384	89 85 60 ff ff
	ff		 mov	 DWORD PTR tv216[ebp], eax
  0038a	83 bd 60 ff ff
	ff 0a		 cmp	 DWORD PTR tv216[ebp], 10 ; 0000000aH
  00391	0f 84 87 00 00
	00		 je	 $LN8@set_attack
  00397	83 bd 60 ff ff
	ff 0e		 cmp	 DWORD PTR tv216[ebp], 14 ; 0000000eH
  0039e	74 05		 je	 SHORT $LN6@set_attack
  003a0	e9 78 01 00 00	 jmp	 $LN10@set_attack
$LN6@set_attack:

; 765  : 	{
; 766  : 		case ENTITY_TYPE_HELICOPTER:
; 767  : 		{
; 768  : 			distance = bound (target_range, weapon_min_range, weapon_max_range);

  003a5	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _weapon_min_range$[ebp]
  003aa	0f 2f 45 ec	 comiss	 xmm0, DWORD PTR _target_range$[ebp]
  003ae	76 0f		 jbe	 SHORT $LN35@set_attack
  003b0	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _weapon_min_range$[ebp]
  003b5	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR tv220[ebp], xmm0
  003bd	eb 37		 jmp	 SHORT $LN36@set_attack
$LN35@set_attack:
  003bf	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _target_range$[ebp]
  003c4	0f 2f 45 f8	 comiss	 xmm0, DWORD PTR _weapon_max_range$[ebp]
  003c8	76 0f		 jbe	 SHORT $LN33@set_attack
  003ca	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _weapon_max_range$[ebp]
  003cf	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR tv219[ebp], xmm0
  003d7	eb 0d		 jmp	 SHORT $LN34@set_attack
$LN33@set_attack:
  003d9	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _target_range$[ebp]
  003de	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR tv219[ebp], xmm0
$LN34@set_attack:
  003e6	f3 0f 10 85 60
	ff ff ff	 movss	 xmm0, DWORD PTR tv219[ebp]
  003ee	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR tv220[ebp], xmm0
$LN36@set_attack:
  003f6	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR tv220[ebp]
  003fe	f3 0f 11 45 e8	 movss	 DWORD PTR _distance$[ebp], xmm0

; 769  : 
; 770  : 			if (distance != target_range)

  00403	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _distance$[ebp]
  00408	0f 2e 45 ec	 ucomiss xmm0, DWORD PTR _target_range$[ebp]
  0040c	9f		 lahf
  0040d	f6 c4 44	 test	 ah, 68			; 00000044H
  00410	7b 07		 jnp	 SHORT $LN7@set_attack

; 771  : 			{
; 772  : 				force_new_position = TRUE;

  00412	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _force_new_position$[ebp], 1
$LN7@set_attack:

; 773  : 			}
; 774  : 
; 775  : 			break;

  00419	e9 4a 01 00 00	 jmp	 $LN2@set_attack
$LN8@set_attack:

; 776  : 		}
; 777  : 		case ENTITY_TYPE_FIXED_WING:
; 778  : 		{
; 779  : 			float
; 780  : 				time,
; 781  : 				velocity;
; 782  : 
; 783  : 			velocity = get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY);

  0041e	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00422	74 0d		 je	 SHORT $LN37@set_attack
  00424	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00427	8b 08		 mov	 ecx, DWORD PTR [eax]
  00429	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv228[ebp], ecx
  0042f	eb 24		 jmp	 SHORT $LN38@set_attack
$LN37@set_attack:
  00431	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00437	83 c2 5f	 add	 edx, 95			; 0000005fH
  0043a	52		 push	 edx
  0043b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00440	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00445	50		 push	 eax
  00446	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0044b	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv228[ebp], 0
$LN38@set_attack:
  00455	b9 01 00 00 00	 mov	 ecx, 1
  0045a	85 c9		 test	 ecx, ecx
  0045c	74 0c		 je	 SHORT $LN39@set_attack
  0045e	c7 85 60 ff ff
	ff 19 00 00 00	 mov	 DWORD PTR tv236[ebp], 25 ; 00000019H
  00468	eb 24		 jmp	 SHORT $LN40@set_attack
$LN39@set_attack:
  0046a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00470	83 c2 5f	 add	 edx, 95			; 0000005fH
  00473	52		 push	 edx
  00474	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00479	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0047e	50		 push	 eax
  0047f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00484	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv236[ebp], 0
$LN40@set_attack:
  0048e	6a 19		 push	 25			; 00000019H
  00490	8b 4d b8	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00493	51		 push	 ecx
  00494	69 95 64 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv228[ebp], 700
  0049e	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR tv236[ebp]
  004a4	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  004ab	ff d1		 call	 ecx
  004ad	d9 5d a8	 fstp	 DWORD PTR _velocity$1[ebp]

; 784  : 
; 785  : 			ASSERT (velocity > 0.0);

  004b0	f3 0f 5a 45 a8	 cvtss2sd xmm0, DWORD PTR _velocity$1[ebp]
  004b5	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  004bd	77 18		 ja	 SHORT $LN9@set_attack
  004bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  004c4	83 c0 61	 add	 eax, 97			; 00000061H
  004c7	50		 push	 eax
  004c8	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  004cd	68 00 00 00 00	 push	 OFFSET ??_C@_0P@BNFNJBMC@velocity?5?$DO?50?40@
  004d2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN9@set_attack:

; 786  : 
; 787  : 			time = weapon_effective_range / velocity;

  004d7	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _weapon_effective_range$[ebp]
  004dc	f3 0f 5e 45 a8	 divss	 xmm0, DWORD PTR _velocity$1[ebp]
  004e1	f3 0f 11 45 ac	 movss	 DWORD PTR _time$2[ebp], xmm0

; 788  : 
; 789  : 			time = time + FIXED_WING_APPROACH_TIME + FIXED_WING_CLIMB_TIME + FIXED_WING_DIVE_TIME;

  004e6	f3 0f 5a 45 ac	 cvtss2sd xmm0, DWORD PTR _time$2[ebp]
  004eb	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  004f3	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  004fb	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4014000000000000
  00503	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00507	f3 0f 11 45 ac	 movss	 DWORD PTR _time$2[ebp], xmm0

; 790  : 
; 791  : 			distance = velocity * time;

  0050c	f3 0f 10 45 a8	 movss	 xmm0, DWORD PTR _velocity$1[ebp]
  00511	f3 0f 59 45 ac	 mulss	 xmm0, DWORD PTR _time$2[ebp]
  00516	f3 0f 11 45 e8	 movss	 DWORD PTR _distance$[ebp], xmm0

; 792  : 
; 793  : 			break;

  0051b	eb 4b		 jmp	 SHORT $LN2@set_attack
$LN10@set_attack:

; 794  : 		}
; 795  : 		default:
; 796  : 		{
; 797  : 			debug_fatal ("GD_ATTCK: Invalid Entity Type %d", get_local_entity_type (aggressor));

  0051d	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00521	74 0d		 je	 SHORT $LN41@set_attack
  00523	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00526	8b 08		 mov	 ecx, DWORD PTR [eax]
  00528	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv261[ebp], ecx
  0052e	eb 24		 jmp	 SHORT $LN42@set_attack
$LN41@set_attack:
  00530	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00536	83 c2 6d	 add	 edx, 109		; 0000006dH
  00539	52		 push	 edx
  0053a	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0053f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00544	50		 push	 eax
  00545	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0054a	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv261[ebp], 0
$LN42@set_attack:
  00554	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR tv261[ebp]
  0055a	51		 push	 ecx
  0055b	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@JPPNIKIJ@GD_ATTCK?3?5Invalid?5Entity?5Type?5?$CF@
  00560	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00565	83 c4 08	 add	 esp, 8
$LN2@set_attack:

; 798  : 		}
; 799  : 	}
; 800  : 
; 801  : 	//
; 802  : 	// calculate guide position
; 803  : 	//
; 804  : 
; 805  : 	position.x = target_pos->x + (direction.x * distance);

  00568	f3 0f 10 45 d0	 movss	 xmm0, DWORD PTR _direction$[ebp]
  0056d	f3 0f 59 45 e8	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  00572	8b 45 e4	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00575	f3 0f 58 00	 addss	 xmm0, DWORD PTR [eax]
  00579	f3 0f 11 45 c4	 movss	 DWORD PTR _position$[ebp], xmm0

; 806  : 	position.y = 0.0;

  0057e	0f 57 c0	 xorps	 xmm0, xmm0
  00581	f3 0f 11 45 c8	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 807  : 	position.z = target_pos->z + (direction.z * distance);

  00586	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _direction$[ebp+8]
  0058b	f3 0f 59 45 e8	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  00590	8b 45 e4	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00593	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  00598	f3 0f 11 45 cc	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 808  : 
; 809  : 	bound_position_to_adjusted_map_volume (&position);

  0059d	8d 45 c4	 lea	 eax, DWORD PTR _position$[ebp]
  005a0	50		 push	 eax
  005a1	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_volume@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_volume

; 810  : 
; 811  : 	//
; 812  : 	// Check existing cover position to see if it is within range - if so then use it instead
; 813  : 	//
; 814  : 
; 815  : 	cover_pos = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_COVER_POSITION);

  005a6	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  005aa	74 0d		 je	 SHORT $LN43@set_attack
  005ac	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  005af	8b 08		 mov	 ecx, DWORD PTR [eax]
  005b1	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv279[ebp], ecx
  005b7	eb 24		 jmp	 SHORT $LN44@set_attack
$LN43@set_attack:
  005b9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  005bf	83 c2 7f	 add	 edx, 127		; 0000007fH
  005c2	52		 push	 edx
  005c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  005c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005cd	50		 push	 eax
  005ce	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005d3	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv279[ebp], 0
$LN44@set_attack:
  005dd	b9 01 00 00 00	 mov	 ecx, 1
  005e2	85 c9		 test	 ecx, ecx
  005e4	74 0c		 je	 SHORT $LN45@set_attack
  005e6	c7 85 60 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv287[ebp], 2
  005f0	eb 24		 jmp	 SHORT $LN46@set_attack
$LN45@set_attack:
  005f2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  005f8	83 c2 7f	 add	 edx, 127		; 0000007fH
  005fb	52		 push	 edx
  005fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00601	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00606	50		 push	 eax
  00607	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0060c	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv287[ebp], 0
$LN46@set_attack:
  00616	6a 02		 push	 2
  00618	8b 4d b8	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0061b	51		 push	 ecx
  0061c	6b 95 64 ff ff
	ff 60		 imul	 edx, DWORD PTR tv279[ebp], 96
  00623	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR tv287[ebp]
  00629	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00630	ff d1		 call	 ecx
  00632	89 45 dc	 mov	 DWORD PTR _cover_pos$[ebp], eax

; 816  : 
; 817  : 	if ((!force_new_position) && (cover_pos) && (!check_zero_3d_vector (cover_pos)) && (get_2d_range (cover_pos, &position) < 20.0))

  00635	83 7d b0 00	 cmp	 DWORD PTR _force_new_position$[ebp], 0
  00639	0f 85 c9 00 00
	00		 jne	 $LN11@set_attack
  0063f	83 7d dc 00	 cmp	 DWORD PTR _cover_pos$[ebp], 0
  00643	0f 84 bf 00 00
	00		 je	 $LN11@set_attack
  00649	8b 45 dc	 mov	 eax, DWORD PTR _cover_pos$[ebp]
  0064c	50		 push	 eax
  0064d	e8 00 00 00 00	 call	 ?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z ; get_3d_vector_magnitude
  00652	dd 9d 60 ff ff
	ff		 fstp	 QWORD PTR tv566[ebp]
  00658	f2 0f 10 85 60
	ff ff ff	 movsd	 xmm0, QWORD PTR tv566[ebp]
  00660	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  00668	9f		 lahf
  00669	f6 c4 44	 test	 ah, 68			; 00000044H
  0066c	0f 8b 96 00 00
	00		 jnp	 $LN11@set_attack
  00672	8d 45 c4	 lea	 eax, DWORD PTR _position$[ebp]
  00675	50		 push	 eax
  00676	8b 4d dc	 mov	 ecx, DWORD PTR _cover_pos$[ebp]
  00679	51		 push	 ecx
  0067a	e8 00 00 00 00	 call	 ?get_2d_range@@YGMPBUVEC3D@@0@Z ; get_2d_range
  0067f	dd 9d 60 ff ff
	ff		 fstp	 QWORD PTR tv575[ebp]
  00685	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4034000000000000
  0068d	66 0f 2f 85 60
	ff ff ff	 comisd	 xmm0, QWORD PTR tv575[ebp]
  00695	76 71		 jbe	 SHORT $LN11@set_attack

; 818  : 	{
; 819  : 		ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER);

  00697	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0069b	74 0d		 je	 SHORT $LN47@set_attack
  0069d	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  006a0	8b 08		 mov	 ecx, DWORD PTR [eax]
  006a2	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv310[ebp], ecx
  006a8	eb 27		 jmp	 SHORT $LN48@set_attack
$LN47@set_attack:
  006aa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  006b0	81 c2 83 00 00
	00		 add	 edx, 131		; 00000083H
  006b6	52		 push	 edx
  006b7	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  006bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006c1	50		 push	 eax
  006c2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006c7	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv310[ebp], 0
$LN48@set_attack:
  006d1	83 bd 64 ff ff
	ff 0e		 cmp	 DWORD PTR tv310[ebp], 14 ; 0000000eH
  006d8	74 1a		 je	 SHORT $LN13@set_attack
  006da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  006df	05 83 00 00 00	 add	 eax, 131		; 00000083H
  006e4	50		 push	 eax
  006e5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  006ea	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
  006ef	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN13@set_attack:

; 820  : 
; 821  : 		set_client_server_guide_entity_new_position (en, cover_pos, NULL);

  006f4	6a 00		 push	 0
  006f6	8b 45 dc	 mov	 eax, DWORD PTR _cover_pos$[ebp]
  006f9	50		 push	 eax
  006fa	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  006fd	51		 push	 ecx
  006fe	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 822  : 	}
; 823  : 	else

  00703	e9 f2 00 00 00	 jmp	 $LN12@set_attack
$LN11@set_attack:

; 824  : 	{
; 825  : 		position.y = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_ATTACK_ALTITUDE);

  00708	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0070c	74 0d		 je	 SHORT $LN49@set_attack
  0070e	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00711	8b 08		 mov	 ecx, DWORD PTR [eax]
  00713	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv329[ebp], ecx
  00719	eb 27		 jmp	 SHORT $LN50@set_attack
$LN49@set_attack:
  0071b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00721	81 c2 89 00 00
	00		 add	 edx, 137		; 00000089H
  00727	52		 push	 edx
  00728	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0072d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00732	50		 push	 eax
  00733	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00738	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv329[ebp], 0
$LN50@set_attack:
  00742	b9 01 00 00 00	 mov	 ecx, 1
  00747	85 c9		 test	 ecx, ecx
  00749	74 0c		 je	 SHORT $LN51@set_attack
  0074b	c7 85 60 ff ff
	ff 0e 00 00 00	 mov	 DWORD PTR tv337[ebp], 14 ; 0000000eH
  00755	eb 27		 jmp	 SHORT $LN52@set_attack
$LN51@set_attack:
  00757	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  0075d	81 c2 89 00 00
	00		 add	 edx, 137		; 00000089H
  00763	52		 push	 edx
  00764	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00769	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0076e	50		 push	 eax
  0076f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00774	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv337[ebp], 0
$LN52@set_attack:
  0077e	6a 00		 push	 0
  00780	51		 push	 ecx
  00781	f3 0f 10 45 cc	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  00786	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0078b	51		 push	 ecx
  0078c	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _position$[ebp]
  00791	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00796	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  0079b	d9 9d 5c ff ff
	ff		 fstp	 DWORD PTR tv598[ebp]
  007a1	f3 0f 10 85 5c
	ff ff ff	 movss	 xmm0, DWORD PTR tv598[ebp]
  007a9	6a 0e		 push	 14			; 0000000eH
  007ab	8b 4d b8	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  007ae	51		 push	 ecx
  007af	69 95 64 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv329[ebp], 700
  007b9	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR tv337[ebp]
  007bf	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  007c6	f3 0f 11 85 58
	ff ff ff	 movss	 DWORD PTR tv646[ebp], xmm0
  007ce	ff d1		 call	 ecx
  007d0	d9 9d 54 ff ff
	ff		 fstp	 DWORD PTR tv605[ebp]
  007d6	f3 0f 10 85 58
	ff ff ff	 movss	 xmm0, DWORD PTR tv646[ebp]
  007de	f3 0f 58 85 54
	ff ff ff	 addss	 xmm0, DWORD PTR tv605[ebp]
  007e6	f3 0f 11 45 c8	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 826  : 
; 827  : 		set_client_server_guide_entity_new_position (en, &position, NULL);

  007eb	6a 00		 push	 0
  007ed	8d 45 c4	 lea	 eax, DWORD PTR _position$[ebp]
  007f0	50		 push	 eax
  007f1	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  007f4	51		 push	 ecx
  007f5	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position
$LN12@set_attack:

; 828  : 	}
; 829  : 
; 830  : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY));

  007fa	83 7d b8 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  007fe	74 0d		 je	 SHORT $LN57@set_attack
  00800	8b 45 b8	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00803	8b 08		 mov	 ecx, DWORD PTR [eax]
  00805	89 8d 64 ff ff
	ff		 mov	 DWORD PTR tv372[ebp], ecx
  0080b	eb 27		 jmp	 SHORT $LN58@set_attack
$LN57@set_attack:
  0080d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00813	81 c2 8e 00 00
	00		 add	 edx, 142		; 0000008eH
  00819	52		 push	 edx
  0081a	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0081f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00824	50		 push	 eax
  00825	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0082a	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv372[ebp], 0
$LN58@set_attack:
  00834	b9 01 00 00 00	 mov	 ecx, 1
  00839	85 c9		 test	 ecx, ecx
  0083b	74 0c		 je	 SHORT $LN59@set_attack
  0083d	c7 85 60 ff ff
	ff 19 00 00 00	 mov	 DWORD PTR tv380[ebp], 25 ; 00000019H
  00847	eb 27		 jmp	 SHORT $LN60@set_attack
$LN59@set_attack:
  00849	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  0084f	81 c2 8e 00 00
	00		 add	 edx, 142		; 0000008eH
  00855	52		 push	 edx
  00856	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0085b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00860	50		 push	 eax
  00861	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00866	c7 85 60 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv380[ebp], 0
$LN60@set_attack:
  00870	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00874	74 0d		 je	 SHORT $LN53@set_attack
  00876	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00879	8b 11		 mov	 edx, DWORD PTR [ecx]
  0087b	89 95 5c ff ff
	ff		 mov	 DWORD PTR tv353[ebp], edx
  00881	eb 26		 jmp	 SHORT $LN54@set_attack
$LN53@set_attack:
  00883	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  00888	05 8e 00 00 00	 add	 eax, 142		; 0000008eH
  0088d	50		 push	 eax
  0088e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00893	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00899	51		 push	 ecx
  0089a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0089f	c7 85 5c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv353[ebp], 0
$LN54@set_attack:
  008a9	ba 01 00 00 00	 mov	 edx, 1
  008ae	85 d2		 test	 edx, edx
  008b0	74 0c		 je	 SHORT $LN55@set_attack
  008b2	c7 85 58 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv361[ebp], 147 ; 00000093H
  008bc	eb 26		 jmp	 SHORT $LN56@set_attack
$LN55@set_attack:
  008be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_approach_position@@YGXPAUENTITY@@@Z@4JA
  008c3	05 8e 00 00 00	 add	 eax, 142		; 0000008eH
  008c8	50		 push	 eax
  008c9	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  008ce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  008d4	51		 push	 ecx
  008d5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  008da	c7 85 58 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv361[ebp], 0
$LN56@set_attack:
  008e4	6a 19		 push	 25			; 00000019H
  008e6	8b 55 b8	 mov	 edx, DWORD PTR _aggressor$[ebp]
  008e9	52		 push	 edx
  008ea	69 85 64 ff ff
	ff bc 02 00 00	 imul	 eax, DWORD PTR tv372[ebp], 700
  008f4	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR tv380[ebp]
  008fa	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  00901	ff d2		 call	 edx
  00903	d9 9d 54 ff ff
	ff		 fstp	 DWORD PTR tv630[ebp]
  00909	f3 0f 10 85 54
	ff ff ff	 movss	 xmm0, DWORD PTR tv630[ebp]
  00911	51		 push	 ecx
  00912	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00917	68 93 00 00 00	 push	 147			; 00000093H
  0091c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0091f	50		 push	 eax
  00920	69 8d 5c ff ff
	ff 78 05 00 00	 imul	 ecx, DWORD PTR tv353[ebp], 1400
  0092a	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR tv361[ebp]
  00930	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  00937	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0093d	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  00940	ff d2		 call	 edx

; 831  : 
; 832  : 	//
; 833  : 	// set guide reached criteria
; 834  : 	//
; 835  : 
; 836  : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, FALSE, 0.0);

  00942	51		 push	 ecx
  00943	0f 57 c0	 xorps	 xmm0, xmm0
  00946	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0094b	6a 00		 push	 0
  0094d	6a 02		 push	 2
  0094f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00952	50		 push	 eax
  00953	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 837  : 
; 838  : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, FALSE, 0.0);

  00958	51		 push	 ecx
  00959	0f 57 c0	 xorps	 xmm0, xmm0
  0095c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00961	6a 00		 push	 0
  00963	6a 01		 push	 1
  00965	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00968	50		 push	 eax
  00969	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 839  : 
; 840  : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, FALSE, 0.0);

  0096e	51		 push	 ecx
  0096f	0f 57 c0	 xorps	 xmm0, xmm0
  00972	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00977	6a 00		 push	 0
  00979	6a 05		 push	 5
  0097b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0097e	50		 push	 eax
  0097f	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 841  : }

  00984	5f		 pop	 edi
  00985	5e		 pop	 esi
  00986	5b		 pop	 ebx
  00987	8b e5		 mov	 esp, ebp
  00989	5d		 pop	 ebp
  0098a	c2 04 00	 ret	 4
?set_attack_guide_approach_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_approach_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv248 = -104						; size = 4
tv137 = -100						; size = 4
tv129 = -96						; size = 4
tv181 = -92						; size = 4
tv156 = -92						; size = 4
tv78 = -92						; size = 4
tv173 = -88						; size = 4
tv148 = -88						; size = 4
tv70 = -88						; size = 4
_position$ = -20					; size = 4
_target$ = -16						; size = 4
_aggressor$ = -12					; size = 4
_task$ = -8						; size = 4
_wp$ = -4						; size = 4
_en$ = 8						; size = 4
?set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z PROC ; set_attack_guide_fly_to_cover_position, COMDAT

; 1011 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 68	 sub	 esp, 104		; 00000068H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1012 : 	entity
; 1013 : 		*wp,
; 1014 : 		*task,
; 1015 : 		*aggressor,
; 1016 : 		*target;
; 1017 : 
; 1018 : 	vec3d
; 1019 : 		*position;
; 1020 : 
; 1021 : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_FLY_TO_COVER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN3@set_attack
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d a8	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN4@set_attack
$LN3@set_attack:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 0a	 add	 edx, 10			; 0000000aH
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN4@set_attack:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN5@set_attack
  00043	c7 45 a4 34 00
	00 00		 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  0004a	eb 21		 jmp	 SHORT $LN6@set_attack
$LN5@set_attack:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 0a	 add	 edx, 10			; 0000000aH
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN6@set_attack:
  0006d	6a 0b		 push	 11			; 0000000bH
  0006f	6a 34		 push	 52			; 00000034H
  00071	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00074	51		 push	 ecx
  00075	69 55 a8 b8 08
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 2232
  0007c	8b 45 a4	 mov	 eax, DWORD PTR tv78[ebp]
  0007f	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00086	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0008c	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  0008f	ff d0		 call	 eax

; 1022 : 
; 1023 : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00091	8d 45 f0	 lea	 eax, DWORD PTR _target$[ebp]
  00094	50		 push	 eax
  00095	8d 4d f8	 lea	 ecx, DWORD PTR _task$[ebp]
  00098	51		 push	 ecx
  00099	8d 55 fc	 lea	 edx, DWORD PTR _wp$[ebp]
  0009c	52		 push	 edx
  0009d	8d 45 f4	 lea	 eax, DWORD PTR _aggressor$[ebp]
  000a0	50		 push	 eax
  000a1	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000a4	51		 push	 ecx
  000a5	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 1024 : 
; 1025 : 	set_client_server_entity_float_value (en, FLOAT_TYPE_VELOCITY, get_local_entity_float_value (aggressor, FLOAT_TYPE_CRUISE_VELOCITY));

  000aa	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000ae	74 0a		 je	 SHORT $LN11@set_attack
  000b0	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b5	89 4d a8	 mov	 DWORD PTR tv148[ebp], ecx
  000b8	eb 21		 jmp	 SHORT $LN12@set_attack
$LN11@set_attack:
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  000c0	83 c2 0e	 add	 edx, 14			; 0000000eH
  000c3	52		 push	 edx
  000c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ce	50		 push	 eax
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv148[ebp], 0
$LN12@set_attack:
  000db	b9 01 00 00 00	 mov	 ecx, 1
  000e0	85 c9		 test	 ecx, ecx
  000e2	74 09		 je	 SHORT $LN13@set_attack
  000e4	c7 45 a4 19 00
	00 00		 mov	 DWORD PTR tv156[ebp], 25 ; 00000019H
  000eb	eb 21		 jmp	 SHORT $LN14@set_attack
$LN13@set_attack:
  000ed	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  000f3	83 c2 0e	 add	 edx, 14			; 0000000eH
  000f6	52		 push	 edx
  000f7	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00101	50		 push	 eax
  00102	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00107	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv156[ebp], 0
$LN14@set_attack:
  0010e	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00112	74 0a		 je	 SHORT $LN7@set_attack
  00114	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00117	8b 11		 mov	 edx, DWORD PTR [ecx]
  00119	89 55 a0	 mov	 DWORD PTR tv129[ebp], edx
  0011c	eb 21		 jmp	 SHORT $LN8@set_attack
$LN7@set_attack:
  0011e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  00123	83 c0 0e	 add	 eax, 14			; 0000000eH
  00126	50		 push	 eax
  00127	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0012c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00132	51		 push	 ecx
  00133	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00138	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN8@set_attack:
  0013f	ba 01 00 00 00	 mov	 edx, 1
  00144	85 d2		 test	 edx, edx
  00146	74 09		 je	 SHORT $LN9@set_attack
  00148	c7 45 9c 93 00
	00 00		 mov	 DWORD PTR tv137[ebp], 147 ; 00000093H
  0014f	eb 21		 jmp	 SHORT $LN10@set_attack
$LN9@set_attack:
  00151	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  00156	83 c0 0e	 add	 eax, 14			; 0000000eH
  00159	50		 push	 eax
  0015a	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0016b	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv137[ebp], 0
$LN10@set_attack:
  00172	6a 19		 push	 25			; 00000019H
  00174	8b 55 f4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00177	52		 push	 edx
  00178	69 45 a8 bc 02
	00 00		 imul	 eax, DWORD PTR tv148[ebp], 700
  0017f	8b 4d a4	 mov	 ecx, DWORD PTR tv156[ebp]
  00182	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  00189	ff d2		 call	 edx
  0018b	d9 5d 98	 fstp	 DWORD PTR tv248[ebp]
  0018e	f3 0f 10 45 98	 movss	 xmm0, DWORD PTR tv248[ebp]
  00193	51		 push	 ecx
  00194	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00199	68 93 00 00 00	 push	 147			; 00000093H
  0019e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001a1	50		 push	 eax
  001a2	69 4d a0 78 05
	00 00		 imul	 ecx, DWORD PTR tv129[ebp], 1400
  001a9	8b 55 9c	 mov	 edx, DWORD PTR tv137[ebp]
  001ac	8d 84 d1 00 00
	00 00		 lea	 eax, DWORD PTR ?fn_set_client_server_entity_float_value@@3PAY1KP@1P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[ecx+edx*8]
  001b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  001b9	8b 14 88	 mov	 edx, DWORD PTR [eax+ecx*4]
  001bc	ff d2		 call	 edx

; 1026 : 
; 1027 : 	position = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_COVER_POSITION);

  001be	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  001c2	74 0a		 je	 SHORT $LN15@set_attack
  001c4	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  001c7	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c9	89 4d a8	 mov	 DWORD PTR tv173[ebp], ecx
  001cc	eb 21		 jmp	 SHORT $LN16@set_attack
$LN15@set_attack:
  001ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  001d4	83 c2 10	 add	 edx, 16			; 00000010H
  001d7	52		 push	 edx
  001d8	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e2	50		 push	 eax
  001e3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e8	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv173[ebp], 0
$LN16@set_attack:
  001ef	b9 01 00 00 00	 mov	 ecx, 1
  001f4	85 c9		 test	 ecx, ecx
  001f6	74 09		 je	 SHORT $LN17@set_attack
  001f8	c7 45 a4 02 00
	00 00		 mov	 DWORD PTR tv181[ebp], 2
  001ff	eb 21		 jmp	 SHORT $LN18@set_attack
$LN17@set_attack:
  00201	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z@4JA
  00207	83 c2 10	 add	 edx, 16			; 00000010H
  0020a	52		 push	 edx
  0020b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00210	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00215	50		 push	 eax
  00216	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0021b	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv181[ebp], 0
$LN18@set_attack:
  00222	6a 02		 push	 2
  00224	8b 4d f4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00227	51		 push	 ecx
  00228	6b 55 a8 60	 imul	 edx, DWORD PTR tv173[ebp], 96
  0022c	8b 45 a4	 mov	 eax, DWORD PTR tv181[ebp]
  0022f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00236	ff d1		 call	 ecx
  00238	89 45 ec	 mov	 DWORD PTR _position$[ebp], eax

; 1028 : 
; 1029 : 	set_client_server_guide_entity_new_position (en, position, NULL);

  0023b	6a 00		 push	 0
  0023d	8b 45 ec	 mov	 eax, DWORD PTR _position$[ebp]
  00240	50		 push	 eax
  00241	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00244	51		 push	 ecx
  00245	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 1030 : 
; 1031 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, FALSE, 0.0);

  0024a	51		 push	 ecx
  0024b	0f 57 c0	 xorps	 xmm0, xmm0
  0024e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00253	6a 00		 push	 0
  00255	6a 02		 push	 2
  00257	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0025a	50		 push	 eax
  0025b	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1032 : 
; 1033 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, TRUE, rad (5.0));

  00260	51		 push	 ecx
  00261	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3db2b8c2
  00269	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0026e	6a 01		 push	 1
  00270	6a 01		 push	 1
  00272	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00275	50		 push	 eax
  00276	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1034 : 
; 1035 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, FALSE, 0.0);

  0027b	51		 push	 ecx
  0027c	0f 57 c0	 xorps	 xmm0, xmm0
  0027f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00284	6a 00		 push	 0
  00286	6a 05		 push	 5
  00288	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0028b	50		 push	 eax
  0028c	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1036 : 
; 1037 : 	//
; 1038 : 	// Play Speech
; 1039 : 	//
; 1040 : 
; 1041 : 	play_client_server_wingman_message

  00291	6a 35		 push	 53			; 00000035H
  00293	6a 07		 push	 7
  00295	6a 02		 push	 2
  00297	51		 push	 ecx
  00298	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40a00000
  002a0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002a5	6a 02		 push	 2
  002a7	51		 push	 ecx
  002a8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40400000
  002b0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002b5	51		 push	 ecx
  002b6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e99999a
  002be	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002c3	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002c6	50		 push	 eax
  002c7	e8 00 00 00 00	 call	 ?play_client_server_wingman_message@@YGHPAUENTITY@@MMW4speech_category_types@@MW4speech_intro_types@@W4speech_array_types@@H@Z ; play_client_server_wingman_message

; 1042 : 	(
; 1043 : 		aggressor,
; 1044 : 		0.3,
; 1045 : 		3.0,
; 1046 : 		SPEECH_CATEGORY_ATTACKING_TARGETS,
; 1047 : 		5.0,
; 1048 : 		SPEECH_INTRODUCTION_ALWAYS,
; 1049 : 		SPEECH_ARRAY_WINGMAN_MESSAGES,
; 1050 : 		SPEECH_WINGMAN_FLYING_TO_COVER
; 1051 : 	);
; 1052 : }

  002cc	5f		 pop	 edi
  002cd	5e		 pop	 esi
  002ce	5b		 pop	 ebx
  002cf	8b e5		 mov	 esp, ebp
  002d1	5d		 pop	 ebp
  002d2	c2 04 00	 ret	 4
?set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z ENDP ; set_attack_guide_fly_to_cover_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_no_cover_found@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv364 = -132						; size = 4
tv377 = -128						; size = 4
tv357 = -124						; size = 4
tv241 = -120						; size = 4
tv183 = -120						; size = 4
tv162 = -120						; size = 4
tv135 = -120						; size = 4
tv83 = -120						; size = 4
tv233 = -116						; size = 4
tv197 = -116						; size = 4
tv175 = -116						; size = 4
tv154 = -116						; size = 4
tv95 = -116						; size = 4
tv75 = -116						; size = 4
_distance$ = -48					; size = 4
_direction$ = -44					; size = 8
_position$ = -36					; size = 12
_target_pos$ = -24					; size = 4
_aggressor_pos$ = -20					; size = 4
_target$ = -16						; size = 4
_aggressor$ = -12					; size = 4
_task$ = -8						; size = 4
_wp$ = -4						; size = 4
_en$ = 8						; size = 4
?attack_guide_no_cover_found@@YGXPAUENTITY@@@Z PROC	; attack_guide_no_cover_found, COMDAT

; 916  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 917  : 	entity
; 918  : 		*wp,
; 919  : 		*task,
; 920  : 		*aggressor,
; 921  : 		*target;
; 922  : 
; 923  : 	vec3d
; 924  : 		*aggressor_pos,
; 925  : 		*target_pos,
; 926  : 		position;
; 927  : 
; 928  : 	vec2d
; 929  : 		direction;
; 930  : 
; 931  : 	float
; 932  : 		distance;
; 933  : 
; 934  : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  0000c	8d 45 f0	 lea	 eax, DWORD PTR _target$[ebp]
  0000f	50		 push	 eax
  00010	8d 4d f8	 lea	 ecx, DWORD PTR _task$[ebp]
  00013	51		 push	 ecx
  00014	8d 55 fc	 lea	 edx, DWORD PTR _wp$[ebp]
  00017	52		 push	 edx
  00018	8d 45 f4	 lea	 eax, DWORD PTR _aggressor$[ebp]
  0001b	50		 push	 eax
  0001c	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0001f	51		 push	 ecx
  00020	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 935  : 
; 936  : 	target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00025	83 7d f0 00	 cmp	 DWORD PTR _target$[ebp], 0
  00029	74 0a		 je	 SHORT $LN5@attack_gui
  0002b	8b 45 f0	 mov	 eax, DWORD PTR _target$[ebp]
  0002e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00030	89 4d 8c	 mov	 DWORD PTR tv75[ebp], ecx
  00033	eb 21		 jmp	 SHORT $LN6@attack_gui
$LN5@attack_gui:
  00035	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  0003b	83 c2 14	 add	 edx, 20			; 00000014H
  0003e	52		 push	 edx
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00044	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00049	50		 push	 eax
  0004a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004f	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN6@attack_gui:
  00056	b9 01 00 00 00	 mov	 ecx, 1
  0005b	85 c9		 test	 ecx, ecx
  0005d	74 09		 je	 SHORT $LN7@attack_gui
  0005f	c7 45 88 08 00
	00 00		 mov	 DWORD PTR tv83[ebp], 8
  00066	eb 21		 jmp	 SHORT $LN8@attack_gui
$LN7@attack_gui:
  00068	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  0006e	83 c2 14	 add	 edx, 20			; 00000014H
  00071	52		 push	 edx
  00072	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00077	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0007c	50		 push	 eax
  0007d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00082	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN8@attack_gui:
  00089	6a 08		 push	 8
  0008b	8b 4d f0	 mov	 ecx, DWORD PTR _target$[ebp]
  0008e	51		 push	 ecx
  0008f	6b 55 8c 60	 imul	 edx, DWORD PTR tv75[ebp], 96
  00093	8b 45 88	 mov	 eax, DWORD PTR tv83[ebp]
  00096	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0009d	ff d1		 call	 ecx
  0009f	89 45 e8	 mov	 DWORD PTR _target_pos$[ebp], eax

; 937  : 
; 938  : 	aggressor_pos = get_local_entity_vec3d_ptr (aggressor, VEC3D_TYPE_POSITION);

  000a2	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000a6	74 0a		 je	 SHORT $LN9@attack_gui
  000a8	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000ab	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ad	89 4d 8c	 mov	 DWORD PTR tv95[ebp], ecx
  000b0	eb 21		 jmp	 SHORT $LN10@attack_gui
$LN9@attack_gui:
  000b2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  000b8	83 c2 16	 add	 edx, 22			; 00000016H
  000bb	52		 push	 edx
  000bc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c6	50		 push	 eax
  000c7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000cc	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
$LN10@attack_gui:
  000d3	b9 01 00 00 00	 mov	 ecx, 1
  000d8	85 c9		 test	 ecx, ecx
  000da	74 09		 je	 SHORT $LN11@attack_gui
  000dc	c7 45 88 08 00
	00 00		 mov	 DWORD PTR tv135[ebp], 8
  000e3	eb 21		 jmp	 SHORT $LN12@attack_gui
$LN11@attack_gui:
  000e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  000eb	83 c2 16	 add	 edx, 22			; 00000016H
  000ee	52		 push	 edx
  000ef	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  000f9	50		 push	 eax
  000fa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ff	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN12@attack_gui:
  00106	6a 08		 push	 8
  00108	8b 4d f4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0010b	51		 push	 ecx
  0010c	6b 55 8c 60	 imul	 edx, DWORD PTR tv95[ebp], 96
  00110	8b 45 88	 mov	 eax, DWORD PTR tv135[ebp]
  00113	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0011a	ff d1		 call	 ecx
  0011c	89 45 ec	 mov	 DWORD PTR _aggressor_pos$[ebp], eax

; 939  : 
; 940  : 	//
; 941  : 	// No cover found - Check Line Of Sight
; 942  : 	//
; 943  : 
; 944  : 	if (check_position_line_of_sight (aggressor, target, aggressor_pos, target_pos, MOBILE_LOS_CHECK_ALL))

  0011f	6a 1f		 push	 31			; 0000001fH
  00121	8b 45 e8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00124	50		 push	 eax
  00125	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor_pos$[ebp]
  00128	51		 push	 ecx
  00129	8b 55 f0	 mov	 edx, DWORD PTR _target$[ebp]
  0012c	52		 push	 edx
  0012d	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00130	50		 push	 eax
  00131	e8 00 00 00 00	 call	 ?check_position_line_of_sight@@YGHPAUENTITY@@0PAUVEC3D@@1W4MOBILE_LOS_CHECK_CRITERIA@@@Z ; check_position_line_of_sight
  00136	85 c0		 test	 eax, eax
  00138	0f 84 8c 00 00
	00		 je	 $LN2@attack_gui

; 945  : 	{
; 946  : 		//
; 947  : 		// Full Line Of Sight - forget cover just fire from here
; 948  : 		//
; 949  : 
; 950  : 		set_local_entity_vec3d (aggressor, VEC3D_TYPE_COVER_POSITION, aggressor_pos);

  0013e	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00142	74 0a		 je	 SHORT $LN13@attack_gui
  00144	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00147	8b 08		 mov	 ecx, DWORD PTR [eax]
  00149	89 4d 8c	 mov	 DWORD PTR tv154[ebp], ecx
  0014c	eb 21		 jmp	 SHORT $LN14@attack_gui
$LN13@attack_gui:
  0014e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  00154	83 c2 22	 add	 edx, 34			; 00000022H
  00157	52		 push	 edx
  00158	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0015d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00162	50		 push	 eax
  00163	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00168	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv154[ebp], 0
$LN14@attack_gui:
  0016f	b9 01 00 00 00	 mov	 ecx, 1
  00174	85 c9		 test	 ecx, ecx
  00176	74 09		 je	 SHORT $LN15@attack_gui
  00178	c7 45 88 02 00
	00 00		 mov	 DWORD PTR tv162[ebp], 2
  0017f	eb 21		 jmp	 SHORT $LN16@attack_gui
$LN15@attack_gui:
  00181	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  00187	83 c2 22	 add	 edx, 34			; 00000022H
  0018a	52		 push	 edx
  0018b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00190	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00195	50		 push	 eax
  00196	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019b	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv162[ebp], 0
$LN16@attack_gui:
  001a2	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor_pos$[ebp]
  001a5	51		 push	 ecx
  001a6	6a 02		 push	 2
  001a8	8b 55 f4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  001ab	52		 push	 edx
  001ac	6b 45 8c 60	 imul	 eax, DWORD PTR tv154[ebp], 96
  001b0	8b 4d 88	 mov	 ecx, DWORD PTR tv162[ebp]
  001b3	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  001ba	ff d2		 call	 edx

; 951  : 
; 952  : 		set_attack_guide_fly_to_cover_position (en);

  001bc	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001bf	50		 push	 eax
  001c0	e8 00 00 00 00	 call	 ?set_attack_guide_fly_to_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_fly_to_cover_position

; 953  : 
; 954  : 		return;

  001c5	e9 83 02 00 00	 jmp	 $LN1@attack_gui
$LN2@attack_gui:

; 955  : 	}
; 956  : 
; 957  : 	//
; 958  : 	// Set guide to seek cover, but rotate around the target
; 959  : 	//
; 960  : 
; 961  : 	set_client_server_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_SEEK_COVER);

  001ca	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  001ce	74 0a		 je	 SHORT $LN17@attack_gui
  001d0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001d3	8b 08		 mov	 ecx, DWORD PTR [eax]
  001d5	89 4d 8c	 mov	 DWORD PTR tv175[ebp], ecx
  001d8	eb 21		 jmp	 SHORT $LN18@attack_gui
$LN17@attack_gui:
  001da	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  001e0	83 c2 2d	 add	 edx, 45			; 0000002dH
  001e3	52		 push	 edx
  001e4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ee	50		 push	 eax
  001ef	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001f4	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv175[ebp], 0
$LN18@attack_gui:
  001fb	b9 01 00 00 00	 mov	 ecx, 1
  00200	85 c9		 test	 ecx, ecx
  00202	74 09		 je	 SHORT $LN19@attack_gui
  00204	c7 45 88 34 00
	00 00		 mov	 DWORD PTR tv183[ebp], 52 ; 00000034H
  0020b	eb 21		 jmp	 SHORT $LN20@attack_gui
$LN19@attack_gui:
  0020d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  00213	83 c2 2d	 add	 edx, 45			; 0000002dH
  00216	52		 push	 edx
  00217	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0021c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00221	50		 push	 eax
  00222	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00227	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv183[ebp], 0
$LN20@attack_gui:
  0022e	6a 0a		 push	 10			; 0000000aH
  00230	6a 34		 push	 52			; 00000034H
  00232	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00235	51		 push	 ecx
  00236	69 55 8c b8 08
	00 00		 imul	 edx, DWORD PTR tv175[ebp], 2232
  0023d	8b 45 88	 mov	 eax, DWORD PTR tv183[ebp]
  00240	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00247	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0024d	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  00250	ff d0		 call	 eax

; 962  : 
; 963  : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER);

  00252	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00256	74 0a		 je	 SHORT $LN21@attack_gui
  00258	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0025b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0025d	89 4d 8c	 mov	 DWORD PTR tv197[ebp], ecx
  00260	eb 21		 jmp	 SHORT $LN22@attack_gui
$LN21@attack_gui:
  00262	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  00268	83 c2 2f	 add	 edx, 47			; 0000002fH
  0026b	52		 push	 edx
  0026c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00271	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00276	50		 push	 eax
  00277	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0027c	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv197[ebp], 0
$LN22@attack_gui:
  00283	83 7d 8c 0e	 cmp	 DWORD PTR tv197[ebp], 14 ; 0000000eH
  00287	74 18		 je	 SHORT $LN3@attack_gui
  00289	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  0028e	83 c0 2f	 add	 eax, 47			; 0000002fH
  00291	50		 push	 eax
  00292	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00297	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
  0029c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@attack_gui:

; 964  : 
; 965  : 	//
; 966  : 	// calculate vector of aggressor to target
; 967  : 	//
; 968  : 
; 969  : 	direction.x = aggressor_pos->x - target_pos->x;

  002a1	8b 45 ec	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002a4	8b 4d e8	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002a7	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  002ab	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  002af	f3 0f 11 45 d4	 movss	 DWORD PTR _direction$[ebp], xmm0

; 970  : 	direction.y = aggressor_pos->z - target_pos->z;

  002b4	8b 45 ec	 mov	 eax, DWORD PTR _aggressor_pos$[ebp]
  002b7	8b 4d e8	 mov	 ecx, DWORD PTR _target_pos$[ebp]
  002ba	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  002bf	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  002c4	f3 0f 11 45 d8	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 971  : 
; 972  : 	distance = normalise_any_2d_vector (&direction);

  002c9	8d 45 d4	 lea	 eax, DWORD PTR _direction$[ebp]
  002cc	50		 push	 eax
  002cd	e8 00 00 00 00	 call	 ?normalise_any_2d_vector@@YGMPAUVEC2D@@@Z ; normalise_any_2d_vector
  002d2	d9 5d d0	 fstp	 DWORD PTR _distance$[ebp]

; 973  : 
; 974  : 	//
; 975  : 	// Reduce distance (spiral around target)
; 976  : 	//
; 977  : 
; 978  : 	distance *= 0.8;

  002d5	f3 0f 5a 45 d0	 cvtss2sd xmm0, DWORD PTR _distance$[ebp]
  002da	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3fe999999999999a
  002e2	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  002e6	f3 0f 11 45 d0	 movss	 DWORD PTR _distance$[ebp], xmm0

; 979  : 
; 980  : 	//
; 981  : 	// calculate guide position
; 982  : 	//
; 983  : 
; 984  : 	rotate_2d_vector (&direction, rad (25.0));

  002eb	51		 push	 ecx
  002ec	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3edf66f3
  002f4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002f9	8d 45 d4	 lea	 eax, DWORD PTR _direction$[ebp]
  002fc	50		 push	 eax
  002fd	e8 00 00 00 00	 call	 ?rotate_2d_vector@@YGXPAUVEC2D@@M@Z ; rotate_2d_vector

; 985  : 
; 986  : 	position.x = target_pos->x + (direction.x * distance);

  00302	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _direction$[ebp]
  00307	f3 0f 59 45 d0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  0030c	8b 45 e8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  0030f	f3 0f 58 00	 addss	 xmm0, DWORD PTR [eax]
  00313	f3 0f 11 45 dc	 movss	 DWORD PTR _position$[ebp], xmm0

; 987  : 	position.z = target_pos->z + (direction.y * distance);

  00318	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _direction$[ebp+4]
  0031d	f3 0f 59 45 d0	 mulss	 xmm0, DWORD PTR _distance$[ebp]
  00322	8b 45 e8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00325	f3 0f 58 40 08	 addss	 xmm0, DWORD PTR [eax+8]
  0032a	f3 0f 11 45 e4	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 988  : 
; 989  : 	bound_position_to_adjusted_map_volume (&position);

  0032f	8d 45 dc	 lea	 eax, DWORD PTR _position$[ebp]
  00332	50		 push	 eax
  00333	e8 00 00 00 00	 call	 ?bound_position_to_adjusted_map_volume@@YGHPAUVEC3D@@@Z ; bound_position_to_adjusted_map_volume

; 990  : 
; 991  : 	position.y = get_3d_terrain_elevation (position.x, position.z) + get_local_entity_float_value (aggressor, FLOAT_TYPE_ATTACK_ALTITUDE);

  00338	83 7d f4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0033c	74 0a		 je	 SHORT $LN23@attack_gui
  0033e	8b 45 f4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00341	8b 08		 mov	 ecx, DWORD PTR [eax]
  00343	89 4d 8c	 mov	 DWORD PTR tv233[ebp], ecx
  00346	eb 21		 jmp	 SHORT $LN24@attack_gui
$LN23@attack_gui:
  00348	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  0034e	83 c2 4b	 add	 edx, 75			; 0000004bH
  00351	52		 push	 edx
  00352	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00357	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0035c	50		 push	 eax
  0035d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00362	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv233[ebp], 0
$LN24@attack_gui:
  00369	b9 01 00 00 00	 mov	 ecx, 1
  0036e	85 c9		 test	 ecx, ecx
  00370	74 09		 je	 SHORT $LN25@attack_gui
  00372	c7 45 88 0e 00
	00 00		 mov	 DWORD PTR tv241[ebp], 14 ; 0000000eH
  00379	eb 21		 jmp	 SHORT $LN26@attack_gui
$LN25@attack_gui:
  0037b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_no_cover_found@@YGXPAUENTITY@@@Z@4JA
  00381	83 c2 4b	 add	 edx, 75			; 0000004bH
  00384	52		 push	 edx
  00385	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0038a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0038f	50		 push	 eax
  00390	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00395	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv241[ebp], 0
$LN26@attack_gui:
  0039c	6a 00		 push	 0
  0039e	51		 push	 ecx
  0039f	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _position$[ebp+8]
  003a4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003a9	51		 push	 ecx
  003aa	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _position$[ebp]
  003af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003b4	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  003b9	d9 5d 84	 fstp	 DWORD PTR tv357[ebp]
  003bc	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR tv357[ebp]
  003c1	6a 0e		 push	 14			; 0000000eH
  003c3	8b 4d f4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  003c6	51		 push	 ecx
  003c7	69 55 8c bc 02
	00 00		 imul	 edx, DWORD PTR tv233[ebp], 700
  003ce	8b 45 88	 mov	 eax, DWORD PTR tv241[ebp]
  003d1	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  003d8	f3 0f 11 45 80	 movss	 DWORD PTR tv377[ebp], xmm0
  003dd	ff d1		 call	 ecx
  003df	d9 9d 7c ff ff
	ff		 fstp	 DWORD PTR tv364[ebp]
  003e5	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR tv377[ebp]
  003ea	f3 0f 58 85 7c
	ff ff ff	 addss	 xmm0, DWORD PTR tv364[ebp]
  003f2	f3 0f 11 45 e0	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 992  : 
; 993  : 	set_client_server_guide_entity_new_position (en, &position, NULL);

  003f7	6a 00		 push	 0
  003f9	8d 45 dc	 lea	 eax, DWORD PTR _position$[ebp]
  003fc	50		 push	 eax
  003fd	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00400	51		 push	 ecx
  00401	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position

; 994  : 
; 995  : 	//
; 996  : 	// Set criteria
; 997  : 	//
; 998  : 
; 999  : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_ALTITUDE, FALSE, 0.0);

  00406	51		 push	 ecx
  00407	0f 57 c0	 xorps	 xmm0, xmm0
  0040a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0040f	6a 00		 push	 0
  00411	6a 02		 push	 2
  00413	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00416	50		 push	 eax
  00417	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1000 : 
; 1001 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_HEADING, TRUE, rad (5.0));

  0041c	51		 push	 ecx
  0041d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3db2b8c2
  00425	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0042a	6a 01		 push	 1
  0042c	6a 01		 push	 1
  0042e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00431	50		 push	 eax
  00432	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid

; 1002 : 
; 1003 : 	set_client_server_guide_criteria_valid (en, GUIDE_CRITERIA_WEAPON_VECTOR, FALSE, 0.0);

  00437	51		 push	 ecx
  00438	0f 57 c0	 xorps	 xmm0, xmm0
  0043b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00440	6a 00		 push	 0
  00442	6a 05		 push	 5
  00444	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00447	50		 push	 eax
  00448	e8 00 00 00 00	 call	 ?set_client_server_guide_criteria_valid@@YGXPAUENTITY@@W4GUIDE_CRITERIA_TYPES@@HM@Z ; set_client_server_guide_criteria_valid
$LN1@attack_gui:

; 1004 : }

  0044d	5f		 pop	 edi
  0044e	5e		 pop	 esi
  0044f	5b		 pop	 ebx
  00450	8b e5		 mov	 esp, ebp
  00452	5d		 pop	 ebp
  00453	c2 04 00	 ret	 4
?attack_guide_no_cover_found@@YGXPAUENTITY@@@Z ENDP	; attack_guide_no_cover_found
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv147 = -92						; size = 4
tv81 = -92						; size = 4
tv139 = -88						; size = 4
tv74 = -88						; size = 4
_best_weapon$ = -20					; size = 4
_aggressor$ = -16					; size = 4
_target$ = -12						; size = 4
_wp$ = -8						; size = 4
_task$ = -4						; size = 4
_en$ = 8						; size = 4
?attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z PROC ; attack_guide_hasty_take_cover_reached, COMDAT

; 633  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 634  : 	entity
; 635  : 		*task,
; 636  : 		*wp,
; 637  : 		*target,
; 638  : 		*aggressor;
; 639  : 
; 640  : 	entity_sub_types
; 641  : 		best_weapon;
; 642  : 
; 643  : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00009	8d 45 f4	 lea	 eax, DWORD PTR _target$[ebp]
  0000c	50		 push	 eax
  0000d	8d 4d fc	 lea	 ecx, DWORD PTR _task$[ebp]
  00010	51		 push	 ecx
  00011	8d 55 f8	 lea	 edx, DWORD PTR _wp$[ebp]
  00014	52		 push	 edx
  00015	8d 45 f0	 lea	 eax, DWORD PTR _aggressor$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 644  : 
; 645  : 	//
; 646  : 	// check weapon
; 647  : 	//
; 648  : 
; 649  : 	if (get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON) == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  00022	83 7d f0 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00026	74 0a		 je	 SHORT $LN6@attack_gui
  00028	8b 45 f0	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0002b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002d	89 4d a8	 mov	 DWORD PTR tv74[ebp], ecx
  00030	eb 1d		 jmp	 SHORT $LN7@attack_gui
$LN6@attack_gui:
  00032	68 89 02 00 00	 push	 649			; 00000289H
  00037	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00042	52		 push	 edx
  00043	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00048	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN7@attack_gui:
  0004f	b8 01 00 00 00	 mov	 eax, 1
  00054	85 c0		 test	 eax, eax
  00056	74 09		 je	 SHORT $LN8@attack_gui
  00058	c7 45 a4 b8 00
	00 00		 mov	 DWORD PTR tv81[ebp], 184 ; 000000b8H
  0005f	eb 1d		 jmp	 SHORT $LN9@attack_gui
$LN8@attack_gui:
  00061	68 89 02 00 00	 push	 649			; 00000289H
  00066	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00071	51		 push	 ecx
  00072	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00077	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN9@attack_gui:
  0007e	68 b8 00 00 00	 push	 184			; 000000b8H
  00083	8b 55 f0	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00086	52		 push	 edx
  00087	69 45 a8 5c 04
	00 00		 imul	 eax, DWORD PTR tv74[ebp], 1116
  0008e	8b 4d a4	 mov	 ecx, DWORD PTR tv81[ebp]
  00091	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00098	ff d2		 call	 edx
  0009a	85 c0		 test	 eax, eax
  0009c	0f 85 d0 00 00
	00		 jne	 $LN2@attack_gui

; 650  : 	{
; 651  : 		best_weapon = get_best_weapon_for_target (aggressor, target, BEST_WEAPON_RANGE_CHECK);

  000a2	6a 04		 push	 4
  000a4	8b 45 f4	 mov	 eax, DWORD PTR _target$[ebp]
  000a7	50		 push	 eax
  000a8	8b 4d f0	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  000ab	51		 push	 ecx
  000ac	e8 00 00 00 00	 call	 ?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z ; get_best_weapon_for_target
  000b1	89 45 ec	 mov	 DWORD PTR _best_weapon$[ebp], eax

; 652  : 
; 653  : 		if (best_weapon == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  000b4	83 7d ec 00	 cmp	 DWORD PTR _best_weapon$[ebp], 0
  000b8	75 2c		 jne	 SHORT $LN3@attack_gui

; 654  : 		{
; 655  : 			//
; 656  : 			// No suitable weapon at current range
; 657  : 			//
; 658  : 
; 659  : 			best_weapon = get_best_weapon_for_target (aggressor, target, BEST_WEAPON_CRITERIA_MINIMAL);

  000ba	6a 00		 push	 0
  000bc	8b 45 f4	 mov	 eax, DWORD PTR _target$[ebp]
  000bf	50		 push	 eax
  000c0	8b 4d f0	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  000c3	51		 push	 ecx
  000c4	e8 00 00 00 00	 call	 ?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z ; get_best_weapon_for_target
  000c9	89 45 ec	 mov	 DWORD PTR _best_weapon$[ebp], eax

; 660  : 
; 661  : 			if (best_weapon == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  000cc	83 7d ec 00	 cmp	 DWORD PTR _best_weapon$[ebp], 0
  000d0	75 14		 jne	 SHORT $LN3@attack_gui

; 662  : 			{
; 663  : 				//
; 664  : 				// Entity is not capable of destroying the target - abort the attack
; 665  : 				//
; 666  : 
; 667  : 				delete_group_member_from_engage_guide (aggressor, en, TRUE);

  000d2	6a 01		 push	 1
  000d4	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000d7	50		 push	 eax
  000d8	8b 4d f0	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  000db	51		 push	 ecx
  000dc	e8 00 00 00 00	 call	 ?delete_group_member_from_engage_guide@@YGXPAUENTITY@@0H@Z ; delete_group_member_from_engage_guide

; 668  : 
; 669  : 				return;

  000e1	e9 95 00 00 00	 jmp	 $LN1@attack_gui
$LN3@attack_gui:

; 670  : 			}
; 671  : 		}
; 672  : 
; 673  : 		set_client_server_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON, best_weapon);

  000e6	83 7d f0 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000ea	74 0a		 je	 SHORT $LN10@attack_gui
  000ec	8b 45 f0	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000ef	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f1	89 4d a8	 mov	 DWORD PTR tv139[ebp], ecx
  000f4	eb 21		 jmp	 SHORT $LN11@attack_gui
$LN10@attack_gui:
  000f6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  000fc	83 c2 28	 add	 edx, 40			; 00000028H
  000ff	52		 push	 edx
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00110	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv139[ebp], 0
$LN11@attack_gui:
  00117	b9 01 00 00 00	 mov	 ecx, 1
  0011c	85 c9		 test	 ecx, ecx
  0011e	74 09		 je	 SHORT $LN12@attack_gui
  00120	c7 45 a4 b8 00
	00 00		 mov	 DWORD PTR tv147[ebp], 184 ; 000000b8H
  00127	eb 21		 jmp	 SHORT $LN13@attack_gui
$LN12@attack_gui:
  00129	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  0012f	83 c2 28	 add	 edx, 40			; 00000028H
  00132	52		 push	 edx
  00133	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00138	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0013d	50		 push	 eax
  0013e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00143	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
$LN13@attack_gui:
  0014a	8b 4d ec	 mov	 ecx, DWORD PTR _best_weapon$[ebp]
  0014d	51		 push	 ecx
  0014e	68 b8 00 00 00	 push	 184			; 000000b8H
  00153	8b 55 f0	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00156	52		 push	 edx
  00157	69 45 a8 b8 08
	00 00		 imul	 eax, DWORD PTR tv139[ebp], 2232
  0015e	8b 4d a4	 mov	 ecx, DWORD PTR tv147[ebp]
  00161	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  00168	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0016d	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  00170	ff d1		 call	 ecx
$LN2@attack_gui:

; 674  : 	}
; 675  : 
; 676  : 	//
; 677  : 	// change guide type to SEEK_COVER
; 678  : 	//
; 679  : 
; 680  : 	set_attack_guide_seek_cover_position (en);

  00172	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00175	50		 push	 eax
  00176	e8 00 00 00 00	 call	 ?set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_seek_cover_position
$LN1@attack_gui:

; 681  : }

  0017b	5f		 pop	 edi
  0017c	5e		 pop	 esi
  0017d	5b		 pop	 ebx
  0017e	8b e5		 mov	 esp, ebp
  00180	5d		 pop	 ebp
  00181	c2 04 00	 ret	 4
?attack_guide_hasty_take_cover_reached@@YGXPAUENTITY@@@Z ENDP ; attack_guide_hasty_take_cover_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv189 = -80						; size = 4
tv170 = -80						; size = 4
tv147 = -80						; size = 4
tv78 = -80						; size = 4
tv182 = -76						; size = 4
tv163 = -76						; size = 4
tv139 = -76						; size = 4
tv95 = -76						; size = 4
tv70 = -76						; size = 4
_target$ = -8						; size = 4
_aggressor$ = -4					; size = 4
_en$ = 8						; size = 4
?attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_hasty_fire_reached, COMDAT

; 587  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 588  : 	entity
; 589  : 		*aggressor,
; 590  : 		*target;
; 591  : 
; 592  : 	aggressor = (entity *) get_local_entity_ptr_value (en, PTR_TYPE_TASK_LEADER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN9@attack_gui
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d b4	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN10@attack_gui
$LN9@attack_gui:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 05	 add	 edx, 5
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN10@attack_gui:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN11@attack_gui
  00043	c7 45 b0 0f 00
	00 00		 mov	 DWORD PTR tv78[ebp], 15	; 0000000fH
  0004a	eb 21		 jmp	 SHORT $LN12@attack_gui
$LN11@attack_gui:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 05	 add	 edx, 5
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN12@attack_gui:
  0006d	6a 0f		 push	 15			; 0000000fH
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00072	51		 push	 ecx
  00073	6b 55 b4 50	 imul	 edx, DWORD PTR tv70[ebp], 80
  00077	8b 45 b0	 mov	 eax, DWORD PTR tv78[ebp]
  0007a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00081	ff d1		 call	 ecx
  00083	89 45 fc	 mov	 DWORD PTR _aggressor$[ebp], eax

; 593  : 
; 594  : 	ASSERT (aggressor);

  00086	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0008a	75 18		 jne	 SHORT $LN2@attack_gui
  0008c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  00091	83 c0 07	 add	 eax, 7
  00094	50		 push	 eax
  00095	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0009a	68 00 00 00 00	 push	 OFFSET ??_C@_09HKMIOAOH@aggressor@
  0009f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@attack_gui:

; 595  : 
; 596  : 	ASSERT (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER);

  000a4	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000a8	74 0a		 je	 SHORT $LN13@attack_gui
  000aa	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000ad	8b 08		 mov	 ecx, DWORD PTR [eax]
  000af	89 4d b4	 mov	 DWORD PTR tv95[ebp], ecx
  000b2	eb 21		 jmp	 SHORT $LN14@attack_gui
$LN13@attack_gui:
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  000ba	83 c2 09	 add	 edx, 9
  000bd	52		 push	 edx
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
$LN14@attack_gui:
  000d5	83 7d b4 0e	 cmp	 DWORD PTR tv95[ebp], 14	; 0000000eH
  000d9	74 18		 je	 SHORT $LN3@attack_gui
  000db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  000e0	83 c0 09	 add	 eax, 9
  000e3	50		 push	 eax
  000e4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e9	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@CJNMDCLH@get_local_entity_type?5?$CIaggresso@
  000ee	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@attack_gui:

; 597  : 
; 598  : 	target = get_local_entity_parent (aggressor, LIST_TYPE_TARGET);

  000f3	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000f7	74 0a		 je	 SHORT $LN15@attack_gui
  000f9	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000fc	8b 08		 mov	 ecx, DWORD PTR [eax]
  000fe	89 4d b4	 mov	 DWORD PTR tv139[ebp], ecx
  00101	eb 21		 jmp	 SHORT $LN16@attack_gui
$LN15@attack_gui:
  00103	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  00109	83 c2 0b	 add	 edx, 11			; 0000000bH
  0010c	52		 push	 edx
  0010d	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00112	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00117	50		 push	 eax
  00118	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv139[ebp], 0
$LN16@attack_gui:
  00124	b9 01 00 00 00	 mov	 ecx, 1
  00129	85 c9		 test	 ecx, ecx
  0012b	74 09		 je	 SHORT $LN17@attack_gui
  0012d	c7 45 b0 26 00
	00 00		 mov	 DWORD PTR tv147[ebp], 38 ; 00000026H
  00134	eb 21		 jmp	 SHORT $LN18@attack_gui
$LN17@attack_gui:
  00136	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  0013c	83 c2 0b	 add	 edx, 11			; 0000000bH
  0013f	52		 push	 edx
  00140	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00145	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0014a	50		 push	 eax
  0014b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00150	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
$LN18@attack_gui:
  00157	6a 26		 push	 38			; 00000026H
  00159	8b 4d fc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0015c	51		 push	 ecx
  0015d	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv139[ebp], 180
  00164	8b 45 b0	 mov	 eax, DWORD PTR tv147[ebp]
  00167	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0016e	ff d1		 call	 ecx
  00170	89 45 f8	 mov	 DWORD PTR _target$[ebp], eax

; 599  : 
; 600  : 	ASSERT (target);

  00173	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  00177	75 18		 jne	 SHORT $LN4@attack_gui
  00179	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z@4JA
  0017e	83 c0 0d	 add	 eax, 13			; 0000000dH
  00181	50		 push	 eax
  00182	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00187	68 00 00 00 00	 push	 OFFSET ??_C@_06JJLAMBGK@target@
  0018c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@attack_gui:

; 601  : 
; 602  : 	//
; 603  : 	// Take a pot-shot
; 604  : 	//
; 605  : 
; 606  : 	if (get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON) != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  00191	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00195	74 0a		 je	 SHORT $LN19@attack_gui
  00197	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0019a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0019c	89 4d b4	 mov	 DWORD PTR tv163[ebp], ecx
  0019f	eb 1d		 jmp	 SHORT $LN20@attack_gui
$LN19@attack_gui:
  001a1	68 5e 02 00 00	 push	 606			; 0000025eH
  001a6	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001b1	52		 push	 edx
  001b2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b7	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv163[ebp], 0
$LN20@attack_gui:
  001be	b8 01 00 00 00	 mov	 eax, 1
  001c3	85 c0		 test	 eax, eax
  001c5	74 09		 je	 SHORT $LN21@attack_gui
  001c7	c7 45 b0 b8 00
	00 00		 mov	 DWORD PTR tv170[ebp], 184 ; 000000b8H
  001ce	eb 1d		 jmp	 SHORT $LN22@attack_gui
$LN21@attack_gui:
  001d0	68 5e 02 00 00	 push	 606			; 0000025eH
  001d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001da	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001e0	51		 push	 ecx
  001e1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e6	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv170[ebp], 0
$LN22@attack_gui:
  001ed	68 b8 00 00 00	 push	 184			; 000000b8H
  001f2	8b 55 fc	 mov	 edx, DWORD PTR _aggressor$[ebp]
  001f5	52		 push	 edx
  001f6	69 45 b4 5c 04
	00 00		 imul	 eax, DWORD PTR tv163[ebp], 1116
  001fd	8b 4d b0	 mov	 ecx, DWORD PTR tv170[ebp]
  00200	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00207	ff d2		 call	 edx
  00209	85 c0		 test	 eax, eax
  0020b	0f 84 9a 00 00
	00		 je	 $LN5@attack_gui

; 607  : 	{
; 608  : 		if (!get_local_entity_int_value (aggressor, INT_TYPE_WEAPONS_HOLD))

  00211	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00215	74 0a		 je	 SHORT $LN23@attack_gui
  00217	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0021a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0021c	89 4d b4	 mov	 DWORD PTR tv182[ebp], ecx
  0021f	eb 1d		 jmp	 SHORT $LN24@attack_gui
$LN23@attack_gui:
  00221	68 60 02 00 00	 push	 608			; 00000260H
  00226	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0022b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00231	52		 push	 edx
  00232	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00237	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv182[ebp], 0
$LN24@attack_gui:
  0023e	b8 01 00 00 00	 mov	 eax, 1
  00243	85 c0		 test	 eax, eax
  00245	74 09		 je	 SHORT $LN25@attack_gui
  00247	c7 45 b0 11 01
	00 00		 mov	 DWORD PTR tv189[ebp], 273 ; 00000111H
  0024e	eb 1d		 jmp	 SHORT $LN26@attack_gui
$LN25@attack_gui:
  00250	68 60 02 00 00	 push	 608			; 00000260H
  00255	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0025a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00260	51		 push	 ecx
  00261	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00266	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv189[ebp], 0
$LN26@attack_gui:
  0026d	68 11 01 00 00	 push	 273			; 00000111H
  00272	8b 55 fc	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00275	52		 push	 edx
  00276	69 45 b4 5c 04
	00 00		 imul	 eax, DWORD PTR tv182[ebp], 1116
  0027d	8b 4d b0	 mov	 ecx, DWORD PTR tv189[ebp]
  00280	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00287	ff d2		 call	 edx
  00289	85 c0		 test	 eax, eax
  0028b	75 1e		 jne	 SHORT $LN5@attack_gui

; 609  : 		{
; 610  : 			if (check_entity_line_of_sight (aggressor, target, MOBILE_LOS_CHECK_ALL))

  0028d	6a 1f		 push	 31			; 0000001fH
  0028f	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  00292	50		 push	 eax
  00293	8b 4d fc	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00296	51		 push	 ecx
  00297	e8 00 00 00 00	 call	 ?check_entity_line_of_sight@@YGHPAUENTITY@@0W4MOBILE_LOS_CHECK_CRITERIA@@@Z ; check_entity_line_of_sight
  0029c	85 c0		 test	 eax, eax
  0029e	74 0b		 je	 SHORT $LN5@attack_gui

; 611  : 			{
; 612  : 				//
; 613  : 				// (as long as it is in "weapons free" mode)
; 614  : 				//
; 615  : 
; 616  : 				aircraft_fire_weapon (aggressor, AIRCRAFT_FIRE_CHECK_ALL);

  002a0	6a 3f		 push	 63			; 0000003fH
  002a2	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002a5	50		 push	 eax
  002a6	e8 00 00 00 00	 call	 ?aircraft_fire_weapon@@YG?AW4AIRCRAFT_FIRE_RESULT@@PAUENTITY@@I@Z ; aircraft_fire_weapon
$LN5@attack_gui:

; 617  : 			}
; 618  : 		}
; 619  : 	}
; 620  : 
; 621  : 	//
; 622  : 	// and duck down low
; 623  : 	//
; 624  : 
; 625  : 	set_attack_guide_hasty_take_cover_position (en);

  002ab	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002ae	50		 push	 eax
  002af	e8 00 00 00 00	 call	 ?set_attack_guide_hasty_take_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_hasty_take_cover_position

; 626  : }

  002b4	5f		 pop	 edi
  002b5	5e		 pop	 esi
  002b6	5b		 pop	 ebx
  002b7	8b e5		 mov	 esp, ebp
  002b9	5d		 pop	 ebp
  002ba	c2 04 00	 ret	 4
?attack_guide_hasty_fire_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_hasty_fire_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_egress_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv87 = -92						; size = 4
tv79 = -88						; size = 4
_aggressor$ = -20					; size = 4
_target$ = -16						; size = 4
_wp$ = -12						; size = 4
_task$ = -8						; size = 4
_best_weapon$ = -4					; size = 4
_en$ = 8						; size = 4
?attack_guide_egress_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_egress_reached, COMDAT

; 544  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 545  : 	entity_sub_types
; 546  : 		best_weapon;
; 547  : 
; 548  : 	entity
; 549  : 		*task,
; 550  : 		*wp,
; 551  : 		*target,
; 552  : 		*aggressor;
; 553  : 
; 554  : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00009	8d 45 f0	 lea	 eax, DWORD PTR _target$[ebp]
  0000c	50		 push	 eax
  0000d	8d 4d f8	 lea	 ecx, DWORD PTR _task$[ebp]
  00010	51		 push	 ecx
  00011	8d 55 f4	 lea	 edx, DWORD PTR _wp$[ebp]
  00014	52		 push	 edx
  00015	8d 45 ec	 lea	 eax, DWORD PTR _aggressor$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 555  : 
; 556  : 	//
; 557  : 	// find best weapon for target (approach ranges will be based on this)
; 558  : 	//
; 559  : 
; 560  : 	best_weapon = get_best_weapon_for_target (aggressor, target, BEST_WEAPON_CRITERIA_MINIMAL);

  00022	6a 00		 push	 0
  00024	8b 45 f0	 mov	 eax, DWORD PTR _target$[ebp]
  00027	50		 push	 eax
  00028	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0002b	51		 push	 ecx
  0002c	e8 00 00 00 00	 call	 ?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z ; get_best_weapon_for_target
  00031	89 45 fc	 mov	 DWORD PTR _best_weapon$[ebp], eax

; 561  : 
; 562  : 	set_client_server_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON, best_weapon);

  00034	83 7d ec 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00038	74 0a		 je	 SHORT $LN4@attack_gui
  0003a	8b 45 ec	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0003d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003f	89 4d a8	 mov	 DWORD PTR tv79[ebp], ecx
  00042	eb 21		 jmp	 SHORT $LN5@attack_gui
$LN4@attack_gui:
  00044	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_egress_reached@@YGXPAUENTITY@@@Z@4JA
  0004a	83 c2 12	 add	 edx, 18			; 00000012H
  0004d	52		 push	 edx
  0004e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00053	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00058	50		 push	 eax
  00059	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005e	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv79[ebp], 0
$LN5@attack_gui:
  00065	b9 01 00 00 00	 mov	 ecx, 1
  0006a	85 c9		 test	 ecx, ecx
  0006c	74 09		 je	 SHORT $LN6@attack_gui
  0006e	c7 45 a4 b8 00
	00 00		 mov	 DWORD PTR tv87[ebp], 184 ; 000000b8H
  00075	eb 21		 jmp	 SHORT $LN7@attack_gui
$LN6@attack_gui:
  00077	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_egress_reached@@YGXPAUENTITY@@@Z@4JA
  0007d	83 c2 12	 add	 edx, 18			; 00000012H
  00080	52		 push	 edx
  00081	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00086	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0008b	50		 push	 eax
  0008c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00091	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv87[ebp], 0
$LN7@attack_gui:
  00098	8b 4d fc	 mov	 ecx, DWORD PTR _best_weapon$[ebp]
  0009b	51		 push	 ecx
  0009c	68 b8 00 00 00	 push	 184			; 000000b8H
  000a1	8b 55 ec	 mov	 edx, DWORD PTR _aggressor$[ebp]
  000a4	52		 push	 edx
  000a5	69 45 a8 b8 08
	00 00		 imul	 eax, DWORD PTR tv79[ebp], 2232
  000ac	8b 4d a4	 mov	 ecx, DWORD PTR tv87[ebp]
  000af	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  000b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000bb	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  000be	ff d1		 call	 ecx

; 563  : 
; 564  : 	if (best_weapon == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  000c0	83 7d fc 00	 cmp	 DWORD PTR _best_weapon$[ebp], 0
  000c4	75 11		 jne	 SHORT $LN2@attack_gui

; 565  : 	{
; 566  : 		//
; 567  : 		// Entity is not capable of destroying the target - abort the attack
; 568  : 		//
; 569  : 
; 570  : 		delete_group_member_from_engage_guide (aggressor, en, TRUE);

  000c6	6a 01		 push	 1
  000c8	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000cb	50		 push	 eax
  000cc	8b 4d ec	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  000cf	51		 push	 ecx
  000d0	e8 00 00 00 00	 call	 ?delete_group_member_from_engage_guide@@YGXPAUENTITY@@0H@Z ; delete_group_member_from_engage_guide

; 571  : 
; 572  : 		return;

  000d5	eb 09		 jmp	 SHORT $LN1@attack_gui
$LN2@attack_gui:

; 573  : 	}
; 574  : 
; 575  : 	//
; 576  : 	// Change guide type back to APPROACH
; 577  : 	//
; 578  : 
; 579  : 	set_attack_guide_approach_position (en);

  000d7	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000da	50		 push	 eax
  000db	e8 00 00 00 00	 call	 ?set_attack_guide_approach_position@@YGXPAUENTITY@@@Z ; set_attack_guide_approach_position
$LN1@attack_gui:

; 580  : }

  000e0	5f		 pop	 edi
  000e1	5e		 pop	 esi
  000e2	5b		 pop	 ebx
  000e3	8b e5		 mov	 esp, ebp
  000e5	5d		 pop	 ebp
  000e6	c2 04 00	 ret	 4
?attack_guide_egress_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_egress_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_disengage_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?attack_guide_disengage_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_disengage_reached, COMDAT

; 531  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 532  : 	//
; 533  : 	// Jet - Change guide type to EGRESS
; 534  : 	//
; 535  : 
; 536  : 	set_attack_guide_egress_position (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?set_attack_guide_egress_position@@YGXPAUENTITY@@@Z ; set_attack_guide_egress_position

; 537  : }

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c2 04 00	 ret	 4
?attack_guide_disengage_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_disengage_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_fire_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv147 = -96						; size = 4
tv95 = -96						; size = 4
tv78 = -96						; size = 4
tv178 = -92						; size = 4
tv139 = -92						; size = 4
tv131 = -92						; size = 4
tv94 = -92						; size = 4
tv70 = -92						; size = 4
_terrain_elevation$1 = -24				; size = 4
_altitude$2 = -20					; size = 4
_position$3 = -16					; size = 12
_aggressor$ = -4					; size = 4
_en$ = 8						; size = 4
?attack_guide_fire_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_fire_reached, COMDAT

; 393  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 394  : 	entity
; 395  : 		*aggressor;
; 396  : 
; 397  : 	//
; 398  : 	// Fire Weapon
; 399  : 	// Jet - Change guide type to DISENGAGE
; 400  : 	// Helicopter - Move back to TAKE_COVER
; 401  : 	//
; 402  : 
; 403  : 	aggressor = (entity *) get_local_entity_ptr_value (en, PTR_TYPE_TASK_LEADER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN18@attack_gui
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d a4	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN19@attack_gui
$LN18@attack_gui:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 0a	 add	 edx, 10			; 0000000aH
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN19@attack_gui:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN20@attack_gui
  00043	c7 45 a0 0f 00
	00 00		 mov	 DWORD PTR tv78[ebp], 15	; 0000000fH
  0004a	eb 21		 jmp	 SHORT $LN21@attack_gui
$LN20@attack_gui:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 0a	 add	 edx, 10			; 0000000aH
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN21@attack_gui:
  0006d	6a 0f		 push	 15			; 0000000fH
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00072	51		 push	 ecx
  00073	6b 55 a4 50	 imul	 edx, DWORD PTR tv70[ebp], 80
  00077	8b 45 a0	 mov	 eax, DWORD PTR tv78[ebp]
  0007a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00081	ff d1		 call	 ecx
  00083	89 45 fc	 mov	 DWORD PTR _aggressor$[ebp], eax

; 404  : 
; 405  : 	ASSERT (aggressor);

  00086	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0008a	75 18		 jne	 SHORT $LN6@attack_gui
  0008c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA
  00091	83 c0 0c	 add	 eax, 12			; 0000000cH
  00094	50		 push	 eax
  00095	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0009a	68 00 00 00 00	 push	 OFFSET ??_C@_09HKMIOAOH@aggressor@
  0009f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@attack_gui:

; 406  : 
; 407  : 	switch (get_local_entity_type (aggressor))

  000a4	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000a8	74 0a		 je	 SHORT $LN22@attack_gui
  000aa	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000ad	8b 08		 mov	 ecx, DWORD PTR [eax]
  000af	89 4d a4	 mov	 DWORD PTR tv94[ebp], ecx
  000b2	eb 1d		 jmp	 SHORT $LN23@attack_gui
$LN22@attack_gui:
  000b4	68 97 01 00 00	 push	 407			; 00000197H
  000b9	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000be	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c4	52		 push	 edx
  000c5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ca	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv94[ebp], 0
$LN23@attack_gui:
  000d1	8b 45 a4	 mov	 eax, DWORD PTR tv94[ebp]
  000d4	89 45 a0	 mov	 DWORD PTR tv95[ebp], eax
  000d7	83 7d a0 0a	 cmp	 DWORD PTR tv95[ebp], 10	; 0000000aH
  000db	0f 84 30 01 00
	00		 je	 $LN15@attack_gui
  000e1	83 7d a0 0e	 cmp	 DWORD PTR tv95[ebp], 14	; 0000000eH
  000e5	74 05		 je	 SHORT $LN7@attack_gui
  000e7	e9 3b 01 00 00	 jmp	 $LN16@attack_gui
$LN7@attack_gui:

; 408  : 	{
; 409  : 		/////////////////////////////
; 410  : 		//
; 411  : 		case ENTITY_TYPE_HELICOPTER:
; 412  : 		//
; 413  : 		/////////////////////////////
; 414  : 		{
; 415  : 			switch (aircraft_fire_weapon (aggressor, AIRCRAFT_FIRE_CHECK_ALL))

  000ec	6a 3f		 push	 63			; 0000003fH
  000ee	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000f1	50		 push	 eax
  000f2	e8 00 00 00 00	 call	 ?aircraft_fire_weapon@@YG?AW4AIRCRAFT_FIRE_RESULT@@PAUENTITY@@I@Z ; aircraft_fire_weapon
  000f7	89 45 a4	 mov	 DWORD PTR tv131[ebp], eax
  000fa	83 7d a4 01	 cmp	 DWORD PTR tv131[ebp], 1
  000fe	74 0b		 je	 SHORT $LN8@attack_gui
  00100	83 7d a4 10	 cmp	 DWORD PTR tv131[ebp], 16 ; 00000010H
  00104	74 1d		 je	 SHORT $LN11@attack_gui
  00106	e9 04 01 00 00	 jmp	 $LN4@attack_gui
$LN8@attack_gui:

; 416  : 			{
; 417  : 				case AIRCRAFT_FIRE_OK:
; 418  : 				{
; 419  : 					//
; 420  : 					// Aircraft fired weapon - move back to cover position
; 421  : 					//
; 422  : 
; 423  : 					set_attack_guide_take_cover_position (en);

  0010b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0010e	50		 push	 eax
  0010f	e8 00 00 00 00	 call	 ?set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_take_cover_position

; 424  : 
; 425  : 					break;

  00114	e9 f6 00 00 00	 jmp	 $LN4@attack_gui

; 426  : 				}
; 427  : 
; 428  : 				case AIRCRAFT_FIRE_WEAPON_SYSTEM_NOT_READY:
; 429  : 				{
; 430  : 					//
; 431  : 					// weapon system not ready - wait
; 432  : 					//
; 433  : 
; 434  : 					break;

  00119	e9 f1 00 00 00	 jmp	 $LN4@attack_gui

; 435  : 				}
; 436  : 
; 437  : 				case AIRCRAFT_FIRE_NO_WEAPON:
; 438  : 				case AIRCRAFT_FIRE_NO_TARGET:
; 439  : 				{
; 440  : 					//
; 441  : 					// Aircraft has no suitable weapon / target - abort task
; 442  : 					//
; 443  : 
; 444  : 					// (should never happen ?)
; 445  : 
; 446  : 					break;

  0011e	e9 ec 00 00 00	 jmp	 $LN4@attack_gui
$LN11@attack_gui:

; 447  : 				}
; 448  : 
; 449  : 				case AIRCRAFT_FIRE_NO_LOS:
; 450  : 				{
; 451  : 					//
; 452  : 					// no LOS - increase altitude of guide
; 453  : 					//
; 454  : 
; 455  : 					vec3d
; 456  : 						position;
; 457  : 
; 458  : 					float
; 459  : 						altitude,
; 460  : 						terrain_elevation;
; 461  : 
; 462  : 					get_local_entity_vec3d (en, VEC3D_TYPE_GUIDE_POSITION, &position);

  00123	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00127	74 0a		 je	 SHORT $LN24@attack_gui
  00129	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0012c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0012e	89 4d a4	 mov	 DWORD PTR tv139[ebp], ecx
  00131	eb 21		 jmp	 SHORT $LN25@attack_gui
$LN24@attack_gui:
  00133	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA
  00139	83 c2 45	 add	 edx, 69			; 00000045H
  0013c	52		 push	 edx
  0013d	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00142	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00147	50		 push	 eax
  00148	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0014d	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv139[ebp], 0
$LN25@attack_gui:
  00154	b9 01 00 00 00	 mov	 ecx, 1
  00159	85 c9		 test	 ecx, ecx
  0015b	74 09		 je	 SHORT $LN26@attack_gui
  0015d	c7 45 a0 04 00
	00 00		 mov	 DWORD PTR tv147[ebp], 4
  00164	eb 21		 jmp	 SHORT $LN27@attack_gui
$LN26@attack_gui:
  00166	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA
  0016c	83 c2 45	 add	 edx, 69			; 00000045H
  0016f	52		 push	 edx
  00170	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00175	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0017a	50		 push	 eax
  0017b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00180	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
$LN27@attack_gui:
  00187	8d 4d f0	 lea	 ecx, DWORD PTR _position$3[ebp]
  0018a	51		 push	 ecx
  0018b	6a 04		 push	 4
  0018d	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00190	52		 push	 edx
  00191	6b 45 a4 60	 imul	 eax, DWORD PTR tv139[ebp], 96
  00195	8b 4d a0	 mov	 ecx, DWORD PTR tv147[ebp]
  00198	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0019f	ff d2		 call	 edx

; 463  : 
; 464  : 					position.y += 10.0;

  001a1	f3 0f 5a 45 f4	 cvtss2sd xmm0, DWORD PTR _position$3[ebp+4]
  001a6	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  001ae	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001b2	f3 0f 11 45 f4	 movss	 DWORD PTR _position$3[ebp+4], xmm0

; 465  : 
; 466  : 					//
; 467  : 					// check position isn't too high
; 468  : 					//
; 469  : 
; 470  : 					terrain_elevation = get_3d_terrain_elevation (position.x, position.z);

  001b7	6a 00		 push	 0
  001b9	51		 push	 ecx
  001ba	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _position$3[ebp+8]
  001bf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001c4	51		 push	 ecx
  001c5	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _position$3[ebp]
  001ca	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001cf	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  001d4	d9 5d e8	 fstp	 DWORD PTR _terrain_elevation$1[ebp]

; 471  : 
; 472  : 					altitude = position.y - terrain_elevation;

  001d7	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _position$3[ebp+4]
  001dc	f3 0f 5c 45 e8	 subss	 xmm0, DWORD PTR _terrain_elevation$1[ebp]
  001e1	f3 0f 11 45 ec	 movss	 DWORD PTR _altitude$2[ebp], xmm0

; 473  : 
; 474  : 					if (altitude >= 100.0)

  001e6	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _altitude$2[ebp]
  001eb	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4059000000000000
  001f3	72 0b		 jb	 SHORT $LN12@attack_gui

; 475  : 					{
; 476  : 						//
; 477  : 						// something wrong - e.g. target has moved - find another cover position
; 478  : 						//
; 479  : 
; 480  : 						set_attack_guide_seek_cover_position (en);

  001f5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001f8	50		 push	 eax
  001f9	e8 00 00 00 00	 call	 ?set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_seek_cover_position

; 481  : 					}
; 482  : 					else

  001fe	eb 0f		 jmp	 SHORT $LN13@attack_gui
$LN12@attack_gui:

; 483  : 					{
; 484  : 						set_client_server_guide_entity_new_position (en, &position, NULL);

  00200	6a 00		 push	 0
  00202	8d 45 f0	 lea	 eax, DWORD PTR _position$3[ebp]
  00205	50		 push	 eax
  00206	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00209	51		 push	 ecx
  0020a	e8 00 00 00 00	 call	 ?set_client_server_guide_entity_new_position@@YGXPAUENTITY@@PAUVEC3D@@0@Z ; set_client_server_guide_entity_new_position
$LN13@attack_gui:
$LN4@attack_gui:

; 485  : 					}
; 486  : 
; 487  : 					break;
; 488  : 				}
; 489  : 
; 490  : 				case AIRCRAFT_FIRE_SUPPRESSED:
; 491  : 				{
; 492  : 					//
; 493  : 					// suppress AI fire option selected - should never engage !
; 494  : 					//
; 495  : 
; 496  : 					break;
; 497  : 				}
; 498  : 			}
; 499  : 
; 500  : 			break;

  0020f	eb 5b		 jmp	 SHORT $LN2@attack_gui
$LN15@attack_gui:

; 501  : 		}
; 502  : 
; 503  : 		/////////////////////////////
; 504  : 		//
; 505  : 		case ENTITY_TYPE_FIXED_WING:
; 506  : 		//
; 507  : 		/////////////////////////////
; 508  : 		{
; 509  : 			//
; 510  : 			// Must set the disengage position BEFORE firing the weapon, as firing may set selected weapon to NONE
; 511  : 			//
; 512  : 
; 513  : 			set_attack_guide_disengage_position (en);

  00211	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00214	50		 push	 eax
  00215	e8 00 00 00 00	 call	 ?set_attack_guide_disengage_position@@YGXPAUENTITY@@@Z ; set_attack_guide_disengage_position

; 514  : 
; 515  : 			aircraft_fire_weapon (aggressor, AIRCRAFT_FIRE_CHECK_ALL);

  0021a	6a 3f		 push	 63			; 0000003fH
  0021c	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0021f	50		 push	 eax
  00220	e8 00 00 00 00	 call	 ?aircraft_fire_weapon@@YG?AW4AIRCRAFT_FIRE_RESULT@@PAUENTITY@@I@Z ; aircraft_fire_weapon

; 516  : 
; 517  : 			break;

  00225	eb 45		 jmp	 SHORT $LN2@attack_gui
$LN16@attack_gui:

; 518  : 		}
; 519  : 		default:
; 520  : 		{
; 521  : 			debug_fatal ("GD_ATTCK: Invalid Entity Type %d", get_local_entity_type (aggressor));

  00227	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0022b	74 0a		 je	 SHORT $LN28@attack_gui
  0022d	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00230	8b 08		 mov	 ecx, DWORD PTR [eax]
  00232	89 4d a4	 mov	 DWORD PTR tv178[ebp], ecx
  00235	eb 24		 jmp	 SHORT $LN29@attack_gui
$LN28@attack_gui:
  00237	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_fire_reached@@YGXPAUENTITY@@@Z@4JA
  0023d	81 c2 80 00 00
	00		 add	 edx, 128		; 00000080H
  00243	52		 push	 edx
  00244	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00249	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0024e	50		 push	 eax
  0024f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00254	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv178[ebp], 0
$LN29@attack_gui:
  0025b	8b 4d a4	 mov	 ecx, DWORD PTR tv178[ebp]
  0025e	51		 push	 ecx
  0025f	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@JPPNIKIJ@GD_ATTCK?3?5Invalid?5Entity?5Type?5?$CF@
  00264	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00269	83 c4 08	 add	 esp, 8
$LN2@attack_gui:

; 522  : 		}
; 523  : 	}
; 524  : }

  0026c	5f		 pop	 edi
  0026d	5e		 pop	 esi
  0026e	5b		 pop	 ebx
  0026f	8b e5		 mov	 esp, ebp
  00271	5d		 pop	 ebp
  00272	c2 04 00	 ret	 4
?attack_guide_fire_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_fire_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_dive_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?attack_guide_dive_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_dive_reached, COMDAT

; 380  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 381  : 	//
; 382  : 	// change guide type to FIRE and calculate new position
; 383  : 	//
; 384  : 
; 385  : 	set_attack_guide_fire_position (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?set_attack_guide_fire_position@@YGXPAUENTITY@@@Z ; set_attack_guide_fire_position

; 386  : }

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c2 04 00	 ret	 4
?attack_guide_dive_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_dive_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_climb_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?attack_guide_climb_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_climb_reached, COMDAT

; 367  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 368  : 	//
; 369  : 	// change guide type to DIVE and calculate new position
; 370  : 	//
; 371  : 
; 372  : 	set_attack_guide_dive_position (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?set_attack_guide_dive_position@@YGXPAUENTITY@@@Z ; set_attack_guide_dive_position

; 373  : }

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c2 04 00	 ret	 4
?attack_guide_climb_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_climb_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv78 = -72						; size = 4
tv70 = -68						; size = 4
_en$ = 8						; size = 4
?attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z PROC ; attack_guide_proceed_to_fire_positon, COMDAT

; 352  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 353  : 	//
; 354  : 	// change guide type to FIRE and calculate new position
; 355  : 	//
; 356  : 
; 357  : 	ASSERT (get_local_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE) == ENTITY_SUB_TYPE_GUIDE_ATTACK_AG_TAKE_COVER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN4@attack_gui
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d bc	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN5@attack_gui
$LN4@attack_gui:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 05	 add	 edx, 5
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN5@attack_gui:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN6@attack_gui
  00043	c7 45 b8 34 00
	00 00		 mov	 DWORD PTR tv78[ebp], 52	; 00000034H
  0004a	eb 21		 jmp	 SHORT $LN7@attack_gui
$LN6@attack_gui:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 05	 add	 edx, 5
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN7@attack_gui:
  0006d	6a 34		 push	 52			; 00000034H
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00072	51		 push	 ecx
  00073	69 55 bc 5c 04
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 1116
  0007a	8b 45 b8	 mov	 eax, DWORD PTR tv78[ebp]
  0007d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00084	ff d1		 call	 ecx
  00086	83 f8 0c	 cmp	 eax, 12			; 0000000cH
  00089	74 18		 je	 SHORT $LN2@attack_gui
  0008b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z@4JA
  00090	83 c0 05	 add	 eax, 5
  00093	50		 push	 eax
  00094	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00099	68 00 00 00 00	 push	 OFFSET ??_C@_0GI@JBBFOOOP@get_local_entity_int_value?5?$CIen?0@
  0009e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@attack_gui:

; 358  : 
; 359  : 	set_attack_guide_fire_position (en);

  000a3	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000a6	50		 push	 eax
  000a7	e8 00 00 00 00	 call	 ?set_attack_guide_fire_position@@YGXPAUENTITY@@@Z ; set_attack_guide_fire_position

; 360  : }

  000ac	5f		 pop	 edi
  000ad	5e		 pop	 esi
  000ae	5b		 pop	 ebx
  000af	8b e5		 mov	 esp, ebp
  000b1	5d		 pop	 ebp
  000b2	c2 04 00	 ret	 4
?attack_guide_proceed_to_fire_positon@@YGXPAUENTITY@@@Z ENDP ; attack_guide_proceed_to_fire_positon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv335 = -116						; size = 8
tv292 = -108						; size = 4
tv271 = -108						; size = 4
tv240 = -108						; size = 4
tv218 = -108						; size = 4
tv195 = -108						; size = 4
tv164 = -108						; size = 4
tv138 = -108						; size = 4
tv83 = -108						; size = 4
tv284 = -104						; size = 4
tv264 = -104						; size = 4
tv232 = -104						; size = 4
tv210 = -104						; size = 4
tv187 = -104						; size = 4
tv156 = -104						; size = 4
tv131 = -104						; size = 4
tv75 = -104						; size = 4
_selected_weapon$ = -36					; size = 4
_best_weapon$ = -32					; size = 4
_aggressor$ = -28					; size = 4
_target$ = -24						; size = 4
_wp$ = -20						; size = 4
_task$ = -16						; size = 4
_leader$ = -12						; size = 4
_group$ = -8						; size = 4
_last_weapon$ = -4					; size = 4
_en$ = 8						; size = 4
?attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_take_cover_reached, COMDAT

; 243  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 74	 sub	 esp, 116		; 00000074H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 244  : 	entity
; 245  : 		*last_weapon,
; 246  : 		*group,
; 247  : 		*leader,
; 248  : 		*task,
; 249  : 		*wp,
; 250  : 		*target,
; 251  : 		*aggressor;
; 252  : 
; 253  : 	entity_sub_types
; 254  : 		best_weapon,
; 255  : 		selected_weapon;
; 256  : 
; 257  : 	get_local_guide_entity_pointers (en, &aggressor, &wp, &task, &target);

  00009	8d 45 e8	 lea	 eax, DWORD PTR _target$[ebp]
  0000c	50		 push	 eax
  0000d	8d 4d f0	 lea	 ecx, DWORD PTR _task$[ebp]
  00010	51		 push	 ecx
  00011	8d 55 ec	 lea	 edx, DWORD PTR _wp$[ebp]
  00014	52		 push	 edx
  00015	8d 45 e4	 lea	 eax, DWORD PTR _aggressor$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ?get_local_guide_entity_pointers@@YGXPAUENTITY@@PAPAU1@111@Z ; get_local_guide_entity_pointers

; 258  : 
; 259  : 	group = get_local_entity_parent (en, LIST_TYPE_GUIDE_STACK);

  00022	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00026	74 0a		 je	 SHORT $LN14@attack_gui
  00028	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002d	89 4d 98	 mov	 DWORD PTR tv75[ebp], ecx
  00030	eb 21		 jmp	 SHORT $LN15@attack_gui
$LN14@attack_gui:
  00032	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  00038	83 c2 10	 add	 edx, 16			; 00000010H
  0003b	52		 push	 edx
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004c	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN15@attack_gui:
  00053	b9 01 00 00 00	 mov	 ecx, 1
  00058	85 c9		 test	 ecx, ecx
  0005a	74 09		 je	 SHORT $LN16@attack_gui
  0005c	c7 45 94 11 00
	00 00		 mov	 DWORD PTR tv83[ebp], 17	; 00000011H
  00063	eb 21		 jmp	 SHORT $LN17@attack_gui
$LN16@attack_gui:
  00065	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  0006b	83 c2 10	 add	 edx, 16			; 00000010H
  0006e	52		 push	 edx
  0006f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00074	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00079	50		 push	 eax
  0007a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007f	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN17@attack_gui:
  00086	6a 11		 push	 17			; 00000011H
  00088	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0008b	51		 push	 ecx
  0008c	69 55 98 b4 00
	00 00		 imul	 edx, DWORD PTR tv75[ebp], 180
  00093	8b 45 94	 mov	 eax, DWORD PTR tv83[ebp]
  00096	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0009d	ff d1		 call	 ecx
  0009f	89 45 f8	 mov	 DWORD PTR _group$[ebp], eax

; 260  : 
; 261  : 	ASSERT (group);

  000a2	83 7d f8 00	 cmp	 DWORD PTR _group$[ebp], 0
  000a6	75 18		 jne	 SHORT $LN2@attack_gui
  000a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  000ad	83 c0 12	 add	 eax, 18			; 00000012H
  000b0	50		 push	 eax
  000b1	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b6	68 00 00 00 00	 push	 OFFSET ??_C@_05MGJOOGAJ@group@
  000bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@attack_gui:

; 262  : 
; 263  : 	//
; 264  : 	// Wait if mobile is still firing
; 265  : 	//
; 266  : 
; 267  : 	if (get_local_entity_float_value (aggressor, FLOAT_TYPE_WEAPON_BURST_TIMER) > 0.0)

  000c0	83 7d e4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000c4	74 0a		 je	 SHORT $LN18@attack_gui
  000c6	8b 45 e4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000c9	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cb	89 4d 98	 mov	 DWORD PTR tv131[ebp], ecx
  000ce	eb 1d		 jmp	 SHORT $LN19@attack_gui
$LN18@attack_gui:
  000d0	68 0b 01 00 00	 push	 267			; 0000010bH
  000d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000da	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e0	52		 push	 edx
  000e1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e6	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN19@attack_gui:
  000ed	b8 01 00 00 00	 mov	 eax, 1
  000f2	85 c0		 test	 eax, eax
  000f4	74 09		 je	 SHORT $LN20@attack_gui
  000f6	c7 45 94 96 00
	00 00		 mov	 DWORD PTR tv138[ebp], 150 ; 00000096H
  000fd	eb 1d		 jmp	 SHORT $LN21@attack_gui
$LN20@attack_gui:
  000ff	68 0b 01 00 00	 push	 267			; 0000010bH
  00104	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00109	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0010f	51		 push	 ecx
  00110	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00115	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv138[ebp], 0
$LN21@attack_gui:
  0011c	68 96 00 00 00	 push	 150			; 00000096H
  00121	8b 55 e4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00124	52		 push	 edx
  00125	69 45 98 bc 02
	00 00		 imul	 eax, DWORD PTR tv131[ebp], 700
  0012c	8b 4d 94	 mov	 ecx, DWORD PTR tv138[ebp]
  0012f	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  00136	ff d2		 call	 edx
  00138	dd 5d 8c	 fstp	 QWORD PTR tv335[ebp]
  0013b	f2 0f 10 45 8c	 movsd	 xmm0, QWORD PTR tv335[ebp]
  00140	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00148	76 05		 jbe	 SHORT $LN3@attack_gui

; 268  : 	{
; 269  : 		return;

  0014a	e9 f2 03 00 00	 jmp	 $LN1@attack_gui
$LN3@attack_gui:

; 270  : 	}
; 271  : 
; 272  : 	//
; 273  : 	// check weapon
; 274  : 	//
; 275  : 
; 276  : 	best_weapon = get_best_weapon_for_target (aggressor, target, BEST_WEAPON_RANGE_CHECK);

  0014f	6a 04		 push	 4
  00151	8b 45 e8	 mov	 eax, DWORD PTR _target$[ebp]
  00154	50		 push	 eax
  00155	8b 4d e4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00158	51		 push	 ecx
  00159	e8 00 00 00 00	 call	 ?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z ; get_best_weapon_for_target
  0015e	89 45 e0	 mov	 DWORD PTR _best_weapon$[ebp], eax

; 277  : 
; 278  : 	selected_weapon = get_local_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON);

  00161	83 7d e4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00165	74 0a		 je	 SHORT $LN22@attack_gui
  00167	8b 45 e4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0016a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0016c	89 4d 98	 mov	 DWORD PTR tv156[ebp], ecx
  0016f	eb 21		 jmp	 SHORT $LN23@attack_gui
$LN22@attack_gui:
  00171	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  00177	83 c2 23	 add	 edx, 35			; 00000023H
  0017a	52		 push	 edx
  0017b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00180	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00185	50		 push	 eax
  00186	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0018b	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv156[ebp], 0
$LN23@attack_gui:
  00192	b9 01 00 00 00	 mov	 ecx, 1
  00197	85 c9		 test	 ecx, ecx
  00199	74 09		 je	 SHORT $LN24@attack_gui
  0019b	c7 45 94 b8 00
	00 00		 mov	 DWORD PTR tv164[ebp], 184 ; 000000b8H
  001a2	eb 21		 jmp	 SHORT $LN25@attack_gui
$LN24@attack_gui:
  001a4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  001aa	83 c2 23	 add	 edx, 35			; 00000023H
  001ad	52		 push	 edx
  001ae	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001b8	50		 push	 eax
  001b9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001be	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv164[ebp], 0
$LN25@attack_gui:
  001c5	68 b8 00 00 00	 push	 184			; 000000b8H
  001ca	8b 4d e4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  001cd	51		 push	 ecx
  001ce	69 55 98 5c 04
	00 00		 imul	 edx, DWORD PTR tv156[ebp], 1116
  001d5	8b 45 94	 mov	 eax, DWORD PTR tv164[ebp]
  001d8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  001df	ff d1		 call	 ecx
  001e1	89 45 dc	 mov	 DWORD PTR _selected_weapon$[ebp], eax

; 279  : 
; 280  : 	if ((selected_weapon == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON) || (best_weapon != selected_weapon))

  001e4	83 7d dc 00	 cmp	 DWORD PTR _selected_weapon$[ebp], 0
  001e8	74 0c		 je	 SHORT $LN5@attack_gui
  001ea	8b 45 e0	 mov	 eax, DWORD PTR _best_weapon$[ebp]
  001ed	3b 45 dc	 cmp	 eax, DWORD PTR _selected_weapon$[ebp]
  001f0	0f 84 61 01 00
	00		 je	 $LN7@attack_gui
$LN5@attack_gui:

; 281  : 	{
; 282  : 		if (best_weapon == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  001f6	83 7d e0 00	 cmp	 DWORD PTR _best_weapon$[ebp], 0
  001fa	0f 85 cb 00 00
	00		 jne	 $LN6@attack_gui

; 283  : 		{
; 284  : 			//
; 285  : 			// No suitable weapon at current range
; 286  : 			//
; 287  : 
; 288  : 			best_weapon = get_best_weapon_for_target (aggressor, target, BEST_WEAPON_CRITERIA_MINIMAL);

  00200	6a 00		 push	 0
  00202	8b 45 e8	 mov	 eax, DWORD PTR _target$[ebp]
  00205	50		 push	 eax
  00206	8b 4d e4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00209	51		 push	 ecx
  0020a	e8 00 00 00 00	 call	 ?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z ; get_best_weapon_for_target
  0020f	89 45 e0	 mov	 DWORD PTR _best_weapon$[ebp], eax

; 289  : 
; 290  : 			if (best_weapon == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  00212	83 7d e0 00	 cmp	 DWORD PTR _best_weapon$[ebp], 0
  00216	75 14		 jne	 SHORT $LN8@attack_gui

; 291  : 			{
; 292  : 				//
; 293  : 				// Entity is not capable of destroying the target - abort the attack
; 294  : 				//
; 295  : 
; 296  : 				delete_group_member_from_engage_guide (aggressor, en, TRUE);

  00218	6a 01		 push	 1
  0021a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0021d	50		 push	 eax
  0021e	8b 4d e4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00221	51		 push	 ecx
  00222	e8 00 00 00 00	 call	 ?delete_group_member_from_engage_guide@@YGXPAUENTITY@@0H@Z ; delete_group_member_from_engage_guide

; 297  : 			}
; 298  : 			else

  00227	e9 95 00 00 00	 jmp	 $LN9@attack_gui
$LN8@attack_gui:

; 299  : 			{
; 300  : 				//
; 301  : 				// Entity is capable of destroying the target, but must move to a different position
; 302  : 				//
; 303  : 
; 304  : 				set_client_server_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON, best_weapon);

  0022c	83 7d e4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00230	74 0a		 je	 SHORT $LN26@attack_gui
  00232	8b 45 e4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00235	8b 08		 mov	 ecx, DWORD PTR [eax]
  00237	89 4d 98	 mov	 DWORD PTR tv187[ebp], ecx
  0023a	eb 21		 jmp	 SHORT $LN27@attack_gui
$LN26@attack_gui:
  0023c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  00242	83 c2 3d	 add	 edx, 61			; 0000003dH
  00245	52		 push	 edx
  00246	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0024b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00250	50		 push	 eax
  00251	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00256	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv187[ebp], 0
$LN27@attack_gui:
  0025d	b9 01 00 00 00	 mov	 ecx, 1
  00262	85 c9		 test	 ecx, ecx
  00264	74 09		 je	 SHORT $LN28@attack_gui
  00266	c7 45 94 b8 00
	00 00		 mov	 DWORD PTR tv195[ebp], 184 ; 000000b8H
  0026d	eb 21		 jmp	 SHORT $LN29@attack_gui
$LN28@attack_gui:
  0026f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  00275	83 c2 3d	 add	 edx, 61			; 0000003dH
  00278	52		 push	 edx
  00279	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0027e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00283	50		 push	 eax
  00284	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00289	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv195[ebp], 0
$LN29@attack_gui:
  00290	8b 4d e0	 mov	 ecx, DWORD PTR _best_weapon$[ebp]
  00293	51		 push	 ecx
  00294	68 b8 00 00 00	 push	 184			; 000000b8H
  00299	8b 55 e4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  0029c	52		 push	 edx
  0029d	69 45 98 b8 08
	00 00		 imul	 eax, DWORD PTR tv187[ebp], 2232
  002a4	8b 4d 94	 mov	 ecx, DWORD PTR tv195[ebp]
  002a7	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  002ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  002b3	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  002b6	ff d1		 call	 ecx

; 305  : 
; 306  : 				set_attack_guide_approach_position (en);

  002b8	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002bb	50		 push	 eax
  002bc	e8 00 00 00 00	 call	 ?set_attack_guide_approach_position@@YGXPAUENTITY@@@Z ; set_attack_guide_approach_position
$LN9@attack_gui:

; 307  : 			}
; 308  : 
; 309  : 			return;

  002c1	e9 7b 02 00 00	 jmp	 $LN1@attack_gui

; 310  : 		}
; 311  : 		else

  002c6	e9 8c 00 00 00	 jmp	 $LN7@attack_gui
$LN6@attack_gui:

; 312  : 		{
; 313  : 			//
; 314  : 			// found new suitable weapon at current range
; 315  : 			//
; 316  : 
; 317  : 			set_client_server_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON, best_weapon);

  002cb	83 7d e4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  002cf	74 0a		 je	 SHORT $LN30@attack_gui
  002d1	8b 45 e4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  002d4	8b 08		 mov	 ecx, DWORD PTR [eax]
  002d6	89 4d 98	 mov	 DWORD PTR tv210[ebp], ecx
  002d9	eb 21		 jmp	 SHORT $LN31@attack_gui
$LN30@attack_gui:
  002db	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  002e1	83 c2 4a	 add	 edx, 74			; 0000004aH
  002e4	52		 push	 edx
  002e5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002ef	50		 push	 eax
  002f0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002f5	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv210[ebp], 0
$LN31@attack_gui:
  002fc	b9 01 00 00 00	 mov	 ecx, 1
  00301	85 c9		 test	 ecx, ecx
  00303	74 09		 je	 SHORT $LN32@attack_gui
  00305	c7 45 94 b8 00
	00 00		 mov	 DWORD PTR tv218[ebp], 184 ; 000000b8H
  0030c	eb 21		 jmp	 SHORT $LN33@attack_gui
$LN32@attack_gui:
  0030e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  00314	83 c2 4a	 add	 edx, 74			; 0000004aH
  00317	52		 push	 edx
  00318	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0031d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00322	50		 push	 eax
  00323	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00328	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv218[ebp], 0
$LN33@attack_gui:
  0032f	8b 4d e0	 mov	 ecx, DWORD PTR _best_weapon$[ebp]
  00332	51		 push	 ecx
  00333	68 b8 00 00 00	 push	 184			; 000000b8H
  00338	8b 55 e4	 mov	 edx, DWORD PTR _aggressor$[ebp]
  0033b	52		 push	 edx
  0033c	69 45 98 b8 08
	00 00		 imul	 eax, DWORD PTR tv210[ebp], 2232
  00343	8b 4d 94	 mov	 ecx, DWORD PTR tv218[ebp]
  00346	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  0034d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00352	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  00355	ff d1		 call	 ecx
$LN7@attack_gui:

; 318  : 		}
; 319  : 	}
; 320  : 
; 321  : 	//
; 322  : 	// wait if it still has guided AG missiles fired at the same target
; 323  : 	//
; 324  : 
; 325  : 	last_weapon = get_local_entity_first_child (aggressor, LIST_TYPE_LAUNCHED_WEAPON);

  00357	83 7d e4 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0035b	74 0a		 je	 SHORT $LN34@attack_gui
  0035d	8b 45 e4	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00360	8b 08		 mov	 ecx, DWORD PTR [eax]
  00362	89 4d 98	 mov	 DWORD PTR tv232[ebp], ecx
  00365	eb 21		 jmp	 SHORT $LN35@attack_gui
$LN34@attack_gui:
  00367	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  0036d	83 c2 52	 add	 edx, 82			; 00000052H
  00370	52		 push	 edx
  00371	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00376	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0037b	50		 push	 eax
  0037c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00381	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv232[ebp], 0
$LN35@attack_gui:
  00388	b9 01 00 00 00	 mov	 ecx, 1
  0038d	85 c9		 test	 ecx, ecx
  0038f	74 09		 je	 SHORT $LN36@attack_gui
  00391	c7 45 94 18 00
	00 00		 mov	 DWORD PTR tv240[ebp], 24 ; 00000018H
  00398	eb 21		 jmp	 SHORT $LN37@attack_gui
$LN36@attack_gui:
  0039a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  003a0	83 c2 52	 add	 edx, 82			; 00000052H
  003a3	52		 push	 edx
  003a4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  003ae	50		 push	 eax
  003af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003b4	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv240[ebp], 0
$LN37@attack_gui:
  003bb	6a 18		 push	 24			; 00000018H
  003bd	8b 4d e4	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  003c0	51		 push	 ecx
  003c1	69 55 98 b4 00
	00 00		 imul	 edx, DWORD PTR tv232[ebp], 180
  003c8	8b 45 94	 mov	 eax, DWORD PTR tv240[ebp]
  003cb	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  003d2	ff d1		 call	 ecx
  003d4	89 45 fc	 mov	 DWORD PTR _last_weapon$[ebp], eax

; 326  : 	if (last_weapon
; 327  : 		&& (weapon_database[best_weapon].weapon_class == WEAPON_CLASS_AIR_TO_SURFACE
; 328  : 			|| weapon_database[best_weapon].weapon_class == WEAPON_CLASS_SURFACE_TO_SURFACE)
; 329  : 		&& weapon_database[best_weapon].guidance_type != WEAPON_GUIDANCE_TYPE_NONE
; 330  : 		&& get_local_entity_parent(last_weapon, LIST_TYPE_TARGET) == target)

  003d7	83 7d fc 00	 cmp	 DWORD PTR _last_weapon$[ebp], 0
  003db	0f 84 b3 00 00
	00		 je	 $LN10@attack_gui
  003e1	69 45 e0 e0 00
	00 00		 imul	 eax, DWORD PTR _best_weapon$[ebp], 224
  003e8	83 b8 84 00 00
	00 02		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+132], 2
  003ef	74 14		 je	 SHORT $LN11@attack_gui
  003f1	69 45 e0 e0 00
	00 00		 imul	 eax, DWORD PTR _best_weapon$[ebp], 224
  003f8	83 b8 84 00 00
	00 08		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+132], 8
  003ff	0f 85 8f 00 00
	00		 jne	 $LN10@attack_gui
$LN11@attack_gui:
  00405	69 45 e0 e0 00
	00 00		 imul	 eax, DWORD PTR _best_weapon$[ebp], 224
  0040c	83 b8 18 00 00
	00 00		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+24], 0
  00413	74 7f		 je	 SHORT $LN10@attack_gui
  00415	83 7d fc 00	 cmp	 DWORD PTR _last_weapon$[ebp], 0
  00419	74 0a		 je	 SHORT $LN38@attack_gui
  0041b	8b 45 fc	 mov	 eax, DWORD PTR _last_weapon$[ebp]
  0041e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00420	89 4d 98	 mov	 DWORD PTR tv264[ebp], ecx
  00423	eb 1d		 jmp	 SHORT $LN39@attack_gui
$LN38@attack_gui:
  00425	68 4a 01 00 00	 push	 330			; 0000014aH
  0042a	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0042f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00435	52		 push	 edx
  00436	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0043b	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv264[ebp], 0
$LN39@attack_gui:
  00442	b8 01 00 00 00	 mov	 eax, 1
  00447	85 c0		 test	 eax, eax
  00449	74 09		 je	 SHORT $LN40@attack_gui
  0044b	c7 45 94 26 00
	00 00		 mov	 DWORD PTR tv271[ebp], 38 ; 00000026H
  00452	eb 1d		 jmp	 SHORT $LN41@attack_gui
$LN40@attack_gui:
  00454	68 4a 01 00 00	 push	 330			; 0000014aH
  00459	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0045e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00464	51		 push	 ecx
  00465	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0046a	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv271[ebp], 0
$LN41@attack_gui:
  00471	6a 26		 push	 38			; 00000026H
  00473	8b 55 fc	 mov	 edx, DWORD PTR _last_weapon$[ebp]
  00476	52		 push	 edx
  00477	69 45 98 b4 00
	00 00		 imul	 eax, DWORD PTR tv264[ebp], 180
  0047e	8b 4d 94	 mov	 ecx, DWORD PTR tv271[ebp]
  00481	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[eax+ecx*4]
  00488	ff d2		 call	 edx
  0048a	3b 45 e8	 cmp	 eax, DWORD PTR _target$[ebp]
  0048d	75 05		 jne	 SHORT $LN10@attack_gui

; 331  : 	{
; 332  : 		return;

  0048f	e9 ad 00 00 00	 jmp	 $LN1@attack_gui
$LN10@attack_gui:

; 333  : 	}
; 334  : 
; 335  : 
; 336  : 	//
; 337  : 	// notify the group leader that the cover position has been reached
; 338  : 	//
; 339  : 
; 340  : 	leader = (entity *) get_local_entity_ptr_value (group, PTR_TYPE_GROUP_LEADER);

  00494	83 7d f8 00	 cmp	 DWORD PTR _group$[ebp], 0
  00498	74 0a		 je	 SHORT $LN42@attack_gui
  0049a	8b 45 f8	 mov	 eax, DWORD PTR _group$[ebp]
  0049d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0049f	89 4d 98	 mov	 DWORD PTR tv284[ebp], ecx
  004a2	eb 21		 jmp	 SHORT $LN43@attack_gui
$LN42@attack_gui:
  004a4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  004aa	83 c2 61	 add	 edx, 97			; 00000061H
  004ad	52		 push	 edx
  004ae	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  004b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004b8	50		 push	 eax
  004b9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004be	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv284[ebp], 0
$LN43@attack_gui:
  004c5	b9 01 00 00 00	 mov	 ecx, 1
  004ca	85 c9		 test	 ecx, ecx
  004cc	74 09		 je	 SHORT $LN44@attack_gui
  004ce	c7 45 94 01 00
	00 00		 mov	 DWORD PTR tv292[ebp], 1
  004d5	eb 21		 jmp	 SHORT $LN45@attack_gui
$LN44@attack_gui:
  004d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  004dd	83 c2 61	 add	 edx, 97			; 00000061H
  004e0	52		 push	 edx
  004e1	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  004e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  004eb	50		 push	 eax
  004ec	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004f1	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv292[ebp], 0
$LN45@attack_gui:
  004f8	6a 01		 push	 1
  004fa	8b 4d f8	 mov	 ecx, DWORD PTR _group$[ebp]
  004fd	51		 push	 ecx
  004fe	6b 55 98 50	 imul	 edx, DWORD PTR tv284[ebp], 80
  00502	8b 45 94	 mov	 eax, DWORD PTR tv292[ebp]
  00505	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  0050c	ff d1		 call	 ecx
  0050e	89 45 f4	 mov	 DWORD PTR _leader$[ebp], eax

; 341  : 
; 342  : 	ASSERT (leader);

  00511	83 7d f4 00	 cmp	 DWORD PTR _leader$[ebp], 0
  00515	75 18		 jne	 SHORT $LN12@attack_gui
  00517	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z@4JA
  0051c	83 c0 63	 add	 eax, 99			; 00000063H
  0051f	50		 push	 eax
  00520	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00525	68 00 00 00 00	 push	 OFFSET ??_C@_06DFLPLEOP@leader@
  0052a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN12@attack_gui:

; 343  : 
; 344  : 	notify_local_entity (ENTITY_MESSAGE_GUIDE_COVER_POSITION_REACHED, leader, en);

  0052f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00532	50		 push	 eax
  00533	8b 4d f4	 mov	 ecx, DWORD PTR _leader$[ebp]
  00536	51		 push	 ecx
  00537	6a 21		 push	 33			; 00000021H
  00539	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  0053e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@attack_gui:

; 345  : }

  00541	5f		 pop	 edi
  00542	5e		 pop	 esi
  00543	5b		 pop	 ebx
  00544	8b e5		 mov	 esp, ebp
  00546	5d		 pop	 ebp
  00547	c2 04 00	 ret	 4
?attack_guide_take_cover_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_take_cover_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_fly_to_cover_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?attack_guide_fly_to_cover_reached@@YGXPAUENTITY@@@Z PROC ; attack_guide_fly_to_cover_reached, COMDAT

; 229  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 230  : 
; 231  : 	//
; 232  : 	// change guide type to TAKE_COVER and calculate new position
; 233  : 	//
; 234  : 
; 235  : 	set_attack_guide_take_cover_position (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?set_attack_guide_take_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_take_cover_position

; 236  : }

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c2 04 00	 ret	 4
?attack_guide_fly_to_cover_reached@@YGXPAUENTITY@@@Z ENDP ; attack_guide_fly_to_cover_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_seek_cover_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?attack_guide_seek_cover_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_seek_cover_reached, COMDAT

; 216  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 217  : 	//
; 218  : 	// search for cover
; 219  : 	//
; 220  : 
; 221  : 	update_guide_seek_cover_results (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?update_guide_seek_cover_results@@YGHPAUENTITY@@@Z ; update_guide_seek_cover_results

; 222  : }

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c2 04 00	 ret	 4
?attack_guide_seek_cover_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_seek_cover_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?attack_guide_approach_reached@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv95 = -76						; size = 4
tv78 = -76						; size = 4
tv136 = -72						; size = 4
tv94 = -72						; size = 4
tv70 = -72						; size = 4
_aggressor$ = -4					; size = 4
_en$ = 8						; size = 4
?attack_guide_approach_reached@@YGXPAUENTITY@@@Z PROC	; attack_guide_approach_reached, COMDAT

; 178  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 179  : 	entity
; 180  : 		*aggressor;
; 181  : 
; 182  : 	//
; 183  : 	// change guide type to SEEK_COVER (Helicopter) or CLIMB (Jet) and calculate new position
; 184  : 	//
; 185  : 
; 186  : 	aggressor = (entity *) get_local_entity_ptr_value (en, PTR_TYPE_TASK_LEADER);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN9@attack_gui
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d b8	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN10@attack_gui
$LN9@attack_gui:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_approach_reached@@YGXPAUENTITY@@@Z@4JA
  0001f	83 c2 08	 add	 edx, 8
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN10@attack_gui:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN11@attack_gui
  00043	c7 45 b4 0f 00
	00 00		 mov	 DWORD PTR tv78[ebp], 15	; 0000000fH
  0004a	eb 21		 jmp	 SHORT $LN12@attack_gui
$LN11@attack_gui:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_approach_reached@@YGXPAUENTITY@@@Z@4JA
  00052	83 c2 08	 add	 edx, 8
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN12@attack_gui:
  0006d	6a 0f		 push	 15			; 0000000fH
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00072	51		 push	 ecx
  00073	6b 55 b8 50	 imul	 edx, DWORD PTR tv70[ebp], 80
  00077	8b 45 b4	 mov	 eax, DWORD PTR tv78[ebp]
  0007a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00081	ff d1		 call	 ecx
  00083	89 45 fc	 mov	 DWORD PTR _aggressor$[ebp], eax

; 187  : 
; 188  : 	ASSERT (aggressor);

  00086	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0008a	75 18		 jne	 SHORT $LN4@attack_gui
  0008c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attack_guide_approach_reached@@YGXPAUENTITY@@@Z@4JA
  00091	83 c0 0a	 add	 eax, 10			; 0000000aH
  00094	50		 push	 eax
  00095	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0009a	68 00 00 00 00	 push	 OFFSET ??_C@_09HKMIOAOH@aggressor@
  0009f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@attack_gui:

; 189  : 
; 190  : 	switch (get_local_entity_type (aggressor))

  000a4	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000a8	74 0a		 je	 SHORT $LN13@attack_gui
  000aa	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000ad	8b 08		 mov	 ecx, DWORD PTR [eax]
  000af	89 4d b8	 mov	 DWORD PTR tv94[ebp], ecx
  000b2	eb 1d		 jmp	 SHORT $LN14@attack_gui
$LN13@attack_gui:
  000b4	68 be 00 00 00	 push	 190			; 000000beH
  000b9	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000be	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c4	52		 push	 edx
  000c5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ca	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv94[ebp], 0
$LN14@attack_gui:
  000d1	8b 45 b8	 mov	 eax, DWORD PTR tv94[ebp]
  000d4	89 45 b4	 mov	 DWORD PTR tv95[ebp], eax
  000d7	83 7d b4 0a	 cmp	 DWORD PTR tv95[ebp], 10	; 0000000aH
  000db	74 13		 je	 SHORT $LN6@attack_gui
  000dd	83 7d b4 0e	 cmp	 DWORD PTR tv95[ebp], 14	; 0000000eH
  000e1	74 02		 je	 SHORT $LN5@attack_gui
  000e3	eb 16		 jmp	 SHORT $LN7@attack_gui
$LN5@attack_gui:

; 191  : 	{
; 192  : 		case ENTITY_TYPE_HELICOPTER:
; 193  : 		{
; 194  : 			set_attack_guide_seek_cover_position (en);

  000e5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000e8	50		 push	 eax
  000e9	e8 00 00 00 00	 call	 ?set_attack_guide_seek_cover_position@@YGXPAUENTITY@@@Z ; set_attack_guide_seek_cover_position

; 195  : 
; 196  : 			break;

  000ee	eb 4d		 jmp	 SHORT $LN1@attack_gui
$LN6@attack_gui:

; 197  : 		}
; 198  : 		case ENTITY_TYPE_FIXED_WING:
; 199  : 		{
; 200  : 			set_attack_guide_climb_position (en);

  000f0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000f3	50		 push	 eax
  000f4	e8 00 00 00 00	 call	 ?set_attack_guide_climb_position@@YGXPAUENTITY@@@Z ; set_attack_guide_climb_position

; 201  : 
; 202  : 			break;

  000f9	eb 42		 jmp	 SHORT $LN1@attack_gui
$LN7@attack_gui:

; 203  : 		}
; 204  : 		default:
; 205  : 		{
; 206  : 			debug_fatal ("GD_ATTCK: Invalid Entity Type %d", get_local_entity_type (aggressor));

  000fb	83 7d fc 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000ff	74 0a		 je	 SHORT $LN15@attack_gui
  00101	8b 45 fc	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00104	8b 08		 mov	 ecx, DWORD PTR [eax]
  00106	89 4d b8	 mov	 DWORD PTR tv136[ebp], ecx
  00109	eb 21		 jmp	 SHORT $LN16@attack_gui
$LN15@attack_gui:
  0010b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attack_guide_approach_reached@@YGXPAUENTITY@@@Z@4JA
  00111	83 c2 1c	 add	 edx, 28			; 0000001cH
  00114	52		 push	 edx
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0011a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00125	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv136[ebp], 0
$LN16@attack_gui:
  0012c	8b 4d b8	 mov	 ecx, DWORD PTR tv136[ebp]
  0012f	51		 push	 ecx
  00130	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@JPPNIKIJ@GD_ATTCK?3?5Invalid?5Entity?5Type?5?$CF@
  00135	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  0013a	83 c4 08	 add	 esp, 8
$LN1@attack_gui:

; 207  : 		}
; 208  : 	}
; 209  : }

  0013d	5f		 pop	 edi
  0013e	5e		 pop	 esi
  0013f	5b		 pop	 ebx
  00140	8b e5		 mov	 esp, ebp
  00142	5d		 pop	 ebp
  00143	c2 04 00	 ret	 4
?attack_guide_approach_reached@@YGXPAUENTITY@@@Z ENDP	; attack_guide_approach_reached
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\guide\ag_attck.c
;	COMDAT ?initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z
_TEXT	SEGMENT
tv193 = -84						; size = 4
tv185 = -80						; size = 4
tv172 = -76						; size = 4
tv149 = -76						; size = 4
tv90 = -76						; size = 4
tv164 = -72						; size = 4
tv141 = -72						; size = 4
tv82 = -72						; size = 4
tv69 = -72						; size = 4
_best_weapon$ = -4					; size = 4
_en$ = 8						; size = 4
_aggressor$ = 12					; size = 4
_target$ = 16						; size = 4
?initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z PROC ; initialise_air_to_ground_attack_guide, COMDAT

; 118  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 119  : 	entity_sub_types
; 120  : 		best_weapon;
; 121  : 
; 122  : 	if (get_local_entity_type (aggressor) == ENTITY_TYPE_HELICOPTER)

  00009	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN6@initialise
  0000f	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d b8	 mov	 DWORD PTR tv69[ebp], ecx
  00017	eb 1a		 jmp	 SHORT $LN7@initialise
$LN6@initialise:
  00019	6a 7a		 push	 122			; 0000007aH
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00026	52		 push	 edx
  00027	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0002c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
$LN7@initialise:
  00033	83 7d b8 0e	 cmp	 DWORD PTR tv69[ebp], 14	; 0000000eH
  00037	0f 85 b6 00 00
	00		 jne	 $LN2@initialise

; 123  : 	{
; 124  : //		if (get_local_entity_first_child (aggressor, LIST_TYPE_TARGET))
; 125  : 		{
; 126  : 			//
; 127  : 			// if the aggressor is a helicopter, and is being targeted - attempt to fire back rapidly and then look for cover
; 128  : 			//
; 129  : 
; 130  : 			best_weapon = get_best_weapon_for_target (aggressor, target, BEST_WEAPON_RANGE_CHECK);

  0003d	6a 04		 push	 4
  0003f	8b 45 10	 mov	 eax, DWORD PTR _target$[ebp]
  00042	50		 push	 eax
  00043	8b 4d 0c	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00046	51		 push	 ecx
  00047	e8 00 00 00 00	 call	 ?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z ; get_best_weapon_for_target
  0004c	89 45 fc	 mov	 DWORD PTR _best_weapon$[ebp], eax

; 131  : 
; 132  : 			if (best_weapon != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  0004f	83 7d fc 00	 cmp	 DWORD PTR _best_weapon$[ebp], 0
  00053	0f 84 9a 00 00
	00		 je	 $LN2@initialise

; 133  : 			{
; 134  : 				set_client_server_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON, best_weapon);

  00059	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0005d	74 0a		 je	 SHORT $LN8@initialise
  0005f	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00062	8b 08		 mov	 ecx, DWORD PTR [eax]
  00064	89 4d b8	 mov	 DWORD PTR tv82[ebp], ecx
  00067	eb 21		 jmp	 SHORT $LN9@initialise
$LN8@initialise:
  00069	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  0006f	83 c2 10	 add	 edx, 16			; 00000010H
  00072	52		 push	 edx
  00073	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0007d	50		 push	 eax
  0007e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00083	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN9@initialise:
  0008a	b9 01 00 00 00	 mov	 ecx, 1
  0008f	85 c9		 test	 ecx, ecx
  00091	74 09		 je	 SHORT $LN10@initialise
  00093	c7 45 b4 b8 00
	00 00		 mov	 DWORD PTR tv90[ebp], 184 ; 000000b8H
  0009a	eb 21		 jmp	 SHORT $LN11@initialise
$LN10@initialise:
  0009c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  000a2	83 c2 10	 add	 edx, 16			; 00000010H
  000a5	52		 push	 edx
  000a6	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000b0	50		 push	 eax
  000b1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b6	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN11@initialise:
  000bd	8b 4d fc	 mov	 ecx, DWORD PTR _best_weapon$[ebp]
  000c0	51		 push	 ecx
  000c1	68 b8 00 00 00	 push	 184			; 000000b8H
  000c6	8b 55 0c	 mov	 edx, DWORD PTR _aggressor$[ebp]
  000c9	52		 push	 edx
  000ca	69 45 b8 b8 08
	00 00		 imul	 eax, DWORD PTR tv82[ebp], 2232
  000d1	8b 4d b4	 mov	 ecx, DWORD PTR tv90[ebp]
  000d4	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  000db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000e0	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  000e3	ff d1		 call	 ecx

; 135  : 
; 136  : 				set_attack_guide_hasty_fire_position (en);

  000e5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000e8	50		 push	 eax
  000e9	e8 00 00 00 00	 call	 ?set_attack_guide_hasty_fire_position@@YGXPAUENTITY@@@Z ; set_attack_guide_hasty_fire_position

; 137  : 
; 138  : 				return;

  000ee	e9 b6 01 00 00	 jmp	 $LN1@initialise
$LN2@initialise:

; 139  : 			}
; 140  : 		}
; 141  : 	}
; 142  : 
; 143  : 	//
; 144  : 	// find best weapon for target (approach ranges will be based on this)
; 145  : 	//
; 146  : 
; 147  : 	best_weapon = get_best_weapon_for_target (aggressor, target, BEST_WEAPON_CRITERIA_MINIMAL);

  000f3	6a 00		 push	 0
  000f5	8b 45 10	 mov	 eax, DWORD PTR _target$[ebp]
  000f8	50		 push	 eax
  000f9	8b 4d 0c	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  000fc	51		 push	 ecx
  000fd	e8 00 00 00 00	 call	 ?get_best_weapon_for_target@@YGHPAUENTITY@@0I@Z ; get_best_weapon_for_target
  00102	89 45 fc	 mov	 DWORD PTR _best_weapon$[ebp], eax

; 148  : 
; 149  : 	set_client_server_entity_int_value (aggressor, INT_TYPE_SELECTED_WEAPON, best_weapon);

  00105	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00109	74 0a		 je	 SHORT $LN12@initialise
  0010b	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0010e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00110	89 4d b8	 mov	 DWORD PTR tv141[ebp], ecx
  00113	eb 21		 jmp	 SHORT $LN13@initialise
$LN12@initialise:
  00115	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  0011b	83 c2 1f	 add	 edx, 31			; 0000001fH
  0011e	52		 push	 edx
  0011f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00124	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00129	50		 push	 eax
  0012a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0012f	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv141[ebp], 0
$LN13@initialise:
  00136	b9 01 00 00 00	 mov	 ecx, 1
  0013b	85 c9		 test	 ecx, ecx
  0013d	74 09		 je	 SHORT $LN14@initialise
  0013f	c7 45 b4 b8 00
	00 00		 mov	 DWORD PTR tv149[ebp], 184 ; 000000b8H
  00146	eb 21		 jmp	 SHORT $LN15@initialise
$LN14@initialise:
  00148	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  0014e	83 c2 1f	 add	 edx, 31			; 0000001fH
  00151	52		 push	 edx
  00152	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00157	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0015c	50		 push	 eax
  0015d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00162	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN15@initialise:
  00169	8b 4d fc	 mov	 ecx, DWORD PTR _best_weapon$[ebp]
  0016c	51		 push	 ecx
  0016d	68 b8 00 00 00	 push	 184			; 000000b8H
  00172	8b 55 0c	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00175	52		 push	 edx
  00176	69 45 b8 b8 08
	00 00		 imul	 eax, DWORD PTR tv141[ebp], 2232
  0017d	8b 4d b4	 mov	 ecx, DWORD PTR tv149[ebp]
  00180	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  00187	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0018c	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  0018f	ff d1		 call	 ecx

; 150  : 
; 151  : 	if (best_weapon == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  00191	83 7d fc 00	 cmp	 DWORD PTR _best_weapon$[ebp], 0
  00195	0f 85 05 01 00
	00		 jne	 $LN4@initialise

; 152  : 	{
; 153  : 		//
; 154  : 		// Entity is not capable of destroying the target
; 155  : 		//
; 156  : 
; 157  : 		#ifdef DEBUG
; 158  : 
; 159  : 		debug_fatal ("Entity %s incapable of destroying %s", get_local_entity_string (aggressor, STRING_TYPE_FULL_NAME), get_local_entity_string (target, STRING_TYPE_FULL_NAME));

  0019b	83 7d 10 00	 cmp	 DWORD PTR _target$[ebp], 0
  0019f	74 0a		 je	 SHORT $LN16@initialise
  001a1	8b 45 10	 mov	 eax, DWORD PTR _target$[ebp]
  001a4	8b 08		 mov	 ecx, DWORD PTR [eax]
  001a6	89 4d b8	 mov	 DWORD PTR tv164[ebp], ecx
  001a9	eb 21		 jmp	 SHORT $LN17@initialise
$LN16@initialise:
  001ab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  001b1	83 c2 29	 add	 edx, 41			; 00000029H
  001b4	52		 push	 edx
  001b5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001bf	50		 push	 eax
  001c0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c5	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv164[ebp], 0
$LN17@initialise:
  001cc	b9 01 00 00 00	 mov	 ecx, 1
  001d1	85 c9		 test	 ecx, ecx
  001d3	74 09		 je	 SHORT $LN18@initialise
  001d5	c7 45 b4 03 00
	00 00		 mov	 DWORD PTR tv172[ebp], 3
  001dc	eb 21		 jmp	 SHORT $LN19@initialise
$LN18@initialise:
  001de	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  001e4	83 c2 29	 add	 edx, 41			; 00000029H
  001e7	52		 push	 edx
  001e8	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_string_type_message@@3PBDB ; overload_invalid_string_type_message
  001f2	50		 push	 eax
  001f3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001f8	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv172[ebp], 0
$LN19@initialise:
  001ff	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00203	74 0a		 je	 SHORT $LN20@initialise
  00205	8b 4d 0c	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  00208	8b 11		 mov	 edx, DWORD PTR [ecx]
  0020a	89 55 b0	 mov	 DWORD PTR tv185[ebp], edx
  0020d	eb 21		 jmp	 SHORT $LN21@initialise
$LN20@initialise:
  0020f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  00214	83 c0 29	 add	 eax, 41			; 00000029H
  00217	50		 push	 eax
  00218	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0021d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00223	51		 push	 ecx
  00224	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00229	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv185[ebp], 0
$LN21@initialise:
  00230	ba 01 00 00 00	 mov	 edx, 1
  00235	85 d2		 test	 edx, edx
  00237	74 09		 je	 SHORT $LN22@initialise
  00239	c7 45 ac 03 00
	00 00		 mov	 DWORD PTR tv193[ebp], 3
  00240	eb 21		 jmp	 SHORT $LN23@initialise
$LN22@initialise:
  00242	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z@4JA
  00247	83 c0 29	 add	 eax, 41			; 00000029H
  0024a	50		 push	 eax
  0024b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DAFFCJPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00250	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_string_type_message@@3PBDB ; overload_invalid_string_type_message
  00256	51		 push	 ecx
  00257	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0025c	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv193[ebp], 0
$LN23@initialise:
  00263	6a 03		 push	 3
  00265	8b 55 10	 mov	 edx, DWORD PTR _target$[ebp]
  00268	52		 push	 edx
  00269	6b 45 b8 34	 imul	 eax, DWORD PTR tv164[ebp], 52
  0026d	8b 4d b4	 mov	 ecx, DWORD PTR tv172[ebp]
  00270	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA[eax+ecx*4]
  00277	ff d2		 call	 edx
  00279	50		 push	 eax
  0027a	6a 03		 push	 3
  0027c	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0027f	50		 push	 eax
  00280	6b 4d b0 34	 imul	 ecx, DWORD PTR tv185[ebp], 52
  00284	8b 55 ac	 mov	 edx, DWORD PTR tv193[ebp]
  00287	8b 84 91 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA[ecx+edx*4]
  0028e	ff d0		 call	 eax
  00290	50		 push	 eax
  00291	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@GNHKAAGH@Entity?5?$CFs?5incapable?5of?5destroyi@
  00296	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  0029b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 160  : 
; 161  : 		#endif
; 162  : 
; 163  : 		return;

  0029e	eb 09		 jmp	 SHORT $LN1@initialise
$LN4@initialise:

; 164  : 	}
; 165  : 
; 166  : 	//
; 167  : 	// calculate APPROACH position
; 168  : 	//
; 169  : 
; 170  : 	set_attack_guide_approach_position (en);

  002a0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002a3	50		 push	 eax
  002a4	e8 00 00 00 00	 call	 ?set_attack_guide_approach_position@@YGXPAUENTITY@@@Z ; set_attack_guide_approach_position
$LN1@initialise:

; 171  : }

  002a9	5f		 pop	 edi
  002aa	5e		 pop	 esi
  002ab	5b		 pop	 ebx
  002ac	8b e5		 mov	 esp, ebp
  002ae	5d		 pop	 ebp
  002af	c2 0c 00	 ret	 12			; 0000000cH
?initialise_air_to_ground_attack_guide@@YGXPAUENTITY@@00@Z ENDP ; initialise_air_to_ground_attack_guide
_TEXT	ENDS
END
