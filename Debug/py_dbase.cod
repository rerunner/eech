; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\fixed\pylon\py_dbase.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?pylon_attachment_database@@3PAUPYLON_ATTACHMENT_DATA@@A ; pylon_attachment_database
_DATA	SEGMENT
?pylon_attachment_database@@3PAUPYLON_ATTACHMENT_DATA@@A DD 04d9H ; pylon_attachment_database
	DB	02H
	DB	02H
	DB	00H
	DB	00H
	DB	01H
	DB	01H
	ORG $+2
	DD	0c134cccdr			; -11.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	04134cccdr			; 11.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	0c1826666r			; -16.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	041826666r			; 16.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	0c134cccdr			; -11.3
	DD	0421e0000r			; 39.5
	DD	000000000r			; 0
	DD	04134cccdr			; 11.3
	DD	0421e0000r			; 39.5
	DD	000000000r			; 0
	DD	04dbH
	DB	02H
	DB	02H
	DB	00H
	DB	00H
	DB	01H
	DB	01H
	ORG $+2
	DD	0c134cccdr			; -11.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	04134cccdr			; 11.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	0c1826666r			; -16.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	041826666r			; 16.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	0c134cccdr			; -11.3
	DD	0421e0000r			; 39.5
	DD	000000000r			; 0
	DD	04134cccdr			; 11.3
	DD	0421e0000r			; 39.5
	DD	000000000r			; 0
	DD	04dbH
	DB	02H
	DB	02H
	DB	00H
	DB	00H
	DB	01H
	DB	01H
	ORG $+2
	DD	04134cccdr			; 11.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	0c134cccdr			; -11.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	041826666r			; 16.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	0c1826666r			; -16.3
	DD	041e66666r			; 28.8
	DD	000000000r			; 0
	DD	04134cccdr			; 11.3
	DD	0421e0000r			; 39.5
	DD	000000000r			; 0
	DD	0c134cccdr			; -11.3
	DD	0421e0000r			; 39.5
	DD	000000000r			; 0
_DATA	ENDS
PUBLIC	?initialise_pylon_database@@YGXXZ		; initialise_pylon_database
PUBLIC	?get_pylon_sag_value@@YGMH@Z			; get_pylon_sag_value
PUBLIC	?get_pylon_sub_type@@YG?AW4PYLON_TYPES@@H@Z	; get_pylon_sub_type
PUBLIC	??_C@_0CM@PGHCLHLL@Fixed?5sub?5type?5?$CFd?5is?5not?5a?5vali@ ; `string'
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4000000000000000
PUBLIC	__real@40a00000
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?pylon_sag_lookup_table@@3PAMA DD 06H DUP (?)		; pylon_sag_lookup_table
_BSS	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
CONST	ENDS
;	COMDAT __real@4000000000000000
CONST	SEGMENT
__real@4000000000000000 DQ 04000000000000000r	; 2
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT ??_C@_0CM@PGHCLHLL@Fixed?5sub?5type?5?$CFd?5is?5not?5a?5vali@
CONST	SEGMENT
??_C@_0CM@PGHCLHLL@Fixed?5sub?5type?5?$CFd?5is?5not?5a?5vali@ DB 'Fixed s'
	DB	'ub type %d is not a valid pylon type', 00H	; `string'
CONST	ENDS
_DATA	SEGMENT
?pylon_type_conversion_table@@3PAUPYLON_TYPE_CONVERSION_TABLE@@A DD 08H ; pylon_type_conversion_table
	DD	00H
	DD	09H
	DD	01H
	DD	07H
	DD	02H
	DD	0ffffffffH
	ORG $+4
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\pylon\py_dbase.c
;	COMDAT ?get_pylon_sub_type@@YG?AW4PYLON_TYPES@@H@Z
_TEXT	SEGMENT
_loop$ = -4						; size = 4
_sub_type$ = 8						; size = 4
?get_pylon_sub_type@@YG?AW4PYLON_TYPES@@H@Z PROC	; get_pylon_sub_type, COMDAT

; 202  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 203  : 	int
; 204  : 		loop;
; 205  : 
; 206  : 	loop = 0;

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
$LN2@get_pylon_:

; 207  : 
; 208  : 	while ( pylon_type_conversion_table[ loop ].entity_sub_type >= 0 )

  00010	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00013	83 3c c5 00 00
	00 00 00	 cmp	 DWORD PTR ?pylon_type_conversion_table@@3PAUPYLON_TYPE_CONVERSION_TABLE@@A[eax*8], 0
  0001b	7c 26		 jl	 SHORT $LN3@get_pylon_

; 209  : 	{
; 210  : 		if ( pylon_type_conversion_table[ loop ].entity_sub_type == sub_type )

  0001d	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00020	8b 0c c5 00 00
	00 00		 mov	 ecx, DWORD PTR ?pylon_type_conversion_table@@3PAUPYLON_TYPE_CONVERSION_TABLE@@A[eax*8]
  00027	3b 4d 08	 cmp	 ecx, DWORD PTR _sub_type$[ebp]
  0002a	75 0c		 jne	 SHORT $LN4@get_pylon_

; 211  : 		{
; 212  : 			return (pylon_types) pylon_type_conversion_table[ loop ].pylon_type;

  0002c	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  0002f	8b 04 c5 04 00
	00 00		 mov	 eax, DWORD PTR ?pylon_type_conversion_table@@3PAUPYLON_TYPE_CONVERSION_TABLE@@A[eax*8+4]
  00036	eb 21		 jmp	 SHORT $LN1@get_pylon_
$LN4@get_pylon_:

; 213  : 		}
; 214  : 
; 215  : 		loop ++;

  00038	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  0003b	83 c0 01	 add	 eax, 1
  0003e	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax

; 216  : 	}

  00041	eb cd		 jmp	 SHORT $LN2@get_pylon_
$LN3@get_pylon_:

; 217  : 
; 218  : 	debug_fatal( "Fixed sub type %d is not a valid pylon type", sub_type );

  00043	8b 45 08	 mov	 eax, DWORD PTR _sub_type$[ebp]
  00046	50		 push	 eax
  00047	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@PGHCLHLL@Fixed?5sub?5type?5?$CFd?5is?5not?5a?5vali@
  0004c	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00051	83 c4 08	 add	 esp, 8

; 219  : 
; 220  : 	return NUM_PYLON_TYPES;

  00054	b8 03 00 00 00	 mov	 eax, 3
$LN1@get_pylon_:

; 221  : }

  00059	5f		 pop	 edi
  0005a	5e		 pop	 esi
  0005b	5b		 pop	 ebx
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c2 04 00	 ret	 4
?get_pylon_sub_type@@YG?AW4PYLON_TYPES@@H@Z ENDP	; get_pylon_sub_type
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\pylon\py_dbase.c
;	COMDAT ?get_pylon_sag_value@@YGMH@Z
_TEXT	SEGMENT
_index$ = 8						; size = 4
?get_pylon_sag_value@@YGMH@Z PROC			; get_pylon_sag_value, COMDAT

; 193  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 194  : 	return pylon_sag_lookup_table[ index ];

  00009	8b 45 08	 mov	 eax, DWORD PTR _index$[ebp]
  0000c	d9 04 85 00 00
	00 00		 fld	 DWORD PTR ?pylon_sag_lookup_table@@3PAMA[eax*4]

; 195  : }

  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c2 04 00	 ret	 4
?get_pylon_sag_value@@YGMH@Z ENDP			; get_pylon_sag_value
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\pylon\py_dbase.c
;	COMDAT ?initialise_pylon_database@@YGXXZ
_TEXT	SEGMENT
_x$ = -8						; size = 4
_loop$ = -4						; size = 4
?initialise_pylon_database@@YGXXZ PROC			; initialise_pylon_database, COMDAT

; 167  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 168  : 	int
; 169  : 		loop;
; 170  : 
; 171  : 	float
; 172  : 		x;
; 173  : 	
; 174  : 	//
; 175  : 	// construct sag look-up table
; 176  : 	//
; 177  : 
; 178  : 	for ( loop = 0 ; loop < NUMBER_OF_PYLON_CABLE_POINTS ; loop ++ )

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  00010	eb 09		 jmp	 SHORT $LN4@initialise
$LN2@initialise:
  00012	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@initialise:
  0001b	83 7d fc 06	 cmp	 DWORD PTR _loop$[ebp], 6
  0001f	7d 5c		 jge	 SHORT $LN3@initialise

; 179  : 	{
; 180  : 		x =(float)loop / ( NUMBER_OF_PYLON_CABLE_POINTS - 1 );

  00021	f3 0f 2a 45 fc	 cvtsi2ss xmm0, DWORD PTR _loop$[ebp]
  00026	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40a00000
  0002e	f3 0f 11 45 f8	 movss	 DWORD PTR _x$[ebp], xmm0

; 181  : 
; 182  : 		x = ( 2.0 * x ) - 1.0;

  00033	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _x$[ebp]
  00038	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4000000000000000
  00040	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00048	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0004c	f3 0f 11 45 f8	 movss	 DWORD PTR _x$[ebp], xmm0

; 183  : 		
; 184  : 		pylon_sag_lookup_table[ loop ] = 1.0 - ( x * x );

  00051	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _x$[ebp]
  00056	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _x$[ebp]
  0005b	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0005f	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3ff0000000000000
  00067	f2 0f 5c c8	 subsd	 xmm1, xmm0
  0006b	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  0006f	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00072	f3 0f 11 04 85
	00 00 00 00	 movss	 DWORD PTR ?pylon_sag_lookup_table@@3PAMA[eax*4], xmm0

; 185  : 	}

  0007b	eb 95		 jmp	 SHORT $LN2@initialise
$LN3@initialise:

; 186  : }

  0007d	5f		 pop	 edi
  0007e	5e		 pop	 esi
  0007f	5b		 pop	 ebx
  00080	8b e5		 mov	 esp, ebp
  00082	5d		 pop	 ebp
  00083	c3		 ret	 0
?initialise_pylon_database@@YGXXZ ENDP			; initialise_pylon_database
_TEXT	ENDS
END
