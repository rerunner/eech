; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\update\up_msgs.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_update_message_responses@@YGXXZ	; overload_update_message_responses
PUBLIC	?__LINE__Var@?0??response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA ; `response_to_unlink_child'::`1'::__LINE__Var
PUBLIC	??_C@_0EM@JDBJPJBP@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?message_responses@@3PAY0GB@P6GHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@ZA:BYTE ; message_responses
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?update_succ@@3PAUENTITY@@A:DWORD		; update_succ
;	COMDAT ??_C@_0EM@JDBJPJBP@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EM@JDBJPJBP@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\update\up_msg'
	DB	's.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA DD 05fH ; `response_to_unlink_child'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\update\up_msgs.c
;	COMDAT ?response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z
_TEXT	SEGMENT
tv82 = -76						; size = 4
tv74 = -72						; size = 4
_type$ = -4						; size = 4
_message$ = 8						; size = 4
_receiver$ = 12						; size = 4
_sender$ = 16						; size = 4
_pargs$ = 20						; size = 4
?response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z PROC ; response_to_unlink_child, COMDAT

; 95   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 96   : 	list_types
; 97   : 		type;
; 98   : 
; 99   : 	#if DEBUG_MODULE
; 100  : 
; 101  : 	debug_log_entity_message (message, receiver, sender, pargs);
; 102  : 
; 103  : 	#endif
; 104  : 
; 105  : 	type = va_arg (pargs, list_types);

  00009	8b 45 14	 mov	 eax, DWORD PTR _pargs$[ebp]
  0000c	83 c0 04	 add	 eax, 4
  0000f	89 45 14	 mov	 DWORD PTR _pargs$[ebp], eax
  00012	8b 4d 14	 mov	 ecx, DWORD PTR _pargs$[ebp]
  00015	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  00018	89 55 fc	 mov	 DWORD PTR _type$[ebp], edx

; 106  : 
; 107  : 	if (type == LIST_TYPE_UPDATE)

  0001b	83 7d fc 29	 cmp	 DWORD PTR _type$[ebp], 41 ; 00000029H
  0001f	0f 85 91 00 00
	00		 jne	 $LN2@response_t

; 108  : 	{
; 109  : 		if (sender == get_update_succ ())

  00025	8b 45 10	 mov	 eax, DWORD PTR _sender$[ebp]
  00028	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?update_succ@@3PAUENTITY@@A ; update_succ
  0002e	0f 85 82 00 00
	00		 jne	 $LN2@response_t

; 110  : 		{
; 111  : 			set_update_succ (get_local_entity_child_succ (sender, LIST_TYPE_UPDATE));

  00034	83 7d 10 00	 cmp	 DWORD PTR _sender$[ebp], 0
  00038	74 0a		 je	 SHORT $LN5@response_t
  0003a	8b 45 10	 mov	 eax, DWORD PTR _sender$[ebp]
  0003d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003f	89 4d b8	 mov	 DWORD PTR tv74[ebp], ecx
  00042	eb 21		 jmp	 SHORT $LN6@response_t
$LN5@response_t:
  00044	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0004a	83 c2 10	 add	 edx, 16			; 00000010H
  0004d	52		 push	 edx
  0004e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@JDBJPJBP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00053	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00058	50		 push	 eax
  00059	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005e	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN6@response_t:
  00065	b9 01 00 00 00	 mov	 ecx, 1
  0006a	85 c9		 test	 ecx, ecx
  0006c	74 09		 je	 SHORT $LN7@response_t
  0006e	c7 45 b4 29 00
	00 00		 mov	 DWORD PTR tv82[ebp], 41	; 00000029H
  00075	eb 21		 jmp	 SHORT $LN8@response_t
$LN7@response_t:
  00077	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0007d	83 c2 10	 add	 edx, 16			; 00000010H
  00080	52		 push	 edx
  00081	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@JDBJPJBP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00086	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0008b	50		 push	 eax
  0008c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00091	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN8@response_t:
  00098	6a 29		 push	 41			; 00000029H
  0009a	8b 4d 10	 mov	 ecx, DWORD PTR _sender$[ebp]
  0009d	51		 push	 ecx
  0009e	69 55 b8 b4 00
	00 00		 imul	 edx, DWORD PTR tv74[ebp], 180
  000a5	8b 45 b4	 mov	 eax, DWORD PTR tv82[ebp]
  000a8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000af	ff d1		 call	 ecx
  000b1	a3 00 00 00 00	 mov	 DWORD PTR ?update_succ@@3PAUENTITY@@A, eax ; update_succ
$LN2@response_t:

; 112  : 		}
; 113  : 	}
; 114  : 
; 115  : 	return (TRUE);

  000b6	b8 01 00 00 00	 mov	 eax, 1

; 116  : }

  000bb	5f		 pop	 edi
  000bc	5e		 pop	 esi
  000bd	5b		 pop	 ebx
  000be	8b e5		 mov	 esp, ebp
  000c0	5d		 pop	 ebp
  000c1	c2 10 00	 ret	 16			; 00000010H
?response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ENDP ; response_to_unlink_child
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\update\up_msgs.c
;	COMDAT ?overload_update_message_responses@@YGXXZ
_TEXT	SEGMENT
?overload_update_message_responses@@YGXXZ PROC		; overload_update_message_responses, COMDAT

; 153  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 154  : 	#if DEBUG_MODULE
; 155  : 
; 156  : 	message_responses[ENTITY_TYPE_UPDATE][ENTITY_MESSAGE_LINK_CHILD]		= response_to_link_child;
; 157  : 
; 158  : 	#endif
; 159  : 
; 160  : 	message_responses[ENTITY_TYPE_UPDATE][ENTITY_MESSAGE_UNLINK_CHILD]	= response_to_unlink_child;

  00009	b8 84 01 00 00	 mov	 eax, 388		; 00000184H
  0000e	6b c8 23	 imul	 ecx, eax, 35
  00011	ba 04 00 00 00	 mov	 edx, 4
  00016	6b c2 37	 imul	 eax, edx, 55
  00019	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?message_responses@@3PAY0GB@P6GHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@ZA[ecx+eax], OFFSET ?response_to_unlink_child@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ; response_to_unlink_child

; 161  : 
; 162  : 	#if DEBUG_MODULE
; 163  : 
; 164  : 	message_responses[ENTITY_TYPE_UPDATE][ENTITY_MESSAGE_LINK_PARENT]		= response_to_link_parent;
; 165  : 
; 166  : 	message_responses[ENTITY_TYPE_UPDATE][ENTITY_MESSAGE_UNLINK_PARENT]	= response_to_unlink_parent;
; 167  : 
; 168  : 	#endif
; 169  : }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
?overload_update_message_responses@@YGXXZ ENDP		; overload_update_message_responses
_TEXT	ENDS
END
