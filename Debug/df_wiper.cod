; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\cockpits\default\df_wiper.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; initialise_default_virtual_cockpit_wiper_and_rain_effect
PUBLIC	?deinitialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; deinitialise_default_virtual_cockpit_wiper_and_rain_effect
PUBLIC	?draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z ; draw_default_virtual_cockpit_wiper
PUBLIC	?draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z ; draw_default_virtual_cockpit_rain_effect
PUBLIC	?animate_default_external_wipers@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; animate_default_external_wipers
PUBLIC	?__LINE__Var@?0??draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z@4JA ; `draw_default_virtual_cockpit_wiper'::`1'::__LINE__Var
PUBLIC	??_C@_0FB@PBJCJAJP@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_02HPPNELPJ@vp@				; `string'
PUBLIC	?__LINE__Var@?0??draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z@4JA ; `draw_default_virtual_cockpit_rain_effect'::`1'::__LINE__Var
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f800051ed28954b
PUBLIC	__real@3ff0000000000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?create_screen_for_system_texture@@YGPAUSCREEN@@H@Z:PROC ; create_screen_for_system_texture
EXTRN	?destroy_screen@@YGHPAUSCREEN@@@Z:PROC		; destroy_screen
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; destruct_3d_object
EXTRN	?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z:PROC ; insert_zbiased_relative_object_into_3d_scene
EXTRN	?animate_keyframed_sub_object_type@@YGHPAUOBJECT_3D_INSTANCE@@HM@Z:PROC ; animate_keyframed_sub_object_type
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?pilot_wiped_rain_texture_screen@@3PAUSCREEN@@A:DWORD ; pilot_wiped_rain_texture_screen
EXTRN	?co_pilot_wiped_rain_texture_screen@@3PAUSCREEN@@A:DWORD ; co_pilot_wiped_rain_texture_screen
EXTRN	?pilot_wiper@@3HA:DWORD				; pilot_wiper
EXTRN	?co_pilot_wiper@@3HA:DWORD			; co_pilot_wiper
EXTRN	?pilot_wipe_type@@3W4WIPE_TYPES@@A:DWORD	; pilot_wipe_type
EXTRN	?co_pilot_wipe_type@@3W4WIPE_TYPES@@A:DWORD	; co_pilot_wipe_type
EXTRN	?wiper_position@@3MA:DWORD			; wiper_position
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?virtual_cockpit_wiper_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_wiper_inst3d
?virtual_cockpit_rain_effect_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_rain_effect_inst3d
_BSS	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3f800051ed28954b
CONST	SEGMENT
__real@3f800051ed28954b DQ 03f800051ed28954br	; 0.00781311
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z@4JA DD 09cH ; `draw_default_virtual_cockpit_rain_effect'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02HPPNELPJ@vp@
CONST	SEGMENT
??_C@_02HPPNELPJ@vp@ DB 'vp', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FB@PBJCJAJP@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FB@PBJCJAJP@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\cockpits\default\df'
	DB	'_wiper.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z@4JA DD 07eH ; `draw_default_virtual_cockpit_wiper'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df_wiper.c
;	COMDAT ?animate_default_external_wipers@@YGXPAUOBJECT_3D_INSTANCE@@@Z
_TEXT	SEGMENT
tv73 = -84						; size = 8
tv74 = -76						; size = 8
_state$ = -4						; size = 4
_inst3d$ = 8						; size = 4
?animate_default_external_wipers@@YGXPAUOBJECT_3D_INSTANCE@@@Z PROC ; animate_default_external_wipers, COMDAT

; 172  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 173  : 	float
; 174  : 		state;
; 175  : 
; 176  : 	state = (wiper_position - MIN_WIPER_POSITION) * (1.0 / (MAX_WIPER_POSITION - MIN_WIPER_POSITION));

  00009	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wiper_position@@3MA
  00011	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@0000000000000000
  00019	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f800051ed28954b
  00021	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00025	f3 0f 11 45 fc	 movss	 DWORD PTR _state$[ebp], xmm0

; 177  : 
; 178  : 	state = bound (state, 0.0, 1.0);

  0002a	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _state$[ebp]
  0002f	0f 57 c9	 xorps	 xmm1, xmm1
  00032	66 0f 2f c8	 comisd	 xmm1, xmm0
  00036	76 0a		 jbe	 SHORT $LN5@animate_de
  00038	0f 57 c0	 xorps	 xmm0, xmm0
  0003b	f2 0f 11 45 b4	 movsd	 QWORD PTR tv74[ebp], xmm0
  00040	eb 32		 jmp	 SHORT $LN6@animate_de
$LN5@animate_de:
  00042	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _state$[ebp]
  00047	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3ff0000000000000
  0004f	76 0f		 jbe	 SHORT $LN3@animate_de
  00051	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00059	f2 0f 11 45 ac	 movsd	 QWORD PTR tv73[ebp], xmm0
  0005e	eb 0a		 jmp	 SHORT $LN4@animate_de
$LN3@animate_de:
  00060	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _state$[ebp]
  00065	f2 0f 11 45 ac	 movsd	 QWORD PTR tv73[ebp], xmm0
$LN4@animate_de:
  0006a	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR tv73[ebp]
  0006f	f2 0f 11 45 b4	 movsd	 QWORD PTR tv74[ebp], xmm0
$LN6@animate_de:
  00074	f2 0f 5a 45 b4	 cvtsd2ss xmm0, QWORD PTR tv74[ebp]
  00079	f3 0f 11 45 fc	 movss	 DWORD PTR _state$[ebp], xmm0

; 179  : 
; 180  : 	animate_keyframed_sub_object_type (inst3d, OBJECT_3D_SUB_OBJECT_WIPER, state);

  0007e	51		 push	 ecx
  0007f	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _state$[ebp]
  00084	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00089	6a 29		 push	 41			; 00000029H
  0008b	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0008e	50		 push	 eax
  0008f	e8 00 00 00 00	 call	 ?animate_keyframed_sub_object_type@@YGHPAUOBJECT_3D_INSTANCE@@HM@Z ; animate_keyframed_sub_object_type

; 181  : }

  00094	5f		 pop	 edi
  00095	5e		 pop	 esi
  00096	5b		 pop	 ebx
  00097	8b e5		 mov	 esp, ebp
  00099	5d		 pop	 ebp
  0009a	c2 04 00	 ret	 4
?animate_default_external_wipers@@YGXPAUOBJECT_3D_INSTANCE@@@Z ENDP ; animate_default_external_wipers
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df_wiper.c
;	COMDAT ?draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z
_TEXT	SEGMENT
_vp$ = 8						; size = 4
?draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z PROC ; draw_default_virtual_cockpit_rain_effect, COMDAT

; 156  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 157  : 	ASSERT (vp);

  00009	83 7d 08 00	 cmp	 DWORD PTR _vp$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@draw_defau
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@PBJCJAJP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02HPPNELPJ@vp@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@draw_defau:

; 158  : 
; 159  : 	if (get_global_graphics_rain_textures_enabled ())

  00027	a1 50 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+80
  0002c	c1 e8 02	 shr	 eax, 2
  0002f	83 e0 01	 and	 eax, 1
  00032	74 38		 je	 SHORT $LN3@draw_defau

; 160  : 	{
; 161  : 		memcpy (&virtual_cockpit_rain_effect_inst3d->vp, vp, sizeof (viewpoint));

  00034	6a 30		 push	 48			; 00000030H
  00036	8b 45 08	 mov	 eax, DWORD PTR _vp$[ebp]
  00039	50		 push	 eax
  0003a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_rain_effect_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00040	83 c1 08	 add	 ecx, 8
  00043	51		 push	 ecx
  00044	e8 00 00 00 00	 call	 _memcpy
  00049	83 c4 0c	 add	 esp, 12			; 0000000cH

; 162  : 
; 163  : 		insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_rain_effect_inst3d->vp.position, virtual_cockpit_rain_effect_inst3d);

  0004c	51		 push	 ecx
  0004d	0f 57 c0	 xorps	 xmm0, xmm0
  00050	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00055	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_rain_effect_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0005a	50		 push	 eax
  0005b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_rain_effect_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00061	83 c1 08	 add	 ecx, 8
  00064	51		 push	 ecx
  00065	6a 02		 push	 2
  00067	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN3@draw_defau:

; 164  : 	}
; 165  : }

  0006c	5f		 pop	 edi
  0006d	5e		 pop	 esi
  0006e	5b		 pop	 ebx
  0006f	8b e5		 mov	 esp, ebp
  00071	5d		 pop	 ebp
  00072	c2 04 00	 ret	 4
?draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z ENDP ; draw_default_virtual_cockpit_rain_effect
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df_wiper.c
;	COMDAT ?draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z
_TEXT	SEGMENT
tv78 = -84						; size = 8
tv79 = -76						; size = 8
_state$ = -4						; size = 4
_vp$ = 8						; size = 4
?draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z PROC ; draw_default_virtual_cockpit_wiper, COMDAT

; 126  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 127  : 	float
; 128  : 		state;
; 129  : 
; 130  : 	ASSERT (vp);

  00009	83 7d 08 00	 cmp	 DWORD PTR _vp$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@draw_defau
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@PBJCJAJP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02HPPNELPJ@vp@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@draw_defau:

; 131  : 
; 132  : 	//
; 133  : 	// rotate wiper
; 134  : 	//
; 135  : 
; 136  : 	state = (wiper_position - MIN_WIPER_POSITION) * (1.0 / (MAX_WIPER_POSITION - MIN_WIPER_POSITION));

  00027	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wiper_position@@3MA
  0002f	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@0000000000000000
  00037	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f800051ed28954b
  0003f	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00043	f3 0f 11 45 fc	 movss	 DWORD PTR _state$[ebp], xmm0

; 137  : 
; 138  : 	state = bound (state, 0.0, 1.0);

  00048	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _state$[ebp]
  0004d	0f 57 c9	 xorps	 xmm1, xmm1
  00050	66 0f 2f c8	 comisd	 xmm1, xmm0
  00054	76 0a		 jbe	 SHORT $LN6@draw_defau
  00056	0f 57 c0	 xorps	 xmm0, xmm0
  00059	f2 0f 11 45 b4	 movsd	 QWORD PTR tv79[ebp], xmm0
  0005e	eb 32		 jmp	 SHORT $LN7@draw_defau
$LN6@draw_defau:
  00060	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _state$[ebp]
  00065	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3ff0000000000000
  0006d	76 0f		 jbe	 SHORT $LN4@draw_defau
  0006f	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00077	f2 0f 11 45 ac	 movsd	 QWORD PTR tv78[ebp], xmm0
  0007c	eb 0a		 jmp	 SHORT $LN5@draw_defau
$LN4@draw_defau:
  0007e	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _state$[ebp]
  00083	f2 0f 11 45 ac	 movsd	 QWORD PTR tv78[ebp], xmm0
$LN5@draw_defau:
  00088	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR tv78[ebp]
  0008d	f2 0f 11 45 b4	 movsd	 QWORD PTR tv79[ebp], xmm0
$LN7@draw_defau:
  00092	f2 0f 5a 45 b4	 cvtsd2ss xmm0, QWORD PTR tv79[ebp]
  00097	f3 0f 11 45 fc	 movss	 DWORD PTR _state$[ebp], xmm0

; 139  : 
; 140  : 	animate_keyframed_sub_object_type (virtual_cockpit_wiper_inst3d, OBJECT_3D_SUB_OBJECT_WIPER, state);

  0009c	51		 push	 ecx
  0009d	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _state$[ebp]
  000a2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a7	6a 29		 push	 41			; 00000029H
  000a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_wiper_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?animate_keyframed_sub_object_type@@YGHPAUOBJECT_3D_INSTANCE@@HM@Z ; animate_keyframed_sub_object_type

; 141  : 
; 142  : 	//
; 143  : 	// draw wiper
; 144  : 	//
; 145  : 
; 146  : 	memcpy (&virtual_cockpit_wiper_inst3d->vp, vp, sizeof (viewpoint));

  000b4	6a 30		 push	 48			; 00000030H
  000b6	8b 45 08	 mov	 eax, DWORD PTR _vp$[ebp]
  000b9	50		 push	 eax
  000ba	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_wiper_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000c0	83 c1 08	 add	 ecx, 8
  000c3	51		 push	 ecx
  000c4	e8 00 00 00 00	 call	 _memcpy
  000c9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 147  : 
; 148  : 	insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_wiper_inst3d->vp.position, virtual_cockpit_wiper_inst3d);

  000cc	51		 push	 ecx
  000cd	0f 57 c0	 xorps	 xmm0, xmm0
  000d0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_wiper_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000da	50		 push	 eax
  000db	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_wiper_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000e1	83 c1 08	 add	 ecx, 8
  000e4	51		 push	 ecx
  000e5	6a 02		 push	 2
  000e7	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 149  : }

  000ec	5f		 pop	 edi
  000ed	5e		 pop	 esi
  000ee	5b		 pop	 ebx
  000ef	8b e5		 mov	 esp, ebp
  000f1	5d		 pop	 ebp
  000f2	c2 04 00	 ret	 4
?draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z ENDP ; draw_default_virtual_cockpit_wiper
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df_wiper.c
;	COMDAT ?deinitialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ
_TEXT	SEGMENT
?deinitialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ PROC ; deinitialise_default_virtual_cockpit_wiper_and_rain_effect, COMDAT

; 111  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 112  : 	destruct_3d_object (virtual_cockpit_wiper_inst3d);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_wiper_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 113  : 
; 114  : 	destruct_3d_object (virtual_cockpit_rain_effect_inst3d);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_rain_effect_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 115  : 
; 116  : 	destroy_screen (pilot_wiped_rain_texture_screen);

  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pilot_wiped_rain_texture_screen@@3PAUSCREEN@@A ; pilot_wiped_rain_texture_screen
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?destroy_screen@@YGHPAUSCREEN@@@Z ; destroy_screen

; 117  : 
; 118  : 	destroy_screen (co_pilot_wiped_rain_texture_screen);

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?co_pilot_wiped_rain_texture_screen@@3PAUSCREEN@@A ; co_pilot_wiped_rain_texture_screen
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?destroy_screen@@YGHPAUSCREEN@@@Z ; destroy_screen

; 119  : }

  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c3		 ret	 0
?deinitialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ENDP ; deinitialise_default_virtual_cockpit_wiper_and_rain_effect
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df_wiper.c
;	COMDAT ?initialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ
_TEXT	SEGMENT
?initialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ PROC ; initialise_default_virtual_cockpit_wiper_and_rain_effect, COMDAT

; 88   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 89   : 	virtual_cockpit_wiper_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_WIPER);

  00009	68 ee 04 00 00	 push	 1262			; 000004eeH
  0000e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00013	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_wiper_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 90   : 
; 91   : 	virtual_cockpit_rain_effect_inst3d = construct_3d_object (OBJECT_3D_APACHE_GLASS);

  00018	68 dd 04 00 00	 push	 1245			; 000004ddH
  0001d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00022	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_rain_effect_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 92   : 
; 93   : 	pilot_wiper = TRUE;

  00027	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?pilot_wiper@@3HA, 1 ; pilot_wiper

; 94   : 
; 95   : 	pilot_wiped_rain_texture_screen = create_screen_for_system_texture (TEXTURE_INDEX_APACHE_PILOT_RAIN_WIPE);

  00031	68 d3 07 00 00	 push	 2003			; 000007d3H
  00036	e8 00 00 00 00	 call	 ?create_screen_for_system_texture@@YGPAUSCREEN@@H@Z ; create_screen_for_system_texture
  0003b	a3 00 00 00 00	 mov	 DWORD PTR ?pilot_wiped_rain_texture_screen@@3PAUSCREEN@@A, eax ; pilot_wiped_rain_texture_screen

; 96   : 
; 97   : 	pilot_wipe_type = WIPE_TYPE_RIGHT_THEN_LEFT;

  00040	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?pilot_wipe_type@@3W4WIPE_TYPES@@A, 2 ; pilot_wipe_type

; 98   : 
; 99   : 	co_pilot_wiper = TRUE;

  0004a	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?co_pilot_wiper@@3HA, 1 ; co_pilot_wiper

; 100  : 
; 101  : 	co_pilot_wiped_rain_texture_screen = create_screen_for_system_texture (TEXTURE_INDEX_APACHE_COPILOT_RAIN_WIPE);

  00054	68 d2 07 00 00	 push	 2002			; 000007d2H
  00059	e8 00 00 00 00	 call	 ?create_screen_for_system_texture@@YGPAUSCREEN@@H@Z ; create_screen_for_system_texture
  0005e	a3 00 00 00 00	 mov	 DWORD PTR ?co_pilot_wiped_rain_texture_screen@@3PAUSCREEN@@A, eax ; co_pilot_wiped_rain_texture_screen

; 102  : 
; 103  : 	co_pilot_wipe_type = WIPE_TYPE_UP_THEN_DOWN;

  00063	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?co_pilot_wipe_type@@3W4WIPE_TYPES@@A, 3 ; co_pilot_wipe_type

; 104  : }

  0006d	5f		 pop	 edi
  0006e	5e		 pop	 esi
  0006f	5b		 pop	 ebx
  00070	8b e5		 mov	 esp, ebp
  00072	5d		 pop	 ebp
  00073	c3		 ret	 0
?initialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ENDP ; initialise_default_virtual_cockpit_wiper_and_rain_effect
_TEXT	ENDS
END
