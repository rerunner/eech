; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?activate_kiowa_master_caution@@YGXXZ		; activate_kiowa_master_caution
PUBLIC	?deactivate_kiowa_master_caution@@YGXXZ		; deactivate_kiowa_master_caution
PUBLIC	?initialise_kiowa_lamp_avionics@@YGXXZ		; initialise_kiowa_lamp_avionics
PUBLIC	?deinitialise_kiowa_lamp_avionics@@YGXXZ	; deinitialise_kiowa_lamp_avionics
PUBLIC	?update_kiowa_lamp_avionics@@YGXXZ		; update_kiowa_lamp_avionics
PUBLIC	?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA ; `update_kiowa_lamp_avionics'::`1'::__LINE__Var
PUBLIC	??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	__real@3f000000
PUBLIC	__real@3f847ae147ae147b
PUBLIC	__real@3fd0000000000000
PUBLIC	__real@3fe999999999999a
PUBLIC	__real@40400000
PUBLIC	__real@4056800000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?play_client_server_warning_message@@YGHPAUENTITY@@H@Z:PROC ; play_client_server_warning_message
EXTRN	?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z:PROC ; pause_local_entity_sound_type
EXTRN	?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z:PROC ; resume_local_entity_sound_type
EXTRN	?get_kiowa_main_mfd_has_focus@@YGHW4KIOWA_MAIN_MFD_LOCATIONS@@@Z:PROC ; get_kiowa_main_mfd_has_focus
EXTRN	?get_current_flight_dynamics_auto_pilot@@YGHXZ:PROC ; get_current_flight_dynamics_auto_pilot
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?fire_extinguisher_used@@3HA:DWORD		; fire_extinguisher_used
EXTRN	?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A:DWORD	; kiowa_lamps
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?master_caution_alert@@3HA DD 01H DUP (?)		; master_caution_alert
?engine_damage_imminent_status@@3HA DD 01H DUP (?)	; engine_damage_imminent_status
?previous_engine_damage_imminent_status@@3HA DD 01H DUP (?) ; previous_engine_damage_imminent_status
?master_caution_flash_timer@@3MA DD 01H DUP (?)		; master_caution_flash_timer
?master_caution_sound_timer@@3MA DD 01H DUP (?)		; master_caution_sound_timer
_BSS	ENDS
;	COMDAT __real@4056800000000000
CONST	SEGMENT
__real@4056800000000000 DQ 04056800000000000r	; 90
CONST	ENDS
;	COMDAT __real@40400000
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
CONST	ENDS
;	COMDAT __real@3fe999999999999a
CONST	SEGMENT
__real@3fe999999999999a DQ 03fe999999999999ar	; 0.8
CONST	ENDS
;	COMDAT __real@3fd0000000000000
CONST	SEGMENT
__real@3fd0000000000000 DQ 03fd0000000000000r	; 0.25
CONST	ENDS
;	COMDAT __real@3f847ae147ae147b
CONST	SEGMENT
__real@3f847ae147ae147b DQ 03f847ae147ae147br	; 0.01
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT ??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_a'
	DB	'vlmp.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA DD 0e5H ; `update_kiowa_lamp_avionics'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?update_master_caution@@YGXXZ
_TEXT	SEGMENT
tv80 = -68						; size = 4
?update_master_caution@@YGXXZ PROC			; update_master_caution, COMDAT

; 160  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 161  : 	//
; 162  : 	// monitor engine damage
; 163  : 	//
; 164  : 
; 165  : 	engine_damage_imminent_status = get_current_flight_dynamics_engine_damage_imminent ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0000e	f3 0f 5a 80 c4
	1c 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7364]
  00016	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0001c	f3 0f 5a 89 d0
	1c 00 00	 cvtss2sd xmm1, DWORD PTR [ecx+7376]
  00024	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe999999999999a
  0002c	66 0f 2f c1	 comisd	 xmm0, xmm1
  00030	77 32		 ja	 SHORT $LN7@update_mas
  00032	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00038	f3 0f 5a 82 24
	1d 00 00	 cvtss2sd xmm0, DWORD PTR [edx+7460]
  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00045	f3 0f 5a 88 30
	1d 00 00	 cvtss2sd xmm1, DWORD PTR [eax+7472]
  0004d	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe999999999999a
  00055	66 0f 2f c1	 comisd	 xmm0, xmm1
  00059	77 09		 ja	 SHORT $LN7@update_mas
  0005b	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
  00062	eb 07		 jmp	 SHORT $LN8@update_mas
$LN7@update_mas:
  00064	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv80[ebp], 1
$LN8@update_mas:
  0006b	8b 4d bc	 mov	 ecx, DWORD PTR tv80[ebp]
  0006e	89 0d 00 00 00
	00		 mov	 DWORD PTR ?engine_damage_imminent_status@@3HA, ecx

; 166  : 
; 167  : 	if ((!previous_engine_damage_imminent_status) && engine_damage_imminent_status)

  00074	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, 0
  0007b	75 1b		 jne	 SHORT $LN2@update_mas
  0007d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?engine_damage_imminent_status@@3HA, 0
  00084	74 12		 je	 SHORT $LN2@update_mas

; 168  : 	{
; 169  : 		play_client_server_warning_message (get_gunship_entity (), SPEECH_SYSTEM_ENGINE_OVERTORQUE);

  00086	6a 28		 push	 40			; 00000028H
  00088	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0008d	50		 push	 eax
  0008e	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 170  : 
; 171  : 		activate_kiowa_master_caution ();

  00093	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN2@update_mas:

; 172  : 	}
; 173  : 
; 174  : 	previous_engine_damage_imminent_status = engine_damage_imminent_status;

  00098	a1 00 00 00 00	 mov	 eax, DWORD PTR ?engine_damage_imminent_status@@3HA
  0009d	a3 00 00 00 00	 mov	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, eax

; 175  : 
; 176  : 	//
; 177  : 	// update master caution lamp
; 178  : 	//
; 179  : 
; 180  : 	if (master_caution_alert)

  000a2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?master_caution_alert@@3HA, 0
  000a9	0f 84 a7 00 00
	00		 je	 $LN5@update_mas

; 181  : 	{
; 182  : 		master_caution_flash_timer -= get_delta_time ();

  000af	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?master_caution_flash_timer@@3MA
  000b7	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  000bf	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 183  : 
; 184  : 		if (master_caution_flash_timer <= 0.0)

  000c7	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?master_caution_flash_timer@@3MA
  000cf	0f 57 c9	 xorps	 xmm1, xmm1
  000d2	66 0f 2f c8	 comisd	 xmm1, xmm0
  000d6	72 2f		 jb	 SHORT $LN4@update_mas

; 185  : 		{
; 186  : 			master_caution_flash_timer = MASTER_CAUTION_FLASH_RATE;

  000d8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000e0	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 187  : 
; 188  : 			kiowa_lamps.master_caution ^= 1;

  000e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  000ed	83 e0 01	 and	 eax, 1
  000f0	83 f0 01	 xor	 eax, 1
  000f3	83 e0 01	 and	 eax, 1
  000f6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  000fc	83 e1 fe	 and	 ecx, -2			; fffffffeH
  000ff	0b c8		 or	 ecx, eax
  00101	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps
$LN4@update_mas:

; 189  : 		}
; 190  : 
; 191  : 		master_caution_sound_timer -= get_delta_time ();

  00107	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?master_caution_sound_timer@@3MA
  0010f	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00117	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 192  : 
; 193  : 		if (master_caution_sound_timer <= 0.0)

  0011f	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?master_caution_sound_timer@@3MA
  00127	0f 57 c9	 xorps	 xmm1, xmm1
  0012a	66 0f 2f c8	 comisd	 xmm1, xmm0
  0012e	72 26		 jb	 SHORT $LN5@update_mas

; 194  : 		{
; 195  : 			master_caution_sound_timer = 0.0;

  00130	0f 57 c0	 xorps	 xmm0, xmm0
  00133	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 196  : 
; 197  : 			pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  0013b	51		 push	 ecx
  0013c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00144	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00149	6a 19		 push	 25			; 00000019H
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN5@update_mas:

; 198  : 		}
; 199  : 	}
; 200  : }

  00156	5f		 pop	 edi
  00157	5e		 pop	 esi
  00158	5b		 pop	 ebx
  00159	8b e5		 mov	 esp, ebp
  0015b	5d		 pop	 ebp
  0015c	c3		 ret	 0
?update_master_caution@@YGXXZ ENDP			; update_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?deinitialise_master_caution@@YGXXZ
_TEXT	SEGMENT
?deinitialise_master_caution@@YGXXZ PROC		; deinitialise_master_caution, COMDAT

; 114  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 115  : 	if (get_gunship_entity ())

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	74 1b		 je	 SHORT $LN2@deinitiali

; 116  : 	{
; 117  : 		pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  00012	51		 push	 ecx
  00013	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0001b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00020	6a 19		 push	 25			; 00000019H
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00027	50		 push	 eax
  00028	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN2@deinitiali:

; 118  : 	}
; 119  : }

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c3		 ret	 0
?deinitialise_master_caution@@YGXXZ ENDP		; deinitialise_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?initialise_master_caution@@YGXXZ
_TEXT	SEGMENT
?initialise_master_caution@@YGXXZ PROC			; initialise_master_caution, COMDAT

; 97   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 98   : 	master_caution_alert = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 0

; 99   : 
; 100  : 	master_caution_flash_timer = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 101  : 
; 102  : 	master_caution_sound_timer = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 103  : 
; 104  : 	engine_damage_imminent_status = FALSE;

  00029	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?engine_damage_imminent_status@@3HA, 0

; 105  : 
; 106  : 	previous_engine_damage_imminent_status = FALSE;

  00033	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, 0

; 107  : }

  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi
  0003f	5b		 pop	 ebx
  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c3		 ret	 0
?initialise_master_caution@@YGXXZ ENDP			; initialise_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?update_kiowa_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
tv299 = -80						; size = 4
tv274 = -80						; size = 4
tv221 = -80						; size = 4
tv150 = -80						; size = 4
tv293 = -76						; size = 4
tv268 = -76						; size = 4
tv215 = -76						; size = 4
tv147 = -76						; size = 4
tv73 = -76						; size = 4
tv321 = -72						; size = 4
tv314 = -72						; size = 4
tv285 = -72						; size = 4
tv260 = -72						; size = 4
tv249 = -72						; size = 4
tv243 = -72						; size = 4
tv234 = -72						; size = 4
tv207 = -72						; size = 4
tv189 = -72						; size = 4
tv176 = -72						; size = 4
tv165 = -72						; size = 4
tv143 = -72						; size = 4
tv135 = -72						; size = 4
tv90 = -72						; size = 4
tv82 = -72						; size = 4
tv67 = -72						; size = 4
_en$ = -4						; size = 4
?update_kiowa_lamp_avionics@@YGXXZ PROC			; update_kiowa_lamp_avionics, COMDAT

; 229  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 230  : 	entity
; 231  : 		*en;
; 232  : 
; 233  : 	en = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 234  : 
; 235  : 	update_master_caution ();

  00011	e8 00 00 00 00	 call	 ?update_master_caution@@YGXXZ ; update_master_caution

; 236  : 
; 237  : 	////////////////////////////////////////
; 238  : 
; 239  : 	kiowa_lamps.engine_ignition = !get_dynamics_damage_type (DYNAMICS_DAMAGE_LEFT_ENGINE) && current_flight_dynamics->left_engine_rpm.value > 0.01;

  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0001b	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  00021	83 e1 08	 and	 ecx, 8
  00024	74 09		 je	 SHORT $LN3@update_kio
  00026	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv67[ebp], 1
  0002d	eb 07		 jmp	 SHORT $LN4@update_kio
$LN3@update_kio:
  0002f	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv67[ebp], 0
$LN4@update_kio:
  00036	83 7d b8 00	 cmp	 DWORD PTR tv67[ebp], 0
  0003a	75 21		 jne	 SHORT $LN5@update_kio
  0003c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00042	f3 0f 5a 82 7c
	1c 00 00	 cvtss2sd xmm0, DWORD PTR [edx+7292]
  0004a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  00052	76 09		 jbe	 SHORT $LN5@update_kio
  00054	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv73[ebp], 1
  0005b	eb 07		 jmp	 SHORT $LN6@update_kio
$LN5@update_kio:
  0005d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN6@update_kio:
  00064	8b 45 b4	 mov	 eax, DWORD PTR tv73[ebp]
  00067	83 e0 01	 and	 eax, 1
  0006a	d1 e0		 shl	 eax, 1
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00072	83 e1 fd	 and	 ecx, -3			; fffffffdH
  00075	0b c8		 or	 ecx, eax
  00077	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps

; 240  : 
; 241  : 	kiowa_lamps.apu_ignition = current_flight_dynamics->apu_rpm.value > 0.01;

  0007d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00082	f3 0f 5a 80 3c
	1d 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7484]
  0008a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  00092	76 09		 jbe	 SHORT $LN7@update_kio
  00094	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv82[ebp], 1
  0009b	eb 07		 jmp	 SHORT $LN8@update_kio
$LN7@update_kio:
  0009d	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN8@update_kio:
  000a4	8b 4d b8	 mov	 ecx, DWORD PTR tv82[ebp]
  000a7	83 e1 01	 and	 ecx, 1
  000aa	c1 e1 02	 shl	 ecx, 2
  000ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  000b3	83 e2 fb	 and	 edx, -5			; fffffffbH
  000b6	0b d1		 or	 edx, ecx
  000b8	89 15 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, edx ; kiowa_lamps

; 242  : 
; 243  : 	kiowa_lamps.engine_fire = get_dynamics_damage_type (DYNAMICS_DAMAGE_LEFT_ENGINE_FIRE);

  000be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  000c3	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  000c9	83 e1 20	 and	 ecx, 32			; 00000020H
  000cc	74 09		 je	 SHORT $LN9@update_kio
  000ce	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv90[ebp], 1
  000d5	eb 07		 jmp	 SHORT $LN10@update_kio
$LN9@update_kio:
  000d7	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN10@update_kio:
  000de	8b 55 b8	 mov	 edx, DWORD PTR tv90[ebp]
  000e1	83 e2 01	 and	 edx, 1
  000e4	c1 e2 03	 shl	 edx, 3
  000e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  000ec	83 e0 f7	 and	 eax, -9			; fffffff7H
  000ef	0b c2		 or	 eax, edx
  000f1	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 244  : 
; 245  : 	kiowa_lamps.apu_fire = 0;

  000f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  000fb	83 e0 ef	 and	 eax, -17		; ffffffefH
  000fe	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 246  : 
; 247  : 	kiowa_lamps.engine_fire_extinguiser = fire_extinguisher_used;

  00103	a1 00 00 00 00	 mov	 eax, DWORD PTR ?fire_extinguisher_used@@3HA ; fire_extinguisher_used
  00108	83 e0 01	 and	 eax, 1
  0010b	c1 e0 05	 shl	 eax, 5
  0010e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00114	83 e1 df	 and	 ecx, -33		; ffffffdfH
  00117	0b c8		 or	 ecx, eax
  00119	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps

; 248  : 
; 249  : 	kiowa_lamps.hydraulic_pressure = get_dynamics_damage_type (DYNAMICS_DAMAGE_LOW_HYDRAULICS);

  0011f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00124	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  0012a	81 e1 80 00 00
	00		 and	 ecx, 128		; 00000080H
  00130	74 09		 je	 SHORT $LN11@update_kio
  00132	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv135[ebp], 1
  00139	eb 07		 jmp	 SHORT $LN12@update_kio
$LN11@update_kio:
  0013b	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN12@update_kio:
  00142	8b 55 b8	 mov	 edx, DWORD PTR tv135[ebp]
  00145	83 e2 01	 and	 edx, 1
  00148	c1 e2 06	 shl	 edx, 6
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00150	83 e0 bf	 and	 eax, -65		; ffffffbfH
  00153	0b c2		 or	 eax, edx
  00155	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 250  : 
; 251  : 	kiowa_lamps.oil_pressure = get_dynamics_damage_type (DYNAMICS_DAMAGE_LOW_OIL_PRESSURE) || get_dynamics_damage_type (DYNAMICS_DAMAGE_HIGH_OIL_PRESSURE);

  0015a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0015f	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  00165	81 e1 00 04 00
	00		 and	 ecx, 1024		; 00000400H
  0016b	74 09		 je	 SHORT $LN13@update_kio
  0016d	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv143[ebp], 1
  00174	eb 07		 jmp	 SHORT $LN14@update_kio
$LN13@update_kio:
  00176	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv143[ebp], 0
$LN14@update_kio:
  0017d	83 7d b8 00	 cmp	 DWORD PTR tv143[ebp], 0
  00181	75 32		 jne	 SHORT $LN17@update_kio
  00183	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00189	8b 82 24 25 00
	00		 mov	 eax, DWORD PTR [edx+9508]
  0018f	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  00194	74 09		 je	 SHORT $LN15@update_kio
  00196	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv147[ebp], 1
  0019d	eb 07		 jmp	 SHORT $LN16@update_kio
$LN15@update_kio:
  0019f	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
$LN16@update_kio:
  001a6	83 7d b4 00	 cmp	 DWORD PTR tv147[ebp], 0
  001aa	75 09		 jne	 SHORT $LN17@update_kio
  001ac	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv150[ebp], 0
  001b3	eb 07		 jmp	 SHORT $LN18@update_kio
$LN17@update_kio:
  001b5	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR tv150[ebp], 1
$LN18@update_kio:
  001bc	8b 4d b0	 mov	 ecx, DWORD PTR tv150[ebp]
  001bf	83 e1 01	 and	 ecx, 1
  001c2	c1 e1 07	 shl	 ecx, 7
  001c5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  001cb	81 e2 7f ff ff
	ff		 and	 edx, -129		; ffffff7fH
  001d1	0b d1		 or	 edx, ecx
  001d3	89 15 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, edx ; kiowa_lamps

; 252  : 
; 253  : 	kiowa_lamps.oil_temperature = 0;

  001d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  001de	25 ff fe ff ff	 and	 eax, -257		; fffffeffH
  001e3	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 254  : 
; 255  : 	kiowa_lamps.overtorque = get_current_flight_dynamics_overtorque ();

  001e8	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  001ed	85 c0		 test	 eax, eax
  001ef	75 2c		 jne	 SHORT $LN19@update_kio
  001f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  001f6	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  001fc	83 e1 01	 and	 ecx, 1
  001ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00205	8b 82 28 25 00
	00		 mov	 eax, DWORD PTR [edx+9512]
  0020b	d1 e8		 shr	 eax, 1
  0020d	83 e0 01	 and	 eax, 1
  00210	0b c8		 or	 ecx, eax
  00212	74 09		 je	 SHORT $LN19@update_kio
  00214	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv165[ebp], 1
  0021b	eb 07		 jmp	 SHORT $LN20@update_kio
$LN19@update_kio:
  0021d	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv165[ebp], 0
$LN20@update_kio:
  00224	8b 4d b8	 mov	 ecx, DWORD PTR tv165[ebp]
  00227	83 e1 01	 and	 ecx, 1
  0022a	c1 e1 09	 shl	 ecx, 9
  0022d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00233	81 e2 ff fd ff
	ff		 and	 edx, -513		; fffffdffH
  00239	0b d1		 or	 edx, ecx
  0023b	89 15 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, edx ; kiowa_lamps

; 256  : 
; 257  : 	kiowa_lamps.rotor_rpm = get_current_flight_dynamics_low_rotor_rpm ();

  00241	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  00246	85 c0		 test	 eax, eax
  00248	75 24		 jne	 SHORT $LN21@update_kio
  0024a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0024f	f3 0f 5a 80 14
	1e 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7700]
  00257	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4056800000000000
  0025f	66 0f 2f c8	 comisd	 xmm1, xmm0
  00263	76 09		 jbe	 SHORT $LN21@update_kio
  00265	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv176[ebp], 1
  0026c	eb 07		 jmp	 SHORT $LN22@update_kio
$LN21@update_kio:
  0026e	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv176[ebp], 0
$LN22@update_kio:
  00275	8b 4d b8	 mov	 ecx, DWORD PTR tv176[ebp]
  00278	83 e1 01	 and	 ecx, 1
  0027b	c1 e1 0a	 shl	 ecx, 10			; 0000000aH
  0027e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00284	81 e2 ff fb ff
	ff		 and	 edx, -1025		; fffffbffH
  0028a	0b d1		 or	 edx, ecx
  0028c	89 15 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, edx ; kiowa_lamps

; 258  : 
; 259  : 	kiowa_lamps.fuel_low = current_flight_dynamics->fuel_weight.value < (current_flight_dynamics->fuel_weight.max * 0.25);

  00292	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00297	f3 0f 5a 80 a4
	24 00 00	 cvtss2sd xmm0, DWORD PTR [eax+9380]
  0029f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  002a5	f3 0f 5a 89 b0
	24 00 00	 cvtss2sd xmm1, DWORD PTR [ecx+9392]
  002ad	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fd0000000000000
  002b5	66 0f 2f c8	 comisd	 xmm1, xmm0
  002b9	76 09		 jbe	 SHORT $LN23@update_kio
  002bb	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv189[ebp], 1
  002c2	eb 07		 jmp	 SHORT $LN24@update_kio
$LN23@update_kio:
  002c4	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv189[ebp], 0
$LN24@update_kio:
  002cb	8b 55 b8	 mov	 edx, DWORD PTR tv189[ebp]
  002ce	83 e2 01	 and	 edx, 1
  002d1	c1 e2 0b	 shl	 edx, 11			; 0000000bH
  002d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  002d9	25 ff f7 ff ff	 and	 eax, -2049		; fffff7ffH
  002de	0b c2		 or	 eax, edx
  002e0	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 260  : 
; 261  : 	kiowa_lamps.rotor_brake = get_current_flight_dynamics_rotor_brake ();

  002e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  002ea	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  002f0	c1 e9 05	 shr	 ecx, 5
  002f3	83 e1 01	 and	 ecx, 1
  002f6	83 e1 01	 and	 ecx, 1
  002f9	c1 e1 0c	 shl	 ecx, 12			; 0000000cH
  002fc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00302	81 e2 ff ef ff
	ff		 and	 edx, -4097		; ffffefffH
  00308	0b d1		 or	 edx, ecx
  0030a	89 15 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, edx ; kiowa_lamps

; 262  : 
; 263  : 	kiowa_lamps.navigation_lights = get_local_entity_int_value (en, INT_TYPE_LIGHTS_ON);

  00310	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00314	74 0a		 je	 SHORT $LN25@update_kio
  00316	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00319	8b 08		 mov	 ecx, DWORD PTR [eax]
  0031b	89 4d b8	 mov	 DWORD PTR tv207[ebp], ecx
  0031e	eb 21		 jmp	 SHORT $LN26@update_kio
$LN25@update_kio:
  00320	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA
  00326	83 c2 22	 add	 edx, 34			; 00000022H
  00329	52		 push	 edx
  0032a	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0032f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00334	50		 push	 eax
  00335	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0033a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv207[ebp], 0
$LN26@update_kio:
  00341	b9 01 00 00 00	 mov	 ecx, 1
  00346	85 c9		 test	 ecx, ecx
  00348	74 09		 je	 SHORT $LN27@update_kio
  0034a	c7 45 b4 7a 00
	00 00		 mov	 DWORD PTR tv215[ebp], 122 ; 0000007aH
  00351	eb 21		 jmp	 SHORT $LN28@update_kio
$LN27@update_kio:
  00353	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA
  00359	83 c2 22	 add	 edx, 34			; 00000022H
  0035c	52		 push	 edx
  0035d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00362	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00367	50		 push	 eax
  00368	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0036d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv215[ebp], 0
$LN28@update_kio:
  00374	6a 7a		 push	 122			; 0000007aH
  00376	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00379	51		 push	 ecx
  0037a	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv207[ebp], 1116
  00381	8b 45 b4	 mov	 eax, DWORD PTR tv215[ebp]
  00384	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0038b	ff d1		 call	 ecx
  0038d	89 45 b0	 mov	 DWORD PTR tv221[ebp], eax
  00390	8b 55 b0	 mov	 edx, DWORD PTR tv221[ebp]
  00393	83 e2 01	 and	 edx, 1
  00396	c1 e2 0d	 shl	 edx, 13			; 0000000dH
  00399	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  0039e	25 ff df ff ff	 and	 eax, -8193		; ffffdfffH
  003a3	0b c2		 or	 eax, edx
  003a5	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 264  : 
; 265  : 	kiowa_lamps.hover_hold = get_current_flight_dynamics_auto_hover ();

  003aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  003af	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  003b5	c1 e9 07	 shr	 ecx, 7
  003b8	83 e1 07	 and	 ecx, 7
  003bb	83 f9 01	 cmp	 ecx, 1
  003be	74 20		 je	 SHORT $LN29@update_kio
  003c0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  003c6	8b 82 28 25 00
	00		 mov	 eax, DWORD PTR [edx+9512]
  003cc	c1 e8 07	 shr	 eax, 7
  003cf	83 e0 07	 and	 eax, 7
  003d2	83 f8 02	 cmp	 eax, 2
  003d5	74 09		 je	 SHORT $LN29@update_kio
  003d7	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv234[ebp], 0
  003de	eb 07		 jmp	 SHORT $LN30@update_kio
$LN29@update_kio:
  003e0	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv234[ebp], 1
$LN30@update_kio:
  003e7	8b 4d b8	 mov	 ecx, DWORD PTR tv234[ebp]
  003ea	83 e1 01	 and	 ecx, 1
  003ed	c1 e1 0e	 shl	 ecx, 14			; 0000000eH
  003f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  003f6	81 e2 ff bf ff
	ff		 and	 edx, -16385		; ffffbfffH
  003fc	0b d1		 or	 edx, ecx
  003fe	89 15 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, edx ; kiowa_lamps

; 266  : 
; 267  : 	kiowa_lamps.altitude_hold = get_current_flight_dynamics_altitude_lock ();

  00404	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00409	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  0040f	c1 e9 07	 shr	 ecx, 7
  00412	83 e1 07	 and	 ecx, 7
  00415	83 f9 03	 cmp	 ecx, 3
  00418	75 09		 jne	 SHORT $LN31@update_kio
  0041a	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR tv243[ebp], 1
  00421	eb 07		 jmp	 SHORT $LN32@update_kio
$LN31@update_kio:
  00423	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv243[ebp], 0
$LN32@update_kio:
  0042a	8b 55 b8	 mov	 edx, DWORD PTR tv243[ebp]
  0042d	83 e2 01	 and	 edx, 1
  00430	c1 e2 0f	 shl	 edx, 15			; 0000000fH
  00433	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00438	25 ff 7f ff ff	 and	 eax, -32769		; ffff7fffH
  0043d	0b c2		 or	 eax, edx
  0043f	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 268  : 
; 269  : 	kiowa_lamps.auto_pilot = get_current_flight_dynamics_auto_pilot ();

  00444	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  00449	89 45 b8	 mov	 DWORD PTR tv249[ebp], eax
  0044c	8b 45 b8	 mov	 eax, DWORD PTR tv249[ebp]
  0044f	83 e0 01	 and	 eax, 1
  00452	c1 e0 10	 shl	 eax, 16			; 00000010H
  00455	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  0045b	81 e1 ff ff fe
	ff		 and	 ecx, -65537		; fffeffffH
  00461	0b c8		 or	 ecx, eax
  00463	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps

; 270  : 
; 271  : 	kiowa_lamps.laser = get_local_entity_int_value (en, INT_TYPE_LASER_ON);

  00469	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0046d	74 0a		 je	 SHORT $LN33@update_kio
  0046f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00472	8b 08		 mov	 ecx, DWORD PTR [eax]
  00474	89 4d b8	 mov	 DWORD PTR tv260[ebp], ecx
  00477	eb 21		 jmp	 SHORT $LN34@update_kio
$LN33@update_kio:
  00479	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA
  0047f	83 c2 2a	 add	 edx, 42			; 0000002aH
  00482	52		 push	 edx
  00483	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00488	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0048d	50		 push	 eax
  0048e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00493	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv260[ebp], 0
$LN34@update_kio:
  0049a	b9 01 00 00 00	 mov	 ecx, 1
  0049f	85 c9		 test	 ecx, ecx
  004a1	74 09		 je	 SHORT $LN35@update_kio
  004a3	c7 45 b4 78 00
	00 00		 mov	 DWORD PTR tv268[ebp], 120 ; 00000078H
  004aa	eb 21		 jmp	 SHORT $LN36@update_kio
$LN35@update_kio:
  004ac	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA
  004b2	83 c2 2a	 add	 edx, 42			; 0000002aH
  004b5	52		 push	 edx
  004b6	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@
  004bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  004c0	50		 push	 eax
  004c1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004c6	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv268[ebp], 0
$LN36@update_kio:
  004cd	6a 78		 push	 120			; 00000078H
  004cf	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  004d2	51		 push	 ecx
  004d3	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv260[ebp], 1116
  004da	8b 45 b4	 mov	 eax, DWORD PTR tv268[ebp]
  004dd	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  004e4	ff d1		 call	 ecx
  004e6	89 45 b0	 mov	 DWORD PTR tv274[ebp], eax
  004e9	8b 55 b0	 mov	 edx, DWORD PTR tv274[ebp]
  004ec	83 e2 01	 and	 edx, 1
  004ef	c1 e2 11	 shl	 edx, 17			; 00000011H
  004f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  004f7	25 ff ff fd ff	 and	 eax, -131073		; fffdffffH
  004fc	0b c2		 or	 eax, edx
  004fe	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 272  : 
; 273  : 	kiowa_lamps.ir_jammer = get_local_entity_int_value (en, INT_TYPE_INFRA_RED_JAMMER_ON);

  00503	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00507	74 0a		 je	 SHORT $LN37@update_kio
  00509	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0050c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0050e	89 4d b8	 mov	 DWORD PTR tv285[ebp], ecx
  00511	eb 21		 jmp	 SHORT $LN38@update_kio
$LN37@update_kio:
  00513	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA
  00519	83 c2 2c	 add	 edx, 44			; 0000002cH
  0051c	52		 push	 edx
  0051d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00522	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00527	50		 push	 eax
  00528	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0052d	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv285[ebp], 0
$LN38@update_kio:
  00534	b9 01 00 00 00	 mov	 ecx, 1
  00539	85 c9		 test	 ecx, ecx
  0053b	74 09		 je	 SHORT $LN39@update_kio
  0053d	c7 45 b4 68 00
	00 00		 mov	 DWORD PTR tv293[ebp], 104 ; 00000068H
  00544	eb 21		 jmp	 SHORT $LN40@update_kio
$LN39@update_kio:
  00546	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_kiowa_lamp_avionics@@YGXXZ@4JA
  0054c	83 c2 2c	 add	 edx, 44			; 0000002cH
  0054f	52		 push	 edx
  00550	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HOCHJNIP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00555	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0055a	50		 push	 eax
  0055b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00560	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv293[ebp], 0
$LN40@update_kio:
  00567	6a 68		 push	 104			; 00000068H
  00569	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0056c	51		 push	 ecx
  0056d	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv285[ebp], 1116
  00574	8b 45 b4	 mov	 eax, DWORD PTR tv293[ebp]
  00577	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0057e	ff d1		 call	 ecx
  00580	89 45 b0	 mov	 DWORD PTR tv299[ebp], eax
  00583	8b 55 b0	 mov	 edx, DWORD PTR tv299[ebp]
  00586	83 e2 01	 and	 edx, 1
  00589	c1 e2 12	 shl	 edx, 18			; 00000012H
  0058c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  00591	25 ff ff fb ff	 and	 eax, -262145		; fffbffffH
  00596	0b c2		 or	 eax, edx
  00598	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 274  : 
; 275  : 	kiowa_lamps.auto_counter_measures = get_global_auto_counter_measures ();

  0059d	a1 90 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+144
  005a2	83 e0 01	 and	 eax, 1
  005a5	c1 e0 13	 shl	 eax, 19			; 00000013H
  005a8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  005ae	81 e1 ff ff f7
	ff		 and	 ecx, -524289		; fff7ffffH
  005b4	0b c8		 or	 ecx, eax
  005b6	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps

; 276  : 
; 277  : 	kiowa_lamps.ase_auto_page = get_global_ase_auto_page ();

  005bc	a1 64 03 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+868
  005c1	83 e0 01	 and	 eax, 1
  005c4	c1 e0 14	 shl	 eax, 20			; 00000014H
  005c7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  005cd	81 e1 ff ff ef
	ff		 and	 ecx, -1048577		; ffefffffH
  005d3	0b c8		 or	 ecx, eax
  005d5	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps

; 278  : 
; 279  : 	kiowa_lamps.co_pilot_main_mfd_focus = get_kiowa_main_mfd_has_focus (KIOWA_MAIN_MFD_LOCATION_CO_PILOT);

  005db	6a 00		 push	 0
  005dd	e8 00 00 00 00	 call	 ?get_kiowa_main_mfd_has_focus@@YGHW4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; get_kiowa_main_mfd_has_focus
  005e2	89 45 b8	 mov	 DWORD PTR tv314[ebp], eax
  005e5	8b 45 b8	 mov	 eax, DWORD PTR tv314[ebp]
  005e8	83 e0 01	 and	 eax, 1
  005eb	c1 e0 15	 shl	 eax, 21			; 00000015H
  005ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  005f4	81 e1 ff ff df
	ff		 and	 ecx, -2097153		; ffdfffffH
  005fa	0b c8		 or	 ecx, eax
  005fc	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps

; 280  : 
; 281  : 	kiowa_lamps.pilot_main_mfd_focus = get_kiowa_main_mfd_has_focus (KIOWA_MAIN_MFD_LOCATION_PILOT);

  00602	6a 01		 push	 1
  00604	e8 00 00 00 00	 call	 ?get_kiowa_main_mfd_has_focus@@YGHW4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; get_kiowa_main_mfd_has_focus
  00609	89 45 b8	 mov	 DWORD PTR tv321[ebp], eax
  0060c	8b 45 b8	 mov	 eax, DWORD PTR tv321[ebp]
  0060f	83 e0 01	 and	 eax, 1
  00612	c1 e0 16	 shl	 eax, 22			; 00000016H
  00615	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  0061b	81 e1 ff ff bf
	ff		 and	 ecx, -4194305		; ffbfffffH
  00621	0b c8		 or	 ecx, eax
  00623	89 0d 00 00 00
	00		 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, ecx ; kiowa_lamps

; 282  : }

  00629	5f		 pop	 edi
  0062a	5e		 pop	 esi
  0062b	5b		 pop	 ebx
  0062c	8b e5		 mov	 esp, ebp
  0062e	5d		 pop	 ebp
  0062f	c3		 ret	 0
?update_kiowa_lamp_avionics@@YGXXZ ENDP			; update_kiowa_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?deinitialise_kiowa_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
?deinitialise_kiowa_lamp_avionics@@YGXXZ PROC		; deinitialise_kiowa_lamp_avionics, COMDAT

; 220  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 221  : 	deinitialise_master_caution ();

  00009	e8 00 00 00 00	 call	 ?deinitialise_master_caution@@YGXXZ ; deinitialise_master_caution

; 222  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?deinitialise_kiowa_lamp_avionics@@YGXXZ ENDP		; deinitialise_kiowa_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?initialise_kiowa_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
?initialise_kiowa_lamp_avionics@@YGXXZ PROC		; initialise_kiowa_lamp_avionics, COMDAT

; 211  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 212  : 	initialise_master_caution ();

  00009	e8 00 00 00 00	 call	 ?initialise_master_caution@@YGXXZ ; initialise_master_caution

; 213  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?initialise_kiowa_lamp_avionics@@YGXXZ ENDP		; initialise_kiowa_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?deactivate_kiowa_master_caution@@YGXXZ
_TEXT	SEGMENT
?deactivate_kiowa_master_caution@@YGXXZ PROC		; deactivate_kiowa_master_caution, COMDAT

; 143  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 144  : 	kiowa_lamps.master_caution = 0;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  0000e	83 e0 fe	 and	 eax, -2			; fffffffeH
  00011	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 145  : 
; 146  : 	master_caution_alert = FALSE;

  00016	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 0

; 147  : 
; 148  : 	master_caution_flash_timer = 0.0;

  00020	0f 57 c0	 xorps	 xmm0, xmm0
  00023	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 149  : 
; 150  : 	master_caution_sound_timer = 0.0;

  0002b	0f 57 c0	 xorps	 xmm0, xmm0
  0002e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 151  : 
; 152  : 	pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  00036	51		 push	 ecx
  00037	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0003f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00044	6a 19		 push	 25			; 00000019H
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type

; 153  : }

  00051	5f		 pop	 edi
  00052	5e		 pop	 esi
  00053	5b		 pop	 ebx
  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c3		 ret	 0
?deactivate_kiowa_master_caution@@YGXXZ ENDP		; deactivate_kiowa_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_avlmp.c
;	COMDAT ?activate_kiowa_master_caution@@YGXXZ
_TEXT	SEGMENT
?activate_kiowa_master_caution@@YGXXZ PROC		; activate_kiowa_master_caution, COMDAT

; 126  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 127  : 	kiowa_lamps.master_caution = 1;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A ; kiowa_lamps
  0000e	83 c8 01	 or	 eax, 1
  00011	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_lamps@@3UKIOWA_LAMP_FLAGS@@A, eax ; kiowa_lamps

; 128  : 
; 129  : 	master_caution_alert = TRUE;

  00016	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 1

; 130  : 
; 131  : 	master_caution_flash_timer = MASTER_CAUTION_FLASH_RATE;

  00020	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00028	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 132  : 
; 133  : 	master_caution_sound_timer = 3.0;

  00030	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40400000
  00038	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 134  : 
; 135  : 	resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA);

  00040	6a 19		 push	 25			; 00000019H
  00042	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 136  : }

  0004d	5f		 pop	 edi
  0004e	5e		 pop	 esi
  0004f	5b		 pop	 ebx
  00050	8b e5		 mov	 esp, ebp
  00052	5d		 pop	 ebp
  00053	c3		 ret	 0
?activate_kiowa_master_caution@@YGXXZ ENDP		; activate_kiowa_master_caution
_TEXT	ENDS
END
