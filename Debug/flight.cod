; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\flight.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?in_flight_game_mode@@3W4IN_FLIGHT_GAME_MODES@@A ; in_flight_game_mode
PUBLIC	?pages_clear@@3HA				; pages_clear
PUBLIC	?game_update_time@@3HA				; game_update_time
_BSS	SEGMENT
?in_flight_game_mode@@3W4IN_FLIGHT_GAME_MODES@@A DD 01H DUP (?) ; in_flight_game_mode
?pages_clear@@3HA DD 01H DUP (?)			; pages_clear
?game_update_time@@3HA DD 01H DUP (?)			; game_update_time
_BSS	ENDS
PUBLIC	?flight@@YGXXZ					; flight
PUBLIC	?toggle_in_flight_game_modes@@YGXPAUEVENT@@@Z	; toggle_in_flight_game_modes
PUBLIC	?set_raw_in_flight_game_mode@@YGXH@Z		; set_raw_in_flight_game_mode
PUBLIC	?set_in_flight_game_mode@@YGXH@Z		; set_in_flight_game_mode
PUBLIC	?__LINE__Var@?0??flight@@YGXXZ@4JA		; `flight'::`1'::__LINE__Var
PUBLIC	??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@ ; `string'
PUBLIC	??_C@_0O@DIELNMDN@flight_events@		; `string'
PUBLIC	??_C@_0BF@JNEDHLHL@ingame?5screen?5events@	; `string'
PUBLIC	??_C@_0M@BBENDDKM@Demo?5events@			; `string'
PUBLIC	??_C@_0BM@ECNBPGHF@FLIGHT?3?5unknown?5gametype?5?$CFd@ ; `string'
PUBLIC	??_C@_0O@PDOLMCLM@Autosaving?4?4?4@		; `string'
PUBLIC	??_C@_08FNGJBHKL@AUTOSAVE@			; `string'
PUBLIC	??_C@_0BD@NGMOLPDN@Done?5with?5autosave@	; `string'
PUBLIC	??_C@_0GE@GPAPFEMC@?$CIget_ui_screen_stack_head?5?$CI?$CJ?5?$CB?$DN@ ; `string'
PUBLIC	??_C@_0O@ENDLFPAB@flight?5events@		; `string'
PUBLIC	__real@3f800000
PUBLIC	__real@42f00000
PUBLIC	__real@447a0000
EXTRN	__imp___time64:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?debug_log@@YAXPBDZZ:PROC			; debug_log
EXTRN	?set_mouse_on@@YGXXZ:PROC			; set_mouse_on
EXTRN	?set_mouse_off@@YGXXZ:PROC			; set_mouse_off
EXTRN	?process_events@@YGXXZ:PROC			; process_events
EXTRN	?read_joystick_values@@YGXH@Z:PROC		; read_joystick_values
EXTRN	?push_event@@YGXP6GXXZPBD@Z:PROC		; push_event
EXTRN	?push_event_stop@@YGXXZ:PROC			; push_event_stop
EXTRN	?pop_to_event_stop@@YGXXZ:PROC			; pop_to_event_stop
EXTRN	?reset_delta_time@@YGXXZ:PROC			; reset_delta_time
EXTRN	?set_delta_time@@YGXXZ:PROC			; set_delta_time
EXTRN	?debug_watch_delta_time@@YGXXZ:PROC		; debug_watch_delta_time
EXTRN	?system_sleep@@YGXH@Z:PROC			; system_sleep
EXTRN	?ddraw_change_display_resolution@@YGHHHH@Z:PROC	; ddraw_change_display_resolution
EXTRN	?ddraw_flip_surface@@YGHXZ:PROC			; ddraw_flip_surface
EXTRN	?set_active_screen@@YGHPAUSCREEN@@@Z:PROC	; set_active_screen
EXTRN	?clear_screen@@YGXXZ:PROC			; clear_screen
EXTRN	?load_warzone_override_textures@@YGXXZ:PROC	; load_warzone_override_textures
EXTRN	?ui_repaint@@YGXXZ:PROC				; ui_repaint
EXTRN	?ui_force_update@@YGXXZ:PROC			; ui_force_update
EXTRN	?push_ui_screen@@YGXPAUUI_OBJECT@@@Z:PROC	; push_ui_screen
EXTRN	?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ:PROC ; get_ui_screen_stack_head
EXTRN	?ui_object_unselect_list@@YGXPAUUI_OBJECT@@@Z:PROC ; ui_object_unselect_list
EXTRN	?set_game_status@@YGXW4GAME_STATUS_TYPES@@@Z:PROC ; set_game_status
EXTRN	?pre_flight_test@@YGXXZ:PROC			; pre_flight_test
EXTRN	?in_flight_test@@YGXXZ:PROC			; in_flight_test
EXTRN	?post_flight_test@@YGXXZ:PROC			; post_flight_test
EXTRN	?display_in_flight_debug_info@@YGXXZ:PROC	; display_in_flight_debug_info
EXTRN	?update_cpu_count@@YGXXZ:PROC			; update_cpu_count
EXTRN	?update_update_functions@@YGXXZ:PROC		; update_update_functions
EXTRN	?reset_comms_stats@@YGXXZ:PROC			; reset_comms_stats
EXTRN	?reset_receive_packet_list_time_stamps@@YGXXZ:PROC ; reset_receive_packet_list_time_stamps
EXTRN	?display_comms_stats@@YGXXZ:PROC		; display_comms_stats
EXTRN	?receive_comms_data@@YGXXZ:PROC			; receive_comms_data
EXTRN	?data_exchange@@YGXXZ:PROC			; data_exchange
EXTRN	?net_handle_heartbeat@@YGXXZ:PROC		; net_handle_heartbeat
EXTRN	?server_create_session@@YGHXZ:PROC		; server_create_session
EXTRN	?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ:PROC ; notify_local_entity
EXTRN	?close_pack_buffer@@YGHXZ:PROC			; close_pack_buffer
EXTRN	?reset_local_entity_drawn_flags@@YGXXZ:PROC	; reset_local_entity_drawn_flags
EXTRN	?stop_local_entity_sounds@@YGXXZ:PROC		; stop_local_entity_sounds
EXTRN	?set_gunship_entity@@YGXPAUENTITY@@@Z:PROC	; set_gunship_entity
EXTRN	?reset_interpolation_timer@@YGXXZ:PROC		; reset_interpolation_timer
EXTRN	?update_aircraft_damage_timers@@YGXXZ:PROC	; update_aircraft_damage_timers
EXTRN	?update_mobile_sprite_light_timers@@YGXXZ:PROC	; update_mobile_sprite_light_timers
EXTRN	?update_speech_buffers@@YGXXZ:PROC		; update_speech_buffers
EXTRN	?set_pilot_entity@@YGXPAUENTITY@@@Z:PROC	; set_pilot_entity
EXTRN	?update_client_server_entities@@YGXXZ:PROC	; update_client_server_entities
EXTRN	?start_ai_system@@YGXXZ:PROC			; start_ai_system
EXTRN	?stop_ai_system@@YGXXZ:PROC			; stop_ai_system
EXTRN	?play_application_main_scene_sound@@YGXXZ:PROC	; play_application_main_scene_sound
EXTRN	?play_application_ui_sound@@YGXXZ:PROC		; play_application_ui_sound
EXTRN	?flight_events@@YGXXZ:PROC			; flight_events
EXTRN	?demo_events@@YGXXZ:PROC			; demo_events
EXTRN	?draw_view@@YGXXZ:PROC				; draw_view
EXTRN	?initialise_views@@YGXXZ:PROC			; initialise_views
EXTRN	?deinitialise_views@@YGXXZ:PROC			; deinitialise_views
EXTRN	?update_view@@YGXXZ:PROC			; update_view
EXTRN	?set_display_exit_message@@YGXH@Z:PROC		; set_display_exit_message
EXTRN	?display_exit_message@@YGXXZ:PROC		; display_exit_message
EXTRN	?update_message_log@@YGXXZ:PROC			; update_message_log
EXTRN	?stop_messaging_system@@YGXPAUEVENT@@@Z:PROC	; stop_messaging_system
EXTRN	?save_screen_image_and_viewpoint_data@@YGXXZ:PROC ; save_screen_image_and_viewpoint_data
EXTRN	?get_time_acceleration@@YGHXZ:PROC		; get_time_acceleration
EXTRN	?get_min_time_acceleration@@YGHXZ:PROC		; get_min_time_acceleration
EXTRN	?set_raw_time_acceleration@@YGXH@Z:PROC		; set_raw_time_acceleration
EXTRN	?leave_mission@@YGXXZ:PROC			; leave_mission
EXTRN	?store_session@@YGHPAUSESSION_LIST_DATA_TYPE@@PBD@Z:PROC ; store_session
EXTRN	?start_ingame_ui_system@@YGXXZ:PROC		; start_ingame_ui_system
EXTRN	?stop_ingame_ui_system@@YGXXZ:PROC		; stop_ingame_ui_system
EXTRN	?ingame_screen_set_events@@YGXXZ:PROC		; ingame_screen_set_events
EXTRN	?free_flight_auto_assign_gunship@@YGPAUENTITY@@XZ:PROC ; free_flight_auto_assign_gunship
EXTRN	?start_tacview_logging@@YGXPAUENTITY@@@Z:PROC	; start_tacview_logging
EXTRN	?close_tacview_log@@YGXXZ:PROC			; close_tacview_log
EXTRN	?event_stack_head@@3PAUEVENT_STACK@@A:DWORD	; event_stack_head
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?application_video_width@@3HA:DWORD		; application_video_width
EXTRN	?application_video_colourdepth@@3HA:DWORD	; application_video_colourdepth
EXTRN	?video_screen@@3PAUSCREEN@@A:DWORD		; video_screen
EXTRN	?command_line_comms_dedicated_server@@3HA:DWORD	; command_line_comms_dedicated_server
EXTRN	?command_line_max_frame_rate@@3HA:DWORD		; command_line_max_frame_rate
EXTRN	?command_line_max_game_update_rate@@3HA:DWORD	; command_line_max_game_update_rate
EXTRN	?command_line_tacview_logging@@3HA:DWORD	; command_line_tacview_logging
EXTRN	?command_line_pause_server@@3HA:DWORD		; command_line_pause_server
EXTRN	?command_line_autosave@@3HA:DWORD		; command_line_autosave
EXTRN	?command_line_ui_sounds_muted@@3HA:DWORD	; command_line_ui_sounds_muted
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA:BYTE ; fn_set_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_local_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_update_client_server_entity
EXTRN	?camera_entity@@3PAUENTITY@@A:DWORD		; camera_entity
EXTRN	?ui_sounds_muted@@3HA:DWORD			; ui_sounds_muted
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?full_screen_width@@3MA:DWORD			; full_screen_width
EXTRN	?full_screen_height@@3MA:DWORD			; full_screen_height
EXTRN	?full_screen_colourdepth@@3HA:DWORD		; full_screen_colourdepth
EXTRN	?record_screen_sequence@@3HA:DWORD		; record_screen_sequence
EXTRN	?exit_flight_loop_flag@@3HA:DWORD		; exit_flight_loop_flag
EXTRN	?game_exit_type@@3W4GAME_EXIT_TYPES@@A:DWORD	; game_exit_type
EXTRN	?dedicated_server_screen@@3PAUUI_OBJECT@@A:DWORD ; dedicated_server_screen
EXTRN	?game_type@@3W4GAME_TYPES@@A:DWORD		; game_type
EXTRN	?session_list@@3PAUUI_OBJECT@@A:DWORD		; session_list
EXTRN	?current_game_session@@3PAUSESSION_LIST_DATA_TYPE@@A:DWORD ; current_game_session
EXTRN	?campaign_screen@@3PAUUI_OBJECT@@A:DWORD	; campaign_screen
EXTRN	?free_flight_screen@@3PAUUI_OBJECT@@A:DWORD	; free_flight_screen
EXTRN	?options_screen@@3PAUUI_OBJECT@@A:DWORD		; options_screen
EXTRN	__fltused:DWORD
;	COMDAT __real@447a0000
CONST	SEGMENT
__real@447a0000 DD 0447a0000r			; 1000
CONST	ENDS
;	COMDAT __real@42f00000
CONST	SEGMENT
__real@42f00000 DD 042f00000r			; 120
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ??_C@_0O@ENDLFPAB@flight?5events@
CONST	SEGMENT
??_C@_0O@ENDLFPAB@flight?5events@ DB 'flight events', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0GE@GPAPFEMC@?$CIget_ui_screen_stack_head?5?$CI?$CJ?5?$CB?$DN@
CONST	SEGMENT
??_C@_0GE@GPAPFEMC@?$CIget_ui_screen_stack_head?5?$CI?$CJ?5?$CB?$DN@ DB '('
	DB	'get_ui_screen_stack_head () != campaign_screen) && (get_ui_sc'
	DB	'reen_stack_head () != options_screen)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@NGMOLPDN@Done?5with?5autosave@
CONST	SEGMENT
??_C@_0BD@NGMOLPDN@Done?5with?5autosave@ DB 'Done with autosave', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08FNGJBHKL@AUTOSAVE@
CONST	SEGMENT
??_C@_08FNGJBHKL@AUTOSAVE@ DB 'AUTOSAVE', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@PDOLMCLM@Autosaving?4?4?4@
CONST	SEGMENT
??_C@_0O@PDOLMCLM@Autosaving?4?4?4@ DB 'Autosaving...', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@ECNBPGHF@FLIGHT?3?5unknown?5gametype?5?$CFd@
CONST	SEGMENT
??_C@_0BM@ECNBPGHF@FLIGHT?3?5unknown?5gametype?5?$CFd@ DB 'FLIGHT: unknow'
	DB	'n gametype %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@BBENDDKM@Demo?5events@
CONST	SEGMENT
??_C@_0M@BBENDDKM@Demo?5events@ DB 'Demo events', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@JNEDHLHL@ingame?5screen?5events@
CONST	SEGMENT
??_C@_0BF@JNEDHLHL@ingame?5screen?5events@ DB 'ingame screen events', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@DIELNMDN@flight_events@
CONST	SEGMENT
??_C@_0O@DIELNMDN@flight_events@ DB 'flight_events', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@ DB 'get_current_ga'
	DB	'me_session ()', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\flight.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??flight@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??flight@@YGXXZ@4JA DD 067H		; `flight'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\flight.c
;	COMDAT ?limit_frame_rate@@YGXXZ
_TEXT	SEGMENT
?limit_frame_rate@@YGXXZ PROC				; limit_frame_rate, COMDAT

; 716  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 717  : 
; 718  : 	if (get_delta_time () < ((float) 1.0 / command_line_max_frame_rate))

  00009	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?command_line_max_frame_rate@@3HA ; command_line_max_frame_rate
  00011	f3 0f 10 0d 00
	00 00 00	 movss	 xmm1, DWORD PTR __real@3f800000
  00019	f3 0f 5e c8	 divss	 xmm1, xmm0
  0001d	0f 2f 0d 00 00
	00 00		 comiss	 xmm1, DWORD PTR ?system_delta_time@@3MA
  00024	76 2e		 jbe	 SHORT $LN2@limit_fram

; 719  : 	{
; 720  : 
; 721  : 		#if DEBUG_MODULE
; 722  : 
; 723  : 		debug_log ("LIMIT FRAME RATE: delta time = %f, max frame rate = %d, sleep %f", get_delta_time (), command_line_max_frame_rate, ((((float) 1.0 / command_line_max_frame_rate) - get_delta_time ()) * TIME_1_SECOND));
; 724  : 
; 725  : 		#endif
; 726  : 
; 727  : 		system_sleep ((((float) 1.0 / command_line_max_frame_rate) - get_delta_time ()) * TIME_1_SECOND);

  00026	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?command_line_max_frame_rate@@3HA ; command_line_max_frame_rate
  0002e	f3 0f 10 0d 00
	00 00 00	 movss	 xmm1, DWORD PTR __real@3f800000
  00036	f3 0f 5e c8	 divss	 xmm1, xmm0
  0003a	f3 0f 5c 0d 00
	00 00 00	 subss	 xmm1, DWORD PTR ?system_delta_time@@3MA
  00042	f3 0f 59 0d 00
	00 00 00	 mulss	 xmm1, DWORD PTR __real@447a0000
  0004a	f3 0f 2c c1	 cvttss2si eax, xmm1
  0004e	50		 push	 eax
  0004f	e8 00 00 00 00	 call	 ?system_sleep@@YGXH@Z	; system_sleep
$LN2@limit_fram:

; 728  : 	}
; 729  : }

  00054	5f		 pop	 edi
  00055	5e		 pop	 esi
  00056	5b		 pop	 ebx
  00057	8b e5		 mov	 esp, ebp
  00059	5d		 pop	 ebp
  0005a	c3		 ret	 0
?limit_frame_rate@@YGXXZ ENDP				; limit_frame_rate
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\flight.c
;	COMDAT ?update_in_flight_timers@@YGXXZ
_TEXT	SEGMENT
?update_in_flight_timers@@YGXXZ PROC			; update_in_flight_timers, COMDAT

; 701  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 702  : 	update_speech_buffers ();

  00009	e8 00 00 00 00	 call	 ?update_speech_buffers@@YGXXZ ; update_speech_buffers

; 703  : 
; 704  : 	update_mobile_sprite_light_timers ();

  0000e	e8 00 00 00 00	 call	 ?update_mobile_sprite_light_timers@@YGXXZ ; update_mobile_sprite_light_timers

; 705  : 
; 706  : 	update_aircraft_damage_timers ();

  00013	e8 00 00 00 00	 call	 ?update_aircraft_damage_timers@@YGXXZ ; update_aircraft_damage_timers

; 707  : 
; 708  : 	update_message_log ();

  00018	e8 00 00 00 00	 call	 ?update_message_log@@YGXXZ ; update_message_log

; 709  : }

  0001d	5f		 pop	 edi
  0001e	5e		 pop	 esi
  0001f	5b		 pop	 ebx
  00020	8b e5		 mov	 esp, ebp
  00022	5d		 pop	 ebp
  00023	c3		 ret	 0
?update_in_flight_timers@@YGXXZ ENDP			; update_in_flight_timers
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\flight.c
;	COMDAT ?update_in_flight_menus@@YGXXZ
_TEXT	SEGMENT
?update_in_flight_menus@@YGXXZ PROC			; update_in_flight_menus, COMDAT

; 685  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 686  : 
; 687  : 	#if DEBUG_MODULE
; 688  : 
; 689  : 	debug_log ("FLIGHT: Update in_flight_menus");
; 690  : 
; 691  : 	#endif
; 692  : 
; 693  : 	ui_force_update ();

  00009	e8 00 00 00 00	 call	 ?ui_force_update@@YGXXZ	; ui_force_update

; 694  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?update_in_flight_menus@@YGXXZ ENDP			; update_in_flight_menus
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\flight.c
;	COMDAT ?set_in_flight_game_mode@@YGXH@Z
_TEXT	SEGMENT
tv81 = -72						; size = 4
tv74 = -68						; size = 4
tv64 = -68						; size = 4
_flag$ = 8						; size = 4
?set_in_flight_game_mode@@YGXH@Z PROC			; set_in_flight_game_mode, COMDAT

; 620  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 621  : 
; 622  : 	in_flight_game_mode = (in_flight_game_modes)flag;

  00009	8b 45 08	 mov	 eax, DWORD PTR _flag$[ebp]
  0000c	a3 00 00 00 00	 mov	 DWORD PTR ?in_flight_game_mode@@3W4IN_FLIGHT_GAME_MODES@@A, eax ; in_flight_game_mode

; 623  : 
; 624  : 	switch (flag)

  00011	8b 45 08	 mov	 eax, DWORD PTR _flag$[ebp]
  00014	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00017	83 7d bc 00	 cmp	 DWORD PTR tv64[ebp], 0
  0001b	74 0f		 je	 SHORT $LN4@set_in_fli
  0001d	83 7d bc 01	 cmp	 DWORD PTR tv64[ebp], 1
  00021	0f 84 bf 00 00
	00		 je	 $LN7@set_in_fli
  00027	e9 ee 00 00 00	 jmp	 $LN1@set_in_fli
$LN4@set_in_fli:

; 625  : 	{
; 626  : 
; 627  : 		case IN_FLIGHT_GAME_MODE_SIMULATOR:
; 628  : 		{
; 629  : 
; 630  : 			//
; 631  : 			// going back to cockpit
; 632  : 			//
; 633  : 
; 634  : 			if (get_event_stack_head_function () != flight_events)

  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?event_stack_head@@3PAUEVENT_STACK@@A ; event_stack_head
  00031	81 78 08 00 00
	00 00		 cmp	 DWORD PTR [eax+8], OFFSET ?flight_events@@YGXXZ ; flight_events
  00038	74 0f		 je	 SHORT $LN5@set_in_fli

; 635  : 			{
; 636  : 
; 637  : 				push_event (flight_events, "flight events");

  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0O@ENDLFPAB@flight?5events@
  0003f	68 00 00 00 00	 push	 OFFSET ?flight_events@@YGXXZ ; flight_events
  00044	e8 00 00 00 00	 call	 ?push_event@@YGXP6GXXZPBD@Z ; push_event
$LN5@set_in_fli:

; 638  : 			}
; 639  : 
; 640  : 			set_mouse_off ();

  00049	e8 00 00 00 00	 call	 ?set_mouse_off@@YGXXZ	; set_mouse_off

; 641  : 
; 642  : 			////////////////////////////////////////
; 643  : 			//
; 644  : 
; 645  : 			if (get_local_entity_int_value (get_camera_entity (), INT_TYPE_CAMERA_MODE) == CAMERA_MODE_END_OF_MISSION)

  0004e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?camera_entity@@3PAUENTITY@@A, 0 ; camera_entity
  00055	74 0c		 je	 SHORT $LN10@set_in_fli
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  0005c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005e	89 4d bc	 mov	 DWORD PTR tv74[ebp], ecx
  00061	eb 1d		 jmp	 SHORT $LN11@set_in_fli
$LN10@set_in_fli:
  00063	68 85 02 00 00	 push	 645			; 00000285H
  00068	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00073	52		 push	 edx
  00074	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00079	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN11@set_in_fli:
  00080	b8 01 00 00 00	 mov	 eax, 1
  00085	85 c0		 test	 eax, eax
  00087	74 09		 je	 SHORT $LN12@set_in_fli
  00089	c7 45 b8 10 00
	00 00		 mov	 DWORD PTR tv81[ebp], 16	; 00000010H
  00090	eb 1d		 jmp	 SHORT $LN13@set_in_fli
$LN12@set_in_fli:
  00092	68 85 02 00 00	 push	 645			; 00000285H
  00097	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0009c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000a2	51		 push	 ecx
  000a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000a8	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN13@set_in_fli:
  000af	6a 10		 push	 16			; 00000010H
  000b1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  000b7	52		 push	 edx
  000b8	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv74[ebp], 1116
  000bf	8b 4d b8	 mov	 ecx, DWORD PTR tv81[ebp]
  000c2	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  000c9	ff d2		 call	 edx
  000cb	83 f8 01	 cmp	 eax, 1
  000ce	75 14		 jne	 SHORT $LN6@set_in_fli

; 646  : 			{
; 647  : 				notify_local_entity (ENTITY_MESSAGE_SET_CAMERA_ACTION, get_camera_entity (), NULL, CAMERA_ACTION_CHASE);

  000d0	6a 00		 push	 0
  000d2	6a 00		 push	 0
  000d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  000d9	50		 push	 eax
  000da	6a 2f		 push	 47			; 0000002fH
  000dc	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  000e1	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@set_in_fli:

; 648  : 			}
; 649  : 
; 650  : 			//
; 651  : 			////////////////////////////////////////
; 652  : 
; 653  : 			break;

  000e4	eb 34		 jmp	 SHORT $LN1@set_in_fli
$LN7@set_in_fli:

; 654  : 		}
; 655  : 
; 656  : 		case IN_FLIGHT_GAME_MODE_PLANNER:
; 657  : 		{
; 658  : 			stop_messaging_system (NULL);

  000e6	6a 00		 push	 0
  000e8	e8 00 00 00 00	 call	 ?stop_messaging_system@@YGXPAUEVENT@@@Z ; stop_messaging_system

; 659  : 
; 660  : 			//
; 661  : 			// going back to UI
; 662  : 			// UI screen already on stack but we need to call its function
; 663  : 			//
; 664  : 
; 665  : 			if (get_event_stack_head_function () != ingame_screen_set_events)

  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?event_stack_head@@3PAUEVENT_STACK@@A ; event_stack_head
  000f2	81 78 08 00 00
	00 00		 cmp	 DWORD PTR [eax+8], OFFSET ?ingame_screen_set_events@@YGXXZ ; ingame_screen_set_events
  000f9	74 0f		 je	 SHORT $LN8@set_in_fli

; 666  : 			{
; 667  : 
; 668  : 				push_event (ingame_screen_set_events, "ingame screen events");

  000fb	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@JNEDHLHL@ingame?5screen?5events@
  00100	68 00 00 00 00	 push	 OFFSET ?ingame_screen_set_events@@YGXXZ ; ingame_screen_set_events
  00105	e8 00 00 00 00	 call	 ?push_event@@YGXP6GXXZPBD@Z ; push_event
$LN8@set_in_fli:

; 669  : 			}
; 670  : 
; 671  : 			set_mouse_on ();

  0010a	e8 00 00 00 00	 call	 ?set_mouse_on@@YGXXZ	; set_mouse_on

; 672  : 
; 673  : 			push_ui_screen (get_ui_screen_stack_head ());

  0010f	e8 00 00 00 00	 call	 ?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ ; get_ui_screen_stack_head
  00114	50		 push	 eax
  00115	e8 00 00 00 00	 call	 ?push_ui_screen@@YGXPAUUI_OBJECT@@@Z ; push_ui_screen
$LN1@set_in_fli:

; 674  : 
; 675  : 			break;
; 676  : 		}
; 677  : 	}
; 678  : }

  0011a	5f		 pop	 edi
  0011b	5e		 pop	 esi
  0011c	5b		 pop	 ebx
  0011d	8b e5		 mov	 esp, ebp
  0011f	5d		 pop	 ebp
  00120	c2 04 00	 ret	 4
?set_in_flight_game_mode@@YGXH@Z ENDP			; set_in_flight_game_mode
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\flight.c
;	COMDAT ?set_raw_in_flight_game_mode@@YGXH@Z
_TEXT	SEGMENT
_flag$ = 8						; size = 4
?set_raw_in_flight_game_mode@@YGXH@Z PROC		; set_raw_in_flight_game_mode, COMDAT

; 610  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 611  : 
; 612  : 	in_flight_game_mode = (in_flight_game_modes)flag;

  00009	8b 45 08	 mov	 eax, DWORD PTR _flag$[ebp]
  0000c	a3 00 00 00 00	 mov	 DWORD PTR ?in_flight_game_mode@@3W4IN_FLIGHT_GAME_MODES@@A, eax ; in_flight_game_mode

; 613  : }

  00011	5f		 pop	 edi
  00012	5e		 pop	 esi
  00013	5b		 pop	 ebx
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c2 04 00	 ret	 4
?set_raw_in_flight_game_mode@@YGXH@Z ENDP		; set_raw_in_flight_game_mode
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\flight.c
;	COMDAT ?toggle_in_flight_game_modes@@YGXPAUEVENT@@@Z
_TEXT	SEGMENT
_ev$ = 8						; size = 4
?toggle_in_flight_game_modes@@YGXPAUEVENT@@@Z PROC	; toggle_in_flight_game_modes, COMDAT

; 589  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 590  : 	if (get_in_flight_game_mode () == IN_FLIGHT_GAME_MODE_SIMULATOR)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?in_flight_game_mode@@3W4IN_FLIGHT_GAME_MODES@@A, 0 ; in_flight_game_mode
  00010	75 09		 jne	 SHORT $LN2@toggle_in_

; 591  : 	{
; 592  : 		set_in_flight_game_mode (IN_FLIGHT_GAME_MODE_PLANNER);

  00012	6a 01		 push	 1
  00014	e8 00 00 00 00	 call	 ?set_in_flight_game_mode@@YGXH@Z ; set_in_flight_game_mode

; 593  : 	}
; 594  : 	else

  00019	eb 24		 jmp	 SHORT $LN1@toggle_in_
$LN2@toggle_in_:

; 595  : 	{
; 596  : 	    if (command_line_ui_sounds_muted)

  0001b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_ui_sounds_muted@@3HA, 0 ; command_line_ui_sounds_muted
  00022	74 0a		 je	 SHORT $LN4@toggle_in_

; 597  : 	    	ui_sounds_muted = FALSE; //ataribaby 29/12/2008 for muted UI sounds

  00024	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ui_sounds_muted@@3HA, 0 ; ui_sounds_muted
$LN4@toggle_in_:

; 598  : 
; 599  : 		pages_clear = 0;

  0002e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?pages_clear@@3HA, 0 ; pages_clear

; 600  : 
; 601  : 		set_in_flight_game_mode (IN_FLIGHT_GAME_MODE_SIMULATOR);

  00038	6a 00		 push	 0
  0003a	e8 00 00 00 00	 call	 ?set_in_flight_game_mode@@YGXH@Z ; set_in_flight_game_mode
$LN1@toggle_in_:

; 602  : 	}
; 603  : }

  0003f	5f		 pop	 edi
  00040	5e		 pop	 esi
  00041	5b		 pop	 ebx
  00042	8b e5		 mov	 esp, ebp
  00044	5d		 pop	 ebp
  00045	c2 04 00	 ret	 4
?toggle_in_flight_game_modes@@YGXPAUEVENT@@@Z ENDP	; toggle_in_flight_game_modes
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\flight.c
;	COMDAT ?flight@@YGXXZ
_TEXT	SEGMENT
tv404 = -96						; size = 8
tv322 = -96						; size = 4
tv302 = -96						; size = 4
tv151 = -96						; size = 4
tv131 = -96						; size = 4
tv314 = -92						; size = 4
tv294 = -92						; size = 4
tv206 = -92						; size = 4
tv201 = -92						; size = 4
tv192 = -92						; size = 4
tv143 = -92						; size = 4
tv91 = -92						; size = 4
tv77 = -92						; size = 4
_now$ = -24						; size = 8
_last_autosaved$ = -16					; size = 8
_count$ = -8						; size = 4
_keysite$ = -4						; size = 4
?flight@@YGXXZ PROC					; flight, COMDAT

; 103  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 104  : 
; 105  : 	entity
; 106  : 		*keysite;
; 107  : 
; 108  : 	int
; 109  : 		count;
; 110  : 
; 111  : 	// Casm 17JUN05 Autosave option
; 112  : 	time_t
; 113  : 		last_autosaved, now;
; 114  : 	// Casm 17JUN05 Autosave option
; 115  : 
; 116  : 
; 117  : 	keysite = NULL;

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _keysite$[ebp], 0

; 118  : 
; 119  : 	////////////////////////////////////////
; 120  : 	//
; 121  : 	// INITIALISE FLIGHT
; 122  : 	//
; 123  : 	////////////////////////////////////////
; 124  : 
; 125  : 	set_game_exit_type (GAME_EXIT_INVALID);

  00010	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?game_exit_type@@3W4GAME_EXIT_TYPES@@A, 0 ; game_exit_type

; 126  : 
; 127  : 	ASSERT (get_current_game_session ());

  0001a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?current_game_session@@3PAUSESSION_LIST_DATA_TYPE@@A, 0 ; current_game_session
  00021	75 18		 jne	 SHORT $LN10@flight
  00023	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  00028	83 c0 18	 add	 eax, 24			; 00000018H
  0002b	50		 push	 eax
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00031	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@
  00036	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN10@flight:

; 128  : 
; 129  : 	// Casm 11JUN09 Loading textures here if DEMO mode
; 130  : 	if (get_game_type () == GAME_TYPE_DEMO)

  0003b	83 3d 00 00 00
	00 04		 cmp	 DWORD PTR ?game_type@@3W4GAME_TYPES@@A, 4 ; game_type
  00042	75 05		 jne	 SHORT $LN11@flight

; 131  : 	{
; 132  : 		load_warzone_override_textures ();

  00044	e8 00 00 00 00	 call	 ?load_warzone_override_textures@@YGXXZ ; load_warzone_override_textures
$LN11@flight:

; 133  : 	}
; 134  : 
; 135  : 	//repaint the screen to show the textures are loaded
; 136  : 	ui_repaint ();

  00049	e8 00 00 00 00	 call	 ?ui_repaint@@YGXXZ	; ui_repaint

; 137  : /////////////////////////////////////////
; 138  : 
; 139  : 	set_exit_flight_loop (FALSE);

  0004e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?exit_flight_loop_flag@@3HA, 0 ; exit_flight_loop_flag

; 140  : 
; 141  : 	push_event_stop ();

  00058	e8 00 00 00 00	 call	 ?push_event_stop@@YGXXZ	; push_event_stop

; 142  : 
; 143  : 	push_event (flight_events, "flight_events");

  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0O@DIELNMDN@flight_events@
  00062	68 00 00 00 00	 push	 OFFSET ?flight_events@@YGXXZ ; flight_events
  00067	e8 00 00 00 00	 call	 ?push_event@@YGXP6GXXZPBD@Z ; push_event

; 144  : 
; 145  : 	initialise_views ();

  0006c	e8 00 00 00 00	 call	 ?initialise_views@@YGXXZ ; initialise_views

; 146  : 
; 147  : 
; 148  : 	if (command_line_comms_dedicated_server)

  00071	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_comms_dedicated_server@@3HA, 0 ; command_line_comms_dedicated_server
  00078	74 17		 je	 SHORT $LN12@flight

; 149  : 	{
; 150  : 
; 151  : 		set_raw_in_flight_game_mode (IN_FLIGHT_GAME_MODE_PLANNER);

  0007a	6a 01		 push	 1
  0007c	e8 00 00 00 00	 call	 ?set_raw_in_flight_game_mode@@YGXH@Z ; set_raw_in_flight_game_mode

; 152  : 
; 153  : 		push_ui_screen (dedicated_server_screen);

  00081	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dedicated_server_screen@@3PAUUI_OBJECT@@A ; dedicated_server_screen
  00086	50		 push	 eax
  00087	e8 00 00 00 00	 call	 ?push_ui_screen@@YGXPAUUI_OBJECT@@@Z ; push_ui_screen

; 154  : 	}
; 155  : 	else

  0008c	e9 c3 01 00 00	 jmp	 $LN2@flight
$LN12@flight:

; 156  : 	{
; 157  : 		if (get_game_type () == GAME_TYPE_FREE_FLIGHT)

  00091	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?game_type@@3W4GAME_TYPES@@A, 1 ; game_type
  00098	75 05		 jne	 SHORT $LN14@flight

; 158  : 		{
; 159  : 			free_flight_auto_assign_gunship ();

  0009a	e8 00 00 00 00	 call	 ?free_flight_auto_assign_gunship@@YGPAUENTITY@@XZ ; free_flight_auto_assign_gunship
$LN14@flight:

; 160  : 		}
; 161  : 
; 162  : 		////////////////////////////////////////
; 163  : 		//
; 164  : 		// Start the ui on the situation screen
; 165  : 		//
; 166  : 		////////////////////////////////////////
; 167  : 
; 168  : 		set_raw_in_flight_game_mode (IN_FLIGHT_GAME_MODE_PLANNER);

  0009f	6a 01		 push	 1
  000a1	e8 00 00 00 00	 call	 ?set_raw_in_flight_game_mode@@YGXH@Z ; set_raw_in_flight_game_mode

; 169  : 
; 170  : 		switch (get_game_type ())

  000a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?game_type@@3W4GAME_TYPES@@A ; game_type
  000ab	89 45 a4	 mov	 DWORD PTR tv77[ebp], eax
  000ae	8b 4d a4	 mov	 ecx, DWORD PTR tv77[ebp]
  000b1	83 e9 01	 sub	 ecx, 1
  000b4	89 4d a4	 mov	 DWORD PTR tv77[ebp], ecx
  000b7	83 7d a4 03	 cmp	 DWORD PTR tv77[ebp], 3
  000bb	0f 87 80 01 00
	00		 ja	 $LN18@flight
  000c1	8b 55 a4	 mov	 edx, DWORD PTR tv77[ebp]
  000c4	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN61@flight[edx*4]
$LN15@flight:

; 171  : 		{
; 172  : 			case GAME_TYPE_FREE_FLIGHT:
; 173  : 			{
; 174  : 				push_ui_screen (free_flight_screen);

  000cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?free_flight_screen@@3PAUUI_OBJECT@@A ; free_flight_screen
  000d0	50		 push	 eax
  000d1	e8 00 00 00 00	 call	 ?push_ui_screen@@YGXPAUUI_OBJECT@@@Z ; push_ui_screen

; 175  : 
; 176  : 				push_event (ingame_screen_set_events, "ingame screen events");

  000d6	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@JNEDHLHL@ingame?5screen?5events@
  000db	68 00 00 00 00	 push	 OFFSET ?ingame_screen_set_events@@YGXXZ ; ingame_screen_set_events
  000e0	e8 00 00 00 00	 call	 ?push_event@@YGXP6GXXZPBD@Z ; push_event

; 177  : 
; 178  : 				break;

  000e5	e9 6a 01 00 00	 jmp	 $LN2@flight
$LN16@flight:

; 179  : 			}
; 180  : 			case GAME_TYPE_CAMPAIGN:
; 181  : 			case GAME_TYPE_SKIRMISH:
; 182  : 			{
; 183  : 				#if !DEMO_VERSION
; 184  : 
; 185  : 				push_ui_screen (campaign_screen);

  000ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?campaign_screen@@3PAUUI_OBJECT@@A ; campaign_screen
  000ef	50		 push	 eax
  000f0	e8 00 00 00 00	 call	 ?push_ui_screen@@YGXPAUUI_OBJECT@@@Z ; push_ui_screen

; 186  : 
; 187  : 				push_event (ingame_screen_set_events, "ingame screen events");

  000f5	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@JNEDHLHL@ingame?5screen?5events@
  000fa	68 00 00 00 00	 push	 OFFSET ?ingame_screen_set_events@@YGXXZ ; ingame_screen_set_events
  000ff	e8 00 00 00 00	 call	 ?push_event@@YGXP6GXXZPBD@Z ; push_event

; 188  : 
; 189  : 				#endif
; 190  : 
; 191  : 				break;

  00104	e9 4b 01 00 00	 jmp	 $LN2@flight
$LN17@flight:

; 192  : 			}
; 193  : 			case GAME_TYPE_DEMO:
; 194  : 			{
; 195  : 				set_raw_in_flight_game_mode (IN_FLIGHT_GAME_MODE_SIMULATOR);

  00109	6a 00		 push	 0
  0010b	e8 00 00 00 00	 call	 ?set_raw_in_flight_game_mode@@YGXH@Z ; set_raw_in_flight_game_mode

; 196  : 
; 197  : 				set_local_entity_float_value (get_session_entity (), FLOAT_TYPE_TIME_OF_DAY_ACCELERATION, 60.0 * 2.0);

  00110	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00117	74 0c		 je	 SHORT $LN42@flight
  00119	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0011e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00120	89 4d a4	 mov	 DWORD PTR tv91[ebp], ecx
  00123	eb 21		 jmp	 SHORT $LN43@flight
$LN42@flight:
  00125	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  0012b	83 c2 5e	 add	 edx, 94			; 0000005eH
  0012e	52		 push	 edx
  0012f	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00134	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00139	50		 push	 eax
  0013a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0013f	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv91[ebp], 0
$LN43@flight:
  00146	b9 01 00 00 00	 mov	 ecx, 1
  0014b	85 c9		 test	 ecx, ecx
  0014d	74 09		 je	 SHORT $LN44@flight
  0014f	c7 45 a0 8f 00
	00 00		 mov	 DWORD PTR tv131[ebp], 143 ; 0000008fH
  00156	eb 21		 jmp	 SHORT $LN45@flight
$LN44@flight:
  00158	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  0015e	83 c2 5e	 add	 edx, 94			; 0000005eH
  00161	52		 push	 edx
  00162	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00167	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0016c	50		 push	 eax
  0016d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00172	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN45@flight:
  00179	51		 push	 ecx
  0017a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42f00000
  00182	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00187	68 8f 00 00 00	 push	 143			; 0000008fH
  0018c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00192	51		 push	 ecx
  00193	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv91[ebp], 700
  0019a	8b 45 a0	 mov	 eax, DWORD PTR tv131[ebp]
  0019d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  001a4	ff d1		 call	 ecx

; 198  : 
; 199  : 				set_local_entity_int_value (get_session_entity (), INT_TYPE_SKIP_NIGHT_TIME, TRUE);

  001a6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  001ad	74 0c		 je	 SHORT $LN46@flight
  001af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  001b4	8b 08		 mov	 ecx, DWORD PTR [eax]
  001b6	89 4d a4	 mov	 DWORD PTR tv143[ebp], ecx
  001b9	eb 21		 jmp	 SHORT $LN47@flight
$LN46@flight:
  001bb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  001c1	83 c2 60	 add	 edx, 96			; 00000060H
  001c4	52		 push	 edx
  001c5	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001cf	50		 push	 eax
  001d0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d5	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv143[ebp], 0
$LN47@flight:
  001dc	b9 01 00 00 00	 mov	 ecx, 1
  001e1	85 c9		 test	 ecx, ecx
  001e3	74 09		 je	 SHORT $LN48@flight
  001e5	c7 45 a0 bc 00
	00 00		 mov	 DWORD PTR tv151[ebp], 188 ; 000000bcH
  001ec	eb 21		 jmp	 SHORT $LN49@flight
$LN48@flight:
  001ee	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  001f4	83 c2 60	 add	 edx, 96			; 00000060H
  001f7	52		 push	 edx
  001f8	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  001fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00202	50		 push	 eax
  00203	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00208	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv151[ebp], 0
$LN49@flight:
  0020f	6a 01		 push	 1
  00211	68 bc 00 00 00	 push	 188			; 000000bcH
  00216	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0021c	51		 push	 ecx
  0021d	69 55 a4 5c 04
	00 00		 imul	 edx, DWORD PTR tv143[ebp], 1116
  00224	8b 45 a0	 mov	 eax, DWORD PTR tv151[ebp]
  00227	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  0022e	ff d1		 call	 ecx

; 200  : 
; 201  : 				push_event (demo_events, "Demo events");

  00230	68 00 00 00 00	 push	 OFFSET ??_C@_0M@BBENDDKM@Demo?5events@
  00235	68 00 00 00 00	 push	 OFFSET ?demo_events@@YGXXZ ; demo_events
  0023a	e8 00 00 00 00	 call	 ?push_event@@YGXP6GXXZPBD@Z ; push_event

; 202  : 
; 203  : 				break;

  0023f	eb 13		 jmp	 SHORT $LN2@flight
$LN18@flight:

; 204  : 			}
; 205  : 			default:
; 206  : 			{
; 207  : 				debug_fatal ("FLIGHT: unknown gametype %d", get_game_type ());

  00241	a1 00 00 00 00	 mov	 eax, DWORD PTR ?game_type@@3W4GAME_TYPES@@A ; game_type
  00246	50		 push	 eax
  00247	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@ECNBPGHF@FLIGHT?3?5unknown?5gametype?5?$CFd@
  0024c	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00251	83 c4 08	 add	 esp, 8
$LN2@flight:

; 208  : 			}
; 209  : 		}
; 210  : 	}
; 211  : 
; 212  : 	start_ai_system ();

  00254	e8 00 00 00 00	 call	 ?start_ai_system@@YGXXZ	; start_ai_system

; 213  : 
; 214  : 	start_ingame_ui_system ();

  00259	e8 00 00 00 00	 call	 ?start_ingame_ui_system@@YGXXZ ; start_ingame_ui_system

; 215  : 
; 216  : 	////////////////////////////////////////
; 217  : 	//
; 218  : 	// FLIGHT
; 219  : 	//
; 220  : 	////////////////////////////////////////
; 221  : 
; 222  : 	game_update_time = TIME_1_SECOND / command_line_max_game_update_rate;

  0025e	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  00263	99		 cdq
  00264	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?command_line_max_game_update_rate@@3HA ; command_line_max_game_update_rate
  0026a	a3 00 00 00 00	 mov	 DWORD PTR ?game_update_time@@3HA, eax ; game_update_time

; 223  : 
; 224  : 	set_raw_time_acceleration (get_min_time_acceleration ());

  0026f	e8 00 00 00 00	 call	 ?get_min_time_acceleration@@YGHXZ ; get_min_time_acceleration
  00274	50		 push	 eax
  00275	e8 00 00 00 00	 call	 ?set_raw_time_acceleration@@YGXH@Z ; set_raw_time_acceleration

; 225  : 
; 226  : 	reset_delta_time ();

  0027a	e8 00 00 00 00	 call	 ?reset_delta_time@@YGXXZ ; reset_delta_time

; 227  : 
; 228  : 	debug_watch_delta_time ();

  0027f	e8 00 00 00 00	 call	 ?debug_watch_delta_time@@YGXXZ ; debug_watch_delta_time

; 229  : 
; 230  : 	set_display_exit_message (FALSE);

  00284	6a 00		 push	 0
  00286	e8 00 00 00 00	 call	 ?set_display_exit_message@@YGXH@Z ; set_display_exit_message

; 231  : 
; 232  : 	if (get_comms_model () == COMMS_MODEL_SERVER)

  0028b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00292	75 05		 jne	 SHORT $LN19@flight

; 233  : 	{
; 234  : 		server_create_session ();

  00294	e8 00 00 00 00	 call	 ?server_create_session@@YGHXZ ; server_create_session
$LN19@flight:

; 235  : 	}
; 236  : 
; 237  : 	////////////////////////////////////////
; 238  : 	set_game_status (GAME_STATUS_INITIALISED);

  00299	6a 03		 push	 3
  0029b	e8 00 00 00 00	 call	 ?set_game_status@@YGXW4GAME_STATUS_TYPES@@@Z ; set_game_status

; 239  : 	////////////////////////////////////////
; 240  : 
; 241  : 	if (get_game_type () == GAME_TYPE_DEMO)

  002a0	83 3d 00 00 00
	00 04		 cmp	 DWORD PTR ?game_type@@3W4GAME_TYPES@@A, 4 ; game_type
  002a7	75 14		 jne	 SHORT $LN20@flight

; 242  : 	{
; 243  : 
; 244  : 		//
; 245  : 		// demo mode
; 246  : 		//
; 247  : 
; 248  : 		notify_local_entity (ENTITY_MESSAGE_SET_CAMERA_ACTION, get_camera_entity (), NULL, CAMERA_ACTION_AUTO_EDIT);

  002a9	6a 0d		 push	 13			; 0000000dH
  002ab	6a 00		 push	 0
  002ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  002b2	50		 push	 eax
  002b3	6a 2f		 push	 47			; 0000002fH
  002b5	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  002ba	83 c4 10	 add	 esp, 16			; 00000010H
$LN20@flight:

; 249  : 	}
; 250  : 
; 251  : 	pages_clear = 0;

  002bd	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?pages_clear@@3HA, 0 ; pages_clear

; 252  : 
; 253  : 	////////////////////////////////////////
; 254  : 
; 255  : 	reset_receive_packet_list_time_stamps ();

  002c7	e8 00 00 00 00	 call	 ?reset_receive_packet_list_time_stamps@@YGXXZ ; reset_receive_packet_list_time_stamps

; 256  : 
; 257  : 	////////////////////////////////////////
; 258  : 	//
; 259  : 	// leave pre_flight_test immediately BEFORE flight loop
; 260  : 	//
; 261  : 
; 262  : 	pre_flight_test ();

  002cc	e8 00 00 00 00	 call	 ?pre_flight_test@@YGXXZ	; pre_flight_test

; 263  : 
; 264  : 	//
; 265  : 	////////////////////////////////////////
; 266  : 
; 267  : 	////////////////////////////////////////
; 268  : 	//
; 269  : 	// Start gameloop
; 270  : 	//
; 271  : 	////////////////////////////////////////
; 272  : 
; 273  : 	//
; 274  : 	// initialise joystick
; 275  : 	//
; 276  : 	read_joystick_values(0);	// Retro 10Jul2004

  002d1	6a 00		 push	 0
  002d3	e8 00 00 00 00	 call	 ?read_joystick_values@@YGXH@Z ; read_joystick_values

; 277  : #if 0	// Retro 10Jul2004
; 278  : 	if (global_options.cyclic_input == JOYSTICK_INPUT)
; 279  : 	{
; 280  : 		read_joystick_values (get_global_joystick_device_index ());
; 281  : 
; 282  : 		//-seeker 2003.04.20  multiple joystick hack
; 283  : 		if (command_line_rudder_joystick_index != -1)
; 284  : 		{
; 285  : 			read_joystick_values (command_line_rudder_joystick_index);
; 286  : 		}
; 287  : 
; 288  : 		if (command_line_cyclic_joystick_index != -1)
; 289  : 		{
; 290  : 			read_joystick_values (command_line_cyclic_joystick_index);
; 291  : 		}
; 292  : 
; 293  : 		if (command_line_collective_joystick_index != -1)
; 294  : 		{
; 295  : 			read_joystick_values (command_line_cyclic_joystick_index);
; 296  : 		}
; 297  : 	}
; 298  : #endif	// Retro 10Jul2004
; 299  : 
; 300  : 	// Casm 17JUN05 Autosave option
; 301  : 	last_autosaved = time ( NULL );

  002d8	6a 00		 push	 0
  002da	e8 00 00 00 00	 call	 _time
  002df	83 c4 04	 add	 esp, 4
  002e2	89 45 f0	 mov	 DWORD PTR _last_autosaved$[ebp], eax
  002e5	89 55 f4	 mov	 DWORD PTR _last_autosaved$[ebp+4], edx

; 302  : 	// Casm 17JUN05 Autosave option
; 303  : 
; 304  : 	if (command_line_tacview_logging == 3)

  002e8	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?command_line_tacview_logging@@3HA, 3 ; command_line_tacview_logging
  002ef	75 07		 jne	 SHORT $LN21@flight

; 305  : 		start_tacview_logging(NULL);

  002f1	6a 00		 push	 0
  002f3	e8 00 00 00 00	 call	 ?start_tacview_logging@@YGXPAUENTITY@@@Z ; start_tacview_logging
$LN21@flight:

; 306  : 
; 307  : 	while (!get_exit_flight_loop ())

  002f8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?exit_flight_loop_flag@@3HA, 0 ; exit_flight_loop_flag
  002ff	0f 85 70 02 00
	00		 jne	 $LN5@flight

; 308  : 	{
; 309  : 
; 310  : 		//
; 311  : 		// tidy up screen for cards that dont draw to the screen extents.
; 312  : 		//
; 313  : 
; 314  : 		if (pages_clear < 2)

  00305	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?pages_clear@@3HA, 2 ; pages_clear
  0030c	7d 12		 jge	 SHORT $LN22@flight

; 315  : 		{
; 316  : 
; 317  : 			pages_clear ++;

  0030e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pages_clear@@3HA ; pages_clear
  00313	83 c0 01	 add	 eax, 1
  00316	a3 00 00 00 00	 mov	 DWORD PTR ?pages_clear@@3HA, eax ; pages_clear

; 318  : 
; 319  : 			clear_screen ();

  0031b	e8 00 00 00 00	 call	 ?clear_screen@@YGXXZ	; clear_screen
$LN22@flight:

; 320  : 		}
; 321  : 
; 322  : 		//
; 323  : 		// Allow system thread some processor time (for events etc)
; 324  : 		//
; 325  : 
; 326  : 		system_sleep (0);

  00320	6a 00		 push	 0
  00322	e8 00 00 00 00	 call	 ?system_sleep@@YGXH@Z	; system_sleep

; 327  : 
; 328  : 		//
; 329  : 		// Time acceleration
; 330  : 		//
; 331  : 
; 332  : 		count = get_time_acceleration ();

  00327	e8 00 00 00 00	 call	 ?get_time_acceleration@@YGHXZ ; get_time_acceleration
  0032c	89 45 f8	 mov	 DWORD PTR _count$[ebp], eax

; 333  : 
; 334  : 		if (count == 0)

  0032f	83 7d f8 00	 cmp	 DWORD PTR _count$[ebp], 0
  00333	75 75		 jne	 SHORT $LN23@flight

; 335  : 		{
; 336  : 			set_active_screen (video_screen);

  00335	a1 00 00 00 00	 mov	 eax, DWORD PTR ?video_screen@@3PAUSCREEN@@A ; video_screen
  0033a	50		 push	 eax
  0033b	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 337  : 
; 338  : 			update_client_server_entity (get_camera_entity ());

  00340	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?camera_entity@@3PAUENTITY@@A, 0 ; camera_entity
  00347	74 0c		 je	 SHORT $LN50@flight
  00349	a1 00 00 00 00	 mov	 eax, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  0034e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00350	89 4d a4	 mov	 DWORD PTR tv192[ebp], ecx
  00353	eb 24		 jmp	 SHORT $LN51@flight
$LN50@flight:
  00355	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  0035b	81 c2 eb 00 00
	00		 add	 edx, 235		; 000000ebH
  00361	52		 push	 edx
  00362	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00367	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0036c	50		 push	 eax
  0036d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00372	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv192[ebp], 0
$LN51@flight:
  00379	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  0037f	51		 push	 ecx
  00380	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00386	c1 e2 02	 shl	 edx, 2
  00389	8b 45 a4	 mov	 eax, DWORD PTR tv192[ebp]
  0038c	8b 8c c2 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[edx+eax*8]
  00393	ff d1		 call	 ecx

; 339  : 
; 340  : 			if (command_line_pause_server) // 040220 Pause server - is it safe?

  00395	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_pause_server@@3HA, 0 ; command_line_pause_server
  0039c	74 0a		 je	 SHORT $LN25@flight

; 341  : 			{
; 342  :                                 receive_comms_data ();

  0039e	e8 00 00 00 00	 call	 ?receive_comms_data@@YGXXZ ; receive_comms_data

; 343  :                                 update_update_functions (); // 040621 Jabberwock cvc active during pause to remove pilot entry

  003a3	e8 00 00 00 00	 call	 ?update_update_functions@@YGXXZ ; update_update_functions
$LN25@flight:

; 344  : 
; 345  : 			}                              // 040621 Moje added -only expl. Pause server ends
; 346  : 		}
; 347  : 		else

  003a8	eb 63		 jmp	 SHORT $LN7@flight
$LN23@flight:

; 348  : 		{
; 349  : 			while (count --)

  003aa	8b 45 f8	 mov	 eax, DWORD PTR _count$[ebp]
  003ad	89 45 a4	 mov	 DWORD PTR tv201[ebp], eax
  003b0	8b 4d f8	 mov	 ecx, DWORD PTR _count$[ebp]
  003b3	83 e9 01	 sub	 ecx, 1
  003b6	89 4d f8	 mov	 DWORD PTR _count$[ebp], ecx
  003b9	83 7d a4 00	 cmp	 DWORD PTR tv201[ebp], 0
  003bd	74 4e		 je	 SHORT $LN7@flight

; 350  : 			{
; 351  : 				set_active_screen (video_screen);

  003bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?video_screen@@3PAUSCREEN@@A ; video_screen
  003c4	50		 push	 eax
  003c5	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 352  : 
; 353  : 				receive_comms_data ();

  003ca	e8 00 00 00 00	 call	 ?receive_comms_data@@YGXXZ ; receive_comms_data

; 354  : 
; 355  : 				// received packet may have deinitialised the entity system
; 356  : 				if ((!get_session_entity ()) || (get_game_exit_type () == GAME_EXIT_KICKOUT))

  003cf	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  003d6	74 09		 je	 SHORT $LN27@flight
  003d8	83 3d 00 00 00
	00 06		 cmp	 DWORD PTR ?game_exit_type@@3W4GAME_EXIT_TYPES@@A, 6 ; game_exit_type
  003df	75 0c		 jne	 SHORT $LN26@flight
$LN27@flight:

; 357  : 				{
; 358  : 
; 359  : 					set_exit_flight_loop (TRUE);

  003e1	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?exit_flight_loop_flag@@3HA, 1 ; exit_flight_loop_flag

; 360  : 
; 361  : 					break;

  003eb	eb 20		 jmp	 SHORT $LN7@flight
$LN26@flight:

; 362  : 				}
; 363  : 
; 364  : 				update_client_server_entities ();

  003ed	e8 00 00 00 00	 call	 ?update_client_server_entities@@YGXXZ ; update_client_server_entities

; 365  : 
; 366  : 				reset_interpolation_timer ();

  003f2	e8 00 00 00 00	 call	 ?reset_interpolation_timer@@YGXXZ ; reset_interpolation_timer

; 367  : 
; 368  : 				update_update_functions ();

  003f7	e8 00 00 00 00	 call	 ?update_update_functions@@YGXXZ ; update_update_functions

; 369  : 
; 370  : 				update_cpu_count ();

  003fc	e8 00 00 00 00	 call	 ?update_cpu_count@@YGXXZ ; update_cpu_count

; 371  : 
; 372  : 				update_view ();

  00401	e8 00 00 00 00	 call	 ?update_view@@YGXXZ	; update_view

; 373  : 
; 374  : 				update_in_flight_timers ();

  00406	e8 00 00 00 00	 call	 ?update_in_flight_timers@@YGXXZ ; update_in_flight_timers

; 375  : 			}

  0040b	eb 9d		 jmp	 SHORT $LN23@flight
$LN7@flight:

; 376  : 		}
; 377  : 
; 378  : 		if (get_exit_flight_loop ())

  0040d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?exit_flight_loop_flag@@3HA, 0 ; exit_flight_loop_flag
  00414	74 05		 je	 SHORT $LN28@flight

; 379  : 		{
; 380  : 
; 381  : 			break;

  00416	e9 5a 01 00 00	 jmp	 $LN5@flight
$LN28@flight:

; 382  : 		}
; 383  : 
; 384  : 		in_flight_test ();

  0041b	e8 00 00 00 00	 call	 ?in_flight_test@@YGXXZ	; in_flight_test

; 385  : 
; 386  : 		reset_local_entity_drawn_flags ();

  00420	e8 00 00 00 00	 call	 ?reset_local_entity_drawn_flags@@YGXXZ ; reset_local_entity_drawn_flags

; 387  : 
; 388  : 		switch (get_in_flight_game_mode ())

  00425	a1 00 00 00 00	 mov	 eax, DWORD PTR ?in_flight_game_mode@@3W4IN_FLIGHT_GAME_MODES@@A ; in_flight_game_mode
  0042a	89 45 a4	 mov	 DWORD PTR tv206[ebp], eax
  0042d	83 7d a4 00	 cmp	 DWORD PTR tv206[ebp], 0
  00431	74 0b		 je	 SHORT $LN29@flight
  00433	83 7d a4 01	 cmp	 DWORD PTR tv206[ebp], 1
  00437	74 6d		 je	 SHORT $LN33@flight
  00439	e9 a4 00 00 00	 jmp	 $LN8@flight
$LN29@flight:

; 389  : 		{
; 390  : 
; 391  : 			case IN_FLIGHT_GAME_MODE_SIMULATOR:
; 392  : 			{
; 393  : 				//
; 394  : 				// Check the resolution!
; 395  : 				//
; 396  : 
; 397  : 				if (	( application_video_width != ( int ) full_screen_width ) ||

  0043e	f3 0f 2c 05 00
	00 00 00	 cvttss2si eax, DWORD PTR ?full_screen_width@@3MA
  00446	39 05 00 00 00
	00		 cmp	 DWORD PTR ?application_video_width@@3HA, eax ; application_video_width
  0044c	75 0d		 jne	 SHORT $LN31@flight
  0044e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?application_video_colourdepth@@3HA ; application_video_colourdepth
  00453	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?full_screen_colourdepth@@3HA ; full_screen_colourdepth
  00459	74 1d		 je	 SHORT $LN30@flight
$LN31@flight:

; 398  : 						( application_video_colourdepth != full_screen_colourdepth ) )
; 399  : 				{
; 400  : 
; 401  : 					ddraw_change_display_resolution ( ( int ) full_screen_width, ( int ) full_screen_height, full_screen_colourdepth );

  0045b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?full_screen_colourdepth@@3HA ; full_screen_colourdepth
  00460	50		 push	 eax
  00461	f3 0f 2c 0d 00
	00 00 00	 cvttss2si ecx, DWORD PTR ?full_screen_height@@3MA
  00469	51		 push	 ecx
  0046a	f3 0f 2c 15 00
	00 00 00	 cvttss2si edx, DWORD PTR ?full_screen_width@@3MA
  00472	52		 push	 edx
  00473	e8 00 00 00 00	 call	 ?ddraw_change_display_resolution@@YGHHHH@Z ; ddraw_change_display_resolution
$LN30@flight:

; 402  : 				}
; 403  : 
; 404  : 				//
; 405  : 				// Draw view
; 406  : 				//
; 407  : 
; 408  : 				draw_view ();

  00478	e8 00 00 00 00	 call	 ?draw_view@@YGXXZ	; draw_view

; 409  : 
; 410  : 				//
; 411  : 				// play scene sound (after draw view)
; 412  : 				//
; 413  : 
; 414  : 				play_application_main_scene_sound ();

  0047d	e8 00 00 00 00	 call	 ?play_application_main_scene_sound@@YGXXZ ; play_application_main_scene_sound

; 415  : 
; 416  : 				//
; 417  : 				//
; 418  : 				//
; 419  : 
; 420  : 				if (record_screen_sequence)

  00482	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?record_screen_sequence@@3HA, 0 ; record_screen_sequence
  00489	74 05		 je	 SHORT $LN32@flight

; 421  : 				{
; 422  : 					save_screen_image_and_viewpoint_data ();

  0048b	e8 00 00 00 00	 call	 ?save_screen_image_and_viewpoint_data@@YGXXZ ; save_screen_image_and_viewpoint_data
$LN32@flight:

; 423  : 				}
; 424  : 
; 425  : 				display_in_flight_debug_info ();

  00490	e8 00 00 00 00	 call	 ?display_in_flight_debug_info@@YGXXZ ; display_in_flight_debug_info

; 426  : 
; 427  : 				display_comms_stats ();

  00495	e8 00 00 00 00	 call	 ?display_comms_stats@@YGXXZ ; display_comms_stats

; 428  : 
; 429  : 				display_exit_message ();

  0049a	e8 00 00 00 00	 call	 ?display_exit_message@@YGXXZ ; display_exit_message

; 430  : 
; 431  : 				ddraw_flip_surface ();

  0049f	e8 00 00 00 00	 call	 ?ddraw_flip_surface@@YGHXZ ; ddraw_flip_surface

; 432  : 
; 433  : 				break;

  004a4	eb 3c		 jmp	 SHORT $LN8@flight
$LN33@flight:

; 434  : 			}
; 435  : 
; 436  : 			case IN_FLIGHT_GAME_MODE_PLANNER:
; 437  : 			{
; 438  : 				//
; 439  : 				// Check the resolution!
; 440  : 				//
; 441  : 
; 442  : 				if ( application_video_width != get_global_3d_visual_screen_width () )

  004a6	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?application_video_width@@3HA ; application_video_width
  004ae	0f 2e 05 c4 01
	00 00		 ucomiss xmm0, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+452
  004b5	9f		 lahf
  004b6	f6 c4 44	 test	 ah, 68			; 00000044H
  004b9	7b 1d		 jnp	 SHORT $LN34@flight

; 443  : 				{
; 444  : 
; 445  : 					ddraw_change_display_resolution ( get_global_3d_visual_screen_width (),

  004bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?full_screen_colourdepth@@3HA ; full_screen_colourdepth
  004c0	50		 push	 eax
  004c1	f3 0f 2c 0d c8
	01 00 00	 cvttss2si ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+456
  004c9	51		 push	 ecx
  004ca	f3 0f 2c 15 c4
	01 00 00	 cvttss2si edx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+452
  004d2	52		 push	 edx
  004d3	e8 00 00 00 00	 call	 ?ddraw_change_display_resolution@@YGHHHH@Z ; ddraw_change_display_resolution
$LN34@flight:

; 446  : 																	get_global_3d_visual_screen_height (), full_screen_colourdepth );
; 447  : 				}
; 448  : 
; 449  : 				update_in_flight_menus ();

  004d8	e8 00 00 00 00	 call	 ?update_in_flight_menus@@YGXXZ ; update_in_flight_menus

; 450  : 
; 451  : 				play_application_ui_sound ();

  004dd	e8 00 00 00 00	 call	 ?play_application_ui_sound@@YGXXZ ; play_application_ui_sound
$LN8@flight:

; 452  : 
; 453  : 				break;
; 454  : 			}
; 455  : 		}
; 456  : 
; 457  : 		limit_frame_rate ();

  004e2	e8 00 00 00 00	 call	 ?limit_frame_rate@@YGXXZ ; limit_frame_rate

; 458  : 
; 459  : 		set_delta_time ();

  004e7	e8 00 00 00 00	 call	 ?set_delta_time@@YGXXZ	; set_delta_time

; 460  : 
; 461  : 		//-- Werewolf
; 462  : 		net_handle_heartbeat ();

  004ec	e8 00 00 00 00	 call	 ?net_handle_heartbeat@@YGXXZ ; net_handle_heartbeat

; 463  : 		//-- Werewolf
; 464  : 
; 465  : 		//
; 466  : 		// inputs
; 467  : 		//
; 468  : 
; 469  : 		process_events ();

  004f1	e8 00 00 00 00	 call	 ?process_events@@YGXXZ	; process_events

; 470  : 		read_joystick_values(0);	// Retro 10Jul2004

  004f6	6a 00		 push	 0
  004f8	e8 00 00 00 00	 call	 ?read_joystick_values@@YGXH@Z ; read_joystick_values

; 471  : #if 0	// Retro 10Jul2004
; 472  : 		if (global_options.cyclic_input == JOYSTICK_INPUT)
; 473  : 		{
; 474  : 
; 475  : 			read_joystick_values (get_global_joystick_device_index());
; 476  : 
; 477  : 			//-seeker 2003.04.20  multiple joystick hack
; 478  : 			if (command_line_rudder_joystick_index != -1)
; 479  : 			{
; 480  : 				read_joystick_values (command_line_rudder_joystick_index);
; 481  : 			}
; 482  : 
; 483  : 			if (command_line_cyclic_joystick_index != -1)
; 484  : 			{
; 485  : 				read_joystick_values (command_line_cyclic_joystick_index);
; 486  : 			}
; 487  : 
; 488  : 			if (command_line_collective_joystick_index != -1)
; 489  : 			{
; 490  : 				read_joystick_values (command_line_cyclic_joystick_index);
; 491  : 			}
; 492  : 		}
; 493  : #endif	// Retro 10Jul2004
; 494  : 		// Casm 17JUN05 Autosave option
; 495  : 		now = time ( NULL );

  004fd	6a 00		 push	 0
  004ff	e8 00 00 00 00	 call	 _time
  00504	83 c4 04	 add	 esp, 4
  00507	89 45 e8	 mov	 DWORD PTR _now$[ebp], eax
  0050a	89 55 ec	 mov	 DWORD PTR _now$[ebp+4], edx

; 496  : 		if ( command_line_autosave > 0 && last_autosaved + command_line_autosave < now )

  0050d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_autosave@@3HA, 0 ; command_line_autosave
  00514	7e 5a		 jle	 SHORT $LN35@flight
  00516	a1 00 00 00 00	 mov	 eax, DWORD PTR ?command_line_autosave@@3HA ; command_line_autosave
  0051b	99		 cdq
  0051c	03 45 f0	 add	 eax, DWORD PTR _last_autosaved$[ebp]
  0051f	13 55 f4	 adc	 edx, DWORD PTR _last_autosaved$[ebp+4]
  00522	89 45 a0	 mov	 DWORD PTR tv404[ebp], eax
  00525	89 55 a4	 mov	 DWORD PTR tv404[ebp+4], edx
  00528	8b 45 a4	 mov	 eax, DWORD PTR tv404[ebp+4]
  0052b	3b 45 ec	 cmp	 eax, DWORD PTR _now$[ebp+4]
  0052e	7f 40		 jg	 SHORT $LN35@flight
  00530	7c 08		 jl	 SHORT $LN60@flight
  00532	8b 4d a0	 mov	 ecx, DWORD PTR tv404[ebp]
  00535	3b 4d e8	 cmp	 ecx, DWORD PTR _now$[ebp]
  00538	73 36		 jae	 SHORT $LN35@flight
$LN60@flight:

; 497  : 		{
; 498  : 			debug_log ( "Autosaving..." );

  0053a	68 00 00 00 00	 push	 OFFSET ??_C@_0O@PDOLMCLM@Autosaving?4?4?4@
  0053f	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00544	83 c4 04	 add	 esp, 4

; 499  : 			store_session ( get_current_game_session (), "AUTOSAVE" );

  00547	68 00 00 00 00	 push	 OFFSET ??_C@_08FNGJBHKL@AUTOSAVE@
  0054c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_game_session@@3PAUSESSION_LIST_DATA_TYPE@@A ; current_game_session
  00551	50		 push	 eax
  00552	e8 00 00 00 00	 call	 ?store_session@@YGHPAUSESSION_LIST_DATA_TYPE@@PBD@Z ; store_session

; 500  : 			last_autosaved = now;

  00557	8b 45 e8	 mov	 eax, DWORD PTR _now$[ebp]
  0055a	89 45 f0	 mov	 DWORD PTR _last_autosaved$[ebp], eax
  0055d	8b 4d ec	 mov	 ecx, DWORD PTR _now$[ebp+4]
  00560	89 4d f4	 mov	 DWORD PTR _last_autosaved$[ebp+4], ecx

; 501  : 			debug_log ("Done with autosave");

  00563	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@NGMOLPDN@Done?5with?5autosave@
  00568	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  0056d	83 c4 04	 add	 esp, 4
$LN35@flight:

; 502  : 		}
; 503  : 		// Casm 17JUN05 Autosave option
; 504  : 	}

  00570	e9 83 fd ff ff	 jmp	 $LN21@flight
$LN5@flight:

; 505  : 
; 506  : 	ASSERT ((get_ui_screen_stack_head () != campaign_screen) && (get_ui_screen_stack_head () != options_screen));

  00575	e8 00 00 00 00	 call	 ?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ ; get_ui_screen_stack_head
  0057a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?campaign_screen@@3PAUUI_OBJECT@@A ; campaign_screen
  00580	74 0d		 je	 SHORT $LN37@flight
  00582	e8 00 00 00 00	 call	 ?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ ; get_ui_screen_stack_head
  00587	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?options_screen@@3PAUUI_OBJECT@@A ; options_screen
  0058d	75 1a		 jne	 SHORT $LN36@flight
$LN37@flight:
  0058f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  00594	05 93 01 00 00	 add	 eax, 403		; 00000193H
  00599	50		 push	 eax
  0059a	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  0059f	68 00 00 00 00	 push	 OFFSET ??_C@_0GE@GPAPFEMC@?$CIget_ui_screen_stack_head?5?$CI?$CJ?5?$CB?$DN@
  005a4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN36@flight:

; 507  : 
; 508  : 	if (command_line_tacview_logging == 3)

  005a9	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?command_line_tacview_logging@@3HA, 3 ; command_line_tacview_logging
  005b0	75 05		 jne	 SHORT $LN38@flight

; 509  : 		close_tacview_log();

  005b2	e8 00 00 00 00	 call	 ?close_tacview_log@@YGXXZ ; close_tacview_log
$LN38@flight:

; 510  : 
; 511  : 	////////////////////////////////////////
; 512  : 	set_game_status (GAME_STATUS_UNINITIALISING);

  005b7	6a 01		 push	 1
  005b9	e8 00 00 00 00	 call	 ?set_game_status@@YGXW4GAME_STATUS_TYPES@@@Z ; set_game_status

; 513  : 	////////////////////////////////////////
; 514  : 
; 515  : 	//
; 516  : 	// Check resolution we're in.
; 517  : 	//
; 518  : 
; 519  : 	if ( application_video_width != get_global_3d_visual_screen_width () )

  005be	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?application_video_width@@3HA ; application_video_width
  005c6	0f 2e 05 c4 01
	00 00		 ucomiss xmm0, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+452
  005cd	9f		 lahf
  005ce	f6 c4 44	 test	 ah, 68			; 00000044H
  005d1	7b 1d		 jnp	 SHORT $LN39@flight

; 520  : 	{
; 521  : 
; 522  : 		ddraw_change_display_resolution ( get_global_3d_visual_screen_width (),

  005d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?full_screen_colourdepth@@3HA ; full_screen_colourdepth
  005d8	50		 push	 eax
  005d9	f3 0f 2c 0d c8
	01 00 00	 cvttss2si ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+456
  005e1	51		 push	 ecx
  005e2	f3 0f 2c 15 c4
	01 00 00	 cvttss2si edx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+452
  005ea	52		 push	 edx
  005eb	e8 00 00 00 00	 call	 ?ddraw_change_display_resolution@@YGHHHH@Z ; ddraw_change_display_resolution
$LN39@flight:

; 523  : 														get_global_3d_visual_screen_height (), full_screen_colourdepth );
; 524  : 	}
; 525  : 
; 526  : 	////////////////////////////////////////
; 527  : 	//
; 528  : 	// leave post_flight_test immediately AFTER flight loop
; 529  : 	//
; 530  : 
; 531  : 	post_flight_test ();

  005f0	e8 00 00 00 00	 call	 ?post_flight_test@@YGXXZ ; post_flight_test

; 532  : 
; 533  : 	//
; 534  : 	////////////////////////////////////////
; 535  : 
; 536  : 	pop_to_event_stop ();

  005f5	e8 00 00 00 00	 call	 ?pop_to_event_stop@@YGXXZ ; pop_to_event_stop

; 537  : 
; 538  : 	set_gunship_entity (NULL);

  005fa	6a 00		 push	 0
  005fc	e8 00 00 00 00	 call	 ?set_gunship_entity@@YGXPAUENTITY@@@Z ; set_gunship_entity

; 539  : 
; 540  : 	set_pilot_entity (NULL);

  00601	6a 00		 push	 0
  00603	e8 00 00 00 00	 call	 ?set_pilot_entity@@YGXPAUENTITY@@@Z ; set_pilot_entity

; 541  : 
; 542  : 	stop_local_entity_sounds ();

  00608	e8 00 00 00 00	 call	 ?stop_local_entity_sounds@@YGXXZ ; stop_local_entity_sounds

; 543  : 
; 544  : 	if (get_game_type () == GAME_TYPE_DEMO)

  0060d	83 3d 00 00 00
	00 04		 cmp	 DWORD PTR ?game_type@@3W4GAME_TYPES@@A, 4 ; game_type
  00614	0f 85 2c 01 00
	00		 jne	 $LN40@flight

; 545  : 	{
; 546  : 		set_local_entity_float_value (get_session_entity (), FLOAT_TYPE_TIME_OF_DAY_ACCELERATION, 1.0);

  0061a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00621	74 0c		 je	 SHORT $LN52@flight
  00623	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00628	8b 08		 mov	 ecx, DWORD PTR [eax]
  0062a	89 4d a4	 mov	 DWORD PTR tv294[ebp], ecx
  0062d	eb 24		 jmp	 SHORT $LN53@flight
$LN52@flight:
  0062f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  00635	81 c2 bb 01 00
	00		 add	 edx, 443		; 000001bbH
  0063b	52		 push	 edx
  0063c	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00641	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00646	50		 push	 eax
  00647	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0064c	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv294[ebp], 0
$LN53@flight:
  00653	b9 01 00 00 00	 mov	 ecx, 1
  00658	85 c9		 test	 ecx, ecx
  0065a	74 09		 je	 SHORT $LN54@flight
  0065c	c7 45 a0 8f 00
	00 00		 mov	 DWORD PTR tv302[ebp], 143 ; 0000008fH
  00663	eb 24		 jmp	 SHORT $LN55@flight
$LN54@flight:
  00665	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  0066b	81 c2 bb 01 00
	00		 add	 edx, 443		; 000001bbH
  00671	52		 push	 edx
  00672	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00677	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0067c	50		 push	 eax
  0067d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00682	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv302[ebp], 0
$LN55@flight:
  00689	51		 push	 ecx
  0068a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00692	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00697	68 8f 00 00 00	 push	 143			; 0000008fH
  0069c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  006a2	51		 push	 ecx
  006a3	69 55 a4 bc 02
	00 00		 imul	 edx, DWORD PTR tv294[ebp], 700
  006aa	8b 45 a0	 mov	 eax, DWORD PTR tv302[ebp]
  006ad	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  006b4	ff d1		 call	 ecx

; 547  : 
; 548  : 		set_local_entity_int_value (get_session_entity (), INT_TYPE_SKIP_NIGHT_TIME, FALSE);

  006b6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  006bd	74 0c		 je	 SHORT $LN56@flight
  006bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  006c4	8b 08		 mov	 ecx, DWORD PTR [eax]
  006c6	89 4d a4	 mov	 DWORD PTR tv314[ebp], ecx
  006c9	eb 24		 jmp	 SHORT $LN57@flight
$LN56@flight:
  006cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  006d1	81 c2 bd 01 00
	00		 add	 edx, 445		; 000001bdH
  006d7	52		 push	 edx
  006d8	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  006dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006e2	50		 push	 eax
  006e3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006e8	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv314[ebp], 0
$LN57@flight:
  006ef	b9 01 00 00 00	 mov	 ecx, 1
  006f4	85 c9		 test	 ecx, ecx
  006f6	74 09		 je	 SHORT $LN58@flight
  006f8	c7 45 a0 bc 00
	00 00		 mov	 DWORD PTR tv322[ebp], 188 ; 000000bcH
  006ff	eb 24		 jmp	 SHORT $LN59@flight
$LN58@flight:
  00701	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??flight@@YGXXZ@4JA
  00707	81 c2 bd 01 00
	00		 add	 edx, 445		; 000001bdH
  0070d	52		 push	 edx
  0070e	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HHELHJPF@c?3?2users?2nhv90?2projects?2eech?2ap@
  00713	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00718	50		 push	 eax
  00719	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0071e	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv322[ebp], 0
$LN59@flight:
  00725	6a 00		 push	 0
  00727	68 bc 00 00 00	 push	 188			; 000000bcH
  0072c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00732	51		 push	 ecx
  00733	69 55 a4 5c 04
	00 00		 imul	 edx, DWORD PTR tv314[ebp], 1116
  0073a	8b 45 a0	 mov	 eax, DWORD PTR tv322[ebp]
  0073d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  00744	ff d1		 call	 ecx
$LN40@flight:

; 549  : 	}
; 550  : 
; 551  : 	////////////////////////////////////////
; 552  : 	// debug
; 553  : 
; 554  : 	data_exchange ();

  00746	e8 00 00 00 00	 call	 ?data_exchange@@YGXXZ	; data_exchange

; 555  : 
; 556  : 	leave_mission ();

  0074b	e8 00 00 00 00	 call	 ?leave_mission@@YGXXZ	; leave_mission

; 557  : 
; 558  : 	stop_ai_system ();

  00750	e8 00 00 00 00	 call	 ?stop_ai_system@@YGXXZ	; stop_ai_system

; 559  : 
; 560  : 	stop_ingame_ui_system ();

  00755	e8 00 00 00 00	 call	 ?stop_ingame_ui_system@@YGXXZ ; stop_ingame_ui_system

; 561  : 
; 562  : 	reset_comms_stats ();

  0075a	e8 00 00 00 00	 call	 ?reset_comms_stats@@YGXXZ ; reset_comms_stats

; 563  : 
; 564  : 	deinitialise_views ();

  0075f	e8 00 00 00 00	 call	 ?deinitialise_views@@YGXXZ ; deinitialise_views

; 565  : 
; 566  : 	//
; 567  : 	// Everything is destroyed now so close pack buffer
; 568  : 	//
; 569  : 
; 570  : 	close_pack_buffer ();

  00764	e8 00 00 00 00	 call	 ?close_pack_buffer@@YGHXZ ; close_pack_buffer

; 571  : 
; 572  : 	// end
; 573  : 	////////////////////////////////////////
; 574  : 
; 575  : 	////////////////////////////////////////
; 576  : 	//
; 577  : 	// DEINITIALISE FLIGHT
; 578  : 	//
; 579  : 	////////////////////////////////////////
; 580  : 
; 581  : 	ui_object_unselect_list (session_list);

  00769	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_list@@3PAUUI_OBJECT@@A ; session_list
  0076e	50		 push	 eax
  0076f	e8 00 00 00 00	 call	 ?ui_object_unselect_list@@YGXPAUUI_OBJECT@@@Z ; ui_object_unselect_list

; 582  : }

  00774	5f		 pop	 edi
  00775	5e		 pop	 esi
  00776	5b		 pop	 ebx
  00777	8b e5		 mov	 esp, ebp
  00779	5d		 pop	 ebp
  0077a	c3		 ret	 0
  0077b	90		 npad	 1
$LN61@flight:
  0077c	00 00 00 00	 DD	 $LN15@flight
  00780	00 00 00 00	 DD	 $LN16@flight
  00784	00 00 00 00	 DD	 $LN16@flight
  00788	00 00 00 00	 DD	 $LN17@flight
?flight@@YGXXZ ENDP					; flight
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\time.h
;	COMDAT _time
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_time	PROC						; COMDAT

; 535  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 536  :             return _time64(_Time);

  00009	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  0000c	50		 push	 eax
  0000d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___time64
  00013	83 c4 04	 add	 esp, 4

; 537  :         }

  00016	5f		 pop	 edi
  00017	5e		 pop	 esi
  00018	5b		 pop	 ebx
  00019	8b e5		 mov	 esp, ebp
  0001b	5d		 pop	 ebp
  0001c	c3		 ret	 0
_time	ENDP
_TEXT	ENDS
END
