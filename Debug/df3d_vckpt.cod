; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_default_virtual_cockpit_3d@@YGXXZ	; initialise_default_virtual_cockpit_3d
PUBLIC	?draw_default_internal_virtual_cockpit_3d@@YGXI@Z ; draw_default_internal_virtual_cockpit_3d
PUBLIC	?draw_default_external_virtual_cockpit_3d@@YGXI@Z ; draw_default_external_virtual_cockpit_3d
PUBLIC	?get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z ; get_default_crew_viewpoint
PUBLIC	?draw_default_indicator_lamps_3d@@YGXXZ		; draw_default_indicator_lamps_3d
PUBLIC	?initialise_default_lamp_screen@@YGXXZ		; initialise_default_lamp_screen
PUBLIC	?deinitialise_default_lamp_screen@@YGXXZ	; deinitialise_default_lamp_screen
PUBLIC	?draw_default_lamp_on_texture@@YGXXZ		; draw_default_lamp_on_texture
PUBLIC	??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??draw_default_internal_virtual_cockpit_3d@@YGXI@Z@4JA ; `draw_default_internal_virtual_cockpit_3d'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??draw_default_external_virtual_cockpit_3d@@YGXI@Z@4JA ; `draw_default_external_virtual_cockpit_3d'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA ; `get_default_crew_viewpoint'::`1'::__LINE__Var
PUBLIC	__real@00000000
PUBLIC	__real@3c8efa35
PUBLIC	__real@3d1374bc
PUBLIC	__real@3dac0831
PUBLIC	__real@3db851ec
PUBLIC	__real@3dcccccd
PUBLIC	__real@3df5c28f
PUBLIC	__real@3e428f5c
PUBLIC	__real@3e4ccccd
PUBLIC	__real@3f50624dd2f1a9fc
PUBLIC	__real@3f7fbe77
PUBLIC	__real@3f800000
PUBLIC	__real@3f847ae147ae147b
PUBLIC	__real@3fc999999999999a
PUBLIC	__real@3fd999999999999a
PUBLIC	__real@3fe0000000000000
PUBLIC	__real@4072c00000000000
PUBLIC	__real@41200000
PUBLIC	__real@42800000
PUBLIC	__real@43000000
PUBLIC	__real@461c4000
PUBLIC	__real@be860a92
PUBLIC	__real@bf32b8c2
PUBLIC	__real@bf800000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_transpose_matrix3x3_vec3d
EXTRN	?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z:PROC ; multiply_matrix3x3_matrix3x3
EXTRN	?create_system_texture_screen@@YGPAUSCREEN@@HHHH@Z:PROC ; create_system_texture_screen
EXTRN	?set_system_texture_screen@@YGXPAUSCREEN@@H@Z:PROC ; set_system_texture_screen
EXTRN	?destroy_screen@@YGHPAUSCREEN@@@Z:PROC		; destroy_screen
EXTRN	?lock_screen@@YGHPAUSCREEN@@@Z:PROC		; lock_screen
EXTRN	?unlock_screen@@YGHPAUSCREEN@@@Z:PROC		; unlock_screen
EXTRN	?set_active_screen@@YGHPAUSCREEN@@@Z:PROC	; set_active_screen
EXTRN	?flush_screen_texture_graphics@@YGXPAUSCREEN@@@Z:PROC ; flush_screen_texture_graphics
EXTRN	?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z:PROC ; blit_rgb_alpha_masked_sprite
EXTRN	?clear_zbuffer_screen@@YGXXZ:PROC		; clear_zbuffer_screen
EXTRN	?create_2d_environment@@YGPAUENV_2D@@XZ:PROC	; create_2d_environment
EXTRN	?destroy_2d_environment@@YGXPAUENV_2D@@@Z:PROC	; destroy_2d_environment
EXTRN	?set_2d_active_environment@@YGXPAUENV_2D@@@Z:PROC ; set_2d_active_environment
EXTRN	?set_2d_viewport@@YGXPAUENV_2D@@MMMM@Z:PROC	; set_2d_viewport
EXTRN	?set_2d_window@@YGXPAUENV_2D@@MMMM@Z:PROC	; set_2d_window
EXTRN	?set_3d_active_environment@@YGXPAUENV_3D@@@Z:PROC ; set_3d_active_environment
EXTRN	?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z:PROC ; set_3d_main_light_source
EXTRN	?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z:PROC ; set_3d_ambient_light
EXTRN	?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z:PROC ; recalculate_3d_environment_settings
EXTRN	?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z:PROC ; set_3d_view_distances
EXTRN	?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z:PROC	; realise_3d_clip_extents
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z:PROC ; insert_zbiased_relative_object_into_3d_scene
EXTRN	?draw_3d_scene@@YGXXZ:PROC			; draw_3d_scene
EXTRN	?begin_3d_scene@@YGHXZ:PROC			; begin_3d_scene
EXTRN	?end_3d_scene@@YGXXZ:PROC			; end_3d_scene
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z:PROC ; animate_helicopter_main_rotors
EXTRN	?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z:PROC ; animate_damaged_helicopter_main_rotors
EXTRN	?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_helicopter_virtual_cockpit_main_rotors
EXTRN	?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z:PROC ; get_helicopter_main_rotors_blurred
EXTRN	?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z:PROC ; set_rotation_angle_of_helicopter_main_rotors
EXTRN	?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z:PROC ; get_rotation_angle_of_helicopter_main_rotors
EXTRN	?draw_default_upfront_display_on_texture@@YGXXZ:PROC ; draw_default_upfront_display_on_texture
EXTRN	?draw_default_mfd_on_texture@@YGXW4MFD_LOCATIONS@@@Z:PROC ; draw_default_mfd_on_texture
EXTRN	?initialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; initialise_common_virtual_cockpit_cameras
EXTRN	?print_edit_wide_cockpit@@YGXXZ:PROC		; print_edit_wide_cockpit
EXTRN	?move_edit_wide_cockpit@@YGXXZ:PROC		; move_edit_wide_cockpit
EXTRN	?get_default_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z:PROC ; get_default_virtual_cockpit_adi_angles
EXTRN	?get_default_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ:PROC ; get_default_virtual_cockpit_adi_slip_indicator_needle_value
EXTRN	?get_default_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ:PROC ; get_default_virtual_cockpit_airspeed_indicator_needle_value
EXTRN	?get_default_virtual_cockpit_barometric_altimeter_needle_value@@YGMXZ:PROC ; get_default_virtual_cockpit_barometric_altimeter_needle_value
EXTRN	?get_default_virtual_cockpit_clock_hand_values@@YGXPAM00@Z:PROC ; get_default_virtual_cockpit_clock_hand_values
EXTRN	?initialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; initialise_default_virtual_cockpit_wiper_and_rain_effect
EXTRN	?draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z:PROC ; draw_default_virtual_cockpit_wiper
EXTRN	?draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z:PROC ; draw_default_virtual_cockpit_rain_effect
EXTRN	?d3d_can_render_to_texture@@3HA:DWORD		; d3d_can_render_to_texture
EXTRN	?video_screen@@3PAUSCREEN@@A:DWORD		; video_screen
EXTRN	?active_screen@@3PAUSCREEN@@A:DWORD		; active_screen
EXTRN	?graphics_files@@3PAUFILE_DATA@@A:BYTE		; graphics_files
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?main_3d_env@@3PAUENV_3D@@A:DWORD		; main_3d_env
EXTRN	?main_3d_single_light_env@@3PAUENV_3D@@A:DWORD	; main_3d_single_light_env
EXTRN	?pilot_head_heading@@3MA:DWORD			; pilot_head_heading
EXTRN	?pilot_head_pitch@@3MA:DWORD			; pilot_head_pitch
EXTRN	?pilot_head_vp@@3UVIEWPOINT@@A:BYTE		; pilot_head_vp
EXTRN	?wide_cockpit@@3HA:DWORD			; wide_cockpit
EXTRN	?edit_wide_cockpit@@3HA:DWORD			; edit_wide_cockpit
EXTRN	?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A:BYTE ; wide_cockpit_position
EXTRN	?wide_cockpit_nr@@3HA:DWORD			; wide_cockpit_nr
EXTRN	?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA:DWORD ; draw_virtual_cockpit_needles_on_fixed_cockpits
EXTRN	?base_cockpit_graphics_file@@3W4GRAPHICS_FILE_SPECIFIERS@@A:DWORD ; base_cockpit_graphics_file
EXTRN	?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A:DWORD ; virtual_cockpit_inst3d
EXTRN	?pilot_head_pitch_datum@@3MA:DWORD		; pilot_head_pitch_datum
EXTRN	?co_pilot_head_pitch_datum@@3MA:DWORD		; co_pilot_head_pitch_datum
EXTRN	?wiper_mode@@3W4WIPER_MODES@@A:DWORD		; wiper_mode
EXTRN	?rain_mode@@3W4RAIN_MODES@@A:DWORD		; rain_mode
EXTRN	?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A:DWORD	; default_lamps
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?subnr@@3HA DD	01H DUP (?)				; subnr
?dx@@3MA DD	01H DUP (?)				; dx
?dy@@3MA DD	01H DUP (?)				; dy
?dz@@3MA DD	01H DUP (?)				; dz
?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A DB 01cH DUP (?) ; sprite_values
?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level1_inst3d
?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level2_inst3d
?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level3_inst3d
?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level1_inst3d
?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level2_inst3d
?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level3_inst3d
?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_main_rotor_inst3d
?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_adi_inst3d
?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_adi_inst3d
?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_inst3d
?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_instrument_needles_inst3d
?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_instrument_large_needles_inst3d
?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_upfront_display_inst3d
?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_lhs_mfd_inst3d
?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_rhs_mfd_inst3d
?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_display_view_mfd_inst3d
?lamp1_env@@3PAUENV_2D@@A DD 01H DUP (?)		; lamp1_env
?lamp1_texture_screen@@3PAUSCREEN@@A DD 01H DUP (?)	; lamp1_texture_screen
?lamp1_viewport_size@@3MA DD 01H DUP (?)		; lamp1_viewport_size
?lamp1_viewport_x_org@@3MA DD 01H DUP (?)		; lamp1_viewport_x_org
?lamp1_viewport_y_org@@3MA DD 01H DUP (?)		; lamp1_viewport_y_org
?lamp1_viewport_x_min@@3MA DD 01H DUP (?)		; lamp1_viewport_x_min
?lamp1_viewport_y_min@@3MA DD 01H DUP (?)		; lamp1_viewport_y_min
?lamp1_viewport_x_max@@3MA DD 01H DUP (?)		; lamp1_viewport_x_max
?lamp1_viewport_y_max@@3MA DD 01H DUP (?)		; lamp1_viewport_y_max
_BSS	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
CONST	ENDS
;	COMDAT __real@bf32b8c2
CONST	SEGMENT
__real@bf32b8c2 DD 0bf32b8c2r			; -0.698132
CONST	ENDS
;	COMDAT __real@be860a92
CONST	SEGMENT
__real@be860a92 DD 0be860a92r			; -0.261799
CONST	ENDS
;	COMDAT __real@461c4000
CONST	SEGMENT
__real@461c4000 DD 0461c4000r			; 10000
CONST	ENDS
;	COMDAT __real@43000000
CONST	SEGMENT
__real@43000000 DD 043000000r			; 128
CONST	ENDS
;	COMDAT __real@42800000
CONST	SEGMENT
__real@42800000 DD 042800000r			; 64
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@4072c00000000000
CONST	SEGMENT
__real@4072c00000000000 DQ 04072c00000000000r	; 300
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT __real@3fd999999999999a
CONST	SEGMENT
__real@3fd999999999999a DQ 03fd999999999999ar	; 0.4
CONST	ENDS
;	COMDAT __real@3fc999999999999a
CONST	SEGMENT
__real@3fc999999999999a DQ 03fc999999999999ar	; 0.2
CONST	ENDS
;	COMDAT __real@3f847ae147ae147b
CONST	SEGMENT
__real@3f847ae147ae147b DQ 03f847ae147ae147br	; 0.01
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f7fbe77
CONST	SEGMENT
__real@3f7fbe77 DD 03f7fbe77r			; 0.999
CONST	ENDS
;	COMDAT __real@3f50624dd2f1a9fc
CONST	SEGMENT
__real@3f50624dd2f1a9fc DQ 03f50624dd2f1a9fcr	; 0.001
CONST	ENDS
;	COMDAT __real@3e4ccccd
CONST	SEGMENT
__real@3e4ccccd DD 03e4ccccdr			; 0.2
CONST	ENDS
;	COMDAT __real@3e428f5c
CONST	SEGMENT
__real@3e428f5c DD 03e428f5cr			; 0.19
CONST	ENDS
;	COMDAT __real@3df5c28f
CONST	SEGMENT
__real@3df5c28f DD 03df5c28fr			; 0.12
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@3db851ec
CONST	SEGMENT
__real@3db851ec DD 03db851ecr			; 0.09
CONST	ENDS
;	COMDAT __real@3dac0831
CONST	SEGMENT
__real@3dac0831 DD 03dac0831r			; 0.084
CONST	ENDS
;	COMDAT __real@3d1374bc
CONST	SEGMENT
__real@3d1374bc DD 03d1374bcr			; 0.036
CONST	ENDS
;	COMDAT __real@3c8efa35
CONST	SEGMENT
__real@3c8efa35 DD 03c8efa35r			; 0.0174533
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA DD 055bH ; `get_default_crew_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??draw_default_external_virtual_cockpit_3d@@YGXI@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_default_external_virtual_cockpit_3d@@YGXI@Z@4JA DD 0429H ; `draw_default_external_virtual_cockpit_3d'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??draw_default_internal_virtual_cockpit_3d@@YGXI@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_default_internal_virtual_cockpit_3d@@YGXI@Z@4JA DD 01abH ; `draw_default_internal_virtual_cockpit_3d'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\cockpits\default\df'
	DB	'3d_vckpt.c', 00H				; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?set_cockpit_white_lighting@@YGXQAY02M@Z
_TEXT	SEGMENT
_directional_light_roll$ = -128				; size = 4
_directional_light_pitch$ = -124			; size = 4
_directional_light_heading$ = -120			; size = 4
_directional_light_colour$ = -116			; size = 16
_ambient_light_colour$ = -100				; size = 16
_directional_light_direction$ = -84			; size = 12
_result$ = -72						; size = 36
_directional_light_rotation$ = -36			; size = 36
_attitude$ = 8						; size = 4
?set_cockpit_white_lighting@@YGXQAY02M@Z PROC		; set_cockpit_white_lighting, COMDAT

; 375  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 376  : 	matrix3x3
; 377  : 		directional_light_rotation,
; 378  : 		result;
; 379  : 
; 380  : 	vec3d
; 381  : 		directional_light_direction;
; 382  : 
; 383  : 	light_colour
; 384  : 		ambient_light_colour,
; 385  : 		directional_light_colour;
; 386  : 
; 387  : 	float
; 388  : 		directional_light_heading,
; 389  : 		directional_light_pitch,
; 390  : 		directional_light_roll;
; 391  : 
; 392  : 	ambient_light_colour.red		 	= 0.0;

  0000c	0f 57 c0	 xorps	 xmm0, xmm0
  0000f	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 393  : 	ambient_light_colour.green		  	= 0.0;

  00014	0f 57 c0	 xorps	 xmm0, xmm0
  00017	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 394  : 	ambient_light_colour.blue		  	= 0.0;

  0001c	0f 57 c0	 xorps	 xmm0, xmm0
  0001f	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 395  : 
; 396  : 	directional_light_colour.red		= 1.0;

  00024	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0002c	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 397  : 	directional_light_colour.green	= 1.0;

  00031	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00039	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 398  : 	directional_light_colour.blue		= 1.0;

  0003e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00046	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 399  : 
; 400  : 	directional_light_heading 			= rad (0.0);

  0004b	0f 57 c0	 xorps	 xmm0, xmm0
  0004e	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 401  : 	directional_light_pitch 			= rad (-40.0);

  00053	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf32b8c2
  0005b	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 402  : 	directional_light_roll 				= rad (0.0);

  00060	0f 57 c0	 xorps	 xmm0, xmm0
  00063	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 403  : 
; 404  : 	set_3d_ambient_light (main_3d_single_light_env, &ambient_light_colour);

  00068	8d 45 9c	 lea	 eax, DWORD PTR _ambient_light_colour$[ebp]
  0006b	50		 push	 eax
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00072	51		 push	 ecx
  00073	e8 00 00 00 00	 call	 ?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z ; set_3d_ambient_light

; 405  : 
; 406  : 	get_3d_transformation_matrix (directional_light_rotation, directional_light_heading, directional_light_pitch, directional_light_roll);

  00078	51		 push	 ecx
  00079	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _directional_light_roll$[ebp]
  0007e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00083	51		 push	 ecx
  00084	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _directional_light_pitch$[ebp]
  00089	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0008e	51		 push	 ecx
  0008f	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _directional_light_heading$[ebp]
  00094	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00099	8d 45 dc	 lea	 eax, DWORD PTR _directional_light_rotation$[ebp]
  0009c	50		 push	 eax
  0009d	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 407  : 
; 408  : 	multiply_matrix3x3_matrix3x3 (result, directional_light_rotation, attitude);

  000a2	8b 45 08	 mov	 eax, DWORD PTR _attitude$[ebp]
  000a5	50		 push	 eax
  000a6	8d 4d dc	 lea	 ecx, DWORD PTR _directional_light_rotation$[ebp]
  000a9	51		 push	 ecx
  000aa	8d 55 b8	 lea	 edx, DWORD PTR _result$[ebp]
  000ad	52		 push	 edx
  000ae	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 409  : 
; 410  : 	directional_light_direction.x = -result[2][0];

  000b3	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  000b8	d1 e0		 shl	 eax, 1
  000ba	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  000be	ba 04 00 00 00	 mov	 edx, 4
  000c3	6b c2 00	 imul	 eax, edx, 0
  000c6	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  000cb	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  000d2	f3 0f 11 45 ac	 movss	 DWORD PTR _directional_light_direction$[ebp], xmm0

; 411  : 	directional_light_direction.y = -result[2][1];

  000d7	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  000dc	d1 e0		 shl	 eax, 1
  000de	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  000e2	ba 04 00 00 00	 mov	 edx, 4
  000e7	c1 e2 00	 shl	 edx, 0
  000ea	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  000ef	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  000f6	f3 0f 11 45 b0	 movss	 DWORD PTR _directional_light_direction$[ebp+4], xmm0

; 412  : 	directional_light_direction.z = -result[2][2];

  000fb	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00100	d1 e0		 shl	 eax, 1
  00102	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  00106	ba 04 00 00 00	 mov	 edx, 4
  0010b	d1 e2		 shl	 edx, 1
  0010d	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00112	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00119	f3 0f 11 45 b4	 movss	 DWORD PTR _directional_light_direction$[ebp+8], xmm0

; 413  : 
; 414  : 	set_3d_main_light_source (main_3d_single_light_env, &directional_light_colour, &directional_light_direction, FALSE);

  0011e	6a 00		 push	 0
  00120	8d 45 ac	 lea	 eax, DWORD PTR _directional_light_direction$[ebp]
  00123	50		 push	 eax
  00124	8d 4d 8c	 lea	 ecx, DWORD PTR _directional_light_colour$[ebp]
  00127	51		 push	 ecx
  00128	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0012e	52		 push	 edx
  0012f	e8 00 00 00 00	 call	 ?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z ; set_3d_main_light_source

; 415  : }

  00134	5f		 pop	 edi
  00135	5e		 pop	 esi
  00136	5b		 pop	 ebx
  00137	8b e5		 mov	 esp, ebp
  00139	5d		 pop	 ebp
  0013a	c2 04 00	 ret	 4
?set_cockpit_white_lighting@@YGXQAY02M@Z ENDP		; set_cockpit_white_lighting
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?set_cockpit_lighting@@YGXQAY02M@Z
_TEXT	SEGMENT
tv82 = -204						; size = 4
tv76 = -200						; size = 4
tv69 = -196						; size = 4
_directional_light_roll$ = -128				; size = 4
_directional_light_pitch$ = -124			; size = 4
_directional_light_heading$ = -120			; size = 4
_directional_light_colour$ = -116			; size = 16
_ambient_light_colour$ = -100				; size = 16
_directional_light_direction$ = -84			; size = 12
_result$ = -72						; size = 36
_directional_light_rotation$ = -36			; size = 36
_attitude$ = 8						; size = 4
?set_cockpit_lighting@@YGXQAY02M@Z PROC			; set_cockpit_lighting, COMDAT

; 247  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 248  : 	matrix3x3
; 249  : 		directional_light_rotation,
; 250  : 		result;
; 251  : 
; 252  : 	vec3d
; 253  : 		directional_light_direction;
; 254  : 
; 255  : 	light_colour
; 256  : 		ambient_light_colour,
; 257  : 		directional_light_colour;
; 258  : 
; 259  : 	float
; 260  : 		directional_light_heading,
; 261  : 		directional_light_pitch,
; 262  : 		directional_light_roll;
; 263  : 
; 264  : 
; 265  : 	switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00013	74 0f		 je	 SHORT $LN9@set_cockpi
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0001a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001c	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv69[ebp], ecx
  00022	eb 20		 jmp	 SHORT $LN10@set_cockpi
$LN9@set_cockpi:
  00024	68 09 01 00 00	 push	 265			; 00000109H
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	52		 push	 edx
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv69[ebp], 0
$LN10@set_cockpi:
  00044	b8 01 00 00 00	 mov	 eax, 1
  00049	85 c0		 test	 eax, eax
  0004b	74 0c		 je	 SHORT $LN11@set_cockpi
  0004d	c7 85 38 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv76[ebp], 39	; 00000027H
  00057	eb 20		 jmp	 SHORT $LN12@set_cockpi
$LN11@set_cockpi:
  00059	68 09 01 00 00	 push	 265			; 00000109H
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00069	51		 push	 ecx
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv76[ebp], 0
$LN12@set_cockpi:
  00079	6a 27		 push	 39			; 00000027H
  0007b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00081	52		 push	 edx
  00082	69 85 3c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv69[ebp], 1116
  0008c	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR tv76[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	89 85 34 ff ff
	ff		 mov	 DWORD PTR tv82[ebp], eax
  000a1	83 bd 34 ff ff
	ff 03		 cmp	 DWORD PTR tv82[ebp], 3
  000a8	0f 87 6b 01 00
	00		 ja	 $LN2@set_cockpi
  000ae	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv82[ebp]
  000b4	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN13@set_cockpi[eax*4]
$LN4@set_cockpi:

; 266  : 	{
; 267  : 		////////////////////////////////////////
; 268  : 		case DAY_SEGMENT_TYPE_DAWN:
; 269  : 		////////////////////////////////////////
; 270  : 		{
; 271  : 			ambient_light_colour.red		 		= 0.0;

  000bb	0f 57 c0	 xorps	 xmm0, xmm0
  000be	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 272  : 			ambient_light_colour.green		  		= 0.0;

  000c3	0f 57 c0	 xorps	 xmm0, xmm0
  000c6	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 273  : 			ambient_light_colour.blue		  		= 0.0;

  000cb	0f 57 c0	 xorps	 xmm0, xmm0
  000ce	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 274  : 
; 275  : 			directional_light_colour.red			= 1.0;

  000d3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000db	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 276  : 			directional_light_colour.green		= 0.0;

  000e0	0f 57 c0	 xorps	 xmm0, xmm0
  000e3	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 277  : 			directional_light_colour.blue			= 0.0;

  000e8	0f 57 c0	 xorps	 xmm0, xmm0
  000eb	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 278  : 
; 279  : 			directional_light_heading 				= rad (0.0);

  000f0	0f 57 c0	 xorps	 xmm0, xmm0
  000f3	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 280  : 			directional_light_pitch 				= rad (-15.0);

  000f8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  00100	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 281  : 			directional_light_roll 					= rad (0.0);

  00105	0f 57 c0	 xorps	 xmm0, xmm0
  00108	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 282  : 
; 283  : 			break;

  0010d	e9 07 01 00 00	 jmp	 $LN2@set_cockpi
$LN5@set_cockpi:

; 284  : 		}
; 285  : 		////////////////////////////////////////
; 286  : 		case DAY_SEGMENT_TYPE_DAY:
; 287  : 		////////////////////////////////////////
; 288  : 		{
; 289  : 			ambient_light_colour.red		 		= 0.0;

  00112	0f 57 c0	 xorps	 xmm0, xmm0
  00115	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 290  : 			ambient_light_colour.green		  		= 0.0;

  0011a	0f 57 c0	 xorps	 xmm0, xmm0
  0011d	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 291  : 			ambient_light_colour.blue		  		= 0.0;

  00122	0f 57 c0	 xorps	 xmm0, xmm0
  00125	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 292  : 
; 293  : 			directional_light_colour.red			= 1.0;

  0012a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00132	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 294  : 			directional_light_colour.green		= 1.0;

  00137	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0013f	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 295  : 			directional_light_colour.blue			= 1.0;

  00144	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0014c	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 296  : 
; 297  : 			directional_light_heading 				= rad (0.0);

  00151	0f 57 c0	 xorps	 xmm0, xmm0
  00154	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 298  : 			directional_light_pitch 				= rad (-40.0);

  00159	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf32b8c2
  00161	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 299  : 			directional_light_roll 					= rad (0.0);

  00166	0f 57 c0	 xorps	 xmm0, xmm0
  00169	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 300  : 
; 301  : 			break;

  0016e	e9 a6 00 00 00	 jmp	 $LN2@set_cockpi
$LN6@set_cockpi:

; 302  : 		}
; 303  : 		////////////////////////////////////////
; 304  : 		case DAY_SEGMENT_TYPE_DUSK:
; 305  : 		////////////////////////////////////////
; 306  : 		{
; 307  : 			ambient_light_colour.red		 		= 0.0;

  00173	0f 57 c0	 xorps	 xmm0, xmm0
  00176	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 308  : 			ambient_light_colour.green		  		= 0.0;

  0017b	0f 57 c0	 xorps	 xmm0, xmm0
  0017e	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 309  : 			ambient_light_colour.blue		  		= 0.0;

  00183	0f 57 c0	 xorps	 xmm0, xmm0
  00186	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 310  : 
; 311  : 			directional_light_colour.red			= 1.0;

  0018b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00193	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 312  : 			directional_light_colour.green		= 0.0;

  00198	0f 57 c0	 xorps	 xmm0, xmm0
  0019b	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 313  : 			directional_light_colour.blue			= 0.0;

  001a0	0f 57 c0	 xorps	 xmm0, xmm0
  001a3	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 314  : 
; 315  : 			directional_light_heading 				= rad (0.0);

  001a8	0f 57 c0	 xorps	 xmm0, xmm0
  001ab	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 316  : 			directional_light_pitch 				= rad (-15.0);

  001b0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  001b8	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 317  : 			directional_light_roll 					= rad (0.0);

  001bd	0f 57 c0	 xorps	 xmm0, xmm0
  001c0	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 318  : 
; 319  : 			break;

  001c5	eb 52		 jmp	 SHORT $LN2@set_cockpi
$LN7@set_cockpi:

; 320  : 		}
; 321  : 		////////////////////////////////////////
; 322  : 		case DAY_SEGMENT_TYPE_NIGHT:
; 323  : 		////////////////////////////////////////
; 324  : 		{
; 325  : 			ambient_light_colour.red		 		= 0.0;

  001c7	0f 57 c0	 xorps	 xmm0, xmm0
  001ca	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 326  : 			ambient_light_colour.green		  		= 0.0;

  001cf	0f 57 c0	 xorps	 xmm0, xmm0
  001d2	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 327  : 			ambient_light_colour.blue		  		= 0.0;

  001d7	0f 57 c0	 xorps	 xmm0, xmm0
  001da	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 328  : 
; 329  : 			directional_light_colour.red			= 1.0;

  001df	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001e7	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 330  : 			directional_light_colour.green		= 0.0;

  001ec	0f 57 c0	 xorps	 xmm0, xmm0
  001ef	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 331  : 			directional_light_colour.blue			= 0.0;

  001f4	0f 57 c0	 xorps	 xmm0, xmm0
  001f7	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 332  : 
; 333  : 			directional_light_heading 				= rad (0.0);

  001fc	0f 57 c0	 xorps	 xmm0, xmm0
  001ff	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 334  : 			directional_light_pitch 				= rad (-15.0);

  00204	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  0020c	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 335  : 			directional_light_roll 					= rad (0.0);

  00211	0f 57 c0	 xorps	 xmm0, xmm0
  00214	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0
$LN2@set_cockpi:

; 336  : 
; 337  : 			break;
; 338  : 		}
; 339  : 	}
; 340  : 
; 341  : 	#if DEMO_VERSION
; 342  : 
; 343  : 	ambient_light_colour.red		 		= 0.0;
; 344  : 	ambient_light_colour.green		  		= 0.0;
; 345  : 	ambient_light_colour.blue		  		= 0.0;
; 346  : 
; 347  : 	directional_light_colour.red			= 1.0;
; 348  : 	directional_light_colour.green		= 1.0;
; 349  : 	directional_light_colour.blue			= 1.0;
; 350  : 
; 351  : 	directional_light_heading 				= rad (0.0);
; 352  : 	directional_light_pitch 				= rad (-40.0);
; 353  : 	directional_light_roll 					= rad (0.0);
; 354  : 
; 355  : 	#endif
; 356  : 
; 357  : 	set_3d_ambient_light (main_3d_single_light_env, &ambient_light_colour);

  00219	8d 45 9c	 lea	 eax, DWORD PTR _ambient_light_colour$[ebp]
  0021c	50		 push	 eax
  0021d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00223	51		 push	 ecx
  00224	e8 00 00 00 00	 call	 ?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z ; set_3d_ambient_light

; 358  : 
; 359  : 	get_3d_transformation_matrix (directional_light_rotation, directional_light_heading, directional_light_pitch, directional_light_roll);

  00229	51		 push	 ecx
  0022a	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _directional_light_roll$[ebp]
  0022f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00234	51		 push	 ecx
  00235	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _directional_light_pitch$[ebp]
  0023a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0023f	51		 push	 ecx
  00240	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _directional_light_heading$[ebp]
  00245	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024a	8d 45 dc	 lea	 eax, DWORD PTR _directional_light_rotation$[ebp]
  0024d	50		 push	 eax
  0024e	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 360  : 
; 361  : 	multiply_matrix3x3_matrix3x3 (result, directional_light_rotation, attitude);

  00253	8b 45 08	 mov	 eax, DWORD PTR _attitude$[ebp]
  00256	50		 push	 eax
  00257	8d 4d dc	 lea	 ecx, DWORD PTR _directional_light_rotation$[ebp]
  0025a	51		 push	 ecx
  0025b	8d 55 b8	 lea	 edx, DWORD PTR _result$[ebp]
  0025e	52		 push	 edx
  0025f	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 362  : 
; 363  : 	directional_light_direction.x = -result[2][0];

  00264	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00269	d1 e0		 shl	 eax, 1
  0026b	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  0026f	ba 04 00 00 00	 mov	 edx, 4
  00274	6b c2 00	 imul	 eax, edx, 0
  00277	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  0027c	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00283	f3 0f 11 45 ac	 movss	 DWORD PTR _directional_light_direction$[ebp], xmm0

; 364  : 	directional_light_direction.y = -result[2][1];

  00288	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0028d	d1 e0		 shl	 eax, 1
  0028f	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  00293	ba 04 00 00 00	 mov	 edx, 4
  00298	c1 e2 00	 shl	 edx, 0
  0029b	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002a0	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002a7	f3 0f 11 45 b0	 movss	 DWORD PTR _directional_light_direction$[ebp+4], xmm0

; 365  : 	directional_light_direction.z = -result[2][2];

  002ac	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002b1	d1 e0		 shl	 eax, 1
  002b3	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  002b7	ba 04 00 00 00	 mov	 edx, 4
  002bc	d1 e2		 shl	 edx, 1
  002be	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002c3	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002ca	f3 0f 11 45 b4	 movss	 DWORD PTR _directional_light_direction$[ebp+8], xmm0

; 366  : 
; 367  : 	set_3d_main_light_source (main_3d_single_light_env, &directional_light_colour, &directional_light_direction, FALSE);

  002cf	6a 00		 push	 0
  002d1	8d 45 ac	 lea	 eax, DWORD PTR _directional_light_direction$[ebp]
  002d4	50		 push	 eax
  002d5	8d 4d 8c	 lea	 ecx, DWORD PTR _directional_light_colour$[ebp]
  002d8	51		 push	 ecx
  002d9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  002df	52		 push	 edx
  002e0	e8 00 00 00 00	 call	 ?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z ; set_3d_main_light_source

; 368  : }

  002e5	5f		 pop	 edi
  002e6	5e		 pop	 esi
  002e7	5b		 pop	 ebx
  002e8	8b e5		 mov	 esp, ebp
  002ea	5d		 pop	 ebp
  002eb	c2 04 00	 ret	 4
  002ee	66 90		 npad	 2
$LN13@set_cockpi:
  002f0	00 00 00 00	 DD	 $LN4@set_cockpi
  002f4	00 00 00 00	 DD	 $LN5@set_cockpi
  002f8	00 00 00 00	 DD	 $LN6@set_cockpi
  002fc	00 00 00 00	 DD	 $LN7@set_cockpi
?set_cockpit_lighting@@YGXQAY02M@Z ENDP			; set_cockpit_lighting
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?draw_default_lamp_on_texture@@YGXXZ
_TEXT	SEGMENT
_lamp_texture_screen$ = -4				; size = 4
?draw_default_lamp_on_texture@@YGXXZ PROC		; draw_default_lamp_on_texture, COMDAT

; 1518 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1519 : 	screen
; 1520 : 		*lamp_texture_screen;
; 1521 : 
; 1522 : 	lamp_texture_screen = lamp1_texture_screen;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_texture_screen@@3PAUSCREEN@@A
  0000e	89 45 fc	 mov	 DWORD PTR _lamp_texture_screen$[ebp], eax

; 1523 : 
; 1524 : 	set_system_texture_screen (lamp_texture_screen, TEXTURE_INDEX_AVCKPT_DISPLAY_LHS_MFD);

  00011	68 f8 00 00 00	 push	 248			; 000000f8H
  00016	8b 45 fc	 mov	 eax, DWORD PTR _lamp_texture_screen$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?set_system_texture_screen@@YGXPAUSCREEN@@H@Z ; set_system_texture_screen

; 1525 : 
; 1526 : 	////////////////////////////////////////
; 1527 : 	//
; 1528 : 	// set up MFD 2D environment
; 1529 : 	//
; 1530 : 	////////////////////////////////////////
; 1531 : 
; 1532 : 	set_2d_active_environment (lamp1_env);

  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_env@@3PAUENV_2D@@A
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?set_2d_active_environment@@YGXPAUENV_2D@@@Z ; set_2d_active_environment

; 1533 : 
; 1534 : 	//
; 1535 : 	// window
; 1536 : 	//
; 1537 : 
; 1538 : 	set_2d_window (lamp1_env, LAMP1_WINDOW_X_MIN, LAMP1_WINDOW_Y_MIN, LAMP1_WINDOW_X_MAX, LAMP1_WINDOW_Y_MAX);

  0002a	51		 push	 ecx
  0002b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f7fbe77
  00033	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00038	51		 push	 ecx
  00039	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f7fbe77
  00041	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00046	51		 push	 ecx
  00047	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  0004f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00054	51		 push	 ecx
  00055	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  0005d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00062	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_env@@3PAUENV_2D@@A
  00067	50		 push	 eax
  00068	e8 00 00 00 00	 call	 ?set_2d_window@@YGXPAUENV_2D@@MMMM@Z ; set_2d_window

; 1539 : 
; 1540 : 	//
; 1541 : 	// viewport
; 1542 : 	//
; 1543 : 
; 1544 : 	lamp1_viewport_size = LAMP1_VIEWPORT_SMALL_SIZE;

  0006d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43000000
  00075	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lamp1_viewport_size@@3MA, xmm0

; 1545 : 
; 1546 : 	lamp1_viewport_x_org = LAMP1_VIEWPORT_TEXTURE_X_ORG;

  0007d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42800000
  00085	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lamp1_viewport_x_org@@3MA, xmm0

; 1547 : 	lamp1_viewport_y_org = LAMP1_VIEWPORT_TEXTURE_Y_ORG;

  0008d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42800000
  00095	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lamp1_viewport_y_org@@3MA, xmm0

; 1548 : 	lamp1_viewport_x_min = lamp1_viewport_x_org - (lamp1_viewport_size * 0.5);

  0009d	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?lamp1_viewport_x_org@@3MA
  000a5	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?lamp1_viewport_size@@3MA
  000ad	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe0000000000000
  000b5	f2 0f 5c c1	 subsd	 xmm0, xmm1
  000b9	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000bd	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lamp1_viewport_x_min@@3MA, xmm0

; 1549 : 	lamp1_viewport_y_min = lamp1_viewport_y_org - (lamp1_viewport_size * 0.5);

  000c5	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?lamp1_viewport_y_org@@3MA
  000cd	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?lamp1_viewport_size@@3MA
  000d5	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe0000000000000
  000dd	f2 0f 5c c1	 subsd	 xmm0, xmm1
  000e1	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000e5	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lamp1_viewport_y_min@@3MA, xmm0

; 1550 : 	lamp1_viewport_x_max = lamp1_viewport_x_org + (lamp1_viewport_size * 0.5) - 0.001;

  000ed	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?lamp1_viewport_x_org@@3MA
  000f5	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?lamp1_viewport_size@@3MA
  000fd	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe0000000000000
  00105	f2 0f 58 c1	 addsd	 xmm0, xmm1
  00109	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3f50624dd2f1a9fc
  00111	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00115	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lamp1_viewport_x_max@@3MA, xmm0

; 1551 : 	lamp1_viewport_y_max = lamp1_viewport_y_org + (lamp1_viewport_size * 0.5) - 0.001;

  0011d	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?lamp1_viewport_y_org@@3MA
  00125	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?lamp1_viewport_size@@3MA
  0012d	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe0000000000000
  00135	f2 0f 58 c1	 addsd	 xmm0, xmm1
  00139	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3f50624dd2f1a9fc
  00141	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00145	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lamp1_viewport_y_max@@3MA, xmm0

; 1552 : 
; 1553 : 	set_2d_viewport (lamp1_env, lamp1_viewport_x_min, lamp1_viewport_y_min, lamp1_viewport_x_max, lamp1_viewport_y_max);

  0014d	51		 push	 ecx
  0014e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?lamp1_viewport_y_max@@3MA
  00156	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0015b	51		 push	 ecx
  0015c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?lamp1_viewport_x_max@@3MA
  00164	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00169	51		 push	 ecx
  0016a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?lamp1_viewport_y_min@@3MA
  00172	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00177	51		 push	 ecx
  00178	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?lamp1_viewport_x_min@@3MA
  00180	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00185	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_env@@3PAUENV_2D@@A
  0018a	50		 push	 eax
  0018b	e8 00 00 00 00	 call	 ?set_2d_viewport@@YGXPAUENV_2D@@MMMM@Z ; set_2d_viewport

; 1554 : 
; 1555 : 	set_active_screen (lamp1_texture_screen);

  00190	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_texture_screen@@3PAUSCREEN@@A
  00195	50		 push	 eax
  00196	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 1556 : 
; 1557 : 	if (lock_screen (lamp1_texture_screen))

  0019b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_texture_screen@@3PAUSCREEN@@A
  001a0	50		 push	 eax
  001a1	e8 00 00 00 00	 call	 ?lock_screen@@YGHPAUSCREEN@@@Z ; lock_screen
  001a6	85 c0		 test	 eax, eax
  001a8	74 1b		 je	 SHORT $LN2@draw_defau

; 1558 : 	{
; 1559 : 
; 1560 : 		draw_default_indicator_lamps_3d ();

  001aa	e8 00 00 00 00	 call	 ?draw_default_indicator_lamps_3d@@YGXXZ ; draw_default_indicator_lamps_3d

; 1561 : 
; 1562 : 		flush_screen_texture_graphics (lamp1_texture_screen);

  001af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_texture_screen@@3PAUSCREEN@@A
  001b4	50		 push	 eax
  001b5	e8 00 00 00 00	 call	 ?flush_screen_texture_graphics@@YGXPAUSCREEN@@@Z ; flush_screen_texture_graphics

; 1563 : 
; 1564 : 		unlock_screen (lamp1_texture_screen);

  001ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_texture_screen@@3PAUSCREEN@@A
  001bf	50		 push	 eax
  001c0	e8 00 00 00 00	 call	 ?unlock_screen@@YGHPAUSCREEN@@@Z ; unlock_screen
$LN2@draw_defau:

; 1565 : 	}
; 1566 : 
; 1567 : 
; 1568 : 	set_active_screen (video_screen);

  001c5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?video_screen@@3PAUSCREEN@@A ; video_screen
  001ca	50		 push	 eax
  001cb	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 1569 : }

  001d0	5f		 pop	 edi
  001d1	5e		 pop	 esi
  001d2	5b		 pop	 ebx
  001d3	8b e5		 mov	 esp, ebp
  001d5	5d		 pop	 ebp
  001d6	c3		 ret	 0
?draw_default_lamp_on_texture@@YGXXZ ENDP		; draw_default_lamp_on_texture
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?deinitialise_default_lamp_screen@@YGXXZ
_TEXT	SEGMENT
?deinitialise_default_lamp_screen@@YGXXZ PROC		; deinitialise_default_lamp_screen, COMDAT

; 1508 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1509 : 	destroy_2d_environment (lamp1_env);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_env@@3PAUENV_2D@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destroy_2d_environment@@YGXPAUENV_2D@@@Z ; destroy_2d_environment

; 1510 : 
; 1511 : 	destroy_screen (lamp1_texture_screen);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lamp1_texture_screen@@3PAUSCREEN@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destroy_screen@@YGHPAUSCREEN@@@Z ; destroy_screen

; 1512 : 
; 1513 : //	destroy_screen (lamp1_overlaid_texture_screen);
; 1514 : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?deinitialise_default_lamp_screen@@YGXXZ ENDP		; deinitialise_default_lamp_screen
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?initialise_default_lamp_screen@@YGXXZ
_TEXT	SEGMENT
?initialise_default_lamp_screen@@YGXXZ PROC		; initialise_default_lamp_screen, COMDAT

; 1497 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1498 : 
; 1499 : 	lamp1_env = create_2d_environment ();

  00009	e8 00 00 00 00	 call	 ?create_2d_environment@@YGPAUENV_2D@@XZ ; create_2d_environment
  0000e	a3 00 00 00 00	 mov	 DWORD PTR ?lamp1_env@@3PAUENV_2D@@A, eax

; 1500 : 
; 1501 : 	lamp1_texture_screen = create_system_texture_screen (LAMP1_TEXTURE_SIZE, LAMP1_TEXTURE_SIZE, TEXTURE_INDEX_AVCKPT_DISPLAY_LHS_MFD, TEXTURE_TYPE_SINGLEALPHA);

  00013	6a 02		 push	 2
  00015	68 f8 00 00 00	 push	 248			; 000000f8H
  0001a	68 80 00 00 00	 push	 128			; 00000080H
  0001f	68 80 00 00 00	 push	 128			; 00000080H
  00024	e8 00 00 00 00	 call	 ?create_system_texture_screen@@YGPAUSCREEN@@HHHH@Z ; create_system_texture_screen
  00029	a3 00 00 00 00	 mov	 DWORD PTR ?lamp1_texture_screen@@3PAUSCREEN@@A, eax

; 1502 : 
; 1503 : //	Lamp1_overlaid_texture_screen = create_system_texture_screen (LAMP1_TEXTURE_SIZE, LAMP1_TEXTURE_SIZE, LAMP1_OVERLAID_TEXTURE_INDEX, TEXTURE_TYPE_SINGLEALPHA);
; 1504 : 
; 1505 : }

  0002e	5f		 pop	 edi
  0002f	5e		 pop	 esi
  00030	5b		 pop	 ebx
  00031	8b e5		 mov	 esp, ebp
  00033	5d		 pop	 ebp
  00034	c3		 ret	 0
?initialise_default_lamp_screen@@YGXXZ ENDP		; initialise_default_lamp_screen
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?draw_default_indicator_lamps_3d@@YGXXZ
_TEXT	SEGMENT
_Y_ORG$ = -16						; size = 4
_X_ORG$ = -12						; size = 4
_mask_data$ = -8					; size = 4
_sprite_data$ = -4					; size = 4
?draw_default_indicator_lamps_3d@@YGXXZ PROC		; draw_default_indicator_lamps_3d, COMDAT

; 1425 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1426 : 	unsigned char
; 1427 : 		*sprite_data,
; 1428 : 		*mask_data;
; 1429 : 
; 1430 : 	int X_ORG;
; 1431 : 	int Y_ORG;
; 1432 : 
; 1433 : 	base_cockpit_graphics_file = GRAPHICS_COCKPITS_APACHE_LEVEL1_BASE;

  00009	c7 05 00 00 00
	00 2d 00 00 00	 mov	 DWORD PTR ?base_cockpit_graphics_file@@3W4GRAPHICS_FILE_SPECIFIERS@@A, 45 ; base_cockpit_graphics_file, 0000002dH

; 1434 : 
; 1435 : 	sprite_data = get_graphics_file_data (base_cockpit_graphics_file + GRAPHICS_COCKPITS_APACHE_SPRITES);

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?base_cockpit_graphics_file@@3W4GRAPHICS_FILE_SPECIFIERS@@A ; base_cockpit_graphics_file
  00018	83 c0 2b	 add	 eax, 43			; 0000002bH
  0001b	6b c8 28	 imul	 ecx, eax, 40
  0001e	8b 91 1c 00 00
	00		 mov	 edx, DWORD PTR ?graphics_files@@3PAUFILE_DATA@@A[ecx+28]
  00024	89 55 fc	 mov	 DWORD PTR _sprite_data$[ebp], edx

; 1436 : 
; 1437 : 	mask_data = get_graphics_file_data (base_cockpit_graphics_file + GRAPHICS_COCKPITS_APACHE_SPRITES_MASK);

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?base_cockpit_graphics_file@@3W4GRAPHICS_FILE_SPECIFIERS@@A ; base_cockpit_graphics_file
  0002c	83 c0 2c	 add	 eax, 44			; 0000002cH
  0002f	6b c8 28	 imul	 ecx, eax, 40
  00032	8b 91 1c 00 00
	00		 mov	 edx, DWORD PTR ?graphics_files@@3PAUFILE_DATA@@A[ecx+28]
  00038	89 55 f8	 mov	 DWORD PTR _mask_data$[ebp], edx

; 1438 : 
; 1439 : 
; 1440 : //find out where the lamps are in 3d, tranform with pilot viewpoint, convert to pixels depending on resolution, use center of cockpit
; 1441 : 
; 1442 : 
; 1443 : 	lock_screen (active_screen);

  0003b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  00040	50		 push	 eax
  00041	e8 00 00 00 00	 call	 ?lock_screen@@YGHPAUSCREEN@@@Z ; lock_screen

; 1444 : 
; 1445 : 	X_ORG = 225;	Y_ORG = 470;

  00046	c7 45 f4 e1 00
	00 00		 mov	 DWORD PTR _X_ORG$[ebp], 225 ; 000000e1H
  0004d	c7 45 f0 d6 01
	00 00		 mov	 DWORD PTR _Y_ORG$[ebp], 470 ; 000001d6H

; 1446 : 	X_ORG = (int)((virtual_cockpit_inst3d->vp.x*0.4+0.5)*300);

  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00059	f3 0f 5a 40 08	 cvtss2sd xmm0, DWORD PTR [eax+8]
  0005e	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3fd999999999999a
  00066	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  0006e	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4072c00000000000
  00076	f2 0f 2c c8	 cvttsd2si ecx, xmm0
  0007a	89 4d f4	 mov	 DWORD PTR _X_ORG$[ebp], ecx

; 1447 : 					 draw_lamp (default_lamps.indicator_lamp_1, X_ORG +   7, Y_ORG +   4,   7,   4,  19,  19,   0);

  0007d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  00082	83 e0 01	 and	 eax, 1
  00085	74 57		 je	 SHORT $LN2@draw_defau
  00087	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  0008a	83 c0 07	 add	 eax, 7
  0008d	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  00092	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  00095	83 c0 04	 add	 eax, 4
  00098	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  0009d	c7 05 08 00 00
	00 07 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 7
  000a7	c7 05 0c 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 4
  000b1	c7 05 10 00 00
	00 13 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 19 ; 00000013H
  000bb	c7 05 14 00 00
	00 13 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 19 ; 00000013H
  000c5	c6 05 18 00 00
	00 00		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 0
  000cc	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  000d1	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  000d4	50		 push	 eax
  000d5	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  000d8	51		 push	 ecx
  000d9	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN2@draw_defau:

; 1448 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_2, X_ORG +  27, Y_ORG +   4,  27,   4,  18,  19,  13);

  000de	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  000e1	83 c0 14	 add	 eax, 20			; 00000014H
  000e4	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  000e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  000ec	d1 e8		 shr	 eax, 1
  000ee	83 e0 01	 and	 eax, 1
  000f1	74 57		 je	 SHORT $LN3@draw_defau
  000f3	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  000f6	83 c0 1b	 add	 eax, 27			; 0000001bH
  000f9	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  000fe	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  00101	83 c0 04	 add	 eax, 4
  00104	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00109	c7 05 08 00 00
	00 1b 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 27 ; 0000001bH
  00113	c7 05 0c 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 4
  0011d	c7 05 10 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 18 ; 00000012H
  00127	c7 05 14 00 00
	00 13 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 19 ; 00000013H
  00131	c6 05 18 00 00
	00 0d		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 13 ; 0000000dH
  00138	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  0013d	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  00140	50		 push	 eax
  00141	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  00144	51		 push	 ecx
  00145	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN3@draw_defau:

; 1449 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_3, X_ORG +  47, Y_ORG +   5,  47,   5,  18,  18,  25);

  0014a	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  0014d	83 c0 14	 add	 eax, 20			; 00000014H
  00150	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  00153	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  00158	c1 e8 02	 shr	 eax, 2
  0015b	83 e0 01	 and	 eax, 1
  0015e	74 57		 je	 SHORT $LN4@draw_defau
  00160	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00163	83 c0 2f	 add	 eax, 47			; 0000002fH
  00166	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  0016b	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  0016e	83 c0 05	 add	 eax, 5
  00171	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00176	c7 05 08 00 00
	00 2f 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 47 ; 0000002fH
  00180	c7 05 0c 00 00
	00 05 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 5
  0018a	c7 05 10 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 18 ; 00000012H
  00194	c7 05 14 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 18 ; 00000012H
  0019e	c6 05 18 00 00
	00 19		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 25 ; 00000019H
  001a5	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  001aa	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  001ad	50		 push	 eax
  001ae	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  001b1	51		 push	 ecx
  001b2	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN4@draw_defau:

; 1450 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_4, X_ORG +  66, Y_ORG +   5,  66,   5,  18,  18,  38);

  001b7	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  001ba	83 c0 14	 add	 eax, 20			; 00000014H
  001bd	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  001c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  001c5	c1 e8 03	 shr	 eax, 3
  001c8	83 e0 01	 and	 eax, 1
  001cb	74 57		 je	 SHORT $LN5@draw_defau
  001cd	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  001d0	83 c0 42	 add	 eax, 66			; 00000042H
  001d3	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  001d8	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  001db	83 c0 05	 add	 eax, 5
  001de	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  001e3	c7 05 08 00 00
	00 42 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 66 ; 00000042H
  001ed	c7 05 0c 00 00
	00 05 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 5
  001f7	c7 05 10 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 18 ; 00000012H
  00201	c7 05 14 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 18 ; 00000012H
  0020b	c6 05 18 00 00
	00 26		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 38 ; 00000026H
  00212	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  00217	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  0021a	50		 push	 eax
  0021b	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  0021e	51		 push	 ecx
  0021f	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN5@draw_defau:

; 1451 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_5, X_ORG +  86, Y_ORG +   5,  86,   5,  18,  18,  51);

  00224	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00227	83 c0 14	 add	 eax, 20			; 00000014H
  0022a	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  0022d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  00232	c1 e8 04	 shr	 eax, 4
  00235	83 e0 01	 and	 eax, 1
  00238	74 57		 je	 SHORT $LN6@draw_defau
  0023a	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  0023d	83 c0 56	 add	 eax, 86			; 00000056H
  00240	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  00245	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  00248	83 c0 05	 add	 eax, 5
  0024b	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00250	c7 05 08 00 00
	00 56 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 86 ; 00000056H
  0025a	c7 05 0c 00 00
	00 05 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 5
  00264	c7 05 10 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 18 ; 00000012H
  0026e	c7 05 14 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 18 ; 00000012H
  00278	c6 05 18 00 00
	00 33		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 51 ; 00000033H
  0027f	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  00284	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  00287	50		 push	 eax
  00288	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  0028b	51		 push	 ecx
  0028c	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN6@draw_defau:

; 1452 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_6, X_ORG + 106, Y_ORG +   5, 106,   5,  18,  18,  64);

  00291	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00294	83 c0 14	 add	 eax, 20			; 00000014H
  00297	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  0029a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  0029f	c1 e8 05	 shr	 eax, 5
  002a2	83 e0 01	 and	 eax, 1
  002a5	74 57		 je	 SHORT $LN7@draw_defau
  002a7	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  002aa	83 c0 6a	 add	 eax, 106		; 0000006aH
  002ad	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  002b2	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  002b5	83 c0 05	 add	 eax, 5
  002b8	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  002bd	c7 05 08 00 00
	00 6a 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 106 ; 0000006aH
  002c7	c7 05 0c 00 00
	00 05 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 5
  002d1	c7 05 10 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 18 ; 00000012H
  002db	c7 05 14 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 18 ; 00000012H
  002e5	c6 05 18 00 00
	00 40		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 64 ; 00000040H
  002ec	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  002f1	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  002f4	50		 push	 eax
  002f5	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  002f8	51		 push	 ecx
  002f9	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN7@draw_defau:

; 1453 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_7, X_ORG + 125, Y_ORG +   5, 125,   5,  18,  18,  76);

  002fe	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00301	83 c0 14	 add	 eax, 20			; 00000014H
  00304	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  00307	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  0030c	c1 e8 06	 shr	 eax, 6
  0030f	83 e0 01	 and	 eax, 1
  00312	74 57		 je	 SHORT $LN8@draw_defau
  00314	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00317	83 c0 7d	 add	 eax, 125		; 0000007dH
  0031a	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  0031f	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  00322	83 c0 05	 add	 eax, 5
  00325	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  0032a	c7 05 08 00 00
	00 7d 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 125 ; 0000007dH
  00334	c7 05 0c 00 00
	00 05 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 5
  0033e	c7 05 10 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 18 ; 00000012H
  00348	c7 05 14 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 18 ; 00000012H
  00352	c6 05 18 00 00
	00 4c		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 76 ; 0000004cH
  00359	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  0035e	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  00361	50		 push	 eax
  00362	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  00365	51		 push	 ecx
  00366	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN8@draw_defau:

; 1454 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_8, X_ORG + 144, Y_ORG +   5, 144,   5,  19,  18,  89);

  0036b	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  0036e	83 c0 14	 add	 eax, 20			; 00000014H
  00371	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  00374	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  00379	c1 e8 07	 shr	 eax, 7
  0037c	83 e0 01	 and	 eax, 1
  0037f	74 59		 je	 SHORT $LN9@draw_defau
  00381	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00384	05 90 00 00 00	 add	 eax, 144		; 00000090H
  00389	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  0038e	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  00391	83 c0 05	 add	 eax, 5
  00394	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00399	c7 05 08 00 00
	00 90 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 144 ; 00000090H
  003a3	c7 05 0c 00 00
	00 05 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 5
  003ad	c7 05 10 00 00
	00 13 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 19 ; 00000013H
  003b7	c7 05 14 00 00
	00 12 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 18 ; 00000012H
  003c1	c6 05 18 00 00
	00 59		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 89 ; 00000059H
  003c8	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  003cd	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  003d0	50		 push	 eax
  003d1	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  003d4	51		 push	 ecx
  003d5	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN9@draw_defau:

; 1455 : 	X_ORG += 20; draw_lamp (default_lamps.indicator_lamp_9, X_ORG + 164, Y_ORG +   4, 164,   4,  19,  19, 102);

  003da	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  003dd	83 c0 14	 add	 eax, 20			; 00000014H
  003e0	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  003e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  003e8	c1 e8 08	 shr	 eax, 8
  003eb	83 e0 01	 and	 eax, 1
  003ee	74 59		 je	 SHORT $LN10@draw_defau
  003f0	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  003f3	05 a4 00 00 00	 add	 eax, 164		; 000000a4H
  003f8	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  003fd	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  00400	83 c0 04	 add	 eax, 4
  00403	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00408	c7 05 08 00 00
	00 a4 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 164 ; 000000a4H
  00412	c7 05 0c 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 4
  0041c	c7 05 10 00 00
	00 13 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 19 ; 00000013H
  00426	c7 05 14 00 00
	00 13 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 19 ; 00000013H
  00430	c6 05 18 00 00
	00 66		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 102 ; 00000066H
  00437	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  0043c	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  0043f	50		 push	 eax
  00440	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  00443	51		 push	 ecx
  00444	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN10@draw_defau:

; 1456 : 
; 1457 : 	X_ORG = 164;	Y_ORG = 408;

  00449	c7 45 f4 a4 00
	00 00		 mov	 DWORD PTR _X_ORG$[ebp], 164 ; 000000a4H
  00450	c7 45 f0 98 01
	00 00		 mov	 DWORD PTR _Y_ORG$[ebp], 408 ; 00000198H

; 1458 : 					 draw_lamp (default_lamps.engine_1_fire	, X_ORG +  10, Y_ORG +  12,  10, 102,  26,  27,   0);

  00457	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  0045c	c1 e8 09	 shr	 eax, 9
  0045f	83 e0 01	 and	 eax, 1
  00462	74 57		 je	 SHORT $LN11@draw_defau
  00464	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00467	83 c0 0a	 add	 eax, 10			; 0000000aH
  0046a	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  0046f	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  00472	83 c0 0c	 add	 eax, 12			; 0000000cH
  00475	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  0047a	c7 05 08 00 00
	00 0a 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 10 ; 0000000aH
  00484	c7 05 0c 00 00
	00 66 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 102 ; 00000066H
  0048e	c7 05 10 00 00
	00 1a 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 26 ; 0000001aH
  00498	c7 05 14 00 00
	00 1b 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 27 ; 0000001bH
  004a2	c6 05 18 00 00
	00 00		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 0
  004a9	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  004ae	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  004b1	50		 push	 eax
  004b2	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  004b5	51		 push	 ecx
  004b6	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN11@draw_defau:

; 1459 : 	X_ORG += 27; draw_lamp (default_lamps.apu_fire		, X_ORG +  42, Y_ORG +  12,  42, 102,  26,  27,  13);

  004bb	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  004be	83 c0 1b	 add	 eax, 27			; 0000001bH
  004c1	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  004c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  004c9	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  004cc	83 e0 01	 and	 eax, 1
  004cf	74 57		 je	 SHORT $LN12@draw_defau
  004d1	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  004d4	83 c0 2a	 add	 eax, 42			; 0000002aH
  004d7	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  004dc	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  004df	83 c0 0c	 add	 eax, 12			; 0000000cH
  004e2	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  004e7	c7 05 08 00 00
	00 2a 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 42 ; 0000002aH
  004f1	c7 05 0c 00 00
	00 66 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 102 ; 00000066H
  004fb	c7 05 10 00 00
	00 1a 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 26 ; 0000001aH
  00505	c7 05 14 00 00
	00 1b 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 27 ; 0000001bH
  0050f	c6 05 18 00 00
	00 0d		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 13 ; 0000000dH
  00516	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  0051b	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  0051e	50		 push	 eax
  0051f	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  00522	51		 push	 ecx
  00523	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN12@draw_defau:

; 1460 : 	X_ORG += 27; draw_lamp (default_lamps.engine_2_fire	, X_ORG +  75, Y_ORG +  12,  75, 102,  26,  27,  25);

  00528	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  0052b	83 c0 1b	 add	 eax, 27			; 0000001bH
  0052e	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  00531	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  00536	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00539	83 e0 01	 and	 eax, 1
  0053c	74 57		 je	 SHORT $LN13@draw_defau
  0053e	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00541	83 c0 4b	 add	 eax, 75			; 0000004bH
  00544	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  00549	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  0054c	83 c0 0c	 add	 eax, 12			; 0000000cH
  0054f	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00554	c7 05 08 00 00
	00 4b 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 75 ; 0000004bH
  0055e	c7 05 0c 00 00
	00 66 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 102 ; 00000066H
  00568	c7 05 10 00 00
	00 1a 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 26 ; 0000001aH
  00572	c7 05 14 00 00
	00 1b 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 27 ; 0000001bH
  0057c	c6 05 18 00 00
	00 19		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 25 ; 00000019H
  00583	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  00588	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  0058b	50		 push	 eax
  0058c	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  0058f	51		 push	 ecx
  00590	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN13@draw_defau:

; 1461 : 
; 1462 : 	X_ORG = 72;	Y_ORG = 375;

  00595	c7 45 f4 48 00
	00 00		 mov	 DWORD PTR _X_ORG$[ebp], 72 ; 00000048H
  0059c	c7 45 f0 77 01
	00 00		 mov	 DWORD PTR _Y_ORG$[ebp], 375 ; 00000177H

; 1463 : 					 draw_lamp (default_lamps.armament_lamp_1 , X_ORG +   9, Y_ORG +   7,   9, 327,  22,  23,   0);

  005a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  005a8	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  005ab	83 e0 01	 and	 eax, 1
  005ae	74 57		 je	 SHORT $LN14@draw_defau
  005b0	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  005b3	83 c0 09	 add	 eax, 9
  005b6	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  005bb	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  005be	83 c0 07	 add	 eax, 7
  005c1	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  005c6	c7 05 08 00 00
	00 09 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 9
  005d0	c7 05 0c 00 00
	00 47 01 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 327 ; 00000147H
  005da	c7 05 10 00 00
	00 16 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 22 ; 00000016H
  005e4	c7 05 14 00 00
	00 17 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 23 ; 00000017H
  005ee	c6 05 18 00 00
	00 00		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 0
  005f5	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  005fa	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  005fd	50		 push	 eax
  005fe	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  00601	51		 push	 ecx
  00602	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN14@draw_defau:

; 1464 : 	X_ORG += 23; draw_lamp (default_lamps.armament_lamp_2 , X_ORG +  31, Y_ORG +   7,  31, 327,  22,  23,  13);

  00607	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  0060a	83 c0 17	 add	 eax, 23			; 00000017H
  0060d	89 45 f4	 mov	 DWORD PTR _X_ORG$[ebp], eax
  00610	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  00615	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  00618	83 e0 01	 and	 eax, 1
  0061b	74 57		 je	 SHORT $LN15@draw_defau
  0061d	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00620	83 c0 1f	 add	 eax, 31			; 0000001fH
  00623	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  00628	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  0062b	83 c0 07	 add	 eax, 7
  0062e	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00633	c7 05 08 00 00
	00 1f 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 31 ; 0000001fH
  0063d	c7 05 0c 00 00
	00 47 01 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 327 ; 00000147H
  00647	c7 05 10 00 00
	00 16 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 22 ; 00000016H
  00651	c7 05 14 00 00
	00 17 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 23 ; 00000017H
  0065b	c6 05 18 00 00
	00 0d		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 13 ; 0000000dH
  00662	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  00667	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  0066a	50		 push	 eax
  0066b	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  0066e	51		 push	 ecx
  0066f	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN15@draw_defau:

; 1465 : 
; 1466 : 	X_ORG = 305;

  00674	c7 45 f4 31 01
	00 00		 mov	 DWORD PTR _X_ORG$[ebp], 305 ; 00000131H

; 1467 : 	Y_ORG = 283;

  0067b	c7 45 f0 1b 01
	00 00		 mov	 DWORD PTR _Y_ORG$[ebp], 283 ; 0000011bH

; 1468 : 					 draw_lamp (default_lamps.mfd_lamp_1 , X_ORG +   3, Y_ORG +   3,   3, 183,  24,  22,   0);

  00682	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  00687	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  0068a	83 e0 01	 and	 eax, 1
  0068d	74 57		 je	 SHORT $LN16@draw_defau
  0068f	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  00692	83 c0 03	 add	 eax, 3
  00695	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  0069a	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  0069d	83 c0 03	 add	 eax, 3
  006a0	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  006a5	c7 05 08 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 3
  006af	c7 05 0c 00 00
	00 b7 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 183 ; 000000b7H
  006b9	c7 05 10 00 00
	00 18 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 24 ; 00000018H
  006c3	c7 05 14 00 00
	00 16 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 22 ; 00000016H
  006cd	c6 05 18 00 00
	00 00		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 0
  006d4	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  006d9	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  006dc	50		 push	 eax
  006dd	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  006e0	51		 push	 ecx
  006e1	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN16@draw_defau:

; 1469 : 	Y_ORG += 23; draw_lamp (default_lamps.mfd_lamp_2 , X_ORG +   3, Y_ORG +  25,   3, 205,  24,  21,  13);

  006e6	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  006e9	83 c0 17	 add	 eax, 23			; 00000017H
  006ec	89 45 f0	 mov	 DWORD PTR _Y_ORG$[ebp], eax
  006ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?default_lamps@@3UDEFAULT_LAMP_FLAGS@@A ; default_lamps
  006f4	c1 e8 0f	 shr	 eax, 15			; 0000000fH
  006f7	83 e0 01	 and	 eax, 1
  006fa	74 57		 je	 SHORT $LN17@draw_defau
  006fc	8b 45 f4	 mov	 eax, DWORD PTR _X_ORG$[ebp]
  006ff	83 c0 03	 add	 eax, 3
  00702	a3 00 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A, eax
  00707	8b 45 f0	 mov	 eax, DWORD PTR _Y_ORG$[ebp]
  0070a	83 c0 19	 add	 eax, 25			; 00000019H
  0070d	a3 04 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+4, eax
  00712	c7 05 08 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+8, 3
  0071c	c7 05 0c 00 00
	00 cd 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+12, 205 ; 000000cdH
  00726	c7 05 10 00 00
	00 18 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+16, 24 ; 00000018H
  00730	c7 05 14 00 00
	00 15 00 00 00	 mov	 DWORD PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+20, 21 ; 00000015H
  0073a	c6 05 18 00 00
	00 0d		 mov	 BYTE PTR ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A+24, 13 ; 0000000dH
  00741	68 00 00 00 00	 push	 OFFSET ?sprite_values@@3URGB_ALPHA_MASKED_SPRITE_DATA@@A
  00746	8b 45 f8	 mov	 eax, DWORD PTR _mask_data$[ebp]
  00749	50		 push	 eax
  0074a	8b 4d fc	 mov	 ecx, DWORD PTR _sprite_data$[ebp]
  0074d	51		 push	 ecx
  0074e	e8 00 00 00 00	 call	 ?blit_rgb_alpha_masked_sprite@@YGXPBE0PBURGB_ALPHA_MASKED_SPRITE_DATA@@@Z ; blit_rgb_alpha_masked_sprite
$LN17@draw_defau:

; 1470 : 
; 1471 : 	unlock_screen (active_screen);

  00753	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  00758	50		 push	 eax
  00759	e8 00 00 00 00	 call	 ?unlock_screen@@YGHPAUSCREEN@@@Z ; unlock_screen

; 1472 : 
; 1473 : }

  0075e	5f		 pop	 edi
  0075f	5e		 pop	 esi
  00760	5b		 pop	 ebx
  00761	8b e5		 mov	 esp, ebp
  00763	5d		 pop	 ebp
  00764	c3		 ret	 0
?draw_default_indicator_lamps_3d@@YGXXZ ENDP		; draw_default_indicator_lamps_3d
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z
_TEXT	SEGMENT
tv148 = -124						; size = 4
tv140 = -120						; size = 4
tv90 = -120						; size = 4
_head_pitch_datum$ = -52				; size = 4
_vp$ = -48						; size = 48
_index$ = 8						; size = 4
_virtual_cockpit_inst3d$ = 12				; size = 4
?get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z PROC ; get_default_crew_viewpoint, COMDAT

; 1371 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1372 : 	viewpoint
; 1373 : 		vp;
; 1374 : 
; 1375 : 	float
; 1376 : 		head_pitch_datum;
; 1377 : 
; 1378 : 	head_pitch_datum = pilot_head_pitch_datum;

  00009	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch_datum@@3MA
  00011	f3 0f 11 45 cc	 movss	 DWORD PTR _head_pitch_datum$[ebp], xmm0

; 1379 : 
; 1380 : 	//
; 1381 : 	// rotate head
; 1382 : 	//
; 1383 : 
; 1384 : 	virtual_cockpit_inst3d->sub_objects[index].relative_heading = -pilot_head_heading;

  00016	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_heading@@3MA
  0001e	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00025	6b 45 08 30	 imul	 eax, DWORD PTR _index$[ebp], 48
  00029	8b 4d 0c	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0002c	8b 51 58	 mov	 edx, DWORD PTR [ecx+88]
  0002f	f3 0f 11 44 02
	18		 movss	 DWORD PTR [edx+eax+24], xmm0

; 1385 : 	virtual_cockpit_inst3d->sub_objects[index].relative_pitch = head_pitch_datum - pilot_head_pitch;

  00035	f3 0f 10 45 cc	 movss	 xmm0, DWORD PTR _head_pitch_datum$[ebp]
  0003a	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?pilot_head_pitch@@3MA
  00042	6b 45 08 30	 imul	 eax, DWORD PTR _index$[ebp], 48
  00046	8b 4d 0c	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00049	8b 51 58	 mov	 edx, DWORD PTR [ecx+88]
  0004c	f3 0f 11 44 02
	1c		 movss	 DWORD PTR [edx+eax+28], xmm0

; 1386 : 	virtual_cockpit_inst3d->sub_objects[index].relative_roll = 0.0;

  00052	6b 45 08 30	 imul	 eax, DWORD PTR _index$[ebp], 48
  00056	8b 4d 0c	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00059	8b 51 58	 mov	 edx, DWORD PTR [ecx+88]
  0005c	0f 57 c0	 xorps	 xmm0, xmm0
  0005f	f3 0f 11 44 02
	20		 movss	 DWORD PTR [edx+eax+32], xmm0

; 1387 : 
; 1388 : 	//
; 1389 : 	// get viewpoint (avoid jitter)
; 1390 : 	//
; 1391 : 
; 1392 : 	virtual_cockpit_inst3d->vp.x = 0.0;

  00065	8b 45 0c	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00068	0f 57 c0	 xorps	 xmm0, xmm0
  0006b	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 1393 : 	virtual_cockpit_inst3d->vp.y = 0.0;

  00070	8b 45 0c	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00073	0f 57 c0	 xorps	 xmm0, xmm0
  00076	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 1394 : 	virtual_cockpit_inst3d->vp.z = 0.0;

  0007b	8b 45 0c	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0007e	0f 57 c0	 xorps	 xmm0, xmm0
  00081	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 1395 : 
; 1396 : 	get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  00086	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0008d	74 0c		 je	 SHORT $LN3@get_defaul
  0008f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00094	8b 08		 mov	 ecx, DWORD PTR [eax]
  00096	89 4d 88	 mov	 DWORD PTR tv90[ebp], ecx
  00099	eb 21		 jmp	 SHORT $LN4@get_defaul
$LN3@get_defaul:
  0009b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  000a1	83 c2 19	 add	 edx, 25			; 00000019H
  000a4	52		 push	 edx
  000a5	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000af	50		 push	 eax
  000b0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b5	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN4@get_defaul:
  000bc	8b 4d 0c	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  000bf	83 c1 14	 add	 ecx, 20			; 00000014H
  000c2	51		 push	 ecx
  000c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000c9	52		 push	 edx
  000ca	8b 45 88	 mov	 eax, DWORD PTR tv90[ebp]
  000cd	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  000d4	ff d1		 call	 ecx

; 1397 : 
; 1398 : 	get_3d_sub_object_world_viewpoint (&virtual_cockpit_inst3d->sub_objects[index], &vp);

  000d6	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  000d9	50		 push	 eax
  000da	6b 4d 08 30	 imul	 ecx, DWORD PTR _index$[ebp], 48
  000de	8b 55 0c	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  000e1	03 4a 58	 add	 ecx, DWORD PTR [edx+88]
  000e4	51		 push	 ecx
  000e5	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 1399 : 
; 1400 : 	get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &pilot_head_vp.position);

  000ea	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000f1	74 0c		 je	 SHORT $LN5@get_defaul
  000f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000f8	8b 08		 mov	 ecx, DWORD PTR [eax]
  000fa	89 4d 88	 mov	 DWORD PTR tv140[ebp], ecx
  000fd	eb 21		 jmp	 SHORT $LN6@get_defaul
$LN5@get_defaul:
  000ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  00105	83 c2 1d	 add	 edx, 29			; 0000001dH
  00108	52		 push	 edx
  00109	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0010e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00113	50		 push	 eax
  00114	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00119	c7 45 88 00 00
	00 00		 mov	 DWORD PTR tv140[ebp], 0
$LN6@get_defaul:
  00120	b9 01 00 00 00	 mov	 ecx, 1
  00125	85 c9		 test	 ecx, ecx
  00127	74 09		 je	 SHORT $LN7@get_defaul
  00129	c7 45 84 08 00
	00 00		 mov	 DWORD PTR tv148[ebp], 8
  00130	eb 21		 jmp	 SHORT $LN8@get_defaul
$LN7@get_defaul:
  00132	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z@4JA
  00138	83 c2 1d	 add	 edx, 29			; 0000001dH
  0013b	52		 push	 edx
  0013c	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00141	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00146	50		 push	 eax
  00147	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0014c	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv148[ebp], 0
$LN8@get_defaul:
  00153	68 00 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A ; pilot_head_vp
  00158	6a 08		 push	 8
  0015a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00160	51		 push	 ecx
  00161	6b 55 88 60	 imul	 edx, DWORD PTR tv140[ebp], 96
  00165	8b 45 84	 mov	 eax, DWORD PTR tv148[ebp]
  00168	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[edx+eax*4]
  0016f	ff d1		 call	 ecx

; 1401 : 
; 1402 : // x,y,z is here north south east west!
; 1403 : //inserting fixed values here does not work because of head movement
; 1404 : 
; 1405 : 	pilot_head_vp.x += vp.x;

  00171	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A
  00179	f3 0f 58 45 d0	 addss	 xmm0, DWORD PTR _vp$[ebp]
  0017e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A, xmm0

; 1406 : 	pilot_head_vp.y += vp.y;

  00186	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4
  0018e	f3 0f 58 45 d4	 addss	 xmm0, DWORD PTR _vp$[ebp+4]
  00193	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4, xmm0

; 1407 : 	pilot_head_vp.z += vp.z;

  0019b	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8
  001a3	f3 0f 58 45 d8	 addss	 xmm0, DWORD PTR _vp$[ebp+8]
  001a8	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8, xmm0

; 1408 : 
; 1409 : 	memcpy (pilot_head_vp.attitude, vp.attitude, sizeof (matrix3x3));

  001b0	6a 24		 push	 36			; 00000024H
  001b2	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  001b5	50		 push	 eax
  001b6	68 0c 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A+12
  001bb	e8 00 00 00 00	 call	 _memcpy
  001c0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1410 : 
; 1411 : 	vp.x = -vp.x;

  001c3	f3 0f 10 45 d0	 movss	 xmm0, DWORD PTR _vp$[ebp]
  001c8	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  001cf	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1412 : 	vp.y = -vp.y;

  001d4	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _vp$[ebp+4]
  001d9	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  001e0	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1413 : 	vp.z = -vp.z;

  001e5	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _vp$[ebp+8]
  001ea	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  001f1	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1414 : 
; 1415 : 	multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, pilot_head_vp.attitude, &vp.position);

  001f6	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  001f9	50		 push	 eax
  001fa	68 0c 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A+12
  001ff	8b 4d 0c	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00202	83 c1 08	 add	 ecx, 8
  00205	51		 push	 ecx
  00206	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 1416 : 
; 1417 : 
; 1418 : }

  0020b	5f		 pop	 edi
  0020c	5e		 pop	 esi
  0020d	5b		 pop	 ebx
  0020e	8b e5		 mov	 esp, ebp
  00210	5d		 pop	 ebp
  00211	c2 08 00	 ret	 8
?get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z ENDP ; get_default_crew_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?draw_default_external_virtual_cockpit_3d@@YGXI@Z
_TEXT	SEGMENT
tv163 = -208						; size = 4
tv137 = -208						; size = 4
tv155 = -204						; size = 4
tv130 = -204						; size = 4
tv70 = -204						; size = 4
_roll$1 = -136						; size = 4
_pitch$2 = -132						; size = 4
_heading$3 = -128					; size = 4
_roll$4 = -124						; size = 4
_pitch$5 = -120						; size = 4
_heading$6 = -116					; size = 4
_inst3d$ = -112						; size = 4
_theta$ = -108						; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
?draw_default_external_virtual_cockpit_3d@@YGXI@Z PROC	; draw_default_external_virtual_cockpit_3d, COMDAT

; 1065 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1066 : 	viewpoint
; 1067 : 		vp;
; 1068 : 
; 1069 : 	object_3d_sub_object_search_data
; 1070 : 		search;
; 1071 : 
; 1072 : 	float
; 1073 : 		theta;
; 1074 : 
; 1075 : 	object_3d_instance
; 1076 : 		*inst3d;
; 1077 : 
; 1078 : 	////////////////////////////////////////
; 1079 : 	//
; 1080 : 	// virtual cockpit viewpoint is placed at the main object origin
; 1081 : 	//
; 1082 : 	////////////////////////////////////////
; 1083 : 
; 1084 : //NO wideview for 3d cockpit
; 1085 : //#ifndef DEBUG_WIDEVIEW
; 1086 : 	set_global_wide_cockpit(FALSE);

  0000c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 1087 :    edit_wide_cockpit = FALSE;

  00016	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?edit_wide_cockpit@@3HA, 0 ; edit_wide_cockpit

; 1088 : 
; 1089 : //#endif
; 1090 : 
; 1091 : 
; 1092 : 		vp.x = 0.0;

  00020	0f 57 c0	 xorps	 xmm0, xmm0
  00023	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1093 : 		vp.y = 0.0;

  00028	0f 57 c0	 xorps	 xmm0, xmm0
  0002b	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1094 : 		vp.z = 0.0;

  00030	0f 57 c0	 xorps	 xmm0, xmm0
  00033	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1095 : 
; 1096 : 		get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  00038	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0003f	74 0f		 je	 SHORT $LN25@draw_defau
  00041	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00046	8b 08		 mov	 ecx, DWORD PTR [eax]
  00048	89 8d 34 ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0004e	eb 24		 jmp	 SHORT $LN26@draw_defau
$LN25@draw_defau:
  00050	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_default_external_virtual_cockpit_3d@@YGXI@Z@4JA
  00056	83 c2 1f	 add	 edx, 31			; 0000001fH
  00059	52		 push	 edx
  0005a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00064	50		 push	 eax
  00065	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006a	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN26@draw_defau:
  00074	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  00077	51		 push	 ecx
  00078	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007e	52		 push	 edx
  0007f	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv70[ebp]
  00085	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  0008c	ff d1		 call	 ecx

; 1097 : 
; 1098 : 	////////////////////////////////////////
; 1099 : 	//
; 1100 : 	// draw 3D scene without lighting
; 1101 : 	//
; 1102 : 	////////////////////////////////////////
; 1103 : 
; 1104 : 	if (flags & (VIRTUAL_COCKPIT_MAIN_ROTOR | VIRTUAL_COCKPIT_STOWED_WIPER | VIRTUAL_COCKPIT_MOVING_WIPER))

  0008e	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00091	25 00 d0 00 00	 and	 eax, 53248		; 0000d000H
  00096	0f 84 af 02 00
	00		 je	 $LN3@draw_defau

; 1105 : 	{
; 1106 : 		set_3d_active_environment (main_3d_env);

  0009c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  000a1	50		 push	 eax
  000a2	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1107 : 
; 1108 : 		set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  000a7	51		 push	 ecx
  000a8	0f 57 c0	 xorps	 xmm0, xmm0
  000ab	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b0	51		 push	 ecx
  000b1	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000b9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000be	51		 push	 ecx
  000bf	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  000c7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000cc	51		 push	 ecx
  000cd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  000d5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  000df	50		 push	 eax
  000e0	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1109 : 
; 1110 : 		realise_3d_clip_extents (main_3d_env);

  000e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  000ea	50		 push	 eax
  000eb	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1111 : 
; 1112 : 		recalculate_3d_environment_settings (main_3d_env);

  000f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  000f5	50		 push	 eax
  000f6	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1113 : 
; 1114 : 		clear_zbuffer_screen ();

  000fb	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1115 : 
; 1116 : /*
; 1117 : 		vp.x += dx;
; 1118 : 		vp.y += dy;
; 1119 : 		vp.z += dz;
; 1120 : 		  vp.x = wide_cockpit_position[wide_cockpit_nr].c.x;
; 1121 : 		  vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;
; 1122 : 		  vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;
; 1123 : */
; 1124 : 			vp.x = BASE_DX;

  00100	0f 57 c0	 xorps	 xmm0, xmm0
  00103	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1125 : 			vp.y = BASE_DY - 0.164;

  00108	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d1374bc
  00110	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1126 : 			vp.z = BASE_DZ;

  00115	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e4ccccd
  0011d	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1127 : 
; 1128 : 		if (begin_3d_scene ())

  00122	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00127	85 c0		 test	 eax, eax
  00129	0f 84 1c 02 00
	00		 je	 $LN3@draw_defau

; 1129 : 		{
; 1130 : 			//
; 1131 : 			// main rotor
; 1132 : 			//
; 1133 : 
; 1134 : 			if (flags & VIRTUAL_COCKPIT_MAIN_ROTOR)

  0012f	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00132	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  00137	0f 84 d3 01 00
	00		 je	 $LN5@draw_defau

; 1135 : 			{
; 1136 : 				if (!(get_helicopter_main_rotors_blurred (get_gunship_entity ()) && (!get_global_blurred_main_rotors_visible_from_cockpit ())))

  0013d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00142	50		 push	 eax
  00143	e8 00 00 00 00	 call	 ?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z ; get_helicopter_main_rotors_blurred
  00148	85 c0		 test	 eax, eax
  0014a	74 0d		 je	 SHORT $LN6@draw_defau
  0014c	83 3d 1c 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+28, 0
  00153	0f 84 b7 01 00
	00		 je	 $LN5@draw_defau
$LN6@draw_defau:

; 1137 : 				{
; 1138 : 					if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_MAIN_ROTOR_DAMAGED))

  00159	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00160	74 0f		 je	 SHORT $LN27@draw_defau
  00162	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00167	8b 08		 mov	 ecx, DWORD PTR [eax]
  00169	89 8d 34 ff ff
	ff		 mov	 DWORD PTR tv130[ebp], ecx
  0016f	eb 20		 jmp	 SHORT $LN28@draw_defau
$LN27@draw_defau:
  00171	68 72 04 00 00	 push	 1138			; 00000472H
  00176	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00181	52		 push	 edx
  00182	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00187	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv130[ebp], 0
$LN28@draw_defau:
  00191	b8 01 00 00 00	 mov	 eax, 1
  00196	85 c0		 test	 eax, eax
  00198	74 0c		 je	 SHORT $LN29@draw_defau
  0019a	c7 85 30 ff ff
	ff 81 00 00 00	 mov	 DWORD PTR tv137[ebp], 129 ; 00000081H
  001a4	eb 20		 jmp	 SHORT $LN30@draw_defau
$LN29@draw_defau:
  001a6	68 72 04 00 00	 push	 1138			; 00000472H
  001ab	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001b6	51		 push	 ecx
  001b7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001bc	c7 85 30 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv137[ebp], 0
$LN30@draw_defau:
  001c6	68 81 00 00 00	 push	 129			; 00000081H
  001cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001d1	52		 push	 edx
  001d2	69 85 34 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv130[ebp], 1116
  001dc	8b 8d 30 ff ff
	ff		 mov	 ecx, DWORD PTR tv137[ebp]
  001e2	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  001e9	ff d2		 call	 edx
  001eb	85 c0		 test	 eax, eax
  001ed	74 0f		 je	 SHORT $LN7@draw_defau

; 1139 : 					{
; 1140 : 						animate_damaged_helicopter_main_rotors (get_gunship_entity (), TRUE);

  001ef	6a 01		 push	 1
  001f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001f6	50		 push	 eax
  001f7	e8 00 00 00 00	 call	 ?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z ; animate_damaged_helicopter_main_rotors

; 1141 : 					}
; 1142 : 					else

  001fc	eb 0f		 jmp	 SHORT $LN8@draw_defau
$LN7@draw_defau:

; 1143 : 					{
; 1144 : 						animate_helicopter_main_rotors (get_gunship_entity (), TRUE, FALSE);

  001fe	6a 00		 push	 0
  00200	6a 01		 push	 1
  00202	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00207	50		 push	 eax
  00208	e8 00 00 00 00	 call	 ?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z ; animate_helicopter_main_rotors
$LN8@draw_defau:

; 1145 : 					}
; 1146 : 
; 1147 : 					inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0020d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00214	74 0f		 je	 SHORT $LN31@draw_defau
  00216	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0021b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0021d	89 8d 34 ff ff
	ff		 mov	 DWORD PTR tv155[ebp], ecx
  00223	eb 24		 jmp	 SHORT $LN32@draw_defau
$LN31@draw_defau:
  00225	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_default_external_virtual_cockpit_3d@@YGXI@Z@4JA
  0022b	83 c2 52	 add	 edx, 82			; 00000052H
  0022e	52		 push	 edx
  0022f	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00234	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00239	50		 push	 eax
  0023a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0023f	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv155[ebp], 0
$LN32@draw_defau:
  00249	b9 01 00 00 00	 mov	 ecx, 1
  0024e	85 c9		 test	 ecx, ecx
  00250	74 0c		 je	 SHORT $LN33@draw_defau
  00252	c7 85 30 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv163[ebp], 2
  0025c	eb 24		 jmp	 SHORT $LN34@draw_defau
$LN33@draw_defau:
  0025e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_default_external_virtual_cockpit_3d@@YGXI@Z@4JA
  00264	83 c2 52	 add	 edx, 82			; 00000052H
  00267	52		 push	 edx
  00268	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00272	50		 push	 eax
  00273	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00278	c7 85 30 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv163[ebp], 0
$LN34@draw_defau:
  00282	6a 02		 push	 2
  00284	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0028a	51		 push	 ecx
  0028b	6b 95 34 ff ff
	ff 50		 imul	 edx, DWORD PTR tv155[ebp], 80
  00292	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv163[ebp]
  00298	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  0029f	ff d1		 call	 ecx
  002a1	89 45 90	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1148 : 
; 1149 : 					theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  002a4	8b 45 90	 mov	 eax, DWORD PTR _inst3d$[ebp]
  002a7	50		 push	 eax
  002a8	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  002ad	d9 5d 94	 fstp	 DWORD PTR _theta$[ebp]

; 1150 : 
; 1151 : 					set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  002b0	51		 push	 ecx
  002b1	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _theta$[ebp]
  002b6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002c0	50		 push	 eax
  002c1	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1152 : 
; 1153 : 					animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  002c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002cb	50		 push	 eax
  002cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002d2	51		 push	 ecx
  002d3	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1154 : 
; 1155 : 					memcpy (&virtual_cockpit_main_rotor_inst3d->vp, &vp, sizeof (viewpoint));

  002d8	6a 30		 push	 48			; 00000030H
  002da	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  002dd	50		 push	 eax
  002de	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002e4	83 c1 08	 add	 ecx, 8
  002e7	51		 push	 ecx
  002e8	e8 00 00 00 00	 call	 _memcpy
  002ed	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1156 : 
; 1157 : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_main_rotor_inst3d->vp.position, virtual_cockpit_main_rotor_inst3d);

  002f0	51		 push	 ecx
  002f1	0f 57 c0	 xorps	 xmm0, xmm0
  002f4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002fe	50		 push	 eax
  002ff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00305	83 c1 08	 add	 ecx, 8
  00308	51		 push	 ecx
  00309	6a 02		 push	 2
  0030b	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN5@draw_defau:

; 1158 : 				}
; 1159 : 			}
; 1160 : 
; 1161 : 			//
; 1162 : 			// wiper
; 1163 : 			//
; 1164 : 
; 1165 : 			if (wiper_mode == WIPER_MODE_STOWED)

  00310	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wiper_mode@@3W4WIPER_MODES@@A, 0 ; wiper_mode
  00317	75 15		 jne	 SHORT $LN9@draw_defau

; 1166 : 			{
; 1167 : 				if (flags & VIRTUAL_COCKPIT_STOWED_WIPER)

  00319	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0031c	25 00 40 00 00	 and	 eax, 16384		; 00004000H
  00321	74 09		 je	 SHORT $LN11@draw_defau

; 1168 : 				{
; 1169 : 					draw_default_virtual_cockpit_wiper (&vp);

  00323	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00326	50		 push	 eax
  00327	e8 00 00 00 00	 call	 ?draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z ; draw_default_virtual_cockpit_wiper
$LN11@draw_defau:

; 1170 : 				}
; 1171 : 			}
; 1172 : 			else

  0032c	eb 13		 jmp	 SHORT $LN12@draw_defau
$LN9@draw_defau:

; 1173 : 			{
; 1174 : 				if (flags & VIRTUAL_COCKPIT_MOVING_WIPER)

  0032e	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00331	25 00 80 00 00	 and	 eax, 32768		; 00008000H
  00336	74 09		 je	 SHORT $LN12@draw_defau

; 1175 : 				{
; 1176 : 					draw_default_virtual_cockpit_wiper (&vp);

  00338	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0033b	50		 push	 eax
  0033c	e8 00 00 00 00	 call	 ?draw_default_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z ; draw_default_virtual_cockpit_wiper
$LN12@draw_defau:

; 1177 : 				}
; 1178 : 			}
; 1179 : 
; 1180 : 			draw_3d_scene ();

  00341	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1181 : 
; 1182 : 			end_3d_scene ();

  00346	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN3@draw_defau:

; 1183 : 		}
; 1184 : 	}
; 1185 : 
; 1186 : 	////////////////////////////////////////
; 1187 : 	//
; 1188 : 	// draw 3D scene with lighting
; 1189 : 	//
; 1190 : 	////////////////////////////////////////
; 1191 : 
; 1192 : 	if (flags & (VIRTUAL_COCKPIT_COMPASS | VIRTUAL_COCKPIT_ADI | VIRTUAL_COCKPIT_LARGE_ADI))

  0034b	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0034e	25 80 05 00 00	 and	 eax, 1408		; 00000580H
  00353	0f 84 91 02 00
	00		 je	 $LN14@draw_defau

; 1193 : 	{
; 1194 : 		set_cockpit_lighting (vp.attitude);

  00359	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  0035c	50		 push	 eax
  0035d	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 1195 : 
; 1196 : 		set_3d_active_environment (main_3d_single_light_env);

  00362	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00367	50		 push	 eax
  00368	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1197 : 
; 1198 : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  0036d	51		 push	 ecx
  0036e	0f 57 c0	 xorps	 xmm0, xmm0
  00371	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00376	51		 push	 ecx
  00377	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0037f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00384	51		 push	 ecx
  00385	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  0038d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00392	51		 push	 ecx
  00393	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  0039b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  003a5	50		 push	 eax
  003a6	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1199 : 
; 1200 : 		realise_3d_clip_extents (main_3d_single_light_env);

  003ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  003b0	50		 push	 eax
  003b1	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1201 : 
; 1202 : 		clear_zbuffer_screen ();

  003b6	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1203 : 
; 1204 : 		vp.x = BASE_DX;

  003bb	0f 57 c0	 xorps	 xmm0, xmm0
  003be	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1205 : 		vp.y = BASE_DY;

  003c3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e4ccccd
  003cb	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1206 : 		vp.z = BASE_DZ-0.1;

  003d0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  003d8	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1207 : /*
; 1208 : 		vp.x = BASE_DX+dx;
; 1209 : 		vp.y = BASE_DY+dy;
; 1210 : 		vp.z = BASE_DZ+dz;
; 1211 : 
; 1212 : 			vp.x = wide_cockpit_position[wide_cockpit_nr].c.x;
; 1213 : 			vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;
; 1214 : 			vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;
; 1215 : */
; 1216 : //VJ#
; 1217 : 
; 1218 : 		if (begin_3d_scene ())

  003dd	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  003e2	85 c0		 test	 eax, eax
  003e4	0f 84 00 02 00
	00		 je	 $LN14@draw_defau

; 1219 : 		{
; 1220 : 			//
; 1221 : 			// compass
; 1222 : 			//
; 1223 : 			if (flags & VIRTUAL_COCKPIT_COMPASS)

  003ea	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  003ed	25 00 04 00 00	 and	 eax, 1024		; 00000400H
  003f2	74 78		 je	 SHORT $LN15@draw_defau

; 1224 : 			{
; 1225 : 				search.search_depth = 0;

  003f4	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1226 : 				search.search_object = virtual_cockpit_compass_inst3d;

  003fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00400	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1227 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_COMPASS_HEADING_NULL;

  00403	c7 45 a4 6e 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 110 ; 0000006eH

; 1228 : 
; 1229 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0040a	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0040d	50		 push	 eax
  0040e	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00413	83 f8 01	 cmp	 eax, 1
  00416	75 1c		 jne	 SHORT $LN16@draw_defau

; 1230 : 				{
; 1231 : 					search.result_sub_object->relative_heading = -current_flight_dynamics->heading.value;

  00418	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0041d	f3 0f 10 80 8c
	21 00 00	 movss	 xmm0, DWORD PTR [eax+8588]
  00425	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0042c	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0042f	f3 0f 11 41 18	 movss	 DWORD PTR [ecx+24], xmm0
$LN16@draw_defau:

; 1232 : 				}
; 1233 : 
; 1234 : 				memcpy (&virtual_cockpit_compass_inst3d->vp, &vp, sizeof (viewpoint));

  00434	6a 30		 push	 48			; 00000030H
  00436	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00439	50		 push	 eax
  0043a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00440	83 c1 08	 add	 ecx, 8
  00443	51		 push	 ecx
  00444	e8 00 00 00 00	 call	 _memcpy
  00449	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1235 : 
; 1236 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_compass_inst3d->vp.position, virtual_cockpit_compass_inst3d);

  0044c	51		 push	 ecx
  0044d	0f 57 c0	 xorps	 xmm0, xmm0
  00450	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00455	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0045a	50		 push	 eax
  0045b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00461	83 c1 08	 add	 ecx, 8
  00464	51		 push	 ecx
  00465	6a 02		 push	 2
  00467	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN15@draw_defau:

; 1237 : 			}
; 1238 : 
; 1239 : 			//
; 1240 : 			// ADI
; 1241 : 			//
; 1242 : 			/*
; 1243 : 			  vp.x = wide_cockpit_position[wide_cockpit_nr].c.x;
; 1244 : 			  vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;
; 1245 : 			  vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;
; 1246 : 			vp.x += 0.0;
; 1247 : 			vp.y += 0.22;
; 1248 : 			vp.z += 0.18;
; 1249 : */
; 1250 : 
; 1251 : 
; 1252 : 			if (flags & VIRTUAL_COCKPIT_ADI)

  0046c	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0046f	25 80 00 00 00	 and	 eax, 128		; 00000080H
  00474	0f 84 a6 00 00
	00		 je	 $LN17@draw_defau

; 1253 : 			{
; 1254 : 				search.search_depth = 0;

  0047a	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1255 : 				search.search_object = virtual_cockpit_adi_inst3d;

  00481	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00486	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1256 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI;

  00489	c7 45 a4 6c 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 108 ; 0000006cH

; 1257 : 
; 1258 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00490	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00493	50		 push	 eax
  00494	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00499	83 f8 01	 cmp	 eax, 1
  0049c	75 4a		 jne	 SHORT $LN18@draw_defau

; 1259 : 				{
; 1260 : 					float
; 1261 : 						heading,
; 1262 : 						pitch,
; 1263 : 						roll;
; 1264 : 
; 1265 : 					get_default_virtual_cockpit_adi_angles (vp.attitude, &heading, &pitch, &roll);

  0049e	8d 45 84	 lea	 eax, DWORD PTR _roll$4[ebp]
  004a1	50		 push	 eax
  004a2	8d 4d 88	 lea	 ecx, DWORD PTR _pitch$5[ebp]
  004a5	51		 push	 ecx
  004a6	8d 55 8c	 lea	 edx, DWORD PTR _heading$6[ebp]
  004a9	52		 push	 edx
  004aa	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  004ad	50		 push	 eax
  004ae	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z ; get_default_virtual_cockpit_adi_angles

; 1266 : 
; 1267 : 					search.result_sub_object->relative_heading = -heading;

  004b3	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _heading$6[ebp]
  004b8	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  004bf	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004c2	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 1268 : 
; 1269 : 					search.result_sub_object->relative_pitch = pitch;

  004c7	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004ca	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _pitch$5[ebp]
  004cf	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 1270 : 
; 1271 : 					search.result_sub_object->relative_roll = -roll;

  004d4	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _roll$4[ebp]
  004d9	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  004e0	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004e3	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN18@draw_defau:

; 1272 : 				}
; 1273 : 
; 1274 : 				memcpy (&virtual_cockpit_adi_inst3d->vp, &vp, sizeof (viewpoint));

  004e8	6a 30		 push	 48			; 00000030H
  004ea	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  004ed	50		 push	 eax
  004ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004f4	83 c1 08	 add	 ecx, 8
  004f7	51		 push	 ecx
  004f8	e8 00 00 00 00	 call	 _memcpy
  004fd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1275 : 
; 1276 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_adi_inst3d->vp.position, virtual_cockpit_adi_inst3d);

  00500	51		 push	 ecx
  00501	0f 57 c0	 xorps	 xmm0, xmm0
  00504	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00509	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0050e	50		 push	 eax
  0050f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00515	83 c1 08	 add	 ecx, 8
  00518	51		 push	 ecx
  00519	6a 02		 push	 2
  0051b	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN17@draw_defau:

; 1277 : 			}
; 1278 : 
; 1279 : 			//
; 1280 : 			// large ADI
; 1281 : 			//
; 1282 : 
; 1283 : 			if (flags & VIRTUAL_COCKPIT_LARGE_ADI)

  00520	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00523	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00528	0f 84 b2 00 00
	00		 je	 $LN19@draw_defau

; 1284 : 			{
; 1285 : 				search.search_depth = 0;

  0052e	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1286 : 				search.search_object = virtual_cockpit_large_adi_inst3d;

  00535	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0053a	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1287 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI;

  0053d	c7 45 a4 6c 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 108 ; 0000006cH

; 1288 : 
; 1289 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00544	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00547	50		 push	 eax
  00548	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0054d	83 f8 01	 cmp	 eax, 1
  00550	75 56		 jne	 SHORT $LN20@draw_defau

; 1290 : 				{
; 1291 : 					float
; 1292 : 						heading,
; 1293 : 						pitch,
; 1294 : 						roll;
; 1295 : 
; 1296 : 					get_default_virtual_cockpit_adi_angles (vp.attitude, &heading, &pitch, &roll);

  00552	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _roll$1[ebp]
  00558	50		 push	 eax
  00559	8d 8d 7c ff ff
	ff		 lea	 ecx, DWORD PTR _pitch$2[ebp]
  0055f	51		 push	 ecx
  00560	8d 55 80	 lea	 edx, DWORD PTR _heading$3[ebp]
  00563	52		 push	 edx
  00564	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00567	50		 push	 eax
  00568	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z ; get_default_virtual_cockpit_adi_angles

; 1297 : 
; 1298 : 					search.result_sub_object->relative_heading = -heading;

  0056d	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _heading$3[ebp]
  00572	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00579	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0057c	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 1299 : 
; 1300 : 					search.result_sub_object->relative_pitch = pitch;

  00581	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00584	f3 0f 10 85 7c
	ff ff ff	 movss	 xmm0, DWORD PTR _pitch$2[ebp]
  0058c	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 1301 : 
; 1302 : 					search.result_sub_object->relative_roll = -roll;

  00591	f3 0f 10 85 78
	ff ff ff	 movss	 xmm0, DWORD PTR _roll$1[ebp]
  00599	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  005a0	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  005a3	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN20@draw_defau:

; 1303 : 				}
; 1304 : 
; 1305 : 				memcpy (&virtual_cockpit_large_adi_inst3d->vp, &vp, sizeof (viewpoint));

  005a8	6a 30		 push	 48			; 00000030H
  005aa	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  005ad	50		 push	 eax
  005ae	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005b4	83 c1 08	 add	 ecx, 8
  005b7	51		 push	 ecx
  005b8	e8 00 00 00 00	 call	 _memcpy
  005bd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1306 : 
; 1307 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_large_adi_inst3d->vp.position, virtual_cockpit_large_adi_inst3d);

  005c0	51		 push	 ecx
  005c1	0f 57 c0	 xorps	 xmm0, xmm0
  005c4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005ce	50		 push	 eax
  005cf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005d5	83 c1 08	 add	 ecx, 8
  005d8	51		 push	 ecx
  005d9	6a 02		 push	 2
  005db	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN19@draw_defau:

; 1308 : 			}
; 1309 : 
; 1310 : 			draw_3d_scene ();

  005e0	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1311 : 
; 1312 : 			end_3d_scene ();

  005e5	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN14@draw_defau:

; 1313 : 		}
; 1314 : 	}
; 1315 : 
; 1316 : 	////////////////////////////////////////
; 1317 : 	//
; 1318 : 	// rain effect
; 1319 : 	//
; 1320 : 	////////////////////////////////////////
; 1321 : 
; 1322 : 	if (flags & VIRTUAL_COCKPIT_RAIN_EFFECT)

  005ea	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  005ed	25 00 00 01 00	 and	 eax, 65536		; 00010000H
  005f2	0f 84 8d 00 00
	00		 je	 $LN23@draw_defau

; 1323 : 	{
; 1324 : 		if (rain_mode != RAIN_MODE_DRY)

  005f8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?rain_mode@@3W4RAIN_MODES@@A, 0 ; rain_mode
  005ff	0f 84 80 00 00
	00		 je	 $LN23@draw_defau

; 1325 : 		{
; 1326 : 			set_3d_active_environment (main_3d_env);

  00605	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0060a	50		 push	 eax
  0060b	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1327 : 
; 1328 : 			set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  00610	51		 push	 ecx
  00611	0f 57 c0	 xorps	 xmm0, xmm0
  00614	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00619	51		 push	 ecx
  0061a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00622	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00627	51		 push	 ecx
  00628	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00630	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00635	51		 push	 ecx
  00636	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  0063e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00643	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00648	50		 push	 eax
  00649	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1329 : 
; 1330 : 			realise_3d_clip_extents (main_3d_env);

  0064e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00653	50		 push	 eax
  00654	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1331 : 
; 1332 : 			recalculate_3d_environment_settings (main_3d_env);

  00659	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0065e	50		 push	 eax
  0065f	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1333 : 
; 1334 : 			clear_zbuffer_screen ();

  00664	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1335 : 
; 1336 : 			if (begin_3d_scene ())

  00669	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  0066e	85 c0		 test	 eax, eax
  00670	74 13		 je	 SHORT $LN23@draw_defau

; 1337 : 			{
; 1338 : 				draw_default_virtual_cockpit_rain_effect (&vp);

  00672	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00675	50		 push	 eax
  00676	e8 00 00 00 00	 call	 ?draw_default_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z ; draw_default_virtual_cockpit_rain_effect

; 1339 : 
; 1340 : 				draw_3d_scene ();

  0067b	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1341 : 
; 1342 : 				end_3d_scene ();

  00680	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN23@draw_defau:

; 1343 : 			}
; 1344 : 		}
; 1345 : 	}
; 1346 : 
; 1347 : 	////////////////////////////////////////
; 1348 : 	//
; 1349 : 	// tidy up
; 1350 : 	//
; 1351 : 	////////////////////////////////////////
; 1352 : 
; 1353 : 	#if RECOGNITION_GUIDE
; 1354 : 
; 1355 : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 1356 : 
; 1357 : 	#else
; 1358 : 
; 1359 : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00685	51		 push	 ecx
  00686	0f 57 c0	 xorps	 xmm0, xmm0
  00689	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0068e	51		 push	 ecx
  0068f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00697	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0069c	51		 push	 ecx
  0069d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  006a5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006aa	51		 push	 ecx
  006ab	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  006b3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  006bd	50		 push	 eax
  006be	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1360 : 
; 1361 : 	#endif
; 1362 : 
; 1363 : 	realise_3d_clip_extents (main_3d_env);

  006c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  006c8	50		 push	 eax
  006c9	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1364 : }

  006ce	5f		 pop	 edi
  006cf	5e		 pop	 esi
  006d0	5b		 pop	 ebx
  006d1	8b e5		 mov	 esp, ebp
  006d3	5d		 pop	 ebp
  006d4	c2 04 00	 ret	 4
?draw_default_external_virtual_cockpit_3d@@YGXI@Z ENDP	; draw_default_external_virtual_cockpit_3d
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?draw_default_internal_virtual_cockpit_3d@@YGXI@Z
_TEXT	SEGMENT
tv472 = -196						; size = 4
tv147 = -196						; size = 4
tv466 = -192						; size = 4
tv141 = -192						; size = 4
tv459 = -188						; size = 4
tv134 = -188						; size = 4
tv70 = -188						; size = 4
_seconds$1 = -120					; size = 4
_minutes$2 = -116					; size = 4
_hours$3 = -112						; size = 4
_virtual_cockpit_inst3d$ = -108				; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
?draw_default_internal_virtual_cockpit_3d@@YGXI@Z PROC	; draw_default_internal_virtual_cockpit_3d, COMDAT

; 427  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 428  : 
; 429  : 	viewpoint
; 430  : 		vp;
; 431  : 
; 432  : 	object_3d_sub_object_search_data
; 433  : 		search;
; 434  : 
; 435  : 	object_3d_instance
; 436  : 		*virtual_cockpit_inst3d;
; 437  : 
; 438  : 
; 439  : //#ifndef DEBUG_WIDEVIEW
; 440  :    set_global_wide_cockpit(FALSE);

  0000c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 441  :    edit_wide_cockpit = FALSE;

  00016	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?edit_wide_cockpit@@3HA, 0 ; edit_wide_cockpit

; 442  : //#endif
; 443  : 	////////////////////////////////////////
; 444  : 	//
; 445  : 	// virtual cockpit viewpoint is placed at the main object origin
; 446  : 	//
; 447  : 	////////////////////////////////////////
; 448  : 
; 449  : 	vp.x = 0.0;

  00020	0f 57 c0	 xorps	 xmm0, xmm0
  00023	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 450  : 	vp.y = 0.0;

  00028	0f 57 c0	 xorps	 xmm0, xmm0
  0002b	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 451  : 	vp.z = 0.0;

  00030	0f 57 c0	 xorps	 xmm0, xmm0
  00033	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 452  : 
; 453  : 	get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  00038	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0003f	74 0f		 je	 SHORT $LN46@draw_defau
  00041	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00046	8b 08		 mov	 ecx, DWORD PTR [eax]
  00048	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0004e	eb 24		 jmp	 SHORT $LN47@draw_defau
$LN46@draw_defau:
  00050	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_default_internal_virtual_cockpit_3d@@YGXI@Z@4JA
  00056	83 c2 1a	 add	 edx, 26			; 0000001aH
  00059	52		 push	 edx
  0005a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00064	50		 push	 eax
  00065	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006a	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN47@draw_defau:
  00074	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  00077	51		 push	 ecx
  00078	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007e	52		 push	 edx
  0007f	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR tv70[ebp]
  00085	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  0008c	ff d1		 call	 ecx

; 454  : 
; 455  : 	////////////////////////////////////////
; 456  : 	//
; 457  : 	// render displays onto textures (before draw 3D scenes)
; 458  : 	//
; 459  : 	////////////////////////////////////////
; 460  : 
; 461  : 	if (flags & VIRTUAL_COCKPIT_UPFRONT_DISPLAY)

  0008e	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00091	25 00 00 08 00	 and	 eax, 524288		; 00080000H
  00096	74 05		 je	 SHORT $LN6@draw_defau

; 462  : 	{
; 463  : 		draw_default_upfront_display_on_texture ();

  00098	e8 00 00 00 00	 call	 ?draw_default_upfront_display_on_texture@@YGXXZ ; draw_default_upfront_display_on_texture
$LN6@draw_defau:

; 464  : 	}
; 465  : 
; 466  : 	if (flags & VIRTUAL_COCKPIT_LHS_MFD_DISPLAY)

  0009d	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  000a0	83 e0 20	 and	 eax, 32			; 00000020H
  000a3	74 07		 je	 SHORT $LN7@draw_defau

; 467  : 	{
; 468  : 		draw_default_mfd_on_texture (MFD_LOCATION_LHS);

  000a5	6a 00		 push	 0
  000a7	e8 00 00 00 00	 call	 ?draw_default_mfd_on_texture@@YGXW4MFD_LOCATIONS@@@Z ; draw_default_mfd_on_texture
$LN7@draw_defau:

; 469  : 	}
; 470  : 
; 471  : 	if (flags & VIRTUAL_COCKPIT_RHS_MFD_DISPLAY)

  000ac	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  000af	83 e0 40	 and	 eax, 64			; 00000040H
  000b2	74 07		 je	 SHORT $LN8@draw_defau

; 472  : 	{
; 473  : 		draw_default_mfd_on_texture (MFD_LOCATION_RHS);

  000b4	6a 01		 push	 1
  000b6	e8 00 00 00 00	 call	 ?draw_default_mfd_on_texture@@YGXW4MFD_LOCATIONS@@@Z ; draw_default_mfd_on_texture
$LN8@draw_defau:

; 474  : 	}
; 475  : 
; 476  : 	////////////////////////////////////////
; 477  : 	//
; 478  : 	// draw 3D scene with lighting
; 479  : 	//
; 480  : 	////////////////////////////////////////
; 481  : 
; 482  : 	if (flags & (VIRTUAL_COCKPIT_COCKPIT))

  000bb	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  000be	83 e0 01	 and	 eax, 1
  000c1	0f 84 f2 02 00
	00		 je	 $LN10@draw_defau

; 483  : 	{
; 484  : 		set_cockpit_white_lighting (vp.attitude);

  000c7	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  000ca	50		 push	 eax
  000cb	e8 00 00 00 00	 call	 ?set_cockpit_white_lighting@@YGXQAY02M@Z ; set_cockpit_white_lighting

; 485  : 
; 486  : 		set_3d_active_environment (main_3d_single_light_env);

  000d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  000d5	50		 push	 eax
  000d6	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 487  : 
; 488  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  000db	51		 push	 ecx
  000dc	0f 57 c0	 xorps	 xmm0, xmm0
  000df	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000e4	51		 push	 ecx
  000e5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000ed	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000f2	51		 push	 ecx
  000f3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  000fb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00100	51		 push	 ecx
  00101	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00109	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00113	50		 push	 eax
  00114	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 489  : 
; 490  : 		realise_3d_clip_extents (main_3d_single_light_env);

  00119	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0011e	50		 push	 eax
  0011f	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 491  : 
; 492  : 		clear_zbuffer_screen ();

  00124	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 493  : 
; 494  : 		if (begin_3d_scene ())

  00129	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  0012e	85 c0		 test	 eax, eax
  00130	0f 84 83 02 00
	00		 je	 $LN10@draw_defau

; 495  : 		{
; 496  : 			//
; 497  : 			// virtual cockpit
; 498  : 			//
; 499  : 
; 500  : 			if (flags & VIRTUAL_COCKPIT_COCKPIT)

  00136	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00139	83 e0 01	 and	 eax, 1
  0013c	0f 84 68 02 00
	00		 je	 $LN11@draw_defau

; 501  : 			{
; 502  : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00142	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00149	74 0f		 je	 SHORT $LN48@draw_defau
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00150	8b 08		 mov	 ecx, DWORD PTR [eax]
  00152	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv134[ebp], ecx
  00158	eb 20		 jmp	 SHORT $LN49@draw_defau
$LN48@draw_defau:
  0015a	68 f6 01 00 00	 push	 502			; 000001f6H
  0015f	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00164	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0016a	52		 push	 edx
  0016b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00170	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv134[ebp], 0
$LN49@draw_defau:
  0017a	b8 01 00 00 00	 mov	 eax, 1
  0017f	85 c0		 test	 eax, eax
  00181	74 0c		 je	 SHORT $LN50@draw_defau
  00183	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv141[ebp], 39 ; 00000027H
  0018d	eb 20		 jmp	 SHORT $LN51@draw_defau
$LN50@draw_defau:
  0018f	68 f6 01 00 00	 push	 502			; 000001f6H
  00194	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00199	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0019f	51		 push	 ecx
  001a0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001a5	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv141[ebp], 0
$LN51@draw_defau:
  001af	6a 27		 push	 39			; 00000027H
  001b1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  001b7	52		 push	 edx
  001b8	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv134[ebp], 1116
  001c2	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv141[ebp]
  001c8	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  001cf	ff d2		 call	 edx
  001d1	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv147[ebp], eax
  001d7	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv147[ebp], 3
  001de	77 33		 ja	 SHORT $LN2@draw_defau
  001e0	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv147[ebp]
  001e6	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN56@draw_defau[eax*4]
$LN12@draw_defau:

; 503  : 				{
; 504  : 					////////////////////////////////////////
; 505  : 					case DAY_SEGMENT_TYPE_DAWN:
; 506  : 					////////////////////////////////////////
; 507  : 					{
; 508  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  001ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001f2	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 509  : 
; 510  : 						break;

  001f5	eb 1c		 jmp	 SHORT $LN2@draw_defau
$LN13@draw_defau:

; 511  : 					}
; 512  : 					////////////////////////////////////////
; 513  : 					case DAY_SEGMENT_TYPE_DAY:
; 514  : 					////////////////////////////////////////
; 515  : 					{
; 516  : 						virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;

  001f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001fc	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 517  : 
; 518  : 						break;

  001ff	eb 12		 jmp	 SHORT $LN2@draw_defau
$LN14@draw_defau:

; 519  : 					}
; 520  : 					////////////////////////////////////////
; 521  : 					case DAY_SEGMENT_TYPE_DUSK:
; 522  : 					////////////////////////////////////////
; 523  : 					{
; 524  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  00201	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00206	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 525  : 
; 526  : 						break;

  00209	eb 08		 jmp	 SHORT $LN2@draw_defau
$LN15@draw_defau:

; 527  : 					}
; 528  : 					////////////////////////////////////////
; 529  : 					case DAY_SEGMENT_TYPE_NIGHT:
; 530  : 					////////////////////////////////////////
; 531  : 					{
; 532  : 						virtual_cockpit_inst3d = virtual_cockpit_level3_inst3d;

  0020b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00210	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN2@draw_defau:

; 533  : 
; 534  : 						break;
; 535  : 					}
; 536  : 				}
; 537  : 
; 538  : 				#if DEMO_VERSION
; 539  : 
; 540  : 				virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;
; 541  : 
; 542  : 				#endif
; 543  : 
; 544  : //VJ 28 is the subobject number of the pilot
; 545  : 				get_default_crew_viewpoint (28, virtual_cockpit_inst3d);

  00213	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00216	50		 push	 eax
  00217	6a 1c		 push	 28			; 0000001cH
  00219	e8 00 00 00 00	 call	 ?get_default_crew_viewpoint@@YGXHPAUOBJECT_3D_INSTANCE@@@Z ; get_default_crew_viewpoint

; 546  : 
; 547  : 			   virtual_cockpit_inst3d->vp.x += BASE_DX;

  0021e	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00221	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00226	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@00000000
  0022e	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00231	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 548  : 			   virtual_cockpit_inst3d->vp.y += BASE_DY;

  00236	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00239	f3 0f 5a 40 0c	 cvtss2sd xmm0, DWORD PTR [eax+12]
  0023e	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fc999999999999a
  00246	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0024a	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0024d	f3 0f 11 41 0c	 movss	 DWORD PTR [ecx+12], xmm0

; 549  : 			   virtual_cockpit_inst3d->vp.z += BASE_DZ;

  00252	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00255	f3 0f 5a 40 10	 cvtss2sd xmm0, DWORD PTR [eax+16]
  0025a	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fc999999999999a
  00262	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00266	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00269	f3 0f 11 41 10	 movss	 DWORD PTR [ecx+16], xmm0

; 550  : 
; 551  : 	   		if (get_global_wide_cockpit ())

  0026e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00275	74 7c		 je	 SHORT $LN16@draw_defau

; 552  : 				{
; 553  : 				   virtual_cockpit_inst3d->vp.x += wide_cockpit_position[wide_cockpit_nr].c.x;

  00277	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0027e	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00281	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00286	f3 0f 58 80 14
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+20]
  0028e	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00291	f3 0f 11 42 08	 movss	 DWORD PTR [edx+8], xmm0

; 554  : 				   virtual_cockpit_inst3d->vp.y += wide_cockpit_position[wide_cockpit_nr].c.y;

  00296	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0029d	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002a0	f3 0f 10 41 0c	 movss	 xmm0, DWORD PTR [ecx+12]
  002a5	f3 0f 58 80 18
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  002ad	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002b0	f3 0f 11 42 0c	 movss	 DWORD PTR [edx+12], xmm0

; 555  : 				   virtual_cockpit_inst3d->vp.z += wide_cockpit_position[wide_cockpit_nr].c.z;

  002b5	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  002bc	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002bf	f3 0f 10 41 10	 movss	 xmm0, DWORD PTR [ecx+16]
  002c4	f3 0f 58 80 1c
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  002cc	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002cf	f3 0f 11 42 10	 movss	 DWORD PTR [edx+16], xmm0

; 556  : 					//VJ 050207 included head pitch in fixed view setting
; 557  : 					pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  002d4	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  002db	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  002e3	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  002eb	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0
$LN16@draw_defau:

; 558  : 				}
; 559  : 
; 560  : //use subnr to eliminate each sub_object one by one, in edit_wide_view press the end key
; 561  : //				virtual_cockpit_inst3d->sub_objects[subnr].visible_object = FALSE;
; 562  : 
; 563  : 				//rotor
; 564  : 				virtual_cockpit_inst3d->sub_objects[1].visible_object = FALSE;

  002f3	b8 30 00 00 00	 mov	 eax, 48			; 00000030H
  002f8	c1 e0 00	 shl	 eax, 0
  002fb	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002fe	8b 51 58	 mov	 edx, DWORD PTR [ecx+88]
  00301	8b 44 02 08	 mov	 eax, DWORD PTR [edx+eax+8]
  00305	83 e0 fe	 and	 eax, -2			; fffffffeH
  00308	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  0030d	c1 e1 00	 shl	 ecx, 0
  00310	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00313	8b 52 58	 mov	 edx, DWORD PTR [edx+88]
  00316	89 44 0a 08	 mov	 DWORD PTR [edx+ecx+8], eax

; 565  : 				//pilots (28 is back, 29 is front)
; 566  : 				virtual_cockpit_inst3d->sub_objects[28].visible_object = FALSE;

  0031a	b8 30 00 00 00	 mov	 eax, 48			; 00000030H
  0031f	6b c8 1c	 imul	 ecx, eax, 28
  00322	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00325	8b 42 58	 mov	 eax, DWORD PTR [edx+88]
  00328	8b 4c 08 08	 mov	 ecx, DWORD PTR [eax+ecx+8]
  0032c	83 e1 fe	 and	 ecx, -2			; fffffffeH
  0032f	ba 30 00 00 00	 mov	 edx, 48			; 00000030H
  00334	6b c2 1c	 imul	 eax, edx, 28
  00337	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0033a	8b 52 58	 mov	 edx, DWORD PTR [edx+88]
  0033d	89 4c 02 08	 mov	 DWORD PTR [edx+eax+8], ecx

; 567  : 				virtual_cockpit_inst3d->sub_objects[29].visible_object = FALSE;

  00341	b8 30 00 00 00	 mov	 eax, 48			; 00000030H
  00346	6b c8 1d	 imul	 ecx, eax, 29
  00349	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0034c	8b 42 58	 mov	 eax, DWORD PTR [edx+88]
  0034f	8b 4c 08 08	 mov	 ecx, DWORD PTR [eax+ecx+8]
  00353	83 e1 fe	 and	 ecx, -2			; fffffffeH
  00356	ba 30 00 00 00	 mov	 edx, 48			; 00000030H
  0035b	6b c2 1d	 imul	 eax, edx, 29
  0035e	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00361	8b 52 58	 mov	 edx, DWORD PTR [edx+88]
  00364	89 4c 02 08	 mov	 DWORD PTR [edx+eax+8], ecx

; 568  : 				//wipers
; 569  : 				virtual_cockpit_inst3d->sub_objects[37].visible_object = FALSE;

  00368	b8 30 00 00 00	 mov	 eax, 48			; 00000030H
  0036d	6b c8 25	 imul	 ecx, eax, 37
  00370	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00373	8b 42 58	 mov	 eax, DWORD PTR [edx+88]
  00376	8b 4c 08 08	 mov	 ecx, DWORD PTR [eax+ecx+8]
  0037a	83 e1 fe	 and	 ecx, -2			; fffffffeH
  0037d	ba 30 00 00 00	 mov	 edx, 48			; 00000030H
  00382	6b c2 25	 imul	 eax, edx, 37
  00385	8b 55 94	 mov	 edx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00388	8b 52 58	 mov	 edx, DWORD PTR [edx+88]
  0038b	89 4c 02 08	 mov	 DWORD PTR [edx+eax+8], ecx

; 570  : 
; 571  : 			// don't do this because it mersses up change smade to virtual_cockpit_inst3d
; 572  : 			//	memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));
; 573  : 
; 574  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  0038f	51		 push	 ecx
  00390	0f 57 c0	 xorps	 xmm0, xmm0
  00393	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00398	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0039b	50		 push	 eax
  0039c	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0039f	83 c1 08	 add	 ecx, 8
  003a2	51		 push	 ecx
  003a3	6a 02		 push	 2
  003a5	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN11@draw_defau:

; 575  : 			}
; 576  : 
; 577  : 			//C:\gms\Razorworks\eech-new\modules\3d\3dobjbuf.c
; 578  : 			draw_3d_scene ();

  003aa	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 579  : 
; 580  : 			print_edit_wide_cockpit ();

  003af	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 581  : 
; 582  : 			end_3d_scene ();

  003b4	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN10@draw_defau:

; 583  : 		}
; 584  : 	}
; 585  : 
; 586  : 	////////////////////////////////////////
; 587  : 	//
; 588  : 	// draw 3D scene with lighting
; 589  : 	//
; 590  : 	////////////////////////////////////////
; 591  : 
; 592  : 	if (flags & (VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES | VIRTUAL_COCKPIT_INSTRUMENT_LARGE_NEEDLES))

  003b9	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  003bc	25 00 00 06 00	 and	 eax, 393216		; 00060000H
  003c1	0f 84 56 03 00
	00		 je	 $LN18@draw_defau

; 593  : 	{
; 594  : 		set_cockpit_lighting (vp.attitude);

  003c7	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  003ca	50		 push	 eax
  003cb	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 595  : 
; 596  : 		set_3d_active_environment (main_3d_single_light_env);

  003d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  003d5	50		 push	 eax
  003d6	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 597  : 
; 598  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  003db	51		 push	 ecx
  003dc	0f 57 c0	 xorps	 xmm0, xmm0
  003df	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003e4	51		 push	 ecx
  003e5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  003ed	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003f2	51		 push	 ecx
  003f3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  003fb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00400	51		 push	 ecx
  00401	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00409	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0040e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00413	50		 push	 eax
  00414	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 599  : 
; 600  : 		realise_3d_clip_extents (main_3d_single_light_env);

  00419	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0041e	50		 push	 eax
  0041f	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 601  : 
; 602  : //VJ#
; 603  : 		/*
; 604  : 		vp.x = wide_cockpit_position[wide_cockpit_nr].c.x;
; 605  : 		vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;
; 606  : 		vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;
; 607  : 		vp.x += dx;
; 608  : 		vp.y += dy;
; 609  : 		vp.z += dz;
; 610  : 		*/
; 611  : 		vp.x = BASE_DX;

  00424	0f 57 c0	 xorps	 xmm0, xmm0
  00427	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 612  : 		vp.y = BASE_DY - 0.0800;

  0042c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3df5c28f
  00434	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 613  : 		vp.z = BASE_DZ;

  00439	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e4ccccd
  00441	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 614  : 
; 615  : 		clear_zbuffer_screen ();

  00446	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 616  : 
; 617  : 		if (begin_3d_scene ())

  0044b	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00450	85 c0		 test	 eax, eax
  00452	0f 84 c5 02 00
	00		 je	 $LN18@draw_defau

; 618  : 		{
; 619  : 			//
; 620  : 			// instrument needles
; 621  : 			//
; 622  : 
; 623  : 			if (flags & VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES)

  00458	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0045b	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  00460	0f 84 09 02 00
	00		 je	 $LN19@draw_defau

; 624  : 			{
; 625  : 				//
; 626  : 				// ADI slip
; 627  : 				//
; 628  : 
; 629  : 				search.search_depth = 0;

  00466	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 630  : 				search.search_object = virtual_cockpit_instrument_needles_inst3d;

  0046d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00472	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 631  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI_SIDE_SLIP;

  00475	c7 45 a4 73 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 115 ; 00000073H

; 632  : 
; 633  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0047c	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0047f	50		 push	 eax
  00480	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00485	83 f8 01	 cmp	 eax, 1
  00488	75 0b		 jne	 SHORT $LN20@draw_defau

; 634  : 				{
; 635  : 					search.result_sub_object->relative_roll = get_default_virtual_cockpit_adi_slip_indicator_needle_value ();

  0048a	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ ; get_default_virtual_cockpit_adi_slip_indicator_needle_value
  0048f	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00492	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN20@draw_defau:

; 636  : 				}
; 637  : 
; 638  : 				//
; 639  : 				// airspeed
; 640  : 				//
; 641  : 
; 642  : 				search.search_depth = 0;

  00495	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 643  : 				search.search_object = virtual_cockpit_instrument_needles_inst3d;

  0049c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004a1	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 644  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_AIRSPEED;

  004a4	c7 45 a4 72 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 114 ; 00000072H

; 645  : 
; 646  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004ab	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  004ae	50		 push	 eax
  004af	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  004b4	83 f8 01	 cmp	 eax, 1
  004b7	75 24		 jne	 SHORT $LN21@draw_defau

; 647  : 				{
; 648  : 					search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  004b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  004be	83 e0 01	 and	 eax, 1
  004c1	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  004c4	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  004c7	83 e2 fe	 and	 edx, -2			; fffffffeH
  004ca	0b d0		 or	 edx, eax
  004cc	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004cf	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 649  : 
; 650  : 					search.result_sub_object->relative_roll = get_default_virtual_cockpit_airspeed_indicator_needle_value ();

  004d2	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ ; get_default_virtual_cockpit_airspeed_indicator_needle_value
  004d7	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004da	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN21@draw_defau:

; 651  : 				}
; 652  : 
; 653  : 				//
; 654  : 				// altimeter
; 655  : 				//
; 656  : 
; 657  : 				search.search_depth = 0;

  004dd	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 658  : 				search.search_object = virtual_cockpit_instrument_needles_inst3d;

  004e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004e9	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 659  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ALTIMETER;

  004ec	c7 45 a4 74 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 116 ; 00000074H

; 660  : 
; 661  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004f3	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  004f6	50		 push	 eax
  004f7	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  004fc	83 f8 01	 cmp	 eax, 1
  004ff	75 24		 jne	 SHORT $LN22@draw_defau

; 662  : 				{
; 663  : 					search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  00501	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  00506	83 e0 01	 and	 eax, 1
  00509	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0050c	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0050f	83 e2 fe	 and	 edx, -2			; fffffffeH
  00512	0b d0		 or	 edx, eax
  00514	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00517	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 664  : 
; 665  : 					search.result_sub_object->relative_roll = get_default_virtual_cockpit_barometric_altimeter_needle_value ();

  0051a	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_barometric_altimeter_needle_value@@YGMXZ ; get_default_virtual_cockpit_barometric_altimeter_needle_value
  0051f	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00522	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN22@draw_defau:

; 666  : 				}
; 667  : 
; 668  : 				//
; 669  : 				// clock
; 670  : 				//
; 671  : 
; 672  : 				{
; 673  : 					float
; 674  : 						hours,
; 675  : 						minutes,
; 676  : 						seconds;
; 677  : 
; 678  : 					//
; 679  : 					// only read clock values if drawing virtual cockpit needles to prevent speeding up clock debug values
; 680  : 					//
; 681  : 
; 682  : 					if (draw_virtual_cockpit_needles_on_fixed_cockpits)

  00525	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA, 0 ; draw_virtual_cockpit_needles_on_fixed_cockpits
  0052c	74 13		 je	 SHORT $LN23@draw_defau

; 683  : 					{
; 684  : 						get_default_virtual_cockpit_clock_hand_values (&hours, &minutes, &seconds);

  0052e	8d 45 88	 lea	 eax, DWORD PTR _seconds$1[ebp]
  00531	50		 push	 eax
  00532	8d 4d 8c	 lea	 ecx, DWORD PTR _minutes$2[ebp]
  00535	51		 push	 ecx
  00536	8d 55 90	 lea	 edx, DWORD PTR _hours$3[ebp]
  00539	52		 push	 edx
  0053a	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_clock_hand_values@@YGXPAM00@Z ; get_default_virtual_cockpit_clock_hand_values

; 685  : 					}
; 686  : 					else

  0053f	eb 18		 jmp	 SHORT $LN24@draw_defau
$LN23@draw_defau:

; 687  : 					{
; 688  : 						hours = 0.0;

  00541	0f 57 c0	 xorps	 xmm0, xmm0
  00544	f3 0f 11 45 90	 movss	 DWORD PTR _hours$3[ebp], xmm0

; 689  : 						minutes = 0.0;

  00549	0f 57 c0	 xorps	 xmm0, xmm0
  0054c	f3 0f 11 45 8c	 movss	 DWORD PTR _minutes$2[ebp], xmm0

; 690  : 						seconds = 0.0;

  00551	0f 57 c0	 xorps	 xmm0, xmm0
  00554	f3 0f 11 45 88	 movss	 DWORD PTR _seconds$1[ebp], xmm0
$LN24@draw_defau:

; 691  : 					}
; 692  : 
; 693  : 					//
; 694  : 					// hour hand
; 695  : 					//
; 696  : 
; 697  : 					search.search_depth = 0;

  00559	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 698  : 					search.search_object = virtual_cockpit_instrument_needles_inst3d;

  00560	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00565	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 699  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_HOUR_HAND;

  00568	c7 45 a4 75 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 117 ; 00000075H

; 700  : 
; 701  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0056f	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00572	50		 push	 eax
  00573	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00578	83 f8 01	 cmp	 eax, 1
  0057b	75 26		 jne	 SHORT $LN25@draw_defau

; 702  : 					{
; 703  : 						search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  0057d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  00582	83 e0 01	 and	 eax, 1
  00585	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00588	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0058b	83 e2 fe	 and	 edx, -2			; fffffffeH
  0058e	0b d0		 or	 edx, eax
  00590	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00593	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 704  : 
; 705  : 						search.result_sub_object->relative_roll = hours;

  00596	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00599	f3 0f 10 45 90	 movss	 xmm0, DWORD PTR _hours$3[ebp]
  0059e	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN25@draw_defau:

; 706  : 					}
; 707  : 
; 708  : 					//
; 709  : 					// minute hand
; 710  : 					//
; 711  : 
; 712  : 					search.search_depth = 0;

  005a3	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 713  : 					search.search_object = virtual_cockpit_instrument_needles_inst3d;

  005aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005af	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 714  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_MINUTE_HAND;

  005b2	c7 45 a4 77 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 119 ; 00000077H

; 715  : 
; 716  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  005b9	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  005bc	50		 push	 eax
  005bd	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  005c2	83 f8 01	 cmp	 eax, 1
  005c5	75 26		 jne	 SHORT $LN26@draw_defau

; 717  : 					{
; 718  : 						search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  005c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  005cc	83 e0 01	 and	 eax, 1
  005cf	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  005d2	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  005d5	83 e2 fe	 and	 edx, -2			; fffffffeH
  005d8	0b d0		 or	 edx, eax
  005da	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  005dd	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 719  : 
; 720  : 						search.result_sub_object->relative_roll = minutes;

  005e0	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  005e3	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _minutes$2[ebp]
  005e8	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN26@draw_defau:

; 721  : 					}
; 722  : 
; 723  : 					//
; 724  : 					// second hand
; 725  : 					//
; 726  : 
; 727  : 					search.search_depth = 0;

  005ed	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 728  : 					search.search_object = virtual_cockpit_instrument_needles_inst3d;

  005f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005f9	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 729  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_SECOND_HAND;

  005fc	c7 45 a4 76 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 118 ; 00000076H

; 730  : 
; 731  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00603	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00606	50		 push	 eax
  00607	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0060c	83 f8 01	 cmp	 eax, 1
  0060f	75 26		 jne	 SHORT $LN27@draw_defau

; 732  : 					{
; 733  : 						search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  00611	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  00616	83 e0 01	 and	 eax, 1
  00619	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0061c	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0061f	83 e2 fe	 and	 edx, -2			; fffffffeH
  00622	0b d0		 or	 edx, eax
  00624	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00627	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 734  : 
; 735  : 						search.result_sub_object->relative_roll = seconds;

  0062a	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0062d	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _seconds$1[ebp]
  00632	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN27@draw_defau:

; 736  : 					}
; 737  : 				}
; 738  : 
; 739  : 				memcpy (&virtual_cockpit_instrument_needles_inst3d->vp, &vp, sizeof (viewpoint));

  00637	6a 30		 push	 48			; 00000030H
  00639	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0063c	50		 push	 eax
  0063d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00643	83 c1 08	 add	 ecx, 8
  00646	51		 push	 ecx
  00647	e8 00 00 00 00	 call	 _memcpy
  0064c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 740  : 
; 741  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_instrument_needles_inst3d->vp.position, virtual_cockpit_instrument_needles_inst3d);

  0064f	51		 push	 ecx
  00650	0f 57 c0	 xorps	 xmm0, xmm0
  00653	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00658	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0065d	50		 push	 eax
  0065e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00664	83 c1 08	 add	 ecx, 8
  00667	51		 push	 ecx
  00668	6a 02		 push	 2
  0066a	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN19@draw_defau:

; 742  : 			}
; 743  : 
; 744  : 			//
; 745  : 			// instrument large needles
; 746  : 			//
; 747  : 
; 748  : 			if (flags & VIRTUAL_COCKPIT_INSTRUMENT_LARGE_NEEDLES)

  0066f	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00672	25 00 00 04 00	 and	 eax, 262144		; 00040000H
  00677	0f 84 96 00 00
	00		 je	 $LN28@draw_defau

; 749  : 			{
; 750  : 				//
; 751  : 				// ADI slip
; 752  : 				//
; 753  : 
; 754  : 				search.search_depth = 0;

  0067d	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 755  : 				search.search_object = virtual_cockpit_instrument_large_needles_inst3d;

  00684	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00689	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 756  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI_SIDE_SLIP;

  0068c	c7 45 a4 73 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 115 ; 00000073H

; 757  : 
; 758  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00693	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00696	50		 push	 eax
  00697	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0069c	83 f8 01	 cmp	 eax, 1
  0069f	75 0b		 jne	 SHORT $LN29@draw_defau

; 759  : 				{
; 760  : 					search.result_sub_object->relative_roll = get_default_virtual_cockpit_adi_slip_indicator_needle_value ();

  006a1	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ ; get_default_virtual_cockpit_adi_slip_indicator_needle_value
  006a6	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  006a9	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN29@draw_defau:

; 761  : 				}
; 762  : 
; 763  : 				//
; 764  : 				// airspeed
; 765  : 				//
; 766  : 
; 767  : 				search.search_depth = 0;

  006ac	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 768  : 				search.search_object = virtual_cockpit_instrument_large_needles_inst3d;

  006b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  006b8	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 769  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_AIRSPEED;

  006bb	c7 45 a4 72 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 114 ; 00000072H

; 770  : 
; 771  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  006c2	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  006c5	50		 push	 eax
  006c6	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  006cb	83 f8 01	 cmp	 eax, 1
  006ce	75 0b		 jne	 SHORT $LN30@draw_defau

; 772  : 				{
; 773  : 					search.result_sub_object->relative_roll = get_default_virtual_cockpit_airspeed_indicator_needle_value ();

  006d0	e8 00 00 00 00	 call	 ?get_default_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ ; get_default_virtual_cockpit_airspeed_indicator_needle_value
  006d5	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  006d8	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN30@draw_defau:

; 774  : 				}
; 775  : 
; 776  : 				memcpy (&virtual_cockpit_instrument_large_needles_inst3d->vp, &vp, sizeof (viewpoint));

  006db	6a 30		 push	 48			; 00000030H
  006dd	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  006e0	50		 push	 eax
  006e1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  006e7	83 c1 08	 add	 ecx, 8
  006ea	51		 push	 ecx
  006eb	e8 00 00 00 00	 call	 _memcpy
  006f0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 777  : 
; 778  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_instrument_large_needles_inst3d->vp.position, virtual_cockpit_instrument_large_needles_inst3d);

  006f3	51		 push	 ecx
  006f4	0f 57 c0	 xorps	 xmm0, xmm0
  006f7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00701	50		 push	 eax
  00702	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00708	83 c1 08	 add	 ecx, 8
  0070b	51		 push	 ecx
  0070c	6a 02		 push	 2
  0070e	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN28@draw_defau:

; 779  : 			}
; 780  : 
; 781  : 			draw_3d_scene ();

  00713	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 782  : 
; 783  : 			end_3d_scene ();

  00718	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN18@draw_defau:

; 784  : 		}
; 785  : 	}
; 786  : 
; 787  : 	////////////////////////////////////////
; 788  : 	//
; 789  : 	// draw 3D scene without lighting
; 790  : 	//
; 791  : 	////////////////////////////////////////
; 792  : 
; 793  : 	if
; 794  : 	(
; 795  : 		(flags & VIRTUAL_COCKPIT_DISPLAY_VIEW) &&
; 796  : 		(flags & VIRTUAL_COCKPIT_LHS_MFD_DISPLAY) &&

  0071d	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00720	25 00 00 10 00	 and	 eax, 1048576		; 00100000H
  00725	0f 84 04 01 00
	00		 je	 $LN31@draw_defau
  0072b	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0072e	83 e0 20	 and	 eax, 32			; 00000020H
  00731	0f 84 f8 00 00
	00		 je	 $LN31@draw_defau
  00737	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0073a	83 e0 40	 and	 eax, 64			; 00000040H
  0073d	0f 84 ec 00 00
	00		 je	 $LN31@draw_defau

; 797  : 		(flags & VIRTUAL_COCKPIT_RHS_MFD_DISPLAY)
; 798  : 	)
; 799  : 	{
; 800  : 		set_3d_active_environment (main_3d_env);

  00743	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00748	50		 push	 eax
  00749	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 801  : 
; 802  : 		set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  0074e	51		 push	 ecx
  0074f	0f 57 c0	 xorps	 xmm0, xmm0
  00752	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00757	51		 push	 ecx
  00758	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00760	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00765	51		 push	 ecx
  00766	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  0076e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00773	51		 push	 ecx
  00774	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  0077c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00781	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00786	50		 push	 eax
  00787	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 803  : 
; 804  : 		realise_3d_clip_extents (main_3d_env);

  0078c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00791	50		 push	 eax
  00792	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 805  : 
; 806  : 		recalculate_3d_environment_settings (main_3d_env);

  00797	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0079c	50		 push	 eax
  0079d	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 807  : 
; 808  : 		clear_zbuffer_screen ();

  007a2	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 809  : 
; 810  : 		if (begin_3d_scene ())

  007a7	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  007ac	85 c0		 test	 eax, eax
  007ae	74 7a		 je	 SHORT $LN33@draw_defau

; 811  : 		{
; 812  : 			//
; 813  : 			// lhs mfd
; 814  : 			//
; 815  : 
; 816  : 			memcpy (&virtual_cockpit_display_view_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  007b0	6a 30		 push	 48			; 00000030H
  007b2	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  007b5	50		 push	 eax
  007b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007bc	83 c1 08	 add	 ecx, 8
  007bf	51		 push	 ecx
  007c0	e8 00 00 00 00	 call	 _memcpy
  007c5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 817  : 
; 818  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_display_view_mfd_inst3d->vp.position, virtual_cockpit_display_view_mfd_inst3d);

  007c8	51		 push	 ecx
  007c9	0f 57 c0	 xorps	 xmm0, xmm0
  007cc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007d6	50		 push	 eax
  007d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007dd	83 c1 08	 add	 ecx, 8
  007e0	51		 push	 ecx
  007e1	6a 02		 push	 2
  007e3	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 819  : 
; 820  : 			//
; 821  : 			// rhs mfd
; 822  : 			//
; 823  : 
; 824  : 			memcpy (&virtual_cockpit_display_view_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  007e8	6a 30		 push	 48			; 00000030H
  007ea	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  007ed	50		 push	 eax
  007ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007f4	83 c1 08	 add	 ecx, 8
  007f7	51		 push	 ecx
  007f8	e8 00 00 00 00	 call	 _memcpy
  007fd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 825  : 
; 826  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_display_view_mfd_inst3d->vp.position, virtual_cockpit_display_view_mfd_inst3d);

  00800	51		 push	 ecx
  00801	0f 57 c0	 xorps	 xmm0, xmm0
  00804	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00809	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0080e	50		 push	 eax
  0080f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00815	83 c1 08	 add	 ecx, 8
  00818	51		 push	 ecx
  00819	6a 02		 push	 2
  0081b	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 827  : 
; 828  : 			draw_3d_scene ();

  00820	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 829  : 
; 830  : 			end_3d_scene ();

  00825	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN33@draw_defau:

; 831  : 		}
; 832  : 	}
; 833  : 	else

  0082a	e9 84 01 00 00	 jmp	 $LN35@draw_defau
$LN31@draw_defau:

; 834  : 	{
; 835  : 		if (flags & (VIRTUAL_COCKPIT_UPFRONT_DISPLAY | VIRTUAL_COCKPIT_LHS_MFD_DISPLAY | VIRTUAL_COCKPIT_RHS_MFD_DISPLAY))

  0082f	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00832	25 60 00 08 00	 and	 eax, 524384		; 00080060H
  00837	0f 84 76 01 00
	00		 je	 $LN35@draw_defau

; 836  : 		{
; 837  : 			set_3d_active_environment (main_3d_env);

  0083d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00842	50		 push	 eax
  00843	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 838  : 
; 839  : 			set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  00848	51		 push	 ecx
  00849	0f 57 c0	 xorps	 xmm0, xmm0
  0084c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00851	51		 push	 ecx
  00852	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0085a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0085f	51		 push	 ecx
  00860	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00868	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0086d	51		 push	 ecx
  0086e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00876	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0087b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00880	50		 push	 eax
  00881	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 840  : 
; 841  : 			realise_3d_clip_extents (main_3d_env);

  00886	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0088b	50		 push	 eax
  0088c	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 842  : 
; 843  : 			recalculate_3d_environment_settings (main_3d_env);

  00891	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00896	50		 push	 eax
  00897	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 844  : 
; 845  : 			clear_zbuffer_screen ();

  0089c	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 846  : 
; 847  : //		vp.x = wide_cockpit_position[wide_cockpit_nr].c.x;
; 848  : //		vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;
; 849  : //		vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;
; 850  : 
; 851  : 			if (begin_3d_scene ())

  008a1	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  008a6	85 c0		 test	 eax, eax
  008a8	0f 84 05 01 00
	00		 je	 $LN35@draw_defau

; 852  : 			{
; 853  : 				//
; 854  : 				// up-front display
; 855  : 				//
; 856  : 
; 857  : 				vp.y = BASE_DY - 0.0800 - _DY;

  008ae	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3db851ec
  008b6	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 858  : 
; 859  : 				if (flags & VIRTUAL_COCKPIT_UPFRONT_DISPLAY)

  008bb	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  008be	25 00 00 08 00	 and	 eax, 524288		; 00080000H
  008c3	74 64		 je	 SHORT $LN36@draw_defau

; 860  : 				{
; 861  : 					vp.y -= 0.01;

  008c5	f3 0f 5a 45 d4	 cvtss2sd xmm0, DWORD PTR _vp$[ebp+4]
  008ca	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  008d2	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  008d6	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 862  : 					memcpy (&virtual_cockpit_upfront_display_inst3d->vp, &vp, sizeof (viewpoint));

  008db	6a 30		 push	 48			; 00000030H
  008dd	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  008e0	50		 push	 eax
  008e1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  008e7	83 c1 08	 add	 ecx, 8
  008ea	51		 push	 ecx
  008eb	e8 00 00 00 00	 call	 _memcpy
  008f0	83 c4 0c	 add	 esp, 12			; 0000000cH

; 863  : 					vp.y += 0.01;

  008f3	f3 0f 5a 45 d4	 cvtss2sd xmm0, DWORD PTR _vp$[ebp+4]
  008f8	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  00900	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00904	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 864  : //					virtual_cockpit_upfront_display_inst3d->vp.position.y = dy;
; 865  : 
; 866  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_upfront_display_inst3d->vp.position, virtual_cockpit_upfront_display_inst3d);

  00909	51		 push	 ecx
  0090a	0f 57 c0	 xorps	 xmm0, xmm0
  0090d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00912	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00917	50		 push	 eax
  00918	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0091e	83 c1 08	 add	 ecx, 8
  00921	51		 push	 ecx
  00922	6a 02		 push	 2
  00924	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN36@draw_defau:

; 867  : 				}
; 868  : 
; 869  : 				//
; 870  : 				// lhs mfd
; 871  : 				//
; 872  : 
; 873  : 				if (flags & VIRTUAL_COCKPIT_LHS_MFD_DISPLAY)

  00929	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0092c	83 e0 20	 and	 eax, 32			; 00000020H
  0092f	74 38		 je	 SHORT $LN37@draw_defau

; 874  : 				{
; 875  : 					memcpy (&virtual_cockpit_lhs_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  00931	6a 30		 push	 48			; 00000030H
  00933	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00936	50		 push	 eax
  00937	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0093d	83 c1 08	 add	 ecx, 8
  00940	51		 push	 ecx
  00941	e8 00 00 00 00	 call	 _memcpy
  00946	83 c4 0c	 add	 esp, 12			; 0000000cH

; 876  : 					//virtual_cockpit_lhs_mfd_inst3d->vp.position.x += dx;
; 877  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_lhs_mfd_inst3d->vp.position, virtual_cockpit_lhs_mfd_inst3d);

  00949	51		 push	 ecx
  0094a	0f 57 c0	 xorps	 xmm0, xmm0
  0094d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00952	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00957	50		 push	 eax
  00958	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0095e	83 c1 08	 add	 ecx, 8
  00961	51		 push	 ecx
  00962	6a 02		 push	 2
  00964	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN37@draw_defau:

; 878  : 				}
; 879  : 
; 880  : 				//
; 881  : 				// rhs mfd
; 882  : 				//
; 883  : 
; 884  : 				if (flags & VIRTUAL_COCKPIT_RHS_MFD_DISPLAY)

  00969	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0096c	83 e0 40	 and	 eax, 64			; 00000040H
  0096f	74 38		 je	 SHORT $LN38@draw_defau

; 885  : 				{
; 886  : 					memcpy (&virtual_cockpit_rhs_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  00971	6a 30		 push	 48			; 00000030H
  00973	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00976	50		 push	 eax
  00977	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0097d	83 c1 08	 add	 ecx, 8
  00980	51		 push	 ecx
  00981	e8 00 00 00 00	 call	 _memcpy
  00986	83 c4 0c	 add	 esp, 12			; 0000000cH

; 887  : 
; 888  : 					//virtual_cockpit_rhs_mfd_inst3d->vp.position.x -= dx;
; 889  : 
; 890  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_rhs_mfd_inst3d->vp.position, virtual_cockpit_rhs_mfd_inst3d);

  00989	51		 push	 ecx
  0098a	0f 57 c0	 xorps	 xmm0, xmm0
  0098d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00992	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00997	50		 push	 eax
  00998	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0099e	83 c1 08	 add	 ecx, 8
  009a1	51		 push	 ecx
  009a2	6a 02		 push	 2
  009a4	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN38@draw_defau:

; 891  : 				}
; 892  : 
; 893  : 				draw_3d_scene ();

  009a9	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 894  : 
; 895  : 				end_3d_scene ();

  009ae	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN35@draw_defau:

; 896  : 			}
; 897  : 		}
; 898  : 	}
; 899  : 
; 900  : 	////////////////////////////////////////
; 901  : 	//
; 902  : 	// draw 3D scene with lighting
; 903  : 	//
; 904  : 	////////////////////////////////////////
; 905  : 
; 906  : 	//
; 907  : 	// draw fillet to mask TADS display
; 908  : 	//
; 909  : 
; 910  : 	if
; 911  : 	(
; 912  : 		(d3d_can_render_to_texture) &&
; 913  : 		(flags & (VIRTUAL_COCKPIT_COCKPIT)) &&
; 914  : 		(flags & (VIRTUAL_COCKPIT_LHS_MFD_DISPLAY)) &&

  009b3	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?d3d_can_render_to_texture@@3HA, 0 ; d3d_can_render_to_texture
  009ba	0f 84 c0 01 00
	00		 je	 $LN40@draw_defau
  009c0	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  009c3	83 e0 01	 and	 eax, 1
  009c6	0f 84 b4 01 00
	00		 je	 $LN40@draw_defau
  009cc	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  009cf	83 e0 20	 and	 eax, 32			; 00000020H
  009d2	0f 84 a8 01 00
	00		 je	 $LN40@draw_defau
  009d8	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  009db	83 e0 40	 and	 eax, 64			; 00000040H
  009de	0f 84 9c 01 00
	00		 je	 $LN40@draw_defau

; 915  : 		(flags & (VIRTUAL_COCKPIT_RHS_MFD_DISPLAY))
; 916  : 	)
; 917  : 	{
; 918  : 		set_cockpit_white_lighting (vp.attitude);

  009e4	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  009e7	50		 push	 eax
  009e8	e8 00 00 00 00	 call	 ?set_cockpit_white_lighting@@YGXQAY02M@Z ; set_cockpit_white_lighting

; 919  : 
; 920  : 		set_3d_active_environment (main_3d_single_light_env);

  009ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  009f2	50		 push	 eax
  009f3	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 921  : 
; 922  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  009f8	51		 push	 ecx
  009f9	0f 57 c0	 xorps	 xmm0, xmm0
  009fc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a01	51		 push	 ecx
  00a02	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00a0a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a0f	51		 push	 ecx
  00a10	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00a18	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a1d	51		 push	 ecx
  00a1e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00a26	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a2b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00a30	50		 push	 eax
  00a31	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 923  : 
; 924  : 		realise_3d_clip_extents (main_3d_single_light_env);

  00a36	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00a3b	50		 push	 eax
  00a3c	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 925  : 
; 926  : 		clear_zbuffer_screen ();

  00a41	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 927  : 
; 928  : 		if (begin_3d_scene ())

  00a46	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00a4b	85 c0		 test	 eax, eax
  00a4d	0f 84 2d 01 00
	00		 je	 $LN40@draw_defau

; 929  : 		{
; 930  : 			switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00a53	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00a5a	74 0f		 je	 SHORT $LN52@draw_defau
  00a5c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00a61	8b 08		 mov	 ecx, DWORD PTR [eax]
  00a63	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv459[ebp], ecx
  00a69	eb 20		 jmp	 SHORT $LN53@draw_defau
$LN52@draw_defau:
  00a6b	68 a2 03 00 00	 push	 930			; 000003a2H
  00a70	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a75	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00a7b	52		 push	 edx
  00a7c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00a81	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv459[ebp], 0
$LN53@draw_defau:
  00a8b	b8 01 00 00 00	 mov	 eax, 1
  00a90	85 c0		 test	 eax, eax
  00a92	74 0c		 je	 SHORT $LN54@draw_defau
  00a94	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv466[ebp], 39 ; 00000027H
  00a9e	eb 20		 jmp	 SHORT $LN55@draw_defau
$LN54@draw_defau:
  00aa0	68 a2 03 00 00	 push	 930			; 000003a2H
  00aa5	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@HKCCFBKD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00aaa	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00ab0	51		 push	 ecx
  00ab1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00ab6	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv466[ebp], 0
$LN55@draw_defau:
  00ac0	6a 27		 push	 39			; 00000027H
  00ac2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00ac8	52		 push	 edx
  00ac9	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv459[ebp], 1116
  00ad3	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv466[ebp]
  00ad9	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00ae0	ff d2		 call	 edx
  00ae2	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv472[ebp], eax
  00ae8	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv472[ebp], 3
  00aef	77 33		 ja	 SHORT $LN4@draw_defau
  00af1	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv472[ebp]
  00af7	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN57@draw_defau[eax*4]
$LN41@draw_defau:

; 931  : 			{
; 932  : 				////////////////////////////////////////
; 933  : 				case DAY_SEGMENT_TYPE_DAWN:
; 934  : 				////////////////////////////////////////
; 935  : 				{
; 936  : 
; 937  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  00afe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b03	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 938  : 
; 939  : 					break;

  00b06	eb 1c		 jmp	 SHORT $LN4@draw_defau
$LN42@draw_defau:

; 940  : 				}
; 941  : 				////////////////////////////////////////
; 942  : 				case DAY_SEGMENT_TYPE_DAY:
; 943  : 				////////////////////////////////////////
; 944  : 				{
; 945  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;

  00b08	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b0d	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 946  : 
; 947  : 					break;

  00b10	eb 12		 jmp	 SHORT $LN4@draw_defau
$LN43@draw_defau:

; 948  : 				}
; 949  : 				////////////////////////////////////////
; 950  : 				case DAY_SEGMENT_TYPE_DUSK:
; 951  : 				////////////////////////////////////////
; 952  : 				{
; 953  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  00b12	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b17	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 954  : 
; 955  : 					break;

  00b1a	eb 08		 jmp	 SHORT $LN4@draw_defau
$LN44@draw_defau:

; 956  : 				}
; 957  : 				////////////////////////////////////////
; 958  : 				case DAY_SEGMENT_TYPE_NIGHT:
; 959  : 				////////////////////////////////////////
; 960  : 				{
; 961  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level3_inst3d;

  00b1c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b21	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN4@draw_defau:

; 962  : 
; 963  : 					break;
; 964  : 				}
; 965  : 			}
; 966  : 
; 967  : 			#if DEMO_VERSION
; 968  : 
; 969  : 			virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;
; 970  : 
; 971  : 			#endif
; 972  : //VJ#
; 973  : 			vp.x = BASE_DX;

  00b24	0f 57 c0	 xorps	 xmm0, xmm0
  00b27	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 974  : 			vp.y = BASE_DY - 0.086 - _DY;

  00b2c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dac0831
  00b34	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 975  : 			vp.z = BASE_DZ-0.010;

  00b39	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e428f5c
  00b41	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 976  : 
; 977  : 			memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));

  00b46	6a 30		 push	 48			; 00000030H
  00b48	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00b4b	50		 push	 eax
  00b4c	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00b4f	83 c1 08	 add	 ecx, 8
  00b52	51		 push	 ecx
  00b53	e8 00 00 00 00	 call	 _memcpy
  00b58	83 c4 0c	 add	 esp, 12			; 0000000cH

; 978  : 
; 979  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00b5b	51		 push	 ecx
  00b5c	0f 57 c0	 xorps	 xmm0, xmm0
  00b5f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b64	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00b67	50		 push	 eax
  00b68	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00b6b	83 c1 08	 add	 ecx, 8
  00b6e	51		 push	 ecx
  00b6f	6a 02		 push	 2
  00b71	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 980  : 
; 981  : 			draw_3d_scene ();

  00b76	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 982  : 
; 983  : 			end_3d_scene ();

  00b7b	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN40@draw_defau:

; 984  : 		}
; 985  : 	}
; 986  : 
; 987  : 
; 988  : 	//draw_default_indicator_lamps_3d ();
; 989  : 	//draw_default_lamp_on_texture ();
; 990  : 
; 991  : 	//VJ wideview mod, date: 18-mar-03
; 992  : #if DEBUG_WIDEVIEW
; 993  : 	if (edit_wide_cockpit)
; 994  : 	{
; 995  : 		if (check_key(DIK_NUMPAD7))
; 996  : 		{
; 997  : 			system_sleep(20);
; 998  : 			  dy+= 0.002;
; 999  : 		}
; 1000 : 		if (check_key(DIK_NUMPAD9))
; 1001 : 		{
; 1002 : 			system_sleep(20);
; 1003 : 			  dy-= 0.002;
; 1004 : 		}
; 1005 : 		if (check_key(DIK_NUMPADSLASH))
; 1006 : 		{
; 1007 : 			system_sleep(20);
; 1008 : 			  dx+= 0.002;
; 1009 : 		}
; 1010 : 		if (check_key(DIK_NUMPADSTAR))
; 1011 : 		{
; 1012 : 			system_sleep(20);
; 1013 : 			  dx-= 0.002;
; 1014 : 		}
; 1015 : 		if (check_key(DIK_NUMPADMINUS))
; 1016 : 		{
; 1017 : 			system_sleep(20);
; 1018 : 			  dz+= 0.002;
; 1019 : 		}
; 1020 : 		if (check_key(DIK_NUMPADPLUS))
; 1021 : 		{
; 1022 : 			system_sleep(20);
; 1023 : 			  dz-= 0.002;
; 1024 : 		}
; 1025 : 		if (check_key(DIK_END))
; 1026 : 		{
; 1027 : 			system_sleep (100);
; 1028 : 				subnr++;
; 1029 : 	   }
; 1030 : 		if (check_key(DIK_NUMPAD0))
; 1031 : 		{
; 1032 : 				dx = 0;
; 1033 : 				dy = 0;
; 1034 : 				dz = 0;
; 1035 : 		}
; 1036 : 	}
; 1037 : #endif
; 1038 : 
; 1039 : 	move_edit_wide_cockpit ();

  00b80	e8 00 00 00 00	 call	 ?move_edit_wide_cockpit@@YGXXZ ; move_edit_wide_cockpit

; 1040 : 
; 1041 : 	////////////////////////////////////////
; 1042 : 	//
; 1043 : 	// tidy up
; 1044 : 	//
; 1045 : 	////////////////////////////////////////
; 1046 : 
; 1047 : 	#if RECOGNITION_GUIDE
; 1048 : 
; 1049 : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 1050 : 
; 1051 : 	#else
; 1052 : 
; 1053 : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00b85	51		 push	 ecx
  00b86	0f 57 c0	 xorps	 xmm0, xmm0
  00b89	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b8e	51		 push	 ecx
  00b8f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00b97	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b9c	51		 push	 ecx
  00b9d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00ba5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00baa	51		 push	 ecx
  00bab	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00bb3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bb8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00bbd	50		 push	 eax
  00bbe	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1054 : 
; 1055 : 	#endif
; 1056 : 
; 1057 : 	realise_3d_clip_extents (main_3d_env);

  00bc3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00bc8	50		 push	 eax
  00bc9	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1058 : }

  00bce	5f		 pop	 edi
  00bcf	5e		 pop	 esi
  00bd0	5b		 pop	 ebx
  00bd1	8b e5		 mov	 esp, ebp
  00bd3	5d		 pop	 ebp
  00bd4	c2 04 00	 ret	 4
  00bd7	90		 npad	 1
$LN56@draw_defau:
  00bd8	00 00 00 00	 DD	 $LN12@draw_defau
  00bdc	00 00 00 00	 DD	 $LN13@draw_defau
  00be0	00 00 00 00	 DD	 $LN14@draw_defau
  00be4	00 00 00 00	 DD	 $LN15@draw_defau
$LN57@draw_defau:
  00be8	00 00 00 00	 DD	 $LN41@draw_defau
  00bec	00 00 00 00	 DD	 $LN42@draw_defau
  00bf0	00 00 00 00	 DD	 $LN43@draw_defau
  00bf4	00 00 00 00	 DD	 $LN44@draw_defau
?draw_default_internal_virtual_cockpit_3d@@YGXI@Z ENDP	; draw_default_internal_virtual_cockpit_3d
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\default\df3d_vckpt.c
;	COMDAT ?initialise_default_virtual_cockpit_3d@@YGXXZ
_TEXT	SEGMENT
?initialise_default_virtual_cockpit_3d@@YGXXZ PROC	; initialise_default_virtual_cockpit_3d, COMDAT

; 171  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 172  : 	//
; 173  : 	// 3D instances
; 174  : 	//
; 175  : 
; 176  : 	virtual_cockpit_inst3d = NULL;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d

; 177  : 
; 178  : 	pilot_head_pitch_datum = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 179  : //VJ#
; 180  : 	co_pilot_head_pitch_datum = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?co_pilot_head_pitch_datum@@3MA, xmm0

; 181  : 
; 182  : //C:\gms\Razorworks\eech-new\modules\3d\3dobjdb.c
; 183  : 	virtual_cockpit_level1_inst3d = construct_3d_object (OBJECT_3D_AH64D_APACHE_LONGBOW);

  00029	6a 01		 push	 1
  0002b	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00030	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 184  : 
; 185  : 	virtual_cockpit_level2_inst3d = construct_3d_object (OBJECT_3D_AH64D_APACHE_LONGBOW);

  00035	6a 01		 push	 1
  00037	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0003c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 186  : 
; 187  : 	virtual_cockpit_level3_inst3d = construct_3d_object (OBJECT_3D_AH64D_APACHE_LONGBOW);

  00041	6a 01		 push	 1
  00043	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00048	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 188  : 
; 189  : 	virtual_cockpit_fillet_level1_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL1_FILLET);

  0004d	68 e1 04 00 00	 push	 1249			; 000004e1H
  00052	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00057	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 190  : 
; 191  : 	virtual_cockpit_fillet_level2_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL2_FILLET);

  0005c	68 ec 04 00 00	 push	 1260			; 000004ecH
  00061	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00066	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 192  : 
; 193  : 	virtual_cockpit_fillet_level3_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL3_FILLET);

  0006b	68 e8 04 00 00	 push	 1256			; 000004e8H
  00070	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00075	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 194  : 
; 195  : 	virtual_cockpit_main_rotor_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_MAIN_ROTOR);

  0007a	68 ea 04 00 00	 push	 1258			; 000004eaH
  0007f	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00084	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 196  : 
; 197  : 	virtual_cockpit_adi_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_ADI);

  00089	68 de 04 00 00	 push	 1246			; 000004deH
  0008e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00093	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 198  : 
; 199  : 	virtual_cockpit_large_adi_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_LARGE_ADI);

  00098	68 e2 04 00 00	 push	 1250			; 000004e2H
  0009d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000a2	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 200  : 
; 201  : 	virtual_cockpit_compass_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_COMPASS);

  000a7	68 df 04 00 00	 push	 1247			; 000004dfH
  000ac	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000b1	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 202  : 
; 203  : 	virtual_cockpit_instrument_needles_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_NEEDLES);

  000b6	68 e6 04 00 00	 push	 1254			; 000004e6H
  000bb	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000c0	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 204  : 
; 205  : 	virtual_cockpit_instrument_large_needles_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_LARGE_NEEDLES);

  000c5	68 e3 04 00 00	 push	 1251			; 000004e3H
  000ca	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000cf	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 206  : 
; 207  : 	virtual_cockpit_upfront_display_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_DISPLAYS_UPFRONT);

  000d4	68 ed 04 00 00	 push	 1261			; 000004edH
  000d9	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000de	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 208  : 
; 209  : 	virtual_cockpit_lhs_mfd_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_DISPLAYS_LHS_MFD);

  000e3	68 e4 04 00 00	 push	 1252			; 000004e4H
  000e8	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000ed	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 210  : 
; 211  : 	virtual_cockpit_rhs_mfd_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_DISPLAYS_RHS_MFD);

  000f2	68 e9 04 00 00	 push	 1257			; 000004e9H
  000f7	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000fc	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 212  : 
; 213  : 	virtual_cockpit_display_view_mfd_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_MFD_DISPLAYS_NEW);

  00101	68 e5 04 00 00	 push	 1253			; 000004e5H
  00106	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0010b	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 214  : 
; 215  : 	//
; 216  : 	// wipers and rain
; 217  : 	//
; 218  : 
; 219  : 	initialise_default_virtual_cockpit_wiper_and_rain_effect ();

  00110	e8 00 00 00 00	 call	 ?initialise_default_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; initialise_default_virtual_cockpit_wiper_and_rain_effect

; 220  : 
; 221  : 	//
; 222  : 	// virtual cockpit cameras
; 223  : 	//
; 224  : 
; 225  : 	initialise_common_virtual_cockpit_cameras ();

  00115	e8 00 00 00 00	 call	 ?initialise_common_virtual_cockpit_cameras@@YGXXZ ; initialise_common_virtual_cockpit_cameras

; 226  : 
; 227  : //VJ wideview mod, date: 18-mar-03
; 228  : 	wide_cockpit_nr = WIDEVIEW_APACHE_PILOT;

  0011a	c7 05 00 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?wide_cockpit_nr@@3HA, 4 ; wide_cockpit_nr

; 229  : 
; 230  : //VJ wideview mod, date: 20-mar-03
; 231  : //start up in normal view because when you switch to wideview the parameters are read
; 232  :    set_global_wide_cockpit(FALSE);

  00124	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 233  :    edit_wide_cockpit = FALSE;

  0012e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?edit_wide_cockpit@@3HA, 0 ; edit_wide_cockpit

; 234  : 
; 235  : 	subnr = 0;

  00138	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?subnr@@3HA, 0

; 236  : 	dx = 0; dy = 0; dz = 0;

  00142	0f 57 c0	 xorps	 xmm0, xmm0
  00145	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?dx@@3MA, xmm0
  0014d	0f 57 c0	 xorps	 xmm0, xmm0
  00150	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?dy@@3MA, xmm0
  00158	0f 57 c0	 xorps	 xmm0, xmm0
  0015b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?dz@@3MA, xmm0

; 237  : 
; 238  : //  initialise_default_lamp_screen ();
; 239  : 
; 240  : }

  00163	5f		 pop	 edi
  00164	5e		 pop	 esi
  00165	5b		 pop	 ebx
  00166	8b e5		 mov	 esp, ebp
  00168	5d		 pop	 ebp
  00169	c3		 ret	 0
?initialise_default_virtual_cockpit_3d@@YGXXZ ENDP	; initialise_default_virtual_cockpit_3d
_TEXT	ENDS
END
