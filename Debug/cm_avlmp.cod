; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?activate_comanche_master_caution@@YGXXZ	; activate_comanche_master_caution
PUBLIC	?deactivate_comanche_master_caution@@YGXXZ	; deactivate_comanche_master_caution
PUBLIC	?initialise_comanche_lamp_avionics@@YGXXZ	; initialise_comanche_lamp_avionics
PUBLIC	?deinitialise_comanche_lamp_avionics@@YGXXZ	; deinitialise_comanche_lamp_avionics
PUBLIC	?update_comanche_lamp_avionics@@YGXXZ		; update_comanche_lamp_avionics
PUBLIC	?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA ; `update_comanche_lamp_avionics'::`1'::__LINE__Var
PUBLIC	??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	__real@3e800000
PUBLIC	__real@3f000000
PUBLIC	__real@3f847ae147ae147b
PUBLIC	__real@3fd0000000000000
PUBLIC	__real@3fe999999999999a
PUBLIC	__real@40400000
PUBLIC	__real@4056800000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_local_entity_undercarriage_state@@YGHPAUENTITY@@@Z:PROC ; get_local_entity_undercarriage_state
EXTRN	?get_local_entity_weapon_system_ready_state@@YGHPAUENTITY@@@Z:PROC ; get_local_entity_weapon_system_ready_state
EXTRN	?get_comanche_stub_wings_attached@@YGHPAUENTITY@@@Z:PROC ; get_comanche_stub_wings_attached
EXTRN	?play_client_server_warning_message@@YGHPAUENTITY@@H@Z:PROC ; play_client_server_warning_message
EXTRN	?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z:PROC ; pause_local_entity_sound_type
EXTRN	?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z:PROC ; resume_local_entity_sound_type
EXTRN	?get_comanche_main_mfd_has_focus@@YGHW4COMANCHE_MAIN_MFD_LOCATIONS@@@Z:PROC ; get_comanche_main_mfd_has_focus
EXTRN	?get_current_flight_dynamics_auto_pilot@@YGHXZ:PROC ; get_current_flight_dynamics_auto_pilot
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?fire_extinguisher_used@@3HA:DWORD		; fire_extinguisher_used
EXTRN	?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A:QWORD	; comanche_lamps
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?master_caution_alert@@3HA DD 01H DUP (?)		; master_caution_alert
?engine_damage_imminent_status@@3HA DD 01H DUP (?)	; engine_damage_imminent_status
?previous_engine_damage_imminent_status@@3HA DD 01H DUP (?) ; previous_engine_damage_imminent_status
?master_caution_flash_timer@@3MA DD 01H DUP (?)		; master_caution_flash_timer
?master_caution_sound_timer@@3MA DD 01H DUP (?)		; master_caution_sound_timer
?gear_transition_state@@3HA DD 01H DUP (?)		; gear_transition_state
?gear_transition_timer@@3MA DD 01H DUP (?)		; gear_transition_timer
_BSS	ENDS
;	COMDAT __real@4056800000000000
CONST	SEGMENT
__real@4056800000000000 DQ 04056800000000000r	; 90
CONST	ENDS
;	COMDAT __real@40400000
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
CONST	ENDS
;	COMDAT __real@3fe999999999999a
CONST	SEGMENT
__real@3fe999999999999a DQ 03fe999999999999ar	; 0.8
CONST	ENDS
;	COMDAT __real@3fd0000000000000
CONST	SEGMENT
__real@3fd0000000000000 DQ 03fd0000000000000r	; 0.25
CONST	ENDS
;	COMDAT __real@3f847ae147ae147b
CONST	SEGMENT
__real@3f847ae147ae147b DQ 03f847ae147ae147br	; 0.01
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3e800000
CONST	SEGMENT
__real@3e800000 DD 03e800000r			; 0.25
CONST	ENDS
;	COMDAT ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\comanche\c'
	DB	'm_avlmp.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA DD 0f5H ; `update_comanche_lamp_avionics'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?update_master_caution@@YGXXZ
_TEXT	SEGMENT
tv80 = -68						; size = 4
?update_master_caution@@YGXXZ PROC			; update_master_caution, COMDAT

; 172  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 173  : 	//
; 174  : 	// monitor engine damage
; 175  : 	//
; 176  : 
; 177  : 	engine_damage_imminent_status = get_current_flight_dynamics_engine_damage_imminent ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0000e	f3 0f 5a 80 c4
	1c 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7364]
  00016	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0001c	f3 0f 5a 89 d0
	1c 00 00	 cvtss2sd xmm1, DWORD PTR [ecx+7376]
  00024	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe999999999999a
  0002c	66 0f 2f c1	 comisd	 xmm0, xmm1
  00030	77 32		 ja	 SHORT $LN7@update_mas
  00032	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00038	f3 0f 5a 82 24
	1d 00 00	 cvtss2sd xmm0, DWORD PTR [edx+7460]
  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00045	f3 0f 5a 88 30
	1d 00 00	 cvtss2sd xmm1, DWORD PTR [eax+7472]
  0004d	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe999999999999a
  00055	66 0f 2f c1	 comisd	 xmm0, xmm1
  00059	77 09		 ja	 SHORT $LN7@update_mas
  0005b	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
  00062	eb 07		 jmp	 SHORT $LN8@update_mas
$LN7@update_mas:
  00064	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv80[ebp], 1
$LN8@update_mas:
  0006b	8b 4d bc	 mov	 ecx, DWORD PTR tv80[ebp]
  0006e	89 0d 00 00 00
	00		 mov	 DWORD PTR ?engine_damage_imminent_status@@3HA, ecx

; 178  : 
; 179  : 	if ((!previous_engine_damage_imminent_status) && engine_damage_imminent_status)

  00074	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, 0
  0007b	75 1b		 jne	 SHORT $LN2@update_mas
  0007d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?engine_damage_imminent_status@@3HA, 0
  00084	74 12		 je	 SHORT $LN2@update_mas

; 180  : 	{
; 181  : 		play_client_server_warning_message (get_gunship_entity (), SPEECH_SYSTEM_ENGINE_OVERTORQUE);

  00086	6a 28		 push	 40			; 00000028H
  00088	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0008d	50		 push	 eax
  0008e	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 182  : 
; 183  : 		activate_comanche_master_caution ();

  00093	e8 00 00 00 00	 call	 ?activate_comanche_master_caution@@YGXXZ ; activate_comanche_master_caution
$LN2@update_mas:

; 184  : 	}
; 185  : 
; 186  : 	previous_engine_damage_imminent_status = engine_damage_imminent_status;

  00098	a1 00 00 00 00	 mov	 eax, DWORD PTR ?engine_damage_imminent_status@@3HA
  0009d	a3 00 00 00 00	 mov	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, eax

; 187  : 
; 188  : 	//
; 189  : 	// update master caution lamp
; 190  : 	//
; 191  : 
; 192  : 	if (master_caution_alert)

  000a2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?master_caution_alert@@3HA, 0
  000a9	0f 84 a7 00 00
	00		 je	 $LN5@update_mas

; 193  : 	{
; 194  : 		master_caution_flash_timer -= get_delta_time ();

  000af	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?master_caution_flash_timer@@3MA
  000b7	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  000bf	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 195  : 
; 196  : 		if (master_caution_flash_timer <= 0.0)

  000c7	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?master_caution_flash_timer@@3MA
  000cf	0f 57 c9	 xorps	 xmm1, xmm1
  000d2	66 0f 2f c8	 comisd	 xmm1, xmm0
  000d6	72 2f		 jb	 SHORT $LN4@update_mas

; 197  : 		{
; 198  : 			master_caution_flash_timer = MASTER_CAUTION_FLASH_RATE;

  000d8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000e0	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 199  : 
; 200  : 			comanche_lamps.master_caution ^= 1;

  000e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  000ed	83 e0 01	 and	 eax, 1
  000f0	83 f0 01	 xor	 eax, 1
  000f3	83 e0 01	 and	 eax, 1
  000f6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  000fc	83 e1 fe	 and	 ecx, -2			; fffffffeH
  000ff	0b c8		 or	 ecx, eax
  00101	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx
$LN4@update_mas:

; 201  : 		}
; 202  : 
; 203  : 		master_caution_sound_timer -= get_delta_time ();

  00107	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?master_caution_sound_timer@@3MA
  0010f	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00117	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 204  : 
; 205  : 		if (master_caution_sound_timer <= 0.0)

  0011f	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?master_caution_sound_timer@@3MA
  00127	0f 57 c9	 xorps	 xmm1, xmm1
  0012a	66 0f 2f c8	 comisd	 xmm1, xmm0
  0012e	72 26		 jb	 SHORT $LN5@update_mas

; 206  : 		{
; 207  : 			master_caution_sound_timer = 0.0;

  00130	0f 57 c0	 xorps	 xmm0, xmm0
  00133	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 208  : 
; 209  : 			pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  0013b	51		 push	 ecx
  0013c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00144	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00149	6a 19		 push	 25			; 00000019H
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN5@update_mas:

; 210  : 		}
; 211  : 	}
; 212  : }

  00156	5f		 pop	 edi
  00157	5e		 pop	 esi
  00158	5b		 pop	 ebx
  00159	8b e5		 mov	 esp, ebp
  0015b	5d		 pop	 ebp
  0015c	c3		 ret	 0
?update_master_caution@@YGXXZ ENDP			; update_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?deinitialise_master_caution@@YGXXZ
_TEXT	SEGMENT
?deinitialise_master_caution@@YGXXZ PROC		; deinitialise_master_caution, COMDAT

; 126  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 127  : 	if (get_gunship_entity ())

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	74 1b		 je	 SHORT $LN2@deinitiali

; 128  : 	{
; 129  : 		pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  00012	51		 push	 ecx
  00013	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0001b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00020	6a 19		 push	 25			; 00000019H
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00027	50		 push	 eax
  00028	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN2@deinitiali:

; 130  : 	}
; 131  : }

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c3		 ret	 0
?deinitialise_master_caution@@YGXXZ ENDP		; deinitialise_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?initialise_master_caution@@YGXXZ
_TEXT	SEGMENT
?initialise_master_caution@@YGXXZ PROC			; initialise_master_caution, COMDAT

; 109  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 110  : 	master_caution_alert = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 0

; 111  : 
; 112  : 	master_caution_flash_timer = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 113  : 
; 114  : 	master_caution_sound_timer = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 115  : 
; 116  : 	engine_damage_imminent_status = FALSE;

  00029	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?engine_damage_imminent_status@@3HA, 0

; 117  : 
; 118  : 	previous_engine_damage_imminent_status = FALSE;

  00033	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, 0

; 119  : }

  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi
  0003f	5b		 pop	 ebx
  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c3		 ret	 0
?initialise_master_caution@@YGXXZ ENDP			; initialise_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?update_comanche_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
tv388 = -84						; size = 4
tv363 = -84						; size = 4
tv338 = -84						; size = 4
tv313 = -84						; size = 4
tv260 = -84						; size = 4
tv182 = -84						; size = 4
tv382 = -80						; size = 4
tv357 = -80						; size = 4
tv332 = -80						; size = 4
tv307 = -80						; size = 4
tv254 = -80						; size = 4
tv179 = -80						; size = 4
tv134 = -80						; size = 4
tv79 = -80						; size = 4
tv477 = -76						; size = 4
tv470 = -76						; size = 4
tv463 = -76						; size = 4
tv456 = -76						; size = 4
tv436 = -76						; size = 4
tv431 = -76						; size = 4
tv417 = -76						; size = 4
tv411 = -76						; size = 4
tv403 = -76						; size = 4
tv374 = -76						; size = 4
tv349 = -76						; size = 4
tv324 = -76						; size = 4
tv299 = -76						; size = 4
tv288 = -76						; size = 4
tv282 = -76						; size = 4
tv273 = -76						; size = 4
tv246 = -76						; size = 4
tv221 = -76						; size = 4
tv208 = -76						; size = 4
tv197 = -76						; size = 4
tv175 = -76						; size = 4
tv167 = -76						; size = 4
tv151 = -76						; size = 4
tv142 = -76						; size = 4
tv128 = -76						; size = 4
tv88 = -76						; size = 4
tv73 = -76						; size = 4
_gear_state$ = -8					; size = 4
_en$ = -4						; size = 4
?update_comanche_lamp_avionics@@YGXXZ PROC		; update_comanche_lamp_avionics, COMDAT

; 245  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 246  : 	entity
; 247  : 		*en;
; 248  : 
; 249  : 	int
; 250  : 		gear_state;
; 251  : 
; 252  : 	en = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 253  : 
; 254  : 	update_master_caution ();

  00011	e8 00 00 00 00	 call	 ?update_master_caution@@YGXXZ ; update_master_caution

; 255  : 
; 256  : 	////////////////////////////////////////
; 257  : 
; 258  : 	gear_state = get_local_entity_undercarriage_state (en);

  00016	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?get_local_entity_undercarriage_state@@YGHPAUENTITY@@@Z ; get_local_entity_undercarriage_state
  0001f	89 45 f8	 mov	 DWORD PTR _gear_state$[ebp], eax

; 259  : 
; 260  : 	gear_transition_timer -= get_delta_time ();

  00022	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?gear_transition_timer@@3MA
  0002a	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00032	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?gear_transition_timer@@3MA, xmm0

; 261  : 
; 262  : 	if (gear_transition_timer <= 0.0)

  0003a	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?gear_transition_timer@@3MA
  00042	0f 57 c9	 xorps	 xmm1, xmm1
  00045	66 0f 2f c8	 comisd	 xmm1, xmm0
  00049	72 1d		 jb	 SHORT $LN4@update_com

; 263  : 	{
; 264  : 		gear_transition_state ^= 1;

  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gear_transition_state@@3HA
  00050	83 f0 01	 xor	 eax, 1
  00053	a3 00 00 00 00	 mov	 DWORD PTR ?gear_transition_state@@3HA, eax

; 265  : 
; 266  : 		gear_transition_timer = GEAR_TRANSITION_FLASH_RATE;

  00058	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e800000
  00060	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?gear_transition_timer@@3MA, xmm0
$LN4@update_com:

; 267  : 	}
; 268  : 
; 269  : 	////////////////////////////////////////
; 270  : 
; 271  : 	comanche_lamps.left_engine_ignition = !get_dynamics_damage_type (DYNAMICS_DAMAGE_LEFT_ENGINE) && current_flight_dynamics->left_engine_rpm.value > 0.01;

  00068	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0006d	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  00073	83 e1 08	 and	 ecx, 8
  00076	74 09		 je	 SHORT $LN10@update_com
  00078	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv73[ebp], 1
  0007f	eb 07		 jmp	 SHORT $LN11@update_com
$LN10@update_com:
  00081	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN11@update_com:
  00088	83 7d b4 00	 cmp	 DWORD PTR tv73[ebp], 0
  0008c	75 21		 jne	 SHORT $LN12@update_com
  0008e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00094	f3 0f 5a 82 7c
	1c 00 00	 cvtss2sd xmm0, DWORD PTR [edx+7292]
  0009c	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  000a4	76 09		 jbe	 SHORT $LN12@update_com
  000a6	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR tv79[ebp], 1
  000ad	eb 07		 jmp	 SHORT $LN13@update_com
$LN12@update_com:
  000af	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv79[ebp], 0
$LN13@update_com:
  000b6	8b 45 b0	 mov	 eax, DWORD PTR tv79[ebp]
  000b9	83 e0 01	 and	 eax, 1
  000bc	d1 e0		 shl	 eax, 1
  000be	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  000c4	83 e1 fd	 and	 ecx, -3			; fffffffdH
  000c7	0b c8		 or	 ecx, eax
  000c9	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 272  : 
; 273  : 	comanche_lamps.apu_ignition = current_flight_dynamics->apu_rpm.value > 0.01;

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  000d4	f3 0f 5a 80 3c
	1d 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7484]
  000dc	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  000e4	76 09		 jbe	 SHORT $LN14@update_com
  000e6	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv88[ebp], 1
  000ed	eb 07		 jmp	 SHORT $LN15@update_com
$LN14@update_com:
  000ef	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv88[ebp], 0
$LN15@update_com:
  000f6	8b 4d b4	 mov	 ecx, DWORD PTR tv88[ebp]
  000f9	83 e1 01	 and	 ecx, 1
  000fc	c1 e1 02	 shl	 ecx, 2
  000ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00105	83 e2 fb	 and	 edx, -5			; fffffffbH
  00108	0b d1		 or	 edx, ecx
  0010a	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 274  : 
; 275  : 	comanche_lamps.right_engine_ignition = !get_dynamics_damage_type (DYNAMICS_DAMAGE_RIGHT_ENGINE) && current_flight_dynamics->right_engine_rpm.value > 0.01; 

  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00115	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  0011b	83 e1 10	 and	 ecx, 16			; 00000010H
  0011e	74 09		 je	 SHORT $LN16@update_com
  00120	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv128[ebp], 1
  00127	eb 07		 jmp	 SHORT $LN17@update_com
$LN16@update_com:
  00129	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv128[ebp], 0
$LN17@update_com:
  00130	83 7d b4 00	 cmp	 DWORD PTR tv128[ebp], 0
  00134	75 21		 jne	 SHORT $LN18@update_com
  00136	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0013c	f3 0f 5a 82 dc
	1c 00 00	 cvtss2sd xmm0, DWORD PTR [edx+7388]
  00144	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  0014c	76 09		 jbe	 SHORT $LN18@update_com
  0014e	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR tv134[ebp], 1
  00155	eb 07		 jmp	 SHORT $LN19@update_com
$LN18@update_com:
  00157	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN19@update_com:
  0015e	8b 45 b0	 mov	 eax, DWORD PTR tv134[ebp]
  00161	83 e0 01	 and	 eax, 1
  00164	c1 e0 03	 shl	 eax, 3
  00167	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  0016d	83 e1 f7	 and	 ecx, -9			; fffffff7H
  00170	0b c8		 or	 ecx, eax
  00172	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 276  : 
; 277  : 	comanche_lamps.left_engine_fire = get_dynamics_damage_type (DYNAMICS_DAMAGE_LEFT_ENGINE_FIRE);

  00178	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0017d	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  00183	83 e1 20	 and	 ecx, 32			; 00000020H
  00186	74 09		 je	 SHORT $LN20@update_com
  00188	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv142[ebp], 1
  0018f	eb 07		 jmp	 SHORT $LN21@update_com
$LN20@update_com:
  00191	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv142[ebp], 0
$LN21@update_com:
  00198	8b 55 b4	 mov	 edx, DWORD PTR tv142[ebp]
  0019b	83 e2 01	 and	 edx, 1
  0019e	c1 e2 04	 shl	 edx, 4
  001a1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  001a6	83 e0 ef	 and	 eax, -17		; ffffffefH
  001a9	0b c2		 or	 eax, edx
  001ab	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 278  : 
; 279  : 	comanche_lamps.apu_fire = 0;

  001b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  001b5	83 e0 df	 and	 eax, -33		; ffffffdfH
  001b8	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 280  : 
; 281  : 	comanche_lamps.right_engine_fire = get_dynamics_damage_type (DYNAMICS_DAMAGE_RIGHT_ENGINE_FIRE);

  001bd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  001c2	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  001c8	83 e1 40	 and	 ecx, 64			; 00000040H
  001cb	74 09		 je	 SHORT $LN22@update_com
  001cd	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv151[ebp], 1
  001d4	eb 07		 jmp	 SHORT $LN23@update_com
$LN22@update_com:
  001d6	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv151[ebp], 0
$LN23@update_com:
  001dd	8b 55 b4	 mov	 edx, DWORD PTR tv151[ebp]
  001e0	83 e2 01	 and	 edx, 1
  001e3	c1 e2 06	 shl	 edx, 6
  001e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  001eb	83 e0 bf	 and	 eax, -65		; ffffffbfH
  001ee	0b c2		 or	 eax, edx
  001f0	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 282  : 
; 283  : 	comanche_lamps.left_engine_fire_extinguiser = fire_extinguisher_used;

  001f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?fire_extinguisher_used@@3HA ; fire_extinguisher_used
  001fa	83 e0 01	 and	 eax, 1
  001fd	c1 e0 07	 shl	 eax, 7
  00200	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00206	81 e1 7f ff ff
	ff		 and	 ecx, -129		; ffffff7fH
  0020c	0b c8		 or	 ecx, eax
  0020e	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 284  : 
; 285  : 	comanche_lamps.right_engine_fire_extinguiser = fire_extinguisher_used;

  00214	a1 00 00 00 00	 mov	 eax, DWORD PTR ?fire_extinguisher_used@@3HA ; fire_extinguisher_used
  00219	83 e0 01	 and	 eax, 1
  0021c	c1 e0 08	 shl	 eax, 8
  0021f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00225	81 e1 ff fe ff
	ff		 and	 ecx, -257		; fffffeffH
  0022b	0b c8		 or	 ecx, eax
  0022d	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 286  : 
; 287  : 	comanche_lamps.hydraulic_pressure = get_dynamics_damage_type (DYNAMICS_DAMAGE_LOW_HYDRAULICS);

  00233	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00238	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  0023e	81 e1 80 00 00
	00		 and	 ecx, 128		; 00000080H
  00244	74 09		 je	 SHORT $LN24@update_com
  00246	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv167[ebp], 1
  0024d	eb 07		 jmp	 SHORT $LN25@update_com
$LN24@update_com:
  0024f	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv167[ebp], 0
$LN25@update_com:
  00256	8b 55 b4	 mov	 edx, DWORD PTR tv167[ebp]
  00259	83 e2 01	 and	 edx, 1
  0025c	c1 e2 09	 shl	 edx, 9
  0025f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00264	25 ff fd ff ff	 and	 eax, -513		; fffffdffH
  00269	0b c2		 or	 eax, edx
  0026b	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 288  : 
; 289  : 	comanche_lamps.oil_pressure = get_dynamics_damage_type (DYNAMICS_DAMAGE_LOW_OIL_PRESSURE) || get_dynamics_damage_type (DYNAMICS_DAMAGE_HIGH_OIL_PRESSURE);

  00270	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00275	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  0027b	81 e1 00 04 00
	00		 and	 ecx, 1024		; 00000400H
  00281	74 09		 je	 SHORT $LN26@update_com
  00283	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv175[ebp], 1
  0028a	eb 07		 jmp	 SHORT $LN27@update_com
$LN26@update_com:
  0028c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv175[ebp], 0
$LN27@update_com:
  00293	83 7d b4 00	 cmp	 DWORD PTR tv175[ebp], 0
  00297	75 32		 jne	 SHORT $LN30@update_com
  00299	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0029f	8b 82 24 25 00
	00		 mov	 eax, DWORD PTR [edx+9508]
  002a5	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  002aa	74 09		 je	 SHORT $LN28@update_com
  002ac	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR tv179[ebp], 1
  002b3	eb 07		 jmp	 SHORT $LN29@update_com
$LN28@update_com:
  002b5	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN29@update_com:
  002bc	83 7d b0 00	 cmp	 DWORD PTR tv179[ebp], 0
  002c0	75 09		 jne	 SHORT $LN30@update_com
  002c2	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv182[ebp], 0
  002c9	eb 07		 jmp	 SHORT $LN31@update_com
$LN30@update_com:
  002cb	c7 45 ac 01 00
	00 00		 mov	 DWORD PTR tv182[ebp], 1
$LN31@update_com:
  002d2	8b 4d ac	 mov	 ecx, DWORD PTR tv182[ebp]
  002d5	83 e1 01	 and	 ecx, 1
  002d8	c1 e1 0a	 shl	 ecx, 10			; 0000000aH
  002db	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  002e1	81 e2 ff fb ff
	ff		 and	 edx, -1025		; fffffbffH
  002e7	0b d1		 or	 edx, ecx
  002e9	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 290  : 
; 291  : 	comanche_lamps.oil_temperature = 0;

  002ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  002f4	25 ff f7 ff ff	 and	 eax, -2049		; fffff7ffH
  002f9	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 292  : 
; 293  : 	comanche_lamps.overtorque = get_current_flight_dynamics_overtorque ();

  002fe	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  00303	85 c0		 test	 eax, eax
  00305	75 2c		 jne	 SHORT $LN32@update_com
  00307	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0030c	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  00312	83 e1 01	 and	 ecx, 1
  00315	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0031b	8b 82 28 25 00
	00		 mov	 eax, DWORD PTR [edx+9512]
  00321	d1 e8		 shr	 eax, 1
  00323	83 e0 01	 and	 eax, 1
  00326	0b c8		 or	 ecx, eax
  00328	74 09		 je	 SHORT $LN32@update_com
  0032a	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv197[ebp], 1
  00331	eb 07		 jmp	 SHORT $LN33@update_com
$LN32@update_com:
  00333	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv197[ebp], 0
$LN33@update_com:
  0033a	8b 4d b4	 mov	 ecx, DWORD PTR tv197[ebp]
  0033d	83 e1 01	 and	 ecx, 1
  00340	c1 e1 0c	 shl	 ecx, 12			; 0000000cH
  00343	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00349	81 e2 ff ef ff
	ff		 and	 edx, -4097		; ffffefffH
  0034f	0b d1		 or	 edx, ecx
  00351	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 294  : 
; 295  : 	comanche_lamps.rotor_rpm = get_current_flight_dynamics_low_rotor_rpm ();

  00357	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  0035c	85 c0		 test	 eax, eax
  0035e	75 24		 jne	 SHORT $LN34@update_com
  00360	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00365	f3 0f 5a 80 14
	1e 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7700]
  0036d	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4056800000000000
  00375	66 0f 2f c8	 comisd	 xmm1, xmm0
  00379	76 09		 jbe	 SHORT $LN34@update_com
  0037b	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv208[ebp], 1
  00382	eb 07		 jmp	 SHORT $LN35@update_com
$LN34@update_com:
  00384	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv208[ebp], 0
$LN35@update_com:
  0038b	8b 4d b4	 mov	 ecx, DWORD PTR tv208[ebp]
  0038e	83 e1 01	 and	 ecx, 1
  00391	c1 e1 0d	 shl	 ecx, 13			; 0000000dH
  00394	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  0039a	81 e2 ff df ff
	ff		 and	 edx, -8193		; ffffdfffH
  003a0	0b d1		 or	 edx, ecx
  003a2	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 296  : 
; 297  : 	comanche_lamps.fuel_low = current_flight_dynamics->fuel_weight.value < (current_flight_dynamics->fuel_weight.max * 0.25);

  003a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  003ad	f3 0f 5a 80 a4
	24 00 00	 cvtss2sd xmm0, DWORD PTR [eax+9380]
  003b5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  003bb	f3 0f 5a 89 b0
	24 00 00	 cvtss2sd xmm1, DWORD PTR [ecx+9392]
  003c3	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fd0000000000000
  003cb	66 0f 2f c8	 comisd	 xmm1, xmm0
  003cf	76 09		 jbe	 SHORT $LN36@update_com
  003d1	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv221[ebp], 1
  003d8	eb 07		 jmp	 SHORT $LN37@update_com
$LN36@update_com:
  003da	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv221[ebp], 0
$LN37@update_com:
  003e1	8b 55 b4	 mov	 edx, DWORD PTR tv221[ebp]
  003e4	83 e2 01	 and	 edx, 1
  003e7	c1 e2 0e	 shl	 edx, 14			; 0000000eH
  003ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  003ef	25 ff bf ff ff	 and	 eax, -16385		; ffffbfffH
  003f4	0b c2		 or	 eax, edx
  003f6	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 298  : 
; 299  : 	comanche_lamps.rotor_brake = get_current_flight_dynamics_rotor_brake ();

  003fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00400	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  00406	c1 e9 05	 shr	 ecx, 5
  00409	83 e1 01	 and	 ecx, 1
  0040c	83 e1 01	 and	 ecx, 1
  0040f	c1 e1 0f	 shl	 ecx, 15			; 0000000fH
  00412	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00418	81 e2 ff 7f ff
	ff		 and	 edx, -32769		; ffff7fffH
  0041e	0b d1		 or	 edx, ecx
  00420	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 300  : 
; 301  : 	comanche_lamps.wheel_brake = get_current_flight_dynamics_wheel_brake ();

  00426	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0042b	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  00431	c1 e9 06	 shr	 ecx, 6
  00434	83 e1 01	 and	 ecx, 1
  00437	83 e1 01	 and	 ecx, 1
  0043a	c1 e1 10	 shl	 ecx, 16			; 00000010H
  0043d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00443	81 e2 ff ff fe
	ff		 and	 edx, -65537		; fffeffffH
  00449	0b d1		 or	 edx, ecx
  0044b	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 302  : 
; 303  : 	comanche_lamps.navigation_lights = get_local_entity_int_value (en, INT_TYPE_LIGHTS_ON);

  00451	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00455	74 0a		 je	 SHORT $LN38@update_com
  00457	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0045a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0045c	89 4d b4	 mov	 DWORD PTR tv246[ebp], ecx
  0045f	eb 21		 jmp	 SHORT $LN39@update_com
$LN38@update_com:
  00461	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  00467	83 c2 3a	 add	 edx, 58			; 0000003aH
  0046a	52		 push	 edx
  0046b	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00470	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00475	50		 push	 eax
  00476	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0047b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv246[ebp], 0
$LN39@update_com:
  00482	b9 01 00 00 00	 mov	 ecx, 1
  00487	85 c9		 test	 ecx, ecx
  00489	74 09		 je	 SHORT $LN40@update_com
  0048b	c7 45 b0 7a 00
	00 00		 mov	 DWORD PTR tv254[ebp], 122 ; 0000007aH
  00492	eb 21		 jmp	 SHORT $LN41@update_com
$LN40@update_com:
  00494	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  0049a	83 c2 3a	 add	 edx, 58			; 0000003aH
  0049d	52		 push	 edx
  0049e	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  004a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  004a8	50		 push	 eax
  004a9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004ae	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv254[ebp], 0
$LN41@update_com:
  004b5	6a 7a		 push	 122			; 0000007aH
  004b7	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  004ba	51		 push	 ecx
  004bb	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv246[ebp], 1116
  004c2	8b 45 b0	 mov	 eax, DWORD PTR tv254[ebp]
  004c5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  004cc	ff d1		 call	 ecx
  004ce	89 45 ac	 mov	 DWORD PTR tv260[ebp], eax
  004d1	8b 55 ac	 mov	 edx, DWORD PTR tv260[ebp]
  004d4	83 e2 01	 and	 edx, 1
  004d7	c1 e2 11	 shl	 edx, 17			; 00000011H
  004da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  004df	25 ff ff fd ff	 and	 eax, -131073		; fffdffffH
  004e4	0b c2		 or	 eax, edx
  004e6	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 304  : 
; 305  : 	comanche_lamps.hover_hold = get_current_flight_dynamics_auto_hover ();

  004eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  004f0	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  004f6	c1 e9 07	 shr	 ecx, 7
  004f9	83 e1 07	 and	 ecx, 7
  004fc	83 f9 01	 cmp	 ecx, 1
  004ff	74 20		 je	 SHORT $LN42@update_com
  00501	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00507	8b 82 28 25 00
	00		 mov	 eax, DWORD PTR [edx+9512]
  0050d	c1 e8 07	 shr	 eax, 7
  00510	83 e0 07	 and	 eax, 7
  00513	83 f8 02	 cmp	 eax, 2
  00516	74 09		 je	 SHORT $LN42@update_com
  00518	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv273[ebp], 0
  0051f	eb 07		 jmp	 SHORT $LN43@update_com
$LN42@update_com:
  00521	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv273[ebp], 1
$LN43@update_com:
  00528	8b 4d b4	 mov	 ecx, DWORD PTR tv273[ebp]
  0052b	83 e1 01	 and	 ecx, 1
  0052e	c1 e1 12	 shl	 ecx, 18			; 00000012H
  00531	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00537	81 e2 ff ff fb
	ff		 and	 edx, -262145		; fffbffffH
  0053d	0b d1		 or	 edx, ecx
  0053f	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 306  : 
; 307  : 	comanche_lamps.altitude_hold = get_current_flight_dynamics_altitude_lock ();

  00545	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0054a	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  00550	c1 e9 07	 shr	 ecx, 7
  00553	83 e1 07	 and	 ecx, 7
  00556	83 f9 03	 cmp	 ecx, 3
  00559	75 09		 jne	 SHORT $LN44@update_com
  0055b	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv282[ebp], 1
  00562	eb 07		 jmp	 SHORT $LN45@update_com
$LN44@update_com:
  00564	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv282[ebp], 0
$LN45@update_com:
  0056b	8b 55 b4	 mov	 edx, DWORD PTR tv282[ebp]
  0056e	83 e2 01	 and	 edx, 1
  00571	c1 e2 13	 shl	 edx, 19			; 00000013H
  00574	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00579	25 ff ff f7 ff	 and	 eax, -524289		; fff7ffffH
  0057e	0b c2		 or	 eax, edx
  00580	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 308  : 
; 309  : 	comanche_lamps.auto_pilot = get_current_flight_dynamics_auto_pilot ();

  00585	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  0058a	89 45 b4	 mov	 DWORD PTR tv288[ebp], eax
  0058d	8b 45 b4	 mov	 eax, DWORD PTR tv288[ebp]
  00590	83 e0 01	 and	 eax, 1
  00593	c1 e0 14	 shl	 eax, 20			; 00000014H
  00596	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  0059c	81 e1 ff ff ef
	ff		 and	 ecx, -1048577		; ffefffffH
  005a2	0b c8		 or	 ecx, eax
  005a4	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 310  : 
; 311  : 	comanche_lamps.radar = get_local_entity_int_value (en, INT_TYPE_RADAR_ON);

  005aa	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  005ae	74 0a		 je	 SHORT $LN46@update_com
  005b0	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  005b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  005b5	89 4d b4	 mov	 DWORD PTR tv299[ebp], ecx
  005b8	eb 21		 jmp	 SHORT $LN47@update_com
$LN46@update_com:
  005ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  005c0	83 c2 42	 add	 edx, 66			; 00000042H
  005c3	52		 push	 edx
  005c4	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  005c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005ce	50		 push	 eax
  005cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005d4	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv299[ebp], 0
$LN47@update_com:
  005db	b9 01 00 00 00	 mov	 ecx, 1
  005e0	85 c9		 test	 ecx, ecx
  005e2	74 09		 je	 SHORT $LN48@update_com
  005e4	c7 45 b0 a9 00
	00 00		 mov	 DWORD PTR tv307[ebp], 169 ; 000000a9H
  005eb	eb 21		 jmp	 SHORT $LN49@update_com
$LN48@update_com:
  005ed	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  005f3	83 c2 42	 add	 edx, 66			; 00000042H
  005f6	52		 push	 edx
  005f7	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  005fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00601	50		 push	 eax
  00602	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00607	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv307[ebp], 0
$LN49@update_com:
  0060e	68 a9 00 00 00	 push	 169			; 000000a9H
  00613	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00616	51		 push	 ecx
  00617	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv299[ebp], 1116
  0061e	8b 45 b0	 mov	 eax, DWORD PTR tv307[ebp]
  00621	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00628	ff d1		 call	 ecx
  0062a	89 45 ac	 mov	 DWORD PTR tv313[ebp], eax
  0062d	8b 55 ac	 mov	 edx, DWORD PTR tv313[ebp]
  00630	83 e2 01	 and	 edx, 1
  00633	c1 e2 15	 shl	 edx, 21			; 00000015H
  00636	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  0063b	25 ff ff df ff	 and	 eax, -2097153		; ffdfffffH
  00640	0b c2		 or	 eax, edx
  00642	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 312  : 
; 313  : 	comanche_lamps.laser = get_local_entity_int_value (en, INT_TYPE_LASER_ON);

  00647	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0064b	74 0a		 je	 SHORT $LN50@update_com
  0064d	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00650	8b 08		 mov	 ecx, DWORD PTR [eax]
  00652	89 4d b4	 mov	 DWORD PTR tv324[ebp], ecx
  00655	eb 21		 jmp	 SHORT $LN51@update_com
$LN50@update_com:
  00657	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  0065d	83 c2 44	 add	 edx, 68			; 00000044H
  00660	52		 push	 edx
  00661	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00666	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0066b	50		 push	 eax
  0066c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00671	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv324[ebp], 0
$LN51@update_com:
  00678	b9 01 00 00 00	 mov	 ecx, 1
  0067d	85 c9		 test	 ecx, ecx
  0067f	74 09		 je	 SHORT $LN52@update_com
  00681	c7 45 b0 78 00
	00 00		 mov	 DWORD PTR tv332[ebp], 120 ; 00000078H
  00688	eb 21		 jmp	 SHORT $LN53@update_com
$LN52@update_com:
  0068a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  00690	83 c2 44	 add	 edx, 68			; 00000044H
  00693	52		 push	 edx
  00694	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00699	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0069e	50		 push	 eax
  0069f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006a4	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv332[ebp], 0
$LN53@update_com:
  006ab	6a 78		 push	 120			; 00000078H
  006ad	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  006b0	51		 push	 ecx
  006b1	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv324[ebp], 1116
  006b8	8b 45 b0	 mov	 eax, DWORD PTR tv332[ebp]
  006bb	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  006c2	ff d1		 call	 ecx
  006c4	89 45 ac	 mov	 DWORD PTR tv338[ebp], eax
  006c7	8b 55 ac	 mov	 edx, DWORD PTR tv338[ebp]
  006ca	83 e2 01	 and	 edx, 1
  006cd	c1 e2 16	 shl	 edx, 22			; 00000016H
  006d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  006d5	25 ff ff bf ff	 and	 eax, -4194305		; ffbfffffH
  006da	0b c2		 or	 eax, edx
  006dc	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 314  : 
; 315  : 	comanche_lamps.radar_jammer = get_local_entity_int_value (en, INT_TYPE_RADAR_JAMMER_ON);

  006e1	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  006e5	74 0a		 je	 SHORT $LN54@update_com
  006e7	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  006ea	8b 08		 mov	 ecx, DWORD PTR [eax]
  006ec	89 4d b4	 mov	 DWORD PTR tv349[ebp], ecx
  006ef	eb 21		 jmp	 SHORT $LN55@update_com
$LN54@update_com:
  006f1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  006f7	83 c2 46	 add	 edx, 70			; 00000046H
  006fa	52		 push	 edx
  006fb	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00700	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00705	50		 push	 eax
  00706	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0070b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv349[ebp], 0
$LN55@update_com:
  00712	b9 01 00 00 00	 mov	 ecx, 1
  00717	85 c9		 test	 ecx, ecx
  00719	74 09		 je	 SHORT $LN56@update_com
  0071b	c7 45 b0 a8 00
	00 00		 mov	 DWORD PTR tv357[ebp], 168 ; 000000a8H
  00722	eb 21		 jmp	 SHORT $LN57@update_com
$LN56@update_com:
  00724	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  0072a	83 c2 46	 add	 edx, 70			; 00000046H
  0072d	52		 push	 edx
  0072e	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00733	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00738	50		 push	 eax
  00739	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0073e	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv357[ebp], 0
$LN57@update_com:
  00745	68 a8 00 00 00	 push	 168			; 000000a8H
  0074a	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0074d	51		 push	 ecx
  0074e	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv349[ebp], 1116
  00755	8b 45 b0	 mov	 eax, DWORD PTR tv357[ebp]
  00758	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0075f	ff d1		 call	 ecx
  00761	89 45 ac	 mov	 DWORD PTR tv363[ebp], eax
  00764	8b 55 ac	 mov	 edx, DWORD PTR tv363[ebp]
  00767	83 e2 01	 and	 edx, 1
  0076a	c1 e2 17	 shl	 edx, 23			; 00000017H
  0076d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00772	25 ff ff 7f ff	 and	 eax, -8388609		; ff7fffffH
  00777	0b c2		 or	 eax, edx
  00779	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 316  : 
; 317  : 	comanche_lamps.ir_jammer = get_local_entity_int_value (en, INT_TYPE_INFRA_RED_JAMMER_ON);

  0077e	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00782	74 0a		 je	 SHORT $LN58@update_com
  00784	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00787	8b 08		 mov	 ecx, DWORD PTR [eax]
  00789	89 4d b4	 mov	 DWORD PTR tv374[ebp], ecx
  0078c	eb 21		 jmp	 SHORT $LN59@update_com
$LN58@update_com:
  0078e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  00794	83 c2 48	 add	 edx, 72			; 00000048H
  00797	52		 push	 edx
  00798	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  0079d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  007a2	50		 push	 eax
  007a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007a8	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv374[ebp], 0
$LN59@update_com:
  007af	b9 01 00 00 00	 mov	 ecx, 1
  007b4	85 c9		 test	 ecx, ecx
  007b6	74 09		 je	 SHORT $LN60@update_com
  007b8	c7 45 b0 68 00
	00 00		 mov	 DWORD PTR tv382[ebp], 104 ; 00000068H
  007bf	eb 21		 jmp	 SHORT $LN61@update_com
$LN60@update_com:
  007c1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_comanche_lamp_avionics@@YGXXZ@4JA
  007c7	83 c2 48	 add	 edx, 72			; 00000048H
  007ca	52		 push	 edx
  007cb	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PHMHDHKG@c?3?2users?2nhv90?2projects?2eech?2ap@
  007d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  007d5	50		 push	 eax
  007d6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007db	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv382[ebp], 0
$LN61@update_com:
  007e2	6a 68		 push	 104			; 00000068H
  007e4	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  007e7	51		 push	 ecx
  007e8	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv374[ebp], 1116
  007ef	8b 45 b0	 mov	 eax, DWORD PTR tv382[ebp]
  007f2	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  007f9	ff d1		 call	 ecx
  007fb	89 45 ac	 mov	 DWORD PTR tv388[ebp], eax
  007fe	8b 55 ac	 mov	 edx, DWORD PTR tv388[ebp]
  00801	83 e2 01	 and	 edx, 1
  00804	c1 e2 18	 shl	 edx, 24			; 00000018H
  00807	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  0080c	25 ff ff ff fe	 and	 eax, -16777217		; feffffffH
  00811	0b c2		 or	 eax, edx
  00813	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 318  : 
; 319  : 	comanche_lamps.auto_counter_measures = get_global_auto_counter_measures ();

  00818	a1 90 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+144
  0081d	83 e0 01	 and	 eax, 1
  00820	c1 e0 19	 shl	 eax, 25			; 00000019H
  00823	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00829	81 e1 ff ff ff
	fd		 and	 ecx, -33554433		; fdffffffH
  0082f	0b c8		 or	 ecx, eax
  00831	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 320  : 
; 321  : 	comanche_lamps.ase_auto_page = get_global_ase_auto_page ();

  00837	a1 64 03 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+868
  0083c	83 e0 01	 and	 eax, 1
  0083f	c1 e0 1a	 shl	 eax, 26			; 0000001aH
  00842	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00848	81 e1 ff ff ff
	fb		 and	 ecx, -67108865		; fbffffffH
  0084e	0b c8		 or	 ecx, eax
  00850	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 322  : 
; 323  : 	comanche_lamps.config_stub_wings = get_comanche_stub_wings_attached (en);

  00856	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00859	50		 push	 eax
  0085a	e8 00 00 00 00	 call	 ?get_comanche_stub_wings_attached@@YGHPAUENTITY@@@Z ; get_comanche_stub_wings_attached
  0085f	89 45 b4	 mov	 DWORD PTR tv403[ebp], eax
  00862	8b 4d b4	 mov	 ecx, DWORD PTR tv403[ebp]
  00865	83 e1 01	 and	 ecx, 1
  00868	c1 e1 1b	 shl	 ecx, 27			; 0000001bH
  0086b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00871	81 e2 ff ff ff
	f7		 and	 edx, -134217729		; f7ffffffH
  00877	0b d1		 or	 edx, ecx
  00879	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 324  : 
; 325  : 	comanche_lamps.config_bay_doors = (get_local_entity_weapon_system_ready_state (get_gunship_entity ()) != WEAPON_SYSTEM_READY_CLOSED);

  0087f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00884	50		 push	 eax
  00885	e8 00 00 00 00	 call	 ?get_local_entity_weapon_system_ready_state@@YGHPAUENTITY@@@Z ; get_local_entity_weapon_system_ready_state
  0088a	85 c0		 test	 eax, eax
  0088c	74 09		 je	 SHORT $LN62@update_com
  0088e	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv411[ebp], 1
  00895	eb 07		 jmp	 SHORT $LN63@update_com
$LN62@update_com:
  00897	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv411[ebp], 0
$LN63@update_com:
  0089e	8b 4d b4	 mov	 ecx, DWORD PTR tv411[ebp]
  008a1	83 e1 01	 and	 ecx, 1
  008a4	c1 e1 1c	 shl	 ecx, 28			; 0000001cH
  008a7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  008ad	81 e2 ff ff ff
	ef		 and	 edx, -268435457		; efffffffH
  008b3	0b d1		 or	 edx, ecx
  008b5	89 15 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, edx

; 326  : 
; 327  : 	comanche_lamps.config_gear = (gear_state != AIRCRAFT_UNDERCARRIAGE_UP);

  008bb	83 7d f8 00	 cmp	 DWORD PTR _gear_state$[ebp], 0
  008bf	74 09		 je	 SHORT $LN64@update_com
  008c1	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv417[ebp], 1
  008c8	eb 07		 jmp	 SHORT $LN65@update_com
$LN64@update_com:
  008ca	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv417[ebp], 0
$LN65@update_com:
  008d1	8b 45 b4	 mov	 eax, DWORD PTR tv417[ebp]
  008d4	83 e0 01	 and	 eax, 1
  008d7	c1 e0 1d	 shl	 eax, 29			; 0000001dH
  008da	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  008e0	81 e1 ff ff ff
	df		 and	 ecx, -536870913		; dfffffffH
  008e6	0b c8		 or	 ecx, eax
  008e8	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 328  : 
; 329  : 	comanche_lamps.config_gun = comanche_lamps.config_bay_doors;

  008ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  008f3	c1 e8 1c	 shr	 eax, 28			; 0000001cH
  008f6	83 e0 01	 and	 eax, 1
  008f9	83 e0 01	 and	 eax, 1
  008fc	c1 e0 1e	 shl	 eax, 30			; 0000001eH
  008ff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00905	81 e1 ff ff ff
	bf		 and	 ecx, -1073741825	; bfffffffH
  0090b	0b c8		 or	 ecx, eax
  0090d	89 0d 00 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, ecx

; 330  : 
; 331  : 	comanche_lamps.gear_damaged = get_dynamics_damage_type (DYNAMICS_DAMAGE_UNDERCARRIAGE);

  00913	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00918	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  0091e	81 e1 00 40 00
	00		 and	 ecx, 16384		; 00004000H
  00924	74 09		 je	 SHORT $LN66@update_com
  00926	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv431[ebp], 1
  0092d	eb 07		 jmp	 SHORT $LN67@update_com
$LN66@update_com:
  0092f	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv431[ebp], 0
$LN67@update_com:
  00936	8b 55 b4	 mov	 edx, DWORD PTR tv431[ebp]
  00939	83 e2 01	 and	 edx, 1
  0093c	c1 e2 1f	 shl	 edx, 31			; 0000001fH
  0093f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  00944	25 ff ff ff 7f	 and	 eax, 2147483647		; 7fffffffH
  00949	0b c2		 or	 eax, edx
  0094b	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 332  : 
; 333  : 	switch (gear_state)

  00950	8b 45 f8	 mov	 eax, DWORD PTR _gear_state$[ebp]
  00953	89 45 b4	 mov	 DWORD PTR tv436[ebp], eax
  00956	83 7d b4 03	 cmp	 DWORD PTR tv436[ebp], 3
  0095a	0f 87 c7 00 00
	00		 ja	 $LN2@update_com
  00960	8b 4d b4	 mov	 ecx, DWORD PTR tv436[ebp]
  00963	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN68@update_com[ecx*4]
$LN5@update_com:

; 334  : 	{
; 335  : 		////////////////////////////////////////
; 336  : 		case AIRCRAFT_UNDERCARRIAGE_UP:
; 337  : 		////////////////////////////////////////
; 338  : 		{
; 339  : 			comanche_lamps.gear_status = 1;

  0096a	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  0096f	83 c8 01	 or	 eax, 1
  00972	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 340  : 
; 341  : 			comanche_lamps.gear_red = 1;

  00977	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  0097c	83 c8 02	 or	 eax, 2
  0097f	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 342  : 
; 343  : 			comanche_lamps.gear_transition = 0;

  00984	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00989	83 e0 fb	 and	 eax, -5			; fffffffbH
  0098c	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 344  : 
; 345  : 			break;

  00991	e9 91 00 00 00	 jmp	 $LN2@update_com
$LN6@update_com:

; 346  : 		}
; 347  : 		////////////////////////////////////////
; 348  : 		case AIRCRAFT_UNDERCARRIAGE_LOWERING:
; 349  : 		////////////////////////////////////////
; 350  : 		{
; 351  : 			comanche_lamps.gear_status = gear_transition_state;

  00996	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gear_transition_state@@3HA
  0099b	83 e0 01	 and	 eax, 1
  0099e	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  009a4	83 e1 fe	 and	 ecx, -2			; fffffffeH
  009a7	0b c8		 or	 ecx, eax
  009a9	89 0d 04 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, ecx

; 352  : 
; 353  : 			comanche_lamps.gear_red = 0;

  009af	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  009b4	83 e0 fd	 and	 eax, -3			; fffffffdH
  009b7	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 354  : 
; 355  : 			comanche_lamps.gear_transition = 1;

  009bc	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  009c1	83 c8 04	 or	 eax, 4
  009c4	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 356  : 
; 357  : 			break;

  009c9	eb 5c		 jmp	 SHORT $LN2@update_com
$LN7@update_com:

; 358  : 		}
; 359  : 		////////////////////////////////////////
; 360  : 		case AIRCRAFT_UNDERCARRIAGE_DOWN:
; 361  : 		////////////////////////////////////////
; 362  : 		{
; 363  : 			comanche_lamps.gear_status = 1;

  009cb	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  009d0	83 c8 01	 or	 eax, 1
  009d3	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 364  : 
; 365  : 			comanche_lamps.gear_red = 0;

  009d8	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  009dd	83 e0 fd	 and	 eax, -3			; fffffffdH
  009e0	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 366  : 
; 367  : 			comanche_lamps.gear_transition = 0;

  009e5	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  009ea	83 e0 fb	 and	 eax, -5			; fffffffbH
  009ed	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 368  : 
; 369  : 			break;

  009f2	eb 33		 jmp	 SHORT $LN2@update_com
$LN8@update_com:

; 370  : 		}
; 371  : 		////////////////////////////////////////
; 372  : 		case AIRCRAFT_UNDERCARRIAGE_RAISING:
; 373  : 		////////////////////////////////////////
; 374  : 		{
; 375  : 			comanche_lamps.gear_status = gear_transition_state;

  009f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gear_transition_state@@3HA
  009f9	83 e0 01	 and	 eax, 1
  009fc	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00a02	83 e1 fe	 and	 ecx, -2			; fffffffeH
  00a05	0b c8		 or	 ecx, eax
  00a07	89 0d 04 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, ecx

; 376  : 
; 377  : 			comanche_lamps.gear_red = 1;

  00a0d	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00a12	83 c8 02	 or	 eax, 2
  00a15	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax

; 378  : 
; 379  : 			comanche_lamps.gear_transition = 1;

  00a1a	a1 04 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00a1f	83 c8 04	 or	 eax, 4
  00a22	a3 04 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, eax
$LN2@update_com:

; 380  : 
; 381  : 			break;
; 382  : 		}
; 383  : 	}
; 384  : 
; 385  : 	comanche_lamps.pilot_lh_main_mfd_focus = get_comanche_main_mfd_has_focus (COMANCHE_MAIN_MFD_LOCATION_PILOT_LHS);

  00a27	6a 00		 push	 0
  00a29	e8 00 00 00 00	 call	 ?get_comanche_main_mfd_has_focus@@YGHW4COMANCHE_MAIN_MFD_LOCATIONS@@@Z ; get_comanche_main_mfd_has_focus
  00a2e	89 45 b4	 mov	 DWORD PTR tv456[ebp], eax
  00a31	8b 45 b4	 mov	 eax, DWORD PTR tv456[ebp]
  00a34	83 e0 01	 and	 eax, 1
  00a37	c1 e0 03	 shl	 eax, 3
  00a3a	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00a40	83 e1 f7	 and	 ecx, -9			; fffffff7H
  00a43	0b c8		 or	 ecx, eax
  00a45	89 0d 04 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, ecx

; 386  : 
; 387  : 	comanche_lamps.pilot_rh_main_mfd_focus = get_comanche_main_mfd_has_focus (COMANCHE_MAIN_MFD_LOCATION_PILOT_RHS);

  00a4b	6a 01		 push	 1
  00a4d	e8 00 00 00 00	 call	 ?get_comanche_main_mfd_has_focus@@YGHW4COMANCHE_MAIN_MFD_LOCATIONS@@@Z ; get_comanche_main_mfd_has_focus
  00a52	89 45 b4	 mov	 DWORD PTR tv463[ebp], eax
  00a55	8b 45 b4	 mov	 eax, DWORD PTR tv463[ebp]
  00a58	83 e0 01	 and	 eax, 1
  00a5b	c1 e0 04	 shl	 eax, 4
  00a5e	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00a64	83 e1 ef	 and	 ecx, -17		; ffffffefH
  00a67	0b c8		 or	 ecx, eax
  00a69	89 0d 04 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, ecx

; 388  : 
; 389  : 	comanche_lamps.co_pilot_lh_main_mfd_focus = get_comanche_main_mfd_has_focus (COMANCHE_MAIN_MFD_LOCATION_CO_PILOT_LHS);

  00a6f	6a 02		 push	 2
  00a71	e8 00 00 00 00	 call	 ?get_comanche_main_mfd_has_focus@@YGHW4COMANCHE_MAIN_MFD_LOCATIONS@@@Z ; get_comanche_main_mfd_has_focus
  00a76	89 45 b4	 mov	 DWORD PTR tv470[ebp], eax
  00a79	8b 45 b4	 mov	 eax, DWORD PTR tv470[ebp]
  00a7c	83 e0 01	 and	 eax, 1
  00a7f	c1 e0 05	 shl	 eax, 5
  00a82	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00a88	83 e1 df	 and	 ecx, -33		; ffffffdfH
  00a8b	0b c8		 or	 ecx, eax
  00a8d	89 0d 04 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, ecx

; 390  : 
; 391  : 	comanche_lamps.co_pilot_rh_main_mfd_focus = get_comanche_main_mfd_has_focus (COMANCHE_MAIN_MFD_LOCATION_CO_PILOT_RHS);

  00a93	6a 03		 push	 3
  00a95	e8 00 00 00 00	 call	 ?get_comanche_main_mfd_has_focus@@YGHW4COMANCHE_MAIN_MFD_LOCATIONS@@@Z ; get_comanche_main_mfd_has_focus
  00a9a	89 45 b4	 mov	 DWORD PTR tv477[ebp], eax
  00a9d	8b 45 b4	 mov	 eax, DWORD PTR tv477[ebp]
  00aa0	83 e0 01	 and	 eax, 1
  00aa3	c1 e0 06	 shl	 eax, 6
  00aa6	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4
  00aac	83 e1 bf	 and	 ecx, -65		; ffffffbfH
  00aaf	0b c8		 or	 ecx, eax
  00ab1	89 0d 04 00 00
	00		 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A+4, ecx

; 392  : }

  00ab7	5f		 pop	 edi
  00ab8	5e		 pop	 esi
  00ab9	5b		 pop	 ebx
  00aba	8b e5		 mov	 esp, ebp
  00abc	5d		 pop	 ebp
  00abd	c3		 ret	 0
  00abe	66 90		 npad	 2
$LN68@update_com:
  00ac0	00 00 00 00	 DD	 $LN5@update_com
  00ac4	00 00 00 00	 DD	 $LN6@update_com
  00ac8	00 00 00 00	 DD	 $LN7@update_com
  00acc	00 00 00 00	 DD	 $LN8@update_com
?update_comanche_lamp_avionics@@YGXXZ ENDP		; update_comanche_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?deinitialise_comanche_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
?deinitialise_comanche_lamp_avionics@@YGXXZ PROC	; deinitialise_comanche_lamp_avionics, COMDAT

; 236  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 237  : 	deinitialise_master_caution ();

  00009	e8 00 00 00 00	 call	 ?deinitialise_master_caution@@YGXXZ ; deinitialise_master_caution

; 238  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?deinitialise_comanche_lamp_avionics@@YGXXZ ENDP	; deinitialise_comanche_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?initialise_comanche_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
?initialise_comanche_lamp_avionics@@YGXXZ PROC		; initialise_comanche_lamp_avionics, COMDAT

; 223  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 224  : 	initialise_master_caution ();

  00009	e8 00 00 00 00	 call	 ?initialise_master_caution@@YGXXZ ; initialise_master_caution

; 225  : 
; 226  : 	gear_transition_state = 0;

  0000e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?gear_transition_state@@3HA, 0

; 227  : 
; 228  : 	gear_transition_timer = 0.0;

  00018	0f 57 c0	 xorps	 xmm0, xmm0
  0001b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?gear_transition_timer@@3MA, xmm0

; 229  : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
?initialise_comanche_lamp_avionics@@YGXXZ ENDP		; initialise_comanche_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?deactivate_comanche_master_caution@@YGXXZ
_TEXT	SEGMENT
?deactivate_comanche_master_caution@@YGXXZ PROC		; deactivate_comanche_master_caution, COMDAT

; 155  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 156  : 	comanche_lamps.master_caution = 0;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  0000e	83 e0 fe	 and	 eax, -2			; fffffffeH
  00011	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 157  : 
; 158  : 	master_caution_alert = FALSE;

  00016	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 0

; 159  : 
; 160  : 	master_caution_flash_timer = 0.0;

  00020	0f 57 c0	 xorps	 xmm0, xmm0
  00023	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 161  : 
; 162  : 	master_caution_sound_timer = 0.0;

  0002b	0f 57 c0	 xorps	 xmm0, xmm0
  0002e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 163  : 
; 164  : 	pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  00036	51		 push	 ecx
  00037	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0003f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00044	6a 19		 push	 25			; 00000019H
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type

; 165  : }

  00051	5f		 pop	 edi
  00052	5e		 pop	 esi
  00053	5b		 pop	 ebx
  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c3		 ret	 0
?deactivate_comanche_master_caution@@YGXXZ ENDP		; deactivate_comanche_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\comanche\cm_avlmp.c
;	COMDAT ?activate_comanche_master_caution@@YGXXZ
_TEXT	SEGMENT
?activate_comanche_master_caution@@YGXXZ PROC		; activate_comanche_master_caution, COMDAT

; 138  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 139  : 	comanche_lamps.master_caution = 1;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A
  0000e	83 c8 01	 or	 eax, 1
  00011	a3 00 00 00 00	 mov	 DWORD PTR ?comanche_lamps@@3UCOMANCHE_LAMP_FLAGS@@A, eax

; 140  : 
; 141  : 	master_caution_alert = TRUE;

  00016	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 1

; 142  : 
; 143  : 	master_caution_flash_timer = MASTER_CAUTION_FLASH_RATE;

  00020	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00028	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 144  : 
; 145  : 	master_caution_sound_timer = 3.0;

  00030	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40400000
  00038	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 146  : 
; 147  : 	resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA);

  00040	6a 19		 push	 25			; 00000019H
  00042	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 148  : }

  0004d	5f		 pop	 edi
  0004e	5e		 pop	 esi
  0004f	5b		 pop	 ebx
  00050	8b e5		 mov	 esp, ebp
  00052	5d		 pop	 ebp
  00053	c3		 ret	 0
?activate_comanche_master_caution@@YGXXZ ENDP		; activate_comanche_master_caution
_TEXT	ENDS
END
