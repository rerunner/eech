; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\mobile\vehicle\routed\routed.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?attach_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@@Z ; attach_routed_vehicle_meta_smoke_lists
PUBLIC	?pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z ; pack_routed_vehicle_meta_smoke_lists
PUBLIC	?unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z ; unpack_routed_vehicle_meta_smoke_lists
PUBLIC	?stop_vehicles_on_route@@YGXHH@Z		; stop_vehicles_on_route
PUBLIC	?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA ; `pack_routed_vehicle_meta_smoke_lists'::`1'::__LINE__Var
PUBLIC	??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0P@KGPELPEG@special_effect@		; `string'
PUBLIC	??_C@_0BI@MBKKNMHC@packed_indices?5?$DN?$DN?5count@ ; `string'
PUBLIC	?__LINE__Var@?0??unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA ; `unpack_routed_vehicle_meta_smoke_lists'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA ; `stop_vehicles_on_route'::`1'::__LINE__Var
PUBLIC	??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ ; `string'
PUBLIC	??_C@_06HDFDANIG@member@			; `string'
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?malloc_fast_memory@@YGPAXI@Z:PROC		; malloc_fast_memory
EXTRN	?free_mem@@YGXPAX@Z:PROC			; free_mem
EXTRN	?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ:PROC ; notify_local_entity
EXTRN	?register_attach_meta_smoke_list_to_object@@YGXPAUENTITY@@HHPAHH@Z:PROC ; register_attach_meta_smoke_list_to_object
EXTRN	?pack_entity_safe_index@@YGXH@Z:PROC		; pack_entity_safe_index
EXTRN	?unpack_entity_safe_index@@YGHXZ:PROC		; unpack_entity_safe_index
EXTRN	?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; count_sub_object_type_depth
EXTRN	?count_entities_in_meta_smoke_list@@YGHW4META_SMOKE_LIST_TYPES@@@Z:PROC ; count_entities_in_meta_smoke_list
EXTRN	?attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z:PROC ; attach_local_meta_smoke_lists_to_object
EXTRN	?get_local_group_primary_task@@YGPAUENTITY@@PAU1@@Z:PROC ; get_local_group_primary_task
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?entities@@3PAUENTITY@@A:DWORD			; entities
EXTRN	?effect_database@@3QBUEFFECT_DATA@@B:BYTE	; effect_database
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
;	COMDAT ??_C@_06HDFDANIG@member@
CONST	SEGMENT
??_C@_06HDFDANIG@member@ DB 'member', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
CONST	SEGMENT
??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ DB 'ge'
	DB	't_comms_model () == COMMS_MODEL_SERVER', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA DD 0183H ; `stop_vehicles_on_route'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA DD 0123H ; `unpack_routed_vehicle_meta_smoke_lists'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BI@MBKKNMHC@packed_indices?5?$DN?$DN?5count@
CONST	SEGMENT
??_C@_0BI@MBKKNMHC@packed_indices?5?$DN?$DN?5count@ DB 'packed_indices =='
	DB	' count', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@KGPELPEG@special_effect@
CONST	SEGMENT
??_C@_0P@KGPELPEG@special_effect@ DB 'special_effect', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\mobile\vehicle\routed'
	DB	'\routed.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA DD 0a5H ; `pack_routed_vehicle_meta_smoke_lists'::`1'::__LINE__Var
_DATA	ENDS
_DATA	SEGMENT
?attached_meta_smoke_list_table@@3PAUATTACHED_META_SMOKE_LIST_TABLE@@A DD 07H ; attached_meta_smoke_list_table
	DD	0118H
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\routed\routed.c
;	COMDAT ?stop_vehicles_on_route@@YGXHH@Z
_TEXT	SEGMENT
tv338 = -100						; size = 4
tv318 = -100						; size = 4
tv298 = -100						; size = 4
tv276 = -100						; size = 4
tv255 = -100						; size = 4
tv233 = -100						; size = 4
tv205 = -100						; size = 4
tv185 = -100						; size = 4
tv160 = -100						; size = 4
tv136 = -100						; size = 4
tv83 = -100						; size = 4
tv330 = -96						; size = 4
tv310 = -96						; size = 4
tv290 = -96						; size = 4
tv268 = -96						; size = 4
tv247 = -96						; size = 4
tv225 = -96						; size = 4
tv197 = -96						; size = 4
tv177 = -96						; size = 4
tv152 = -96						; size = 4
tv128 = -96						; size = 4
tv75 = -96						; size = 4
_mb$1 = -28						; size = 4
_index2$ = -24						; size = 4
_index1$ = -20						; size = 4
_member$ = -16						; size = 4
_group$ = -12						; size = 4
_force$ = -8						; size = 4
_task$ = -4						; size = 4
_start_node$ = 8					; size = 4
_end_node$ = 12						; size = 4
?stop_vehicles_on_route@@YGXHH@Z PROC			; stop_vehicles_on_route, COMDAT

; 387  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 64	 sub	 esp, 100		; 00000064H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 388  : 	entity
; 389  : 		*task,
; 390  : 		*force,
; 391  : 		*group,
; 392  : 		*member;
; 393  : 
; 394  : 	int
; 395  : 		index1,
; 396  : 		index2;
; 397  : 
; 398  : 	ASSERT (get_comms_model () == COMMS_MODEL_SERVER);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00010	74 18		 je	 SHORT $LN8@stop_vehic
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00017	83 c0 0b	 add	 eax, 11			; 0000000bH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@stop_vehic:

; 399  : 
; 400  : 	force = get_local_entity_first_child (get_session_entity (), LIST_TYPE_FORCE);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00031	74 0c		 je	 SHORT $LN15@stop_vehic
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00038	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003a	89 4d a0	 mov	 DWORD PTR tv75[ebp], ecx
  0003d	eb 21		 jmp	 SHORT $LN16@stop_vehic
$LN15@stop_vehic:
  0003f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00045	83 c2 0d	 add	 edx, 13			; 0000000dH
  00048	52		 push	 edx
  00049	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00053	50		 push	 eax
  00054	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00059	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN16@stop_vehic:
  00060	b9 01 00 00 00	 mov	 ecx, 1
  00065	85 c9		 test	 ecx, ecx
  00067	74 09		 je	 SHORT $LN17@stop_vehic
  00069	c7 45 9c 0e 00
	00 00		 mov	 DWORD PTR tv83[ebp], 14	; 0000000eH
  00070	eb 21		 jmp	 SHORT $LN18@stop_vehic
$LN17@stop_vehic:
  00072	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00078	83 c2 0d	 add	 edx, 13			; 0000000dH
  0007b	52		 push	 edx
  0007c	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00081	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00086	50		 push	 eax
  00087	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008c	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN18@stop_vehic:
  00093	6a 0e		 push	 14			; 0000000eH
  00095	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0009b	51		 push	 ecx
  0009c	69 55 a0 b4 00
	00 00		 imul	 edx, DWORD PTR tv75[ebp], 180
  000a3	8b 45 9c	 mov	 eax, DWORD PTR tv83[ebp]
  000a6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000ad	ff d1		 call	 ecx
  000af	89 45 f8	 mov	 DWORD PTR _force$[ebp], eax
$LN2@stop_vehic:

; 401  : 
; 402  : 	while (force)

  000b2	83 7d f8 00	 cmp	 DWORD PTR _force$[ebp], 0
  000b6	0f 84 a9 05 00
	00		 je	 $LN1@stop_vehic

; 403  : 	{
; 404  : 		group = get_local_entity_first_child (force, LIST_TYPE_GROUND_REGISTRY);

  000bc	83 7d f8 00	 cmp	 DWORD PTR _force$[ebp], 0
  000c0	74 0a		 je	 SHORT $LN19@stop_vehic
  000c2	8b 45 f8	 mov	 eax, DWORD PTR _force$[ebp]
  000c5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c7	89 4d a0	 mov	 DWORD PTR tv128[ebp], ecx
  000ca	eb 21		 jmp	 SHORT $LN20@stop_vehic
$LN19@stop_vehic:
  000cc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  000d2	83 c2 11	 add	 edx, 17			; 00000011H
  000d5	52		 push	 edx
  000d6	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e0	50		 push	 eax
  000e1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e6	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv128[ebp], 0
$LN20@stop_vehic:
  000ed	b9 01 00 00 00	 mov	 ecx, 1
  000f2	85 c9		 test	 ecx, ecx
  000f4	74 09		 je	 SHORT $LN21@stop_vehic
  000f6	c7 45 9c 0f 00
	00 00		 mov	 DWORD PTR tv136[ebp], 15 ; 0000000fH
  000fd	eb 21		 jmp	 SHORT $LN22@stop_vehic
$LN21@stop_vehic:
  000ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00105	83 c2 11	 add	 edx, 17			; 00000011H
  00108	52		 push	 edx
  00109	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0010e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00113	50		 push	 eax
  00114	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00119	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv136[ebp], 0
$LN22@stop_vehic:
  00120	6a 0f		 push	 15			; 0000000fH
  00122	8b 4d f8	 mov	 ecx, DWORD PTR _force$[ebp]
  00125	51		 push	 ecx
  00126	69 55 a0 b4 00
	00 00		 imul	 edx, DWORD PTR tv128[ebp], 180
  0012d	8b 45 9c	 mov	 eax, DWORD PTR tv136[ebp]
  00130	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00137	ff d1		 call	 ecx
  00139	89 45 f4	 mov	 DWORD PTR _group$[ebp], eax
$LN4@stop_vehic:

; 405  : 
; 406  : 		while (group)

  0013c	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  00140	0f 84 9a 04 00
	00		 je	 $LN5@stop_vehic

; 407  : 		{
; 408  : 			task = get_local_group_primary_task (group);

  00146	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  00149	50		 push	 eax
  0014a	e8 00 00 00 00	 call	 ?get_local_group_primary_task@@YGPAUENTITY@@PAU1@@Z ; get_local_group_primary_task
  0014f	89 45 fc	 mov	 DWORD PTR _task$[ebp], eax

; 409  : 
; 410  : 			if (task)

  00152	83 7d fc 00	 cmp	 DWORD PTR _task$[ebp], 0
  00156	0f 84 ff 03 00
	00		 je	 $LN9@stop_vehic

; 411  : 			{
; 412  : 				member = (entity *) get_local_entity_ptr_value (group, PTR_TYPE_GROUP_LEADER);

  0015c	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  00160	74 0a		 je	 SHORT $LN23@stop_vehic
  00162	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  00165	8b 08		 mov	 ecx, DWORD PTR [eax]
  00167	89 4d a0	 mov	 DWORD PTR tv152[ebp], ecx
  0016a	eb 21		 jmp	 SHORT $LN24@stop_vehic
$LN23@stop_vehic:
  0016c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00172	83 c2 19	 add	 edx, 25			; 00000019H
  00175	52		 push	 edx
  00176	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00180	50		 push	 eax
  00181	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00186	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv152[ebp], 0
$LN24@stop_vehic:
  0018d	b9 01 00 00 00	 mov	 ecx, 1
  00192	85 c9		 test	 ecx, ecx
  00194	74 09		 je	 SHORT $LN25@stop_vehic
  00196	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR tv160[ebp], 1
  0019d	eb 21		 jmp	 SHORT $LN26@stop_vehic
$LN25@stop_vehic:
  0019f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  001a5	83 c2 19	 add	 edx, 25			; 00000019H
  001a8	52		 push	 edx
  001a9	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  001b3	50		 push	 eax
  001b4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b9	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
$LN26@stop_vehic:
  001c0	6a 01		 push	 1
  001c2	8b 4d f4	 mov	 ecx, DWORD PTR _group$[ebp]
  001c5	51		 push	 ecx
  001c6	6b 55 a0 50	 imul	 edx, DWORD PTR tv152[ebp], 80
  001ca	8b 45 9c	 mov	 eax, DWORD PTR tv160[ebp]
  001cd	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  001d4	ff d1		 call	 ecx
  001d6	89 45 f0	 mov	 DWORD PTR _member$[ebp], eax

; 413  : 	
; 414  : 				ASSERT (member);

  001d9	83 7d f0 00	 cmp	 DWORD PTR _member$[ebp], 0
  001dd	75 18		 jne	 SHORT $LN10@stop_vehic
  001df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  001e4	83 c0 1b	 add	 eax, 27			; 0000001bH
  001e7	50		 push	 eax
  001e8	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ed	68 00 00 00 00	 push	 OFFSET ??_C@_06HDFDANIG@member@
  001f2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN10@stop_vehic:

; 415  : 			
; 416  : 				index1 = get_local_entity_int_value (member, INT_TYPE_WAYPOINT_THIS_INDEX);

  001f7	83 7d f0 00	 cmp	 DWORD PTR _member$[ebp], 0
  001fb	74 0a		 je	 SHORT $LN27@stop_vehic
  001fd	8b 45 f0	 mov	 eax, DWORD PTR _member$[ebp]
  00200	8b 08		 mov	 ecx, DWORD PTR [eax]
  00202	89 4d a0	 mov	 DWORD PTR tv177[ebp], ecx
  00205	eb 21		 jmp	 SHORT $LN28@stop_vehic
$LN27@stop_vehic:
  00207	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  0020d	83 c2 1d	 add	 edx, 29			; 0000001dH
  00210	52		 push	 edx
  00211	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00216	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0021b	50		 push	 eax
  0021c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00221	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv177[ebp], 0
$LN28@stop_vehic:
  00228	b9 01 00 00 00	 mov	 ecx, 1
  0022d	85 c9		 test	 ecx, ecx
  0022f	74 09		 je	 SHORT $LN29@stop_vehic
  00231	c7 45 9c 01 01
	00 00		 mov	 DWORD PTR tv185[ebp], 257 ; 00000101H
  00238	eb 21		 jmp	 SHORT $LN30@stop_vehic
$LN29@stop_vehic:
  0023a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00240	83 c2 1d	 add	 edx, 29			; 0000001dH
  00243	52		 push	 edx
  00244	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00249	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0024e	50		 push	 eax
  0024f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00254	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv185[ebp], 0
$LN30@stop_vehic:
  0025b	68 01 01 00 00	 push	 257			; 00000101H
  00260	8b 4d f0	 mov	 ecx, DWORD PTR _member$[ebp]
  00263	51		 push	 ecx
  00264	69 55 a0 5c 04
	00 00		 imul	 edx, DWORD PTR tv177[ebp], 1116
  0026b	8b 45 9c	 mov	 eax, DWORD PTR tv185[ebp]
  0026e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00275	ff d1		 call	 ecx
  00277	89 45 ec	 mov	 DWORD PTR _index1$[ebp], eax

; 417  : 	
; 418  : 				index2 = get_local_entity_int_value (member, INT_TYPE_WAYPOINT_NEXT_INDEX);

  0027a	83 7d f0 00	 cmp	 DWORD PTR _member$[ebp], 0
  0027e	74 0a		 je	 SHORT $LN31@stop_vehic
  00280	8b 45 f0	 mov	 eax, DWORD PTR _member$[ebp]
  00283	8b 08		 mov	 ecx, DWORD PTR [eax]
  00285	89 4d a0	 mov	 DWORD PTR tv197[ebp], ecx
  00288	eb 21		 jmp	 SHORT $LN32@stop_vehic
$LN31@stop_vehic:
  0028a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00290	83 c2 1f	 add	 edx, 31			; 0000001fH
  00293	52		 push	 edx
  00294	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00299	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0029e	50		 push	 eax
  0029f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a4	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv197[ebp], 0
$LN32@stop_vehic:
  002ab	b9 01 00 00 00	 mov	 ecx, 1
  002b0	85 c9		 test	 ecx, ecx
  002b2	74 09		 je	 SHORT $LN33@stop_vehic
  002b4	c7 45 9c 00 01
	00 00		 mov	 DWORD PTR tv205[ebp], 256 ; 00000100H
  002bb	eb 21		 jmp	 SHORT $LN34@stop_vehic
$LN33@stop_vehic:
  002bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  002c3	83 c2 1f	 add	 edx, 31			; 0000001fH
  002c6	52		 push	 edx
  002c7	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002d1	50		 push	 eax
  002d2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d7	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv205[ebp], 0
$LN34@stop_vehic:
  002de	68 00 01 00 00	 push	 256			; 00000100H
  002e3	8b 4d f0	 mov	 ecx, DWORD PTR _member$[ebp]
  002e6	51		 push	 ecx
  002e7	69 55 a0 5c 04
	00 00		 imul	 edx, DWORD PTR tv197[ebp], 1116
  002ee	8b 45 9c	 mov	 eax, DWORD PTR tv205[ebp]
  002f1	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  002f8	ff d1		 call	 ecx
  002fa	89 45 e8	 mov	 DWORD PTR _index2$[ebp], eax

; 419  : 	
; 420  : 				if (((index1 == start_node) && (index2 == end_node)) || ((index2 == start_node) && (index1 == end_node)))

  002fd	8b 45 ec	 mov	 eax, DWORD PTR _index1$[ebp]
  00300	3b 45 08	 cmp	 eax, DWORD PTR _start_node$[ebp]
  00303	75 08		 jne	 SHORT $LN13@stop_vehic
  00305	8b 45 e8	 mov	 eax, DWORD PTR _index2$[ebp]
  00308	3b 45 0c	 cmp	 eax, DWORD PTR _end_node$[ebp]
  0030b	74 18		 je	 SHORT $LN12@stop_vehic
$LN13@stop_vehic:
  0030d	8b 45 e8	 mov	 eax, DWORD PTR _index2$[ebp]
  00310	3b 45 08	 cmp	 eax, DWORD PTR _start_node$[ebp]
  00313	0f 85 42 02 00
	00		 jne	 $LN9@stop_vehic
  00319	8b 45 ec	 mov	 eax, DWORD PTR _index1$[ebp]
  0031c	3b 45 0c	 cmp	 eax, DWORD PTR _end_node$[ebp]
  0031f	0f 85 36 02 00
	00		 jne	 $LN9@stop_vehic
$LN12@stop_vehic:

; 421  : 				{
; 422  : 					//
; 423  : 					// destroy task
; 424  : 					//
; 425  : 	
; 426  : 					notify_local_entity (ENTITY_MESSAGE_TASK_TERMINATED, task, group, TASK_TERMINATED_GROUP_DESTROYED);

  00325	6a 03		 push	 3
  00327	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  0032a	50		 push	 eax
  0032b	8b 4d fc	 mov	 ecx, DWORD PTR _task$[ebp]
  0032e	51		 push	 ecx
  0032f	6a 36		 push	 54			; 00000036H
  00331	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00336	83 c4 10	 add	 esp, 16			; 00000010H

; 427  : 
; 428  : 					//
; 429  : 					// set group to busy, and operational state to stopped
; 430  : 					//
; 431  : 	
; 432  : 					set_client_server_entity_int_value (group, INT_TYPE_GROUP_MODE, GROUP_MODE_BUSY);

  00339	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  0033d	74 0a		 je	 SHORT $LN35@stop_vehic
  0033f	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  00342	8b 08		 mov	 ecx, DWORD PTR [eax]
  00344	89 4d a0	 mov	 DWORD PTR tv225[ebp], ecx
  00347	eb 21		 jmp	 SHORT $LN36@stop_vehic
$LN35@stop_vehic:
  00349	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  0034f	83 c2 2d	 add	 edx, 45			; 0000002dH
  00352	52		 push	 edx
  00353	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00358	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0035d	50		 push	 eax
  0035e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00363	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv225[ebp], 0
$LN36@stop_vehic:
  0036a	b9 01 00 00 00	 mov	 ecx, 1
  0036f	85 c9		 test	 ecx, ecx
  00371	74 09		 je	 SHORT $LN37@stop_vehic
  00373	c7 45 9c 4d 00
	00 00		 mov	 DWORD PTR tv233[ebp], 77 ; 0000004dH
  0037a	eb 21		 jmp	 SHORT $LN38@stop_vehic
$LN37@stop_vehic:
  0037c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00382	83 c2 2d	 add	 edx, 45			; 0000002dH
  00385	52		 push	 edx
  00386	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0038b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00390	50		 push	 eax
  00391	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00396	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv233[ebp], 0
$LN38@stop_vehic:
  0039d	6a 01		 push	 1
  0039f	6a 4d		 push	 77			; 0000004dH
  003a1	8b 4d f4	 mov	 ecx, DWORD PTR _group$[ebp]
  003a4	51		 push	 ecx
  003a5	69 55 a0 b8 08
	00 00		 imul	 edx, DWORD PTR tv225[ebp], 2232
  003ac	8b 45 9c	 mov	 eax, DWORD PTR tv233[ebp]
  003af	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  003b6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  003bc	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  003bf	ff d0		 call	 eax

; 433  : 
; 434  : 					{
; 435  : 						entity
; 436  : 							*mb;
; 437  : 
; 438  : 						mb = get_local_entity_first_child (group, LIST_TYPE_MEMBER);

  003c1	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  003c5	74 0a		 je	 SHORT $LN39@stop_vehic
  003c7	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  003ca	8b 08		 mov	 ecx, DWORD PTR [eax]
  003cc	89 4d a0	 mov	 DWORD PTR tv247[ebp], ecx
  003cf	eb 21		 jmp	 SHORT $LN40@stop_vehic
$LN39@stop_vehic:
  003d1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  003d7	83 c2 33	 add	 edx, 51			; 00000033H
  003da	52		 push	 edx
  003db	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  003e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003e5	50		 push	 eax
  003e6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003eb	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv247[ebp], 0
$LN40@stop_vehic:
  003f2	b9 01 00 00 00	 mov	 ecx, 1
  003f7	85 c9		 test	 ecx, ecx
  003f9	74 09		 je	 SHORT $LN41@stop_vehic
  003fb	c7 45 9c 19 00
	00 00		 mov	 DWORD PTR tv255[ebp], 25 ; 00000019H
  00402	eb 21		 jmp	 SHORT $LN42@stop_vehic
$LN41@stop_vehic:
  00404	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  0040a	83 c2 33	 add	 edx, 51			; 00000033H
  0040d	52		 push	 edx
  0040e	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00413	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00418	50		 push	 eax
  00419	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0041e	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv255[ebp], 0
$LN42@stop_vehic:
  00425	6a 19		 push	 25			; 00000019H
  00427	8b 4d f4	 mov	 ecx, DWORD PTR _group$[ebp]
  0042a	51		 push	 ecx
  0042b	69 55 a0 b4 00
	00 00		 imul	 edx, DWORD PTR tv247[ebp], 180
  00432	8b 45 9c	 mov	 eax, DWORD PTR tv255[ebp]
  00435	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0043c	ff d1		 call	 ecx
  0043e	89 45 e4	 mov	 DWORD PTR _mb$1[ebp], eax
$LN6@stop_vehic:

; 439  : 
; 440  : 						while (mb)

  00441	83 7d e4 00	 cmp	 DWORD PTR _mb$1[ebp], 0
  00445	0f 84 10 01 00
	00		 je	 $LN9@stop_vehic

; 441  : 						{
; 442  : 							set_client_server_entity_int_value (mb, INT_TYPE_OPERATIONAL_STATE, OPERATIONAL_STATE_STOPPED);

  0044b	83 7d e4 00	 cmp	 DWORD PTR _mb$1[ebp], 0
  0044f	74 0a		 je	 SHORT $LN43@stop_vehic
  00451	8b 45 e4	 mov	 eax, DWORD PTR _mb$1[ebp]
  00454	8b 08		 mov	 ecx, DWORD PTR [eax]
  00456	89 4d a0	 mov	 DWORD PTR tv268[ebp], ecx
  00459	eb 21		 jmp	 SHORT $LN44@stop_vehic
$LN43@stop_vehic:
  0045b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00461	83 c2 37	 add	 edx, 55			; 00000037H
  00464	52		 push	 edx
  00465	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0046a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0046f	50		 push	 eax
  00470	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00475	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv268[ebp], 0
$LN44@stop_vehic:
  0047c	b9 01 00 00 00	 mov	 ecx, 1
  00481	85 c9		 test	 ecx, ecx
  00483	74 09		 je	 SHORT $LN45@stop_vehic
  00485	c7 45 9c 97 00
	00 00		 mov	 DWORD PTR tv276[ebp], 151 ; 00000097H
  0048c	eb 21		 jmp	 SHORT $LN46@stop_vehic
$LN45@stop_vehic:
  0048e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00494	83 c2 37	 add	 edx, 55			; 00000037H
  00497	52		 push	 edx
  00498	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0049d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  004a2	50		 push	 eax
  004a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004a8	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv276[ebp], 0
$LN46@stop_vehic:
  004af	6a 08		 push	 8
  004b1	68 97 00 00 00	 push	 151			; 00000097H
  004b6	8b 4d e4	 mov	 ecx, DWORD PTR _mb$1[ebp]
  004b9	51		 push	 ecx
  004ba	69 55 a0 b8 08
	00 00		 imul	 edx, DWORD PTR tv268[ebp], 2232
  004c1	8b 45 9c	 mov	 eax, DWORD PTR tv276[ebp]
  004c4	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  004cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  004d1	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  004d4	ff d0		 call	 eax

; 443  : 
; 444  : 							mb = get_local_entity_child_succ (mb, LIST_TYPE_MEMBER);

  004d6	83 7d e4 00	 cmp	 DWORD PTR _mb$1[ebp], 0
  004da	74 0a		 je	 SHORT $LN47@stop_vehic
  004dc	8b 45 e4	 mov	 eax, DWORD PTR _mb$1[ebp]
  004df	8b 08		 mov	 ecx, DWORD PTR [eax]
  004e1	89 4d a0	 mov	 DWORD PTR tv290[ebp], ecx
  004e4	eb 21		 jmp	 SHORT $LN48@stop_vehic
$LN47@stop_vehic:
  004e6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  004ec	83 c2 39	 add	 edx, 57			; 00000039H
  004ef	52		 push	 edx
  004f0	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  004f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004fa	50		 push	 eax
  004fb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00500	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv290[ebp], 0
$LN48@stop_vehic:
  00507	b9 01 00 00 00	 mov	 ecx, 1
  0050c	85 c9		 test	 ecx, ecx
  0050e	74 09		 je	 SHORT $LN49@stop_vehic
  00510	c7 45 9c 19 00
	00 00		 mov	 DWORD PTR tv298[ebp], 25 ; 00000019H
  00517	eb 21		 jmp	 SHORT $LN50@stop_vehic
$LN49@stop_vehic:
  00519	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  0051f	83 c2 39	 add	 edx, 57			; 00000039H
  00522	52		 push	 edx
  00523	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00528	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0052d	50		 push	 eax
  0052e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00533	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv298[ebp], 0
$LN50@stop_vehic:
  0053a	6a 19		 push	 25			; 00000019H
  0053c	8b 4d e4	 mov	 ecx, DWORD PTR _mb$1[ebp]
  0053f	51		 push	 ecx
  00540	69 55 a0 b4 00
	00 00		 imul	 edx, DWORD PTR tv290[ebp], 180
  00547	8b 45 9c	 mov	 eax, DWORD PTR tv298[ebp]
  0054a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00551	ff d1		 call	 ecx
  00553	89 45 e4	 mov	 DWORD PTR _mb$1[ebp], eax

; 445  : 						}

  00556	e9 e6 fe ff ff	 jmp	 $LN6@stop_vehic
$LN9@stop_vehic:

; 446  : 					}
; 447  : 
; 448  : 					/////////////////////////////////////////////////////////////////
; 449  : 					//
; 450  : 					// SPECIAL_EFFECT_HOOK FOR BRIDGE OUT
; 451  : 					//
; 452  : 					/////////////////////////////////////////////////////////////////
; 453  : 	
; 454  : 					/////////////////////////////////////////////////////////////////
; 455  : 					//
; 456  : 					//
; 457  : 					/////////////////////////////////////////////////////////////////
; 458  : 				}
; 459  : 			}
; 460  : 	
; 461  : 			group = get_local_entity_child_succ (group, LIST_TYPE_GROUND_REGISTRY);

  0055b	83 7d f4 00	 cmp	 DWORD PTR _group$[ebp], 0
  0055f	74 0a		 je	 SHORT $LN51@stop_vehic
  00561	8b 45 f4	 mov	 eax, DWORD PTR _group$[ebp]
  00564	8b 08		 mov	 ecx, DWORD PTR [eax]
  00566	89 4d a0	 mov	 DWORD PTR tv310[ebp], ecx
  00569	eb 21		 jmp	 SHORT $LN52@stop_vehic
$LN51@stop_vehic:
  0056b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00571	83 c2 4a	 add	 edx, 74			; 0000004aH
  00574	52		 push	 edx
  00575	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0057a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0057f	50		 push	 eax
  00580	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00585	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv310[ebp], 0
$LN52@stop_vehic:
  0058c	b9 01 00 00 00	 mov	 ecx, 1
  00591	85 c9		 test	 ecx, ecx
  00593	74 09		 je	 SHORT $LN53@stop_vehic
  00595	c7 45 9c 0f 00
	00 00		 mov	 DWORD PTR tv318[ebp], 15 ; 0000000fH
  0059c	eb 21		 jmp	 SHORT $LN54@stop_vehic
$LN53@stop_vehic:
  0059e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  005a4	83 c2 4a	 add	 edx, 74			; 0000004aH
  005a7	52		 push	 edx
  005a8	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  005ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  005b2	50		 push	 eax
  005b3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005b8	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv318[ebp], 0
$LN54@stop_vehic:
  005bf	6a 0f		 push	 15			; 0000000fH
  005c1	8b 4d f4	 mov	 ecx, DWORD PTR _group$[ebp]
  005c4	51		 push	 ecx
  005c5	69 55 a0 b4 00
	00 00		 imul	 edx, DWORD PTR tv310[ebp], 180
  005cc	8b 45 9c	 mov	 eax, DWORD PTR tv318[ebp]
  005cf	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  005d6	ff d1		 call	 ecx
  005d8	89 45 f4	 mov	 DWORD PTR _group$[ebp], eax

; 462  : 		}

  005db	e9 5c fb ff ff	 jmp	 $LN4@stop_vehic
$LN5@stop_vehic:

; 463  : 
; 464  : 		force = get_local_entity_child_succ (force, LIST_TYPE_FORCE);

  005e0	83 7d f8 00	 cmp	 DWORD PTR _force$[ebp], 0
  005e4	74 0a		 je	 SHORT $LN55@stop_vehic
  005e6	8b 45 f8	 mov	 eax, DWORD PTR _force$[ebp]
  005e9	8b 08		 mov	 ecx, DWORD PTR [eax]
  005eb	89 4d a0	 mov	 DWORD PTR tv330[ebp], ecx
  005ee	eb 21		 jmp	 SHORT $LN56@stop_vehic
$LN55@stop_vehic:
  005f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  005f6	83 c2 4d	 add	 edx, 77			; 0000004dH
  005f9	52		 push	 edx
  005fa	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  005ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00604	50		 push	 eax
  00605	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0060a	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv330[ebp], 0
$LN56@stop_vehic:
  00611	b9 01 00 00 00	 mov	 ecx, 1
  00616	85 c9		 test	 ecx, ecx
  00618	74 09		 je	 SHORT $LN57@stop_vehic
  0061a	c7 45 9c 0e 00
	00 00		 mov	 DWORD PTR tv338[ebp], 14 ; 0000000eH
  00621	eb 21		 jmp	 SHORT $LN58@stop_vehic
$LN57@stop_vehic:
  00623	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??stop_vehicles_on_route@@YGXHH@Z@4JA
  00629	83 c2 4d	 add	 edx, 77			; 0000004dH
  0062c	52		 push	 edx
  0062d	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00632	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00637	50		 push	 eax
  00638	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0063d	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv338[ebp], 0
$LN58@stop_vehic:
  00644	6a 0e		 push	 14			; 0000000eH
  00646	8b 4d f8	 mov	 ecx, DWORD PTR _force$[ebp]
  00649	51		 push	 ecx
  0064a	69 55 a0 b4 00
	00 00		 imul	 edx, DWORD PTR tv330[ebp], 180
  00651	8b 45 9c	 mov	 eax, DWORD PTR tv338[ebp]
  00654	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0065b	ff d1		 call	 ecx
  0065d	89 45 f8	 mov	 DWORD PTR _force$[ebp], eax

; 465  : 	}

  00660	e9 4d fa ff ff	 jmp	 $LN2@stop_vehic
$LN1@stop_vehic:

; 466  : }

  00665	5f		 pop	 edi
  00666	5e		 pop	 esi
  00667	5b		 pop	 ebx
  00668	8b e5		 mov	 esp, ebp
  0066a	5d		 pop	 ebp
  0066b	c2 08 00	 ret	 8
?stop_vehicles_on_route@@YGXHH@Z ENDP			; stop_vehicles_on_route
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\routed\routed.c
;	COMDAT ?unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
tv129 = -104						; size = 4
tv76 = -104						; size = 4
tv89 = -100						; size = 4
tv69 = -100						; size = 4
_attachment_point$ = -32				; size = 4
_type$ = -28						; size = 4
_entity_index_list$ = -24				; size = 4
_point$ = -20						; size = 4
_count$ = -16						; size = 4
_loop$ = -12						; size = 4
_item$ = -8						; size = 4
_inst3d$ = -4						; size = 4
_en$ = 8						; size = 4
_mode$ = 12						; size = 4
?unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z PROC ; unpack_routed_vehicle_meta_smoke_lists, COMDAT

; 291  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 68	 sub	 esp, 104		; 00000068H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 292  : 	object_3d_instance
; 293  : 		*inst3d;
; 294  : 
; 295  : 	int
; 296  : 		item,
; 297  : 		loop,
; 298  : 		count,
; 299  : 		point,
; 300  : 		*entity_index_list;
; 301  : 
; 302  : 	meta_smoke_list_types
; 303  : 		type;
; 304  : 
; 305  : 	object_3d_sub_object_index_numbers
; 306  : 		attachment_point;
; 307  : 
; 308  : 	if (get_local_entity_int_value (en, INT_TYPE_ALIVE))

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN20@unpack_rou
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d 9c	 mov	 DWORD PTR tv69[ebp], ecx
  00017	eb 1d		 jmp	 SHORT $LN21@unpack_rou
$LN20@unpack_rou:
  00019	68 34 01 00 00	 push	 308			; 00000134H
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00029	52		 push	 edx
  0002a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0002f	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
$LN21@unpack_rou:
  00036	b8 01 00 00 00	 mov	 eax, 1
  0003b	85 c0		 test	 eax, eax
  0003d	74 09		 je	 SHORT $LN22@unpack_rou
  0003f	c7 45 98 07 00
	00 00		 mov	 DWORD PTR tv76[ebp], 7
  00046	eb 1d		 jmp	 SHORT $LN23@unpack_rou
$LN22@unpack_rou:
  00048	68 34 01 00 00	 push	 308			; 00000134H
  0004d	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00052	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00058	51		 push	 ecx
  00059	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005e	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv76[ebp], 0
$LN23@unpack_rou:
  00065	6a 07		 push	 7
  00067	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0006a	52		 push	 edx
  0006b	69 45 9c 5c 04
	00 00		 imul	 eax, DWORD PTR tv69[ebp], 1116
  00072	8b 4d 98	 mov	 ecx, DWORD PTR tv76[ebp]
  00075	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0007c	ff d2		 call	 edx
  0007e	85 c0		 test	 eax, eax
  00080	0f 84 a2 01 00
	00		 je	 $LN1@unpack_rou

; 309  : 	{
; 310  : 		inst3d = (object_3d_instance *) get_local_entity_ptr_value (en, PTR_TYPE_INSTANCE_3D_OBJECT);

  00086	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0008a	74 0a		 je	 SHORT $LN24@unpack_rou
  0008c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0008f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00091	89 4d 9c	 mov	 DWORD PTR tv89[ebp], ecx
  00094	eb 21		 jmp	 SHORT $LN25@unpack_rou
$LN24@unpack_rou:
  00096	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  0009c	83 c2 13	 add	 edx, 19			; 00000013H
  0009f	52		 push	 edx
  000a0	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000aa	50		 push	 eax
  000ab	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b0	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv89[ebp], 0
$LN25@unpack_rou:
  000b7	b9 01 00 00 00	 mov	 ecx, 1
  000bc	85 c9		 test	 ecx, ecx
  000be	74 09		 je	 SHORT $LN26@unpack_rou
  000c0	c7 45 98 02 00
	00 00		 mov	 DWORD PTR tv129[ebp], 2
  000c7	eb 21		 jmp	 SHORT $LN27@unpack_rou
$LN26@unpack_rou:
  000c9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  000cf	83 c2 13	 add	 edx, 19			; 00000013H
  000d2	52		 push	 edx
  000d3	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000dd	50		 push	 eax
  000de	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e3	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN27@unpack_rou:
  000ea	6a 02		 push	 2
  000ec	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000ef	51		 push	 ecx
  000f0	6b 55 9c 50	 imul	 edx, DWORD PTR tv89[ebp], 80
  000f4	8b 45 98	 mov	 eax, DWORD PTR tv129[ebp]
  000f7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000fe	ff d1		 call	 ecx
  00100	89 45 fc	 mov	 DWORD PTR _inst3d$[ebp], eax

; 311  : 
; 312  : 		if (inst3d)

  00103	83 7d fc 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00107	0f 84 1b 01 00
	00		 je	 $LN1@unpack_rou

; 313  : 		{
; 314  : 			#if DEBUG_MODULE
; 315  : 
; 316  : 			debug_log ("ROUTED : Unpacking smoke for %s ( %d )", vehicle_database [get_local_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE)].full_name, en);
; 317  : 
; 318  : 			#endif
; 319  : 
; 320  : 			item = 0;

  0010d	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _item$[ebp], 0
$LN2@unpack_rou:

; 321  : 
; 322  : 			while (TRUE)

  00114	b8 01 00 00 00	 mov	 eax, 1
  00119	85 c0		 test	 eax, eax
  0011b	0f 84 07 01 00
	00		 je	 $LN1@unpack_rou

; 323  : 			{
; 324  : 				type = attached_meta_smoke_list_table [item].type;

  00121	6b 45 f8 0c	 imul	 eax, DWORD PTR _item$[ebp], 12
  00125	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?attached_meta_smoke_list_table@@3PAUATTACHED_META_SMOKE_LIST_TABLE@@A[eax]
  0012b	89 4d e4	 mov	 DWORD PTR _type$[ebp], ecx

; 325  : 
; 326  : 				if (type == -1)

  0012e	83 7d e4 ff	 cmp	 DWORD PTR _type$[ebp], -1
  00132	75 0a		 jne	 SHORT $LN12@unpack_rou

; 327  : 				{
; 328  : 					break;

  00134	e9 ef 00 00 00	 jmp	 $LN1@unpack_rou

; 329  : 				}
; 330  : 				else

  00139	e9 dc 00 00 00	 jmp	 $LN13@unpack_rou
$LN12@unpack_rou:

; 331  : 				{				
; 332  : 					for (point = 0; point < MAX_META_SMOKE_LIST_ATTACHMENT_POINTS; point ++)

  0013e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _point$[ebp], 0
  00145	eb 09		 jmp	 SHORT $LN6@unpack_rou
$LN4@unpack_rou:
  00147	8b 45 ec	 mov	 eax, DWORD PTR _point$[ebp]
  0014a	83 c0 01	 add	 eax, 1
  0014d	89 45 ec	 mov	 DWORD PTR _point$[ebp], eax
$LN6@unpack_rou:
  00150	83 7d ec 02	 cmp	 DWORD PTR _point$[ebp], 2
  00154	0f 8d c0 00 00
	00		 jge	 $LN13@unpack_rou

; 333  : 					{
; 334  : 						attachment_point = attached_meta_smoke_list_table [item].attachment_point [point];

  0015a	6b 45 f8 0c	 imul	 eax, DWORD PTR _item$[ebp], 12
  0015e	8b 4d ec	 mov	 ecx, DWORD PTR _point$[ebp]
  00161	8b 94 88 04 00
	00 00		 mov	 edx, DWORD PTR ?attached_meta_smoke_list_table@@3PAUATTACHED_META_SMOKE_LIST_TABLE@@A[eax+ecx*4+4]
  00168	89 55 e0	 mov	 DWORD PTR _attachment_point$[ebp], edx

; 335  : 
; 336  : 						if (attachment_point == -1)

  0016b	83 7d e0 ff	 cmp	 DWORD PTR _attachment_point$[ebp], -1
  0016f	75 0a		 jne	 SHORT $LN14@unpack_rou

; 337  : 						{
; 338  : 							break;

  00171	e9 a4 00 00 00	 jmp	 $LN13@unpack_rou

; 339  : 						}
; 340  : 						else

  00176	e9 9a 00 00 00	 jmp	 $LN15@unpack_rou
$LN14@unpack_rou:

; 341  : 						{				
; 342  : 							count = count_sub_object_type_depth (inst3d, attachment_point);

  0017b	8b 45 e0	 mov	 eax, DWORD PTR _attachment_point$[ebp]
  0017e	50		 push	 eax
  0017f	8b 4d fc	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  00182	51		 push	 ecx
  00183	e8 00 00 00 00	 call	 ?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; count_sub_object_type_depth
  00188	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 343  : 
; 344  : 							if (count >0)

  0018b	83 7d f0 00	 cmp	 DWORD PTR _count$[ebp], 0
  0018f	0f 8e 80 00 00
	00		 jle	 $LN15@unpack_rou

; 345  : 							{
; 346  : 								count *= count_entities_in_meta_smoke_list (type);						

  00195	8b 45 e4	 mov	 eax, DWORD PTR _type$[ebp]
  00198	50		 push	 eax
  00199	e8 00 00 00 00	 call	 ?count_entities_in_meta_smoke_list@@YGHW4META_SMOKE_LIST_TYPES@@@Z ; count_entities_in_meta_smoke_list
  0019e	0f af 45 f0	 imul	 eax, DWORD PTR _count$[ebp]
  001a2	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 347  : 
; 348  : 								entity_index_list = (int *) malloc_fast_mem (sizeof (int) * count);

  001a5	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  001a8	c1 e0 02	 shl	 eax, 2
  001ab	50		 push	 eax
  001ac	e8 00 00 00 00	 call	 ?malloc_fast_memory@@YGPAXI@Z ; malloc_fast_memory
  001b1	89 45 e8	 mov	 DWORD PTR _entity_index_list$[ebp], eax

; 349  : 
; 350  : 								for (loop = 0; loop < count; loop ++)

  001b4	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  001bb	eb 09		 jmp	 SHORT $LN9@unpack_rou
$LN7@unpack_rou:
  001bd	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  001c0	83 c0 01	 add	 eax, 1
  001c3	89 45 f4	 mov	 DWORD PTR _loop$[ebp], eax
$LN9@unpack_rou:
  001c6	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  001c9	3b 45 f0	 cmp	 eax, DWORD PTR _count$[ebp]
  001cc	7d 25		 jge	 SHORT $LN8@unpack_rou

; 351  : 								{
; 352  : 									if (mode == PACK_MODE_SERVER_SESSION)

  001ce	83 7d 0c 00	 cmp	 DWORD PTR _mode$[ebp], 0
  001d2	75 0f		 jne	 SHORT $LN17@unpack_rou

; 353  : 									{
; 354  : 										entity_index_list [loop] = ENTITY_INDEX_DONT_CARE;

  001d4	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  001d7	8b 4d e8	 mov	 ecx, DWORD PTR _entity_index_list$[ebp]
  001da	c7 04 81 ff ff
	ff ff		 mov	 DWORD PTR [ecx+eax*4], -1

; 355  : 									}
; 356  : 									else

  001e1	eb 0e		 jmp	 SHORT $LN18@unpack_rou
$LN17@unpack_rou:

; 357  : 									{
; 358  : 										entity_index_list [loop] = unpack_entity_safe_index ();

  001e3	e8 00 00 00 00	 call	 ?unpack_entity_safe_index@@YGHXZ ; unpack_entity_safe_index
  001e8	8b 4d f4	 mov	 ecx, DWORD PTR _loop$[ebp]
  001eb	8b 55 e8	 mov	 edx, DWORD PTR _entity_index_list$[ebp]
  001ee	89 04 8a	 mov	 DWORD PTR [edx+ecx*4], eax
$LN18@unpack_rou:

; 359  : 									}
; 360  : 
; 361  : 									#if DEBUG_MODULE
; 362  : 
; 363  : 									debug_log ("ROUTED : Index %d = %d", loop, entity_index_list [loop]);
; 364  : 
; 365  : 									#endif
; 366  : 								}

  001f1	eb ca		 jmp	 SHORT $LN7@unpack_rou
$LN8@unpack_rou:

; 367  : 
; 368  : 								register_attach_meta_smoke_list_to_object (en, type, attachment_point, entity_index_list, count);

  001f3	8b 45 f0	 mov	 eax, DWORD PTR _count$[ebp]
  001f6	50		 push	 eax
  001f7	8b 4d e8	 mov	 ecx, DWORD PTR _entity_index_list$[ebp]
  001fa	51		 push	 ecx
  001fb	8b 55 e0	 mov	 edx, DWORD PTR _attachment_point$[ebp]
  001fe	52		 push	 edx
  001ff	8b 45 e4	 mov	 eax, DWORD PTR _type$[ebp]
  00202	50		 push	 eax
  00203	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00206	51		 push	 ecx
  00207	e8 00 00 00 00	 call	 ?register_attach_meta_smoke_list_to_object@@YGXPAUENTITY@@HHPAHH@Z ; register_attach_meta_smoke_list_to_object

; 369  : 
; 370  : 								free_mem (entity_index_list);

  0020c	8b 45 e8	 mov	 eax, DWORD PTR _entity_index_list$[ebp]
  0020f	50		 push	 eax
  00210	e8 00 00 00 00	 call	 ?free_mem@@YGXPAX@Z	; free_mem
$LN15@unpack_rou:

; 371  : 							}
; 372  : 						}
; 373  : 					}

  00215	e9 2d ff ff ff	 jmp	 $LN4@unpack_rou
$LN13@unpack_rou:

; 374  : 				}
; 375  : 
; 376  : 				item ++;

  0021a	8b 45 f8	 mov	 eax, DWORD PTR _item$[ebp]
  0021d	83 c0 01	 add	 eax, 1
  00220	89 45 f8	 mov	 DWORD PTR _item$[ebp], eax

; 377  : 			}

  00223	e9 ec fe ff ff	 jmp	 $LN2@unpack_rou
$LN1@unpack_rou:

; 378  : 		}
; 379  : 	}
; 380  : }

  00228	5f		 pop	 edi
  00229	5e		 pop	 esi
  0022a	5b		 pop	 ebx
  0022b	8b e5		 mov	 esp, ebp
  0022d	5d		 pop	 ebp
  0022e	c2 08 00	 ret	 8
?unpack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z ENDP ; unpack_routed_vehicle_meta_smoke_lists
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\routed\routed.c
;	COMDAT ?pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
tv248 = -108						; size = 4
tv228 = -108						; size = 4
tv200 = -108						; size = 4
tv151 = -108						; size = 4
tv130 = -108						; size = 4
tv77 = -108						; size = 4
tv240 = -104						; size = 4
tv220 = -104						; size = 4
tv193 = -104						; size = 4
tv143 = -104						; size = 4
tv90 = -104						; size = 4
tv70 = -104						; size = 4
_type$ = -36						; size = 4
_attachment_point$ = -32				; size = 4
_special_effect$ = -28					; size = 4
_packed_indices$ = -24					; size = 4
_point$ = -20						; size = 4
_count$ = -16						; size = 4
_loop$ = -12						; size = 4
_item$ = -8						; size = 4
_inst3d$ = -4						; size = 4
_en$ = 8						; size = 4
_mode$ = 12						; size = 4
?pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z PROC ; pack_routed_vehicle_meta_smoke_lists, COMDAT

; 165  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 6c	 sub	 esp, 108		; 0000006cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 166  : 	object_3d_instance
; 167  : 		*inst3d;
; 168  : 
; 169  : 	int
; 170  : 		item,
; 171  : 		loop,
; 172  : 		count,
; 173  : 		point,
; 174  : 		packed_indices;
; 175  : 
; 176  : 	entity
; 177  : 		*special_effect;
; 178  : 
; 179  : 	object_3d_sub_object_index_numbers
; 180  : 		attachment_point;
; 181  : 
; 182  : 	meta_smoke_list_types
; 183  : 		type;
; 184  : 
; 185  : 	if (mode == PACK_MODE_SERVER_SESSION)

  00009	83 7d 0c 00	 cmp	 DWORD PTR _mode$[ebp], 0
  0000d	75 05		 jne	 SHORT $LN12@pack_route

; 186  : 	{
; 187  : 		//
; 188  : 		// no need to pack indices as the server can use "ENTITY_INDEX_DONT_CARE"s when unpacking
; 189  : 		//
; 190  : 
; 191  : 		return;

  0000f	e9 55 04 00 00	 jmp	 $LN1@pack_route
$LN12@pack_route:

; 192  : 	}
; 193  : 
; 194  : 	if (get_local_entity_int_value (en, INT_TYPE_ALIVE))

  00014	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00018	74 0a		 je	 SHORT $LN25@pack_route
  0001a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0001d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001f	89 4d 98	 mov	 DWORD PTR tv70[ebp], ecx
  00022	eb 1d		 jmp	 SHORT $LN26@pack_route
$LN25@pack_route:
  00024	68 c2 00 00 00	 push	 194			; 000000c2H
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	52		 push	 edx
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN26@pack_route:
  00041	b8 01 00 00 00	 mov	 eax, 1
  00046	85 c0		 test	 eax, eax
  00048	74 09		 je	 SHORT $LN27@pack_route
  0004a	c7 45 94 07 00
	00 00		 mov	 DWORD PTR tv77[ebp], 7
  00051	eb 1d		 jmp	 SHORT $LN28@pack_route
$LN27@pack_route:
  00053	68 c2 00 00 00	 push	 194			; 000000c2H
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00063	51		 push	 ecx
  00064	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00069	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv77[ebp], 0
$LN28@pack_route:
  00070	6a 07		 push	 7
  00072	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00075	52		 push	 edx
  00076	69 45 98 5c 04
	00 00		 imul	 eax, DWORD PTR tv70[ebp], 1116
  0007d	8b 4d 94	 mov	 ecx, DWORD PTR tv77[ebp]
  00080	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00087	ff d2		 call	 edx
  00089	85 c0		 test	 eax, eax
  0008b	0f 84 d8 03 00
	00		 je	 $LN1@pack_route

; 195  : 	{
; 196  : 		inst3d = (object_3d_instance *) get_local_entity_ptr_value (en, PTR_TYPE_INSTANCE_3D_OBJECT);

  00091	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00095	74 0a		 je	 SHORT $LN29@pack_route
  00097	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0009a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0009c	89 4d 98	 mov	 DWORD PTR tv90[ebp], ecx
  0009f	eb 21		 jmp	 SHORT $LN30@pack_route
$LN29@pack_route:
  000a1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  000a7	83 c2 1f	 add	 edx, 31			; 0000001fH
  000aa	52		 push	 edx
  000ab	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000b5	50		 push	 eax
  000b6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000bb	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN30@pack_route:
  000c2	b9 01 00 00 00	 mov	 ecx, 1
  000c7	85 c9		 test	 ecx, ecx
  000c9	74 09		 je	 SHORT $LN31@pack_route
  000cb	c7 45 94 02 00
	00 00		 mov	 DWORD PTR tv130[ebp], 2
  000d2	eb 21		 jmp	 SHORT $LN32@pack_route
$LN31@pack_route:
  000d4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  000da	83 c2 1f	 add	 edx, 31			; 0000001fH
  000dd	52		 push	 edx
  000de	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000e8	50		 push	 eax
  000e9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ee	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv130[ebp], 0
$LN32@pack_route:
  000f5	6a 02		 push	 2
  000f7	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000fa	51		 push	 ecx
  000fb	6b 55 98 50	 imul	 edx, DWORD PTR tv90[ebp], 80
  000ff	8b 45 94	 mov	 eax, DWORD PTR tv130[ebp]
  00102	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00109	ff d1		 call	 ecx
  0010b	89 45 fc	 mov	 DWORD PTR _inst3d$[ebp], eax

; 197  : 
; 198  : 		if (inst3d)

  0010e	83 7d fc 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00112	0f 84 51 03 00
	00		 je	 $LN1@pack_route

; 199  : 		{
; 200  : 			#if DEBUG_MODULE
; 201  : 
; 202  : 			debug_log ("ROUTED : Packing smoke for %s ( %d )", vehicle_database [get_local_entity_int_value (en, INT_TYPE_ENTITY_SUB_TYPE)].full_name, en);
; 203  : 
; 204  : 			#endif
; 205  : 
; 206  : 			item = 0;

  00118	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _item$[ebp], 0

; 207  : 
; 208  : 			special_effect = get_local_entity_first_child (en, LIST_TYPE_SPECIAL_EFFECT);

  0011f	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00123	74 0a		 je	 SHORT $LN33@pack_route
  00125	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00128	8b 08		 mov	 ecx, DWORD PTR [eax]
  0012a	89 4d 98	 mov	 DWORD PTR tv143[ebp], ecx
  0012d	eb 21		 jmp	 SHORT $LN34@pack_route
$LN33@pack_route:
  0012f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00135	83 c2 2b	 add	 edx, 43			; 0000002bH
  00138	52		 push	 edx
  00139	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0013e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00143	50		 push	 eax
  00144	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00149	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv143[ebp], 0
$LN34@pack_route:
  00150	b9 01 00 00 00	 mov	 ecx, 1
  00155	85 c9		 test	 ecx, ecx
  00157	74 09		 je	 SHORT $LN35@pack_route
  00159	c7 45 94 24 00
	00 00		 mov	 DWORD PTR tv151[ebp], 36 ; 00000024H
  00160	eb 21		 jmp	 SHORT $LN36@pack_route
$LN35@pack_route:
  00162	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00168	83 c2 2b	 add	 edx, 43			; 0000002bH
  0016b	52		 push	 edx
  0016c	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00171	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00176	50		 push	 eax
  00177	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0017c	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv151[ebp], 0
$LN36@pack_route:
  00183	6a 24		 push	 36			; 00000024H
  00185	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00188	51		 push	 ecx
  00189	69 55 98 b4 00
	00 00		 imul	 edx, DWORD PTR tv143[ebp], 180
  00190	8b 45 94	 mov	 eax, DWORD PTR tv151[ebp]
  00193	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0019a	ff d1		 call	 ecx
  0019c	89 45 e4	 mov	 DWORD PTR _special_effect$[ebp], eax
$LN2@pack_route:

; 209  : 
; 210  : 			while (TRUE)

  0019f	b8 01 00 00 00	 mov	 eax, 1
  001a4	85 c0		 test	 eax, eax
  001a6	0f 84 bd 02 00
	00		 je	 $LN1@pack_route

; 211  : 			{
; 212  : 				type = attached_meta_smoke_list_table [item].type;

  001ac	6b 45 f8 0c	 imul	 eax, DWORD PTR _item$[ebp], 12
  001b0	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?attached_meta_smoke_list_table@@3PAUATTACHED_META_SMOKE_LIST_TABLE@@A[eax]
  001b6	89 4d dc	 mov	 DWORD PTR _type$[ebp], ecx

; 213  : 
; 214  : 				if (type == -1)

  001b9	83 7d dc ff	 cmp	 DWORD PTR _type$[ebp], -1
  001bd	75 0a		 jne	 SHORT $LN15@pack_route

; 215  : 				{
; 216  : 					break;

  001bf	e9 a5 02 00 00	 jmp	 $LN1@pack_route

; 217  : 				}
; 218  : 				else

  001c4	e9 92 02 00 00	 jmp	 $LN16@pack_route
$LN15@pack_route:

; 219  : 				{
; 220  : 					count = 0;

  001c9	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0

; 221  : 
; 222  : 					for (point = 0; point < MAX_META_SMOKE_LIST_ATTACHMENT_POINTS; point ++)

  001d0	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _point$[ebp], 0
  001d7	eb 09		 jmp	 SHORT $LN6@pack_route
$LN4@pack_route:
  001d9	8b 45 ec	 mov	 eax, DWORD PTR _point$[ebp]
  001dc	83 c0 01	 add	 eax, 1
  001df	89 45 ec	 mov	 DWORD PTR _point$[ebp], eax
$LN6@pack_route:
  001e2	83 7d ec 02	 cmp	 DWORD PTR _point$[ebp], 2
  001e6	7d 30		 jge	 SHORT $LN5@pack_route

; 223  : 					{
; 224  : 						attachment_point = attached_meta_smoke_list_table [item].attachment_point [point];

  001e8	6b 45 f8 0c	 imul	 eax, DWORD PTR _item$[ebp], 12
  001ec	8b 4d ec	 mov	 ecx, DWORD PTR _point$[ebp]
  001ef	8b 94 88 04 00
	00 00		 mov	 edx, DWORD PTR ?attached_meta_smoke_list_table@@3PAUATTACHED_META_SMOKE_LIST_TABLE@@A[eax+ecx*4+4]
  001f6	89 55 e0	 mov	 DWORD PTR _attachment_point$[ebp], edx

; 225  : 
; 226  : 						if (attachment_point == -1)

  001f9	83 7d e0 ff	 cmp	 DWORD PTR _attachment_point$[ebp], -1
  001fd	75 04		 jne	 SHORT $LN17@pack_route

; 227  : 						{
; 228  : 							break;

  001ff	eb 17		 jmp	 SHORT $LN5@pack_route

; 229  : 						}
; 230  : 						else

  00201	eb 13		 jmp	 SHORT $LN18@pack_route
$LN17@pack_route:

; 231  : 						{
; 232  : 							count += count_sub_object_type_depth (inst3d, attachment_point);

  00203	8b 45 e0	 mov	 eax, DWORD PTR _attachment_point$[ebp]
  00206	50		 push	 eax
  00207	8b 4d fc	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  0020a	51		 push	 ecx
  0020b	e8 00 00 00 00	 call	 ?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; count_sub_object_type_depth
  00210	03 45 f0	 add	 eax, DWORD PTR _count$[ebp]
  00213	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax
$LN18@pack_route:

; 233  : 						}
; 234  : 					}

  00216	eb c1		 jmp	 SHORT $LN4@pack_route
$LN5@pack_route:

; 235  : 
; 236  : 					count *= count_entities_in_meta_smoke_list (type);

  00218	8b 45 dc	 mov	 eax, DWORD PTR _type$[ebp]
  0021b	50		 push	 eax
  0021c	e8 00 00 00 00	 call	 ?count_entities_in_meta_smoke_list@@YGHW4META_SMOKE_LIST_TYPES@@@Z ; count_entities_in_meta_smoke_list
  00221	0f af 45 f0	 imul	 eax, DWORD PTR _count$[ebp]
  00225	89 45 f0	 mov	 DWORD PTR _count$[ebp], eax

; 237  : 
; 238  : 					if (count > 0)

  00228	83 7d f0 00	 cmp	 DWORD PTR _count$[ebp], 0
  0022c	0f 8e 29 02 00
	00		 jle	 $LN16@pack_route

; 239  : 					{
; 240  : 						packed_indices = 0;

  00232	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _packed_indices$[ebp], 0

; 241  : 
; 242  : 						for (loop = 0 ; loop < count ; loop ++)

  00239	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  00240	eb 09		 jmp	 SHORT $LN9@pack_route
$LN7@pack_route:
  00242	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  00245	83 c0 01	 add	 eax, 1
  00248	89 45 f4	 mov	 DWORD PTR _loop$[ebp], eax
$LN9@pack_route:
  0024b	8b 45 f4	 mov	 eax, DWORD PTR _loop$[ebp]
  0024e	3b 45 f0	 cmp	 eax, DWORD PTR _count$[ebp]
  00251	0f 8d e4 01 00
	00		 jge	 $LN8@pack_route
$LN10@pack_route:

; 243  : 						{
; 244  : 							while (TRUE)

  00257	b8 01 00 00 00	 mov	 eax, 1
  0025c	85 c0		 test	 eax, eax
  0025e	0f 84 d2 01 00
	00		 je	 $LN11@pack_route

; 245  : 							{
; 246  : 								ASSERT (special_effect);

  00264	83 7d e4 00	 cmp	 DWORD PTR _special_effect$[ebp], 0
  00268	75 18		 jne	 SHORT $LN20@pack_route
  0026a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  0026f	83 c0 51	 add	 eax, 81			; 00000051H
  00272	50		 push	 eax
  00273	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00278	68 00 00 00 00	 push	 OFFSET ??_C@_0P@KGPELPEG@special_effect@
  0027d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN20@pack_route:

; 247  : 
; 248  : 								if (special_effect->type == ENTITY_TYPE_SMOKE_LIST)

  00282	8b 45 e4	 mov	 eax, DWORD PTR _special_effect$[ebp]
  00285	83 38 1f	 cmp	 DWORD PTR [eax], 31	; 0000001fH
  00288	0f 85 23 01 00
	00		 jne	 $LN21@pack_route

; 249  : 								{
; 250  : 									if (effect_database [get_local_entity_int_value (special_effect, INT_TYPE_ENTITY_SUB_TYPE)].constructed_locally)

  0028e	83 7d e4 00	 cmp	 DWORD PTR _special_effect$[ebp], 0
  00292	74 0a		 je	 SHORT $LN37@pack_route
  00294	8b 45 e4	 mov	 eax, DWORD PTR _special_effect$[ebp]
  00297	8b 08		 mov	 ecx, DWORD PTR [eax]
  00299	89 4d 98	 mov	 DWORD PTR tv193[ebp], ecx
  0029c	eb 1d		 jmp	 SHORT $LN38@pack_route
$LN37@pack_route:
  0029e	68 fa 00 00 00	 push	 250			; 000000faH
  002a3	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002a8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002ae	52		 push	 edx
  002af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b4	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv193[ebp], 0
$LN38@pack_route:
  002bb	b8 01 00 00 00	 mov	 eax, 1
  002c0	85 c0		 test	 eax, eax
  002c2	74 09		 je	 SHORT $LN39@pack_route
  002c4	c7 45 94 34 00
	00 00		 mov	 DWORD PTR tv200[ebp], 52 ; 00000034H
  002cb	eb 1d		 jmp	 SHORT $LN40@pack_route
$LN39@pack_route:
  002cd	68 fa 00 00 00	 push	 250			; 000000faH
  002d2	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  002d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002dd	51		 push	 ecx
  002de	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002e3	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv200[ebp], 0
$LN40@pack_route:
  002ea	6a 34		 push	 52			; 00000034H
  002ec	8b 55 e4	 mov	 edx, DWORD PTR _special_effect$[ebp]
  002ef	52		 push	 edx
  002f0	69 45 98 5c 04
	00 00		 imul	 eax, DWORD PTR tv193[ebp], 1116
  002f7	8b 4d 94	 mov	 ecx, DWORD PTR tv200[ebp]
  002fa	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00301	ff d2		 call	 edx
  00303	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[eax*4], 0
  0030b	0f 84 a0 00 00
	00		 je	 $LN21@pack_route

; 251  : 									{
; 252  : 										pack_entity_safe_index (get_local_entity_index (special_effect));

  00311	8b 45 e4	 mov	 eax, DWORD PTR _special_effect$[ebp]
  00314	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  0031a	c1 f8 04	 sar	 eax, 4
  0031d	50		 push	 eax
  0031e	e8 00 00 00 00	 call	 ?pack_entity_safe_index@@YGXH@Z ; pack_entity_safe_index

; 253  : 
; 254  : 										#if DEBUG_MODULE
; 255  : 
; 256  : 										debug_log ("ROUTED : Index %d = %d", packed_indices, get_local_entity_index (special_effect));
; 257  : 
; 258  : 										#endif
; 259  : 
; 260  : 										packed_indices ++;

  00323	8b 45 e8	 mov	 eax, DWORD PTR _packed_indices$[ebp]
  00326	83 c0 01	 add	 eax, 1
  00329	89 45 e8	 mov	 DWORD PTR _packed_indices$[ebp], eax

; 261  : 
; 262  : 										special_effect = get_local_entity_child_succ (special_effect, LIST_TYPE_SPECIAL_EFFECT);

  0032c	83 7d e4 00	 cmp	 DWORD PTR _special_effect$[ebp], 0
  00330	74 0a		 je	 SHORT $LN41@pack_route
  00332	8b 45 e4	 mov	 eax, DWORD PTR _special_effect$[ebp]
  00335	8b 08		 mov	 ecx, DWORD PTR [eax]
  00337	89 4d 98	 mov	 DWORD PTR tv220[ebp], ecx
  0033a	eb 21		 jmp	 SHORT $LN42@pack_route
$LN41@pack_route:
  0033c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00342	83 c2 61	 add	 edx, 97			; 00000061H
  00345	52		 push	 edx
  00346	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0034b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00350	50		 push	 eax
  00351	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00356	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv220[ebp], 0
$LN42@pack_route:
  0035d	b9 01 00 00 00	 mov	 ecx, 1
  00362	85 c9		 test	 ecx, ecx
  00364	74 09		 je	 SHORT $LN43@pack_route
  00366	c7 45 94 24 00
	00 00		 mov	 DWORD PTR tv228[ebp], 36 ; 00000024H
  0036d	eb 21		 jmp	 SHORT $LN44@pack_route
$LN43@pack_route:
  0036f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00375	83 c2 61	 add	 edx, 97			; 00000061H
  00378	52		 push	 edx
  00379	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0037e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00383	50		 push	 eax
  00384	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00389	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv228[ebp], 0
$LN44@pack_route:
  00390	6a 24		 push	 36			; 00000024H
  00392	8b 4d e4	 mov	 ecx, DWORD PTR _special_effect$[ebp]
  00395	51		 push	 ecx
  00396	69 55 98 b4 00
	00 00		 imul	 edx, DWORD PTR tv220[ebp], 180
  0039d	8b 45 94	 mov	 eax, DWORD PTR tv228[ebp]
  003a0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  003a7	ff d1		 call	 ecx
  003a9	89 45 e4	 mov	 DWORD PTR _special_effect$[ebp], eax

; 263  : 
; 264  : 										break;

  003ac	e9 85 00 00 00	 jmp	 $LN11@pack_route
$LN21@pack_route:

; 265  : 									}
; 266  : 								}
; 267  : 	
; 268  : 								special_effect = get_local_entity_child_succ (special_effect, LIST_TYPE_SPECIAL_EFFECT);

  003b1	83 7d e4 00	 cmp	 DWORD PTR _special_effect$[ebp], 0
  003b5	74 0a		 je	 SHORT $LN45@pack_route
  003b7	8b 45 e4	 mov	 eax, DWORD PTR _special_effect$[ebp]
  003ba	8b 08		 mov	 ecx, DWORD PTR [eax]
  003bc	89 4d 98	 mov	 DWORD PTR tv240[ebp], ecx
  003bf	eb 21		 jmp	 SHORT $LN46@pack_route
$LN45@pack_route:
  003c1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  003c7	83 c2 67	 add	 edx, 103		; 00000067H
  003ca	52		 push	 edx
  003cb	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  003d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003d5	50		 push	 eax
  003d6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003db	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv240[ebp], 0
$LN46@pack_route:
  003e2	b9 01 00 00 00	 mov	 ecx, 1
  003e7	85 c9		 test	 ecx, ecx
  003e9	74 09		 je	 SHORT $LN47@pack_route
  003eb	c7 45 94 24 00
	00 00		 mov	 DWORD PTR tv248[ebp], 36 ; 00000024H
  003f2	eb 21		 jmp	 SHORT $LN48@pack_route
$LN47@pack_route:
  003f4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  003fa	83 c2 67	 add	 edx, 103		; 00000067H
  003fd	52		 push	 edx
  003fe	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00403	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00408	50		 push	 eax
  00409	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0040e	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv248[ebp], 0
$LN48@pack_route:
  00415	6a 24		 push	 36			; 00000024H
  00417	8b 4d e4	 mov	 ecx, DWORD PTR _special_effect$[ebp]
  0041a	51		 push	 ecx
  0041b	69 55 98 b4 00
	00 00		 imul	 edx, DWORD PTR tv240[ebp], 180
  00422	8b 45 94	 mov	 eax, DWORD PTR tv248[ebp]
  00425	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0042c	ff d1		 call	 ecx
  0042e	89 45 e4	 mov	 DWORD PTR _special_effect$[ebp], eax

; 269  : 							}

  00431	e9 21 fe ff ff	 jmp	 $LN10@pack_route
$LN11@pack_route:

; 270  : 						}

  00436	e9 07 fe ff ff	 jmp	 $LN7@pack_route
$LN8@pack_route:

; 271  : 
; 272  : 						//
; 273  : 						// check to make sure that only vehicle wake smoke lists are being sent across ( and also the right amount of them )
; 274  : 						//
; 275  : 
; 276  : 						ASSERT (packed_indices == count);

  0043b	8b 45 e8	 mov	 eax, DWORD PTR _packed_indices$[ebp]
  0043e	3b 45 f0	 cmp	 eax, DWORD PTR _count$[ebp]
  00441	74 18		 je	 SHORT $LN16@pack_route
  00443	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z@4JA
  00448	83 c0 6f	 add	 eax, 111		; 0000006fH
  0044b	50		 push	 eax
  0044c	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@PLKNAAAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00451	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@MBKKNMHC@packed_indices?5?$DN?$DN?5count@
  00456	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN16@pack_route:

; 277  : 					}
; 278  : 				}
; 279  : 
; 280  : 				item ++;

  0045b	8b 45 f8	 mov	 eax, DWORD PTR _item$[ebp]
  0045e	83 c0 01	 add	 eax, 1
  00461	89 45 f8	 mov	 DWORD PTR _item$[ebp], eax

; 281  : 			}

  00464	e9 36 fd ff ff	 jmp	 $LN2@pack_route
$LN1@pack_route:

; 282  : 		}
; 283  : 	}
; 284  : }

  00469	5f		 pop	 edi
  0046a	5e		 pop	 esi
  0046b	5b		 pop	 ebx
  0046c	8b e5		 mov	 esp, ebp
  0046e	5d		 pop	 ebp
  0046f	c2 08 00	 ret	 8
?pack_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@W4PACK_MODES@@@Z ENDP ; pack_routed_vehicle_meta_smoke_lists
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\routed\routed.c
;	COMDAT ?attach_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_type$ = -16						; size = 4
_attachment_point$ = -12				; size = 4
_point$ = -8						; size = 4
_item$ = -4						; size = 4
_en$ = 8						; size = 4
?attach_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@@Z PROC ; attach_routed_vehicle_meta_smoke_lists, COMDAT

; 120  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 121  : 	int
; 122  : 		item,
; 123  : 		point;
; 124  : 
; 125  : 	object_3d_sub_object_index_numbers
; 126  : 		attachment_point;
; 127  : 
; 128  : 	meta_smoke_list_types
; 129  : 		type;
; 130  : 
; 131  : 	item = 0;

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _item$[ebp], 0
$LN2@attach_rou:

; 132  : 
; 133  : 	while (TRUE)

  00010	b8 01 00 00 00	 mov	 eax, 1
  00015	85 c0		 test	 eax, eax
  00017	74 68		 je	 SHORT $LN1@attach_rou

; 134  : 	{
; 135  : 		type = attached_meta_smoke_list_table [item].type;

  00019	6b 45 fc 0c	 imul	 eax, DWORD PTR _item$[ebp], 12
  0001d	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?attached_meta_smoke_list_table@@3PAUATTACHED_META_SMOKE_LIST_TABLE@@A[eax]
  00023	89 4d f0	 mov	 DWORD PTR _type$[ebp], ecx

; 136  : 
; 137  : 		if (type == -1)

  00026	83 7d f0 ff	 cmp	 DWORD PTR _type$[ebp], -1
  0002a	75 04		 jne	 SHORT $LN7@attach_rou

; 138  : 		{
; 139  : 			break;

  0002c	eb 53		 jmp	 SHORT $LN1@attach_rou

; 140  : 		}
; 141  : 		else

  0002e	eb 46		 jmp	 SHORT $LN8@attach_rou
$LN7@attach_rou:

; 142  : 		{
; 143  : 			for (point = 0; point < MAX_META_SMOKE_LIST_ATTACHMENT_POINTS; point ++)

  00030	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _point$[ebp], 0
  00037	eb 09		 jmp	 SHORT $LN6@attach_rou
$LN4@attach_rou:
  00039	8b 45 f8	 mov	 eax, DWORD PTR _point$[ebp]
  0003c	83 c0 01	 add	 eax, 1
  0003f	89 45 f8	 mov	 DWORD PTR _point$[ebp], eax
$LN6@attach_rou:
  00042	83 7d f8 02	 cmp	 DWORD PTR _point$[ebp], 2
  00046	7d 2e		 jge	 SHORT $LN8@attach_rou

; 144  : 			{
; 145  : 				attachment_point = attached_meta_smoke_list_table [item].attachment_point [point];

  00048	6b 45 fc 0c	 imul	 eax, DWORD PTR _item$[ebp], 12
  0004c	8b 4d f8	 mov	 ecx, DWORD PTR _point$[ebp]
  0004f	8b 94 88 04 00
	00 00		 mov	 edx, DWORD PTR ?attached_meta_smoke_list_table@@3PAUATTACHED_META_SMOKE_LIST_TABLE@@A[eax+ecx*4+4]
  00056	89 55 f4	 mov	 DWORD PTR _attachment_point$[ebp], edx

; 146  : 
; 147  : 				if (attachment_point == -1)

  00059	83 7d f4 ff	 cmp	 DWORD PTR _attachment_point$[ebp], -1
  0005d	75 02		 jne	 SHORT $LN9@attach_rou

; 148  : 				{
; 149  : 					break;

  0005f	eb 15		 jmp	 SHORT $LN8@attach_rou
$LN9@attach_rou:

; 150  : 				}
; 151  : 
; 152  : 				attach_local_meta_smoke_lists_to_object (en, type, attachment_point, NULL);

  00061	6a 00		 push	 0
  00063	8b 45 f4	 mov	 eax, DWORD PTR _attachment_point$[ebp]
  00066	50		 push	 eax
  00067	8b 4d f0	 mov	 ecx, DWORD PTR _type$[ebp]
  0006a	51		 push	 ecx
  0006b	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0006e	52		 push	 edx
  0006f	e8 00 00 00 00	 call	 ?attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z ; attach_local_meta_smoke_lists_to_object

; 153  : 			}

  00074	eb c3		 jmp	 SHORT $LN4@attach_rou
$LN8@attach_rou:

; 154  : 		}
; 155  : 
; 156  : 		item ++;

  00076	8b 45 fc	 mov	 eax, DWORD PTR _item$[ebp]
  00079	83 c0 01	 add	 eax, 1
  0007c	89 45 fc	 mov	 DWORD PTR _item$[ebp], eax

; 157  : 	}

  0007f	eb 8f		 jmp	 SHORT $LN2@attach_rou
$LN1@attach_rou:

; 158  : }

  00081	5f		 pop	 edi
  00082	5e		 pop	 esi
  00083	5b		 pop	 ebx
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c2 04 00	 ret	 4
?attach_routed_vehicle_meta_smoke_lists@@YGXPAUENTITY@@@Z ENDP ; attach_routed_vehicle_meta_smoke_lists
_TEXT	ENDS
END
