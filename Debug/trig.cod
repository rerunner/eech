; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\maths\trig.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?sine_table@@3PAMA				; sine_table
_BSS	SEGMENT
?sine_table@@3PAMA DD 01000H DUP (?)			; sine_table
_BSS	ENDS
PUBLIC	?initialise_trig_tables@@YGXXZ			; initialise_trig_tables
PUBLIC	__real@401921fb60000000
PUBLIC	__real@40b0000000000000
EXTRN	_sin:PROC
EXTRN	__fltused:DWORD
;	COMDAT __real@40b0000000000000
CONST	SEGMENT
__real@40b0000000000000 DQ 040b0000000000000r	; 4096
CONST	ENDS
;	COMDAT __real@401921fb60000000
CONST	SEGMENT
__real@401921fb60000000 DQ 0401921fb60000000r	; 6.28319
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\maths\trig.c
;	COMDAT ?initialise_trig_tables@@YGXXZ
_TEXT	SEGMENT
_loop$ = -4						; size = 4
?initialise_trig_tables@@YGXXZ PROC			; initialise_trig_tables, COMDAT

; 81   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 82   : 	int
; 83   : 		loop;
; 84   : 
; 85   : 	//
; 86   : 	// sine table
; 87   : 	//
; 88   : 
; 89   : 	for (loop = 0; loop < NUM_SINE_PDEGS; loop++)

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  00010	eb 09		 jmp	 SHORT $LN4@initialise
$LN2@initialise:
  00012	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@initialise:
  0001b	81 7d fc 00 10
	00 00		 cmp	 DWORD PTR _loop$[ebp], 4096 ; 00001000H
  00022	7d 35		 jge	 SHORT $LN3@initialise

; 90   : 	{
; 91   : 		sine_table[loop] = sin ((2.0 * PI * (float) loop) / ((float) NUM_SINE_PDEGS));

  00024	f3 0f 2a 45 fc	 cvtsi2ss xmm0, DWORD PTR _loop$[ebp]
  00029	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0002d	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@401921fb60000000
  00035	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@40b0000000000000
  0003d	83 ec 08	 sub	 esp, 8
  00040	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00045	e8 00 00 00 00	 call	 _sin
  0004a	83 c4 08	 add	 esp, 8
  0004d	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00050	d9 1c 85 00 00
	00 00		 fstp	 DWORD PTR ?sine_table@@3PAMA[eax*4]

; 92   : 	}

  00057	eb b9		 jmp	 SHORT $LN2@initialise
$LN3@initialise:

; 93   : }

  00059	5f		 pop	 edi
  0005a	5e		 pop	 esi
  0005b	5b		 pop	 ebx
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
?initialise_trig_tables@@YGXXZ ENDP			; initialise_trig_tables
_TEXT	ENDS
END
