; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\effect\explosn\xp_updt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_explosion_update_functions@@YGXXZ	; overload_explosion_update_functions
PUBLIC	?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA ; `update_server'::`1'::__LINE__Var
PUBLIC	??_C@_0FE@GBDOLBAC@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	__real@3f800000
PUBLIC	__real@3ff0000000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?fn_destroy_client_server_entity_family@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_destroy_client_server_entity_family
EXTRN	?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_update_client_server_entity
EXTRN	__fltused:DWORD
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ??_C@_0FE@GBDOLBAC@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FE@GBDOLBAC@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\effect\explos'
	DB	'n\xp_updt.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA DD 050H ; `update_server'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\explosn\xp_updt.c
;	COMDAT ?update_client@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_client@@YGXPAUENTITY@@@Z PROC			; update_client, COMDAT

; 99   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 100  : 	explosion
; 101  : 		*raw;
; 102  : 
; 103  : 	raw = (explosion *) get_local_entity_data (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 104  : 
; 105  : 	raw->explosion_state += (get_delta_time () / raw->animation_frequency);

  00012	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00015	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0001d	f3 0f 5e 40 2c	 divss	 xmm0, DWORD PTR [eax+44]
  00022	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  00025	f3 0f 58 41 30	 addss	 xmm0, DWORD PTR [ecx+48]
  0002a	8b 55 fc	 mov	 edx, DWORD PTR _raw$[ebp]
  0002d	f3 0f 11 42 30	 movss	 DWORD PTR [edx+48], xmm0

; 106  : 
; 107  : 	if (raw->explosion_state > 1.0)

  00032	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00035	f3 0f 5a 40 30	 cvtss2sd xmm0, DWORD PTR [eax+48]
  0003a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3ff0000000000000
  00042	76 10		 jbe	 SHORT $LN2@update_cli

; 108  : 	{
; 109  : 		raw->explosion_state = 1.0;

  00044	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00047	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0004f	f3 0f 11 40 30	 movss	 DWORD PTR [eax+48], xmm0
$LN2@update_cli:

; 110  : 	}
; 111  : }

  00054	5f		 pop	 edi
  00055	5e		 pop	 esi
  00056	5b		 pop	 ebx
  00057	8b e5		 mov	 esp, ebp
  00059	5d		 pop	 ebp
  0005a	c2 04 00	 ret	 4
?update_client@@YGXPAUENTITY@@@Z ENDP			; update_client
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\explosn\xp_updt.c
;	COMDAT ?update_server@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv79 = -72						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_server@@YGXPAUENTITY@@@Z PROC			; update_server, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	explosion
; 82   : 		*raw;
; 83   : 
; 84   : 	raw = (explosion *) get_local_entity_data (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 85   : 
; 86   : 	raw->explosion_state += (get_delta_time () / raw->animation_frequency);

  00012	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00015	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0001d	f3 0f 5e 40 2c	 divss	 xmm0, DWORD PTR [eax+44]
  00022	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  00025	f3 0f 58 41 30	 addss	 xmm0, DWORD PTR [ecx+48]
  0002a	8b 55 fc	 mov	 edx, DWORD PTR _raw$[ebp]
  0002d	f3 0f 11 42 30	 movss	 DWORD PTR [edx+48], xmm0

; 87   : 
; 88   : 	if (raw->explosion_state > 1.0)

  00032	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00035	f3 0f 5a 40 30	 cvtss2sd xmm0, DWORD PTR [eax+48]
  0003a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3ff0000000000000
  00042	76 4a		 jbe	 SHORT $LN2@update_ser

; 89   : 	{
; 90   : 		destroy_client_server_entity_family (en);

  00044	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00048	74 0a		 je	 SHORT $LN4@update_ser
  0004a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0004d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0004f	89 4d b8	 mov	 DWORD PTR tv79[ebp], ecx
  00052	eb 21		 jmp	 SHORT $LN5@update_ser
$LN4@update_ser:
  00054	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  0005a	83 c2 0a	 add	 edx, 10			; 0000000aH
  0005d	52		 push	 edx
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@GBDOLBAC@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006e	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv79[ebp], 0
$LN5@update_ser:
  00075	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00078	51		 push	 ecx
  00079	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0007f	c1 e2 02	 shl	 edx, 2
  00082	8b 45 b8	 mov	 eax, DWORD PTR tv79[ebp]
  00085	8b 8c c2 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_destroy_client_server_entity_family@@3PAY01P6GXPAUENTITY@@@ZA[edx+eax*8]
  0008c	ff d1		 call	 ecx
$LN2@update_ser:

; 91   : 	}
; 92   : }

  0008e	5f		 pop	 edi
  0008f	5e		 pop	 esi
  00090	5b		 pop	 ebx
  00091	8b e5		 mov	 esp, ebp
  00093	5d		 pop	 ebp
  00094	c2 04 00	 ret	 4
?update_server@@YGXPAUENTITY@@@Z ENDP			; update_server
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\explosn\xp_updt.c
;	COMDAT ?overload_explosion_update_functions@@YGXXZ
_TEXT	SEGMENT
?overload_explosion_update_functions@@YGXXZ PROC	; overload_explosion_update_functions, COMDAT

; 118  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 119  : 	fn_update_client_server_entity[ENTITY_TYPE_EXPLOSION][COMMS_MODEL_SERVER]  	= update_server;

  00009	b8 08 00 00 00	 mov	 eax, 8
  0000e	6b c8 09	 imul	 ecx, eax, 9
  00011	ba 04 00 00 00	 mov	 edx, 4
  00016	6b c2 00	 imul	 eax, edx, 0
  00019	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+eax], OFFSET ?update_server@@YGXPAUENTITY@@@Z ; update_server

; 120  : 
; 121  : 	fn_update_client_server_entity[ENTITY_TYPE_EXPLOSION][COMMS_MODEL_CLIENT]  	= update_client;

  00024	b8 08 00 00 00	 mov	 eax, 8
  00029	6b c8 09	 imul	 ecx, eax, 9
  0002c	ba 04 00 00 00	 mov	 edx, 4
  00031	c1 e2 00	 shl	 edx, 0
  00034	c7 84 11 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+edx], OFFSET ?update_client@@YGXPAUENTITY@@@Z ; update_client

; 122  : }

  0003f	5f		 pop	 edi
  00040	5e		 pop	 esi
  00041	5b		 pop	 ebx
  00042	8b e5		 mov	 esp, ebp
  00044	5d		 pop	 ebp
  00045	c3		 ret	 0
?overload_explosion_update_functions@@YGXXZ ENDP	; overload_explosion_update_functions
_TEXT	ENDS
END
