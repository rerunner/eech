; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\en_misc\en_maths\en_maths.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	_atan2f
PUBLIC	_cosf
PUBLIC	_sinf
PUBLIC	_sqrtf
PUBLIC	?atan2@@YGMMM@Z					; atan2
PUBLIC	?cos@@YGMM@Z					; cos
PUBLIC	?sin@@YGMM@Z					; sin
PUBLIC	?sqrt@@YGMM@Z					; sqrt
PUBLIC	?get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z ; get_local_entity_target_bearing
PUBLIC	?get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z ; get_local_entity_target_relative_bearing
PUBLIC	?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z ; get_local_entity_target_point
PUBLIC	?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA ; `get_local_entity_target_bearing'::`1'::__LINE__Var
PUBLIC	??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_06OEKOLKIL@source@			; `string'
PUBLIC	??_C@_06JJLAMBGK@target@			; `string'
PUBLIC	?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA ; `get_local_entity_target_relative_bearing'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA ; `get_local_entity_target_point'::`1'::__LINE__Var
PUBLIC	??_C@_02LFNMGJAP@en@				; `string'
PUBLIC	??_C@_0N@BIEDLGOA@target_point@			; `string'
PUBLIC	__real@0000000000000000
PUBLIC	__real@400921fb51000000
PUBLIC	__real@401921fb51000000
PUBLIC	__real@c00921fb51000000
EXTRN	_atan2:PROC
EXTRN	_cos:PROC
EXTRN	_sin:PROC
EXTRN	_sqrt:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA:BYTE ; fn_get_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?target_point_offsets@@3PAUVEC3D@@A:BYTE	; target_point_offsets
EXTRN	__fltused:DWORD
;	COMDAT __real@c00921fb51000000
CONST	SEGMENT
__real@c00921fb51000000 DQ 0c00921fb51000000r	; -3.14159
CONST	ENDS
;	COMDAT __real@401921fb51000000
CONST	SEGMENT
__real@401921fb51000000 DQ 0401921fb51000000r	; 6.28319
CONST	ENDS
;	COMDAT __real@400921fb51000000
CONST	SEGMENT
__real@400921fb51000000 DQ 0400921fb51000000r	; 3.14159
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ??_C@_0N@BIEDLGOA@target_point@
CONST	SEGMENT
??_C@_0N@BIEDLGOA@target_point@ DB 'target_point', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_02LFNMGJAP@en@
CONST	SEGMENT
??_C@_02LFNMGJAP@en@ DB 'en', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA DD 0a7H ; `get_local_entity_target_point'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA DD 079H ; `get_local_entity_target_relative_bearing'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06JJLAMBGK@target@
CONST	SEGMENT
??_C@_06JJLAMBGK@target@ DB 'target', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06OEKOLKIL@source@
CONST	SEGMENT
??_C@_06OEKOLKIL@source@ DB 'source', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\en_misc\en_maths\en_m'
	DB	'aths.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA DD 050H ; `get_local_entity_target_bearing'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_maths\en_maths.c
;	COMDAT ?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z
_TEXT	SEGMENT
tv271 = -204						; size = 4
tv240 = -204						; size = 4
tv219 = -204						; size = 4
tv201 = -204						; size = 4
tv181 = -204						; size = 4
tv144 = -204						; size = 4
tv88 = -204						; size = 4
tv263 = -200						; size = 4
tv232 = -200						; size = 4
tv212 = -200						; size = 4
tv193 = -200						; size = 4
tv173 = -200						; size = 4
tv158 = -200						; size = 4
tv136 = -200						; size = 4
tv80 = -200						; size = 4
_rotated_z_offset$ = -132				; size = 4
_rotated_x_offset$ = -128				; size = 4
_cos_heading$ = -124					; size = 4
_sin_heading$ = -120					; size = 4
_heading$ = -116					; size = 4
_index$ = -112						; size = 4
_vp$ = -108						; size = 48
_search$ = -60						; size = 56
_inst3d$ = -4						; size = 4
_en$ = 8						; size = 4
_target_point$ = 12					; size = 4
?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z PROC ; get_local_entity_target_point, COMDAT

; 167  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 168  : 	object_3d_instance
; 169  : 		*inst3d;
; 170  : 
; 171  : 	object_3d_sub_object_search_data
; 172  : 		search;
; 173  : 
; 174  : 	viewpoint
; 175  : 		vp;
; 176  : 
; 177  : 	object_3d_index_numbers
; 178  : 		index;
; 179  : 
; 180  : 	float
; 181  : 		heading,
; 182  : 		sin_heading,
; 183  : 		cos_heading,
; 184  : 		rotated_x_offset,
; 185  : 		rotated_z_offset;
; 186  : 
; 187  : 	ASSERT (en);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@get_local_
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00017	83 c0 14	 add	 eax, 20			; 00000014H
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 188  : 
; 189  : 	ASSERT (target_point);

  0002a	83 7d 0c 00	 cmp	 DWORD PTR _target_point$[ebp], 0
  0002e	75 18		 jne	 SHORT $LN3@get_local_
  00030	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00035	83 c0 16	 add	 eax, 22			; 00000016H
  00038	50		 push	 eax
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	68 00 00 00 00	 push	 OFFSET ??_C@_0N@BIEDLGOA@target_point@
  00043	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_local_:

; 190  : 
; 191  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (en, PTR_TYPE_INSTANCE_3D_OBJECT);

  00048	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0004c	74 0d		 je	 SHORT $LN14@get_local_
  0004e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00051	8b 08		 mov	 ecx, DWORD PTR [eax]
  00053	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv80[ebp], ecx
  00059	eb 24		 jmp	 SHORT $LN15@get_local_
$LN14@get_local_:
  0005b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00061	83 c2 18	 add	 edx, 24			; 00000018H
  00064	52		 push	 edx
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0006f	50		 push	 eax
  00070	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00075	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN15@get_local_:
  0007f	b9 01 00 00 00	 mov	 ecx, 1
  00084	85 c9		 test	 ecx, ecx
  00086	74 0c		 je	 SHORT $LN16@get_local_
  00088	c7 85 34 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv88[ebp], 2
  00092	eb 24		 jmp	 SHORT $LN17@get_local_
$LN16@get_local_:
  00094	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0009a	83 c2 18	 add	 edx, 24			; 00000018H
  0009d	52		 push	 edx
  0009e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000a8	50		 push	 eax
  000a9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ae	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv88[ebp], 0
$LN17@get_local_:
  000b8	6a 02		 push	 2
  000ba	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000bd	51		 push	 ecx
  000be	6b 95 38 ff ff
	ff 50		 imul	 edx, DWORD PTR tv80[ebp], 80
  000c5	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv88[ebp]
  000cb	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000d2	ff d1		 call	 ecx
  000d4	89 45 fc	 mov	 DWORD PTR _inst3d$[ebp], eax

; 192  : 
; 193  : 	if (inst3d)

  000d7	83 7d fc 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000db	0f 84 c5 01 00
	00		 je	 $LN4@get_local_

; 194  : 	{
; 195  : 		search.search_depth = 0;

  000e1	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 196  : 		search.search_object = inst3d;

  000e8	8b 45 fc	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000eb	89 45 c4	 mov	 DWORD PTR _search$[ebp], eax

; 197  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_TARGET_POINT;

  000ee	c7 45 d0 0d 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 13 ; 0000000dH

; 198  : 
; 199  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  000f5	8d 45 c4	 lea	 eax, DWORD PTR _search$[ebp]
  000f8	50		 push	 eax
  000f9	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  000fe	83 f8 01	 cmp	 eax, 1
  00101	0f 85 0a 01 00
	00		 jne	 $LN6@get_local_

; 200  : 		{
; 201  : 			get_local_entity_vec3d (en, VEC3D_TYPE_POSITION, &inst3d->vp.position);

  00107	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0010b	74 0d		 je	 SHORT $LN18@get_local_
  0010d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00110	8b 08		 mov	 ecx, DWORD PTR [eax]
  00112	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv136[ebp], ecx
  00118	eb 24		 jmp	 SHORT $LN19@get_local_
$LN18@get_local_:
  0011a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00120	83 c2 22	 add	 edx, 34			; 00000022H
  00123	52		 push	 edx
  00124	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00129	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0012e	50		 push	 eax
  0012f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00134	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv136[ebp], 0
$LN19@get_local_:
  0013e	b9 01 00 00 00	 mov	 ecx, 1
  00143	85 c9		 test	 ecx, ecx
  00145	74 0c		 je	 SHORT $LN20@get_local_
  00147	c7 85 34 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv144[ebp], 8
  00151	eb 24		 jmp	 SHORT $LN21@get_local_
$LN20@get_local_:
  00153	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00159	83 c2 22	 add	 edx, 34			; 00000022H
  0015c	52		 push	 edx
  0015d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00162	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00167	50		 push	 eax
  00168	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0016d	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv144[ebp], 0
$LN21@get_local_:
  00177	8b 4d fc	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  0017a	83 c1 08	 add	 ecx, 8
  0017d	51		 push	 ecx
  0017e	6a 08		 push	 8
  00180	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00183	52		 push	 edx
  00184	6b 85 38 ff ff
	ff 60		 imul	 eax, DWORD PTR tv136[ebp], 96
  0018b	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR tv144[ebp]
  00191	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00198	ff d2		 call	 edx

; 202  : 
; 203  : 			get_local_entity_attitude_matrix (en, inst3d->vp.attitude);

  0019a	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0019e	74 0d		 je	 SHORT $LN22@get_local_
  001a0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001a3	8b 08		 mov	 ecx, DWORD PTR [eax]
  001a5	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv158[ebp], ecx
  001ab	eb 24		 jmp	 SHORT $LN23@get_local_
$LN22@get_local_:
  001ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  001b3	83 c2 24	 add	 edx, 36			; 00000024H
  001b6	52		 push	 edx
  001b7	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  001bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001c1	50		 push	 eax
  001c2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c7	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv158[ebp], 0
$LN23@get_local_:
  001d1	8b 4d fc	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  001d4	83 c1 14	 add	 ecx, 20			; 00000014H
  001d7	51		 push	 ecx
  001d8	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  001db	52		 push	 edx
  001dc	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR tv158[ebp]
  001e2	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  001e9	ff d1		 call	 ecx

; 204  : 
; 205  : 			get_3d_sub_object_world_viewpoint (search.result_sub_object, &vp);

  001eb	8d 45 94	 lea	 eax, DWORD PTR _vp$[ebp]
  001ee	50		 push	 eax
  001ef	8b 4d c8	 mov	 ecx, DWORD PTR _search$[ebp+4]
  001f2	51		 push	 ecx
  001f3	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 206  : 
; 207  : 			*target_point = vp.position;

  001f8	8b 45 0c	 mov	 eax, DWORD PTR _target_point$[ebp]
  001fb	8b 4d 94	 mov	 ecx, DWORD PTR _vp$[ebp]
  001fe	89 08		 mov	 DWORD PTR [eax], ecx
  00200	8b 55 98	 mov	 edx, DWORD PTR _vp$[ebp+4]
  00203	89 50 04	 mov	 DWORD PTR [eax+4], edx
  00206	8b 4d 9c	 mov	 ecx, DWORD PTR _vp$[ebp+8]
  00209	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 208  : 		}
; 209  : 		else

  0020c	e9 90 00 00 00	 jmp	 $LN7@get_local_
$LN6@get_local_:

; 210  : 		{
; 211  : 			get_local_entity_vec3d (en, VEC3D_TYPE_POSITION, target_point);

  00211	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00215	74 0d		 je	 SHORT $LN24@get_local_
  00217	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0021a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0021c	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv173[ebp], ecx
  00222	eb 24		 jmp	 SHORT $LN25@get_local_
$LN24@get_local_:
  00224	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0022a	83 c2 2c	 add	 edx, 44			; 0000002cH
  0022d	52		 push	 edx
  0022e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00233	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00238	50		 push	 eax
  00239	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0023e	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv173[ebp], 0
$LN25@get_local_:
  00248	b9 01 00 00 00	 mov	 ecx, 1
  0024d	85 c9		 test	 ecx, ecx
  0024f	74 0c		 je	 SHORT $LN26@get_local_
  00251	c7 85 34 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv181[ebp], 8
  0025b	eb 24		 jmp	 SHORT $LN27@get_local_
$LN26@get_local_:
  0025d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00263	83 c2 2c	 add	 edx, 44			; 0000002cH
  00266	52		 push	 edx
  00267	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00271	50		 push	 eax
  00272	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00277	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv181[ebp], 0
$LN27@get_local_:
  00281	8b 4d 0c	 mov	 ecx, DWORD PTR _target_point$[ebp]
  00284	51		 push	 ecx
  00285	6a 08		 push	 8
  00287	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0028a	52		 push	 edx
  0028b	6b 85 38 ff ff
	ff 60		 imul	 eax, DWORD PTR tv173[ebp], 96
  00292	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR tv181[ebp]
  00298	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0029f	ff d2		 call	 edx
$LN7@get_local_:

; 212  : 		}
; 213  : 	}
; 214  : 	else

  002a1	e9 65 03 00 00	 jmp	 $LN9@get_local_
$LN4@get_local_:

; 215  : 	{
; 216  : 		get_local_entity_vec3d (en, VEC3D_TYPE_POSITION, target_point);

  002a6	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  002aa	74 0d		 je	 SHORT $LN28@get_local_
  002ac	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002af	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b1	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv193[ebp], ecx
  002b7	eb 24		 jmp	 SHORT $LN29@get_local_
$LN28@get_local_:
  002b9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  002bf	83 c2 31	 add	 edx, 49			; 00000031H
  002c2	52		 push	 edx
  002c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002cd	50		 push	 eax
  002ce	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d3	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv193[ebp], 0
$LN29@get_local_:
  002dd	b9 01 00 00 00	 mov	 ecx, 1
  002e2	85 c9		 test	 ecx, ecx
  002e4	74 0c		 je	 SHORT $LN30@get_local_
  002e6	c7 85 34 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv201[ebp], 8
  002f0	eb 24		 jmp	 SHORT $LN31@get_local_
$LN30@get_local_:
  002f2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  002f8	83 c2 31	 add	 edx, 49			; 00000031H
  002fb	52		 push	 edx
  002fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00301	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00306	50		 push	 eax
  00307	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0030c	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv201[ebp], 0
$LN31@get_local_:
  00316	8b 4d 0c	 mov	 ecx, DWORD PTR _target_point$[ebp]
  00319	51		 push	 ecx
  0031a	6a 08		 push	 8
  0031c	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0031f	52		 push	 edx
  00320	6b 85 38 ff ff
	ff 60		 imul	 eax, DWORD PTR tv193[ebp], 96
  00327	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR tv201[ebp]
  0032d	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00334	ff d2		 call	 edx

; 217  : 
; 218  : 		//
; 219  : 		// if this is a fixed object then add the target point offset rotated by heading (assume flat ground)
; 220  : 		//
; 221  : 
; 222  : 		if (get_local_entity_int_value (en, INT_TYPE_IDENTIFY_FIXED))

  00336	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0033a	74 0d		 je	 SHORT $LN32@get_local_
  0033c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0033f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00341	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv212[ebp], ecx
  00347	eb 20		 jmp	 SHORT $LN33@get_local_
$LN32@get_local_:
  00349	68 de 00 00 00	 push	 222			; 000000deH
  0034e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00353	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00359	52		 push	 edx
  0035a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0035f	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv212[ebp], 0
$LN33@get_local_:
  00369	b8 01 00 00 00	 mov	 eax, 1
  0036e	85 c0		 test	 eax, eax
  00370	74 0c		 je	 SHORT $LN34@get_local_
  00372	c7 85 34 ff ff
	ff 5a 00 00 00	 mov	 DWORD PTR tv219[ebp], 90 ; 0000005aH
  0037c	eb 20		 jmp	 SHORT $LN35@get_local_
$LN34@get_local_:
  0037e	68 de 00 00 00	 push	 222			; 000000deH
  00383	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00388	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0038e	51		 push	 ecx
  0038f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00394	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv219[ebp], 0
$LN35@get_local_:
  0039e	6a 5a		 push	 90			; 0000005aH
  003a0	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  003a3	52		 push	 edx
  003a4	69 85 38 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv212[ebp], 1116
  003ae	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR tv219[ebp]
  003b4	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  003bb	ff d2		 call	 edx
  003bd	85 c0		 test	 eax, eax
  003bf	0f 84 46 02 00
	00		 je	 $LN9@get_local_

; 223  : 		{
; 224  : 			index = get_local_entity_int_value (en, INT_TYPE_OBJECT_3D_SHAPE);

  003c5	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  003c9	74 0d		 je	 SHORT $LN36@get_local_
  003cb	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  003ce	8b 08		 mov	 ecx, DWORD PTR [eax]
  003d0	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv232[ebp], ecx
  003d6	eb 24		 jmp	 SHORT $LN37@get_local_
$LN36@get_local_:
  003d8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  003de	83 c2 39	 add	 edx, 57			; 00000039H
  003e1	52		 push	 edx
  003e2	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  003e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003ec	50		 push	 eax
  003ed	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003f2	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv232[ebp], 0
$LN37@get_local_:
  003fc	b9 01 00 00 00	 mov	 ecx, 1
  00401	85 c9		 test	 ecx, ecx
  00403	74 0c		 je	 SHORT $LN38@get_local_
  00405	c7 85 34 ff ff
	ff 92 00 00 00	 mov	 DWORD PTR tv240[ebp], 146 ; 00000092H
  0040f	eb 24		 jmp	 SHORT $LN39@get_local_
$LN38@get_local_:
  00411	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00417	83 c2 39	 add	 edx, 57			; 00000039H
  0041a	52		 push	 edx
  0041b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00420	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00425	50		 push	 eax
  00426	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0042b	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv240[ebp], 0
$LN39@get_local_:
  00435	68 92 00 00 00	 push	 146			; 00000092H
  0043a	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0043d	51		 push	 ecx
  0043e	69 95 38 ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv232[ebp], 1116
  00448	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv240[ebp]
  0044e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00455	ff d1		 call	 ecx
  00457	89 45 90	 mov	 DWORD PTR _index$[ebp], eax

; 225  : 
; 226  : 			if (index != OBJECT_3D_INVALID_OBJECT_INDEX)

  0045a	83 7d 90 00	 cmp	 DWORD PTR _index$[ebp], 0
  0045e	0f 84 a7 01 00
	00		 je	 $LN9@get_local_

; 227  : 			{
; 228  : 				if ((target_point_offsets[index].x != 0.0) || (target_point_offsets[index].z != 0.0))

  00464	6b 45 90 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  00468	f3 0f 5a 80 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?target_point_offsets@@3PAUVEC3D@@A[eax]
  00470	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  00478	9f		 lahf
  00479	f6 c4 44	 test	 ah, 68			; 00000044H
  0047c	7a 1e		 jp	 SHORT $LN11@get_local_
  0047e	6b 45 90 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  00482	f3 0f 5a 80 08
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?target_point_offsets@@3PAUVEC3D@@A[eax+8]
  0048a	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  00492	9f		 lahf
  00493	f6 c4 44	 test	 ah, 68			; 00000044H
  00496	0f 8b 53 01 00
	00		 jnp	 $LN12@get_local_
$LN11@get_local_:

; 229  : 				{
; 230  : 					heading = get_local_entity_float_value (en, FLOAT_TYPE_HEADING);

  0049c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  004a0	74 0d		 je	 SHORT $LN40@get_local_
  004a2	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  004a5	8b 08		 mov	 ecx, DWORD PTR [eax]
  004a7	89 8d 38 ff ff
	ff		 mov	 DWORD PTR tv263[ebp], ecx
  004ad	eb 24		 jmp	 SHORT $LN41@get_local_
$LN40@get_local_:
  004af	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  004b5	83 c2 3f	 add	 edx, 63			; 0000003fH
  004b8	52		 push	 edx
  004b9	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  004be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004c3	50		 push	 eax
  004c4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004c9	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv263[ebp], 0
$LN41@get_local_:
  004d3	b9 01 00 00 00	 mov	 ecx, 1
  004d8	85 c9		 test	 ecx, ecx
  004da	74 0c		 je	 SHORT $LN42@get_local_
  004dc	c7 85 34 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv271[ebp], 52 ; 00000034H
  004e6	eb 24		 jmp	 SHORT $LN43@get_local_
$LN42@get_local_:
  004e8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  004ee	83 c2 3f	 add	 edx, 63			; 0000003fH
  004f1	52		 push	 edx
  004f2	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  004f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  004fc	50		 push	 eax
  004fd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00502	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv271[ebp], 0
$LN43@get_local_:
  0050c	6a 34		 push	 52			; 00000034H
  0050e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00511	51		 push	 ecx
  00512	69 95 38 ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv263[ebp], 700
  0051c	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv271[ebp]
  00522	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00529	ff d1		 call	 ecx
  0052b	d9 5d 8c	 fstp	 DWORD PTR _heading$[ebp]

; 231  : 
; 232  : 					if (heading != 0.0)

  0052e	f3 0f 5a 45 8c	 cvtss2sd xmm0, DWORD PTR _heading$[ebp]
  00533	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  0053b	9f		 lahf
  0053c	f6 c4 44	 test	 ah, 68			; 00000044H
  0053f	0f 8b aa 00 00
	00		 jnp	 $LN12@get_local_

; 233  : 					{
; 234  : 						sin_heading = sin (heading);

  00545	51		 push	 ecx
  00546	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _heading$[ebp]
  0054b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00550	e8 00 00 00 00	 call	 ?sin@@YGMM@Z		; sin
  00555	d9 5d 88	 fstp	 DWORD PTR _sin_heading$[ebp]

; 235  : 						cos_heading = cos (heading);

  00558	51		 push	 ecx
  00559	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _heading$[ebp]
  0055e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00563	e8 00 00 00 00	 call	 ?cos@@YGMM@Z		; cos
  00568	d9 5d 84	 fstp	 DWORD PTR _cos_heading$[ebp]

; 236  : 
; 237  : 						rotated_x_offset = (cos_heading * target_point_offsets[index].x) + (sin_heading * target_point_offsets[index].z);

  0056b	6b 45 90 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  0056f	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _cos_heading$[ebp]
  00574	f3 0f 59 80 00
	00 00 00	 mulss	 xmm0, DWORD PTR ?target_point_offsets@@3PAUVEC3D@@A[eax]
  0057c	6b 4d 90 0c	 imul	 ecx, DWORD PTR _index$[ebp], 12
  00580	f3 0f 10 4d 88	 movss	 xmm1, DWORD PTR _sin_heading$[ebp]
  00585	f3 0f 59 89 08
	00 00 00	 mulss	 xmm1, DWORD PTR ?target_point_offsets@@3PAUVEC3D@@A[ecx+8]
  0058d	f3 0f 58 c1	 addss	 xmm0, xmm1
  00591	f3 0f 11 45 80	 movss	 DWORD PTR _rotated_x_offset$[ebp], xmm0

; 238  : 						rotated_z_offset = (cos_heading * target_point_offsets[index].z) - (sin_heading * target_point_offsets[index].x);

  00596	6b 45 90 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  0059a	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _cos_heading$[ebp]
  0059f	f3 0f 59 80 08
	00 00 00	 mulss	 xmm0, DWORD PTR ?target_point_offsets@@3PAUVEC3D@@A[eax+8]
  005a7	6b 4d 90 0c	 imul	 ecx, DWORD PTR _index$[ebp], 12
  005ab	f3 0f 10 4d 88	 movss	 xmm1, DWORD PTR _sin_heading$[ebp]
  005b0	f3 0f 59 89 00
	00 00 00	 mulss	 xmm1, DWORD PTR ?target_point_offsets@@3PAUVEC3D@@A[ecx]
  005b8	f3 0f 5c c1	 subss	 xmm0, xmm1
  005bc	f3 0f 11 85 7c
	ff ff ff	 movss	 DWORD PTR _rotated_z_offset$[ebp], xmm0

; 239  : 
; 240  : 						target_point->x += rotated_x_offset;

  005c4	8b 45 0c	 mov	 eax, DWORD PTR _target_point$[ebp]
  005c7	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  005cb	f3 0f 58 45 80	 addss	 xmm0, DWORD PTR _rotated_x_offset$[ebp]
  005d0	8b 4d 0c	 mov	 ecx, DWORD PTR _target_point$[ebp]
  005d3	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 241  : 						target_point->z += rotated_z_offset;

  005d7	8b 45 0c	 mov	 eax, DWORD PTR _target_point$[ebp]
  005da	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  005df	f3 0f 58 85 7c
	ff ff ff	 addss	 xmm0, DWORD PTR _rotated_z_offset$[ebp]
  005e7	8b 4d 0c	 mov	 ecx, DWORD PTR _target_point$[ebp]
  005ea	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0
$LN12@get_local_:

; 242  : 					}
; 243  : 				}
; 244  : 
; 245  : 				target_point->y += target_point_offsets[index].y;

  005ef	6b 45 90 0c	 imul	 eax, DWORD PTR _index$[ebp], 12
  005f3	8b 4d 0c	 mov	 ecx, DWORD PTR _target_point$[ebp]
  005f6	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  005fb	f3 0f 58 80 04
	00 00 00	 addss	 xmm0, DWORD PTR ?target_point_offsets@@3PAUVEC3D@@A[eax+4]
  00603	8b 55 0c	 mov	 edx, DWORD PTR _target_point$[ebp]
  00606	f3 0f 11 42 04	 movss	 DWORD PTR [edx+4], xmm0
$LN9@get_local_:

; 246  : 			}
; 247  : 		}
; 248  : 	}
; 249  : }

  0060b	5f		 pop	 edi
  0060c	5e		 pop	 esi
  0060d	5b		 pop	 ebx
  0060e	8b e5		 mov	 esp, ebp
  00610	5d		 pop	 ebp
  00611	c2 08 00	 ret	 8
?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z ENDP ; get_local_entity_target_point
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_maths\en_maths.c
;	COMDAT ?get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z
_TEXT	SEGMENT
tv169 = -100						; size = 4
tv140 = -100						; size = 4
tv88 = -100						; size = 4
tv161 = -96						; size = 4
tv132 = -96						; size = 4
tv80 = -96						; size = 4
_relative_bearing$ = -28				; size = 4
_heading$ = -24						; size = 4
_bearing$ = -20						; size = 4
_dz$ = -16						; size = 4
_dx$ = -12						; size = 4
_target_pos$ = -8					; size = 4
_source_pos$ = -4					; size = 4
_source$ = 8						; size = 4
_target$ = 12						; size = 4
?get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z PROC ; get_local_entity_target_relative_bearing, COMDAT

; 121  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 64	 sub	 esp, 100		; 00000064H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 122  : 	vec3d
; 123  : 		*source_pos,
; 124  : 		*target_pos;
; 125  : 
; 126  : 	float
; 127  : 		dx,
; 128  : 		dz,
; 129  : 		bearing,
; 130  : 		heading,
; 131  : 		relative_bearing;
; 132  : 
; 133  : 	ASSERT (source);

  00009	83 7d 08 00	 cmp	 DWORD PTR _source$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  00014	83 c0 0c	 add	 eax, 12			; 0000000cH
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_06OEKOLKIL@source@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 134  : 
; 135  : 	ASSERT (target);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  0002b	75 18		 jne	 SHORT $LN3@get_local_
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  00032	83 c0 0e	 add	 eax, 14			; 0000000eH
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_06JJLAMBGK@target@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_local_:

; 136  : 
; 137  : 	source_pos = get_local_entity_vec3d_ptr (source, VEC3D_TYPE_POSITION);

  00045	83 7d 08 00	 cmp	 DWORD PTR _source$[ebp], 0
  00049	74 0a		 je	 SHORT $LN8@get_local_
  0004b	8b 45 08	 mov	 eax, DWORD PTR _source$[ebp]
  0004e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00050	89 4d a0	 mov	 DWORD PTR tv80[ebp], ecx
  00053	eb 21		 jmp	 SHORT $LN9@get_local_
$LN8@get_local_:
  00055	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  0005b	83 c2 10	 add	 edx, 16			; 00000010H
  0005e	52		 push	 edx
  0005f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00064	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN9@get_local_:
  00076	b9 01 00 00 00	 mov	 ecx, 1
  0007b	85 c9		 test	 ecx, ecx
  0007d	74 09		 je	 SHORT $LN10@get_local_
  0007f	c7 45 9c 08 00
	00 00		 mov	 DWORD PTR tv88[ebp], 8
  00086	eb 21		 jmp	 SHORT $LN11@get_local_
$LN10@get_local_:
  00088	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  0008e	83 c2 10	 add	 edx, 16			; 00000010H
  00091	52		 push	 edx
  00092	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00097	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0009c	50		 push	 eax
  0009d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000a2	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv88[ebp], 0
$LN11@get_local_:
  000a9	6a 08		 push	 8
  000ab	8b 4d 08	 mov	 ecx, DWORD PTR _source$[ebp]
  000ae	51		 push	 ecx
  000af	6b 55 a0 60	 imul	 edx, DWORD PTR tv80[ebp], 96
  000b3	8b 45 9c	 mov	 eax, DWORD PTR tv88[ebp]
  000b6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000bd	ff d1		 call	 ecx
  000bf	89 45 fc	 mov	 DWORD PTR _source_pos$[ebp], eax

; 138  : 
; 139  : 	target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  000c2	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  000c6	74 0a		 je	 SHORT $LN12@get_local_
  000c8	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  000cb	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cd	89 4d a0	 mov	 DWORD PTR tv132[ebp], ecx
  000d0	eb 21		 jmp	 SHORT $LN13@get_local_
$LN12@get_local_:
  000d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  000d8	83 c2 12	 add	 edx, 18			; 00000012H
  000db	52		 push	 edx
  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv132[ebp], 0
$LN13@get_local_:
  000f3	b9 01 00 00 00	 mov	 ecx, 1
  000f8	85 c9		 test	 ecx, ecx
  000fa	74 09		 je	 SHORT $LN14@get_local_
  000fc	c7 45 9c 08 00
	00 00		 mov	 DWORD PTR tv140[ebp], 8
  00103	eb 21		 jmp	 SHORT $LN15@get_local_
$LN14@get_local_:
  00105	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  0010b	83 c2 12	 add	 edx, 18			; 00000012H
  0010e	52		 push	 edx
  0010f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00114	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00119	50		 push	 eax
  0011a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011f	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv140[ebp], 0
$LN15@get_local_:
  00126	6a 08		 push	 8
  00128	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  0012b	51		 push	 ecx
  0012c	6b 55 a0 60	 imul	 edx, DWORD PTR tv132[ebp], 96
  00130	8b 45 9c	 mov	 eax, DWORD PTR tv140[ebp]
  00133	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0013a	ff d1		 call	 ecx
  0013c	89 45 f8	 mov	 DWORD PTR _target_pos$[ebp], eax

; 140  : 
; 141  : 	dx = target_pos->x - source_pos->x;

  0013f	8b 45 f8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00142	8b 4d fc	 mov	 ecx, DWORD PTR _source_pos$[ebp]
  00145	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00149	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  0014d	f3 0f 11 45 f4	 movss	 DWORD PTR _dx$[ebp], xmm0

; 142  : 	dz = target_pos->z - source_pos->z;

  00152	8b 45 f8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00155	8b 4d fc	 mov	 ecx, DWORD PTR _source_pos$[ebp]
  00158	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  0015d	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  00162	f3 0f 11 45 f0	 movss	 DWORD PTR _dz$[ebp], xmm0

; 143  : 
; 144  : 	bearing = atan2 (dx, dz);

  00167	51		 push	 ecx
  00168	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _dz$[ebp]
  0016d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00172	51		 push	 ecx
  00173	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00178	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0017d	e8 00 00 00 00	 call	 ?atan2@@YGMMM@Z		; atan2
  00182	d9 5d ec	 fstp	 DWORD PTR _bearing$[ebp]

; 145  : 
; 146  : 	heading = get_local_entity_float_value (source, FLOAT_TYPE_HEADING);

  00185	83 7d 08 00	 cmp	 DWORD PTR _source$[ebp], 0
  00189	74 0a		 je	 SHORT $LN16@get_local_
  0018b	8b 45 08	 mov	 eax, DWORD PTR _source$[ebp]
  0018e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00190	89 4d a0	 mov	 DWORD PTR tv161[ebp], ecx
  00193	eb 21		 jmp	 SHORT $LN17@get_local_
$LN16@get_local_:
  00195	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  0019b	83 c2 19	 add	 edx, 25			; 00000019H
  0019e	52		 push	 edx
  0019f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001a9	50		 push	 eax
  001aa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001af	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv161[ebp], 0
$LN17@get_local_:
  001b6	b9 01 00 00 00	 mov	 ecx, 1
  001bb	85 c9		 test	 ecx, ecx
  001bd	74 09		 je	 SHORT $LN18@get_local_
  001bf	c7 45 9c 34 00
	00 00		 mov	 DWORD PTR tv169[ebp], 52 ; 00000034H
  001c6	eb 21		 jmp	 SHORT $LN19@get_local_
$LN18@get_local_:
  001c8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z@4JA
  001ce	83 c2 19	 add	 edx, 25			; 00000019H
  001d1	52		 push	 edx
  001d2	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  001d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  001dc	50		 push	 eax
  001dd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e2	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv169[ebp], 0
$LN19@get_local_:
  001e9	6a 34		 push	 52			; 00000034H
  001eb	8b 4d 08	 mov	 ecx, DWORD PTR _source$[ebp]
  001ee	51		 push	 ecx
  001ef	69 55 a0 bc 02
	00 00		 imul	 edx, DWORD PTR tv161[ebp], 700
  001f6	8b 45 9c	 mov	 eax, DWORD PTR tv169[ebp]
  001f9	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00200	ff d1		 call	 ecx
  00202	d9 5d e8	 fstp	 DWORD PTR _heading$[ebp]

; 147  : 
; 148  : 	relative_bearing = bearing - heading;

  00205	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _bearing$[ebp]
  0020a	f3 0f 5c 45 e8	 subss	 xmm0, DWORD PTR _heading$[ebp]
  0020f	f3 0f 11 45 e4	 movss	 DWORD PTR _relative_bearing$[ebp], xmm0

; 149  : 
; 150  : 	if (relative_bearing > rad (180.0))

  00214	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _relative_bearing$[ebp]
  00219	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@400921fb51000000
  00221	76 18		 jbe	 SHORT $LN4@get_local_

; 151  : 	{
; 152  : 		relative_bearing -= rad (360.0);

  00223	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _relative_bearing$[ebp]
  00228	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@401921fb51000000
  00230	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00234	f3 0f 11 45 e4	 movss	 DWORD PTR _relative_bearing$[ebp], xmm0
  00239	eb 29		 jmp	 SHORT $LN6@get_local_
$LN4@get_local_:

; 153  : 	}
; 154  : 	else if (relative_bearing < rad (-180.0))

  0023b	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _relative_bearing$[ebp]
  00240	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@c00921fb51000000
  00248	66 0f 2f c8	 comisd	 xmm1, xmm0
  0024c	76 16		 jbe	 SHORT $LN6@get_local_

; 155  : 	{
; 156  : 		relative_bearing += rad (360.0);

  0024e	f3 0f 5a 45 e4	 cvtss2sd xmm0, DWORD PTR _relative_bearing$[ebp]
  00253	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@401921fb51000000
  0025b	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0025f	f3 0f 11 45 e4	 movss	 DWORD PTR _relative_bearing$[ebp], xmm0
$LN6@get_local_:

; 157  : 	}
; 158  : 
; 159  : 	return (relative_bearing);

  00264	d9 45 e4	 fld	 DWORD PTR _relative_bearing$[ebp]

; 160  : }

  00267	5f		 pop	 edi
  00268	5e		 pop	 esi
  00269	5b		 pop	 ebx
  0026a	8b e5		 mov	 esp, ebp
  0026c	5d		 pop	 ebp
  0026d	c2 08 00	 ret	 8
?get_local_entity_target_relative_bearing@@YGMPAUENTITY@@0@Z ENDP ; get_local_entity_target_relative_bearing
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_maths\en_maths.c
;	COMDAT ?get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z
_TEXT	SEGMENT
tv140 = -92						; size = 4
tv88 = -92						; size = 4
tv132 = -88						; size = 4
tv80 = -88						; size = 4
_bearing$ = -20						; size = 4
_dz$ = -16						; size = 4
_dx$ = -12						; size = 4
_target_pos$ = -8					; size = 4
_source_pos$ = -4					; size = 4
_source$ = 8						; size = 4
_target$ = 12						; size = 4
_range$ = 16						; size = 4
?get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z PROC ; get_local_entity_target_bearing, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	vec3d
; 82   : 		*source_pos,
; 83   : 		*target_pos;
; 84   : 
; 85   : 	float
; 86   : 		dx,
; 87   : 		dz,
; 88   : 		bearing;
; 89   : 
; 90   : 	ASSERT (source);

  00009	83 7d 08 00	 cmp	 DWORD PTR _source$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA
  00014	83 c0 0a	 add	 eax, 10			; 0000000aH
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_06OEKOLKIL@source@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_local_:

; 91   : 
; 92   : 	ASSERT (target);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  0002b	75 18		 jne	 SHORT $LN3@get_local_
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA
  00032	83 c0 0c	 add	 eax, 12			; 0000000cH
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_06JJLAMBGK@target@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_local_:

; 93   : 
; 94   : 	source_pos = get_local_entity_vec3d_ptr (source, VEC3D_TYPE_POSITION);

  00045	83 7d 08 00	 cmp	 DWORD PTR _source$[ebp], 0
  00049	74 0a		 je	 SHORT $LN7@get_local_
  0004b	8b 45 08	 mov	 eax, DWORD PTR _source$[ebp]
  0004e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00050	89 4d a8	 mov	 DWORD PTR tv80[ebp], ecx
  00053	eb 21		 jmp	 SHORT $LN8@get_local_
$LN7@get_local_:
  00055	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA
  0005b	83 c2 0e	 add	 edx, 14			; 0000000eH
  0005e	52		 push	 edx
  0005f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00064	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN8@get_local_:
  00076	b9 01 00 00 00	 mov	 ecx, 1
  0007b	85 c9		 test	 ecx, ecx
  0007d	74 09		 je	 SHORT $LN9@get_local_
  0007f	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv88[ebp], 8
  00086	eb 21		 jmp	 SHORT $LN10@get_local_
$LN9@get_local_:
  00088	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA
  0008e	83 c2 0e	 add	 edx, 14			; 0000000eH
  00091	52		 push	 edx
  00092	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00097	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0009c	50		 push	 eax
  0009d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000a2	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv88[ebp], 0
$LN10@get_local_:
  000a9	6a 08		 push	 8
  000ab	8b 4d 08	 mov	 ecx, DWORD PTR _source$[ebp]
  000ae	51		 push	 ecx
  000af	6b 55 a8 60	 imul	 edx, DWORD PTR tv80[ebp], 96
  000b3	8b 45 a4	 mov	 eax, DWORD PTR tv88[ebp]
  000b6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  000bd	ff d1		 call	 ecx
  000bf	89 45 fc	 mov	 DWORD PTR _source_pos$[ebp], eax

; 95   : 
; 96   : 	target_pos = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  000c2	83 7d 0c 00	 cmp	 DWORD PTR _target$[ebp], 0
  000c6	74 0a		 je	 SHORT $LN11@get_local_
  000c8	8b 45 0c	 mov	 eax, DWORD PTR _target$[ebp]
  000cb	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cd	89 4d a8	 mov	 DWORD PTR tv132[ebp], ecx
  000d0	eb 21		 jmp	 SHORT $LN12@get_local_
$LN11@get_local_:
  000d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA
  000d8	83 c2 10	 add	 edx, 16			; 00000010H
  000db	52		 push	 edx
  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv132[ebp], 0
$LN12@get_local_:
  000f3	b9 01 00 00 00	 mov	 ecx, 1
  000f8	85 c9		 test	 ecx, ecx
  000fa	74 09		 je	 SHORT $LN13@get_local_
  000fc	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv140[ebp], 8
  00103	eb 21		 jmp	 SHORT $LN14@get_local_
$LN13@get_local_:
  00105	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z@4JA
  0010b	83 c2 10	 add	 edx, 16			; 00000010H
  0010e	52		 push	 edx
  0010f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@HDADIEHH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00114	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00119	50		 push	 eax
  0011a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011f	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv140[ebp], 0
$LN14@get_local_:
  00126	6a 08		 push	 8
  00128	8b 4d 0c	 mov	 ecx, DWORD PTR _target$[ebp]
  0012b	51		 push	 ecx
  0012c	6b 55 a8 60	 imul	 edx, DWORD PTR tv132[ebp], 96
  00130	8b 45 a4	 mov	 eax, DWORD PTR tv140[ebp]
  00133	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0013a	ff d1		 call	 ecx
  0013c	89 45 f8	 mov	 DWORD PTR _target_pos$[ebp], eax

; 97   : 
; 98   : 	dx = target_pos->x - source_pos->x;

  0013f	8b 45 f8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00142	8b 4d fc	 mov	 ecx, DWORD PTR _source_pos$[ebp]
  00145	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00149	f3 0f 5c 01	 subss	 xmm0, DWORD PTR [ecx]
  0014d	f3 0f 11 45 f4	 movss	 DWORD PTR _dx$[ebp], xmm0

; 99   : 	dz = target_pos->z - source_pos->z;

  00152	8b 45 f8	 mov	 eax, DWORD PTR _target_pos$[ebp]
  00155	8b 4d fc	 mov	 ecx, DWORD PTR _source_pos$[ebp]
  00158	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  0015d	f3 0f 5c 41 08	 subss	 xmm0, DWORD PTR [ecx+8]
  00162	f3 0f 11 45 f0	 movss	 DWORD PTR _dz$[ebp], xmm0

; 100  : 
; 101  : 	if (range)

  00167	83 7d 10 00	 cmp	 DWORD PTR _range$[ebp], 0
  0016b	74 28		 je	 SHORT $LN4@get_local_

; 102  : 	{
; 103  : 		*range = sqrt ((dx * dx) + (dz * dz));

  0016d	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00172	f3 0f 59 45 f4	 mulss	 xmm0, DWORD PTR _dx$[ebp]
  00177	f3 0f 10 4d f0	 movss	 xmm1, DWORD PTR _dz$[ebp]
  0017c	f3 0f 59 4d f0	 mulss	 xmm1, DWORD PTR _dz$[ebp]
  00181	f3 0f 58 c1	 addss	 xmm0, xmm1
  00185	51		 push	 ecx
  00186	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0018b	e8 00 00 00 00	 call	 ?sqrt@@YGMM@Z		; sqrt
  00190	8b 45 10	 mov	 eax, DWORD PTR _range$[ebp]
  00193	d9 18		 fstp	 DWORD PTR [eax]
$LN4@get_local_:

; 104  : 	}
; 105  : 
; 106  : 	bearing = atan2 (dx, dz);

  00195	51		 push	 ecx
  00196	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _dz$[ebp]
  0019b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a0	51		 push	 ecx
  001a1	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _dx$[ebp]
  001a6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001ab	e8 00 00 00 00	 call	 ?atan2@@YGMMM@Z		; atan2
  001b0	d9 5d ec	 fstp	 DWORD PTR _bearing$[ebp]

; 107  : 
; 108  : 	if (bearing < 0.0)

  001b3	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _bearing$[ebp]
  001b8	0f 57 c9	 xorps	 xmm1, xmm1
  001bb	66 0f 2f c8	 comisd	 xmm1, xmm0
  001bf	76 16		 jbe	 SHORT $LN5@get_local_

; 109  : 	{
; 110  : 		bearing += rad (360.0);

  001c1	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _bearing$[ebp]
  001c6	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@401921fb51000000
  001ce	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001d2	f3 0f 11 45 ec	 movss	 DWORD PTR _bearing$[ebp], xmm0
$LN5@get_local_:

; 111  : 	}
; 112  : 
; 113  : 	return (bearing);

  001d7	d9 45 ec	 fld	 DWORD PTR _bearing$[ebp]

; 114  : }

  001da	5f		 pop	 edi
  001db	5e		 pop	 esi
  001dc	5b		 pop	 ebx
  001dd	8b e5		 mov	 esp, ebp
  001df	5d		 pop	 ebp
  001e0	c2 0c 00	 ret	 12			; 0000000cH
?get_local_entity_target_bearing@@YGMPAUENTITY@@0PAM@Z ENDP ; get_local_entity_target_bearing
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?sqrt@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?sqrt@@YGMM@Z PROC					; sqrt, COMDAT

; 294  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 295  : 	return (_CSTD sqrtf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _sqrtf
  00019	83 c4 04	 add	 esp, 4

; 296  : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?sqrt@@YGMM@Z ENDP					; sqrt
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?sin@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?sin@@YGMM@Z PROC					; sin, COMDAT

; 284  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 285  : 	return (_CSTD sinf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _sinf
  00019	83 c4 04	 add	 esp, 4

; 286  : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?sin@@YGMM@Z ENDP					; sin
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?cos@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?cos@@YGMM@Z PROC					; cos, COMDAT

; 77   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 78   : 	return (_CSTD cosf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _cosf
  00019	83 c4 04	 add	 esp, 4

; 79   : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?cos@@YGMM@Z ENDP					; cos
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?atan2@@YGMMM@Z
_TEXT	SEGMENT
__Yx$ = 8						; size = 4
__Xx$ = 12						; size = 4
?atan2@@YGMMM@Z PROC					; atan2, COMDAT

; 56   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 57   : 	return (_CSTD atan2f(_Yx, _Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	51		 push	 ecx
  00015	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Yx$[ebp]
  0001a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0001f	e8 00 00 00 00	 call	 _atan2f
  00024	83 c4 08	 add	 esp, 8

; 58   : 	}

  00027	5f		 pop	 edi
  00028	5e		 pop	 esi
  00029	5b		 pop	 ebx
  0002a	8b e5		 mov	 esp, ebp
  0002c	5d		 pop	 ebp
  0002d	c2 08 00	 ret	 8
?atan2@@YGMMM@Z ENDP					; atan2
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _sqrtf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_sqrtf	PROC						; COMDAT

; 759  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 760  :             return (float)sqrt(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _sqrt
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 761  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_sqrtf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _sinf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_sinf	PROC						; COMDAT

; 749  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 750  :             return (float)sin(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _sin
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 751  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_sinf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _cosf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_cosf	PROC						; COMDAT

; 648  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 649  :             return (float)cos(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _cos
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 650  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_cosf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _atan2f
_TEXT	SEGMENT
tv74 = -68						; size = 4
__Y$ = 8						; size = 4
__X$ = 12						; size = 4
_atan2f	PROC						; COMDAT

; 633  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 634  :             return (float)atan2(_Y, _X);

  00009	f3 0f 5a 45 0c	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __Y$[ebp]
  0001b	83 ec 08	 sub	 esp, 8
  0001e	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00023	e8 00 00 00 00	 call	 _atan2
  00028	83 c4 10	 add	 esp, 16			; 00000010H
  0002b	d9 5d bc	 fstp	 DWORD PTR tv74[ebp]
  0002e	d9 45 bc	 fld	 DWORD PTR tv74[ebp]

; 635  :         }

  00031	5f		 pop	 edi
  00032	5e		 pop	 esi
  00033	5b		 pop	 ebx
  00034	8b e5		 mov	 esp, ebp
  00036	5d		 pop	 ebp
  00037	c3		 ret	 0
_atan2f	ENDP
_TEXT	ENDS
END
