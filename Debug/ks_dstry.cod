; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_keysite_destroy_functions@@YGXXZ	; overload_keysite_destroy_functions
PUBLIC	?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA ; `destroy_local'::`1'::__LINE__Var
PUBLIC	??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CH@NEAPMNGP@?$CBraw?9?$DOunassigned_task_root?4firs@ ; `string'
PUBLIC	??_C@_0CF@DOFEMKPA@?$CBraw?9?$DOassigned_task_root?4first_@ ; `string'
PUBLIC	??_C@_0CG@FLOICIFB@?$CBraw?9?$DOcompleted_task_root?4first@ ; `string'
PUBLIC	??_C@_0CE@HNAJAEPC@?$CBraw?9?$DOlanding_site_root?4first_c@ ; `string'
PUBLIC	??_C@_0BN@LLHAOEBH@?$CBraw?9?$DOregen_root?4first_child@ ; `string'
PUBLIC	??_C@_0BN@KGDLHIJC@?$CBraw?9?$DOcargo_root?4first_child@ ; `string'
PUBLIC	?__LINE__Var@?0??destroy_server@@YGXPAUENTITY@@@Z@4JA ; `destroy_server'::`1'::__LINE__Var
PUBLIC	??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@ ; `string'
PUBLIC	??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@ ; `string'
PUBLIC	?__LINE__Var@?0??destroy_client@@YGXPAUENTITY@@@Z@4JA ; `destroy_client'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??destroy_server_family@@YGXPAUENTITY@@@Z@4JA ; `destroy_server_family'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA ; `kill_local'::`1'::__LINE__Var
PUBLIC	??_C@_0BH@MLJFJHFE@?$CIKEYSITE?$CJ?5?$CFs?5DESTROYED@ ; `string'
PUBLIC	?__LINE__Var@?0??kill_server@@YGXPAUENTITY@@@Z@4JA ; `kill_server'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??kill_client@@YGXPAUENTITY@@@Z@4JA ; `kill_client'::`1'::__LINE__Var
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?free_mem@@YGXPAX@Z:PROC			; free_mem
EXTRN	?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ:PROC ; notify_local_entity
EXTRN	?delete_local_entity_from_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@@Z:PROC ; delete_local_entity_from_parents_child_list
EXTRN	?unlink_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z:PROC ; unlink_local_entity_children
EXTRN	?destroy_local_entity@@YGXPAUENTITY@@@Z:PROC	; destroy_local_entity
EXTRN	?destroy_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z:PROC ; destroy_local_entity_children
EXTRN	?destroy_client_server_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z:PROC ; destroy_client_server_entity_children
EXTRN	?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ:PROC ; transmit_entity_comms_message
EXTRN	?assert_client_server_local_fn@@YGHXZ:PROC	; assert_client_server_local_fn
EXTRN	?assert_client_server_remote_fn@@YGHXZ:PROC	; assert_client_server_remote_fn
EXTRN	?set_free_entity@@YGXPAUENTITY@@@Z:PROC		; set_free_entity
EXTRN	?destroy_keysite@@YGXPAUENTITY@@W4ENTITY_SIDES@@@Z:PROC ; destroy_keysite
EXTRN	?send_text_message@@YGXPAUENTITY@@0W4MESSAGE_TEXT_TYPES@@PBD@Z:PROC ; send_text_message
EXTRN	?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z:PROC ; notify_campaign_screen
EXTRN	?ai_log@@YAXPBDZZ:PROC				; ai_log
EXTRN	?update_imap_sector_side@@YGXPAUENTITY@@H@Z:PROC ; update_imap_sector_side
EXTRN	?update_imap_importance_level@@YGXPAUENTITY@@H@Z:PROC ; update_imap_importance_level
EXTRN	?update_imap_distance_to_friendly_base@@YGXW4ENTITY_SIDES@@@Z:PROC ; update_imap_distance_to_friendly_base
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A:DWORD ; system_comms_data_flow
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?fn_destroy_local_entity@@3PAP6GXPAUENTITY@@@ZA:BYTE ; fn_destroy_local_entity
EXTRN	?fn_destroy_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_destroy_client_server_entity
EXTRN	?fn_destroy_local_entity_family@@3PAP6GXPAUENTITY@@@ZA:BYTE ; fn_destroy_local_entity_family
EXTRN	?fn_destroy_client_server_entity_family@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_destroy_client_server_entity_family
EXTRN	?fn_kill_local_entity@@3PAP6GXPAUENTITY@@@ZA:BYTE ; fn_kill_local_entity
EXTRN	?fn_kill_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_kill_client_server_entity
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_local_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_string_type_message@@3PBDB:DWORD ; overload_invalid_string_type_message
EXTRN	?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA:BYTE ; fn_get_local_entity_string
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
;	COMDAT ?__LINE__Var@?0??kill_client@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??kill_client@@YGXPAUENTITY@@@Z@4JA DD 01b3H ; `kill_client'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??kill_server@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??kill_server@@YGXPAUENTITY@@@Z@4JA DD 019cH ; `kill_server'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BH@MLJFJHFE@?$CIKEYSITE?$CJ?5?$CFs?5DESTROYED@
CONST	SEGMENT
??_C@_0BH@MLJFJHFE@?$CIKEYSITE?$CJ?5?$CFs?5DESTROYED@ DB '(KEYSITE) %s DE'
	DB	'STROYED', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA DD 011bH ; `kill_local'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??destroy_server_family@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??destroy_server_family@@YGXPAUENTITY@@@Z@4JA DD 0f6H ; `destroy_server_family'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??destroy_client@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??destroy_client@@YGXPAUENTITY@@@Z@4JA DD 0c8H ; `destroy_client'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
CONST	SEGMENT
??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@ DB 'assert_client'
	DB	'_server_local_fn ()', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
CONST	SEGMENT
??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@ DB 'assert_client_se'
	DB	'rver_remote_fn ()', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??destroy_server@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??destroy_server@@YGXPAUENTITY@@@Z@4JA DD 0b1H ; `destroy_server'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BN@KGDLHIJC@?$CBraw?9?$DOcargo_root?4first_child@
CONST	SEGMENT
??_C@_0BN@KGDLHIJC@?$CBraw?9?$DOcargo_root?4first_child@ DB '!raw->cargo_'
	DB	'root.first_child', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@LLHAOEBH@?$CBraw?9?$DOregen_root?4first_child@
CONST	SEGMENT
??_C@_0BN@LLHAOEBH@?$CBraw?9?$DOregen_root?4first_child@ DB '!raw->regen_'
	DB	'root.first_child', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@HNAJAEPC@?$CBraw?9?$DOlanding_site_root?4first_c@
CONST	SEGMENT
??_C@_0CE@HNAJAEPC@?$CBraw?9?$DOlanding_site_root?4first_c@ DB '!raw->lan'
	DB	'ding_site_root.first_child', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@FLOICIFB@?$CBraw?9?$DOcompleted_task_root?4first@
CONST	SEGMENT
??_C@_0CG@FLOICIFB@?$CBraw?9?$DOcompleted_task_root?4first@ DB '!raw->com'
	DB	'pleted_task_root.first_child', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@DOFEMKPA@?$CBraw?9?$DOassigned_task_root?4first_@
CONST	SEGMENT
??_C@_0CF@DOFEMKPA@?$CBraw?9?$DOassigned_task_root?4first_@ DB '!raw->ass'
	DB	'igned_task_root.first_child', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@NEAPMNGP@?$CBraw?9?$DOunassigned_task_root?4firs@
CONST	SEGMENT
??_C@_0CH@NEAPMNGP@?$CBraw?9?$DOunassigned_task_root?4firs@ DB '!raw->una'
	DB	'ssigned_task_root.first_child', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\keysite\ks_ds'
	DB	'try.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA DD 052H ; `destroy_local'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?kill_client@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv84 = -68						; size = 4
_en$ = 8						; size = 4
?kill_client@@YGXPAUENTITY@@@Z PROC			; kill_client, COMDAT

; 435  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 436  : 	if (get_comms_data_flow () == COMMS_DATA_FLOW_TX)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A, 0 ; system_comms_data_flow
  00010	75 2c		 jne	 SHORT $LN2@kill_clien

; 437  : 	{
; 438  : 		validate_client_server_remote_fn ();

  00012	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  00017	85 c0		 test	 eax, eax
  00019	75 18		 jne	 SHORT $LN4@kill_clien
  0001b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??kill_client@@YGXPAUENTITY@@@Z@4JA
  00020	83 c0 03	 add	 eax, 3
  00023	50		 push	 eax
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@kill_clien:

; 439  : 
; 440  : 		kill_remote (en);

  00033	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ?kill_remote@@YGXPAUENTITY@@@Z ; kill_remote

; 441  : 	}
; 442  : 	else

  0003c	eb 62		 jmp	 SHORT $LN1@kill_clien
$LN2@kill_clien:

; 443  : 	{
; 444  : 		validate_client_server_local_fn ();

  0003e	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  00043	85 c0		 test	 eax, eax
  00045	75 18		 jne	 SHORT $LN5@kill_clien
  00047	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??kill_client@@YGXPAUENTITY@@@Z@4JA
  0004c	83 c0 09	 add	 eax, 9
  0004f	50		 push	 eax
  00050	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00055	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  0005a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@kill_clien:

; 445  : 
; 446  : 		//
; 447  : 		// kill local using 'full' function
; 448  : 		//
; 449  : 
; 450  : 		kill_local_entity (en);

  0005f	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00063	74 0a		 je	 SHORT $LN7@kill_clien
  00065	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00068	8b 08		 mov	 ecx, DWORD PTR [eax]
  0006a	89 4d bc	 mov	 DWORD PTR tv84[ebp], ecx
  0006d	eb 21		 jmp	 SHORT $LN8@kill_clien
$LN7@kill_clien:
  0006f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_client@@YGXPAUENTITY@@@Z@4JA
  00075	83 c2 0f	 add	 edx, 15			; 0000000fH
  00078	52		 push	 edx
  00079	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0007e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00083	50		 push	 eax
  00084	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00089	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN8@kill_clien:
  00090	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00093	51		 push	 ecx
  00094	8b 55 bc	 mov	 edx, DWORD PTR tv84[ebp]
  00097	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_kill_local_entity@@3PAP6GXPAUENTITY@@@ZA[edx*4]
  0009e	ff d0		 call	 eax
$LN1@kill_clien:

; 451  : 	}
; 452  : }

  000a0	5f		 pop	 edi
  000a1	5e		 pop	 esi
  000a2	5b		 pop	 ebx
  000a3	8b e5		 mov	 esp, ebp
  000a5	5d		 pop	 ebp
  000a6	c2 04 00	 ret	 4
?kill_client@@YGXPAUENTITY@@@Z ENDP			; kill_client
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?kill_server@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv83 = -68						; size = 4
_en$ = 8						; size = 4
?kill_server@@YGXPAUENTITY@@@Z PROC			; kill_server, COMDAT

; 412  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 413  : 	//
; 414  : 	// kill remote entity first (keeping local entity valid)
; 415  : 	//
; 416  : 
; 417  : 	validate_client_server_remote_fn ();

  00009	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  0000e	85 c0		 test	 eax, eax
  00010	75 18		 jne	 SHORT $LN2@kill_serve
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??kill_server@@YGXPAUENTITY@@@Z@4JA
  00017	83 c0 05	 add	 eax, 5
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@kill_serve:

; 418  : 
; 419  : 	kill_remote (en);

  0002a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?kill_remote@@YGXPAUENTITY@@@Z ; kill_remote

; 420  : 
; 421  : 	validate_client_server_local_fn ();

  00033	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  00038	85 c0		 test	 eax, eax
  0003a	75 18		 jne	 SHORT $LN3@kill_serve
  0003c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??kill_server@@YGXPAUENTITY@@@Z@4JA
  00041	83 c0 09	 add	 eax, 9
  00044	50		 push	 eax
  00045	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004a	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  0004f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@kill_serve:

; 422  : 
; 423  : 	//
; 424  : 	// kill local using 'full' function
; 425  : 	//
; 426  : 
; 427  : 	kill_local_entity (en);

  00054	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00058	74 0a		 je	 SHORT $LN5@kill_serve
  0005a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0005d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005f	89 4d bc	 mov	 DWORD PTR tv83[ebp], ecx
  00062	eb 21		 jmp	 SHORT $LN6@kill_serve
$LN5@kill_serve:
  00064	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_server@@YGXPAUENTITY@@@Z@4JA
  0006a	83 c2 0f	 add	 edx, 15			; 0000000fH
  0006d	52		 push	 edx
  0006e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00073	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00078	50		 push	 eax
  00079	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007e	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN6@kill_serve:
  00085	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00088	51		 push	 ecx
  00089	8b 55 bc	 mov	 edx, DWORD PTR tv83[ebp]
  0008c	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_kill_local_entity@@3PAP6GXPAUENTITY@@@ZA[edx*4]
  00093	ff d0		 call	 eax

; 428  : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c2 04 00	 ret	 4
?kill_server@@YGXPAUENTITY@@@Z ENDP			; kill_server
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?kill_remote@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?kill_remote@@YGXPAUENTITY@@@Z PROC			; kill_remote, COMDAT

; 397  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 398  : 	#if DEBUG_MODULE >= 2
; 399  : 
; 400  : 	debug_log_entity_args (ENTITY_DEBUG_REMOTE, ENTITY_DEBUG_KILL, en);
; 401  : 
; 402  : 	#endif
; 403  : 
; 404  : 	transmit_entity_comms_message (ENTITY_COMMS_KILL, en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	6a 18		 push	 24			; 00000018H
  0000f	e8 00 00 00 00	 call	 ?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ ; transmit_entity_comms_message
  00014	83 c4 08	 add	 esp, 8

; 405  : }

  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c2 04 00	 ret	 4
?kill_remote@@YGXPAUENTITY@@@Z ENDP			; kill_remote
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?kill_local@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv306 = -76						; size = 4
tv285 = -76						; size = 4
tv261 = -76						; size = 4
tv238 = -76						; size = 4
tv216 = -76						; size = 4
tv195 = -76						; size = 4
tv170 = -76						; size = 4
tv149 = -76						; size = 4
tv131 = -76						; size = 4
tv76 = -76						; size = 4
tv298 = -72						; size = 4
tv277 = -72						; size = 4
tv253 = -72						; size = 4
tv230 = -72						; size = 4
tv208 = -72						; size = 4
tv187 = -72						; size = 4
tv162 = -72						; size = 4
tv142 = -72						; size = 4
tv91 = -72						; size = 4
tv69 = -72						; size = 4
_force$1 = -4						; size = 4
_en$ = 8						; size = 4
?kill_local@@YGXPAUENTITY@@@Z PROC			; kill_local, COMDAT

; 283  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 284  : 	////////////////////////////////////////
; 285  : 	//
; 286  : 	// PRE-AMBLE
; 287  : 	//
; 288  : 	////////////////////////////////////////
; 289  : 
; 290  : 	#if DEBUG_MODULE >= 2
; 291  : 
; 292  : 	debug_log_entity_args (ENTITY_DEBUG_LOCAL, ENTITY_DEBUG_KILL, en);
; 293  : 
; 294  : 	#endif
; 295  : 
; 296  : 	if (!get_local_entity_int_value (en, INT_TYPE_ALIVE))

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN10@kill_local
  0000f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d b8	 mov	 DWORD PTR tv69[ebp], ecx
  00017	eb 1d		 jmp	 SHORT $LN11@kill_local
$LN10@kill_local:
  00019	68 28 01 00 00	 push	 296			; 00000128H
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00029	52		 push	 edx
  0002a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0002f	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
$LN11@kill_local:
  00036	b8 01 00 00 00	 mov	 eax, 1
  0003b	85 c0		 test	 eax, eax
  0003d	74 09		 je	 SHORT $LN12@kill_local
  0003f	c7 45 b4 07 00
	00 00		 mov	 DWORD PTR tv76[ebp], 7
  00046	eb 1d		 jmp	 SHORT $LN13@kill_local
$LN12@kill_local:
  00048	68 28 01 00 00	 push	 296			; 00000128H
  0004d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00052	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00058	51		 push	 ecx
  00059	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005e	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv76[ebp], 0
$LN13@kill_local:
  00065	6a 07		 push	 7
  00067	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0006a	52		 push	 edx
  0006b	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv69[ebp], 1116
  00072	8b 4d b4	 mov	 ecx, DWORD PTR tv76[ebp]
  00075	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0007c	ff d2		 call	 edx
  0007e	85 c0		 test	 eax, eax
  00080	75 05		 jne	 SHORT $LN4@kill_local

; 297  : 	{
; 298  : 		return;

  00082	e9 1d 05 00 00	 jmp	 $LN1@kill_local
$LN4@kill_local:

; 299  : 	}
; 300  : 
; 301  : 	////////////////////////////////////////
; 302  : 	//
; 303  : 	// VALIDATE
; 304  : 	//
; 305  : 	////////////////////////////////////////
; 306  : 
; 307  : 	////////////////////////////////////////
; 308  : 	//
; 309  : 	// KILL
; 310  : 	//
; 311  : 	////////////////////////////////////////
; 312  : 
; 313  : 	//
; 314  : 	// Notify campaign screen
; 315  : 	//
; 316  : 
; 317  : 	notify_campaign_screen (CAMPAIGN_SCREEN_BASE_DESTROYED, en);

  00087	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0008a	50		 push	 eax
  0008b	6a 0a		 push	 10			; 0000000aH
  0008d	e8 00 00 00 00	 call	 ?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; notify_campaign_screen

; 318  : 
; 319  : 	//
; 320  : 	// Set keysite to unusable
; 321  : 	//
; 322  : 			
; 323  : 	set_local_entity_int_value (en, INT_TYPE_KEYSITE_USABLE_STATE, KEYSITE_STATE_UNUSABLE);

  00092	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00096	74 0a		 je	 SHORT $LN14@kill_local
  00098	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0009b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0009d	89 4d b8	 mov	 DWORD PTR tv91[ebp], ecx
  000a0	eb 21		 jmp	 SHORT $LN15@kill_local
$LN14@kill_local:
  000a2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  000a8	83 c2 28	 add	 edx, 40			; 00000028H
  000ab	52		 push	 edx
  000ac	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000b6	50		 push	 eax
  000b7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000bc	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv91[ebp], 0
$LN15@kill_local:
  000c3	b9 01 00 00 00	 mov	 ecx, 1
  000c8	85 c9		 test	 ecx, ecx
  000ca	74 09		 je	 SHORT $LN16@kill_local
  000cc	c7 45 b4 70 00
	00 00		 mov	 DWORD PTR tv131[ebp], 112 ; 00000070H
  000d3	eb 21		 jmp	 SHORT $LN17@kill_local
$LN16@kill_local:
  000d5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  000db	83 c2 28	 add	 edx, 40			; 00000028H
  000de	52		 push	 edx
  000df	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000e9	50		 push	 eax
  000ea	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ef	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN17@kill_local:
  000f6	6a 01		 push	 1
  000f8	6a 70		 push	 112			; 00000070H
  000fa	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000fd	51		 push	 ecx
  000fe	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv91[ebp], 1116
  00105	8b 45 b4	 mov	 eax, DWORD PTR tv131[ebp]
  00108	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  0010f	ff d1		 call	 ecx

; 324  : 
; 325  : 	if (get_local_entity_int_value (en, INT_TYPE_IN_USE))

  00111	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00115	74 0a		 je	 SHORT $LN18@kill_local
  00117	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0011a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0011c	89 4d b8	 mov	 DWORD PTR tv142[ebp], ecx
  0011f	eb 1d		 jmp	 SHORT $LN19@kill_local
$LN18@kill_local:
  00121	68 45 01 00 00	 push	 325			; 00000145H
  00126	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0012b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00131	52		 push	 edx
  00132	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00137	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv142[ebp], 0
$LN19@kill_local:
  0013e	b8 01 00 00 00	 mov	 eax, 1
  00143	85 c0		 test	 eax, eax
  00145	74 09		 je	 SHORT $LN20@kill_local
  00147	c7 45 b4 6d 00
	00 00		 mov	 DWORD PTR tv149[ebp], 109 ; 0000006dH
  0014e	eb 1d		 jmp	 SHORT $LN21@kill_local
$LN20@kill_local:
  00150	68 45 01 00 00	 push	 325			; 00000145H
  00155	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0015a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00160	51		 push	 ecx
  00161	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00166	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN21@kill_local:
  0016d	6a 6d		 push	 109			; 0000006dH
  0016f	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00172	52		 push	 edx
  00173	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv142[ebp], 1116
  0017a	8b 4d b4	 mov	 ecx, DWORD PTR tv149[ebp]
  0017d	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00184	ff d2		 call	 edx
  00186	85 c0		 test	 eax, eax
  00188	0f 84 b2 01 00
	00		 je	 $LN5@kill_local

; 326  : 	{
; 327  : 		set_local_entity_int_value (en, INT_TYPE_IN_USE, FALSE);

  0018e	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00192	74 0a		 je	 SHORT $LN22@kill_local
  00194	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00197	8b 08		 mov	 ecx, DWORD PTR [eax]
  00199	89 4d b8	 mov	 DWORD PTR tv162[ebp], ecx
  0019c	eb 21		 jmp	 SHORT $LN23@kill_local
$LN22@kill_local:
  0019e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  001a4	83 c2 2c	 add	 edx, 44			; 0000002cH
  001a7	52		 push	 edx
  001a8	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001b2	50		 push	 eax
  001b3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b8	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv162[ebp], 0
$LN23@kill_local:
  001bf	b9 01 00 00 00	 mov	 ecx, 1
  001c4	85 c9		 test	 ecx, ecx
  001c6	74 09		 je	 SHORT $LN24@kill_local
  001c8	c7 45 b4 6d 00
	00 00		 mov	 DWORD PTR tv170[ebp], 109 ; 0000006dH
  001cf	eb 21		 jmp	 SHORT $LN25@kill_local
$LN24@kill_local:
  001d1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  001d7	83 c2 2c	 add	 edx, 44			; 0000002cH
  001da	52		 push	 edx
  001db	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001e5	50		 push	 eax
  001e6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001eb	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv170[ebp], 0
$LN25@kill_local:
  001f2	6a 00		 push	 0
  001f4	6a 6d		 push	 109			; 0000006dH
  001f6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001f9	51		 push	 ecx
  001fa	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv162[ebp], 1116
  00201	8b 45 b4	 mov	 eax, DWORD PTR tv170[ebp]
  00204	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  0020b	ff d1		 call	 ecx

; 328  : 
; 329  : 		//
; 330  : 		// Update Influence maps
; 331  : 		//
; 332  : 			
; 333  : 		update_imap_sector_side (en, FALSE);

  0020d	6a 00		 push	 0
  0020f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00212	50		 push	 eax
  00213	e8 00 00 00 00	 call	 ?update_imap_sector_side@@YGXPAUENTITY@@H@Z ; update_imap_sector_side

; 334  : 
; 335  : 		if (get_comms_model () == COMMS_MODEL_SERVER)

  00218	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  0021f	0f 85 1b 01 00
	00		 jne	 $LN5@kill_local

; 336  : 		{
; 337  : 			update_imap_importance_level (en, FALSE);

  00225	6a 00		 push	 0
  00227	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0022a	50		 push	 eax
  0022b	e8 00 00 00 00	 call	 ?update_imap_importance_level@@YGXPAUENTITY@@H@Z ; update_imap_importance_level

; 338  : 
; 339  : 			update_imap_distance_to_friendly_base ((entity_sides) get_local_entity_int_value (en, INT_TYPE_SIDE));

  00230	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00234	74 0a		 je	 SHORT $LN26@kill_local
  00236	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00239	8b 08		 mov	 ecx, DWORD PTR [eax]
  0023b	89 4d b8	 mov	 DWORD PTR tv187[ebp], ecx
  0023e	eb 21		 jmp	 SHORT $LN27@kill_local
$LN26@kill_local:
  00240	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00246	83 c2 38	 add	 edx, 56			; 00000038H
  00249	52		 push	 edx
  0024a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0024f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00254	50		 push	 eax
  00255	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0025a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv187[ebp], 0
$LN27@kill_local:
  00261	b9 01 00 00 00	 mov	 ecx, 1
  00266	85 c9		 test	 ecx, ecx
  00268	74 09		 je	 SHORT $LN28@kill_local
  0026a	c7 45 b4 bb 00
	00 00		 mov	 DWORD PTR tv195[ebp], 187 ; 000000bbH
  00271	eb 21		 jmp	 SHORT $LN29@kill_local
$LN28@kill_local:
  00273	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00279	83 c2 38	 add	 edx, 56			; 00000038H
  0027c	52		 push	 edx
  0027d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00282	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00287	50		 push	 eax
  00288	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0028d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv195[ebp], 0
$LN29@kill_local:
  00294	68 bb 00 00 00	 push	 187			; 000000bbH
  00299	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0029c	51		 push	 ecx
  0029d	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv187[ebp], 1116
  002a4	8b 45 b4	 mov	 eax, DWORD PTR tv195[ebp]
  002a7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  002ae	ff d1		 call	 ecx
  002b0	50		 push	 eax
  002b1	e8 00 00 00 00	 call	 ?update_imap_distance_to_friendly_base@@YGXW4ENTITY_SIDES@@@Z ; update_imap_distance_to_friendly_base

; 340  : 
; 341  : 			//
; 342  : 			// Destroy anything landed on keysite - and redirect anything else belonging to keysite
; 343  : 			// (Must be called AFTER keysite IN_USE set to FALSE)
; 344  : 			//
; 345  : 
; 346  : 			destroy_keysite (en, (entity_sides) get_local_entity_int_value (en, INT_TYPE_SIDE));

  002b6	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  002ba	74 0a		 je	 SHORT $LN30@kill_local
  002bc	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  002bf	8b 08		 mov	 ecx, DWORD PTR [eax]
  002c1	89 4d b8	 mov	 DWORD PTR tv208[ebp], ecx
  002c4	eb 21		 jmp	 SHORT $LN31@kill_local
$LN30@kill_local:
  002c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  002cc	83 c2 3f	 add	 edx, 63			; 0000003fH
  002cf	52		 push	 edx
  002d0	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  002d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002da	50		 push	 eax
  002db	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002e0	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv208[ebp], 0
$LN31@kill_local:
  002e7	b9 01 00 00 00	 mov	 ecx, 1
  002ec	85 c9		 test	 ecx, ecx
  002ee	74 09		 je	 SHORT $LN32@kill_local
  002f0	c7 45 b4 bb 00
	00 00		 mov	 DWORD PTR tv216[ebp], 187 ; 000000bbH
  002f7	eb 21		 jmp	 SHORT $LN33@kill_local
$LN32@kill_local:
  002f9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  002ff	83 c2 3f	 add	 edx, 63			; 0000003fH
  00302	52		 push	 edx
  00303	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00308	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0030d	50		 push	 eax
  0030e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00313	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv216[ebp], 0
$LN33@kill_local:
  0031a	68 bb 00 00 00	 push	 187			; 000000bbH
  0031f	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00322	51		 push	 ecx
  00323	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv208[ebp], 1116
  0032a	8b 45 b4	 mov	 eax, DWORD PTR tv216[ebp]
  0032d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00334	ff d1		 call	 ecx
  00336	50		 push	 eax
  00337	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0033a	52		 push	 edx
  0033b	e8 00 00 00 00	 call	 ?destroy_keysite@@YGXPAUENTITY@@W4ENTITY_SIDES@@@Z ; destroy_keysite
$LN5@kill_local:

; 347  : 		}
; 348  : 	}
; 349  : 
; 350  : 	set_local_entity_int_value (en, INT_TYPE_ALIVE, FALSE);

  00340	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00344	74 0a		 je	 SHORT $LN34@kill_local
  00346	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00349	8b 08		 mov	 ecx, DWORD PTR [eax]
  0034b	89 4d b8	 mov	 DWORD PTR tv230[ebp], ecx
  0034e	eb 21		 jmp	 SHORT $LN35@kill_local
$LN34@kill_local:
  00350	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00356	83 c2 43	 add	 edx, 67			; 00000043H
  00359	52		 push	 edx
  0035a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0035f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00364	50		 push	 eax
  00365	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0036a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv230[ebp], 0
$LN35@kill_local:
  00371	b9 01 00 00 00	 mov	 ecx, 1
  00376	85 c9		 test	 ecx, ecx
  00378	74 09		 je	 SHORT $LN36@kill_local
  0037a	c7 45 b4 07 00
	00 00		 mov	 DWORD PTR tv238[ebp], 7
  00381	eb 21		 jmp	 SHORT $LN37@kill_local
$LN36@kill_local:
  00383	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00389	83 c2 43	 add	 edx, 67			; 00000043H
  0038c	52		 push	 edx
  0038d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00392	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00397	50		 push	 eax
  00398	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0039d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv238[ebp], 0
$LN37@kill_local:
  003a4	6a 00		 push	 0
  003a6	6a 07		 push	 7
  003a8	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  003ab	51		 push	 ecx
  003ac	69 55 b8 5c 04
	00 00		 imul	 edx, DWORD PTR tv230[ebp], 1116
  003b3	8b 45 b4	 mov	 eax, DWORD PTR tv238[ebp]
  003b6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  003bd	ff d1		 call	 ecx

; 351  : 
; 352  : 	delete_local_entity_from_parents_child_list (en, LIST_TYPE_MOVEMENT_DEPENDENT);

  003bf	6a 1a		 push	 26			; 0000001aH
  003c1	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  003c4	50		 push	 eax
  003c5	e8 00 00 00 00	 call	 ?delete_local_entity_from_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; delete_local_entity_from_parents_child_list

; 353  : 
; 354  : 	//
; 355  : 	// Notify force to check campaign criteria
; 356  : 	//
; 357  : 
; 358  : 	if (get_comms_model () == COMMS_MODEL_SERVER)

  003ca	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  003d1	0f 85 29 01 00
	00		 jne	 $LN7@kill_local

; 359  : 	{
; 360  : 		entity
; 361  : 			*force;
; 362  : 
; 363  : 		force = get_local_entity_first_child (get_session_entity (), LIST_TYPE_FORCE);

  003d7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  003de	74 0c		 je	 SHORT $LN38@kill_local
  003e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  003e5	8b 08		 mov	 ecx, DWORD PTR [eax]
  003e7	89 4d b8	 mov	 DWORD PTR tv253[ebp], ecx
  003ea	eb 21		 jmp	 SHORT $LN39@kill_local
$LN38@kill_local:
  003ec	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  003f2	83 c2 50	 add	 edx, 80			; 00000050H
  003f5	52		 push	 edx
  003f6	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  003fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00400	50		 push	 eax
  00401	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00406	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv253[ebp], 0
$LN39@kill_local:
  0040d	b9 01 00 00 00	 mov	 ecx, 1
  00412	85 c9		 test	 ecx, ecx
  00414	74 09		 je	 SHORT $LN40@kill_local
  00416	c7 45 b4 0e 00
	00 00		 mov	 DWORD PTR tv261[ebp], 14 ; 0000000eH
  0041d	eb 21		 jmp	 SHORT $LN41@kill_local
$LN40@kill_local:
  0041f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00425	83 c2 50	 add	 edx, 80			; 00000050H
  00428	52		 push	 edx
  00429	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0042e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00433	50		 push	 eax
  00434	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00439	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv261[ebp], 0
$LN41@kill_local:
  00440	6a 0e		 push	 14			; 0000000eH
  00442	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00448	51		 push	 ecx
  00449	69 55 b8 b4 00
	00 00		 imul	 edx, DWORD PTR tv253[ebp], 180
  00450	8b 45 b4	 mov	 eax, DWORD PTR tv261[ebp]
  00453	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0045a	ff d1		 call	 ecx
  0045c	89 45 fc	 mov	 DWORD PTR _force$1[ebp], eax
$LN2@kill_local:

; 364  : 
; 365  : 		while (force)

  0045f	83 7d fc 00	 cmp	 DWORD PTR _force$1[ebp], 0
  00463	0f 84 97 00 00
	00		 je	 $LN7@kill_local

; 366  : 		{
; 367  : 			notify_local_entity (ENTITY_MESSAGE_CHECK_CAMPAIGN_OBJECTIVES, force, en);

  00469	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0046c	50		 push	 eax
  0046d	8b 4d fc	 mov	 ecx, DWORD PTR _force$1[ebp]
  00470	51		 push	 ecx
  00471	6a 03		 push	 3
  00473	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00478	83 c4 0c	 add	 esp, 12			; 0000000cH

; 368  : 
; 369  : 			force = get_local_entity_child_succ (force, LIST_TYPE_FORCE);

  0047b	83 7d fc 00	 cmp	 DWORD PTR _force$1[ebp], 0
  0047f	74 0a		 je	 SHORT $LN42@kill_local
  00481	8b 45 fc	 mov	 eax, DWORD PTR _force$1[ebp]
  00484	8b 08		 mov	 ecx, DWORD PTR [eax]
  00486	89 4d b8	 mov	 DWORD PTR tv277[ebp], ecx
  00489	eb 21		 jmp	 SHORT $LN43@kill_local
$LN42@kill_local:
  0048b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00491	83 c2 56	 add	 edx, 86			; 00000056H
  00494	52		 push	 edx
  00495	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0049a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0049f	50		 push	 eax
  004a0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004a5	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv277[ebp], 0
$LN43@kill_local:
  004ac	b9 01 00 00 00	 mov	 ecx, 1
  004b1	85 c9		 test	 ecx, ecx
  004b3	74 09		 je	 SHORT $LN44@kill_local
  004b5	c7 45 b4 0e 00
	00 00		 mov	 DWORD PTR tv285[ebp], 14 ; 0000000eH
  004bc	eb 21		 jmp	 SHORT $LN45@kill_local
$LN44@kill_local:
  004be	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  004c4	83 c2 56	 add	 edx, 86			; 00000056H
  004c7	52		 push	 edx
  004c8	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  004cd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  004d2	50		 push	 eax
  004d3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004d8	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv285[ebp], 0
$LN45@kill_local:
  004df	6a 0e		 push	 14			; 0000000eH
  004e1	8b 4d fc	 mov	 ecx, DWORD PTR _force$1[ebp]
  004e4	51		 push	 ecx
  004e5	69 55 b8 b4 00
	00 00		 imul	 edx, DWORD PTR tv277[ebp], 180
  004ec	8b 45 b4	 mov	 eax, DWORD PTR tv285[ebp]
  004ef	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  004f6	ff d1		 call	 ecx
  004f8	89 45 fc	 mov	 DWORD PTR _force$1[ebp], eax

; 370  : 		}

  004fb	e9 5f ff ff ff	 jmp	 $LN2@kill_local
$LN7@kill_local:

; 371  : 	}
; 372  : 
; 373  : 	////////////////////////////////////////
; 374  : 	//
; 375  : 	// SPECIAL EFFECTS
; 376  : 	//
; 377  : 	////////////////////////////////////////
; 378  : 
; 379  : 	if (get_comms_model () == COMMS_MODEL_SERVER)

  00500	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00507	0f 85 97 00 00
	00		 jne	 $LN1@kill_local

; 380  : 	{
; 381  : 		ai_log ("(KEYSITE) %s DESTROYED", get_local_entity_string (en, STRING_TYPE_KEYSITE_NAME));

  0050d	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00511	74 0a		 je	 SHORT $LN46@kill_local
  00513	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00516	8b 08		 mov	 ecx, DWORD PTR [eax]
  00518	89 4d b8	 mov	 DWORD PTR tv298[ebp], ecx
  0051b	eb 21		 jmp	 SHORT $LN47@kill_local
$LN46@kill_local:
  0051d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00523	83 c2 62	 add	 edx, 98			; 00000062H
  00526	52		 push	 edx
  00527	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0052c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00531	50		 push	 eax
  00532	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00537	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv298[ebp], 0
$LN47@kill_local:
  0053e	b9 01 00 00 00	 mov	 ecx, 1
  00543	85 c9		 test	 ecx, ecx
  00545	74 09		 je	 SHORT $LN48@kill_local
  00547	c7 45 b4 07 00
	00 00		 mov	 DWORD PTR tv306[ebp], 7
  0054e	eb 21		 jmp	 SHORT $LN49@kill_local
$LN48@kill_local:
  00550	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??kill_local@@YGXPAUENTITY@@@Z@4JA
  00556	83 c2 62	 add	 edx, 98			; 00000062H
  00559	52		 push	 edx
  0055a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0055f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_string_type_message@@3PBDB ; overload_invalid_string_type_message
  00564	50		 push	 eax
  00565	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0056a	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv306[ebp], 0
$LN49@kill_local:
  00571	6a 07		 push	 7
  00573	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00576	51		 push	 ecx
  00577	6b 55 b8 34	 imul	 edx, DWORD PTR tv298[ebp], 52
  0057b	8b 45 b4	 mov	 eax, DWORD PTR tv306[ebp]
  0057e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA[edx+eax*4]
  00585	ff d1		 call	 ecx
  00587	50		 push	 eax
  00588	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@MLJFJHFE@?$CIKEYSITE?$CJ?5?$CFs?5DESTROYED@
  0058d	e8 00 00 00 00	 call	 ?ai_log@@YAXPBDZZ	; ai_log
  00592	83 c4 08	 add	 esp, 8

; 382  : 
; 383  : 		send_text_message (en, NULL, MESSAGE_TEXT_SYSTEM_KEYSITE_DESTROYED, NULL);

  00595	6a 00		 push	 0
  00597	6a 06		 push	 6
  00599	6a 00		 push	 0
  0059b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0059e	50		 push	 eax
  0059f	e8 00 00 00 00	 call	 ?send_text_message@@YGXPAUENTITY@@0W4MESSAGE_TEXT_TYPES@@PBD@Z ; send_text_message
$LN1@kill_local:

; 384  : 	}
; 385  : 
; 386  : 	/////////////////////////////////////////////////////////////////
; 387  : 	//
; 388  : 	//
; 389  : 	/////////////////////////////////////////////////////////////////
; 390  : }

  005a4	5f		 pop	 edi
  005a5	5e		 pop	 esi
  005a6	5b		 pop	 ebx
  005a7	8b e5		 mov	 esp, ebp
  005a9	5d		 pop	 ebp
  005aa	c2 04 00	 ret	 4
?kill_local@@YGXPAUENTITY@@@Z ENDP			; kill_local
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?destroy_client_family@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?destroy_client_family@@YGXPAUENTITY@@@Z PROC		; destroy_client_family, COMDAT

; 268  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 269  : 	#if DEBUG_MODULE
; 270  : 
; 271  : 	debug_log_entity_args (ENTITY_DEBUG_REMOTE, ENTITY_DEBUG_DESTROY_FAMILY, en);
; 272  : 
; 273  : 	#endif
; 274  : 
; 275  : 	transmit_entity_comms_message (ENTITY_COMMS_DESTROY_FAMILY, en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	6a 13		 push	 19			; 00000013H
  0000f	e8 00 00 00 00	 call	 ?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ ; transmit_entity_comms_message
  00014	83 c4 08	 add	 esp, 8

; 276  : }

  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c2 04 00	 ret	 4
?destroy_client_family@@YGXPAUENTITY@@@Z ENDP		; destroy_client_family
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?destroy_server_family@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv82 = -68						; size = 4
_en$ = 8						; size = 4
?destroy_server_family@@YGXPAUENTITY@@@Z PROC		; destroy_server_family, COMDAT

; 246  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 247  : 
; 248  : 	destroy_client_server_entity_children (en, LIST_TYPE_UNASSIGNED_TASK);

  00009	6a 28		 push	 40			; 00000028H
  0000b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destroy_client_server_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_client_server_entity_children

; 249  : 
; 250  : 	destroy_client_server_entity_children (en, LIST_TYPE_ASSIGNED_TASK);

  00014	6a 03		 push	 3
  00016	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destroy_client_server_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_client_server_entity_children

; 251  : 
; 252  : 	destroy_client_server_entity_children (en, LIST_TYPE_COMPLETED_TASK);

  0001f	6a 08		 push	 8
  00021	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?destroy_client_server_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_client_server_entity_children

; 253  : 
; 254  : 	destroy_client_server_entity_children (en, LIST_TYPE_REGEN);

  0002a	6a 1f		 push	 31			; 0000001fH
  0002c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?destroy_client_server_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_client_server_entity_children

; 255  : 
; 256  : 	destroy_client_server_entity_children (en, LIST_TYPE_CARGO);

  00035	6a 06		 push	 6
  00037	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0003a	50		 push	 eax
  0003b	e8 00 00 00 00	 call	 ?destroy_client_server_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_client_server_entity_children

; 257  : 
; 258  : 	destroy_client_server_entity_children (en, LIST_TYPE_LANDING_SITE);

  00040	6a 17		 push	 23			; 00000017H
  00042	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ?destroy_client_server_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_client_server_entity_children

; 259  : 
; 260  : 	destroy_client_server_entity (en);

  0004b	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0004f	74 0a		 je	 SHORT $LN3@destroy_se
  00051	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00054	8b 08		 mov	 ecx, DWORD PTR [eax]
  00056	89 4d bc	 mov	 DWORD PTR tv82[ebp], ecx
  00059	eb 21		 jmp	 SHORT $LN4@destroy_se
$LN3@destroy_se:
  0005b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??destroy_server_family@@YGXPAUENTITY@@@Z@4JA
  00061	83 c2 0e	 add	 edx, 14			; 0000000eH
  00064	52		 push	 edx
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0006f	50		 push	 eax
  00070	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00075	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN4@destroy_se:
  0007c	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0007f	51		 push	 ecx
  00080	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00086	c1 e2 02	 shl	 edx, 2
  00089	8b 45 bc	 mov	 eax, DWORD PTR tv82[ebp]
  0008c	8b 8c c2 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_destroy_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[edx+eax*8]
  00093	ff d1		 call	 ecx

; 261  : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c2 04 00	 ret	 4
?destroy_server_family@@YGXPAUENTITY@@@Z ENDP		; destroy_server_family
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?destroy_local_family@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?destroy_local_family@@YGXPAUENTITY@@@Z PROC		; destroy_local_family, COMDAT

; 224  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 225  : 
; 226  : 	destroy_local_entity_children (en, LIST_TYPE_UNASSIGNED_TASK);

  00009	6a 28		 push	 40			; 00000028H
  0000b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destroy_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_local_entity_children

; 227  : 
; 228  : 	destroy_local_entity_children (en, LIST_TYPE_ASSIGNED_TASK);

  00014	6a 03		 push	 3
  00016	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destroy_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_local_entity_children

; 229  : 
; 230  : 	destroy_local_entity_children (en, LIST_TYPE_COMPLETED_TASK);

  0001f	6a 08		 push	 8
  00021	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?destroy_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_local_entity_children

; 231  : 
; 232  : 	destroy_local_entity_children (en, LIST_TYPE_REGEN);

  0002a	6a 1f		 push	 31			; 0000001fH
  0002c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?destroy_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_local_entity_children

; 233  : 
; 234  : 	destroy_local_entity_children (en, LIST_TYPE_CARGO);

  00035	6a 06		 push	 6
  00037	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0003a	50		 push	 eax
  0003b	e8 00 00 00 00	 call	 ?destroy_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_local_entity_children

; 235  : 
; 236  : 	destroy_local_entity_children (en, LIST_TYPE_LANDING_SITE);

  00040	6a 17		 push	 23			; 00000017H
  00042	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ?destroy_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; destroy_local_entity_children

; 237  : 
; 238  : 	destroy_local_entity (en);

  0004b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0004e	50		 push	 eax
  0004f	e8 00 00 00 00	 call	 ?destroy_local_entity@@YGXPAUENTITY@@@Z ; destroy_local_entity

; 239  : }

  00054	5f		 pop	 edi
  00055	5e		 pop	 esi
  00056	5b		 pop	 ebx
  00057	8b e5		 mov	 esp, ebp
  00059	5d		 pop	 ebp
  0005a	c2 04 00	 ret	 4
?destroy_local_family@@YGXPAUENTITY@@@Z ENDP		; destroy_local_family
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?destroy_client@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?destroy_client@@YGXPAUENTITY@@@Z PROC			; destroy_client, COMDAT

; 200  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 201  : 	if (get_comms_data_flow () == COMMS_DATA_FLOW_TX)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A, 0 ; system_comms_data_flow
  00010	75 2c		 jne	 SHORT $LN2@destroy_cl

; 202  : 	{
; 203  : 		validate_client_server_remote_fn ();

  00012	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  00017	85 c0		 test	 eax, eax
  00019	75 18		 jne	 SHORT $LN4@destroy_cl
  0001b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_client@@YGXPAUENTITY@@@Z@4JA
  00020	83 c0 03	 add	 eax, 3
  00023	50		 push	 eax
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@destroy_cl:

; 204  : 
; 205  : 		destroy_remote (en);

  00033	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ?destroy_remote@@YGXPAUENTITY@@@Z ; destroy_remote

; 206  : 	}
; 207  : 	else

  0003c	eb 2a		 jmp	 SHORT $LN1@destroy_cl
$LN2@destroy_cl:

; 208  : 	{
; 209  : 		validate_client_server_local_fn ();

  0003e	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  00043	85 c0		 test	 eax, eax
  00045	75 18		 jne	 SHORT $LN5@destroy_cl
  00047	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_client@@YGXPAUENTITY@@@Z@4JA
  0004c	83 c0 09	 add	 eax, 9
  0004f	50		 push	 eax
  00050	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00055	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  0005a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@destroy_cl:

; 210  : 
; 211  : 		//
; 212  : 		// destroy local using 'full' function
; 213  : 		//
; 214  : 
; 215  : 		destroy_local_entity (en);

  0005f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00062	50		 push	 eax
  00063	e8 00 00 00 00	 call	 ?destroy_local_entity@@YGXPAUENTITY@@@Z ; destroy_local_entity
$LN1@destroy_cl:

; 216  : 	}
; 217  : }

  00068	5f		 pop	 edi
  00069	5e		 pop	 esi
  0006a	5b		 pop	 ebx
  0006b	8b e5		 mov	 esp, ebp
  0006d	5d		 pop	 ebp
  0006e	c2 04 00	 ret	 4
?destroy_client@@YGXPAUENTITY@@@Z ENDP			; destroy_client
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?destroy_server@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?destroy_server@@YGXPAUENTITY@@@Z PROC			; destroy_server, COMDAT

; 177  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 178  : 	//
; 179  : 	// destroy remote entity first (keeping local entity valid)
; 180  : 	//
; 181  : 
; 182  : 	validate_client_server_remote_fn ();

  00009	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  0000e	85 c0		 test	 eax, eax
  00010	75 18		 jne	 SHORT $LN2@destroy_se
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_server@@YGXPAUENTITY@@@Z@4JA
  00017	83 c0 05	 add	 eax, 5
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@destroy_se:

; 183  : 
; 184  : 	destroy_remote (en);

  0002a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?destroy_remote@@YGXPAUENTITY@@@Z ; destroy_remote

; 185  : 
; 186  : 	validate_client_server_local_fn ();

  00033	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  00038	85 c0		 test	 eax, eax
  0003a	75 18		 jne	 SHORT $LN3@destroy_se
  0003c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_server@@YGXPAUENTITY@@@Z@4JA
  00041	83 c0 09	 add	 eax, 9
  00044	50		 push	 eax
  00045	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004a	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  0004f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@destroy_se:

; 187  : 
; 188  : 	//
; 189  : 	// destroy local using 'full' function
; 190  : 	//
; 191  : 
; 192  : 	destroy_local_entity (en);

  00054	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00057	50		 push	 eax
  00058	e8 00 00 00 00	 call	 ?destroy_local_entity@@YGXPAUENTITY@@@Z ; destroy_local_entity

; 193  : }

  0005d	5f		 pop	 edi
  0005e	5e		 pop	 esi
  0005f	5b		 pop	 ebx
  00060	8b e5		 mov	 esp, ebp
  00062	5d		 pop	 ebp
  00063	c2 04 00	 ret	 4
?destroy_server@@YGXPAUENTITY@@@Z ENDP			; destroy_server
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?destroy_remote@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_en$ = 8						; size = 4
?destroy_remote@@YGXPAUENTITY@@@Z PROC			; destroy_remote, COMDAT

; 162  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 163  : 	#if DEBUG_MODULE
; 164  : 
; 165  : 	debug_log_entity_args (ENTITY_DEBUG_REMOTE, ENTITY_DEBUG_DESTROY, en);
; 166  : 
; 167  : 	#endif
; 168  : 
; 169  : 	transmit_entity_comms_message (ENTITY_COMMS_DESTROY, en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	50		 push	 eax
  0000d	6a 12		 push	 18			; 00000012H
  0000f	e8 00 00 00 00	 call	 ?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ ; transmit_entity_comms_message
  00014	83 c4 08	 add	 esp, 8

; 170  : }

  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c2 04 00	 ret	 4
?destroy_remote@@YGXPAUENTITY@@@Z ENDP			; destroy_remote
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?destroy_local@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?destroy_local@@YGXPAUENTITY@@@Z PROC			; destroy_local, COMDAT

; 82   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 83   : 	keysite
; 84   : 		*raw;
; 85   : 
; 86   : 	////////////////////////////////////////
; 87   : 	//
; 88   : 	// PRE-AMBLE
; 89   : 	//
; 90   : 	////////////////////////////////////////
; 91   : 
; 92   : 	#if DEBUG_MODULE
; 93   : 
; 94   : 	debug_log_entity_args (ENTITY_DEBUG_LOCAL, ENTITY_DEBUG_DESTROY, en);
; 95   : 
; 96   : 	#endif
; 97   : 
; 98   : 	raw = (keysite *) get_local_entity_data (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 99   : 
; 100  : 	////////////////////////////////////////
; 101  : 	//
; 102  : 	// VALIDATE
; 103  : 	//
; 104  : 	////////////////////////////////////////
; 105  : 
; 106  : 	ASSERT (!raw->unassigned_task_root.first_child);

  00012	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00015	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  00019	74 18		 je	 SHORT $LN2@destroy_lo
  0001b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA
  00020	83 c0 18	 add	 eax, 24			; 00000018H
  00023	50		 push	 eax
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@NEAPMNGP@?$CBraw?9?$DOunassigned_task_root?4firs@
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@destroy_lo:

; 107  : 
; 108  : 	ASSERT (!raw->assigned_task_root.first_child);

  00033	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00036	83 78 14 00	 cmp	 DWORD PTR [eax+20], 0
  0003a	74 18		 je	 SHORT $LN3@destroy_lo
  0003c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA
  00041	83 c0 1a	 add	 eax, 26			; 0000001aH
  00044	50		 push	 eax
  00045	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004a	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@DOFEMKPA@?$CBraw?9?$DOassigned_task_root?4first_@
  0004f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@destroy_lo:

; 109  : 
; 110  : 	ASSERT (!raw->completed_task_root.first_child);

  00054	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00057	83 78 18 00	 cmp	 DWORD PTR [eax+24], 0
  0005b	74 18		 je	 SHORT $LN4@destroy_lo
  0005d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA
  00062	83 c0 1c	 add	 eax, 28			; 0000001cH
  00065	50		 push	 eax
  00066	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006b	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@FLOICIFB@?$CBraw?9?$DOcompleted_task_root?4first@
  00070	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@destroy_lo:

; 111  : 
; 112  : 	ASSERT (!raw->landing_site_root.first_child);

  00075	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00078	83 78 34 00	 cmp	 DWORD PTR [eax+52], 0
  0007c	74 18		 je	 SHORT $LN5@destroy_lo
  0007e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA
  00083	83 c0 1e	 add	 eax, 30			; 0000001eH
  00086	50		 push	 eax
  00087	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008c	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@HNAJAEPC@?$CBraw?9?$DOlanding_site_root?4first_c@
  00091	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@destroy_lo:

; 113  : 
; 114  : 	ASSERT (!raw->regen_root.first_child);

  00096	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00099	83 78 30 00	 cmp	 DWORD PTR [eax+48], 0
  0009d	74 18		 je	 SHORT $LN6@destroy_lo
  0009f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA
  000a4	83 c0 20	 add	 eax, 32			; 00000020H
  000a7	50		 push	 eax
  000a8	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ad	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@LLHAOEBH@?$CBraw?9?$DOregen_root?4first_child@
  000b2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@destroy_lo:

; 115  : 
; 116  : 	ASSERT (!raw->cargo_root.first_child);

  000b7	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000ba	83 78 2c 00	 cmp	 DWORD PTR [eax+44], 0
  000be	74 18		 je	 SHORT $LN7@destroy_lo
  000c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_local@@YGXPAUENTITY@@@Z@4JA
  000c5	83 c0 22	 add	 eax, 34			; 00000022H
  000c8	50		 push	 eax
  000c9	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@PIEPOOFE@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ce	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@KGDLHIJC@?$CBraw?9?$DOcargo_root?4first_child@
  000d3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@destroy_lo:

; 117  : 
; 118  : 	////////////////////////////////////////
; 119  : 	//
; 120  : 	// DESTROY COMPONENTS
; 121  : 	//
; 122  : 	////////////////////////////////////////
; 123  : 
; 124  : 	////////////////////////////////////////
; 125  : 	//
; 126  : 	// UNLINK FROM SYSTEM
; 127  : 	//
; 128  : 	////////////////////////////////////////
; 129  : 
; 130  : 	unlink_local_entity_children (en, LIST_TYPE_TASK_DEPENDENT);

  000d8	6a 27		 push	 39			; 00000027H
  000da	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000dd	50		 push	 eax
  000de	e8 00 00 00 00	 call	 ?unlink_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; unlink_local_entity_children

; 131  : 
; 132  : 	unlink_local_entity_children (en, LIST_TYPE_BUILDING_GROUP);

  000e3	6a 04		 push	 4
  000e5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000e8	50		 push	 eax
  000e9	e8 00 00 00 00	 call	 ?unlink_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; unlink_local_entity_children

; 133  : 
; 134  : 	unlink_local_entity_children (en, LIST_TYPE_KEYSITE_GROUP);

  000ee	6a 16		 push	 22			; 00000016H
  000f0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000f3	50		 push	 eax
  000f4	e8 00 00 00 00	 call	 ?unlink_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; unlink_local_entity_children

; 135  : 
; 136  : 	unlink_local_entity_children (en, LIST_TYPE_DIVISION_HEADQUARTERS);

  000f9	6a 0c		 push	 12			; 0000000cH
  000fb	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000fe	50		 push	 eax
  000ff	e8 00 00 00 00	 call	 ?unlink_local_entity_children@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; unlink_local_entity_children

; 137  : 
; 138  : 	delete_local_entity_from_parents_child_list (en, LIST_TYPE_KEYSITE_FORCE);

  00104	6a 15		 push	 21			; 00000015H
  00106	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00109	50		 push	 eax
  0010a	e8 00 00 00 00	 call	 ?delete_local_entity_from_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; delete_local_entity_from_parents_child_list

; 139  : 
; 140  : 	delete_local_entity_from_parents_child_list (en, LIST_TYPE_MOVEMENT_DEPENDENT);

  0010f	6a 1a		 push	 26			; 0000001aH
  00111	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00114	50		 push	 eax
  00115	e8 00 00 00 00	 call	 ?delete_local_entity_from_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; delete_local_entity_from_parents_child_list

; 141  : 
; 142  : 	delete_local_entity_from_parents_child_list (en, LIST_TYPE_SECTOR);

  0011a	6a 21		 push	 33			; 00000021H
  0011c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?delete_local_entity_from_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; delete_local_entity_from_parents_child_list

; 143  : 
; 144  : 	delete_local_entity_from_parents_child_list (en, LIST_TYPE_UPDATE);

  00125	6a 29		 push	 41			; 00000029H
  00127	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0012a	50		 push	 eax
  0012b	e8 00 00 00 00	 call	 ?delete_local_entity_from_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@@Z ; delete_local_entity_from_parents_child_list

; 145  : 
; 146  : 	////////////////////////////////////////
; 147  : 	//
; 148  : 	// FREE ENTITY DATA
; 149  : 	//
; 150  : 	////////////////////////////////////////
; 151  : 
; 152  : 	free_mem (raw);

  00130	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00133	50		 push	 eax
  00134	e8 00 00 00 00	 call	 ?free_mem@@YGXPAX@Z	; free_mem

; 153  : 
; 154  : 	set_free_entity (en);

  00139	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0013c	50		 push	 eax
  0013d	e8 00 00 00 00	 call	 ?set_free_entity@@YGXPAUENTITY@@@Z ; set_free_entity

; 155  : }

  00142	5f		 pop	 edi
  00143	5e		 pop	 esi
  00144	5b		 pop	 ebx
  00145	8b e5		 mov	 esp, ebp
  00147	5d		 pop	 ebp
  00148	c2 04 00	 ret	 4
?destroy_local@@YGXPAUENTITY@@@Z ENDP			; destroy_local
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\keysite\ks_dstry.c
;	COMDAT ?overload_keysite_destroy_functions@@YGXXZ
_TEXT	SEGMENT
?overload_keysite_destroy_functions@@YGXXZ PROC		; overload_keysite_destroy_functions, COMDAT

; 459  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 460  : 	fn_destroy_local_entity						[ENTITY_TYPE_KEYSITE]							= destroy_local;

  00009	b8 04 00 00 00	 mov	 eax, 4
  0000e	6b c8 0f	 imul	 ecx, eax, 15
  00011	c7 81 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fn_destroy_local_entity@@3PAP6GXPAUENTITY@@@ZA[ecx], OFFSET ?destroy_local@@YGXPAUENTITY@@@Z ; destroy_local

; 461  : 	fn_destroy_client_server_entity			[ENTITY_TYPE_KEYSITE][COMMS_MODEL_SERVER]	= destroy_server;

  0001b	b8 08 00 00 00	 mov	 eax, 8
  00020	6b c8 0f	 imul	 ecx, eax, 15
  00023	ba 04 00 00 00	 mov	 edx, 4
  00028	6b c2 00	 imul	 eax, edx, 0
  0002b	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_destroy_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+eax], OFFSET ?destroy_server@@YGXPAUENTITY@@@Z ; destroy_server

; 462  : 	fn_destroy_client_server_entity			[ENTITY_TYPE_KEYSITE][COMMS_MODEL_CLIENT]	= destroy_client;

  00036	b8 08 00 00 00	 mov	 eax, 8
  0003b	6b c8 0f	 imul	 ecx, eax, 15
  0003e	ba 04 00 00 00	 mov	 edx, 4
  00043	c1 e2 00	 shl	 edx, 0
  00046	c7 84 11 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_destroy_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+edx], OFFSET ?destroy_client@@YGXPAUENTITY@@@Z ; destroy_client

; 463  : 
; 464  : 	fn_destroy_local_entity_family			[ENTITY_TYPE_KEYSITE]							= destroy_local_family;

  00051	b8 04 00 00 00	 mov	 eax, 4
  00056	6b c8 0f	 imul	 ecx, eax, 15
  00059	c7 81 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fn_destroy_local_entity_family@@3PAP6GXPAUENTITY@@@ZA[ecx], OFFSET ?destroy_local_family@@YGXPAUENTITY@@@Z ; destroy_local_family

; 465  : 	fn_destroy_client_server_entity_family	[ENTITY_TYPE_KEYSITE][COMMS_MODEL_SERVER]	= destroy_server_family;

  00063	b8 08 00 00 00	 mov	 eax, 8
  00068	6b c8 0f	 imul	 ecx, eax, 15
  0006b	ba 04 00 00 00	 mov	 edx, 4
  00070	6b c2 00	 imul	 eax, edx, 0
  00073	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_destroy_client_server_entity_family@@3PAY01P6GXPAUENTITY@@@ZA[ecx+eax], OFFSET ?destroy_server_family@@YGXPAUENTITY@@@Z ; destroy_server_family

; 466  : 	fn_destroy_client_server_entity_family	[ENTITY_TYPE_KEYSITE][COMMS_MODEL_CLIENT]	= destroy_client_family;

  0007e	b8 08 00 00 00	 mov	 eax, 8
  00083	6b c8 0f	 imul	 ecx, eax, 15
  00086	ba 04 00 00 00	 mov	 edx, 4
  0008b	c1 e2 00	 shl	 edx, 0
  0008e	c7 84 11 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_destroy_client_server_entity_family@@3PAY01P6GXPAUENTITY@@@ZA[ecx+edx], OFFSET ?destroy_client_family@@YGXPAUENTITY@@@Z ; destroy_client_family

; 467  : 
; 468  : 	fn_kill_local_entity							[ENTITY_TYPE_KEYSITE]							= kill_local;

  00099	b8 04 00 00 00	 mov	 eax, 4
  0009e	6b c8 0f	 imul	 ecx, eax, 15
  000a1	c7 81 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fn_kill_local_entity@@3PAP6GXPAUENTITY@@@ZA[ecx], OFFSET ?kill_local@@YGXPAUENTITY@@@Z ; kill_local

; 469  : 	fn_kill_client_server_entity				[ENTITY_TYPE_KEYSITE][COMMS_MODEL_SERVER]	= kill_server;

  000ab	b8 08 00 00 00	 mov	 eax, 8
  000b0	6b c8 0f	 imul	 ecx, eax, 15
  000b3	ba 04 00 00 00	 mov	 edx, 4
  000b8	6b c2 00	 imul	 eax, edx, 0
  000bb	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_kill_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+eax], OFFSET ?kill_server@@YGXPAUENTITY@@@Z ; kill_server

; 470  : 	fn_kill_client_server_entity				[ENTITY_TYPE_KEYSITE][COMMS_MODEL_CLIENT]	= kill_client;

  000c6	b8 08 00 00 00	 mov	 eax, 8
  000cb	6b c8 0f	 imul	 ecx, eax, 15
  000ce	ba 04 00 00 00	 mov	 edx, 4
  000d3	c1 e2 00	 shl	 edx, 0
  000d6	c7 84 11 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_kill_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+edx], OFFSET ?kill_client@@YGXPAUENTITY@@@Z ; kill_client

; 471  : }

  000e1	5f		 pop	 edi
  000e2	5e		 pop	 esi
  000e3	5b		 pop	 ebx
  000e4	8b e5		 mov	 esp, ebp
  000e6	5d		 pop	 ebp
  000e7	c3		 ret	 0
?overload_keysite_destroy_functions@@YGXXZ ENDP		; overload_keysite_destroy_functions
_TEXT	ENDS
END
