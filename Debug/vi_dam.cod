; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A		; viper_damage
_BSS	SEGMENT
?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A DD 01H DUP (?)	; viper_damage
_BSS	ENDS
PUBLIC	?set_viper_weapon_damage_status@@YGXXZ		; set_viper_weapon_damage_status
PUBLIC	?fully_repair_viper_damage@@YGXXZ		; fully_repair_viper_damage
PUBLIC	?partially_repair_viper_damage@@YGXXZ		; partially_repair_viper_damage
PUBLIC	?repair_viper_weapon_damage@@YGXXZ		; repair_viper_weapon_damage
PUBLIC	?damage_viper@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z	; damage_viper
PUBLIC	?notify_viper_avionics_of_dynamics_fault@@YGXI@Z ; notify_viper_avionics_of_dynamics_fault
PUBLIC	?__LINE__Var@?0??set_viper_weapon_damage_status@@YGXXZ@4JA ; `set_viper_weapon_damage_status'::`1'::__LINE__Var
PUBLIC	??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z@4JA ; `damage_systems'::`1'::__LINE__Var
PUBLIC	??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@ ; `string'
PUBLIC	__real@3f00002000400080
PUBLIC	__real@3feccccccccccccd
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z:PROC ; set_client_server_entity_weapon_damage
EXTRN	?get_next_available_weapon_sub_type@@YGHPAUENTITY@@@Z:PROC ; get_next_available_weapon_sub_type
EXTRN	?get_local_entity_weapon_available@@YGHPAUENTITY@@H@Z:PROC ; get_local_entity_weapon_available
EXTRN	?play_client_server_warning_message@@YGHPAUENTITY@@H@Z:PROC ; play_client_server_warning_message
EXTRN	?set_laser_is_active@@YGXH@Z:PROC		; set_laser_is_active
EXTRN	?set_gunship_weapon@@YGXH@Z:PROC		; set_gunship_weapon
EXTRN	?activate_viper_master_caution@@YGXXZ:PROC	; activate_viper_master_caution
EXTRN	?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z:PROC ; select_viper_mfd_mode
EXTRN	?select_viper_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z:PROC ; select_viper_target_acquisition_system
EXTRN	?dynamics_damage_model@@YGXIH@Z:PROC		; dynamics_damage_model
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A:DWORD ; target_acquisition_system
EXTRN	?fire_extinguisher_used@@3HA:DWORD		; fire_extinguisher_used
EXTRN	?night_vision_system_active@@3HA:DWORD		; night_vision_system_active
EXTRN	__fltused:DWORD
;	COMDAT __real@3feccccccccccccd
CONST	SEGMENT
__real@3feccccccccccccd DQ 03feccccccccccccdr	; 0.9
CONST	ENDS
;	COMDAT __real@3f00002000400080
CONST	SEGMENT
__real@3f00002000400080 DQ 03f00002000400080r	; 3.05185e-05
CONST	ENDS
;	COMDAT ??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@ DB 'Invalid damage'
	DB	'_level = %d', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z@4JA DD 0206H ; `damage_systems'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_d'
	DB	'am.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_viper_weapon_damage_status@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_viper_weapon_damage_status@@YGXXZ@4JA DD 057H ; `set_viper_weapon_damage_status'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
;	COMDAT ?damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z
_TEXT	SEGMENT
tv228 = -76						; size = 4
tv207 = -76						; size = 4
tv176 = -76						; size = 4
tv155 = -76						; size = 4
tv220 = -72						; size = 4
tv200 = -72						; size = 4
tv168 = -72						; size = 4
tv148 = -72						; size = 4
_en$ = -4						; size = 4
_damage$ = 8						; size = 4
?damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z PROC	; damage_systems, COMDAT

; 518  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 519  : 	entity
; 520  : 		*en;
; 521  : 
; 522  : 	en = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 523  : 
; 524  : 	////////////////////////////////////////
; 525  : 
; 526  : 	if (damage.flir)

  00011	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00014	83 e0 01	 and	 eax, 1
  00017	74 43		 je	 SHORT $LN2@damage_sys

; 527  : 	{
; 528  : 		if (!viper_damage.flir)

  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0001e	83 e0 01	 and	 eax, 1
  00021	75 39		 jne	 SHORT $LN2@damage_sys

; 529  : 		{
; 530  : 			activate_viper_master_caution ();

  00023	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 531  : 
; 532  : 			viper_damage.flir = TRUE;

  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0002d	83 c8 01	 or	 eax, 1
  00030	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 533  : 
; 534  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00035	6a 00		 push	 0
  00037	68 00 10 00 00	 push	 4096			; 00001000H
  0003c	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 535  : 
; 536  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_FLIR_FAILURE);

  00041	6a 01		 push	 1
  00043	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 537  : 
; 538  : 			if (target_acquisition_system == TARGET_ACQUISITION_SYSTEM_FLIR)

  0004c	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 3 ; target_acquisition_system
  00053	75 07		 jne	 SHORT $LN2@damage_sys

; 539  : 			{
; 540  : 				select_viper_target_acquisition_system (TARGET_ACQUISITION_SYSTEM_OFF);

  00055	6a 00		 push	 0
  00057	e8 00 00 00 00	 call	 ?select_viper_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; select_viper_target_acquisition_system
$LN2@damage_sys:

; 541  : 			}
; 542  : 		}
; 543  : 	}
; 544  : 
; 545  : 	////////////////////////////////////////
; 546  : 
; 547  : 	if (damage.dtv)

  0005c	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0005f	d1 e8		 shr	 eax, 1
  00061	83 e0 01	 and	 eax, 1
  00064	74 45		 je	 SHORT $LN5@damage_sys

; 548  : 	{
; 549  : 		if (!viper_damage.dtv)

  00066	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0006b	d1 e8		 shr	 eax, 1
  0006d	83 e0 01	 and	 eax, 1
  00070	75 39		 jne	 SHORT $LN5@damage_sys

; 550  : 		{
; 551  : 			activate_viper_master_caution ();

  00072	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 552  : 
; 553  : 			viper_damage.dtv = TRUE;

  00077	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0007c	83 c8 02	 or	 eax, 2
  0007f	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 554  : 
; 555  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00084	6a 00		 push	 0
  00086	68 00 10 00 00	 push	 4096			; 00001000H
  0008b	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 556  : 
; 557  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_DTV_FAILURE);

  00090	6a 02		 push	 2
  00092	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 558  : 
; 559  : 			if (target_acquisition_system == TARGET_ACQUISITION_SYSTEM_DTV)

  0009b	83 3d 00 00 00
	00 04		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 4 ; target_acquisition_system
  000a2	75 07		 jne	 SHORT $LN5@damage_sys

; 560  : 			{
; 561  : 				select_viper_target_acquisition_system (TARGET_ACQUISITION_SYSTEM_OFF);

  000a4	6a 00		 push	 0
  000a6	e8 00 00 00 00	 call	 ?select_viper_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; select_viper_target_acquisition_system
$LN5@damage_sys:

; 562  : 			}
; 563  : 		}
; 564  : 	}
; 565  : 
; 566  : 	////////////////////////////////////////
; 567  : 
; 568  : 	if (damage.laser_designator)

  000ab	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  000ae	c1 e8 02	 shr	 eax, 2
  000b1	83 e0 01	 and	 eax, 1
  000b4	74 3d		 je	 SHORT $LN8@damage_sys

; 569  : 	{
; 570  : 		if (!viper_damage.laser_designator)

  000b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000bb	c1 e8 02	 shr	 eax, 2
  000be	83 e0 01	 and	 eax, 1
  000c1	75 30		 jne	 SHORT $LN8@damage_sys

; 571  : 		{
; 572  : 			activate_viper_master_caution ();

  000c3	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 573  : 
; 574  : 			viper_damage.laser_designator = TRUE;

  000c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000cd	83 c8 04	 or	 eax, 4
  000d0	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 575  : 
; 576  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  000d5	6a 00		 push	 0
  000d7	68 00 10 00 00	 push	 4096			; 00001000H
  000dc	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 577  : 
; 578  : 			set_laser_is_active(FALSE);

  000e1	6a 00		 push	 0
  000e3	e8 00 00 00 00	 call	 ?set_laser_is_active@@YGXH@Z ; set_laser_is_active

; 579  : 
; 580  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_LASER_DESIGNATOR_FAILURE);

  000e8	6a 06		 push	 6
  000ea	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  000ed	50		 push	 eax
  000ee	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN8@damage_sys:

; 581  : 		}
; 582  : 	}
; 583  : 
; 584  : 	////////////////////////////////////////
; 585  : 
; 586  : 	if (damage.radar_jammer)

  000f3	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  000f6	c1 e8 03	 shr	 eax, 3
  000f9	83 e0 01	 and	 eax, 1
  000fc	0f 84 55 01 00
	00		 je	 $LN10@damage_sys

; 587  : 	{
; 588  : 		if (!viper_damage.radar_jammer)

  00102	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00107	c1 e8 03	 shr	 eax, 3
  0010a	83 e0 01	 and	 eax, 1
  0010d	0f 85 44 01 00
	00		 jne	 $LN10@damage_sys

; 589  : 		{
; 590  : 			activate_viper_master_caution ();

  00113	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 591  : 
; 592  : 			viper_damage.radar_jammer = TRUE;

  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0011d	83 c8 08	 or	 eax, 8
  00120	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 593  : 
; 594  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00125	6a 00		 push	 0
  00127	68 00 10 00 00	 push	 4096			; 00001000H
  0012c	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 595  : 
; 596  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_RADAR_JAMMER_FAILURE);

  00131	6a 08		 push	 8
  00133	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00136	50		 push	 eax
  00137	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 597  : 
; 598  : 			if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_RADAR_JAMMER_ON))

  0013c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00143	74 0c		 je	 SHORT $LN59@damage_sys
  00145	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0014a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0014c	89 4d b8	 mov	 DWORD PTR tv148[ebp], ecx
  0014f	eb 1d		 jmp	 SHORT $LN60@damage_sys
$LN59@damage_sys:
  00151	68 56 02 00 00	 push	 598			; 00000256H
  00156	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0015b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00161	52		 push	 edx
  00162	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00167	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv148[ebp], 0
$LN60@damage_sys:
  0016e	b8 01 00 00 00	 mov	 eax, 1
  00173	85 c0		 test	 eax, eax
  00175	74 09		 je	 SHORT $LN61@damage_sys
  00177	c7 45 b4 a8 00
	00 00		 mov	 DWORD PTR tv155[ebp], 168 ; 000000a8H
  0017e	eb 1d		 jmp	 SHORT $LN62@damage_sys
$LN61@damage_sys:
  00180	68 56 02 00 00	 push	 598			; 00000256H
  00185	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0018a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00190	51		 push	 ecx
  00191	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00196	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN62@damage_sys:
  0019d	68 a8 00 00 00	 push	 168			; 000000a8H
  001a2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001a8	52		 push	 edx
  001a9	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv148[ebp], 1116
  001b0	8b 4d b4	 mov	 ecx, DWORD PTR tv155[ebp]
  001b3	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  001ba	ff d2		 call	 edx
  001bc	85 c0		 test	 eax, eax
  001be	0f 84 93 00 00
	00		 je	 $LN10@damage_sys

; 599  : 			{
; 600  : 				set_client_server_entity_int_value (get_gunship_entity (), INT_TYPE_RADAR_JAMMER_ON, FALSE);

  001c4	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001cb	74 0c		 je	 SHORT $LN63@damage_sys
  001cd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001d2	8b 08		 mov	 ecx, DWORD PTR [eax]
  001d4	89 4d b8	 mov	 DWORD PTR tv168[ebp], ecx
  001d7	eb 21		 jmp	 SHORT $LN64@damage_sys
$LN63@damage_sys:
  001d9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z@4JA
  001df	83 c2 52	 add	 edx, 82			; 00000052H
  001e2	52		 push	 edx
  001e3	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ed	50		 push	 eax
  001ee	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001f3	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv168[ebp], 0
$LN64@damage_sys:
  001fa	b9 01 00 00 00	 mov	 ecx, 1
  001ff	85 c9		 test	 ecx, ecx
  00201	74 09		 je	 SHORT $LN65@damage_sys
  00203	c7 45 b4 a8 00
	00 00		 mov	 DWORD PTR tv176[ebp], 168 ; 000000a8H
  0020a	eb 21		 jmp	 SHORT $LN66@damage_sys
$LN65@damage_sys:
  0020c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z@4JA
  00212	83 c2 52	 add	 edx, 82			; 00000052H
  00215	52		 push	 edx
  00216	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0021b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00220	50		 push	 eax
  00221	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00226	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv176[ebp], 0
$LN66@damage_sys:
  0022d	6a 00		 push	 0
  0022f	68 a8 00 00 00	 push	 168			; 000000a8H
  00234	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0023a	51		 push	 ecx
  0023b	69 55 b8 b8 08
	00 00		 imul	 edx, DWORD PTR tv168[ebp], 2232
  00242	8b 45 b4	 mov	 eax, DWORD PTR tv176[ebp]
  00245	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  0024c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00252	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  00255	ff d0		 call	 eax
$LN10@damage_sys:

; 601  : 			}
; 602  : 		}
; 603  : 	}
; 604  : 
; 605  : 	////////////////////////////////////////
; 606  : 
; 607  : 	if (damage.infra_red_jammer)

  00257	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0025a	c1 e8 04	 shr	 eax, 4
  0025d	83 e0 01	 and	 eax, 1
  00260	0f 84 4f 01 00
	00		 je	 $LN13@damage_sys

; 608  : 	{
; 609  : 		if (!viper_damage.infra_red_jammer)

  00266	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0026b	c1 e8 04	 shr	 eax, 4
  0026e	83 e0 01	 and	 eax, 1
  00271	0f 85 3e 01 00
	00		 jne	 $LN13@damage_sys

; 610  : 		{
; 611  : 			activate_viper_master_caution ();

  00277	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 612  : 
; 613  : 			viper_damage.infra_red_jammer = TRUE;

  0027c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00281	83 c8 10	 or	 eax, 16			; 00000010H
  00284	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 614  : 
; 615  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00289	6a 00		 push	 0
  0028b	68 00 10 00 00	 push	 4096			; 00001000H
  00290	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 616  : 
; 617  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_IR_JAMMER_FAILURE);

  00295	6a 09		 push	 9
  00297	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0029a	50		 push	 eax
  0029b	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 618  : 
; 619  : 			if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_INFRA_RED_JAMMER_ON))

  002a0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  002a7	74 0c		 je	 SHORT $LN67@damage_sys
  002a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002ae	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b0	89 4d b8	 mov	 DWORD PTR tv200[ebp], ecx
  002b3	eb 1d		 jmp	 SHORT $LN68@damage_sys
$LN67@damage_sys:
  002b5	68 6b 02 00 00	 push	 619			; 0000026bH
  002ba	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  002bf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002c5	52		 push	 edx
  002c6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002cb	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv200[ebp], 0
$LN68@damage_sys:
  002d2	b8 01 00 00 00	 mov	 eax, 1
  002d7	85 c0		 test	 eax, eax
  002d9	74 09		 je	 SHORT $LN69@damage_sys
  002db	c7 45 b4 68 00
	00 00		 mov	 DWORD PTR tv207[ebp], 104 ; 00000068H
  002e2	eb 1d		 jmp	 SHORT $LN70@damage_sys
$LN69@damage_sys:
  002e4	68 6b 02 00 00	 push	 619			; 0000026bH
  002e9	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002f4	51		 push	 ecx
  002f5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002fa	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv207[ebp], 0
$LN70@damage_sys:
  00301	6a 68		 push	 104			; 00000068H
  00303	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00309	52		 push	 edx
  0030a	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv200[ebp], 1116
  00311	8b 4d b4	 mov	 ecx, DWORD PTR tv207[ebp]
  00314	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0031b	ff d2		 call	 edx
  0031d	85 c0		 test	 eax, eax
  0031f	0f 84 90 00 00
	00		 je	 $LN13@damage_sys

; 620  : 			{
; 621  : 				set_client_server_entity_int_value (get_gunship_entity (), INT_TYPE_INFRA_RED_JAMMER_ON, FALSE);

  00325	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0032c	74 0c		 je	 SHORT $LN71@damage_sys
  0032e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00333	8b 08		 mov	 ecx, DWORD PTR [eax]
  00335	89 4d b8	 mov	 DWORD PTR tv220[ebp], ecx
  00338	eb 21		 jmp	 SHORT $LN72@damage_sys
$LN71@damage_sys:
  0033a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z@4JA
  00340	83 c2 67	 add	 edx, 103		; 00000067H
  00343	52		 push	 edx
  00344	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00349	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0034e	50		 push	 eax
  0034f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00354	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv220[ebp], 0
$LN72@damage_sys:
  0035b	b9 01 00 00 00	 mov	 ecx, 1
  00360	85 c9		 test	 ecx, ecx
  00362	74 09		 je	 SHORT $LN73@damage_sys
  00364	c7 45 b4 68 00
	00 00		 mov	 DWORD PTR tv228[ebp], 104 ; 00000068H
  0036b	eb 21		 jmp	 SHORT $LN74@damage_sys
$LN73@damage_sys:
  0036d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z@4JA
  00373	83 c2 67	 add	 edx, 103		; 00000067H
  00376	52		 push	 edx
  00377	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0037c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00381	50		 push	 eax
  00382	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00387	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv228[ebp], 0
$LN74@damage_sys:
  0038e	6a 00		 push	 0
  00390	6a 68		 push	 104			; 00000068H
  00392	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00398	51		 push	 ecx
  00399	69 55 b8 b8 08
	00 00		 imul	 edx, DWORD PTR tv220[ebp], 2232
  003a0	8b 45 b4	 mov	 eax, DWORD PTR tv228[ebp]
  003a3	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  003aa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  003b0	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  003b3	ff d0		 call	 eax
$LN13@damage_sys:

; 622  : 			}
; 623  : 		}
; 624  : 	}
; 625  : 
; 626  : 	////////////////////////////////////////
; 627  : 
; 628  : 	if (damage.navigation_computer)

  003b5	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  003b8	c1 e8 05	 shr	 eax, 5
  003bb	83 e0 01	 and	 eax, 1
  003be	74 36		 je	 SHORT $LN16@damage_sys

; 629  : 	{
; 630  : 		if (!viper_damage.navigation_computer)

  003c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  003c5	c1 e8 05	 shr	 eax, 5
  003c8	83 e0 01	 and	 eax, 1
  003cb	75 29		 jne	 SHORT $LN16@damage_sys

; 631  : 		{
; 632  : 			activate_viper_master_caution ();

  003cd	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 633  : 
; 634  : 			viper_damage.navigation_computer = TRUE;

  003d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  003d7	83 c8 20	 or	 eax, 32			; 00000020H
  003da	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 635  : 
; 636  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  003df	6a 00		 push	 0
  003e1	68 00 10 00 00	 push	 4096			; 00001000H
  003e6	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 637  : 
; 638  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_NAV_COMPUTER_FAILURE);

  003eb	6a 0a		 push	 10			; 0000000aH
  003ed	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  003f0	50		 push	 eax
  003f1	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN16@damage_sys:

; 639  : 		}
; 640  : 	}
; 641  : 
; 642  : 	////////////////////////////////////////
; 643  : 
; 644  : 	if (damage.communications)

  003f6	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  003f9	c1 e8 06	 shr	 eax, 6
  003fc	83 e0 01	 and	 eax, 1
  003ff	74 36		 je	 SHORT $LN18@damage_sys

; 645  : 	{
; 646  : 		if (!viper_damage.communications)

  00401	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00406	c1 e8 06	 shr	 eax, 6
  00409	83 e0 01	 and	 eax, 1
  0040c	75 29		 jne	 SHORT $LN18@damage_sys

; 647  : 		{
; 648  : 			activate_viper_master_caution ();

  0040e	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 649  : 
; 650  : 			viper_damage.communications = TRUE;

  00413	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00418	83 c8 40	 or	 eax, 64			; 00000040H
  0041b	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 651  : 
; 652  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00420	6a 00		 push	 0
  00422	68 00 10 00 00	 push	 4096			; 00001000H
  00427	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 653  : 
; 654  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_COMMS_FAILURE);

  0042c	6a 0b		 push	 11			; 0000000bH
  0042e	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00431	50		 push	 eax
  00432	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN18@damage_sys:

; 655  : 		}
; 656  : 	}
; 657  : 
; 658  : 	////////////////////////////////////////
; 659  : 
; 660  : 	if (damage.radar_warning_system)

  00437	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0043a	c1 e8 07	 shr	 eax, 7
  0043d	83 e0 01	 and	 eax, 1
  00440	74 38		 je	 SHORT $LN20@damage_sys

; 661  : 	{
; 662  : 		if (!viper_damage.radar_warning_system)

  00442	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00447	c1 e8 07	 shr	 eax, 7
  0044a	83 e0 01	 and	 eax, 1
  0044d	75 2b		 jne	 SHORT $LN20@damage_sys

; 663  : 		{
; 664  : 			activate_viper_master_caution ();

  0044f	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 665  : 
; 666  : 			viper_damage.radar_warning_system = TRUE;

  00454	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00459	0d 80 00 00 00	 or	 eax, 128		; 00000080H
  0045e	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 667  : 
; 668  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00463	6a 00		 push	 0
  00465	68 00 10 00 00	 push	 4096			; 00001000H
  0046a	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 669  : 
; 670  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_RADAR_WARNING_FAILURE);

  0046f	6a 0c		 push	 12			; 0000000cH
  00471	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00474	50		 push	 eax
  00475	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN20@damage_sys:

; 671  : 		}
; 672  : 	}
; 673  : 
; 674  : 	////////////////////////////////////////
; 675  : 
; 676  : 	if (!get_global_simple_avionics ())

  0047a	83 3d 6c 03 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+876, 0
  00481	75 53		 jne	 SHORT $LN22@damage_sys

; 677  : 	{
; 678  : 		if (damage.hidss)

  00483	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00486	c1 e8 08	 shr	 eax, 8
  00489	83 e0 01	 and	 eax, 1
  0048c	74 48		 je	 SHORT $LN22@damage_sys

; 679  : 		{
; 680  : 			if (!viper_damage.hidss)

  0048e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00493	c1 e8 08	 shr	 eax, 8
  00496	83 e0 01	 and	 eax, 1
  00499	75 3b		 jne	 SHORT $LN22@damage_sys

; 681  : 			{
; 682  : 				activate_viper_master_caution ();

  0049b	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 683  : 
; 684  : 				viper_damage.hidss = TRUE;

  004a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  004a5	0d 00 01 00 00	 or	 eax, 256		; 00000100H
  004aa	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 685  : 
; 686  : 				dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  004af	6a 00		 push	 0
  004b1	68 00 10 00 00	 push	 4096			; 00001000H
  004b6	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 687  : 
; 688  : 				play_client_server_warning_message (en, SPEECH_SYSTEM_HIDSS_FAILURE);

  004bb	6a 0e		 push	 14			; 0000000eH
  004bd	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  004c0	50		 push	 eax
  004c1	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 689  : 
; 690  : 				if (target_acquisition_system == TARGET_ACQUISITION_SYSTEM_HIDSS)

  004c6	83 3d 00 00 00
	00 09		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 9 ; target_acquisition_system
  004cd	75 07		 jne	 SHORT $LN22@damage_sys

; 691  : 				{
; 692  : 					select_viper_target_acquisition_system (TARGET_ACQUISITION_SYSTEM_OFF);

  004cf	6a 00		 push	 0
  004d1	e8 00 00 00 00	 call	 ?select_viper_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; select_viper_target_acquisition_system
$LN22@damage_sys:

; 693  : 				}
; 694  : 			}
; 695  : 		}
; 696  : 	}
; 697  : 
; 698  : 	////////////////////////////////////////
; 699  : 
; 700  : 	if (damage.pilot_lh_mfd)

  004d6	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  004d9	c1 e8 09	 shr	 eax, 9
  004dc	83 e0 01	 and	 eax, 1
  004df	74 41		 je	 SHORT $LN26@damage_sys

; 701  : 	{
; 702  : 		if (!viper_damage.pilot_lh_mfd)

  004e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  004e6	c1 e8 09	 shr	 eax, 9
  004e9	83 e0 01	 and	 eax, 1
  004ec	75 34		 jne	 SHORT $LN26@damage_sys

; 703  : 		{
; 704  : 			activate_viper_master_caution ();

  004ee	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 705  : 
; 706  : 			viper_damage.pilot_lh_mfd = TRUE;

  004f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  004f8	0d 00 02 00 00	 or	 eax, 512		; 00000200H
  004fd	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 707  : 
; 708  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00502	6a 00		 push	 0
  00504	68 00 10 00 00	 push	 4096			; 00001000H
  00509	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 709  : 
; 710  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  0050e	6a 11		 push	 17			; 00000011H
  00510	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00513	50		 push	 eax
  00514	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 711  : 
; 712  : 			select_viper_mfd_mode (VIPER_MFD_MODE_DAMAGED, VIPER_MFD_LOCATION_PILOT_LHS);

  00519	6a 00		 push	 0
  0051b	6a 01		 push	 1
  0051d	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN26@damage_sys:

; 713  : 		}
; 714  : 	}
; 715  : 
; 716  : 	////////////////////////////////////////
; 717  : 
; 718  : 	if (damage.pilot_rh_mfd)

  00522	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00525	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  00528	83 e0 01	 and	 eax, 1
  0052b	74 41		 je	 SHORT $LN28@damage_sys

; 719  : 	{
; 720  : 		if (!viper_damage.pilot_rh_mfd)

  0052d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00532	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  00535	83 e0 01	 and	 eax, 1
  00538	75 34		 jne	 SHORT $LN28@damage_sys

; 721  : 		{
; 722  : 			activate_viper_master_caution ();

  0053a	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 723  : 
; 724  : 			viper_damage.pilot_rh_mfd = TRUE;

  0053f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00544	0d 00 04 00 00	 or	 eax, 1024		; 00000400H
  00549	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 725  : 
; 726  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0054e	6a 00		 push	 0
  00550	68 00 10 00 00	 push	 4096			; 00001000H
  00555	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 727  : 
; 728  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  0055a	6a 11		 push	 17			; 00000011H
  0055c	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0055f	50		 push	 eax
  00560	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 729  : 
; 730  : 			select_viper_mfd_mode (VIPER_MFD_MODE_DAMAGED, VIPER_MFD_LOCATION_PILOT_RHS);

  00565	6a 01		 push	 1
  00567	6a 01		 push	 1
  00569	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN28@damage_sys:

; 731  : 		}
; 732  : 	}
; 733  : 
; 734  : 	////////////////////////////////////////
; 735  : 
; 736  : 	if (damage.co_pilot_lh_mfd)

  0056e	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00571	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00574	83 e0 01	 and	 eax, 1
  00577	74 41		 je	 SHORT $LN30@damage_sys

; 737  : 	{
; 738  : 		if (!viper_damage.co_pilot_lh_mfd)

  00579	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0057e	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00581	83 e0 01	 and	 eax, 1
  00584	75 34		 jne	 SHORT $LN30@damage_sys

; 739  : 		{
; 740  : 			activate_viper_master_caution ();

  00586	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 741  : 
; 742  : 			viper_damage.co_pilot_lh_mfd = TRUE;

  0058b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00590	0d 00 08 00 00	 or	 eax, 2048		; 00000800H
  00595	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 743  : 
; 744  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0059a	6a 00		 push	 0
  0059c	68 00 10 00 00	 push	 4096			; 00001000H
  005a1	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 745  : 
; 746  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  005a6	6a 11		 push	 17			; 00000011H
  005a8	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  005ab	50		 push	 eax
  005ac	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 747  : 
; 748  : 			select_viper_mfd_mode (VIPER_MFD_MODE_DAMAGED, VIPER_MFD_LOCATION_CO_PILOT_LHS);

  005b1	6a 02		 push	 2
  005b3	6a 01		 push	 1
  005b5	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN30@damage_sys:

; 749  : 		}
; 750  : 	}
; 751  : 
; 752  : 	////////////////////////////////////////
; 753  : 
; 754  : 	if (damage.co_pilot_rh_mfd)

  005ba	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  005bd	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  005c0	83 e0 01	 and	 eax, 1
  005c3	74 41		 je	 SHORT $LN32@damage_sys

; 755  : 	{
; 756  : 		if (!viper_damage.co_pilot_rh_mfd)

  005c5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  005ca	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  005cd	83 e0 01	 and	 eax, 1
  005d0	75 34		 jne	 SHORT $LN32@damage_sys

; 757  : 		{
; 758  : 			activate_viper_master_caution ();

  005d2	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 759  : 
; 760  : 			viper_damage.co_pilot_rh_mfd = TRUE;

  005d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  005dc	0d 00 10 00 00	 or	 eax, 4096		; 00001000H
  005e1	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 761  : 
; 762  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  005e6	6a 00		 push	 0
  005e8	68 00 10 00 00	 push	 4096			; 00001000H
  005ed	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 763  : 
; 764  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  005f2	6a 11		 push	 17			; 00000011H
  005f4	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  005f7	50		 push	 eax
  005f8	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 765  : 
; 766  : 			select_viper_mfd_mode (VIPER_MFD_MODE_DAMAGED, VIPER_MFD_LOCATION_CO_PILOT_RHS);

  005fd	6a 03		 push	 3
  005ff	6a 01		 push	 1
  00601	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN32@damage_sys:

; 767  : 		}
; 768  : 	}
; 769  : 
; 770  : 	////////////////////////////////////////
; 771  : 
; 772  : 	if (damage.pilot_dfd)

  00606	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00609	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  0060c	83 e0 01	 and	 eax, 1
  0060f	74 41		 je	 SHORT $LN34@damage_sys

; 773  : 	{
; 774  : 		if (!viper_damage.pilot_dfd)

  00611	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00616	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  00619	83 e0 01	 and	 eax, 1
  0061c	75 34		 jne	 SHORT $LN34@damage_sys

; 775  : 		{
; 776  : 			activate_viper_master_caution ();

  0061e	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 777  : 
; 778  : 			viper_damage.pilot_dfd = TRUE;

  00623	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00628	0d 00 20 00 00	 or	 eax, 8192		; 00002000H
  0062d	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 779  : 
; 780  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00632	6a 00		 push	 0
  00634	68 00 10 00 00	 push	 4096			; 00001000H
  00639	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 781  : 
; 782  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  0063e	6a 11		 push	 17			; 00000011H
  00640	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00643	50		 push	 eax
  00644	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 783  : 
; 784  : 			select_viper_mfd_mode (VIPER_MFD_MODE_DAMAGED, VIPER_MFD_LOCATION_PILOT_DFD);

  00649	6a 04		 push	 4
  0064b	6a 01		 push	 1
  0064d	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN34@damage_sys:

; 785  : 		}
; 786  : 	}
; 787  : 
; 788  : 	////////////////////////////////////////
; 789  : 
; 790  : 	if (damage.co_pilot_dfd)

  00652	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00655	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00658	83 e0 01	 and	 eax, 1
  0065b	74 41		 je	 SHORT $LN36@damage_sys

; 791  : 	{
; 792  : 		if (!viper_damage.co_pilot_dfd)

  0065d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00662	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00665	83 e0 01	 and	 eax, 1
  00668	75 34		 jne	 SHORT $LN36@damage_sys

; 793  : 		{
; 794  : 			activate_viper_master_caution ();

  0066a	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 795  : 
; 796  : 			viper_damage.co_pilot_dfd = TRUE;

  0066f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00674	0d 00 40 00 00	 or	 eax, 16384		; 00004000H
  00679	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 797  : 
; 798  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0067e	6a 00		 push	 0
  00680	68 00 10 00 00	 push	 4096			; 00001000H
  00685	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 799  : 
; 800  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  0068a	6a 11		 push	 17			; 00000011H
  0068c	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0068f	50		 push	 eax
  00690	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 801  : 
; 802  : 			select_viper_mfd_mode (VIPER_MFD_MODE_DAMAGED, VIPER_MFD_LOCATION_CO_PILOT_DFD);

  00695	6a 05		 push	 5
  00697	6a 01		 push	 1
  00699	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN36@damage_sys:

; 803  : 		}
; 804  : 	}
; 805  : 
; 806  : 	////////////////////////////////////////
; 807  : 
; 808  : 	if (damage.pnvs)

  0069e	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  006a1	c1 e8 0f	 shr	 eax, 15			; 0000000fH
  006a4	83 e0 01	 and	 eax, 1
  006a7	74 42		 je	 SHORT $LN38@damage_sys

; 809  : 	{
; 810  : 		if (!viper_damage.pnvs)

  006a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  006ae	c1 e8 0f	 shr	 eax, 15			; 0000000fH
  006b1	83 e0 01	 and	 eax, 1
  006b4	75 35		 jne	 SHORT $LN38@damage_sys

; 811  : 		{
; 812  : 			activate_viper_master_caution ();

  006b6	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 813  : 
; 814  : 			viper_damage.pnvs = TRUE;

  006bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  006c0	0d 00 80 00 00	 or	 eax, 32768		; 00008000H
  006c5	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 815  : 
; 816  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  006ca	6a 00		 push	 0
  006cc	68 00 10 00 00	 push	 4096			; 00001000H
  006d1	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 817  : 
; 818  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_PNVS_FAILURE);

  006d6	6a 15		 push	 21			; 00000015H
  006d8	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  006db	50		 push	 eax
  006dc	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 819  : 
; 820  : 			night_vision_system_active = FALSE;

  006e1	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?night_vision_system_active@@3HA, 0 ; night_vision_system_active
$LN38@damage_sys:

; 821  : 		}
; 822  : 	}
; 823  : 
; 824  : 	////////////////////////////////////////
; 825  : 
; 826  : 	if (damage.gun_jammed)

  006eb	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  006ee	c1 e8 10	 shr	 eax, 16			; 00000010H
  006f1	83 e0 01	 and	 eax, 1
  006f4	74 38		 je	 SHORT $LN40@damage_sys

; 827  : 	{
; 828  : 		if (!viper_damage.gun_jammed)

  006f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  006fb	c1 e8 10	 shr	 eax, 16			; 00000010H
  006fe	83 e0 01	 and	 eax, 1
  00701	75 2b		 jne	 SHORT $LN40@damage_sys

; 829  : 		{
; 830  : 			activate_viper_master_caution ();

  00703	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 831  : 
; 832  : 			viper_damage.gun_jammed = TRUE;

  00708	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0070d	0d 00 00 01 00	 or	 eax, 65536		; 00010000H
  00712	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 833  : 
; 834  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00717	6a 00		 push	 0
  00719	68 00 10 00 00	 push	 4096			; 00001000H
  0071e	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 835  : 
; 836  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_GUN_JAMMED);

  00723	6a 17		 push	 23			; 00000017H
  00725	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00728	50		 push	 eax
  00729	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN40@damage_sys:

; 837  : 		}
; 838  : 	}
; 839  : 
; 840  : 	////////////////////////////////////////
; 841  : 
; 842  : 	if (damage.lh_wing_tip_mount)

  0072e	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00731	c1 e8 11	 shr	 eax, 17			; 00000011H
  00734	83 e0 01	 and	 eax, 1
  00737	74 38		 je	 SHORT $LN42@damage_sys

; 843  : 	{
; 844  : 		if (!viper_damage.lh_wing_tip_mount)

  00739	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0073e	c1 e8 11	 shr	 eax, 17			; 00000011H
  00741	83 e0 01	 and	 eax, 1
  00744	75 2b		 jne	 SHORT $LN42@damage_sys

; 845  : 		{
; 846  : 			activate_viper_master_caution ();

  00746	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 847  : 
; 848  : 			viper_damage.lh_wing_tip_mount = TRUE;

  0074b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00750	0d 00 00 02 00	 or	 eax, 131072		; 00020000H
  00755	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 849  : 
; 850  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0075a	6a 00		 push	 0
  0075c	68 00 10 00 00	 push	 4096			; 00001000H
  00761	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 851  : 
; 852  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  00766	6a 18		 push	 24			; 00000018H
  00768	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0076b	50		 push	 eax
  0076c	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN42@damage_sys:

; 853  : 		}
; 854  : 	}
; 855  : 
; 856  : 	////////////////////////////////////////
; 857  : 
; 858  : 	if (damage.lh_outer_pylon)

  00771	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00774	c1 e8 12	 shr	 eax, 18			; 00000012H
  00777	83 e0 01	 and	 eax, 1
  0077a	74 38		 je	 SHORT $LN44@damage_sys

; 859  : 	{
; 860  : 		if (!viper_damage.lh_outer_pylon)

  0077c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00781	c1 e8 12	 shr	 eax, 18			; 00000012H
  00784	83 e0 01	 and	 eax, 1
  00787	75 2b		 jne	 SHORT $LN44@damage_sys

; 861  : 		{
; 862  : 			activate_viper_master_caution ();

  00789	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 863  : 
; 864  : 			viper_damage.lh_outer_pylon = TRUE;

  0078e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00793	0d 00 00 04 00	 or	 eax, 262144		; 00040000H
  00798	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 865  : 
; 866  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0079d	6a 00		 push	 0
  0079f	68 00 10 00 00	 push	 4096			; 00001000H
  007a4	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 867  : 
; 868  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  007a9	6a 18		 push	 24			; 00000018H
  007ab	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  007ae	50		 push	 eax
  007af	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN44@damage_sys:

; 869  : 		}
; 870  : 	}
; 871  : 
; 872  : 	////////////////////////////////////////
; 873  : 
; 874  : 	if (damage.lh_inner_pylon)

  007b4	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  007b7	c1 e8 13	 shr	 eax, 19			; 00000013H
  007ba	83 e0 01	 and	 eax, 1
  007bd	74 38		 je	 SHORT $LN46@damage_sys

; 875  : 	{
; 876  : 		if (!viper_damage.lh_inner_pylon)

  007bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  007c4	c1 e8 13	 shr	 eax, 19			; 00000013H
  007c7	83 e0 01	 and	 eax, 1
  007ca	75 2b		 jne	 SHORT $LN46@damage_sys

; 877  : 		{
; 878  : 			activate_viper_master_caution ();

  007cc	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 879  : 
; 880  : 			viper_damage.lh_inner_pylon = TRUE;

  007d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  007d6	0d 00 00 08 00	 or	 eax, 524288		; 00080000H
  007db	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 881  : 
; 882  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  007e0	6a 00		 push	 0
  007e2	68 00 10 00 00	 push	 4096			; 00001000H
  007e7	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 883  : 
; 884  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  007ec	6a 18		 push	 24			; 00000018H
  007ee	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  007f1	50		 push	 eax
  007f2	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN46@damage_sys:

; 885  : 		}
; 886  : 	}
; 887  : 
; 888  : 	////////////////////////////////////////
; 889  : 
; 890  : 	if (damage.rh_wing_tip_mount)

  007f7	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  007fa	c1 e8 14	 shr	 eax, 20			; 00000014H
  007fd	83 e0 01	 and	 eax, 1
  00800	74 38		 je	 SHORT $LN48@damage_sys

; 891  : 	{
; 892  : 		if (!viper_damage.rh_wing_tip_mount)

  00802	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00807	c1 e8 14	 shr	 eax, 20			; 00000014H
  0080a	83 e0 01	 and	 eax, 1
  0080d	75 2b		 jne	 SHORT $LN48@damage_sys

; 893  : 		{
; 894  : 			activate_viper_master_caution ();

  0080f	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 895  : 
; 896  : 			viper_damage.rh_wing_tip_mount = TRUE;

  00814	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00819	0d 00 00 10 00	 or	 eax, 1048576		; 00100000H
  0081e	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 897  : 
; 898  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00823	6a 00		 push	 0
  00825	68 00 10 00 00	 push	 4096			; 00001000H
  0082a	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 899  : 
; 900  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  0082f	6a 18		 push	 24			; 00000018H
  00831	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00834	50		 push	 eax
  00835	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN48@damage_sys:

; 901  : 		}
; 902  : 	}
; 903  : 
; 904  : 	////////////////////////////////////////
; 905  : 
; 906  : 	if (damage.rh_outer_pylon)

  0083a	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0083d	c1 e8 15	 shr	 eax, 21			; 00000015H
  00840	83 e0 01	 and	 eax, 1
  00843	74 38		 je	 SHORT $LN50@damage_sys

; 907  : 	{
; 908  : 		if (!viper_damage.rh_outer_pylon)

  00845	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0084a	c1 e8 15	 shr	 eax, 21			; 00000015H
  0084d	83 e0 01	 and	 eax, 1
  00850	75 2b		 jne	 SHORT $LN50@damage_sys

; 909  : 		{
; 910  : 			activate_viper_master_caution ();

  00852	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 911  : 
; 912  : 			viper_damage.rh_outer_pylon = TRUE;

  00857	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0085c	0d 00 00 20 00	 or	 eax, 2097152		; 00200000H
  00861	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 913  : 
; 914  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00866	6a 00		 push	 0
  00868	68 00 10 00 00	 push	 4096			; 00001000H
  0086d	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 915  : 
; 916  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  00872	6a 18		 push	 24			; 00000018H
  00874	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00877	50		 push	 eax
  00878	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN50@damage_sys:

; 917  : 		}
; 918  : 	}
; 919  : 
; 920  : 	////////////////////////////////////////
; 921  : 
; 922  : 	if (damage.rh_inner_pylon)

  0087d	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00880	c1 e8 16	 shr	 eax, 22			; 00000016H
  00883	83 e0 01	 and	 eax, 1
  00886	74 38		 je	 SHORT $LN52@damage_sys

; 923  : 	{
; 924  : 		if (!viper_damage.rh_inner_pylon)

  00888	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0088d	c1 e8 16	 shr	 eax, 22			; 00000016H
  00890	83 e0 01	 and	 eax, 1
  00893	75 2b		 jne	 SHORT $LN52@damage_sys

; 925  : 		{
; 926  : 			activate_viper_master_caution ();

  00895	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 927  : 
; 928  : 			viper_damage.rh_inner_pylon = TRUE;

  0089a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0089f	0d 00 00 40 00	 or	 eax, 4194304		; 00400000H
  008a4	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 929  : 
; 930  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  008a9	6a 00		 push	 0
  008ab	68 00 10 00 00	 push	 4096			; 00001000H
  008b0	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 931  : 
; 932  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  008b5	6a 18		 push	 24			; 00000018H
  008b7	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  008ba	50		 push	 eax
  008bb	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN52@damage_sys:

; 933  : 		}
; 934  : 	}
; 935  : 
; 936  : 	////////////////////////////////////////
; 937  : 
; 938  : 	if (damage.chaff_dispenser)

  008c0	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  008c3	c1 e8 17	 shr	 eax, 23			; 00000017H
  008c6	83 e0 01	 and	 eax, 1
  008c9	74 38		 je	 SHORT $LN54@damage_sys

; 939  : 	{
; 940  : 		if (!viper_damage.chaff_dispenser)

  008cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  008d0	c1 e8 17	 shr	 eax, 23			; 00000017H
  008d3	83 e0 01	 and	 eax, 1
  008d6	75 2b		 jne	 SHORT $LN54@damage_sys

; 941  : 		{
; 942  : 			activate_viper_master_caution ();

  008d8	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 943  : 
; 944  : 			viper_damage.chaff_dispenser = TRUE;

  008dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  008e2	0d 00 00 80 00	 or	 eax, 8388608		; 00800000H
  008e7	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 945  : 
; 946  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  008ec	6a 00		 push	 0
  008ee	68 00 10 00 00	 push	 4096			; 00001000H
  008f3	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 947  : 
; 948  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_CHAFF_DISPENSER_DAMAGED);

  008f8	6a 19		 push	 25			; 00000019H
  008fa	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  008fd	50		 push	 eax
  008fe	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN54@damage_sys:

; 949  : 		}
; 950  : 	}
; 951  : 
; 952  : 	////////////////////////////////////////
; 953  : 
; 954  : 	if (damage.flare_dispenser)

  00903	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00906	c1 e8 18	 shr	 eax, 24			; 00000018H
  00909	83 e0 01	 and	 eax, 1
  0090c	74 38		 je	 SHORT $LN56@damage_sys

; 955  : 	{
; 956  : 		if (!viper_damage.flare_dispenser)

  0090e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00913	c1 e8 18	 shr	 eax, 24			; 00000018H
  00916	83 e0 01	 and	 eax, 1
  00919	75 2b		 jne	 SHORT $LN56@damage_sys

; 957  : 		{
; 958  : 			activate_viper_master_caution ();

  0091b	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution

; 959  : 
; 960  : 			viper_damage.flare_dispenser = TRUE;

  00920	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00925	0d 00 00 00 01	 or	 eax, 16777216		; 01000000H
  0092a	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 961  : 
; 962  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0092f	6a 00		 push	 0
  00931	68 00 10 00 00	 push	 4096			; 00001000H
  00936	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 963  : 
; 964  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_FLARE_DISPENSER_DAMAGED);

  0093b	6a 1a		 push	 26			; 0000001aH
  0093d	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00940	50		 push	 eax
  00941	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN56@damage_sys:

; 965  : 		}
; 966  : 	}
; 967  : 
; 968  : 	////////////////////////////////////////
; 969  : 
; 970  : 	set_viper_weapon_damage_status ();

  00946	e8 00 00 00 00	 call	 ?set_viper_weapon_damage_status@@YGXXZ ; set_viper_weapon_damage_status

; 971  : }

  0094b	5f		 pop	 edi
  0094c	5e		 pop	 esi
  0094d	5b		 pop	 ebx
  0094e	8b e5		 mov	 esp, ebp
  00950	5d		 pop	 ebp
  00951	c2 04 00	 ret	 4
?damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z ENDP	; damage_systems
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
;	COMDAT ?notify_viper_avionics_of_dynamics_fault@@YGXI@Z
_TEXT	SEGMENT
_damage$ = 8						; size = 4
?notify_viper_avionics_of_dynamics_fault@@YGXI@Z PROC	; notify_viper_avionics_of_dynamics_fault, COMDAT

; 1028 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1029 : 	if (damage & DYNAMICS_DAMAGE_MAIN_ROTOR)

  00009	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0000c	83 e0 02	 and	 eax, 2
  0000f	74 05		 je	 SHORT $LN2@notify_vip

; 1030 : 	{
; 1031 : 		activate_viper_master_caution ();

  00011	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN2@notify_vip:

; 1032 : 	}
; 1033 : 
; 1034 : 	if (damage & DYNAMICS_DAMAGE_TAIL_ROTOR)

  00016	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00019	83 e0 04	 and	 eax, 4
  0001c	74 05		 je	 SHORT $LN3@notify_vip

; 1035 : 	{
; 1036 : 		activate_viper_master_caution ();

  0001e	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN3@notify_vip:

; 1037 : 	}
; 1038 : 
; 1039 : 	if (damage & DYNAMICS_DAMAGE_LEFT_ENGINE)

  00023	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00026	83 e0 08	 and	 eax, 8
  00029	74 05		 je	 SHORT $LN4@notify_vip

; 1040 : 	{
; 1041 : 		activate_viper_master_caution ();

  0002b	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN4@notify_vip:

; 1042 : 	}
; 1043 : 
; 1044 : 	if (damage & DYNAMICS_DAMAGE_RIGHT_ENGINE)

  00030	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00033	83 e0 10	 and	 eax, 16			; 00000010H
  00036	74 05		 je	 SHORT $LN5@notify_vip

; 1045 : 	{
; 1046 : 		activate_viper_master_caution ();

  00038	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN5@notify_vip:

; 1047 : 	}
; 1048 : 
; 1049 : 	if (damage & DYNAMICS_DAMAGE_LEFT_ENGINE_FIRE)

  0003d	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00040	83 e0 20	 and	 eax, 32			; 00000020H
  00043	74 05		 je	 SHORT $LN6@notify_vip

; 1050 : 	{
; 1051 : 		activate_viper_master_caution ();

  00045	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN6@notify_vip:

; 1052 : 	}
; 1053 : 
; 1054 : 	if (damage & DYNAMICS_DAMAGE_RIGHT_ENGINE_FIRE)

  0004a	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0004d	83 e0 40	 and	 eax, 64			; 00000040H
  00050	74 05		 je	 SHORT $LN7@notify_vip

; 1055 : 	{
; 1056 : 		activate_viper_master_caution ();

  00052	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN7@notify_vip:

; 1057 : 	}
; 1058 : 
; 1059 : 	if (damage & DYNAMICS_DAMAGE_LOW_HYDRAULICS)

  00057	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0005a	25 80 00 00 00	 and	 eax, 128		; 00000080H
  0005f	74 05		 je	 SHORT $LN8@notify_vip

; 1060 : 	{
; 1061 : 		activate_viper_master_caution ();

  00061	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN8@notify_vip:

; 1062 : 	}
; 1063 : 
; 1064 : 	if (damage & DYNAMICS_DAMAGE_SECONDARY_HYDRAULICS)

  00066	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00069	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  0006e	74 05		 je	 SHORT $LN9@notify_vip

; 1065 : 	{
; 1066 : 		activate_viper_master_caution ();

  00070	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN9@notify_vip:

; 1067 : 	}
; 1068 : 
; 1069 : 	if (damage & DYNAMICS_DAMAGE_STABILISER)

  00075	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00078	25 00 01 00 00	 and	 eax, 256		; 00000100H
  0007d	74 05		 je	 SHORT $LN10@notify_vip

; 1070 : 	{
; 1071 : 		activate_viper_master_caution ();

  0007f	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN10@notify_vip:

; 1072 : 	}
; 1073 : 
; 1074 : 	if (damage & DYNAMICS_DAMAGE_FUEL_LEAK)

  00084	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00087	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0008c	74 05		 je	 SHORT $LN11@notify_vip

; 1075 : 	{
; 1076 : 		activate_viper_master_caution ();

  0008e	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN11@notify_vip:

; 1077 : 	}
; 1078 : 
; 1079 : 	if (damage & DYNAMICS_DAMAGE_LOW_OIL_PRESSURE)

  00093	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00096	25 00 04 00 00	 and	 eax, 1024		; 00000400H
  0009b	74 05		 je	 SHORT $LN12@notify_vip

; 1080 : 	{
; 1081 : 		activate_viper_master_caution ();

  0009d	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN12@notify_vip:

; 1082 : 	}
; 1083 : 
; 1084 : 	if (damage & DYNAMICS_DAMAGE_HIGH_OIL_PRESSURE)

  000a2	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  000a5	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  000aa	74 05		 je	 SHORT $LN1@notify_vip

; 1085 : 	{
; 1086 : 		activate_viper_master_caution ();

  000ac	e8 00 00 00 00	 call	 ?activate_viper_master_caution@@YGXXZ ; activate_viper_master_caution
$LN1@notify_vip:

; 1087 : 	}
; 1088 : }

  000b1	5f		 pop	 edi
  000b2	5e		 pop	 esi
  000b3	5b		 pop	 ebx
  000b4	8b e5		 mov	 esp, ebp
  000b6	5d		 pop	 ebp
  000b7	c2 04 00	 ret	 4
?notify_viper_avionics_of_dynamics_fault@@YGXI@Z ENDP	; notify_viper_avionics_of_dynamics_fault
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
;	COMDAT ?damage_viper@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z
_TEXT	SEGMENT
tv64 = -76						; size = 4
_viper_damage$ = -8					; size = 4
_damage$ = -4						; size = 4
_damage_level$ = 8					; size = 4
?damage_viper@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z PROC	; damage_viper, COMDAT

; 978  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 979  : 	unsigned int
; 980  : 		damage;
; 981  : 
; 982  : 	viper_damage_flags
; 983  : 		viper_damage;
; 984  : 
; 985  : 	damage = 0;

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _damage$[ebp], 0

; 986  : 
; 987  : 	switch (damage_level)

  00010	8b 45 08	 mov	 eax, DWORD PTR _damage_level$[ebp]
  00013	89 45 b4	 mov	 DWORD PTR tv64[ebp], eax
  00016	83 7d b4 00	 cmp	 DWORD PTR tv64[ebp], 0
  0001a	74 15		 je	 SHORT $LN4@damage_vip
  0001c	83 7d b4 01	 cmp	 DWORD PTR tv64[ebp], 1
  00020	74 47		 je	 SHORT $LN5@damage_vip
  00022	83 7d b4 02	 cmp	 DWORD PTR tv64[ebp], 2
  00026	0f 84 a8 00 00
	00		 je	 $LN6@damage_vip
  0002c	e9 3e 01 00 00	 jmp	 $LN7@damage_vip
$LN4@damage_vip:

; 988  : 	{
; 989  : 		case GUNSHIP_DAMAGE_LEVEL_LIGHT:
; 990  : 		{
; 991  : 			damage |= 1 << (rand16 () & 0x1f);

  00031	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0003b	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00040	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00045	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0004b	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0004e	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00054	83 e1 1f	 and	 ecx, 31			; 0000001fH
  00057	ba 01 00 00 00	 mov	 edx, 1
  0005c	d3 e2		 shl	 edx, cl
  0005e	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00061	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 992  : 
; 993  : 			break;

  00064	e9 17 01 00 00	 jmp	 $LN2@damage_vip
$LN5@damage_vip:

; 994  : 		}
; 995  : 		case GUNSHIP_DAMAGE_LEVEL_MEDIUM:
; 996  : 		{
; 997  : 			damage |= 1 << (rand16 () & 0x1f);

  00069	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00073	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00078	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0007d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00083	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00086	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0008c	83 e1 1f	 and	 ecx, 31			; 0000001fH
  0008f	ba 01 00 00 00	 mov	 edx, 1
  00094	d3 e2		 shl	 edx, cl
  00096	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00099	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 998  : 			damage |= 1 << (rand16 () & 0x1f);

  0009c	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000a6	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  000ab	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  000b0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000b6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000b9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000bf	83 e1 1f	 and	 ecx, 31			; 0000001fH
  000c2	ba 01 00 00 00	 mov	 edx, 1
  000c7	d3 e2		 shl	 edx, cl
  000c9	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  000cc	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 999  : 
; 1000 : 			break;

  000cf	e9 ac 00 00 00	 jmp	 $LN2@damage_vip
$LN6@damage_vip:

; 1001 : 		}
; 1002 : 		case GUNSHIP_DAMAGE_LEVEL_HEAVY:
; 1003 : 		{
; 1004 : 			damage |= 1 << (rand16 () & 0x1f);

  000d4	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000de	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  000e3	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  000e8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000ee	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000f1	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000f7	83 e1 1f	 and	 ecx, 31			; 0000001fH
  000fa	ba 01 00 00 00	 mov	 edx, 1
  000ff	d3 e2		 shl	 edx, cl
  00101	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00104	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 1005 : 			damage |= 1 << (rand16 () & 0x1f);

  00107	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00111	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00116	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0011b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00121	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00124	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0012a	83 e1 1f	 and	 ecx, 31			; 0000001fH
  0012d	ba 01 00 00 00	 mov	 edx, 1
  00132	d3 e2		 shl	 edx, cl
  00134	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00137	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 1006 : 			damage |= 1 << (rand16 () & 0x1f);

  0013a	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00144	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00149	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0014e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00154	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00157	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0015d	83 e1 1f	 and	 ecx, 31			; 0000001fH
  00160	ba 01 00 00 00	 mov	 edx, 1
  00165	d3 e2		 shl	 edx, cl
  00167	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  0016a	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 1007 : 
; 1008 : 			break;

  0016d	eb 11		 jmp	 SHORT $LN2@damage_vip
$LN7@damage_vip:

; 1009 : 		}
; 1010 : 		default:
; 1011 : 		{
; 1012 : 			debug_fatal ("Invalid damage_level = %d", damage_level);

  0016f	8b 45 08	 mov	 eax, DWORD PTR _damage_level$[ebp]
  00172	50		 push	 eax
  00173	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@
  00178	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  0017d	83 c4 08	 add	 esp, 8
$LN2@damage_vip:

; 1013 : 
; 1014 : 			break;
; 1015 : 		}
; 1016 : 	}
; 1017 : 
; 1018 : 	viper_damage.flags = damage;

  00180	8b 45 fc	 mov	 eax, DWORD PTR _damage$[ebp]
  00183	89 45 f8	 mov	 DWORD PTR _viper_damage$[ebp], eax

; 1019 : 
; 1020 : 	damage_systems (viper_damage);

  00186	8b 45 f8	 mov	 eax, DWORD PTR _viper_damage$[ebp]
  00189	50		 push	 eax
  0018a	e8 00 00 00 00	 call	 ?damage_systems@@YGXTVIPER_DAMAGE_FLAGS@@@Z ; damage_systems

; 1021 : }

  0018f	5f		 pop	 edi
  00190	5e		 pop	 esi
  00191	5b		 pop	 ebx
  00192	8b e5		 mov	 esp, ebp
  00194	5d		 pop	 ebp
  00195	c2 04 00	 ret	 4
?damage_viper@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z ENDP	; damage_viper
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
;	COMDAT ?repair_viper_weapon_damage@@YGXXZ
_TEXT	SEGMENT
?repair_viper_weapon_damage@@YGXXZ PROC			; repair_viper_weapon_damage, COMDAT

; 499  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 500  : 	viper_damage.gun_jammed			= FALSE;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0000e	25 ff ff fe ff	 and	 eax, -65537		; fffeffffH
  00013	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 501  : 	viper_damage.lh_wing_tip_mount	= FALSE;

  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0001d	25 ff ff fd ff	 and	 eax, -131073		; fffdffffH
  00022	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 502  : 	viper_damage.lh_outer_pylon		= FALSE;

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0002c	25 ff ff fb ff	 and	 eax, -262145		; fffbffffH
  00031	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 503  : 	viper_damage.lh_inner_pylon		= FALSE;

  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0003b	25 ff ff f7 ff	 and	 eax, -524289		; fff7ffffH
  00040	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 504  : 	viper_damage.rh_wing_tip_mount	= FALSE;

  00045	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0004a	25 ff ff ef ff	 and	 eax, -1048577		; ffefffffH
  0004f	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 505  : 	viper_damage.rh_outer_pylon		= FALSE;

  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00059	25 ff ff df ff	 and	 eax, -2097153		; ffdfffffH
  0005e	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 506  : 	viper_damage.rh_inner_pylon		= FALSE;

  00063	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00068	25 ff ff bf ff	 and	 eax, -4194305		; ffbfffffH
  0006d	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 507  : 	viper_damage.chaff_dispenser		= FALSE;

  00072	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00077	25 ff ff 7f ff	 and	 eax, -8388609		; ff7fffffH
  0007c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 508  : 	viper_damage.flare_dispenser		= FALSE;

  00081	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00086	25 ff ff ff fe	 and	 eax, -16777217		; feffffffH
  0008b	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 509  : 
; 510  : 	set_viper_weapon_damage_status ();

  00090	e8 00 00 00 00	 call	 ?set_viper_weapon_damage_status@@YGXXZ ; set_viper_weapon_damage_status

; 511  : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c3		 ret	 0
?repair_viper_weapon_damage@@YGXXZ ENDP			; repair_viper_weapon_damage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
;	COMDAT ?partially_repair_viper_damage@@YGXXZ
_TEXT	SEGMENT
tv494 = -68						; size = 4
tv479 = -68						; size = 4
tv464 = -68						; size = 4
tv449 = -68						; size = 4
tv434 = -68						; size = 4
tv419 = -68						; size = 4
tv404 = -68						; size = 4
tv389 = -68						; size = 4
tv374 = -68						; size = 4
tv359 = -68						; size = 4
tv339 = -68						; size = 4
tv319 = -68						; size = 4
tv299 = -68						; size = 4
tv279 = -68						; size = 4
tv259 = -68						; size = 4
tv239 = -68						; size = 4
tv224 = -68						; size = 4
tv209 = -68						; size = 4
tv194 = -68						; size = 4
tv179 = -68						; size = 4
tv164 = -68						; size = 4
tv149 = -68						; size = 4
tv134 = -68						; size = 4
tv87 = -68						; size = 4
tv73 = -68						; size = 4
?partially_repair_viper_damage@@YGXXZ PROC		; partially_repair_viper_damage, COMDAT

; 281  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 282  : 	fire_extinguisher_used = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fire_extinguisher_used@@3HA, 0 ; fire_extinguisher_used

; 283  : 
; 284  : 	////////////////////////////////////////
; 285  : 
; 286  : 	if (viper_damage.flir)

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00018	83 e0 01	 and	 eax, 1
  0001b	74 5e		 je	 SHORT $LN2@partially_

; 287  : 	{
; 288  : 		viper_damage.flir = frand1 () > 0.90;

  0001d	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00027	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0002c	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00031	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00037	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0003a	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00040	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00044	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0004c	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00054	76 09		 jbe	 SHORT $LN34@partially_
  00056	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv73[ebp], 1
  0005d	eb 07		 jmp	 SHORT $LN35@partially_
$LN34@partially_:
  0005f	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN35@partially_:
  00066	8b 55 bc	 mov	 edx, DWORD PTR tv73[ebp]
  00069	83 e2 01	 and	 edx, 1
  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00071	83 e0 fe	 and	 eax, -2			; fffffffeH
  00074	0b c2		 or	 eax, edx
  00076	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN2@partially_:

; 289  : 	}
; 290  : 
; 291  : 	////////////////////////////////////////
; 292  : 
; 293  : 	if (viper_damage.dtv)

  0007b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00080	d1 e8		 shr	 eax, 1
  00082	83 e0 01	 and	 eax, 1
  00085	74 60		 je	 SHORT $LN3@partially_

; 294  : 	{
; 295  : 		viper_damage.dtv = frand1 () > 0.90;

  00087	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00091	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00096	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0009b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000a1	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000a4	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000aa	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  000ae	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  000b6	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  000be	76 09		 jbe	 SHORT $LN36@partially_
  000c0	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv87[ebp], 1
  000c7	eb 07		 jmp	 SHORT $LN37@partially_
$LN36@partially_:
  000c9	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv87[ebp], 0
$LN37@partially_:
  000d0	8b 55 bc	 mov	 edx, DWORD PTR tv87[ebp]
  000d3	83 e2 01	 and	 edx, 1
  000d6	d1 e2		 shl	 edx, 1
  000d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000dd	83 e0 fd	 and	 eax, -3			; fffffffdH
  000e0	0b c2		 or	 eax, edx
  000e2	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN3@partially_:

; 296  : 	}
; 297  : 
; 298  : 	////////////////////////////////////////
; 299  : 
; 300  : 	if (viper_damage.laser_designator)

  000e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000ec	c1 e8 02	 shr	 eax, 2
  000ef	83 e0 01	 and	 eax, 1
  000f2	74 61		 je	 SHORT $LN4@partially_

; 301  : 	{
; 302  : 		viper_damage.laser_designator = frand1 () > 0.90;

  000f4	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000fe	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00103	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00108	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0010e	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00111	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00117	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  0011b	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00123	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  0012b	76 09		 jbe	 SHORT $LN38@partially_
  0012d	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv134[ebp], 1
  00134	eb 07		 jmp	 SHORT $LN39@partially_
$LN38@partially_:
  00136	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN39@partially_:
  0013d	8b 55 bc	 mov	 edx, DWORD PTR tv134[ebp]
  00140	83 e2 01	 and	 edx, 1
  00143	c1 e2 02	 shl	 edx, 2
  00146	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0014b	83 e0 fb	 and	 eax, -5			; fffffffbH
  0014e	0b c2		 or	 eax, edx
  00150	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN4@partially_:

; 303  : 	}
; 304  : 
; 305  : 	////////////////////////////////////////
; 306  : 
; 307  : 	if (viper_damage.radar_jammer)

  00155	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0015a	c1 e8 03	 shr	 eax, 3
  0015d	83 e0 01	 and	 eax, 1
  00160	74 61		 je	 SHORT $LN5@partially_

; 308  : 	{
; 309  : 		viper_damage.radar_jammer = frand1 () > 0.90;

  00162	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0016c	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00171	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00176	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0017c	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0017f	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00185	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00189	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00191	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00199	76 09		 jbe	 SHORT $LN40@partially_
  0019b	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv149[ebp], 1
  001a2	eb 07		 jmp	 SHORT $LN41@partially_
$LN40@partially_:
  001a4	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN41@partially_:
  001ab	8b 55 bc	 mov	 edx, DWORD PTR tv149[ebp]
  001ae	83 e2 01	 and	 edx, 1
  001b1	c1 e2 03	 shl	 edx, 3
  001b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001b9	83 e0 f7	 and	 eax, -9			; fffffff7H
  001bc	0b c2		 or	 eax, edx
  001be	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN5@partially_:

; 310  : 	}
; 311  : 
; 312  : 	////////////////////////////////////////
; 313  : 
; 314  : 	if (viper_damage.infra_red_jammer)

  001c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001c8	c1 e8 04	 shr	 eax, 4
  001cb	83 e0 01	 and	 eax, 1
  001ce	74 61		 je	 SHORT $LN6@partially_

; 315  : 	{
; 316  : 		viper_damage.infra_red_jammer = frand1 () > 0.90;

  001d0	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  001da	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  001df	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  001e4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  001ea	c1 f9 10	 sar	 ecx, 16			; 00000010H
  001ed	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  001f3	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  001f7	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  001ff	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00207	76 09		 jbe	 SHORT $LN42@partially_
  00209	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv164[ebp], 1
  00210	eb 07		 jmp	 SHORT $LN43@partially_
$LN42@partially_:
  00212	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv164[ebp], 0
$LN43@partially_:
  00219	8b 55 bc	 mov	 edx, DWORD PTR tv164[ebp]
  0021c	83 e2 01	 and	 edx, 1
  0021f	c1 e2 04	 shl	 edx, 4
  00222	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00227	83 e0 ef	 and	 eax, -17		; ffffffefH
  0022a	0b c2		 or	 eax, edx
  0022c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN6@partially_:

; 317  : 	}
; 318  : 
; 319  : 	////////////////////////////////////////
; 320  : 
; 321  : 	if (viper_damage.navigation_computer)

  00231	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00236	c1 e8 05	 shr	 eax, 5
  00239	83 e0 01	 and	 eax, 1
  0023c	74 61		 je	 SHORT $LN7@partially_

; 322  : 	{
; 323  : 		viper_damage.navigation_computer = frand1 () > 0.90;

  0023e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00248	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0024d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00252	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00258	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0025b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00261	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00265	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0026d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00275	76 09		 jbe	 SHORT $LN44@partially_
  00277	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv179[ebp], 1
  0027e	eb 07		 jmp	 SHORT $LN45@partially_
$LN44@partially_:
  00280	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN45@partially_:
  00287	8b 55 bc	 mov	 edx, DWORD PTR tv179[ebp]
  0028a	83 e2 01	 and	 edx, 1
  0028d	c1 e2 05	 shl	 edx, 5
  00290	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00295	83 e0 df	 and	 eax, -33		; ffffffdfH
  00298	0b c2		 or	 eax, edx
  0029a	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN7@partially_:

; 324  : 	}
; 325  : 
; 326  : 	////////////////////////////////////////
; 327  : 
; 328  : 	if (viper_damage.communications)

  0029f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  002a4	c1 e8 06	 shr	 eax, 6
  002a7	83 e0 01	 and	 eax, 1
  002aa	74 61		 je	 SHORT $LN8@partially_

; 329  : 	{
; 330  : 		viper_damage.communications = frand1 () > 0.90;

  002ac	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  002b6	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  002bb	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  002c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  002c6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  002c9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  002cf	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  002d3	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  002db	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  002e3	76 09		 jbe	 SHORT $LN46@partially_
  002e5	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv194[ebp], 1
  002ec	eb 07		 jmp	 SHORT $LN47@partially_
$LN46@partially_:
  002ee	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv194[ebp], 0
$LN47@partially_:
  002f5	8b 55 bc	 mov	 edx, DWORD PTR tv194[ebp]
  002f8	83 e2 01	 and	 edx, 1
  002fb	c1 e2 06	 shl	 edx, 6
  002fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00303	83 e0 bf	 and	 eax, -65		; ffffffbfH
  00306	0b c2		 or	 eax, edx
  00308	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN8@partially_:

; 331  : 	}
; 332  : 
; 333  : 	////////////////////////////////////////
; 334  : 
; 335  : 	if (viper_damage.radar_warning_system)

  0030d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00312	c1 e8 07	 shr	 eax, 7
  00315	83 e0 01	 and	 eax, 1
  00318	74 63		 je	 SHORT $LN9@partially_

; 336  : 	{
; 337  : 		viper_damage.radar_warning_system = frand1 () > 0.90;

  0031a	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00324	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00329	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0032e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00334	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00337	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0033d	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00341	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00349	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00351	76 09		 jbe	 SHORT $LN48@partially_
  00353	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv209[ebp], 1
  0035a	eb 07		 jmp	 SHORT $LN49@partially_
$LN48@partially_:
  0035c	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv209[ebp], 0
$LN49@partially_:
  00363	8b 55 bc	 mov	 edx, DWORD PTR tv209[ebp]
  00366	83 e2 01	 and	 edx, 1
  00369	c1 e2 07	 shl	 edx, 7
  0036c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00371	25 7f ff ff ff	 and	 eax, -129		; ffffff7fH
  00376	0b c2		 or	 eax, edx
  00378	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN9@partially_:

; 338  : 	}
; 339  : 
; 340  : 	////////////////////////////////////////
; 341  : 
; 342  : 	if (viper_damage.hidss)

  0037d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00382	c1 e8 08	 shr	 eax, 8
  00385	83 e0 01	 and	 eax, 1
  00388	74 63		 je	 SHORT $LN10@partially_

; 343  : 	{
; 344  : 		viper_damage.hidss = frand1 () > 0.90;

  0038a	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00394	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00399	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0039e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  003a4	c1 f9 10	 sar	 ecx, 16			; 00000010H
  003a7	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  003ad	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  003b1	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  003b9	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  003c1	76 09		 jbe	 SHORT $LN50@partially_
  003c3	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv224[ebp], 1
  003ca	eb 07		 jmp	 SHORT $LN51@partially_
$LN50@partially_:
  003cc	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv224[ebp], 0
$LN51@partially_:
  003d3	8b 55 bc	 mov	 edx, DWORD PTR tv224[ebp]
  003d6	83 e2 01	 and	 edx, 1
  003d9	c1 e2 08	 shl	 edx, 8
  003dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  003e1	25 ff fe ff ff	 and	 eax, -257		; fffffeffH
  003e6	0b c2		 or	 eax, edx
  003e8	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN10@partially_:

; 345  : 	}
; 346  : 
; 347  : 	////////////////////////////////////////
; 348  : 
; 349  : 	if (viper_damage.pilot_lh_mfd)

  003ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  003f2	c1 e8 09	 shr	 eax, 9
  003f5	83 e0 01	 and	 eax, 1
  003f8	74 79		 je	 SHORT $LN12@partially_

; 350  : 	{
; 351  : 		viper_damage.pilot_lh_mfd = frand1 () > 0.90;

  003fa	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00404	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00409	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0040e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00414	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00417	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0041d	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00421	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00429	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00431	76 09		 jbe	 SHORT $LN52@partially_
  00433	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv239[ebp], 1
  0043a	eb 07		 jmp	 SHORT $LN53@partially_
$LN52@partially_:
  0043c	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv239[ebp], 0
$LN53@partially_:
  00443	8b 55 bc	 mov	 edx, DWORD PTR tv239[ebp]
  00446	83 e2 01	 and	 edx, 1
  00449	c1 e2 09	 shl	 edx, 9
  0044c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00451	25 ff fd ff ff	 and	 eax, -513		; fffffdffH
  00456	0b c2		 or	 eax, edx
  00458	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 352  : 
; 353  : 		if (!viper_damage.pilot_lh_mfd)

  0045d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00462	c1 e8 09	 shr	 eax, 9
  00465	83 e0 01	 and	 eax, 1
  00468	75 09		 jne	 SHORT $LN12@partially_

; 354  : 		{
; 355  : 			select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_LHS);

  0046a	6a 00		 push	 0
  0046c	6a 00		 push	 0
  0046e	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN12@partially_:

; 356  : 		}
; 357  : 	}
; 358  : 
; 359  : 	////////////////////////////////////////
; 360  : 
; 361  : 	if (viper_damage.pilot_rh_mfd)

  00473	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00478	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  0047b	83 e0 01	 and	 eax, 1
  0047e	74 79		 je	 SHORT $LN14@partially_

; 362  : 	{
; 363  : 		viper_damage.pilot_rh_mfd = frand1 () > 0.90;

  00480	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0048a	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0048f	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00494	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0049a	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0049d	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  004a3	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  004a7	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  004af	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  004b7	76 09		 jbe	 SHORT $LN54@partially_
  004b9	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv259[ebp], 1
  004c0	eb 07		 jmp	 SHORT $LN55@partially_
$LN54@partially_:
  004c2	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv259[ebp], 0
$LN55@partially_:
  004c9	8b 55 bc	 mov	 edx, DWORD PTR tv259[ebp]
  004cc	83 e2 01	 and	 edx, 1
  004cf	c1 e2 0a	 shl	 edx, 10			; 0000000aH
  004d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  004d7	25 ff fb ff ff	 and	 eax, -1025		; fffffbffH
  004dc	0b c2		 or	 eax, edx
  004de	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 364  : 
; 365  : 		if (!viper_damage.pilot_rh_mfd)

  004e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  004e8	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  004eb	83 e0 01	 and	 eax, 1
  004ee	75 09		 jne	 SHORT $LN14@partially_

; 366  : 		{
; 367  : 			select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_RHS);

  004f0	6a 01		 push	 1
  004f2	6a 00		 push	 0
  004f4	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN14@partially_:

; 368  : 		}
; 369  : 	}
; 370  : 
; 371  : 	////////////////////////////////////////
; 372  : 
; 373  : 	if (viper_damage.co_pilot_lh_mfd)

  004f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  004fe	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00501	83 e0 01	 and	 eax, 1
  00504	74 79		 je	 SHORT $LN16@partially_

; 374  : 	{
; 375  : 		viper_damage.co_pilot_lh_mfd = frand1 () > 0.90;

  00506	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00510	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00515	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0051a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00520	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00523	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00529	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  0052d	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00535	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  0053d	76 09		 jbe	 SHORT $LN56@partially_
  0053f	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv279[ebp], 1
  00546	eb 07		 jmp	 SHORT $LN57@partially_
$LN56@partially_:
  00548	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv279[ebp], 0
$LN57@partially_:
  0054f	8b 55 bc	 mov	 edx, DWORD PTR tv279[ebp]
  00552	83 e2 01	 and	 edx, 1
  00555	c1 e2 0b	 shl	 edx, 11			; 0000000bH
  00558	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0055d	25 ff f7 ff ff	 and	 eax, -2049		; fffff7ffH
  00562	0b c2		 or	 eax, edx
  00564	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 376  : 
; 377  : 		if (!viper_damage.co_pilot_lh_mfd)

  00569	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0056e	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00571	83 e0 01	 and	 eax, 1
  00574	75 09		 jne	 SHORT $LN16@partially_

; 378  : 		{
; 379  : 			select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_CO_PILOT_LHS);

  00576	6a 02		 push	 2
  00578	6a 00		 push	 0
  0057a	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN16@partially_:

; 380  : 		}
; 381  : 	}
; 382  : 
; 383  : 	////////////////////////////////////////
; 384  : 
; 385  : 	if (viper_damage.co_pilot_rh_mfd)

  0057f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00584	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  00587	83 e0 01	 and	 eax, 1
  0058a	74 79		 je	 SHORT $LN18@partially_

; 386  : 	{
; 387  : 		viper_damage.co_pilot_rh_mfd = frand1 () > 0.90;

  0058c	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00596	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0059b	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  005a0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  005a6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  005a9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  005af	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  005b3	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  005bb	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  005c3	76 09		 jbe	 SHORT $LN58@partially_
  005c5	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv299[ebp], 1
  005cc	eb 07		 jmp	 SHORT $LN59@partially_
$LN58@partially_:
  005ce	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv299[ebp], 0
$LN59@partially_:
  005d5	8b 55 bc	 mov	 edx, DWORD PTR tv299[ebp]
  005d8	83 e2 01	 and	 edx, 1
  005db	c1 e2 0c	 shl	 edx, 12			; 0000000cH
  005de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  005e3	25 ff ef ff ff	 and	 eax, -4097		; ffffefffH
  005e8	0b c2		 or	 eax, edx
  005ea	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 388  : 
; 389  : 		if (!viper_damage.co_pilot_rh_mfd)

  005ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  005f4	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  005f7	83 e0 01	 and	 eax, 1
  005fa	75 09		 jne	 SHORT $LN18@partially_

; 390  : 		{
; 391  : 			select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_CO_PILOT_RHS);

  005fc	6a 03		 push	 3
  005fe	6a 00		 push	 0
  00600	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN18@partially_:

; 392  : 		}
; 393  : 	}
; 394  : 
; 395  : 	////////////////////////////////////////
; 396  : 
; 397  : 	if (viper_damage.pilot_dfd)

  00605	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0060a	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  0060d	83 e0 01	 and	 eax, 1
  00610	74 79		 je	 SHORT $LN20@partially_

; 398  : 	{
; 399  : 		viper_damage.pilot_dfd = frand1 () > 0.90;

  00612	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0061c	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00621	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00626	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0062c	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0062f	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00635	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00639	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00641	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00649	76 09		 jbe	 SHORT $LN60@partially_
  0064b	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv319[ebp], 1
  00652	eb 07		 jmp	 SHORT $LN61@partially_
$LN60@partially_:
  00654	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv319[ebp], 0
$LN61@partially_:
  0065b	8b 55 bc	 mov	 edx, DWORD PTR tv319[ebp]
  0065e	83 e2 01	 and	 edx, 1
  00661	c1 e2 0d	 shl	 edx, 13			; 0000000dH
  00664	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00669	25 ff df ff ff	 and	 eax, -8193		; ffffdfffH
  0066e	0b c2		 or	 eax, edx
  00670	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 400  : 
; 401  : 		if (!viper_damage.pilot_dfd)

  00675	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0067a	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  0067d	83 e0 01	 and	 eax, 1
  00680	75 09		 jne	 SHORT $LN20@partially_

; 402  : 		{
; 403  : 			select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_DFD);

  00682	6a 04		 push	 4
  00684	6a 00		 push	 0
  00686	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN20@partially_:

; 404  : 		}
; 405  : 	}
; 406  : 
; 407  : 	////////////////////////////////////////
; 408  : 
; 409  : 	if (viper_damage.co_pilot_dfd)

  0068b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00690	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00693	83 e0 01	 and	 eax, 1
  00696	74 79		 je	 SHORT $LN22@partially_

; 410  : 	{
; 411  : 		viper_damage.co_pilot_dfd = frand1 () > 0.90;

  00698	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  006a2	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  006a7	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  006ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  006b2	c1 f9 10	 sar	 ecx, 16			; 00000010H
  006b5	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  006bb	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  006bf	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  006c7	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  006cf	76 09		 jbe	 SHORT $LN62@partially_
  006d1	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv339[ebp], 1
  006d8	eb 07		 jmp	 SHORT $LN63@partially_
$LN62@partially_:
  006da	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv339[ebp], 0
$LN63@partially_:
  006e1	8b 55 bc	 mov	 edx, DWORD PTR tv339[ebp]
  006e4	83 e2 01	 and	 edx, 1
  006e7	c1 e2 0e	 shl	 edx, 14			; 0000000eH
  006ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  006ef	25 ff bf ff ff	 and	 eax, -16385		; ffffbfffH
  006f4	0b c2		 or	 eax, edx
  006f6	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 412  : 
; 413  : 		if (!viper_damage.co_pilot_dfd)

  006fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00700	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00703	83 e0 01	 and	 eax, 1
  00706	75 09		 jne	 SHORT $LN22@partially_

; 414  : 		{
; 415  : 			select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_DFD);

  00708	6a 04		 push	 4
  0070a	6a 00		 push	 0
  0070c	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN22@partially_:

; 416  : 		}
; 417  : 	}
; 418  : 
; 419  : 	////////////////////////////////////////
; 420  : 
; 421  : 	if (viper_damage.pnvs)

  00711	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00716	c1 e8 0f	 shr	 eax, 15			; 0000000fH
  00719	83 e0 01	 and	 eax, 1
  0071c	74 63		 je	 SHORT $LN23@partially_

; 422  : 	{
; 423  : 		viper_damage.pnvs = frand1 () > 0.90;

  0071e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00728	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0072d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00732	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00738	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0073b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00741	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00745	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0074d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00755	76 09		 jbe	 SHORT $LN64@partially_
  00757	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv359[ebp], 1
  0075e	eb 07		 jmp	 SHORT $LN65@partially_
$LN64@partially_:
  00760	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv359[ebp], 0
$LN65@partially_:
  00767	8b 55 bc	 mov	 edx, DWORD PTR tv359[ebp]
  0076a	83 e2 01	 and	 edx, 1
  0076d	c1 e2 0f	 shl	 edx, 15			; 0000000fH
  00770	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00775	25 ff 7f ff ff	 and	 eax, -32769		; ffff7fffH
  0077a	0b c2		 or	 eax, edx
  0077c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN23@partially_:

; 424  : 	}
; 425  : 
; 426  : 	////////////////////////////////////////
; 427  : 
; 428  : 	if (viper_damage.gun_jammed)

  00781	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00786	c1 e8 10	 shr	 eax, 16			; 00000010H
  00789	83 e0 01	 and	 eax, 1
  0078c	74 63		 je	 SHORT $LN24@partially_

; 429  : 	{
; 430  : 		viper_damage.gun_jammed = frand1 () > 0.90;

  0078e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00798	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0079d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  007a2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  007a8	c1 f9 10	 sar	 ecx, 16			; 00000010H
  007ab	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  007b1	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  007b5	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  007bd	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  007c5	76 09		 jbe	 SHORT $LN66@partially_
  007c7	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv374[ebp], 1
  007ce	eb 07		 jmp	 SHORT $LN67@partially_
$LN66@partially_:
  007d0	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv374[ebp], 0
$LN67@partially_:
  007d7	8b 55 bc	 mov	 edx, DWORD PTR tv374[ebp]
  007da	83 e2 01	 and	 edx, 1
  007dd	c1 e2 10	 shl	 edx, 16			; 00000010H
  007e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  007e5	25 ff ff fe ff	 and	 eax, -65537		; fffeffffH
  007ea	0b c2		 or	 eax, edx
  007ec	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN24@partially_:

; 431  : 	}
; 432  : 
; 433  : 	////////////////////////////////////////
; 434  : 
; 435  : 	if (viper_damage.lh_wing_tip_mount)

  007f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  007f6	c1 e8 11	 shr	 eax, 17			; 00000011H
  007f9	83 e0 01	 and	 eax, 1
  007fc	74 63		 je	 SHORT $LN25@partially_

; 436  : 	{
; 437  : 		viper_damage.lh_wing_tip_mount = frand1 () > 0.90;

  007fe	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00808	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0080d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00812	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00818	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0081b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00821	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00825	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0082d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00835	76 09		 jbe	 SHORT $LN68@partially_
  00837	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv389[ebp], 1
  0083e	eb 07		 jmp	 SHORT $LN69@partially_
$LN68@partially_:
  00840	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv389[ebp], 0
$LN69@partially_:
  00847	8b 55 bc	 mov	 edx, DWORD PTR tv389[ebp]
  0084a	83 e2 01	 and	 edx, 1
  0084d	c1 e2 11	 shl	 edx, 17			; 00000011H
  00850	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00855	25 ff ff fd ff	 and	 eax, -131073		; fffdffffH
  0085a	0b c2		 or	 eax, edx
  0085c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN25@partially_:

; 438  : 	}
; 439  : 
; 440  : 	////////////////////////////////////////
; 441  : 
; 442  : 	if (viper_damage.lh_outer_pylon)

  00861	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00866	c1 e8 12	 shr	 eax, 18			; 00000012H
  00869	83 e0 01	 and	 eax, 1
  0086c	74 63		 je	 SHORT $LN26@partially_

; 443  : 	{
; 444  : 		viper_damage.lh_outer_pylon = frand1 () > 0.90;

  0086e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00878	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0087d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00882	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00888	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0088b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00891	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00895	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0089d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  008a5	76 09		 jbe	 SHORT $LN70@partially_
  008a7	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv404[ebp], 1
  008ae	eb 07		 jmp	 SHORT $LN71@partially_
$LN70@partially_:
  008b0	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv404[ebp], 0
$LN71@partially_:
  008b7	8b 55 bc	 mov	 edx, DWORD PTR tv404[ebp]
  008ba	83 e2 01	 and	 edx, 1
  008bd	c1 e2 12	 shl	 edx, 18			; 00000012H
  008c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  008c5	25 ff ff fb ff	 and	 eax, -262145		; fffbffffH
  008ca	0b c2		 or	 eax, edx
  008cc	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN26@partially_:

; 445  : 	}
; 446  : 
; 447  : 	////////////////////////////////////////
; 448  : 
; 449  : 	if (viper_damage.lh_inner_pylon)

  008d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  008d6	c1 e8 13	 shr	 eax, 19			; 00000013H
  008d9	83 e0 01	 and	 eax, 1
  008dc	74 63		 je	 SHORT $LN27@partially_

; 450  : 	{
; 451  : 		viper_damage.lh_inner_pylon = frand1 () > 0.90;

  008de	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  008e8	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  008ed	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  008f2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  008f8	c1 f9 10	 sar	 ecx, 16			; 00000010H
  008fb	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00901	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00905	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0090d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00915	76 09		 jbe	 SHORT $LN72@partially_
  00917	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv419[ebp], 1
  0091e	eb 07		 jmp	 SHORT $LN73@partially_
$LN72@partially_:
  00920	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv419[ebp], 0
$LN73@partially_:
  00927	8b 55 bc	 mov	 edx, DWORD PTR tv419[ebp]
  0092a	83 e2 01	 and	 edx, 1
  0092d	c1 e2 13	 shl	 edx, 19			; 00000013H
  00930	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00935	25 ff ff f7 ff	 and	 eax, -524289		; fff7ffffH
  0093a	0b c2		 or	 eax, edx
  0093c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN27@partially_:

; 452  : 	}
; 453  : 
; 454  : 	////////////////////////////////////////
; 455  : 
; 456  : 	if (viper_damage.rh_wing_tip_mount)

  00941	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00946	c1 e8 14	 shr	 eax, 20			; 00000014H
  00949	83 e0 01	 and	 eax, 1
  0094c	74 63		 je	 SHORT $LN28@partially_

; 457  : 	{
; 458  : 		viper_damage.rh_wing_tip_mount = frand1 () > 0.90;

  0094e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00958	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0095d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00962	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00968	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0096b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00971	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00975	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0097d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00985	76 09		 jbe	 SHORT $LN74@partially_
  00987	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv434[ebp], 1
  0098e	eb 07		 jmp	 SHORT $LN75@partially_
$LN74@partially_:
  00990	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv434[ebp], 0
$LN75@partially_:
  00997	8b 55 bc	 mov	 edx, DWORD PTR tv434[ebp]
  0099a	83 e2 01	 and	 edx, 1
  0099d	c1 e2 14	 shl	 edx, 20			; 00000014H
  009a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  009a5	25 ff ff ef ff	 and	 eax, -1048577		; ffefffffH
  009aa	0b c2		 or	 eax, edx
  009ac	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN28@partially_:

; 459  : 	}
; 460  : 
; 461  : 	////////////////////////////////////////
; 462  : 
; 463  : 	if (viper_damage.rh_outer_pylon)

  009b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  009b6	c1 e8 15	 shr	 eax, 21			; 00000015H
  009b9	83 e0 01	 and	 eax, 1
  009bc	74 63		 je	 SHORT $LN29@partially_

; 464  : 	{
; 465  : 		viper_damage.rh_outer_pylon = frand1 () > 0.90;

  009be	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  009c8	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  009cd	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  009d2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  009d8	c1 f9 10	 sar	 ecx, 16			; 00000010H
  009db	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  009e1	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  009e5	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  009ed	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  009f5	76 09		 jbe	 SHORT $LN76@partially_
  009f7	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv449[ebp], 1
  009fe	eb 07		 jmp	 SHORT $LN77@partially_
$LN76@partially_:
  00a00	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv449[ebp], 0
$LN77@partially_:
  00a07	8b 55 bc	 mov	 edx, DWORD PTR tv449[ebp]
  00a0a	83 e2 01	 and	 edx, 1
  00a0d	c1 e2 15	 shl	 edx, 21			; 00000015H
  00a10	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00a15	25 ff ff df ff	 and	 eax, -2097153		; ffdfffffH
  00a1a	0b c2		 or	 eax, edx
  00a1c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN29@partially_:

; 466  : 	}
; 467  : 
; 468  : 	////////////////////////////////////////
; 469  : 
; 470  : 	if (viper_damage.rh_inner_pylon)

  00a21	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00a26	c1 e8 16	 shr	 eax, 22			; 00000016H
  00a29	83 e0 01	 and	 eax, 1
  00a2c	74 63		 je	 SHORT $LN30@partially_

; 471  : 	{
; 472  : 		viper_damage.rh_inner_pylon = frand1 () > 0.90;

  00a2e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00a38	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00a3d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00a42	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00a48	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00a4b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00a51	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00a55	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00a5d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00a65	76 09		 jbe	 SHORT $LN78@partially_
  00a67	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv464[ebp], 1
  00a6e	eb 07		 jmp	 SHORT $LN79@partially_
$LN78@partially_:
  00a70	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv464[ebp], 0
$LN79@partially_:
  00a77	8b 55 bc	 mov	 edx, DWORD PTR tv464[ebp]
  00a7a	83 e2 01	 and	 edx, 1
  00a7d	c1 e2 16	 shl	 edx, 22			; 00000016H
  00a80	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00a85	25 ff ff bf ff	 and	 eax, -4194305		; ffbfffffH
  00a8a	0b c2		 or	 eax, edx
  00a8c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN30@partially_:

; 473  : 	}
; 474  : 
; 475  : 	////////////////////////////////////////
; 476  : 
; 477  : 	if (viper_damage.chaff_dispenser)

  00a91	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00a96	c1 e8 17	 shr	 eax, 23			; 00000017H
  00a99	83 e0 01	 and	 eax, 1
  00a9c	74 63		 je	 SHORT $LN31@partially_

; 478  : 	{
; 479  : 		viper_damage.chaff_dispenser = frand1 () > 0.90;

  00a9e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00aa8	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00aad	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00ab2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00ab8	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00abb	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00ac1	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00ac5	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00acd	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00ad5	76 09		 jbe	 SHORT $LN80@partially_
  00ad7	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv479[ebp], 1
  00ade	eb 07		 jmp	 SHORT $LN81@partially_
$LN80@partially_:
  00ae0	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv479[ebp], 0
$LN81@partially_:
  00ae7	8b 55 bc	 mov	 edx, DWORD PTR tv479[ebp]
  00aea	83 e2 01	 and	 edx, 1
  00aed	c1 e2 17	 shl	 edx, 23			; 00000017H
  00af0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00af5	25 ff ff 7f ff	 and	 eax, -8388609		; ff7fffffH
  00afa	0b c2		 or	 eax, edx
  00afc	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN31@partially_:

; 480  : 	}
; 481  : 
; 482  : 	////////////////////////////////////////
; 483  : 
; 484  : 	if (viper_damage.flare_dispenser)

  00b01	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00b06	c1 e8 18	 shr	 eax, 24			; 00000018H
  00b09	83 e0 01	 and	 eax, 1
  00b0c	74 63		 je	 SHORT $LN32@partially_

; 485  : 	{
; 486  : 		viper_damage.flare_dispenser = frand1 () > 0.90;

  00b0e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00b18	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00b1d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00b22	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00b28	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00b2b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00b31	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00b35	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00b3d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00b45	76 09		 jbe	 SHORT $LN82@partially_
  00b47	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv494[ebp], 1
  00b4e	eb 07		 jmp	 SHORT $LN83@partially_
$LN82@partially_:
  00b50	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv494[ebp], 0
$LN83@partially_:
  00b57	8b 55 bc	 mov	 edx, DWORD PTR tv494[ebp]
  00b5a	83 e2 01	 and	 edx, 1
  00b5d	c1 e2 18	 shl	 edx, 24			; 00000018H
  00b60	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00b65	25 ff ff ff fe	 and	 eax, -16777217		; feffffffH
  00b6a	0b c2		 or	 eax, edx
  00b6c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage
$LN32@partially_:

; 487  : 	}
; 488  : 
; 489  : 	////////////////////////////////////////
; 490  : 
; 491  : 	set_viper_weapon_damage_status ();

  00b71	e8 00 00 00 00	 call	 ?set_viper_weapon_damage_status@@YGXXZ ; set_viper_weapon_damage_status

; 492  : }

  00b76	5f		 pop	 edi
  00b77	5e		 pop	 esi
  00b78	5b		 pop	 ebx
  00b79	8b e5		 mov	 esp, ebp
  00b7b	5d		 pop	 ebp
  00b7c	c3		 ret	 0
?partially_repair_viper_damage@@YGXXZ ENDP		; partially_repair_viper_damage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
;	COMDAT ?fully_repair_viper_damage@@YGXXZ
_TEXT	SEGMENT
?fully_repair_viper_damage@@YGXXZ PROC			; fully_repair_viper_damage, COMDAT

; 138  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 139  : 	fire_extinguisher_used = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fire_extinguisher_used@@3HA, 0 ; fire_extinguisher_used

; 140  : 
; 141  : 	////////////////////////////////////////
; 142  : 
; 143  : 	viper_damage.flir = FALSE;

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00018	83 e0 fe	 and	 eax, -2			; fffffffeH
  0001b	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 144  : 
; 145  : 	////////////////////////////////////////
; 146  : 
; 147  : 	viper_damage.dtv = FALSE;

  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00025	83 e0 fd	 and	 eax, -3			; fffffffdH
  00028	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 148  : 
; 149  : 	////////////////////////////////////////
; 150  : 
; 151  : 	viper_damage.laser_designator = FALSE;

  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00032	83 e0 fb	 and	 eax, -5			; fffffffbH
  00035	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 152  : 
; 153  : 	////////////////////////////////////////
; 154  : 
; 155  : 	viper_damage.radar_jammer = FALSE;

  0003a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0003f	83 e0 f7	 and	 eax, -9			; fffffff7H
  00042	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 156  : 
; 157  : 	////////////////////////////////////////
; 158  : 
; 159  : 	viper_damage.infra_red_jammer = FALSE;

  00047	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0004c	83 e0 ef	 and	 eax, -17		; ffffffefH
  0004f	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 160  : 
; 161  : 	////////////////////////////////////////
; 162  : 
; 163  : 	viper_damage.navigation_computer = FALSE;

  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00059	83 e0 df	 and	 eax, -33		; ffffffdfH
  0005c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 164  : 
; 165  : 	////////////////////////////////////////
; 166  : 
; 167  : 	viper_damage.communications = FALSE;

  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00066	83 e0 bf	 and	 eax, -65		; ffffffbfH
  00069	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 168  : 
; 169  : 	////////////////////////////////////////
; 170  : 
; 171  : 	viper_damage.radar_warning_system = FALSE;

  0006e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00073	25 7f ff ff ff	 and	 eax, -129		; ffffff7fH
  00078	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 172  : 
; 173  : 	////////////////////////////////////////
; 174  : 
; 175  : 	viper_damage.hidss = FALSE;

  0007d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00082	25 ff fe ff ff	 and	 eax, -257		; fffffeffH
  00087	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 176  : 
; 177  : 	////////////////////////////////////////
; 178  : 
; 179  : 	if (viper_damage.pilot_lh_mfd)

  0008c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00091	c1 e8 09	 shr	 eax, 9
  00094	83 e0 01	 and	 eax, 1
  00097	74 18		 je	 SHORT $LN2@fully_repa

; 180  : 	{
; 181  : 		viper_damage.pilot_lh_mfd = FALSE;

  00099	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0009e	25 ff fd ff ff	 and	 eax, -513		; fffffdffH
  000a3	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 182  : 
; 183  : 		select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_LHS);

  000a8	6a 00		 push	 0
  000aa	6a 00		 push	 0
  000ac	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN2@fully_repa:

; 184  : 	}
; 185  : 
; 186  : 	////////////////////////////////////////
; 187  : 
; 188  : 	if (viper_damage.pilot_rh_mfd)

  000b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000b6	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  000b9	83 e0 01	 and	 eax, 1
  000bc	74 18		 je	 SHORT $LN3@fully_repa

; 189  : 	{
; 190  : 		viper_damage.pilot_rh_mfd = FALSE;

  000be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000c3	25 ff fb ff ff	 and	 eax, -1025		; fffffbffH
  000c8	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 191  : 
; 192  : 		select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_RHS);

  000cd	6a 01		 push	 1
  000cf	6a 00		 push	 0
  000d1	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN3@fully_repa:

; 193  : 	}
; 194  : 
; 195  : 	////////////////////////////////////////
; 196  : 
; 197  : 	if (viper_damage.co_pilot_lh_mfd)

  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000db	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  000de	83 e0 01	 and	 eax, 1
  000e1	74 18		 je	 SHORT $LN4@fully_repa

; 198  : 	{
; 199  : 		viper_damage.co_pilot_lh_mfd = FALSE;

  000e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000e8	25 ff f7 ff ff	 and	 eax, -2049		; fffff7ffH
  000ed	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 200  : 
; 201  : 		select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_LHS);

  000f2	6a 00		 push	 0
  000f4	6a 00		 push	 0
  000f6	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN4@fully_repa:

; 202  : 	}
; 203  : 
; 204  : 	////////////////////////////////////////
; 205  : 
; 206  : 	if (viper_damage.co_pilot_rh_mfd)

  000fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00100	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  00103	83 e0 01	 and	 eax, 1
  00106	74 18		 je	 SHORT $LN5@fully_repa

; 207  : 	{
; 208  : 		viper_damage.co_pilot_rh_mfd = FALSE;

  00108	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0010d	25 ff ef ff ff	 and	 eax, -4097		; ffffefffH
  00112	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 209  : 
; 210  : 		select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_RHS);

  00117	6a 01		 push	 1
  00119	6a 00		 push	 0
  0011b	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN5@fully_repa:

; 211  : 	}
; 212  : 
; 213  : 	////////////////////////////////////////
; 214  : 
; 215  : 	if (viper_damage.pilot_dfd)

  00120	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00125	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  00128	83 e0 01	 and	 eax, 1
  0012b	74 18		 je	 SHORT $LN6@fully_repa

; 216  : 	{
; 217  : 		viper_damage.pilot_dfd = FALSE;

  0012d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00132	25 ff df ff ff	 and	 eax, -8193		; ffffdfffH
  00137	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 218  : 
; 219  : 		select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_PILOT_DFD);

  0013c	6a 04		 push	 4
  0013e	6a 00		 push	 0
  00140	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN6@fully_repa:

; 220  : 	}
; 221  : 
; 222  : 	////////////////////////////////////////
; 223  : 
; 224  : 	if (viper_damage.co_pilot_dfd)

  00145	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0014a	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  0014d	83 e0 01	 and	 eax, 1
  00150	74 18		 je	 SHORT $LN7@fully_repa

; 225  : 	{
; 226  : 		viper_damage.co_pilot_dfd = FALSE;

  00152	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00157	25 ff bf ff ff	 and	 eax, -16385		; ffffbfffH
  0015c	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 227  : 
; 228  : 		select_viper_mfd_mode (VIPER_MFD_MODE_OFF, VIPER_MFD_LOCATION_CO_PILOT_DFD);

  00161	6a 05		 push	 5
  00163	6a 00		 push	 0
  00165	e8 00 00 00 00	 call	 ?select_viper_mfd_mode@@YGXW4VIPER_MFD_MODES@@W4VIPER_MFD_LOCATIONS@@@Z ; select_viper_mfd_mode
$LN7@fully_repa:

; 229  : 	}
; 230  : 
; 231  : 	////////////////////////////////////////
; 232  : 
; 233  : 	viper_damage.pnvs = FALSE;

  0016a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0016f	25 ff 7f ff ff	 and	 eax, -32769		; ffff7fffH
  00174	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 234  : 
; 235  : 	////////////////////////////////////////
; 236  : 
; 237  : 	viper_damage.gun_jammed = FALSE;

  00179	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0017e	25 ff ff fe ff	 and	 eax, -65537		; fffeffffH
  00183	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 238  : 
; 239  : 	////////////////////////////////////////
; 240  : 
; 241  : 	viper_damage.lh_wing_tip_mount = FALSE;

  00188	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0018d	25 ff ff fd ff	 and	 eax, -131073		; fffdffffH
  00192	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 242  : 
; 243  : 	////////////////////////////////////////
; 244  : 
; 245  : 	viper_damage.lh_outer_pylon = FALSE;

  00197	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0019c	25 ff ff fb ff	 and	 eax, -262145		; fffbffffH
  001a1	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 246  : 
; 247  : 	////////////////////////////////////////
; 248  : 
; 249  : 	viper_damage.lh_inner_pylon = FALSE;

  001a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001ab	25 ff ff f7 ff	 and	 eax, -524289		; fff7ffffH
  001b0	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 250  : 
; 251  : 	////////////////////////////////////////
; 252  : 
; 253  : 	viper_damage.rh_wing_tip_mount = FALSE;

  001b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001ba	25 ff ff ef ff	 and	 eax, -1048577		; ffefffffH
  001bf	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 254  : 
; 255  : 	////////////////////////////////////////
; 256  : 
; 257  : 	viper_damage.rh_outer_pylon = FALSE;

  001c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001c9	25 ff ff df ff	 and	 eax, -2097153		; ffdfffffH
  001ce	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 258  : 
; 259  : 	////////////////////////////////////////
; 260  : 
; 261  : 	viper_damage.rh_inner_pylon = FALSE;

  001d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001d8	25 ff ff bf ff	 and	 eax, -4194305		; ffbfffffH
  001dd	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 262  : 
; 263  : 	////////////////////////////////////////
; 264  : 
; 265  : 	viper_damage.chaff_dispenser = FALSE;

  001e2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001e7	25 ff ff 7f ff	 and	 eax, -8388609		; ff7fffffH
  001ec	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 266  : 
; 267  : 	////////////////////////////////////////
; 268  : 
; 269  : 	viper_damage.flare_dispenser = FALSE;

  001f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  001f6	25 ff ff ff fe	 and	 eax, -16777217		; feffffffH
  001fb	a3 00 00 00 00	 mov	 DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A, eax ; viper_damage

; 270  : 
; 271  : 	////////////////////////////////////////
; 272  : 
; 273  : 	set_viper_weapon_damage_status ();

  00200	e8 00 00 00 00	 call	 ?set_viper_weapon_damage_status@@YGXXZ ; set_viper_weapon_damage_status

; 274  : }

  00205	5f		 pop	 edi
  00206	5e		 pop	 esi
  00207	5b		 pop	 ebx
  00208	8b e5		 mov	 esp, ebp
  0020a	5d		 pop	 ebp
  0020b	c3		 ret	 0
?fully_repair_viper_damage@@YGXXZ ENDP			; fully_repair_viper_damage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\viper\vi_dam.c
;	COMDAT ?set_viper_weapon_damage_status@@YGXXZ
_TEXT	SEGMENT
tv200 = -80						; size = 4
tv192 = -76						; size = 4
_weapon_sub_type$ = -8					; size = 4
_en$ = -4						; size = 4
?set_viper_weapon_damage_status@@YGXXZ PROC		; set_viper_weapon_damage_status, COMDAT

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 88   : 	entity
; 89   : 		*en;
; 90   : 
; 91   : 	entity_sub_types
; 92   : 		weapon_sub_type;
; 93   : 
; 94   : 	en = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 95   : 
; 96   : 
; 97   : 	set_client_server_entity_weapon_damage (en, COBRA_CANNON_TURRET, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, viper_damage.gun_jammed);

  00011	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00016	c1 e8 10	 shr	 eax, 16			; 00000010H
  00019	83 e0 01	 and	 eax, 1
  0001c	50		 push	 eax
  0001d	6a 00		 push	 0
  0001f	6a 00		 push	 0
  00021	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00024	51		 push	 ecx
  00025	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 98   : 
; 99   : 	set_client_server_entity_weapon_damage (en, VIPER_LHS_WING_TIP_MOUNT, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, viper_damage.lh_wing_tip_mount);

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0002f	c1 e8 11	 shr	 eax, 17			; 00000011H
  00032	83 e0 01	 and	 eax, 1
  00035	50		 push	 eax
  00036	6a 00		 push	 0
  00038	6a 05		 push	 5
  0003a	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0003d	51		 push	 ecx
  0003e	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 100  : 	set_client_server_entity_weapon_damage (en, VIPER_LHS_OUTER_PYLON, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, viper_damage.lh_outer_pylon);

  00043	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00048	c1 e8 12	 shr	 eax, 18			; 00000012H
  0004b	83 e0 01	 and	 eax, 1
  0004e	50		 push	 eax
  0004f	6a 00		 push	 0
  00051	6a 03		 push	 3
  00053	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00056	51		 push	 ecx
  00057	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 101  : 	set_client_server_entity_weapon_damage (en, VIPER_LHS_INNER_PYLON, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, viper_damage.lh_inner_pylon);

  0005c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00061	c1 e8 13	 shr	 eax, 19			; 00000013H
  00064	83 e0 01	 and	 eax, 1
  00067	50		 push	 eax
  00068	6a 00		 push	 0
  0006a	6a 01		 push	 1
  0006c	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0006f	51		 push	 ecx
  00070	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 102  : 
; 103  : 	set_client_server_entity_weapon_damage (en, VIPER_RHS_WING_TIP_MOUNT, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, viper_damage.rh_wing_tip_mount);

  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0007a	c1 e8 14	 shr	 eax, 20			; 00000014H
  0007d	83 e0 01	 and	 eax, 1
  00080	50		 push	 eax
  00081	6a 00		 push	 0
  00083	6a 06		 push	 6
  00085	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00088	51		 push	 ecx
  00089	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 104  : 	set_client_server_entity_weapon_damage (en, VIPER_RHS_OUTER_PYLON, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, viper_damage.rh_outer_pylon);

  0008e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00093	c1 e8 15	 shr	 eax, 21			; 00000015H
  00096	83 e0 01	 and	 eax, 1
  00099	50		 push	 eax
  0009a	6a 00		 push	 0
  0009c	6a 04		 push	 4
  0009e	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 105  : 	set_client_server_entity_weapon_damage (en, VIPER_RHS_INNER_PYLON, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, viper_damage.rh_inner_pylon);

  000a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000ac	c1 e8 16	 shr	 eax, 22			; 00000016H
  000af	83 e0 01	 and	 eax, 1
  000b2	50		 push	 eax
  000b3	6a 00		 push	 0
  000b5	6a 02		 push	 2
  000b7	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  000ba	51		 push	 ecx
  000bb	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 106  : 
; 107  : 	set_client_server_entity_weapon_damage (en, VIPER_LFHS_CHAFF_DISPENSER, ENTITY_SUB_TYPE_WEAPON_CHAFF, viper_damage.chaff_dispenser);

  000c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000c5	c1 e8 17	 shr	 eax, 23			; 00000017H
  000c8	83 e0 01	 and	 eax, 1
  000cb	50		 push	 eax
  000cc	6a 43		 push	 67			; 00000043H
  000ce	6a 07		 push	 7
  000d0	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  000d3	51		 push	 ecx
  000d4	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 108  : 	set_client_server_entity_weapon_damage (en, VIPER_LBHS_CHAFF_DISPENSER, ENTITY_SUB_TYPE_WEAPON_CHAFF, viper_damage.chaff_dispenser);

  000d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000de	c1 e8 17	 shr	 eax, 23			; 00000017H
  000e1	83 e0 01	 and	 eax, 1
  000e4	50		 push	 eax
  000e5	6a 43		 push	 67			; 00000043H
  000e7	6a 09		 push	 9
  000e9	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  000ec	51		 push	 ecx
  000ed	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 109  : 	set_client_server_entity_weapon_damage (en, VIPER_RFHS_CHAFF_DISPENSER, ENTITY_SUB_TYPE_WEAPON_CHAFF, viper_damage.chaff_dispenser);

  000f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  000f7	c1 e8 17	 shr	 eax, 23			; 00000017H
  000fa	83 e0 01	 and	 eax, 1
  000fd	50		 push	 eax
  000fe	6a 43		 push	 67			; 00000043H
  00100	6a 08		 push	 8
  00102	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00105	51		 push	 ecx
  00106	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 110  : 	set_client_server_entity_weapon_damage (en, VIPER_RBHS_CHAFF_DISPENSER, ENTITY_SUB_TYPE_WEAPON_CHAFF, viper_damage.chaff_dispenser);

  0010b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00110	c1 e8 17	 shr	 eax, 23			; 00000017H
  00113	83 e0 01	 and	 eax, 1
  00116	50		 push	 eax
  00117	6a 43		 push	 67			; 00000043H
  00119	6a 0a		 push	 10			; 0000000aH
  0011b	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0011e	51		 push	 ecx
  0011f	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 111  : 	set_client_server_entity_weapon_damage (en, VIPER_LFHS_FLARE_DISPENSER, ENTITY_SUB_TYPE_WEAPON_FLARE, viper_damage.flare_dispenser);

  00124	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00129	c1 e8 18	 shr	 eax, 24			; 00000018H
  0012c	83 e0 01	 and	 eax, 1
  0012f	50		 push	 eax
  00130	6a 44		 push	 68			; 00000044H
  00132	6a 07		 push	 7
  00134	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00137	51		 push	 ecx
  00138	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 112  : 	set_client_server_entity_weapon_damage (en, VIPER_LBHS_FLARE_DISPENSER, ENTITY_SUB_TYPE_WEAPON_FLARE, viper_damage.flare_dispenser);

  0013d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00142	c1 e8 18	 shr	 eax, 24			; 00000018H
  00145	83 e0 01	 and	 eax, 1
  00148	50		 push	 eax
  00149	6a 44		 push	 68			; 00000044H
  0014b	6a 09		 push	 9
  0014d	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00150	51		 push	 ecx
  00151	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 113  : 	set_client_server_entity_weapon_damage (en, VIPER_RFHS_FLARE_DISPENSER, ENTITY_SUB_TYPE_WEAPON_FLARE, viper_damage.flare_dispenser);

  00156	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  0015b	c1 e8 18	 shr	 eax, 24			; 00000018H
  0015e	83 e0 01	 and	 eax, 1
  00161	50		 push	 eax
  00162	6a 44		 push	 68			; 00000044H
  00164	6a 08		 push	 8
  00166	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00169	51		 push	 ecx
  0016a	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 114  : 	set_client_server_entity_weapon_damage (en, VIPER_RBHS_FLARE_DISPENSER, ENTITY_SUB_TYPE_WEAPON_FLARE, viper_damage.flare_dispenser);

  0016f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?viper_damage@@3TVIPER_DAMAGE_FLAGS@@A ; viper_damage
  00174	c1 e8 18	 shr	 eax, 24			; 00000018H
  00177	83 e0 01	 and	 eax, 1
  0017a	50		 push	 eax
  0017b	6a 44		 push	 68			; 00000044H
  0017d	6a 0a		 push	 10			; 0000000aH
  0017f	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00182	51		 push	 ecx
  00183	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 115  : 
; 116  : 	//
; 117  : 	// check if selected weapon is still available, if not, select next
; 118  : 	//
; 119  : 
; 120  : 	weapon_sub_type = get_local_entity_int_value (en, INT_TYPE_SELECTED_WEAPON);

  00188	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0018c	74 0a		 je	 SHORT $LN5@set_viper_
  0018e	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00191	8b 08		 mov	 ecx, DWORD PTR [eax]
  00193	89 4d b4	 mov	 DWORD PTR tv192[ebp], ecx
  00196	eb 21		 jmp	 SHORT $LN6@set_viper_
$LN5@set_viper_:
  00198	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_viper_weapon_damage_status@@YGXXZ@4JA
  0019e	83 c2 21	 add	 edx, 33			; 00000021H
  001a1	52		 push	 edx
  001a2	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ac	50		 push	 eax
  001ad	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv192[ebp], 0
$LN6@set_viper_:
  001b9	b9 01 00 00 00	 mov	 ecx, 1
  001be	85 c9		 test	 ecx, ecx
  001c0	74 09		 je	 SHORT $LN7@set_viper_
  001c2	c7 45 b0 b8 00
	00 00		 mov	 DWORD PTR tv200[ebp], 184 ; 000000b8H
  001c9	eb 21		 jmp	 SHORT $LN8@set_viper_
$LN7@set_viper_:
  001cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_viper_weapon_damage_status@@YGXXZ@4JA
  001d1	83 c2 21	 add	 edx, 33			; 00000021H
  001d4	52		 push	 edx
  001d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@LMGNKLIK@c?3?2users?2nhv90?2projects?2eech?2ap@
  001da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001df	50		 push	 eax
  001e0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e5	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv200[ebp], 0
$LN8@set_viper_:
  001ec	68 b8 00 00 00	 push	 184			; 000000b8H
  001f1	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  001f4	51		 push	 ecx
  001f5	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv192[ebp], 1116
  001fc	8b 45 b0	 mov	 eax, DWORD PTR tv200[ebp]
  001ff	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00206	ff d1		 call	 ecx
  00208	89 45 f8	 mov	 DWORD PTR _weapon_sub_type$[ebp], eax

; 121  : 
; 122  : 	if (weapon_sub_type != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  0020b	83 7d f8 00	 cmp	 DWORD PTR _weapon_sub_type$[ebp], 0
  0020f	74 26		 je	 SHORT $LN1@set_viper_

; 123  : 	{
; 124  : 		if (!get_local_entity_weapon_available (en, weapon_sub_type))

  00211	8b 45 f8	 mov	 eax, DWORD PTR _weapon_sub_type$[ebp]
  00214	50		 push	 eax
  00215	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00218	51		 push	 ecx
  00219	e8 00 00 00 00	 call	 ?get_local_entity_weapon_available@@YGHPAUENTITY@@H@Z ; get_local_entity_weapon_available
  0021e	85 c0		 test	 eax, eax
  00220	75 15		 jne	 SHORT $LN1@set_viper_

; 125  : 		{
; 126  : 			weapon_sub_type = get_next_available_weapon_sub_type (en);

  00222	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00225	50		 push	 eax
  00226	e8 00 00 00 00	 call	 ?get_next_available_weapon_sub_type@@YGHPAUENTITY@@@Z ; get_next_available_weapon_sub_type
  0022b	89 45 f8	 mov	 DWORD PTR _weapon_sub_type$[ebp], eax

; 127  : 
; 128  : 			set_gunship_weapon (weapon_sub_type);

  0022e	8b 45 f8	 mov	 eax, DWORD PTR _weapon_sub_type$[ebp]
  00231	50		 push	 eax
  00232	e8 00 00 00 00	 call	 ?set_gunship_weapon@@YGXH@Z ; set_gunship_weapon
$LN1@set_viper_:

; 129  : 		}
; 130  : 	}
; 131  : }

  00237	5f		 pop	 edi
  00238	5e		 pop	 esi
  00239	5b		 pop	 ebx
  0023a	8b e5		 mov	 esp, ebp
  0023c	5d		 pop	 ebp
  0023d	c3		 ret	 0
?set_viper_weapon_damage_status@@YGXXZ ENDP		; set_viper_weapon_damage_status
_TEXT	ENDS
END
