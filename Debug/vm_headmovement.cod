; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?getViewpointOffsetX@@YGMM@Z			; getViewpointOffsetX
PUBLIC	?getViewpointOffsetY@@YGMM@Z			; getViewpointOffsetY
PUBLIC	?getViewpointOffsetZ@@YGMM@Z			; getViewpointOffsetZ
PUBLIC	__real@00000000
PUBLIC	__real@3dd0c43d
PUBLIC	__real@3f9999999999999a
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4008000000000000
PUBLIC	__real@4014000000000000
PUBLIC	__real@40cfff8000000000
PUBLIC	__real@bff8000000000000
PUBLIC	__real@c008000000000000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	?query_TIR_active@@YAHXZ:PROC			; query_TIR_active
EXTRN	?TIR_GetX@@YGMXZ:PROC				; TIR_GetX
EXTRN	?TIR_GetY@@YGMXZ:PROC				; TIR_GetY
EXTRN	?TIR_GetZ@@YGMXZ:PROC				; TIR_GetZ
EXTRN	?TIR_GetMaxXY@@YGMXZ:PROC			; TIR_GetMaxXY
EXTRN	?get_crew_role@@YG?AW4CREW_ROLES@@XZ:PROC	; get_crew_role
EXTRN	?command_line_TIR_6DOF@@3HA:DWORD		; command_line_TIR_6DOF
EXTRN	?command_line_g_force_head_movment_modifier@@3MA:DWORD ; command_line_g_force_head_movment_modifier
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?wide_cockpit@@3HA:DWORD			; wide_cockpit
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@c008000000000000
CONST	SEGMENT
__real@c008000000000000 DQ 0c008000000000000r	; -3
CONST	ENDS
;	COMDAT __real@bff8000000000000
CONST	SEGMENT
__real@bff8000000000000 DQ 0bff8000000000000r	; -1.5
CONST	ENDS
;	COMDAT __real@40cfff8000000000
CONST	SEGMENT
__real@40cfff8000000000 DQ 040cfff8000000000r	; 16383
CONST	ENDS
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@4008000000000000
CONST	SEGMENT
__real@4008000000000000 DQ 04008000000000000r	; 3
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3f9999999999999a
CONST	SEGMENT
__real@3f9999999999999a DQ 03f9999999999999ar	; 0.025
CONST	ENDS
;	COMDAT __real@3dd0c43d
CONST	SEGMENT
__real@3dd0c43d DD 03dd0c43dr			; 0.101937
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
_DATA	SEGMENT
?command_line_viewpoint_left_limit@@3PAY01MA DD 03e800000r ; 0.25 ; command_line_viewpoint_left_limit
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	ORG $+16
?command_line_viewpoint_right_limit@@3PAY01MA DD 0be800000r ; -0.25 ; command_line_viewpoint_right_limit
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	ORG $+16
?command_line_viewpoint_up_limit@@3PAY01MA DD 03e800000r ; 0.25 ; command_line_viewpoint_up_limit
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	ORG $+16
?command_line_viewpoint_down_limit@@3PAY01MA DD 0be800000r ; -0.25 ; command_line_viewpoint_down_limit
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	ORG $+16
?command_line_viewpoint_fore_limit@@3PAY01MA DD 03ecccccdr ; 0.4 ; command_line_viewpoint_fore_limit
	DD	03ecccccdr			; 0.4
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	DD	03e800000r			; 0.25
	ORG $+16
?command_line_viewpoint_aft_limit@@3PAY01MA DD 0becccccdr ; -0.4 ; command_line_viewpoint_aft_limit
	DD	0becccccdr			; -0.4
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	DD	0be800000r			; -0.25
	ORG $+16
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getMaxDown@@YGMXZ
_TEXT	SEGMENT
?getMaxDown@@YGMXZ PROC					; getMaxDown, COMDAT

; 109  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 110  : 	return command_line_viewpoint_down_limit[get_global_gunship_type ()][get_crew_role ()];

  00009	e8 00 00 00 00	 call	 ?get_crew_role@@YG?AW4CREW_ROLES@@XZ ; get_crew_role
  0000e	c1 e0 02	 shl	 eax, 2
  00011	8b 0d 0c 00 00
	00		 mov	 ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  00017	d9 84 c8 00 00
	00 00		 fld	 DWORD PTR ?command_line_viewpoint_down_limit@@3PAY01MA[eax+ecx*8]

; 111  : }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?getMaxDown@@YGMXZ ENDP					; getMaxDown
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getMaxUp@@YGMXZ
_TEXT	SEGMENT
?getMaxUp@@YGMXZ PROC					; getMaxUp, COMDAT

; 104  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 105  : 	return command_line_viewpoint_up_limit[get_global_gunship_type ()][get_crew_role ()];

  00009	e8 00 00 00 00	 call	 ?get_crew_role@@YG?AW4CREW_ROLES@@XZ ; get_crew_role
  0000e	c1 e0 02	 shl	 eax, 2
  00011	8b 0d 0c 00 00
	00		 mov	 ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  00017	d9 84 c8 00 00
	00 00		 fld	 DWORD PTR ?command_line_viewpoint_up_limit@@3PAY01MA[eax+ecx*8]

; 106  : }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?getMaxUp@@YGMXZ ENDP					; getMaxUp
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getMaxBackward@@YGMXZ
_TEXT	SEGMENT
?getMaxBackward@@YGMXZ PROC				; getMaxBackward, COMDAT

; 99   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 100  : 	return command_line_viewpoint_aft_limit[get_global_gunship_type ()][get_crew_role ()];

  00009	e8 00 00 00 00	 call	 ?get_crew_role@@YG?AW4CREW_ROLES@@XZ ; get_crew_role
  0000e	c1 e0 02	 shl	 eax, 2
  00011	8b 0d 0c 00 00
	00		 mov	 ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  00017	d9 84 c8 00 00
	00 00		 fld	 DWORD PTR ?command_line_viewpoint_aft_limit@@3PAY01MA[eax+ecx*8]

; 101  : }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?getMaxBackward@@YGMXZ ENDP				; getMaxBackward
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getMaxForeward@@YGMXZ
_TEXT	SEGMENT
?getMaxForeward@@YGMXZ PROC				; getMaxForeward, COMDAT

; 94   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 95   : 	return command_line_viewpoint_fore_limit[get_global_gunship_type ()][get_crew_role ()];

  00009	e8 00 00 00 00	 call	 ?get_crew_role@@YG?AW4CREW_ROLES@@XZ ; get_crew_role
  0000e	c1 e0 02	 shl	 eax, 2
  00011	8b 0d 0c 00 00
	00		 mov	 ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  00017	d9 84 c8 00 00
	00 00		 fld	 DWORD PTR ?command_line_viewpoint_fore_limit@@3PAY01MA[eax+ecx*8]

; 96   : }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?getMaxForeward@@YGMXZ ENDP				; getMaxForeward
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getMaxRight@@YGMXZ
_TEXT	SEGMENT
?getMaxRight@@YGMXZ PROC				; getMaxRight, COMDAT

; 89   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 90   : 	return command_line_viewpoint_right_limit[get_global_gunship_type ()][get_crew_role ()];

  00009	e8 00 00 00 00	 call	 ?get_crew_role@@YG?AW4CREW_ROLES@@XZ ; get_crew_role
  0000e	c1 e0 02	 shl	 eax, 2
  00011	8b 0d 0c 00 00
	00		 mov	 ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  00017	d9 84 c8 00 00
	00 00		 fld	 DWORD PTR ?command_line_viewpoint_right_limit@@3PAY01MA[eax+ecx*8]

; 91   : }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?getMaxRight@@YGMXZ ENDP				; getMaxRight
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getMaxLeft@@YGMXZ
_TEXT	SEGMENT
?getMaxLeft@@YGMXZ PROC					; getMaxLeft, COMDAT

; 84   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 85   : 	return command_line_viewpoint_left_limit[get_global_gunship_type ()][get_crew_role ()];

  00009	e8 00 00 00 00	 call	 ?get_crew_role@@YG?AW4CREW_ROLES@@XZ ; get_crew_role
  0000e	c1 e0 02	 shl	 eax, 2
  00011	8b 0d 0c 00 00
	00		 mov	 ecx, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  00017	d9 84 c8 00 00
	00 00		 fld	 DWORD PTR ?command_line_viewpoint_left_limit@@3PAY01MA[eax+ecx*8]

; 86   : }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?getMaxLeft@@YGMXZ ENDP					; getMaxLeft
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getViewpointOffsetZ@@YGMM@Z
_TEXT	SEGMENT
tv83 = -84						; size = 4
tv149 = -80						; size = 4
tv128 = -76						; size = 8
tv84 = -76						; size = 4
tv143 = -72						; size = 4
tv138 = -72						; size = 4
tv133 = -72						; size = 4
_tmp$1 = -4						; size = 4
_z$ = 8							; size = 4
?getViewpointOffsetZ@@YGMM@Z PROC			; getViewpointOffsetZ, COMDAT

; 152  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 153  : 	if ((command_line_TIR_6DOF == TRUE) && ( query_TIR_active () == TRUE ))

  00009	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  00010	75 6d		 jne	 SHORT $LN4@getViewpoi
  00012	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  00017	83 f8 01	 cmp	 eax, 1
  0001a	75 63		 jne	 SHORT $LN4@getViewpoi

; 154  : 	{
; 155  : 		float tmp = TIR_GetZ() / 16383.;	// this value is fixed, as opposed to x and y

  0001c	e8 00 00 00 00	 call	 ?TIR_GetZ@@YGMXZ	; TIR_GetZ
  00021	dd 5d b4	 fstp	 QWORD PTR tv128[ebp]
  00024	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR tv128[ebp]
  00029	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@40cfff8000000000
  00031	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00035	f3 0f 11 45 fc	 movss	 DWORD PTR _tmp$1[ebp], xmm0

; 156  : 		if (tmp >= 0)

  0003a	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _tmp$1[ebp]
  0003f	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  00046	72 19		 jb	 SHORT $LN3@getViewpoi

; 157  : 			z = tmp * getMaxForeward();

  00048	e8 00 00 00 00	 call	 ?getMaxForeward@@YGMXZ	; getMaxForeward
  0004d	d9 5d b8	 fstp	 DWORD PTR tv133[ebp]
  00050	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv133[ebp]
  00055	f3 0f 59 45 fc	 mulss	 xmm0, DWORD PTR _tmp$1[ebp]
  0005a	f3 0f 11 45 08	 movss	 DWORD PTR _z$[ebp], xmm0

; 158  : 		else

  0005f	eb 1e		 jmp	 SHORT $LN4@getViewpoi
$LN3@getViewpoi:

; 159  : 			z = tmp * -getMaxBackward();

  00061	e8 00 00 00 00	 call	 ?getMaxBackward@@YGMXZ	; getMaxBackward
  00066	d9 5d b8	 fstp	 DWORD PTR tv138[ebp]
  00069	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv138[ebp]
  0006e	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00075	f3 0f 59 45 fc	 mulss	 xmm0, DWORD PTR _tmp$1[ebp]
  0007a	f3 0f 11 45 08	 movss	 DWORD PTR _z$[ebp], xmm0
$LN4@getViewpoi:

; 160  : 	}
; 161  : 
; 162  : 	z = bound ( z, getMaxBackward(), getMaxForeward() );

  0007f	e8 00 00 00 00	 call	 ?getMaxBackward@@YGMXZ	; getMaxBackward
  00084	d9 5d b8	 fstp	 DWORD PTR tv143[ebp]
  00087	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv143[ebp]
  0008c	0f 2f 45 08	 comiss	 xmm0, DWORD PTR _z$[ebp]
  00090	76 0a		 jbe	 SHORT $LN8@getViewpoi
  00092	e8 00 00 00 00	 call	 ?getMaxBackward@@YGMXZ	; getMaxBackward
  00097	d9 5d b4	 fstp	 DWORD PTR tv84[ebp]
  0009a	eb 31		 jmp	 SHORT $LN9@getViewpoi
$LN8@getViewpoi:
  0009c	e8 00 00 00 00	 call	 ?getMaxForeward@@YGMXZ	; getMaxForeward
  000a1	d9 5d b0	 fstp	 DWORD PTR tv149[ebp]
  000a4	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _z$[ebp]
  000a9	0f 2f 45 b0	 comiss	 xmm0, DWORD PTR tv149[ebp]
  000ad	76 0a		 jbe	 SHORT $LN6@getViewpoi
  000af	e8 00 00 00 00	 call	 ?getMaxForeward@@YGMXZ	; getMaxForeward
  000b4	d9 5d ac	 fstp	 DWORD PTR tv83[ebp]
  000b7	eb 0a		 jmp	 SHORT $LN7@getViewpoi
$LN6@getViewpoi:
  000b9	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _z$[ebp]
  000be	f3 0f 11 45 ac	 movss	 DWORD PTR tv83[ebp], xmm0
$LN7@getViewpoi:
  000c3	f3 0f 10 45 ac	 movss	 xmm0, DWORD PTR tv83[ebp]
  000c8	f3 0f 11 45 b4	 movss	 DWORD PTR tv84[ebp], xmm0
$LN9@getViewpoi:
  000cd	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR tv84[ebp]
  000d2	f3 0f 11 45 08	 movss	 DWORD PTR _z$[ebp], xmm0

; 163  : 
; 164  : 	return z;

  000d7	d9 45 08	 fld	 DWORD PTR _z$[ebp]

; 165  : }

  000da	5f		 pop	 edi
  000db	5e		 pop	 esi
  000dc	5b		 pop	 ebx
  000dd	8b e5		 mov	 esp, ebp
  000df	5d		 pop	 ebp
  000e0	c2 04 00	 ret	 4
?getViewpointOffsetZ@@YGMM@Z ENDP			; getViewpointOffsetZ
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getViewpointOffsetY@@YGMM@Z
_TEXT	SEGMENT
tv141 = -84						; size = 4
tv95 = -84						; size = 8
tv191 = -80						; size = 4
tv160 = -80						; size = 4
tv200 = -76						; size = 4
tv142 = -76						; size = 4
tv128 = -76						; size = 8
tv185 = -72						; size = 4
tv170 = -72						; size = 4
tv165 = -72						; size = 4
tv156 = -72						; size = 4
_tmp$1 = -4						; size = 4
_y$ = 8							; size = 4
?getViewpointOffsetY@@YGMM@Z PROC			; getViewpointOffsetY, COMDAT

; 133  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 134  : 	if ((command_line_TIR_6DOF == TRUE) && ( query_TIR_active () == TRUE ))

  00009	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  00010	75 78		 jne	 SHORT $LN4@getViewpoi
  00012	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  00017	83 f8 01	 cmp	 eax, 1
  0001a	75 6e		 jne	 SHORT $LN4@getViewpoi

; 135  : 	{
; 136  : 		float tmp = TIR_GetY() / TIR_GetMaxXY();

  0001c	e8 00 00 00 00	 call	 ?TIR_GetY@@YGMXZ	; TIR_GetY
  00021	d9 5d b8	 fstp	 DWORD PTR tv156[ebp]
  00024	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv156[ebp]
  00029	f3 0f 11 45 b4	 movss	 DWORD PTR tv200[ebp], xmm0
  0002e	e8 00 00 00 00	 call	 ?TIR_GetMaxXY@@YGMXZ	; TIR_GetMaxXY
  00033	d9 5d b0	 fstp	 DWORD PTR tv160[ebp]
  00036	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR tv200[ebp]
  0003b	f3 0f 5e 45 b0	 divss	 xmm0, DWORD PTR tv160[ebp]
  00040	f3 0f 11 45 fc	 movss	 DWORD PTR _tmp$1[ebp], xmm0

; 137  : 		if (tmp >= 0)

  00045	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _tmp$1[ebp]
  0004a	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  00051	72 20		 jb	 SHORT $LN3@getViewpoi

; 138  : 			y = tmp * -getMaxUp();

  00053	e8 00 00 00 00	 call	 ?getMaxUp@@YGMXZ	; getMaxUp
  00058	d9 5d b8	 fstp	 DWORD PTR tv165[ebp]
  0005b	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv165[ebp]
  00060	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00067	f3 0f 59 45 fc	 mulss	 xmm0, DWORD PTR _tmp$1[ebp]
  0006c	f3 0f 11 45 08	 movss	 DWORD PTR _y$[ebp], xmm0

; 139  : 		else

  00071	eb 17		 jmp	 SHORT $LN4@getViewpoi
$LN3@getViewpoi:

; 140  : 			y = tmp * getMaxDown();

  00073	e8 00 00 00 00	 call	 ?getMaxDown@@YGMXZ	; getMaxDown
  00078	d9 5d b8	 fstp	 DWORD PTR tv170[ebp]
  0007b	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv170[ebp]
  00080	f3 0f 59 45 fc	 mulss	 xmm0, DWORD PTR _tmp$1[ebp]
  00085	f3 0f 11 45 08	 movss	 DWORD PTR _y$[ebp], xmm0
$LN4@getViewpoi:

; 141  : 	}
; 142  : 
; 143  : //VJ 060910 added command_line_g_force_head_movment_modifier
; 144  : 	if (get_global_wide_cockpit() && !current_flight_dynamics->auto_hover)

  0008a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00091	0f 84 c8 00 00
	00		 je	 $LN5@getViewpoi
  00097	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0009c	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  000a2	c1 e9 07	 shr	 ecx, 7
  000a5	83 e1 07	 and	 ecx, 7
  000a8	0f 85 b1 00 00
	00		 jne	 $LN5@getViewpoi

; 145  : 		y += bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier;

  000ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  000b3	f3 0f 5a 80 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [eax+9308]
  000bb	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  000c3	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bff8000000000000
  000cb	66 0f 2f c8	 comisd	 xmm1, xmm0
  000cf	76 0f		 jbe	 SHORT $LN9@getViewpoi
  000d1	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bff8000000000000
  000d9	f2 0f 11 45 b4	 movsd	 QWORD PTR tv128[ebp], xmm0
  000de	eb 54		 jmp	 SHORT $LN10@getViewpoi
$LN9@getViewpoi:
  000e0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  000e6	f3 0f 5a 81 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [ecx+9308]
  000ee	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  000f6	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4014000000000000
  000fe	76 0f		 jbe	 SHORT $LN7@getViewpoi
  00100	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4014000000000000
  00108	f2 0f 11 45 ac	 movsd	 QWORD PTR tv95[ebp], xmm0
  0010d	eb 1b		 jmp	 SHORT $LN8@getViewpoi
$LN7@getViewpoi:
  0010f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00115	f3 0f 5a 82 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [edx+9308]
  0011d	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00125	f2 0f 11 45 ac	 movsd	 QWORD PTR tv95[ebp], xmm0
$LN8@getViewpoi:
  0012a	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR tv95[ebp]
  0012f	f2 0f 11 45 b4	 movsd	 QWORD PTR tv128[ebp], xmm0
$LN10@getViewpoi:
  00134	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR tv128[ebp]
  00139	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f9999999999999a
  00141	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  00149	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0014d	f3 0f 5a 4d 08	 cvtss2sd xmm1, DWORD PTR _y$[ebp]
  00152	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00156	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  0015a	f3 0f 11 45 08	 movss	 DWORD PTR _y$[ebp], xmm0
$LN5@getViewpoi:

; 146  : 	
; 147  : 	y = bound ( y, getMaxDown(), getMaxUp());

  0015f	e8 00 00 00 00	 call	 ?getMaxDown@@YGMXZ	; getMaxDown
  00164	d9 5d b8	 fstp	 DWORD PTR tv185[ebp]
  00167	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv185[ebp]
  0016c	0f 2f 45 08	 comiss	 xmm0, DWORD PTR _y$[ebp]
  00170	76 0a		 jbe	 SHORT $LN13@getViewpoi
  00172	e8 00 00 00 00	 call	 ?getMaxDown@@YGMXZ	; getMaxDown
  00177	d9 5d b4	 fstp	 DWORD PTR tv142[ebp]
  0017a	eb 31		 jmp	 SHORT $LN14@getViewpoi
$LN13@getViewpoi:
  0017c	e8 00 00 00 00	 call	 ?getMaxUp@@YGMXZ	; getMaxUp
  00181	d9 5d b0	 fstp	 DWORD PTR tv191[ebp]
  00184	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _y$[ebp]
  00189	0f 2f 45 b0	 comiss	 xmm0, DWORD PTR tv191[ebp]
  0018d	76 0a		 jbe	 SHORT $LN11@getViewpoi
  0018f	e8 00 00 00 00	 call	 ?getMaxUp@@YGMXZ	; getMaxUp
  00194	d9 5d ac	 fstp	 DWORD PTR tv141[ebp]
  00197	eb 0a		 jmp	 SHORT $LN12@getViewpoi
$LN11@getViewpoi:
  00199	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _y$[ebp]
  0019e	f3 0f 11 45 ac	 movss	 DWORD PTR tv141[ebp], xmm0
$LN12@getViewpoi:
  001a3	f3 0f 10 45 ac	 movss	 xmm0, DWORD PTR tv141[ebp]
  001a8	f3 0f 11 45 b4	 movss	 DWORD PTR tv142[ebp], xmm0
$LN14@getViewpoi:
  001ad	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR tv142[ebp]
  001b2	f3 0f 11 45 08	 movss	 DWORD PTR _y$[ebp], xmm0

; 148  : 	return y;

  001b7	d9 45 08	 fld	 DWORD PTR _y$[ebp]

; 149  : }

  001ba	5f		 pop	 edi
  001bb	5e		 pop	 esi
  001bc	5b		 pop	 ebx
  001bd	8b e5		 mov	 esp, ebp
  001bf	5d		 pop	 ebp
  001c0	c2 04 00	 ret	 4
?getViewpointOffsetY@@YGMM@Z ENDP			; getViewpointOffsetY
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_headmovement.c
;	COMDAT ?getViewpointOffsetX@@YGMM@Z
_TEXT	SEGMENT
tv137 = -84						; size = 4
tv91 = -84						; size = 8
tv188 = -80						; size = 4
tv156 = -80						; size = 4
tv197 = -76						; size = 4
tv138 = -76						; size = 4
tv92 = -76						; size = 8
tv182 = -72						; size = 4
tv166 = -72						; size = 4
tv161 = -72						; size = 4
tv152 = -72						; size = 4
_tmp$1 = -4						; size = 4
_x$ = 8							; size = 4
?getViewpointOffsetX@@YGMM@Z PROC			; getViewpointOffsetX, COMDAT

; 114  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 115  : 	if ((command_line_TIR_6DOF == TRUE) && ( query_TIR_active () == TRUE ))

  00009	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  00010	75 78		 jne	 SHORT $LN4@getViewpoi
  00012	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  00017	83 f8 01	 cmp	 eax, 1
  0001a	75 6e		 jne	 SHORT $LN4@getViewpoi

; 116  : 	{
; 117  : 		float tmp = TIR_GetX() / TIR_GetMaxXY();

  0001c	e8 00 00 00 00	 call	 ?TIR_GetX@@YGMXZ	; TIR_GetX
  00021	d9 5d b8	 fstp	 DWORD PTR tv152[ebp]
  00024	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv152[ebp]
  00029	f3 0f 11 45 b4	 movss	 DWORD PTR tv197[ebp], xmm0
  0002e	e8 00 00 00 00	 call	 ?TIR_GetMaxXY@@YGMXZ	; TIR_GetMaxXY
  00033	d9 5d b0	 fstp	 DWORD PTR tv156[ebp]
  00036	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR tv197[ebp]
  0003b	f3 0f 5e 45 b0	 divss	 xmm0, DWORD PTR tv156[ebp]
  00040	f3 0f 11 45 fc	 movss	 DWORD PTR _tmp$1[ebp], xmm0

; 118  : 
; 119  : 		if (tmp >= 0)

  00045	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _tmp$1[ebp]
  0004a	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  00051	72 19		 jb	 SHORT $LN3@getViewpoi

; 120  : 			x = tmp * getMaxLeft();

  00053	e8 00 00 00 00	 call	 ?getMaxLeft@@YGMXZ	; getMaxLeft
  00058	d9 5d b8	 fstp	 DWORD PTR tv161[ebp]
  0005b	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv161[ebp]
  00060	f3 0f 59 45 fc	 mulss	 xmm0, DWORD PTR _tmp$1[ebp]
  00065	f3 0f 11 45 08	 movss	 DWORD PTR _x$[ebp], xmm0

; 121  : 		else

  0006a	eb 1e		 jmp	 SHORT $LN4@getViewpoi
$LN3@getViewpoi:

; 122  : 			x = tmp * -getMaxRight();

  0006c	e8 00 00 00 00	 call	 ?getMaxRight@@YGMXZ	; getMaxRight
  00071	d9 5d b8	 fstp	 DWORD PTR tv166[ebp]
  00074	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv166[ebp]
  00079	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00080	f3 0f 59 45 fc	 mulss	 xmm0, DWORD PTR _tmp$1[ebp]
  00085	f3 0f 11 45 08	 movss	 DWORD PTR _x$[ebp], xmm0
$LN4@getViewpoi:

; 123  : 	}
; 124  : //VJ 060910 added command_line_g_force_head_movment_modifier
; 125  : 	if (get_global_wide_cockpit())

  0008a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00091	0f 84 bd 00 00
	00		 je	 $LN5@getViewpoi

; 126  : 		x += bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier;

  00097	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0009c	f3 0f 10 80 48
	1c 00 00	 movss	 xmm0, DWORD PTR [eax+7240]
  000a4	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  000ac	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  000b0	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@c008000000000000
  000b8	66 0f 2f c8	 comisd	 xmm1, xmm0
  000bc	76 0f		 jbe	 SHORT $LN9@getViewpoi
  000be	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@c008000000000000
  000c6	f2 0f 11 45 b4	 movsd	 QWORD PTR tv92[ebp], xmm0
  000cb	eb 5c		 jmp	 SHORT $LN10@getViewpoi
$LN9@getViewpoi:
  000cd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  000d3	f3 0f 10 81 48
	1c 00 00	 movss	 xmm0, DWORD PTR [ecx+7240]
  000db	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  000e3	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  000e7	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4008000000000000
  000ef	76 0f		 jbe	 SHORT $LN7@getViewpoi
  000f1	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4008000000000000
  000f9	f2 0f 11 45 ac	 movsd	 QWORD PTR tv91[ebp], xmm0
  000fe	eb 1f		 jmp	 SHORT $LN8@getViewpoi
$LN7@getViewpoi:
  00100	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00106	f3 0f 10 82 48
	1c 00 00	 movss	 xmm0, DWORD PTR [edx+7240]
  0010e	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  00116	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0011a	f2 0f 11 45 ac	 movsd	 QWORD PTR tv91[ebp], xmm0
$LN8@getViewpoi:
  0011f	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR tv91[ebp]
  00124	f2 0f 11 45 b4	 movsd	 QWORD PTR tv92[ebp], xmm0
$LN10@getViewpoi:
  00129	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR tv92[ebp]
  0012e	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f9999999999999a
  00136	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  0013e	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00142	f3 0f 5a 4d 08	 cvtss2sd xmm1, DWORD PTR _x$[ebp]
  00147	f2 0f 58 c8	 addsd	 xmm1, xmm0
  0014b	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  0014f	f3 0f 11 45 08	 movss	 DWORD PTR _x$[ebp], xmm0
$LN5@getViewpoi:

; 127  : 
; 128  : 	x = bound ( x, getMaxRight(), getMaxLeft() );

  00154	e8 00 00 00 00	 call	 ?getMaxRight@@YGMXZ	; getMaxRight
  00159	d9 5d b8	 fstp	 DWORD PTR tv182[ebp]
  0015c	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR tv182[ebp]
  00161	0f 2f 45 08	 comiss	 xmm0, DWORD PTR _x$[ebp]
  00165	76 0a		 jbe	 SHORT $LN13@getViewpoi
  00167	e8 00 00 00 00	 call	 ?getMaxRight@@YGMXZ	; getMaxRight
  0016c	d9 5d b4	 fstp	 DWORD PTR tv138[ebp]
  0016f	eb 31		 jmp	 SHORT $LN14@getViewpoi
$LN13@getViewpoi:
  00171	e8 00 00 00 00	 call	 ?getMaxLeft@@YGMXZ	; getMaxLeft
  00176	d9 5d b0	 fstp	 DWORD PTR tv188[ebp]
  00179	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _x$[ebp]
  0017e	0f 2f 45 b0	 comiss	 xmm0, DWORD PTR tv188[ebp]
  00182	76 0a		 jbe	 SHORT $LN11@getViewpoi
  00184	e8 00 00 00 00	 call	 ?getMaxLeft@@YGMXZ	; getMaxLeft
  00189	d9 5d ac	 fstp	 DWORD PTR tv137[ebp]
  0018c	eb 0a		 jmp	 SHORT $LN12@getViewpoi
$LN11@getViewpoi:
  0018e	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _x$[ebp]
  00193	f3 0f 11 45 ac	 movss	 DWORD PTR tv137[ebp], xmm0
$LN12@getViewpoi:
  00198	f3 0f 10 45 ac	 movss	 xmm0, DWORD PTR tv137[ebp]
  0019d	f3 0f 11 45 b4	 movss	 DWORD PTR tv138[ebp], xmm0
$LN14@getViewpoi:
  001a2	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR tv138[ebp]
  001a7	f3 0f 11 45 08	 movss	 DWORD PTR _x$[ebp], xmm0

; 129  : 	return x;

  001ac	d9 45 08	 fld	 DWORD PTR _x$[ebp]

; 130  : }

  001af	5f		 pop	 edi
  001b0	5e		 pop	 esi
  001b1	5b		 pop	 ebx
  001b2	8b e5		 mov	 esp, ebp
  001b4	5d		 pop	 ebp
  001b5	c2 04 00	 ret	 4
?getViewpointOffsetX@@YGMM@Z ENDP			; getViewpointOffsetX
_TEXT	ENDS
END
