; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\userint2\ui_obj\screen\screen.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?current_screen@@3PAUUI_OBJECT@@A		; current_screen
_BSS	SEGMENT
?current_screen@@3PAUUI_OBJECT@@A DD 01H DUP (?)	; current_screen
_BSS	ENDS
PUBLIC	?push_ui_screen@@YGXPAUUI_OBJECT@@@Z		; push_ui_screen
PUBLIC	?pop_ui_screen@@YGXW4SCREEN_POP_TYPES@@@Z	; pop_ui_screen
PUBLIC	?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ	; get_ui_screen_stack_head
EXTRN	?fn_set_ui_object_drawable@@3PAP6GXPAUUI_OBJECT@@H@ZA:BYTE ; fn_set_ui_object_drawable
EXTRN	?fn_get_ui_object_function@@3PAP6GP6GXPAUUI_OBJECT@@PAX@Z0@ZA:BYTE ; fn_get_ui_object_function
EXTRN	?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_notify_on
_BSS	SEGMENT
?screen_stack_head@@3PAUUI_OBJECT@@A DD 01H DUP (?)	; screen_stack_head
?screen_stack_tail@@3PAUUI_OBJECT@@A DD 01H DUP (?)	; screen_stack_tail
?screen_stack_size@@3HA DD 01H DUP (?)			; screen_stack_size
_BSS	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_obj\screen\screen.c
;	COMDAT ?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ
_TEXT	SEGMENT
?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ PROC	; get_ui_screen_stack_head, COMDAT

; 319  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 320  : 
; 321  : 	return screen_stack_head;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A

; 322  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?get_ui_screen_stack_head@@YGPAUUI_OBJECT@@XZ ENDP	; get_ui_screen_stack_head
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_obj\screen\screen.c
;	COMDAT ?pop_ui_screen@@YGXW4SCREEN_POP_TYPES@@@Z
_TEXT	SEGMENT
_function$ = -12					; size = 4
_screen$ = -8						; size = 4
_popped_screen$ = -4					; size = 4
_type$ = 8						; size = 4
?pop_ui_screen@@YGXW4SCREEN_POP_TYPES@@@Z PROC		; pop_ui_screen, COMDAT

; 229  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 230  : 
; 231  : 	ui_object
; 232  : 		*popped_screen;
; 233  : 
; 234  : 	screen_ui_object
; 235  : 		*screen;
; 236  : 
; 237  : 	void
; 238  : 		((*function) (ui_object *obj, void *arg));
; 239  : 
; 240  : 	// store screen to pop and unlink it and destroy it.
; 241  : 
; 242  : 	if (screen_stack_head)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A, 0
  00010	0f 84 63 01 00
	00		 je	 $LN1@pop_ui_scr

; 243  : 	{
; 244  : 	
; 245  : 		popped_screen = screen_stack_head;

  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  0001b	89 45 fc	 mov	 DWORD PTR _popped_screen$[ebp], eax

; 246  : 	
; 247  : 		screen_stack_head = screen_stack_head->stack_next;

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00023	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  00026	89 0d 00 00 00
	00		 mov	 DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A, ecx

; 248  : 
; 249  : 		// call popped screen function
; 250  : 
; 251  : 		set_ui_object_drawable (popped_screen, FALSE);

  0002c	6a 00		 push	 0
  0002e	8b 45 fc	 mov	 eax, DWORD PTR _popped_screen$[ebp]
  00031	50		 push	 eax
  00032	8b 4d fc	 mov	 ecx, DWORD PTR _popped_screen$[ebp]
  00035	8b 11		 mov	 edx, DWORD PTR [ecx]
  00037	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_set_ui_object_drawable@@3PAP6GXPAUUI_OBJECT@@H@ZA[edx*4]
  0003e	ff d0		 call	 eax

; 252  : 
; 253  : 		screen = (screen_ui_object *) popped_screen->data;

  00040	8b 45 fc	 mov	 eax, DWORD PTR _popped_screen$[ebp]
  00043	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00046	89 4d f8	 mov	 DWORD PTR _screen$[ebp], ecx

; 254  : 
; 255  : 		function = get_ui_object_function (popped_screen);

  00049	8b 45 fc	 mov	 eax, DWORD PTR _popped_screen$[ebp]
  0004c	50		 push	 eax
  0004d	8b 4d fc	 mov	 ecx, DWORD PTR _popped_screen$[ebp]
  00050	8b 11		 mov	 edx, DWORD PTR [ecx]
  00052	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_function@@3PAP6GP6GXPAUUI_OBJECT@@PAX@Z0@ZA[edx*4]
  00059	ff d0		 call	 eax
  0005b	89 45 f4	 mov	 DWORD PTR _function$[ebp], eax

; 256  : 
; 257  : 		if (function)

  0005e	83 7d f4 00	 cmp	 DWORD PTR _function$[ebp], 0
  00062	74 44		 je	 SHORT $LN3@pop_ui_scr

; 258  : 		{
; 259  : 	
; 260  : 			if ((get_ui_object_notify_on (popped_screen) == NOTIFY_TYPE_REMOVED) || (get_ui_object_notify_on (popped_screen) == NOTIFY_TYPE_BUTTON_EITHER))

  00064	8b 45 fc	 mov	 eax, DWORD PTR _popped_screen$[ebp]
  00067	50		 push	 eax
  00068	8b 4d fc	 mov	 ecx, DWORD PTR _popped_screen$[ebp]
  0006b	8b 11		 mov	 edx, DWORD PTR [ecx]
  0006d	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  00074	ff d0		 call	 eax
  00076	83 f8 05	 cmp	 eax, 5
  00079	74 17		 je	 SHORT $LN5@pop_ui_scr
  0007b	8b 45 fc	 mov	 eax, DWORD PTR _popped_screen$[ebp]
  0007e	50		 push	 eax
  0007f	8b 4d fc	 mov	 ecx, DWORD PTR _popped_screen$[ebp]
  00082	8b 11		 mov	 edx, DWORD PTR [ecx]
  00084	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  0008b	ff d0		 call	 eax
  0008d	83 f8 03	 cmp	 eax, 3
  00090	75 16		 jne	 SHORT $LN3@pop_ui_scr
$LN5@pop_ui_scr:

; 261  : 			{
; 262  : 
; 263  : 				if (type == SCREEN_POP_ACTUAL)

  00092	83 7d 08 00	 cmp	 DWORD PTR _type$[ebp], 0
  00096	75 10		 jne	 SHORT $LN3@pop_ui_scr

; 264  : 				{
; 265  : 	
; 266  : 					function (popped_screen, &screen->screen_id);

  00098	8b 45 f8	 mov	 eax, DWORD PTR _screen$[ebp]
  0009b	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  000a0	50		 push	 eax
  000a1	8b 4d fc	 mov	 ecx, DWORD PTR _popped_screen$[ebp]
  000a4	51		 push	 ecx
  000a5	ff 55 f4	 call	 DWORD PTR _function$[ebp]
$LN3@pop_ui_scr:

; 267  : 				}
; 268  : 			}
; 269  : 		}
; 270  : 
; 271  : 		// setup new screen
; 272  : 	
; 273  : 		if (screen_stack_head)

  000a8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A, 0
  000af	0f 84 ad 00 00
	00		 je	 $LN7@pop_ui_scr

; 274  : 		{
; 275  : 
; 276  : 			screen_stack_head->stack_prev = NULL;

  000b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  000ba	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 277  : 	
; 278  : 			set_ui_object_drawable (screen_stack_head, TRUE);

  000c1	6a 01		 push	 1
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  000c8	50		 push	 eax
  000c9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  000cf	8b 11		 mov	 edx, DWORD PTR [ecx]
  000d1	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_set_ui_object_drawable@@3PAP6GXPAUUI_OBJECT@@H@ZA[edx*4]
  000d8	ff d0		 call	 eax

; 279  : 
; 280  : 			current_screen = screen_stack_head;

  000da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  000df	a3 00 00 00 00	 mov	 DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A, eax ; current_screen

; 281  : 
; 282  : 			function = get_ui_object_function (current_screen);

  000e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  000e9	50		 push	 eax
  000ea	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  000f0	8b 11		 mov	 edx, DWORD PTR [ecx]
  000f2	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_function@@3PAP6GP6GXPAUUI_OBJECT@@PAX@Z0@ZA[edx*4]
  000f9	ff d0		 call	 eax
  000fb	89 45 f4	 mov	 DWORD PTR _function$[ebp], eax

; 283  : 
; 284  : 			if (function)

  000fe	83 7d f4 00	 cmp	 DWORD PTR _function$[ebp], 0
  00102	74 5c		 je	 SHORT $LN9@pop_ui_scr

; 285  : 			{
; 286  : 
; 287  : 				screen = (screen_ui_object *) current_screen->data;

  00104	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  00109	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0010c	89 4d f8	 mov	 DWORD PTR _screen$[ebp], ecx

; 288  : 
; 289  : 				// call new screens function
; 290  : 	
; 291  : 				if ((get_ui_object_notify_on (current_screen) == NOTIFY_TYPE_DISPLAYED) || (get_ui_object_notify_on (current_screen) == NOTIFY_TYPE_BUTTON_EITHER))

  0010f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  00114	50		 push	 eax
  00115	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  0011b	8b 11		 mov	 edx, DWORD PTR [ecx]
  0011d	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  00124	ff d0		 call	 eax
  00126	83 f8 04	 cmp	 eax, 4
  00129	74 1c		 je	 SHORT $LN11@pop_ui_scr
  0012b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  00130	50		 push	 eax
  00131	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  00137	8b 11		 mov	 edx, DWORD PTR [ecx]
  00139	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  00140	ff d0		 call	 eax
  00142	83 f8 03	 cmp	 eax, 3
  00145	75 19		 jne	 SHORT $LN9@pop_ui_scr
$LN11@pop_ui_scr:

; 292  : 				{
; 293  : 
; 294  : 					if (type == SCREEN_POP_ACTUAL)

  00147	83 7d 08 00	 cmp	 DWORD PTR _type$[ebp], 0
  0014b	75 13		 jne	 SHORT $LN9@pop_ui_scr

; 295  : 					{
; 296  : 		
; 297  : 						function (current_screen, &screen->screen_id);

  0014d	8b 45 f8	 mov	 eax, DWORD PTR _screen$[ebp]
  00150	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  00155	50		 push	 eax
  00156	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A ; current_screen
  0015c	51		 push	 ecx
  0015d	ff 55 f4	 call	 DWORD PTR _function$[ebp]
$LN9@pop_ui_scr:

; 298  : 					}
; 299  : 				}
; 300  : 			}
; 301  : 		}
; 302  : 		else

  00160	eb 0a		 jmp	 SHORT $LN8@pop_ui_scr
$LN7@pop_ui_scr:

; 303  : 		{
; 304  : 
; 305  : 			// empty stack
; 306  : 
; 307  : 			screen_stack_tail = NULL;

  00162	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?screen_stack_tail@@3PAUUI_OBJECT@@A, 0
$LN8@pop_ui_scr:

; 308  : 		}
; 309  : 
; 310  : 		screen_stack_size --;

  0016c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_size@@3HA
  00171	83 e8 01	 sub	 eax, 1
  00174	a3 00 00 00 00	 mov	 DWORD PTR ?screen_stack_size@@3HA, eax
$LN1@pop_ui_scr:

; 311  : 	}
; 312  : }

  00179	5f		 pop	 edi
  0017a	5e		 pop	 esi
  0017b	5b		 pop	 ebx
  0017c	8b e5		 mov	 esp, ebp
  0017e	5d		 pop	 ebp
  0017f	c2 04 00	 ret	 4
?pop_ui_screen@@YGXW4SCREEN_POP_TYPES@@@Z ENDP		; pop_ui_screen
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_obj\screen\screen.c
;	COMDAT ?push_ui_screen@@YGXPAUUI_OBJECT@@@Z
_TEXT	SEGMENT
_screen$ = -12						; size = 4
_stack_search$ = -8					; size = 4
_function$ = -4						; size = 4
_this_screen$ = 8					; size = 4
?push_ui_screen@@YGXPAUUI_OBJECT@@@Z PROC		; push_ui_screen, COMDAT

; 88   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 89   : 
; 90   : 	void
; 91   : 		((*function) (ui_object *obj, void *arg));
; 92   : 
; 93   : 	ui_object
; 94   : 		*stack_search;
; 95   : 
; 96   : 	screen_ui_object
; 97   : 		*screen = NULL;

  00009	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _screen$[ebp], 0

; 98   : 
; 99   : 	// check if already on stack
; 100  : 
; 101  : 	stack_search = screen_stack_head;

  00010	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00015	89 45 f8	 mov	 DWORD PTR _stack_search$[ebp], eax

; 102  : 
; 103  : 	current_screen = this_screen;

  00018	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  0001b	a3 00 00 00 00	 mov	 DWORD PTR ?current_screen@@3PAUUI_OBJECT@@A, eax ; current_screen
$LN2@push_ui_sc:

; 104  : 	
; 105  : 	while (stack_search)

  00020	83 7d f8 00	 cmp	 DWORD PTR _stack_search$[ebp], 0
  00024	74 65		 je	 SHORT $LN3@push_ui_sc

; 106  : 	{
; 107  : 
; 108  : 		// screen found on stack
; 109  : 
; 110  : 		if (stack_search == this_screen)

  00026	8b 45 f8	 mov	 eax, DWORD PTR _stack_search$[ebp]
  00029	3b 45 08	 cmp	 eax, DWORD PTR _this_screen$[ebp]
  0002c	75 52		 jne	 SHORT $LN6@push_ui_sc

; 111  : 		{
; 112  : 
; 113  : 			// pop all down to this screen
; 114  : 
; 115  : 			stack_search = screen_stack_head;

  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00033	89 45 f8	 mov	 DWORD PTR _stack_search$[ebp], eax
$LN4@push_ui_sc:

; 116  : 
; 117  : 			while (stack_search != this_screen)

  00036	8b 45 f8	 mov	 eax, DWORD PTR _stack_search$[ebp]
  00039	3b 45 08	 cmp	 eax, DWORD PTR _this_screen$[ebp]
  0003c	74 12		 je	 SHORT $LN5@push_ui_sc

; 118  : 			{
; 119  : 
; 120  : 				pop_ui_screen (SCREEN_POP_STACK_MAINTANANCE);

  0003e	6a 01		 push	 1
  00040	e8 00 00 00 00	 call	 ?pop_ui_screen@@YGXW4SCREEN_POP_TYPES@@@Z ; pop_ui_screen

; 121  : 
; 122  : 				stack_search = stack_search->stack_next;

  00045	8b 45 f8	 mov	 eax, DWORD PTR _stack_search$[ebp]
  00048	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  0004b	89 4d f8	 mov	 DWORD PTR _stack_search$[ebp], ecx

; 123  : 			}

  0004e	eb e6		 jmp	 SHORT $LN4@push_ui_sc
$LN5@push_ui_sc:

; 124  : 	
; 125  : 			function = get_ui_object_function (this_screen);

  00050	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  00053	50		 push	 eax
  00054	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00057	8b 11		 mov	 edx, DWORD PTR [ecx]
  00059	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_function@@3PAP6GP6GXPAUUI_OBJECT@@PAX@Z0@ZA[edx*4]
  00060	ff d0		 call	 eax
  00062	89 45 fc	 mov	 DWORD PTR _function$[ebp], eax

; 126  : 		
; 127  : 			if (function)

  00065	83 7d fc 00	 cmp	 DWORD PTR _function$[ebp], 0
  00069	74 10		 je	 SHORT $LN7@push_ui_sc

; 128  : 			{
; 129  : 		
; 130  : 				// XXX: screen is NULL here
; 131  : 				function (this_screen, &screen->screen_id);

  0006b	8b 45 f4	 mov	 eax, DWORD PTR _screen$[ebp]
  0006e	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  00073	50		 push	 eax
  00074	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00077	51		 push	 ecx
  00078	ff 55 fc	 call	 DWORD PTR _function$[ebp]
$LN7@push_ui_sc:

; 132  : 			}
; 133  : 
; 134  : 			return;

  0007b	e9 16 02 00 00	 jmp	 $LN1@push_ui_sc
$LN6@push_ui_sc:

; 135  : 		}
; 136  : 
; 137  : 		stack_search = stack_search->stack_next;

  00080	8b 45 f8	 mov	 eax, DWORD PTR _stack_search$[ebp]
  00083	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  00086	89 4d f8	 mov	 DWORD PTR _stack_search$[ebp], ecx

; 138  : 	}

  00089	eb 95		 jmp	 SHORT $LN2@push_ui_sc
$LN3@push_ui_sc:

; 139  : 
; 140  : 	// add new screen
; 141  : 
; 142  : 	this_screen->stack_next = screen_stack_head;

  0008b	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  0008e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00094	89 48 14	 mov	 DWORD PTR [eax+20], ecx

; 143  : 
; 144  : 	// first screen on stack
; 145  : 
; 146  : 	if (!screen_stack_head)

  00097	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A, 0
  0009e	0f 85 aa 00 00
	00		 jne	 $LN8@push_ui_sc

; 147  : 	{
; 148  : 
; 149  : 		screen_stack_head = this_screen;

  000a4	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  000a7	a3 00 00 00 00	 mov	 DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A, eax

; 150  : 
; 151  : 		screen_stack_tail = this_screen;

  000ac	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  000af	a3 00 00 00 00	 mov	 DWORD PTR ?screen_stack_tail@@3PAUUI_OBJECT@@A, eax

; 152  : 
; 153  : 		this_screen->stack_prev = NULL;

  000b4	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  000b7	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 154  : 
; 155  : 		this_screen->stack_next = NULL;

  000be	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  000c1	c7 40 14 00 00
	00 00		 mov	 DWORD PTR [eax+20], 0

; 156  : 
; 157  : 		screen = (screen_ui_object *) this_screen->data;

  000c8	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  000cb	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000ce	89 4d f4	 mov	 DWORD PTR _screen$[ebp], ecx

; 158  : 
; 159  : 		screen_stack_head->stack_id = screen_stack_size ++;

  000d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  000d6	66 8b 0d 00 00
	00 00		 mov	 cx, WORD PTR ?screen_stack_size@@3HA
  000dd	66 89 48 1c	 mov	 WORD PTR [eax+28], cx
  000e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?screen_stack_size@@3HA
  000e7	83 c2 01	 add	 edx, 1
  000ea	89 15 00 00 00
	00		 mov	 DWORD PTR ?screen_stack_size@@3HA, edx

; 160  : 
; 161  : 		function = get_ui_object_function (this_screen);

  000f0	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  000f3	50		 push	 eax
  000f4	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  000f7	8b 11		 mov	 edx, DWORD PTR [ecx]
  000f9	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_function@@3PAP6GP6GXPAUUI_OBJECT@@PAX@Z0@ZA[edx*4]
  00100	ff d0		 call	 eax
  00102	89 45 fc	 mov	 DWORD PTR _function$[ebp], eax

; 162  : 
; 163  : 		if (function)

  00105	83 7d fc 00	 cmp	 DWORD PTR _function$[ebp], 0
  00109	74 3e		 je	 SHORT $LN10@push_ui_sc

; 164  : 		{
; 165  : 
; 166  : 			if ((get_ui_object_notify_on (this_screen) == NOTIFY_TYPE_DISPLAYED) || (get_ui_object_notify_on (this_screen) == NOTIFY_TYPE_BUTTON_EITHER))

  0010b	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  0010e	50		 push	 eax
  0010f	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00112	8b 11		 mov	 edx, DWORD PTR [ecx]
  00114	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  0011b	ff d0		 call	 eax
  0011d	83 f8 04	 cmp	 eax, 4
  00120	74 17		 je	 SHORT $LN12@push_ui_sc
  00122	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  00125	50		 push	 eax
  00126	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00129	8b 11		 mov	 edx, DWORD PTR [ecx]
  0012b	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  00132	ff d0		 call	 eax
  00134	83 f8 03	 cmp	 eax, 3
  00137	75 10		 jne	 SHORT $LN10@push_ui_sc
$LN12@push_ui_sc:

; 167  : 			{
; 168  : 
; 169  : 				function (this_screen, &screen->screen_id);

  00139	8b 45 f4	 mov	 eax, DWORD PTR _screen$[ebp]
  0013c	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  00141	50		 push	 eax
  00142	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00145	51		 push	 ecx
  00146	ff 55 fc	 call	 DWORD PTR _function$[ebp]
$LN10@push_ui_sc:

; 170  : 			}
; 171  : 		}
; 172  : 	}
; 173  : 	else

  00149	e9 48 01 00 00	 jmp	 $LN1@push_ui_sc
$LN8@push_ui_sc:

; 174  : 	{
; 175  : 	
; 176  : 		// add screen to head of stack
; 177  : 	
; 178  : 		screen = (screen_ui_object *) screen_stack_head->data;

  0014e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00153	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00156	89 4d f4	 mov	 DWORD PTR _screen$[ebp], ecx

; 179  : 	
; 180  : 		set_ui_object_drawable (screen_stack_head, FALSE);

  00159	6a 00		 push	 0
  0015b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00160	50		 push	 eax
  00161	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00167	8b 11		 mov	 edx, DWORD PTR [ecx]
  00169	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_set_ui_object_drawable@@3PAP6GXPAUUI_OBJECT@@H@ZA[edx*4]
  00170	ff d0		 call	 eax

; 181  : 
; 182  : 		// call the previous screen's function if it has one
; 183  : 
; 184  : 		function = get_ui_object_function (screen_stack_head);

  00172	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00177	50		 push	 eax
  00178	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  0017e	8b 11		 mov	 edx, DWORD PTR [ecx]
  00180	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_function@@3PAP6GP6GXPAUUI_OBJECT@@PAX@Z0@ZA[edx*4]
  00187	ff d0		 call	 eax
  00189	89 45 fc	 mov	 DWORD PTR _function$[ebp], eax

; 185  : 
; 186  : 		if (function)

  0018c	83 7d fc 00	 cmp	 DWORD PTR _function$[ebp], 0
  00190	74 4b		 je	 SHORT $LN13@push_ui_sc

; 187  : 		{
; 188  : 
; 189  : 			if ((get_ui_object_notify_on (screen_stack_head) == NOTIFY_TYPE_REMOVED) || (get_ui_object_notify_on (screen_stack_head) == NOTIFY_TYPE_BUTTON_EITHER))

  00192	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00197	50		 push	 eax
  00198	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  0019e	8b 11		 mov	 edx, DWORD PTR [ecx]
  001a0	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  001a7	ff d0		 call	 eax
  001a9	83 f8 05	 cmp	 eax, 5
  001ac	74 1c		 je	 SHORT $LN15@push_ui_sc
  001ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  001b3	50		 push	 eax
  001b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  001ba	8b 11		 mov	 edx, DWORD PTR [ecx]
  001bc	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  001c3	ff d0		 call	 eax
  001c5	83 f8 03	 cmp	 eax, 3
  001c8	75 13		 jne	 SHORT $LN13@push_ui_sc
$LN15@push_ui_sc:

; 190  : 			{
; 191  : 
; 192  : 				function (screen_stack_head, &screen->screen_id);

  001ca	8b 45 f4	 mov	 eax, DWORD PTR _screen$[ebp]
  001cd	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  001d2	50		 push	 eax
  001d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  001d9	51		 push	 ecx
  001da	ff 55 fc	 call	 DWORD PTR _function$[ebp]
$LN13@push_ui_sc:

; 193  : 			}
; 194  : 		}
; 195  : 
; 196  : 		//
; 197  : 	
; 198  : 		screen_stack_head->stack_prev = this_screen;

  001dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  001e2	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  001e5	89 48 18	 mov	 DWORD PTR [eax+24], ecx

; 199  : 	
; 200  : 		screen_stack_head = this_screen;

  001e8	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  001eb	a3 00 00 00 00	 mov	 DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A, eax

; 201  : 	
; 202  : 		screen = (screen_ui_object *) screen_stack_head->data;

  001f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  001f5	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001f8	89 4d f4	 mov	 DWORD PTR _screen$[ebp], ecx

; 203  : 	
; 204  : 		screen_stack_head->stack_id = screen_stack_size ++;

  001fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00200	66 8b 0d 00 00
	00 00		 mov	 cx, WORD PTR ?screen_stack_size@@3HA
  00207	66 89 48 1c	 mov	 WORD PTR [eax+28], cx
  0020b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?screen_stack_size@@3HA
  00211	83 c2 01	 add	 edx, 1
  00214	89 15 00 00 00
	00		 mov	 DWORD PTR ?screen_stack_size@@3HA, edx

; 205  : 	
; 206  : 		set_ui_object_drawable (screen_stack_head, TRUE);

  0021a	6a 01		 push	 1
  0021c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00221	50		 push	 eax
  00222	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?screen_stack_head@@3PAUUI_OBJECT@@A
  00228	8b 11		 mov	 edx, DWORD PTR [ecx]
  0022a	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_set_ui_object_drawable@@3PAP6GXPAUUI_OBJECT@@H@ZA[edx*4]
  00231	ff d0		 call	 eax

; 207  : 	
; 208  : 		this_screen->stack_prev = NULL;

  00233	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  00236	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 209  : 	
; 210  : 		function = get_ui_object_function (this_screen);

  0023d	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  00240	50		 push	 eax
  00241	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00244	8b 11		 mov	 edx, DWORD PTR [ecx]
  00246	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_function@@3PAP6GP6GXPAUUI_OBJECT@@PAX@Z0@ZA[edx*4]
  0024d	ff d0		 call	 eax
  0024f	89 45 fc	 mov	 DWORD PTR _function$[ebp], eax

; 211  : 	
; 212  : 		if (function)

  00252	83 7d fc 00	 cmp	 DWORD PTR _function$[ebp], 0
  00256	74 3e		 je	 SHORT $LN1@push_ui_sc

; 213  : 		{
; 214  : 	
; 215  : 			if ((get_ui_object_notify_on (this_screen) == NOTIFY_TYPE_DISPLAYED) || (get_ui_object_notify_on (this_screen) == NOTIFY_TYPE_BUTTON_EITHER))

  00258	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  0025b	50		 push	 eax
  0025c	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  0025f	8b 11		 mov	 edx, DWORD PTR [ecx]
  00261	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  00268	ff d0		 call	 eax
  0026a	83 f8 04	 cmp	 eax, 4
  0026d	74 17		 je	 SHORT $LN18@push_ui_sc
  0026f	8b 45 08	 mov	 eax, DWORD PTR _this_screen$[ebp]
  00272	50		 push	 eax
  00273	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00276	8b 11		 mov	 edx, DWORD PTR [ecx]
  00278	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_notify_on@@3PAP6G?AW4NOTIFY_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  0027f	ff d0		 call	 eax
  00281	83 f8 03	 cmp	 eax, 3
  00284	75 10		 jne	 SHORT $LN1@push_ui_sc
$LN18@push_ui_sc:

; 216  : 			{
; 217  : 
; 218  : 				function (this_screen, &screen->screen_id);

  00286	8b 45 f4	 mov	 eax, DWORD PTR _screen$[ebp]
  00289	05 e4 00 00 00	 add	 eax, 228		; 000000e4H
  0028e	50		 push	 eax
  0028f	8b 4d 08	 mov	 ecx, DWORD PTR _this_screen$[ebp]
  00292	51		 push	 ecx
  00293	ff 55 fc	 call	 DWORD PTR _function$[ebp]
$LN1@push_ui_sc:

; 219  : 			}
; 220  : 		}
; 221  : 	}
; 222  : }

  00296	5f		 pop	 edi
  00297	5e		 pop	 esi
  00298	5b		 pop	 ebx
  00299	8b e5		 mov	 esp, ebp
  0029b	5d		 pop	 ebp
  0029c	c2 04 00	 ret	 4
?push_ui_screen@@YGXPAUUI_OBJECT@@@Z ENDP		; push_ui_screen
_TEXT	ENDS
END
