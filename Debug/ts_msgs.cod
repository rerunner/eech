; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\task\ts_msgs.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_task_message_responses@@YGXXZ		; overload_task_message_responses
PUBLIC	?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA ; `response_to_link_parent'::`1'::__LINE__Var
PUBLIC	??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA ; `response_to_set_entity_position'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA ; `response_to_task_completed'::`1'::__LINE__Var
PUBLIC	??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ ; `string'
PUBLIC	??_C@_0CG@DILOGGIC@task_completed?5?$CB?$DN?5raw?9?$DOtask_com@ ; `string'
PUBLIC	??_C@_0DG@PPEDLIHH@TS_MSGS?3?5?$CFs?5Task?5?$CFs?5?$CI?$CFd?$CJ?5comple@ ; `string'
PUBLIC	??_C@_0M@BHOMBPBO@list_parent@			; `string'
PUBLIC	?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA ; `response_to_task_terminated'::`1'::__LINE__Var
PUBLIC	??_C@_0CI@NFNLDMGJ@TS_MSGS?3?5Task?5?$CFs?5incorrectly?5te@ ; `string'
PUBLIC	??_C@_0DF@CGLHMBAF@get_local_entity_type?5?$CIreceiver@ ; `string'
PUBLIC	??_C@_0CL@EMGIMDH@task_database?5?$FLraw?9?$DOsub_type?$FN?4p@ ; `string'
PUBLIC	__real@4059000000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?debug_colour_log@@YAXW4DEBUG_COLOURS@@PBDZZ:PROC ; debug_colour_log
EXTRN	?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ:PROC ; notify_local_entity
EXTRN	?set_client_server_entity_parent@@YGXPAUENTITY@@W4LIST_TYPES@@0@Z:PROC ; set_client_server_entity_parent
EXTRN	?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ:PROC ; transmit_entity_comms_message
EXTRN	?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z:PROC ; get_local_force_entity
EXTRN	?assess_task_completeness@@YG?AW4TASK_COMPLETED_TYPES@@PAUENTITY@@W4TASK_TERMINATED_TYPES@@@Z:PROC ; assess_task_completeness
EXTRN	?award_points_for_task_completion@@YGHPAUENTITY@@@Z:PROC ; award_points_for_task_completion
EXTRN	?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z:PROC ; notify_campaign_screen
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?entity_side_names@@3PAPBDA:BYTE		; entity_side_names
EXTRN	?task_terminated_names@@3PAPBDA:BYTE		; task_terminated_names
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?message_responses@@3PAY0GB@P6GHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@ZA:BYTE ; message_responses
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?fn_destroy_local_entity_family@@3PAP6GXPAUENTITY@@@ZA:BYTE ; fn_destroy_local_entity_family
EXTRN	?fn_kill_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_kill_client_server_entity
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA:BYTE ; fn_get_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_local_entity_int_value
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_string_type_message@@3PBDB:DWORD ; overload_invalid_string_type_message
EXTRN	?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA:BYTE ; fn_get_local_entity_string
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_set_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_set_local_entity_vec3d
EXTRN	?entities@@3PAUENTITY@@A:DWORD			; entities
EXTRN	?task_database@@3PAUTASK_DATA@@A:BYTE		; task_database
EXTRN	__fltused:DWORD
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT ??_C@_0CL@EMGIMDH@task_database?5?$FLraw?9?$DOsub_type?$FN?4p@
CONST	SEGMENT
??_C@_0CL@EMGIMDH@task_database?5?$FLraw?9?$DOsub_type?$FN?4p@ DB 'task_d'
	DB	'atabase [raw->sub_type].primary_task', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@CGLHMBAF@get_local_entity_type?5?$CIreceiver@
CONST	SEGMENT
??_C@_0DF@CGLHMBAF@get_local_entity_type?5?$CIreceiver@ DB 'get_local_ent'
	DB	'ity_type (receiver) == ENTITY_TYPE_TASK', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CI@NFNLDMGJ@TS_MSGS?3?5Task?5?$CFs?5incorrectly?5te@
CONST	SEGMENT
??_C@_0CI@NFNLDMGJ@TS_MSGS?3?5Task?5?$CFs?5incorrectly?5te@ DB 'TS_MSGS: '
	DB	'Task %s incorrectly terminated', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA DD 018dH ; `response_to_task_terminated'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0M@BHOMBPBO@list_parent@
CONST	SEGMENT
??_C@_0M@BHOMBPBO@list_parent@ DB 'list_parent', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@PPEDLIHH@TS_MSGS?3?5?$CFs?5Task?5?$CFs?5?$CI?$CFd?$CJ?5comple@
CONST	SEGMENT
??_C@_0DG@PPEDLIHH@TS_MSGS?3?5?$CFs?5Task?5?$CFs?5?$CI?$CFd?$CJ?5comple@ DB 'T'
	DB	'S_MSGS: %s Task %s (%d) completed - Rating %.1f (%s)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@DILOGGIC@task_completed?5?$CB?$DN?5raw?9?$DOtask_com@
CONST	SEGMENT
??_C@_0CG@DILOGGIC@task_completed?5?$CB?$DN?5raw?9?$DOtask_com@ DB 'task_'
	DB	'completed != raw->task_completed', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
CONST	SEGMENT
??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ DB 'ge'
	DB	't_comms_model () == COMMS_MODEL_SERVER', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA DD 0106H ; `response_to_task_completed'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA DD 0ccH ; `response_to_set_entity_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\task\ts_msgs.'
	DB	'c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA DD 074H ; `response_to_link_parent'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\task\ts_msgs.c
;	COMDAT ?response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z
_TEXT	SEGMENT
tv216 = -92						; size = 4
tv179 = -92						; size = 4
tv158 = -92						; size = 4
tv91 = -92						; size = 4
tv266 = -88						; size = 4
tv254 = -88						; size = 4
tv208 = -88						; size = 4
tv196 = -88						; size = 4
tv171 = -88						; size = 4
tv150 = -88						; size = 4
tv83 = -88						; size = 4
_task_terminated$ = -20					; size = 4
_en$ = -16						; size = 4
_next$ = -12						; size = 4
_guide$ = -8						; size = 4
_raw$ = -4						; size = 4
_message$ = 8						; size = 4
_receiver$ = 12						; size = 4
_sender$ = 16						; size = 4
_pargs$ = 20						; size = 4
?response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z PROC ; response_to_task_terminated, COMDAT

; 397  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 398  : 	task
; 399  : 		*raw;
; 400  : 
; 401  : 	entity
; 402  : 		*guide,
; 403  : 		*next,
; 404  : 		*en;
; 405  : 
; 406  : 	task_terminated_types
; 407  : 		task_terminated;
; 408  : 
; 409  : 	#if DEBUG_MODULE >= 2
; 410  : 
; 411  : 	debug_log_entity_message (message, receiver, sender, pargs);
; 412  : 
; 413  : 	#endif
; 414  : 
; 415  : 	ASSERT (get_comms_model () == COMMS_MODEL_SERVER);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00010	74 18		 je	 SHORT $LN7@response_t
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00017	83 c0 12	 add	 eax, 18			; 00000012H
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@response_t:

; 416  : 
; 417  : 	raw = (task *) get_local_entity_data (receiver);

  0002a	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0002d	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00030	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 418  : 
; 419  : 	if (task_database [raw->sub_type].persistent_task)

  00033	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00036	6b 08 50	 imul	 ecx, DWORD PTR [eax], 80
  00039	8b 91 28 00 00
	00		 mov	 edx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[ecx+40]
  0003f	c1 ea 03	 shr	 edx, 3
  00042	83 e2 01	 and	 edx, 1
  00045	0f 84 88 00 00
	00		 je	 $LN8@response_t

; 420  : 	{
; 421  : 		//
; 422  : 		// Landing / Takeoff etc SHOULD NOT be terminated
; 423  : 		//
; 424  : 
; 425  : 		debug_fatal ("TS_MSGS: Task %s incorrectly terminated", get_local_entity_string (receiver, STRING_TYPE_FULL_NAME));

  0004b	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  0004f	74 0a		 je	 SHORT $LN18@response_t
  00051	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00054	8b 08		 mov	 ecx, DWORD PTR [eax]
  00056	89 4d a8	 mov	 DWORD PTR tv83[ebp], ecx
  00059	eb 21		 jmp	 SHORT $LN19@response_t
$LN18@response_t:
  0005b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00061	83 c2 1c	 add	 edx, 28			; 0000001cH
  00064	52		 push	 edx
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0006f	50		 push	 eax
  00070	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00075	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN19@response_t:
  0007c	b9 01 00 00 00	 mov	 ecx, 1
  00081	85 c9		 test	 ecx, ecx
  00083	74 09		 je	 SHORT $LN20@response_t
  00085	c7 45 a4 03 00
	00 00		 mov	 DWORD PTR tv91[ebp], 3
  0008c	eb 21		 jmp	 SHORT $LN21@response_t
$LN20@response_t:
  0008e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00094	83 c2 1c	 add	 edx, 28			; 0000001cH
  00097	52		 push	 edx
  00098	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0009d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_string_type_message@@3PBDB ; overload_invalid_string_type_message
  000a2	50		 push	 eax
  000a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000a8	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv91[ebp], 0
$LN21@response_t:
  000af	6a 03		 push	 3
  000b1	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  000b4	51		 push	 ecx
  000b5	6b 55 a8 34	 imul	 edx, DWORD PTR tv83[ebp], 52
  000b9	8b 45 a4	 mov	 eax, DWORD PTR tv91[ebp]
  000bc	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA[edx+eax*4]
  000c3	ff d1		 call	 ecx
  000c5	50		 push	 eax
  000c6	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@NFNLDMGJ@TS_MSGS?3?5Task?5?$CFs?5incorrectly?5te@
  000cb	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000d0	83 c4 08	 add	 esp, 8
$LN8@response_t:

; 426  : 	}
; 427  : 
; 428  : 	//
; 429  : 	// Check for cyclic conditions
; 430  : 	//
; 431  : 
; 432  : 	if (raw->task_terminated != TASK_TERMINATED_IN_PROGRESS)

  000d3	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000d6	83 b8 8c 00 00
	00 00		 cmp	 DWORD PTR [eax+140], 0
  000dd	74 07		 je	 SHORT $LN9@response_t

; 433  : 	{
; 434  : 		return FALSE;

  000df	33 c0		 xor	 eax, eax
  000e1	e9 59 03 00 00	 jmp	 $LN1@response_t
$LN9@response_t:

; 435  : 	}
; 436  : 
; 437  : 	task_terminated = va_arg (pargs, task_terminated_types);

  000e6	8b 45 14	 mov	 eax, DWORD PTR _pargs$[ebp]
  000e9	83 c0 04	 add	 eax, 4
  000ec	89 45 14	 mov	 DWORD PTR _pargs$[ebp], eax
  000ef	8b 4d 14	 mov	 ecx, DWORD PTR _pargs$[ebp]
  000f2	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  000f5	89 55 ec	 mov	 DWORD PTR _task_terminated$[ebp], edx

; 438  : 
; 439  : 	#if DEBUG_MODULE
; 440  : 
; 441  : 	debug_log ("TS_MSGS: task terminated %s (%d) %s",
; 442  : 					get_local_entity_string (receiver, STRING_TYPE_FULL_NAME),
; 443  : 					get_local_entity_index (receiver),
; 444  : 					task_terminated_names [task_terminated]);
; 445  : 
; 446  : 	#endif
; 447  : 
; 448  : 	raw->task_terminated = task_terminated;

  000f8	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000fb	8b 4d ec	 mov	 ecx, DWORD PTR _task_terminated$[ebp]
  000fe	89 88 8c 00 00
	00		 mov	 DWORD PTR [eax+140], ecx

; 449  : 
; 450  : 	//
; 451  : 	// Call completed code also
; 452  : 	//
; 453  : 
; 454  : 	if (raw->task_completed == TASK_INCOMPLETE)

  00104	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00107	8b 88 9c 00 00
	00		 mov	 ecx, DWORD PTR [eax+156]
  0010d	c1 e9 0c	 shr	 ecx, 12			; 0000000cH
  00110	83 e1 07	 and	 ecx, 7
  00113	75 16		 jne	 SHORT $LN10@response_t

; 455  : 	{
; 456  : 		notify_local_entity (ENTITY_MESSAGE_TASK_COMPLETED, receiver, sender, task_terminated);

  00115	8b 45 ec	 mov	 eax, DWORD PTR _task_terminated$[ebp]
  00118	50		 push	 eax
  00119	8b 4d 10	 mov	 ecx, DWORD PTR _sender$[ebp]
  0011c	51		 push	 ecx
  0011d	8b 55 0c	 mov	 edx, DWORD PTR _receiver$[ebp]
  00120	52		 push	 edx
  00121	6a 32		 push	 50			; 00000032H
  00123	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00128	83 c4 10	 add	 esp, 16			; 00000010H
$LN10@response_t:

; 457  : 	}
; 458  : 
; 459  : 	//
; 460  : 	// Inform dependents task terminated
; 461  : 	//
; 462  : 
; 463  : 	en = get_local_entity_first_child (receiver, LIST_TYPE_TASK_DEPENDENT);

  0012b	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  0012f	74 0a		 je	 SHORT $LN22@response_t
  00131	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00134	8b 08		 mov	 ecx, DWORD PTR [eax]
  00136	89 4d a8	 mov	 DWORD PTR tv150[ebp], ecx
  00139	eb 21		 jmp	 SHORT $LN23@response_t
$LN22@response_t:
  0013b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00141	83 c2 42	 add	 edx, 66			; 00000042H
  00144	52		 push	 edx
  00145	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0014f	50		 push	 eax
  00150	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00155	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv150[ebp], 0
$LN23@response_t:
  0015c	b9 01 00 00 00	 mov	 ecx, 1
  00161	85 c9		 test	 ecx, ecx
  00163	74 09		 je	 SHORT $LN24@response_t
  00165	c7 45 a4 27 00
	00 00		 mov	 DWORD PTR tv158[ebp], 39 ; 00000027H
  0016c	eb 21		 jmp	 SHORT $LN25@response_t
$LN24@response_t:
  0016e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00174	83 c2 42	 add	 edx, 66			; 00000042H
  00177	52		 push	 edx
  00178	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00182	50		 push	 eax
  00183	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00188	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv158[ebp], 0
$LN25@response_t:
  0018f	6a 27		 push	 39			; 00000027H
  00191	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00194	51		 push	 ecx
  00195	69 55 a8 b4 00
	00 00		 imul	 edx, DWORD PTR tv150[ebp], 180
  0019c	8b 45 a4	 mov	 eax, DWORD PTR tv158[ebp]
  0019f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001a6	ff d1		 call	 ecx
  001a8	89 45 f0	 mov	 DWORD PTR _en$[ebp], eax
$LN2@response_t:

; 464  : 
; 465  : 	while (en)

  001ab	83 7d f0 00	 cmp	 DWORD PTR _en$[ebp], 0
  001af	0f 84 a9 00 00
	00		 je	 $LN3@response_t

; 466  : 	{
; 467  : 		next = get_local_entity_child_succ (en, LIST_TYPE_TASK_DEPENDENT);

  001b5	83 7d f0 00	 cmp	 DWORD PTR _en$[ebp], 0
  001b9	74 0a		 je	 SHORT $LN26@response_t
  001bb	8b 45 f0	 mov	 eax, DWORD PTR _en$[ebp]
  001be	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c0	89 4d a8	 mov	 DWORD PTR tv171[ebp], ecx
  001c3	eb 21		 jmp	 SHORT $LN27@response_t
$LN26@response_t:
  001c5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  001cb	83 c2 46	 add	 edx, 70			; 00000046H
  001ce	52		 push	 edx
  001cf	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001d9	50		 push	 eax
  001da	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001df	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv171[ebp], 0
$LN27@response_t:
  001e6	b9 01 00 00 00	 mov	 ecx, 1
  001eb	85 c9		 test	 ecx, ecx
  001ed	74 09		 je	 SHORT $LN28@response_t
  001ef	c7 45 a4 27 00
	00 00		 mov	 DWORD PTR tv179[ebp], 39 ; 00000027H
  001f6	eb 21		 jmp	 SHORT $LN29@response_t
$LN28@response_t:
  001f8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  001fe	83 c2 46	 add	 edx, 70			; 00000046H
  00201	52		 push	 edx
  00202	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00207	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0020c	50		 push	 eax
  0020d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00212	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN29@response_t:
  00219	6a 27		 push	 39			; 00000027H
  0021b	8b 4d f0	 mov	 ecx, DWORD PTR _en$[ebp]
  0021e	51		 push	 ecx
  0021f	69 55 a8 b4 00
	00 00		 imul	 edx, DWORD PTR tv171[ebp], 180
  00226	8b 45 a4	 mov	 eax, DWORD PTR tv179[ebp]
  00229	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00230	ff d1		 call	 ecx
  00232	89 45 f4	 mov	 DWORD PTR _next$[ebp], eax

; 468  : 
; 469  : 		if (en != sender)

  00235	8b 45 f0	 mov	 eax, DWORD PTR _en$[ebp]
  00238	3b 45 10	 cmp	 eax, DWORD PTR _sender$[ebp]
  0023b	74 16		 je	 SHORT $LN11@response_t

; 470  : 		{
; 471  : 			notify_local_entity (ENTITY_MESSAGE_TASK_COMPLETED, en, receiver, task_terminated);

  0023d	8b 45 ec	 mov	 eax, DWORD PTR _task_terminated$[ebp]
  00240	50		 push	 eax
  00241	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00244	51		 push	 ecx
  00245	8b 55 f0	 mov	 edx, DWORD PTR _en$[ebp]
  00248	52		 push	 edx
  00249	6a 32		 push	 50			; 00000032H
  0024b	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00250	83 c4 10	 add	 esp, 16			; 00000010H
$LN11@response_t:

; 472  : 		}
; 473  : 
; 474  : 		en = next;

  00253	8b 45 f4	 mov	 eax, DWORD PTR _next$[ebp]
  00256	89 45 f0	 mov	 DWORD PTR _en$[ebp], eax

; 475  : 	}

  00259	e9 4d ff ff ff	 jmp	 $LN2@response_t
$LN3@response_t:

; 476  : 
; 477  : 	ASSERT (get_local_entity_type (receiver) == ENTITY_TYPE_TASK);		// Check task has not been prematurely destroyed by dependents

  0025e	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  00262	74 0a		 je	 SHORT $LN30@response_t
  00264	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00267	8b 08		 mov	 ecx, DWORD PTR [eax]
  00269	89 4d a8	 mov	 DWORD PTR tv196[ebp], ecx
  0026c	eb 21		 jmp	 SHORT $LN31@response_t
$LN30@response_t:
  0026e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00274	83 c2 50	 add	 edx, 80			; 00000050H
  00277	52		 push	 edx
  00278	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0027d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00282	50		 push	 eax
  00283	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00288	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv196[ebp], 0
$LN31@response_t:
  0028f	83 7d a8 22	 cmp	 DWORD PTR tv196[ebp], 34 ; 00000022H
  00293	74 18		 je	 SHORT $LN6@response_t
  00295	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0029a	83 c0 50	 add	 eax, 80			; 00000050H
  0029d	50		 push	 eax
  0029e	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002a3	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@CGLHMBAF@get_local_entity_type?5?$CIreceiver@
  002a8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@response_t:

; 478  : 
; 479  : 	//
; 480  : 	// Inform GUIDE ENTITY task terminated (This will sever all links between the task and it's guide / group / members etc.)
; 481  : 	//
; 482  : 
; 483  : 	do
; 484  : 	{
; 485  : 		guide = get_local_entity_first_child (receiver, LIST_TYPE_GUIDE);

  002ad	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  002b1	74 0a		 je	 SHORT $LN32@response_t
  002b3	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  002b6	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b8	89 4d a8	 mov	 DWORD PTR tv208[ebp], ecx
  002bb	eb 21		 jmp	 SHORT $LN33@response_t
$LN32@response_t:
  002bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  002c3	83 c2 58	 add	 edx, 88			; 00000058H
  002c6	52		 push	 edx
  002c7	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002d1	50		 push	 eax
  002d2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d7	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv208[ebp], 0
$LN33@response_t:
  002de	b9 01 00 00 00	 mov	 ecx, 1
  002e3	85 c9		 test	 ecx, ecx
  002e5	74 09		 je	 SHORT $LN34@response_t
  002e7	c7 45 a4 10 00
	00 00		 mov	 DWORD PTR tv216[ebp], 16 ; 00000010H
  002ee	eb 21		 jmp	 SHORT $LN35@response_t
$LN34@response_t:
  002f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  002f6	83 c2 58	 add	 edx, 88			; 00000058H
  002f9	52		 push	 edx
  002fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00304	50		 push	 eax
  00305	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0030a	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv216[ebp], 0
$LN35@response_t:
  00311	6a 10		 push	 16			; 00000010H
  00313	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00316	51		 push	 ecx
  00317	69 55 a8 b4 00
	00 00		 imul	 edx, DWORD PTR tv208[ebp], 180
  0031e	8b 45 a4	 mov	 eax, DWORD PTR tv216[ebp]
  00321	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00328	ff d1		 call	 ecx
  0032a	89 45 f8	 mov	 DWORD PTR _guide$[ebp], eax

; 486  : 
; 487  : 		if (guide)

  0032d	83 7d f8 00	 cmp	 DWORD PTR _guide$[ebp], 0
  00331	74 16		 je	 SHORT $LN4@response_t

; 488  : 		{
; 489  : 			notify_local_entity (ENTITY_MESSAGE_TASK_TERMINATED, guide, receiver, task_terminated);

  00333	8b 45 ec	 mov	 eax, DWORD PTR _task_terminated$[ebp]
  00336	50		 push	 eax
  00337	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  0033a	51		 push	 ecx
  0033b	8b 55 f8	 mov	 edx, DWORD PTR _guide$[ebp]
  0033e	52		 push	 edx
  0033f	6a 36		 push	 54			; 00000036H
  00341	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00346	83 c4 10	 add	 esp, 16			; 00000010H
$LN4@response_t:

; 490  : 		}
; 491  : 	}
; 492  : 	while (guide);

  00349	83 7d f8 00	 cmp	 DWORD PTR _guide$[ebp], 0
  0034d	0f 85 5a ff ff
	ff		 jne	 $LN6@response_t

; 493  : 
; 494  : 	if ((raw->task_state != TASK_STATE_UNASSIGNED) && (task_database [raw->sub_type].visible_task))

  00353	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00356	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  0035a	0f 84 8b 00 00
	00		 je	 $LN14@response_t
  00360	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00363	6b 08 50	 imul	 ecx, DWORD PTR [eax], 80
  00366	8b 91 28 00 00
	00		 mov	 edx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[ecx+40]
  0036c	c1 ea 04	 shr	 edx, 4
  0036f	83 e2 01	 and	 edx, 1
  00372	74 77		 je	 SHORT $LN14@response_t

; 495  : 	{
; 496  : 		//
; 497  : 		// Destroy Links
; 498  : 		//
; 499  : 	
; 500  : 		ASSERT (task_database [raw->sub_type].primary_task);

  00374	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00377	6b 08 50	 imul	 ecx, DWORD PTR [eax], 80
  0037a	8b 91 28 00 00
	00		 mov	 edx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[ecx+40]
  00380	d1 ea		 shr	 edx, 1
  00382	83 e2 01	 and	 edx, 1
  00385	75 18		 jne	 SHORT $LN16@response_t
  00387	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0038c	83 c0 67	 add	 eax, 103		; 00000067H
  0038f	50		 push	 eax
  00390	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00395	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@EMGIMDH@task_database?5?$FLraw?9?$DOsub_type?$FN?4p@
  0039a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN16@response_t:

; 501  : 
; 502  : 		kill_client_server_entity (receiver);

  0039f	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  003a3	74 0a		 je	 SHORT $LN36@response_t
  003a5	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  003a8	8b 08		 mov	 ecx, DWORD PTR [eax]
  003aa	89 4d a8	 mov	 DWORD PTR tv254[ebp], ecx
  003ad	eb 21		 jmp	 SHORT $LN37@response_t
$LN36@response_t:
  003af	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  003b5	83 c2 69	 add	 edx, 105		; 00000069H
  003b8	52		 push	 edx
  003b9	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  003be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003c3	50		 push	 eax
  003c4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003c9	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv254[ebp], 0
$LN37@response_t:
  003d0	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  003d3	51		 push	 ecx
  003d4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  003da	c1 e2 02	 shl	 edx, 2
  003dd	8b 45 a8	 mov	 eax, DWORD PTR tv254[ebp]
  003e0	8b 8c c2 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_kill_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[edx+eax*8]
  003e7	ff d1		 call	 ecx

; 503  : 	}
; 504  : 	else

  003e9	eb 4f		 jmp	 SHORT $LN15@response_t
$LN14@response_t:

; 505  : 	{
; 506  : 		//
; 507  : 		// Destroy task
; 508  : 		//
; 509  : 			
; 510  : 		destroy_local_entity_family (receiver);

  003eb	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  003ef	74 0a		 je	 SHORT $LN38@response_t
  003f1	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  003f4	8b 08		 mov	 ecx, DWORD PTR [eax]
  003f6	89 4d a8	 mov	 DWORD PTR tv266[ebp], ecx
  003f9	eb 21		 jmp	 SHORT $LN39@response_t
$LN38@response_t:
  003fb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00401	83 c2 71	 add	 edx, 113		; 00000071H
  00404	52		 push	 edx
  00405	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0040a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0040f	50		 push	 eax
  00410	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00415	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv266[ebp], 0
$LN39@response_t:
  0041c	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  0041f	51		 push	 ecx
  00420	8b 55 a8	 mov	 edx, DWORD PTR tv266[ebp]
  00423	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_destroy_local_entity_family@@3PAP6GXPAUENTITY@@@ZA[edx*4]
  0042a	ff d0		 call	 eax

; 511  : 	
; 512  : 		transmit_entity_comms_message (ENTITY_COMMS_DESTROY_LOCAL_FAMILY, receiver);

  0042c	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0042f	50		 push	 eax
  00430	6a 14		 push	 20			; 00000014H
  00432	e8 00 00 00 00	 call	 ?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ ; transmit_entity_comms_message
  00437	83 c4 08	 add	 esp, 8
$LN15@response_t:

; 513  : 	}
; 514  : 
; 515  : 	return (TRUE);

  0043a	b8 01 00 00 00	 mov	 eax, 1
$LN1@response_t:

; 516  : }

  0043f	5f		 pop	 edi
  00440	5e		 pop	 esi
  00441	5b		 pop	 ebx
  00442	8b e5		 mov	 esp, ebp
  00444	5d		 pop	 ebp
  00445	c2 10 00	 ret	 16			; 00000010H
?response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ENDP ; response_to_task_terminated
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\task\ts_msgs.c
;	COMDAT ?response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z
_TEXT	SEGMENT
tv437 = -120						; size = 8
tv242 = -112						; size = 4
tv234 = -108						; size = 4
tv221 = -104						; size = 4
tv213 = -100						; size = 4
tv354 = -96						; size = 4
tv332 = -96						; size = 4
tv307 = -96						; size = 4
tv276 = -96						; size = 4
tv194 = -96						; size = 4
tv169 = -96						; size = 4
tv131 = -96						; size = 4
tv346 = -92						; size = 4
tv324 = -92						; size = 4
tv299 = -92						; size = 4
tv268 = -92						; size = 4
tv186 = -92						; size = 4
tv161 = -92						; size = 4
tv91 = -92						; size = 4
tv84 = -92						; size = 4
_task_completed$ = -24					; size = 4
_task_terminated$ = -20					; size = 4
_list_parent$ = -16					; size = 4
_guide$ = -12						; size = 4
_force$ = -8						; size = 4
_raw$ = -4						; size = 4
_message$ = 8						; size = 4
_receiver$ = 12						; size = 4
_sender$ = 16						; size = 4
_pargs$ = 20						; size = 4
?response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z PROC ; response_to_task_completed, COMDAT

; 262  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 78	 sub	 esp, 120		; 00000078H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 263  : 	task
; 264  : 		*raw;
; 265  : 
; 266  : 	entity
; 267  : 		*force,
; 268  : 		*guide,
; 269  : 		*list_parent;
; 270  : 
; 271  : 	task_terminated_types
; 272  : 		task_terminated;
; 273  : 
; 274  : 	task_completed_types
; 275  : 		task_completed;
; 276  : 
; 277  : 	#if DEBUG_MODULE >= 2
; 278  : 
; 279  : 	debug_log_entity_message (message, receiver, sender, pargs);
; 280  : 
; 281  : 	#endif
; 282  : 
; 283  : 	ASSERT (get_comms_model () == COMMS_MODEL_SERVER);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00010	74 18		 je	 SHORT $LN6@response_t
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00017	83 c0 15	 add	 eax, 21			; 00000015H
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@response_t:

; 284  : 
; 285  : 	task_terminated = (task_terminated_types) va_arg (pargs, int);

  0002a	8b 45 14	 mov	 eax, DWORD PTR _pargs$[ebp]
  0002d	83 c0 04	 add	 eax, 4
  00030	89 45 14	 mov	 DWORD PTR _pargs$[ebp], eax
  00033	8b 4d 14	 mov	 ecx, DWORD PTR _pargs$[ebp]
  00036	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  00039	89 55 ec	 mov	 DWORD PTR _task_terminated$[ebp], edx

; 286  : 
; 287  : 	raw = (task *) get_local_entity_data (receiver);

  0003c	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0003f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00042	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 288  : 
; 289  : 	if (raw->task_completed == TASK_INCOMPLETE)

  00045	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00048	8b 88 9c 00 00
	00		 mov	 ecx, DWORD PTR [eax+156]
  0004e	c1 e9 0c	 shr	 ecx, 12			; 0000000cH
  00051	83 e1 07	 and	 ecx, 7
  00054	0f 85 23 06 00
	00		 jne	 $LN9@response_t

; 290  : 	{
; 291  : 		if (task_database [raw->sub_type].primary_task)

  0005a	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0005d	6b 08 50	 imul	 ecx, DWORD PTR [eax], 80
  00060	8b 91 28 00 00
	00		 mov	 edx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[ecx+40]
  00066	d1 ea		 shr	 edx, 1
  00068	83 e2 01	 and	 edx, 1
  0006b	0f 84 6d 05 00
	00		 je	 $LN8@response_t

; 292  : 		{
; 293  : 			switch (raw->task_state)

  00071	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00074	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00077	89 4d a4	 mov	 DWORD PTR tv84[ebp], ecx
  0007a	83 7d a4 00	 cmp	 DWORD PTR tv84[ebp], 0
  0007e	74 0f		 je	 SHORT $LN10@response_t
  00080	83 7d a4 01	 cmp	 DWORD PTR tv84[ebp], 1
  00084	0f 84 a9 00 00
	00		 je	 $LN11@response_t
  0008a	e9 4a 05 00 00	 jmp	 $LN2@response_t
$LN10@response_t:

; 294  : 			{
; 295  : 				case TASK_STATE_UNASSIGNED:
; 296  : 				{
; 297  : 					//
; 298  : 					// Terminate task
; 299  : 					//
; 300  : 	
; 301  : 					set_client_server_entity_int_value (receiver, INT_TYPE_TASK_COMPLETED, TASK_COMPLETED_FAILURE);

  0008f	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  00093	74 0a		 je	 SHORT $LN16@response_t
  00095	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00098	8b 08		 mov	 ecx, DWORD PTR [eax]
  0009a	89 4d a4	 mov	 DWORD PTR tv91[ebp], ecx
  0009d	eb 21		 jmp	 SHORT $LN17@response_t
$LN16@response_t:
  0009f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  000a5	83 c2 27	 add	 edx, 39			; 00000027H
  000a8	52		 push	 edx
  000a9	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000b3	50		 push	 eax
  000b4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b9	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv91[ebp], 0
$LN17@response_t:
  000c0	b9 01 00 00 00	 mov	 ecx, 1
  000c5	85 c9		 test	 ecx, ecx
  000c7	74 09		 je	 SHORT $LN18@response_t
  000c9	c7 45 a0 d9 00
	00 00		 mov	 DWORD PTR tv131[ebp], 217 ; 000000d9H
  000d0	eb 21		 jmp	 SHORT $LN19@response_t
$LN18@response_t:
  000d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  000d8	83 c2 27	 add	 edx, 39			; 00000027H
  000db	52		 push	 edx
  000dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN19@response_t:
  000f3	6a 01		 push	 1
  000f5	68 d9 00 00 00	 push	 217			; 000000d9H
  000fa	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  000fd	51		 push	 ecx
  000fe	69 55 a4 b8 08
	00 00		 imul	 edx, DWORD PTR tv91[ebp], 2232
  00105	8b 45 a0	 mov	 eax, DWORD PTR tv131[ebp]
  00108	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  0010f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00115	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  00118	ff d0		 call	 eax

; 302  : 
; 303  : 					notify_local_entity (ENTITY_MESSAGE_TASK_TERMINATED, receiver, sender, TASK_TERMINATED_OBJECTIVE_MESSAGE);

  0011a	6a 04		 push	 4
  0011c	8b 45 10	 mov	 eax, DWORD PTR _sender$[ebp]
  0011f	50		 push	 eax
  00120	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00123	51		 push	 ecx
  00124	6a 36		 push	 54			; 00000036H
  00126	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  0012b	83 c4 10	 add	 esp, 16			; 00000010H

; 304  : 
; 305  : 					break;

  0012e	e9 a6 04 00 00	 jmp	 $LN2@response_t
$LN11@response_t:

; 306  : 				}
; 307  : 				case TASK_STATE_ASSIGNED:
; 308  : 				{
; 309  : 					//
; 310  : 					// Assess task rating
; 311  : 					//
; 312  : 					
; 313  : 					task_completed = assess_task_completeness (receiver, task_terminated);

  00133	8b 45 ec	 mov	 eax, DWORD PTR _task_terminated$[ebp]
  00136	50		 push	 eax
  00137	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  0013a	51		 push	 ecx
  0013b	e8 00 00 00 00	 call	 ?assess_task_completeness@@YG?AW4TASK_COMPLETED_TYPES@@PAUENTITY@@W4TASK_TERMINATED_TYPES@@@Z ; assess_task_completeness
  00140	89 45 e8	 mov	 DWORD PTR _task_completed$[ebp], eax

; 314  : 
; 315  : 					if (task_completed != TASK_INCOMPLETE)

  00143	83 7d e8 00	 cmp	 DWORD PTR _task_completed$[ebp], 0
  00147	0f 84 8c 04 00
	00		 je	 $LN5@response_t

; 316  : 					{
; 317  : 						ASSERT (task_completed != raw->task_completed);

  0014d	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00150	8b 88 9c 00 00
	00		 mov	 ecx, DWORD PTR [eax+156]
  00156	c1 e9 0c	 shr	 ecx, 12			; 0000000cH
  00159	83 e1 07	 and	 ecx, 7
  0015c	39 4d e8	 cmp	 DWORD PTR _task_completed$[ebp], ecx
  0015f	75 18		 jne	 SHORT $LN13@response_t
  00161	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00166	83 c0 37	 add	 eax, 55			; 00000037H
  00169	50		 push	 eax
  0016a	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0016f	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@DILOGGIC@task_completed?5?$CB?$DN?5raw?9?$DOtask_com@
  00174	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN13@response_t:

; 318  : 	
; 319  : 						set_client_server_entity_int_value (receiver, INT_TYPE_TASK_COMPLETED, task_completed);

  00179	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  0017d	74 0a		 je	 SHORT $LN20@response_t
  0017f	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00182	8b 08		 mov	 ecx, DWORD PTR [eax]
  00184	89 4d a4	 mov	 DWORD PTR tv161[ebp], ecx
  00187	eb 21		 jmp	 SHORT $LN21@response_t
$LN20@response_t:
  00189	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0018f	83 c2 39	 add	 edx, 57			; 00000039H
  00192	52		 push	 edx
  00193	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00198	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0019d	50		 push	 eax
  0019e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001a3	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv161[ebp], 0
$LN21@response_t:
  001aa	b9 01 00 00 00	 mov	 ecx, 1
  001af	85 c9		 test	 ecx, ecx
  001b1	74 09		 je	 SHORT $LN22@response_t
  001b3	c7 45 a0 d9 00
	00 00		 mov	 DWORD PTR tv169[ebp], 217 ; 000000d9H
  001ba	eb 21		 jmp	 SHORT $LN23@response_t
$LN22@response_t:
  001bc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  001c2	83 c2 39	 add	 edx, 57			; 00000039H
  001c5	52		 push	 edx
  001c6	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001d0	50		 push	 eax
  001d1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d6	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv169[ebp], 0
$LN23@response_t:
  001dd	8b 4d e8	 mov	 ecx, DWORD PTR _task_completed$[ebp]
  001e0	51		 push	 ecx
  001e1	68 d9 00 00 00	 push	 217			; 000000d9H
  001e6	8b 55 0c	 mov	 edx, DWORD PTR _receiver$[ebp]
  001e9	52		 push	 edx
  001ea	69 45 a4 b8 08
	00 00		 imul	 eax, DWORD PTR tv161[ebp], 2232
  001f1	8b 4d a0	 mov	 ecx, DWORD PTR tv169[ebp]
  001f4	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  001fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00200	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  00203	ff d1		 call	 ecx

; 320  : 
; 321  : //						#if DEBUG_MODULE
; 322  : 					
; 323  : 						debug_colour_log (DEBUG_COLOUR_GREEN, "TS_MSGS: %s Task %s (%d) completed - Rating %.1f (%s)",

  00205	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  00209	74 0a		 je	 SHORT $LN24@response_t
  0020b	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0020e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00210	89 4d a4	 mov	 DWORD PTR tv186[ebp], ecx
  00213	eb 21		 jmp	 SHORT $LN25@response_t
$LN24@response_t:
  00215	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0021b	83 c2 41	 add	 edx, 65			; 00000041H
  0021e	52		 push	 edx
  0021f	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00224	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00229	50		 push	 eax
  0022a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0022f	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv186[ebp], 0
$LN25@response_t:
  00236	b9 01 00 00 00	 mov	 ecx, 1
  0023b	85 c9		 test	 ecx, ecx
  0023d	74 09		 je	 SHORT $LN26@response_t
  0023f	c7 45 a0 6c 00
	00 00		 mov	 DWORD PTR tv194[ebp], 108 ; 0000006cH
  00246	eb 21		 jmp	 SHORT $LN27@response_t
$LN26@response_t:
  00248	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0024e	83 c2 41	 add	 edx, 65			; 00000041H
  00251	52		 push	 edx
  00252	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00257	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0025c	50		 push	 eax
  0025d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00262	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv194[ebp], 0
$LN27@response_t:
  00269	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  0026d	74 0a		 je	 SHORT $LN28@response_t
  0026f	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00272	8b 11		 mov	 edx, DWORD PTR [ecx]
  00274	89 55 9c	 mov	 DWORD PTR tv213[ebp], edx
  00277	eb 21		 jmp	 SHORT $LN29@response_t
$LN28@response_t:
  00279	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0027e	83 c0 3f	 add	 eax, 63			; 0000003fH
  00281	50		 push	 eax
  00282	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00287	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0028d	51		 push	 ecx
  0028e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00293	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv213[ebp], 0
$LN29@response_t:
  0029a	ba 01 00 00 00	 mov	 edx, 1
  0029f	85 d2		 test	 edx, edx
  002a1	74 09		 je	 SHORT $LN30@response_t
  002a3	c7 45 98 03 00
	00 00		 mov	 DWORD PTR tv221[ebp], 3
  002aa	eb 21		 jmp	 SHORT $LN31@response_t
$LN30@response_t:
  002ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  002b1	83 c0 3f	 add	 eax, 63			; 0000003fH
  002b4	50		 push	 eax
  002b5	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ba	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_string_type_message@@3PBDB ; overload_invalid_string_type_message
  002c0	51		 push	 ecx
  002c1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002c6	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv221[ebp], 0
$LN31@response_t:
  002cd	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  002d1	74 0a		 je	 SHORT $LN32@response_t
  002d3	8b 55 0c	 mov	 edx, DWORD PTR _receiver$[ebp]
  002d6	8b 02		 mov	 eax, DWORD PTR [edx]
  002d8	89 45 94	 mov	 DWORD PTR tv234[ebp], eax
  002db	eb 22		 jmp	 SHORT $LN33@response_t
$LN32@response_t:
  002dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  002e3	83 c1 3e	 add	 ecx, 62			; 0000003eH
  002e6	51		 push	 ecx
  002e7	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ec	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002f2	52		 push	 edx
  002f3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002f8	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv234[ebp], 0
$LN33@response_t:
  002ff	b8 01 00 00 00	 mov	 eax, 1
  00304	85 c0		 test	 eax, eax
  00306	74 09		 je	 SHORT $LN34@response_t
  00308	c7 45 90 bb 00
	00 00		 mov	 DWORD PTR tv242[ebp], 187 ; 000000bbH
  0030f	eb 22		 jmp	 SHORT $LN35@response_t
$LN34@response_t:
  00311	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00317	83 c1 3e	 add	 ecx, 62			; 0000003eH
  0031a	51		 push	 ecx
  0031b	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00320	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00326	52		 push	 edx
  00327	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0032c	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv242[ebp], 0
$LN35@response_t:
  00333	8b 45 ec	 mov	 eax, DWORD PTR _task_terminated$[ebp]
  00336	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?task_terminated_names@@3PAPBDA[eax*4]
  0033d	51		 push	 ecx
  0033e	6a 6c		 push	 108			; 0000006cH
  00340	8b 55 0c	 mov	 edx, DWORD PTR _receiver$[ebp]
  00343	52		 push	 edx
  00344	69 45 a4 bc 02
	00 00		 imul	 eax, DWORD PTR tv186[ebp], 700
  0034b	8b 4d a0	 mov	 ecx, DWORD PTR tv194[ebp]
  0034e	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  00355	ff d2		 call	 edx
  00357	dd 5d 88	 fstp	 QWORD PTR tv437[ebp]
  0035a	f2 0f 10 45 88	 movsd	 xmm0, QWORD PTR tv437[ebp]
  0035f	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4059000000000000
  00367	83 ec 08	 sub	 esp, 8
  0036a	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0036f	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00372	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  00378	c1 f8 04	 sar	 eax, 4
  0037b	50		 push	 eax
  0037c	6a 03		 push	 3
  0037e	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00381	51		 push	 ecx
  00382	6b 55 9c 34	 imul	 edx, DWORD PTR tv213[ebp], 52
  00386	8b 45 98	 mov	 eax, DWORD PTR tv221[ebp]
  00389	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_string@@3PAY0N@P6GPBDPAUENTITY@@W4STRING_TYPES@@@ZA[edx+eax*4]
  00390	ff d1		 call	 ecx
  00392	50		 push	 eax
  00393	68 bb 00 00 00	 push	 187			; 000000bbH
  00398	8b 55 0c	 mov	 edx, DWORD PTR _receiver$[ebp]
  0039b	52		 push	 edx
  0039c	69 45 94 5c 04
	00 00		 imul	 eax, DWORD PTR tv234[ebp], 1116
  003a3	8b 4d 90	 mov	 ecx, DWORD PTR tv242[ebp]
  003a6	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  003ad	ff d2		 call	 edx
  003af	8b 04 85 00 00
	00 00		 mov	 eax, DWORD PTR ?entity_side_names@@3PAPBDA[eax*4]
  003b6	50		 push	 eax
  003b7	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@PPEDLIHH@TS_MSGS?3?5?$CFs?5Task?5?$CFs?5?$CI?$CFd?$CJ?5comple@
  003bc	6a 02		 push	 2
  003be	e8 00 00 00 00	 call	 ?debug_colour_log@@YAXW4DEBUG_COLOURS@@PBDZZ ; debug_colour_log
  003c3	83 c4 20	 add	 esp, 32			; 00000020H

; 324  : 													entity_side_names [get_local_entity_int_value (receiver, INT_TYPE_SIDE)],
; 325  : 													get_local_entity_string (receiver, STRING_TYPE_FULL_NAME),
; 326  : 													get_local_entity_index (receiver),
; 327  : 													(get_local_entity_float_value (receiver, FLOAT_TYPE_RATING) * 100.0),
; 328  : 													task_terminated_names [task_terminated]
; 329  : 												);
; 330  : 
; 331  : //						#endif
; 332  : 
; 333  : 						//
; 334  : 						// Award Task Points
; 335  : 						//
; 336  : 
; 337  : 						award_points_for_task_completion (receiver);

  003c6	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  003c9	50		 push	 eax
  003ca	e8 00 00 00 00	 call	 ?award_points_for_task_completion@@YGHPAUENTITY@@@Z ; award_points_for_task_completion

; 338  : 
; 339  : 						//
; 340  : 						// Notify force 
; 341  : 						//		
; 342  : 			
; 343  : 						force = get_local_force_entity ((entity_sides) raw->side);

  003cf	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  003d2	8b 88 a8 00 00
	00		 mov	 ecx, DWORD PTR [eax+168]
  003d8	83 e1 03	 and	 ecx, 3
  003db	51		 push	 ecx
  003dc	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  003e1	89 45 f8	 mov	 DWORD PTR _force$[ebp], eax

; 344  : 	
; 345  : 						notify_local_entity (ENTITY_MESSAGE_TASK_COMPLETED, force, receiver, task_terminated);

  003e4	8b 45 ec	 mov	 eax, DWORD PTR _task_terminated$[ebp]
  003e7	50		 push	 eax
  003e8	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  003eb	51		 push	 ecx
  003ec	8b 55 f8	 mov	 edx, DWORD PTR _force$[ebp]
  003ef	52		 push	 edx
  003f0	6a 32		 push	 50			; 00000032H
  003f2	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  003f7	83 c4 10	 add	 esp, 16			; 00000010H

; 346  : 
; 347  : 						//
; 348  : 						// move the task to the sessions completed task list
; 349  : 						//
; 350  : 
; 351  : 						list_parent = get_local_entity_parent (receiver, LIST_TYPE_ASSIGNED_TASK);

  003fa	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  003fe	74 0a		 je	 SHORT $LN36@response_t
  00400	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00403	8b 08		 mov	 ecx, DWORD PTR [eax]
  00405	89 4d a4	 mov	 DWORD PTR tv268[ebp], ecx
  00408	eb 21		 jmp	 SHORT $LN37@response_t
$LN36@response_t:
  0040a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00410	83 c2 59	 add	 edx, 89			; 00000059H
  00413	52		 push	 edx
  00414	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00419	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0041e	50		 push	 eax
  0041f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00424	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv268[ebp], 0
$LN37@response_t:
  0042b	b9 01 00 00 00	 mov	 ecx, 1
  00430	85 c9		 test	 ecx, ecx
  00432	74 09		 je	 SHORT $LN38@response_t
  00434	c7 45 a0 03 00
	00 00		 mov	 DWORD PTR tv276[ebp], 3
  0043b	eb 21		 jmp	 SHORT $LN39@response_t
$LN38@response_t:
  0043d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00443	83 c2 59	 add	 edx, 89			; 00000059H
  00446	52		 push	 edx
  00447	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0044c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00451	50		 push	 eax
  00452	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00457	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv276[ebp], 0
$LN39@response_t:
  0045e	6a 03		 push	 3
  00460	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00463	51		 push	 ecx
  00464	69 55 a4 b4 00
	00 00		 imul	 edx, DWORD PTR tv268[ebp], 180
  0046b	8b 45 a0	 mov	 eax, DWORD PTR tv276[ebp]
  0046e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00475	ff d1		 call	 ecx
  00477	89 45 f0	 mov	 DWORD PTR _list_parent$[ebp], eax

; 352  : 
; 353  : 						ASSERT (list_parent);

  0047a	83 7d f0 00	 cmp	 DWORD PTR _list_parent$[ebp], 0
  0047e	75 18		 jne	 SHORT $LN14@response_t
  00480	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00485	83 c0 5b	 add	 eax, 91			; 0000005bH
  00488	50		 push	 eax
  00489	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0048e	68 00 00 00 00	 push	 OFFSET ??_C@_0M@BHOMBPBO@list_parent@
  00493	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN14@response_t:

; 354  : 
; 355  : 						set_client_server_entity_parent (receiver, LIST_TYPE_ASSIGNED_TASK, NULL);

  00498	6a 00		 push	 0
  0049a	6a 03		 push	 3
  0049c	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0049f	50		 push	 eax
  004a0	e8 00 00 00 00	 call	 ?set_client_server_entity_parent@@YGXPAUENTITY@@W4LIST_TYPES@@0@Z ; set_client_server_entity_parent

; 356  : 
; 357  : 						set_client_server_entity_parent (receiver, LIST_TYPE_COMPLETED_TASK, list_parent);

  004a5	8b 45 f0	 mov	 eax, DWORD PTR _list_parent$[ebp]
  004a8	50		 push	 eax
  004a9	6a 08		 push	 8
  004ab	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  004ae	51		 push	 ecx
  004af	e8 00 00 00 00	 call	 ?set_client_server_entity_parent@@YGXPAUENTITY@@W4LIST_TYPES@@0@Z ; set_client_server_entity_parent

; 358  : 
; 359  : 						//
; 360  : 						// Notify Guide which will inform group and return them to base
; 361  : 						//
; 362  : 					
; 363  : 						guide = get_local_entity_first_child (receiver, LIST_TYPE_GUIDE);

  004b4	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  004b8	74 0a		 je	 SHORT $LN40@response_t
  004ba	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  004bd	8b 08		 mov	 ecx, DWORD PTR [eax]
  004bf	89 4d a4	 mov	 DWORD PTR tv299[ebp], ecx
  004c2	eb 21		 jmp	 SHORT $LN41@response_t
$LN40@response_t:
  004c4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  004ca	83 c2 65	 add	 edx, 101		; 00000065H
  004cd	52		 push	 edx
  004ce	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  004d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004d8	50		 push	 eax
  004d9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004de	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv299[ebp], 0
$LN41@response_t:
  004e5	b9 01 00 00 00	 mov	 ecx, 1
  004ea	85 c9		 test	 ecx, ecx
  004ec	74 09		 je	 SHORT $LN42@response_t
  004ee	c7 45 a0 10 00
	00 00		 mov	 DWORD PTR tv307[ebp], 16 ; 00000010H
  004f5	eb 21		 jmp	 SHORT $LN43@response_t
$LN42@response_t:
  004f7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  004fd	83 c2 65	 add	 edx, 101		; 00000065H
  00500	52		 push	 edx
  00501	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00506	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0050b	50		 push	 eax
  0050c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00511	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv307[ebp], 0
$LN43@response_t:
  00518	6a 10		 push	 16			; 00000010H
  0051a	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  0051d	51		 push	 ecx
  0051e	69 55 a4 b4 00
	00 00		 imul	 edx, DWORD PTR tv299[ebp], 180
  00525	8b 45 a0	 mov	 eax, DWORD PTR tv307[ebp]
  00528	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0052f	ff d1		 call	 ecx
  00531	89 45 f4	 mov	 DWORD PTR _guide$[ebp], eax
$LN4@response_t:

; 364  : 					
; 365  : 						while (guide)

  00534	83 7d f4 00	 cmp	 DWORD PTR _guide$[ebp], 0
  00538	0f 84 9b 00 00
	00		 je	 $LN5@response_t

; 366  : 						{
; 367  : 							notify_local_entity (ENTITY_MESSAGE_TASK_COMPLETED, guide, receiver, task_terminated);

  0053e	8b 45 ec	 mov	 eax, DWORD PTR _task_terminated$[ebp]
  00541	50		 push	 eax
  00542	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00545	51		 push	 ecx
  00546	8b 55 f4	 mov	 edx, DWORD PTR _guide$[ebp]
  00549	52		 push	 edx
  0054a	6a 32		 push	 50			; 00000032H
  0054c	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00551	83 c4 10	 add	 esp, 16			; 00000010H

; 368  : 					
; 369  : 							guide = get_local_entity_child_succ (guide, LIST_TYPE_GUIDE);

  00554	83 7d f4 00	 cmp	 DWORD PTR _guide$[ebp], 0
  00558	74 0a		 je	 SHORT $LN44@response_t
  0055a	8b 45 f4	 mov	 eax, DWORD PTR _guide$[ebp]
  0055d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0055f	89 4d a4	 mov	 DWORD PTR tv324[ebp], ecx
  00562	eb 21		 jmp	 SHORT $LN45@response_t
$LN44@response_t:
  00564	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0056a	83 c2 6b	 add	 edx, 107		; 0000006bH
  0056d	52		 push	 edx
  0056e	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00573	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00578	50		 push	 eax
  00579	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0057e	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv324[ebp], 0
$LN45@response_t:
  00585	b9 01 00 00 00	 mov	 ecx, 1
  0058a	85 c9		 test	 ecx, ecx
  0058c	74 09		 je	 SHORT $LN46@response_t
  0058e	c7 45 a0 10 00
	00 00		 mov	 DWORD PTR tv332[ebp], 16 ; 00000010H
  00595	eb 21		 jmp	 SHORT $LN47@response_t
$LN46@response_t:
  00597	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0059d	83 c2 6b	 add	 edx, 107		; 0000006bH
  005a0	52		 push	 edx
  005a1	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  005a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  005ab	50		 push	 eax
  005ac	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005b1	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv332[ebp], 0
$LN47@response_t:
  005b8	6a 10		 push	 16			; 00000010H
  005ba	8b 4d f4	 mov	 ecx, DWORD PTR _guide$[ebp]
  005bd	51		 push	 ecx
  005be	69 55 a4 b4 00
	00 00		 imul	 edx, DWORD PTR tv324[ebp], 180
  005c5	8b 45 a0	 mov	 eax, DWORD PTR tv332[ebp]
  005c8	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  005cf	ff d1		 call	 ecx
  005d1	89 45 f4	 mov	 DWORD PTR _guide$[ebp], eax

; 370  : 						}

  005d4	e9 5b ff ff ff	 jmp	 $LN4@response_t
$LN5@response_t:
$LN2@response_t:

; 371  : 					}
; 372  : 
; 373  : 					break;
; 374  : 				}
; 375  : 			}
; 376  : 		}
; 377  : 		else

  005d9	e9 9f 00 00 00	 jmp	 $LN9@response_t
$LN8@response_t:

; 378  : 		{
; 379  : 			//
; 380  : 			// Terminate task
; 381  : 			//
; 382  : 
; 383  : 			set_client_server_entity_int_value (receiver, INT_TYPE_TASK_COMPLETED, TASK_COMPLETED_FAILURE);

  005de	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  005e2	74 0a		 je	 SHORT $LN48@response_t
  005e4	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  005e7	8b 08		 mov	 ecx, DWORD PTR [eax]
  005e9	89 4d a4	 mov	 DWORD PTR tv346[ebp], ecx
  005ec	eb 21		 jmp	 SHORT $LN49@response_t
$LN48@response_t:
  005ee	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  005f4	83 c2 79	 add	 edx, 121		; 00000079H
  005f7	52		 push	 edx
  005f8	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  005fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00602	50		 push	 eax
  00603	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00608	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv346[ebp], 0
$LN49@response_t:
  0060f	b9 01 00 00 00	 mov	 ecx, 1
  00614	85 c9		 test	 ecx, ecx
  00616	74 09		 je	 SHORT $LN50@response_t
  00618	c7 45 a0 d9 00
	00 00		 mov	 DWORD PTR tv354[ebp], 217 ; 000000d9H
  0061f	eb 21		 jmp	 SHORT $LN51@response_t
$LN50@response_t:
  00621	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00627	83 c2 79	 add	 edx, 121		; 00000079H
  0062a	52		 push	 edx
  0062b	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00630	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00635	50		 push	 eax
  00636	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0063b	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv354[ebp], 0
$LN51@response_t:
  00642	6a 01		 push	 1
  00644	68 d9 00 00 00	 push	 217			; 000000d9H
  00649	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  0064c	51		 push	 ecx
  0064d	69 55 a4 b8 08
	00 00		 imul	 edx, DWORD PTR tv346[ebp], 2232
  00654	8b 45 a0	 mov	 eax, DWORD PTR tv354[ebp]
  00657	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  0065e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  00664	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  00667	ff d0		 call	 eax

; 384  : 
; 385  : 			notify_local_entity (ENTITY_MESSAGE_TASK_TERMINATED, receiver, sender, TASK_TERMINATED_OBJECTIVE_MESSAGE);

  00669	6a 04		 push	 4
  0066b	8b 45 10	 mov	 eax, DWORD PTR _sender$[ebp]
  0066e	50		 push	 eax
  0066f	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00672	51		 push	 ecx
  00673	6a 36		 push	 54			; 00000036H
  00675	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  0067a	83 c4 10	 add	 esp, 16			; 00000010H
$LN9@response_t:

; 386  : 		}
; 387  : 	}
; 388  : 
; 389  : 	return (TRUE);

  0067d	b8 01 00 00 00	 mov	 eax, 1

; 390  : }

  00682	5f		 pop	 edi
  00683	5e		 pop	 esi
  00684	5b		 pop	 ebx
  00685	8b e5		 mov	 esp, ebp
  00687	5d		 pop	 ebp
  00688	c2 10 00	 ret	 16			; 00000010H
?response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ENDP ; response_to_task_completed
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\task\ts_msgs.c
;	COMDAT ?response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z
_TEXT	SEGMENT
tv152 = -92						; size = 4
tv132 = -92						; size = 4
tv144 = -88						; size = 4
tv92 = -88						; size = 4
_raw$ = -20						; size = 4
_wp$ = -16						; size = 4
_heading$ = -12						; size = 4
_velocity$ = -8						; size = 4
_position$ = -4						; size = 4
_message$ = 8						; size = 4
_receiver$ = 12						; size = 4
_sender$ = 16						; size = 4
_pargs$ = 20						; size = 4
?response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z PROC ; response_to_set_entity_position, COMDAT

; 204  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 205  : 
; 206  : 	vec3d
; 207  : 		*position;
; 208  : 
; 209  : 	float
; 210  : 		velocity,
; 211  : 		heading;
; 212  : 
; 213  : 	entity
; 214  : 		*wp;
; 215  : 
; 216  : 	task
; 217  : 		*raw;
; 218  : 
; 219  : 	raw = (task *) get_local_entity_data (receiver);

  00009	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d ec	 mov	 DWORD PTR _raw$[ebp], ecx

; 220  : 
; 221  : 	position = va_arg (pargs, vec3d *);

  00012	8b 45 14	 mov	 eax, DWORD PTR _pargs$[ebp]
  00015	83 c0 04	 add	 eax, 4
  00018	89 45 14	 mov	 DWORD PTR _pargs$[ebp], eax
  0001b	8b 4d 14	 mov	 ecx, DWORD PTR _pargs$[ebp]
  0001e	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  00021	89 55 fc	 mov	 DWORD PTR _position$[ebp], edx

; 222  : 
; 223  : 	heading = (float) va_arg (pargs, double);

  00024	8b 45 14	 mov	 eax, DWORD PTR _pargs$[ebp]
  00027	83 c0 08	 add	 eax, 8
  0002a	89 45 14	 mov	 DWORD PTR _pargs$[ebp], eax
  0002d	8b 4d 14	 mov	 ecx, DWORD PTR _pargs$[ebp]
  00030	f2 0f 10 41 f8	 movsd	 xmm0, QWORD PTR [ecx-8]
  00035	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00039	f3 0f 11 45 f4	 movss	 DWORD PTR _heading$[ebp], xmm0

; 224  : 
; 225  : 	velocity = (float) va_arg (pargs, double);

  0003e	8b 45 14	 mov	 eax, DWORD PTR _pargs$[ebp]
  00041	83 c0 08	 add	 eax, 8
  00044	89 45 14	 mov	 DWORD PTR _pargs$[ebp], eax
  00047	8b 4d 14	 mov	 ecx, DWORD PTR _pargs$[ebp]
  0004a	f2 0f 10 41 f8	 movsd	 xmm0, QWORD PTR [ecx-8]
  0004f	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00053	f3 0f 11 45 f8	 movss	 DWORD PTR _velocity$[ebp], xmm0

; 226  : 
; 227  : 	#if DEBUG_MODULE
; 228  : 
; 229  : 	debug_log ("TS_MSGS: setting position %f, %f, %f, heading %f",
; 230  : 					position->x, position->y, position->z, heading);
; 231  : 
; 232  : 	#endif
; 233  : 
; 234  : 	wp = raw->waypoint_root.first_child;

  00058	8b 45 ec	 mov	 eax, DWORD PTR _raw$[ebp]
  0005b	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  0005e	89 4d f0	 mov	 DWORD PTR _wp$[ebp], ecx
$LN2@response_t:

; 235  : 
; 236  : 	//
; 237  : 	// notify all waypoints of movement, before setting position so children can calculate delta movement.
; 238  : 	//
; 239  : 
; 240  : 	while (wp)

  00061	83 7d f0 00	 cmp	 DWORD PTR _wp$[ebp], 0
  00065	0f 84 b5 00 00
	00		 je	 $LN3@response_t

; 241  : 	{
; 242  : 
; 243  : 		notify_local_entity (ENTITY_MESSAGE_SET_ENTITY_POSITION, wp, receiver, position, (double) heading, (double) velocity);

  0006b	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _velocity$[ebp]
  00070	83 ec 08	 sub	 esp, 8
  00073	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00078	f3 0f 5a 45 f4	 cvtss2sd xmm0, DWORD PTR _heading$[ebp]
  0007d	83 ec 08	 sub	 esp, 8
  00080	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00085	8b 45 fc	 mov	 eax, DWORD PTR _position$[ebp]
  00088	50		 push	 eax
  00089	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  0008c	51		 push	 ecx
  0008d	8b 55 f0	 mov	 edx, DWORD PTR _wp$[ebp]
  00090	52		 push	 edx
  00091	6a 30		 push	 48			; 00000030H
  00093	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  00098	83 c4 20	 add	 esp, 32			; 00000020H

; 244  : 
; 245  : 		wp = get_local_entity_child_succ (wp, LIST_TYPE_WAYPOINT);

  0009b	83 7d f0 00	 cmp	 DWORD PTR _wp$[ebp], 0
  0009f	74 0a		 je	 SHORT $LN5@response_t
  000a1	8b 45 f0	 mov	 eax, DWORD PTR _wp$[ebp]
  000a4	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a6	89 4d a8	 mov	 DWORD PTR tv92[ebp], ecx
  000a9	eb 21		 jmp	 SHORT $LN6@response_t
$LN5@response_t:
  000ab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  000b1	83 c2 29	 add	 edx, 41			; 00000029H
  000b4	52		 push	 edx
  000b5	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000bf	50		 push	 eax
  000c0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c5	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv92[ebp], 0
$LN6@response_t:
  000cc	b9 01 00 00 00	 mov	 ecx, 1
  000d1	85 c9		 test	 ecx, ecx
  000d3	74 09		 je	 SHORT $LN7@response_t
  000d5	c7 45 a4 2c 00
	00 00		 mov	 DWORD PTR tv132[ebp], 44 ; 0000002cH
  000dc	eb 21		 jmp	 SHORT $LN8@response_t
$LN7@response_t:
  000de	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  000e4	83 c2 29	 add	 edx, 41			; 00000029H
  000e7	52		 push	 edx
  000e8	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  000f2	50		 push	 eax
  000f3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000f8	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv132[ebp], 0
$LN8@response_t:
  000ff	6a 2c		 push	 44			; 0000002cH
  00101	8b 4d f0	 mov	 ecx, DWORD PTR _wp$[ebp]
  00104	51		 push	 ecx
  00105	69 55 a8 b4 00
	00 00		 imul	 edx, DWORD PTR tv92[ebp], 180
  0010c	8b 45 a4	 mov	 eax, DWORD PTR tv132[ebp]
  0010f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00116	ff d1		 call	 ecx
  00118	89 45 f0	 mov	 DWORD PTR _wp$[ebp], eax

; 246  : 	}

  0011b	e9 41 ff ff ff	 jmp	 $LN2@response_t
$LN3@response_t:

; 247  : 
; 248  : 	//
; 249  : 	// actually set position
; 250  : 	//
; 251  : 
; 252  : 	set_local_entity_vec3d (receiver, VEC3D_TYPE_POSITION, position);

  00120	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  00124	74 0a		 je	 SHORT $LN9@response_t
  00126	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00129	8b 08		 mov	 ecx, DWORD PTR [eax]
  0012b	89 4d a8	 mov	 DWORD PTR tv144[ebp], ecx
  0012e	eb 21		 jmp	 SHORT $LN10@response_t
$LN9@response_t:
  00130	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00136	83 c2 30	 add	 edx, 48			; 00000030H
  00139	52		 push	 edx
  0013a	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0013f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00144	50		 push	 eax
  00145	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0014a	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv144[ebp], 0
$LN10@response_t:
  00151	b9 01 00 00 00	 mov	 ecx, 1
  00156	85 c9		 test	 ecx, ecx
  00158	74 09		 je	 SHORT $LN11@response_t
  0015a	c7 45 a4 08 00
	00 00		 mov	 DWORD PTR tv152[ebp], 8
  00161	eb 21		 jmp	 SHORT $LN12@response_t
$LN11@response_t:
  00163	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00169	83 c2 30	 add	 edx, 48			; 00000030H
  0016c	52		 push	 edx
  0016d	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00172	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00177	50		 push	 eax
  00178	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0017d	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR tv152[ebp], 0
$LN12@response_t:
  00184	8b 4d fc	 mov	 ecx, DWORD PTR _position$[ebp]
  00187	51		 push	 ecx
  00188	6a 08		 push	 8
  0018a	8b 55 0c	 mov	 edx, DWORD PTR _receiver$[ebp]
  0018d	52		 push	 edx
  0018e	6b 45 a8 60	 imul	 eax, DWORD PTR tv144[ebp], 96
  00192	8b 4d a4	 mov	 ecx, DWORD PTR tv152[ebp]
  00195	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0019c	ff d2		 call	 edx

; 253  : 
; 254  : 	return (TRUE);

  0019e	b8 01 00 00 00	 mov	 eax, 1

; 255  : }

  001a3	5f		 pop	 edi
  001a4	5e		 pop	 esi
  001a5	5b		 pop	 ebx
  001a6	8b e5		 mov	 esp, ebp
  001a8	5d		 pop	 ebp
  001a9	c2 10 00	 ret	 16			; 00000010H
?response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ENDP ; response_to_set_entity_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\task\ts_msgs.c
;	COMDAT ?response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z
_TEXT	SEGMENT
tv189 = -80						; size = 4
tv161 = -80						; size = 4
tv133 = -80						; size = 4
tv80 = -80						; size = 4
tv181 = -76						; size = 4
tv153 = -76						; size = 4
tv93 = -76						; size = 4
tv86 = -76						; size = 4
tv72 = -76						; size = 4
_sub_type$ = -8						; size = 4
_list_type$ = -4					; size = 4
_message$ = 8						; size = 4
_receiver$ = 12						; size = 4
_sender$ = 16						; size = 4
_pargs$ = 20						; size = 4
?response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z PROC ; response_to_link_parent, COMDAT

; 116  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 117  : 	list_types
; 118  : 		list_type;
; 119  : 
; 120  : 	entity_sub_types
; 121  : 		sub_type;
; 122  : 
; 123  : 	#if DEBUG_MODULE >= 2
; 124  : 
; 125  : 	debug_log_entity_message (message, receiver, sender, pargs);
; 126  : 
; 127  : 	#endif
; 128  : 
; 129  : 	//
; 130  : 	// notify campaign screen
; 131  : 	//
; 132  : 
; 133  : 	list_type = va_arg (pargs, list_types);

  00009	8b 45 14	 mov	 eax, DWORD PTR _pargs$[ebp]
  0000c	83 c0 04	 add	 eax, 4
  0000f	89 45 14	 mov	 DWORD PTR _pargs$[ebp], eax
  00012	8b 4d 14	 mov	 ecx, DWORD PTR _pargs$[ebp]
  00015	8b 51 fc	 mov	 edx, DWORD PTR [ecx-4]
  00018	89 55 fc	 mov	 DWORD PTR _list_type$[ebp], edx

; 134  : 
; 135  : 	sub_type = get_local_entity_int_value (receiver, INT_TYPE_ENTITY_SUB_TYPE);

  0001b	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  0001f	74 0a		 je	 SHORT $LN11@response_t
  00021	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00024	8b 08		 mov	 ecx, DWORD PTR [eax]
  00026	89 4d b4	 mov	 DWORD PTR tv72[ebp], ecx
  00029	eb 21		 jmp	 SHORT $LN12@response_t
$LN11@response_t:
  0002b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00031	83 c2 13	 add	 edx, 19			; 00000013H
  00034	52		 push	 edx
  00035	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0003f	50		 push	 eax
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00045	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv72[ebp], 0
$LN12@response_t:
  0004c	b9 01 00 00 00	 mov	 ecx, 1
  00051	85 c9		 test	 ecx, ecx
  00053	74 09		 je	 SHORT $LN13@response_t
  00055	c7 45 b0 34 00
	00 00		 mov	 DWORD PTR tv80[ebp], 52	; 00000034H
  0005c	eb 21		 jmp	 SHORT $LN14@response_t
$LN13@response_t:
  0005e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00064	83 c2 13	 add	 edx, 19			; 00000013H
  00067	52		 push	 edx
  00068	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00072	50		 push	 eax
  00073	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00078	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN14@response_t:
  0007f	6a 34		 push	 52			; 00000034H
  00081	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00084	51		 push	 ecx
  00085	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv72[ebp], 1116
  0008c	8b 45 b0	 mov	 eax, DWORD PTR tv80[ebp]
  0008f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00096	ff d1		 call	 ecx
  00098	89 45 f8	 mov	 DWORD PTR _sub_type$[ebp], eax

; 136  : 
; 137  : 	switch (list_type)

  0009b	8b 45 fc	 mov	 eax, DWORD PTR _list_type$[ebp]
  0009e	89 45 b4	 mov	 DWORD PTR tv86[ebp], eax
  000a1	83 7d b4 03	 cmp	 DWORD PTR tv86[ebp], 3
  000a5	0f 84 b8 00 00
	00		 je	 $LN6@response_t
  000ab	83 7d b4 08	 cmp	 DWORD PTR tv86[ebp], 8
  000af	0f 84 51 01 00
	00		 je	 $LN8@response_t
  000b5	83 7d b4 28	 cmp	 DWORD PTR tv86[ebp], 40	; 00000028H
  000b9	74 05		 je	 SHORT $LN4@response_t
  000bb	e9 e4 01 00 00	 jmp	 $LN2@response_t
$LN4@response_t:

; 138  : 	{
; 139  : 		////////////////////////////////////////
; 140  : 		case LIST_TYPE_UNASSIGNED_TASK:
; 141  : 		////////////////////////////////////////
; 142  : 		{
; 143  : 			set_local_entity_int_value (receiver, INT_TYPE_TASK_STATE, TASK_STATE_UNASSIGNED);

  000c0	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  000c4	74 0a		 je	 SHORT $LN15@response_t
  000c6	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  000c9	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cb	89 4d b4	 mov	 DWORD PTR tv93[ebp], ecx
  000ce	eb 21		 jmp	 SHORT $LN16@response_t
$LN15@response_t:
  000d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  000d6	83 c2 1b	 add	 edx, 27			; 0000001bH
  000d9	52		 push	 edx
  000da	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e4	50		 push	 eax
  000e5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ea	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN16@response_t:
  000f1	b9 01 00 00 00	 mov	 ecx, 1
  000f6	85 c9		 test	 ecx, ecx
  000f8	74 09		 je	 SHORT $LN17@response_t
  000fa	c7 45 b0 e3 00
	00 00		 mov	 DWORD PTR tv133[ebp], 227 ; 000000e3H
  00101	eb 21		 jmp	 SHORT $LN18@response_t
$LN17@response_t:
  00103	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00109	83 c2 1b	 add	 edx, 27			; 0000001bH
  0010c	52		 push	 edx
  0010d	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00112	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00117	50		 push	 eax
  00118	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011d	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv133[ebp], 0
$LN18@response_t:
  00124	6a 00		 push	 0
  00126	68 e3 00 00 00	 push	 227			; 000000e3H
  0012b	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  0012e	51		 push	 ecx
  0012f	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv93[ebp], 1116
  00136	8b 45 b0	 mov	 eax, DWORD PTR tv133[ebp]
  00139	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  00140	ff d1		 call	 ecx

; 144  : 
; 145  : 			if (task_database [sub_type].primary_task)

  00142	6b 45 f8 50	 imul	 eax, DWORD PTR _sub_type$[ebp], 80
  00146	8b 88 28 00 00
	00		 mov	 ecx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax+40]
  0014c	d1 e9		 shr	 ecx, 1
  0014e	83 e1 01	 and	 ecx, 1
  00151	74 0b		 je	 SHORT $LN5@response_t

; 146  : 			{
; 147  : 				notify_campaign_screen (CAMPAIGN_SCREEN_MISSION_CREATED, receiver);

  00153	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  00156	50		 push	 eax
  00157	6a 00		 push	 0
  00159	e8 00 00 00 00	 call	 ?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; notify_campaign_screen
$LN5@response_t:

; 148  : 			}
; 149  : 
; 150  : 			break;

  0015e	e9 41 01 00 00	 jmp	 $LN2@response_t
$LN6@response_t:

; 151  : 		}
; 152  : 		////////////////////////////////////////
; 153  : 		case LIST_TYPE_ASSIGNED_TASK:
; 154  : 		////////////////////////////////////////
; 155  : 		{
; 156  : 			set_local_entity_int_value (receiver, INT_TYPE_TASK_STATE, TASK_STATE_ASSIGNED);

  00163	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  00167	74 0a		 je	 SHORT $LN19@response_t
  00169	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0016c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0016e	89 4d b4	 mov	 DWORD PTR tv153[ebp], ecx
  00171	eb 21		 jmp	 SHORT $LN20@response_t
$LN19@response_t:
  00173	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  00179	83 c2 28	 add	 edx, 40			; 00000028H
  0017c	52		 push	 edx
  0017d	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00182	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00187	50		 push	 eax
  00188	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0018d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv153[ebp], 0
$LN20@response_t:
  00194	b9 01 00 00 00	 mov	 ecx, 1
  00199	85 c9		 test	 ecx, ecx
  0019b	74 09		 je	 SHORT $LN21@response_t
  0019d	c7 45 b0 e3 00
	00 00		 mov	 DWORD PTR tv161[ebp], 227 ; 000000e3H
  001a4	eb 21		 jmp	 SHORT $LN22@response_t
$LN21@response_t:
  001a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  001ac	83 c2 28	 add	 edx, 40			; 00000028H
  001af	52		 push	 edx
  001b0	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001ba	50		 push	 eax
  001bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c0	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv161[ebp], 0
$LN22@response_t:
  001c7	6a 01		 push	 1
  001c9	68 e3 00 00 00	 push	 227			; 000000e3H
  001ce	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  001d1	51		 push	 ecx
  001d2	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv153[ebp], 1116
  001d9	8b 45 b0	 mov	 eax, DWORD PTR tv161[ebp]
  001dc	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  001e3	ff d1		 call	 ecx

; 157  : 
; 158  : 			if (task_database [sub_type].primary_task)

  001e5	6b 45 f8 50	 imul	 eax, DWORD PTR _sub_type$[ebp], 80
  001e9	8b 88 28 00 00
	00		 mov	 ecx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax+40]
  001ef	d1 e9		 shr	 ecx, 1
  001f1	83 e1 01	 and	 ecx, 1
  001f4	74 0b		 je	 SHORT $LN7@response_t

; 159  : 			{
; 160  : 				notify_campaign_screen (CAMPAIGN_SCREEN_MISSION_ASSIGNED, receiver);

  001f6	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  001f9	50		 push	 eax
  001fa	6a 01		 push	 1
  001fc	e8 00 00 00 00	 call	 ?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; notify_campaign_screen
$LN7@response_t:

; 161  : 			}
; 162  : 
; 163  : 			break;

  00201	e9 9e 00 00 00	 jmp	 $LN2@response_t
$LN8@response_t:

; 164  : 		}
; 165  : 		////////////////////////////////////////
; 166  : 		case LIST_TYPE_COMPLETED_TASK:
; 167  : 		////////////////////////////////////////
; 168  : 		{
; 169  : 			set_local_entity_int_value (receiver, INT_TYPE_TASK_STATE, TASK_STATE_COMPLETED);

  00206	83 7d 0c 00	 cmp	 DWORD PTR _receiver$[ebp], 0
  0020a	74 0a		 je	 SHORT $LN23@response_t
  0020c	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0020f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00211	89 4d b4	 mov	 DWORD PTR tv181[ebp], ecx
  00214	eb 21		 jmp	 SHORT $LN24@response_t
$LN23@response_t:
  00216	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0021c	83 c2 35	 add	 edx, 53			; 00000035H
  0021f	52		 push	 edx
  00220	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00225	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0022a	50		 push	 eax
  0022b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00230	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv181[ebp], 0
$LN24@response_t:
  00237	b9 01 00 00 00	 mov	 ecx, 1
  0023c	85 c9		 test	 ecx, ecx
  0023e	74 09		 je	 SHORT $LN25@response_t
  00240	c7 45 b0 e3 00
	00 00		 mov	 DWORD PTR tv189[ebp], 227 ; 000000e3H
  00247	eb 21		 jmp	 SHORT $LN26@response_t
$LN25@response_t:
  00249	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z@4JA
  0024f	83 c2 35	 add	 edx, 53			; 00000035H
  00252	52		 push	 edx
  00253	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@KJLIKHHD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00258	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0025d	50		 push	 eax
  0025e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00263	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv189[ebp], 0
$LN26@response_t:
  0026a	6a 02		 push	 2
  0026c	68 e3 00 00 00	 push	 227			; 000000e3H
  00271	8b 4d 0c	 mov	 ecx, DWORD PTR _receiver$[ebp]
  00274	51		 push	 ecx
  00275	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv181[ebp], 1116
  0027c	8b 45 b0	 mov	 eax, DWORD PTR tv189[ebp]
  0027f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  00286	ff d1		 call	 ecx

; 170  : 
; 171  : 			if (task_database [sub_type].primary_task)

  00288	6b 45 f8 50	 imul	 eax, DWORD PTR _sub_type$[ebp], 80
  0028c	8b 88 28 00 00
	00		 mov	 ecx, DWORD PTR ?task_database@@3PAUTASK_DATA@@A[eax+40]
  00292	d1 e9		 shr	 ecx, 1
  00294	83 e1 01	 and	 ecx, 1
  00297	74 0b		 je	 SHORT $LN2@response_t

; 172  : 			{
; 173  : 				notify_campaign_screen (CAMPAIGN_SCREEN_MISSION_COMPLETED, receiver);

  00299	8b 45 0c	 mov	 eax, DWORD PTR _receiver$[ebp]
  0029c	50		 push	 eax
  0029d	6a 02		 push	 2
  0029f	e8 00 00 00 00	 call	 ?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; notify_campaign_screen
$LN2@response_t:

; 174  : 			}
; 175  : 
; 176  : 			break;
; 177  : 		}
; 178  : 	}
; 179  : 
; 180  : 	return (TRUE);

  002a4	b8 01 00 00 00	 mov	 eax, 1

; 181  : }

  002a9	5f		 pop	 edi
  002aa	5e		 pop	 esi
  002ab	5b		 pop	 ebx
  002ac	8b e5		 mov	 esp, ebp
  002ae	5d		 pop	 ebp
  002af	c2 10 00	 ret	 16			; 00000010H
?response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ENDP ; response_to_link_parent
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\task\ts_msgs.c
;	COMDAT ?overload_task_message_responses@@YGXXZ
_TEXT	SEGMENT
?overload_task_message_responses@@YGXXZ PROC		; overload_task_message_responses, COMDAT

; 523  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 524  : 
; 525  : 	#if DEBUG_MODULE >= 2
; 526  : 
; 527  : 	message_responses[ENTITY_TYPE_TASK][ENTITY_MESSAGE_LINK_CHILD] 						= response_to_link_child;
; 528  : 
; 529  : 	message_responses[ENTITY_TYPE_TASK][ENTITY_MESSAGE_UNLINK_CHILD]						= response_to_unlink_child;
; 530  : 
; 531  : 	message_responses[ENTITY_TYPE_TASK][ENTITY_MESSAGE_UNLINK_PARENT]						= response_to_unlink_parent;
; 532  : 
; 533  : 	#endif
; 534  : 
; 535  : 	message_responses[ENTITY_TYPE_TASK][ENTITY_MESSAGE_LINK_PARENT]						= response_to_link_parent;

  00009	b8 84 01 00 00	 mov	 eax, 388		; 00000184H
  0000e	6b c8 22	 imul	 ecx, eax, 34
  00011	ba 04 00 00 00	 mov	 edx, 4
  00016	6b c2 24	 imul	 eax, edx, 36
  00019	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?message_responses@@3PAY0GB@P6GHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@ZA[ecx+eax], OFFSET ?response_to_link_parent@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ; response_to_link_parent

; 536  : 
; 537  : 	message_responses[ENTITY_TYPE_TASK][ENTITY_MESSAGE_SET_ENTITY_POSITION]				= response_to_set_entity_position;

  00024	b8 84 01 00 00	 mov	 eax, 388		; 00000184H
  00029	6b c8 22	 imul	 ecx, eax, 34
  0002c	ba 04 00 00 00	 mov	 edx, 4
  00031	6b c2 30	 imul	 eax, edx, 48
  00034	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?message_responses@@3PAY0GB@P6GHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@ZA[ecx+eax], OFFSET ?response_to_set_entity_position@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ; response_to_set_entity_position

; 538  : 
; 539  : 	message_responses[ENTITY_TYPE_TASK][ENTITY_MESSAGE_TASK_COMPLETED] 					= response_to_task_completed;

  0003f	b8 84 01 00 00	 mov	 eax, 388		; 00000184H
  00044	6b c8 22	 imul	 ecx, eax, 34
  00047	ba 04 00 00 00	 mov	 edx, 4
  0004c	6b c2 32	 imul	 eax, edx, 50
  0004f	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?message_responses@@3PAY0GB@P6GHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@ZA[ecx+eax], OFFSET ?response_to_task_completed@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ; response_to_task_completed

; 540  : 
; 541  : 	message_responses[ENTITY_TYPE_TASK][ENTITY_MESSAGE_TASK_TERMINATED] 					= response_to_task_terminated;

  0005a	b8 84 01 00 00	 mov	 eax, 388		; 00000184H
  0005f	6b c8 22	 imul	 ecx, eax, 34
  00062	ba 04 00 00 00	 mov	 edx, 4
  00067	6b c2 36	 imul	 eax, edx, 54
  0006a	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?message_responses@@3PAY0GB@P6GHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@ZA[ecx+eax], OFFSET ?response_to_task_terminated@@YGHW4ENTITY_MESSAGES@@PAUENTITY@@1PAD@Z ; response_to_task_terminated

; 542  : }

  00075	5f		 pop	 edi
  00076	5e		 pop	 esi
  00077	5b		 pop	 ebx
  00078	8b e5		 mov	 esp, ebp
  0007a	5d		 pop	 ebp
  0007b	c3		 ret	 0
?overload_task_message_responses@@YGXXZ ENDP		; overload_task_message_responses
_TEXT	ENDS
END
