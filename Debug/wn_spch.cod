; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\mobile\weapon\wn_spch.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z ; play_entity_weapon_selected_speech
PUBLIC	?play_entity_weapon_launched_speech@@YGXPAUENTITY@@H@Z ; play_entity_weapon_launched_speech
PUBLIC	?play_entity_weapon_low_speech@@YGXPAUENTITY@@H@Z ; play_entity_weapon_low_speech
PUBLIC	?play_entity_weapon_out_speech@@YGXPAUENTITY@@H@Z ; play_entity_weapon_out_speech
PUBLIC	?__LINE__Var@?0??play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z@4JA ; `play_entity_weapon_selected_speech'::`1'::__LINE__Var
PUBLIC	??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ ; `string'
PUBLIC	__real@3e4ccccd
PUBLIC	__real@3ecccccd
PUBLIC	__real@3f4ccccd
PUBLIC	__real@3f800000
PUBLIC	__real@3fc00000
PUBLIC	__real@40000000
PUBLIC	__real@40a00000
PUBLIC	__real@41000000
PUBLIC	__real@bf800000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?play_client_server_speech@@YAHPAUENTITY@@0W4ENTITY_SIDES@@HW4SOUND_LOCALITY_TYPES@@MMMW4speech_originator_types@@W4speech_category_types@@MZZ:PROC ; play_client_server_speech
EXTRN	?remove_speech_category_from_buffers@@YGXW4ENTITY_SIDES@@W4speech_originator_types@@W4speech_category_types@@@Z:PROC ; remove_speech_category_from_buffers
EXTRN	?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z:PROC ; play_client_server_cpg_message
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?weapon_database@@3PAUWEAPON_DATA@@A:BYTE	; weapon_database
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	__fltused:DWORD
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
CONST	ENDS
;	COMDAT __real@41000000
CONST	SEGMENT
__real@41000000 DD 041000000r			; 8
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3fc00000
CONST	SEGMENT
__real@3fc00000 DD 03fc00000r			; 1.5
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f4ccccd
CONST	SEGMENT
__real@3f4ccccd DD 03f4ccccdr			; 0.8
CONST	ENDS
;	COMDAT __real@3ecccccd
CONST	SEGMENT
__real@3ecccccd DD 03ecccccdr			; 0.4
CONST	ENDS
;	COMDAT __real@3e4ccccd
CONST	SEGMENT
__real@3e4ccccd DD 03e4ccccdr			; 0.2
CONST	ENDS
;	COMDAT ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
CONST	SEGMENT
??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@ DB 'ge'
	DB	't_comms_model () == COMMS_MODEL_SERVER', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_spch'
	DB	'.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z@4JA DD 050H ; `play_entity_weapon_selected_speech'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_spch.c
;	COMDAT ?play_entity_weapon_out_speech@@YGXPAUENTITY@@H@Z
_TEXT	SEGMENT
tv80 = -76						; size = 4
tv73 = -72						; size = 4
_speech_index$ = -4					; size = 4
_en$ = 8						; size = 4
_weapon_type$ = 12					; size = 4
?play_entity_weapon_out_speech@@YGXPAUENTITY@@H@Z PROC	; play_entity_weapon_out_speech, COMDAT

; 195  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 196  : 	int
; 197  : 		speech_index;
; 198  : 
; 199  : 	//
; 200  : 	// only play speech for players
; 201  : 	//
; 202  : 
; 203  : 	speech_index = weapon_database [weapon_type].weapon_out_cpg_speech;

  00009	69 45 0c e0 00
	00 00		 imul	 eax, DWORD PTR _weapon_type$[ebp], 224
  00010	8b 88 44 00 00
	00		 mov	 ecx, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+68]
  00016	89 4d fc	 mov	 DWORD PTR _speech_index$[ebp], ecx

; 204  : 
; 205  : 	if (speech_index != -1)

  00019	83 7d fc ff	 cmp	 DWORD PTR _speech_index$[ebp], -1
  0001d	0f 84 b5 00 00
	00		 je	 $LN3@play_entit

; 206  : 	{
; 207  : 		if (get_local_entity_int_value (en, INT_TYPE_PLAYER) != ENTITY_PLAYER_AI)

  00023	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00027	74 0a		 je	 SHORT $LN5@play_entit
  00029	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002e	89 4d b8	 mov	 DWORD PTR tv73[ebp], ecx
  00031	eb 1d		 jmp	 SHORT $LN6@play_entit
$LN5@play_entit:
  00033	68 cf 00 00 00	 push	 207			; 000000cfH
  00038	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00043	52		 push	 edx
  00044	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00049	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN6@play_entit:
  00050	b8 01 00 00 00	 mov	 eax, 1
  00055	85 c0		 test	 eax, eax
  00057	74 09		 je	 SHORT $LN7@play_entit
  00059	c7 45 b4 9c 00
	00 00		 mov	 DWORD PTR tv80[ebp], 156 ; 0000009cH
  00060	eb 1d		 jmp	 SHORT $LN8@play_entit
$LN7@play_entit:
  00062	68 cf 00 00 00	 push	 207			; 000000cfH
  00067	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00072	51		 push	 ecx
  00073	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00078	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN8@play_entit:
  0007f	68 9c 00 00 00	 push	 156			; 0000009cH
  00084	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00087	52		 push	 edx
  00088	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv73[ebp], 1116
  0008f	8b 4d b4	 mov	 ecx, DWORD PTR tv80[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	85 c0		 test	 eax, eax
  0009d	74 39		 je	 SHORT $LN3@play_entit

; 208  : 		{
; 209  : 			play_client_server_cpg_message

  0009f	8b 45 fc	 mov	 eax, DWORD PTR _speech_index$[ebp]
  000a2	50		 push	 eax
  000a3	51		 push	 ecx
  000a4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  000ac	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b1	6a 01		 push	 1
  000b3	51		 push	 ecx
  000b4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40a00000
  000bc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c1	51		 push	 ecx
  000c2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000ca	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000cf	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000d2	51		 push	 ecx
  000d3	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN3@play_entit:

; 210  : 			(
; 211  : 				en,
; 212  : 				1.0,
; 213  : 				5.0,
; 214  : 				SPEECH_CATEGORY_AMMO_LOW,
; 215  : 				-1.0,
; 216  : 				speech_index
; 217  : 			);
; 218  : 		}
; 219  : 	}
; 220  : }

  000d8	5f		 pop	 edi
  000d9	5e		 pop	 esi
  000da	5b		 pop	 ebx
  000db	8b e5		 mov	 esp, ebp
  000dd	5d		 pop	 ebp
  000de	c2 08 00	 ret	 8
?play_entity_weapon_out_speech@@YGXPAUENTITY@@H@Z ENDP	; play_entity_weapon_out_speech
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_spch.c
;	COMDAT ?play_entity_weapon_low_speech@@YGXPAUENTITY@@H@Z
_TEXT	SEGMENT
tv131 = -76						; size = 4
tv80 = -76						; size = 4
tv92 = -72						; size = 4
tv73 = -72						; size = 4
_speech_index$ = -4					; size = 4
_en$ = 8						; size = 4
_weapon_type$ = 12					; size = 4
?play_entity_weapon_low_speech@@YGXPAUENTITY@@H@Z PROC	; play_entity_weapon_low_speech, COMDAT

; 160  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 161  : 	int
; 162  : 		speech_index;
; 163  : 
; 164  : 	//
; 165  : 	// only play speech for players
; 166  : 	//
; 167  : 
; 168  : 	speech_index = weapon_database [weapon_type].weapon_low_cpg_speech;

  00009	69 45 0c e0 00
	00 00		 imul	 eax, DWORD PTR _weapon_type$[ebp], 224
  00010	8b 88 40 00 00
	00		 mov	 ecx, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+64]
  00016	89 4d fc	 mov	 DWORD PTR _speech_index$[ebp], ecx

; 169  : 
; 170  : 	if (speech_index != -1)

  00019	83 7d fc ff	 cmp	 DWORD PTR _speech_index$[ebp], -1
  0001d	0f 84 3a 01 00
	00		 je	 $LN4@play_entit

; 171  : 	{
; 172  : 		if (get_local_entity_int_value (en, INT_TYPE_PLAYER) != ENTITY_PLAYER_AI)

  00023	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00027	74 0a		 je	 SHORT $LN6@play_entit
  00029	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002e	89 4d b8	 mov	 DWORD PTR tv73[ebp], ecx
  00031	eb 1d		 jmp	 SHORT $LN7@play_entit
$LN6@play_entit:
  00033	68 ac 00 00 00	 push	 172			; 000000acH
  00038	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00043	52		 push	 edx
  00044	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00049	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN7@play_entit:
  00050	b8 01 00 00 00	 mov	 eax, 1
  00055	85 c0		 test	 eax, eax
  00057	74 09		 je	 SHORT $LN8@play_entit
  00059	c7 45 b4 9c 00
	00 00		 mov	 DWORD PTR tv80[ebp], 156 ; 0000009cH
  00060	eb 1d		 jmp	 SHORT $LN9@play_entit
$LN8@play_entit:
  00062	68 ac 00 00 00	 push	 172			; 000000acH
  00067	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00072	51		 push	 ecx
  00073	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00078	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN9@play_entit:
  0007f	68 9c 00 00 00	 push	 156			; 0000009cH
  00084	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00087	52		 push	 edx
  00088	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv73[ebp], 1116
  0008f	8b 4d b4	 mov	 ecx, DWORD PTR tv80[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	85 c0		 test	 eax, eax
  0009d	0f 84 ba 00 00
	00		 je	 $LN4@play_entit

; 173  : 		{
; 174  : 			if (!get_local_entity_int_value (get_session_entity (), INT_TYPE_INFINITE_WEAPONS))

  000a3	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  000aa	74 0c		 je	 SHORT $LN10@play_entit
  000ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  000b1	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b3	89 4d b8	 mov	 DWORD PTR tv92[ebp], ecx
  000b6	eb 1d		 jmp	 SHORT $LN11@play_entit
$LN10@play_entit:
  000b8	68 ae 00 00 00	 push	 174			; 000000aeH
  000bd	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c8	52		 push	 edx
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv92[ebp], 0
$LN11@play_entit:
  000d5	b8 01 00 00 00	 mov	 eax, 1
  000da	85 c0		 test	 eax, eax
  000dc	74 09		 je	 SHORT $LN12@play_entit
  000de	c7 45 b4 67 00
	00 00		 mov	 DWORD PTR tv131[ebp], 103 ; 00000067H
  000e5	eb 1d		 jmp	 SHORT $LN13@play_entit
$LN12@play_entit:
  000e7	68 ae 00 00 00	 push	 174			; 000000aeH
  000ec	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000f7	51		 push	 ecx
  000f8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000fd	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN13@play_entit:
  00104	6a 67		 push	 103			; 00000067H
  00106	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0010c	52		 push	 edx
  0010d	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv92[ebp], 1116
  00114	8b 4d b4	 mov	 ecx, DWORD PTR tv131[ebp]
  00117	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0011e	ff d2		 call	 edx
  00120	85 c0		 test	 eax, eax
  00122	75 39		 jne	 SHORT $LN4@play_entit

; 175  : 			{
; 176  : 				play_client_server_cpg_message

  00124	8b 45 fc	 mov	 eax, DWORD PTR _speech_index$[ebp]
  00127	50		 push	 eax
  00128	51		 push	 ecx
  00129	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  00131	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00136	6a 01		 push	 1
  00138	51		 push	 ecx
  00139	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40a00000
  00141	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00146	51		 push	 ecx
  00147	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0014f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00154	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00157	51		 push	 ecx
  00158	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN4@play_entit:

; 177  : 				(
; 178  : 					en,
; 179  : 					1.0,
; 180  : 					5.0,
; 181  : 					SPEECH_CATEGORY_AMMO_LOW,
; 182  : 					-1.0,
; 183  : 					speech_index
; 184  : 				);
; 185  : 			}
; 186  : 		}
; 187  : 	}
; 188  : }

  0015d	5f		 pop	 edi
  0015e	5e		 pop	 esi
  0015f	5b		 pop	 ebx
  00160	8b e5		 mov	 esp, ebp
  00162	5d		 pop	 ebp
  00163	c2 08 00	 ret	 8
?play_entity_weapon_low_speech@@YGXPAUENTITY@@H@Z ENDP	; play_entity_weapon_low_speech
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_spch.c
;	COMDAT ?play_entity_weapon_launched_speech@@YGXPAUENTITY@@H@Z
_TEXT	SEGMENT
tv80 = -76						; size = 4
tv73 = -72						; size = 4
_speech_index$ = -4					; size = 4
_en$ = 8						; size = 4
_weapon_type$ = 12					; size = 4
?play_entity_weapon_launched_speech@@YGXPAUENTITY@@H@Z PROC ; play_entity_weapon_launched_speech, COMDAT

; 128  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 129  : 	int
; 130  : 		speech_index;
; 131  : 
; 132  : 	//
; 133  : 	// only play speech for players
; 134  : 	//
; 135  : 
; 136  : 	speech_index = weapon_database [weapon_type].weapon_launched_cpg_speech;

  00009	69 45 0c e0 00
	00 00		 imul	 eax, DWORD PTR _weapon_type$[ebp], 224
  00010	8b 88 48 00 00
	00		 mov	 ecx, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+72]
  00016	89 4d fc	 mov	 DWORD PTR _speech_index$[ebp], ecx

; 137  : 
; 138  : 	if (speech_index != -1)

  00019	83 7d fc ff	 cmp	 DWORD PTR _speech_index$[ebp], -1
  0001d	0f 84 b5 00 00
	00		 je	 $LN3@play_entit

; 139  : 	{
; 140  : 		if (get_local_entity_int_value (en, INT_TYPE_PLAYER) != ENTITY_PLAYER_AI)

  00023	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00027	74 0a		 je	 SHORT $LN5@play_entit
  00029	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002e	89 4d b8	 mov	 DWORD PTR tv73[ebp], ecx
  00031	eb 1d		 jmp	 SHORT $LN6@play_entit
$LN5@play_entit:
  00033	68 8c 00 00 00	 push	 140			; 0000008cH
  00038	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00043	52		 push	 edx
  00044	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00049	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN6@play_entit:
  00050	b8 01 00 00 00	 mov	 eax, 1
  00055	85 c0		 test	 eax, eax
  00057	74 09		 je	 SHORT $LN7@play_entit
  00059	c7 45 b4 9c 00
	00 00		 mov	 DWORD PTR tv80[ebp], 156 ; 0000009cH
  00060	eb 1d		 jmp	 SHORT $LN8@play_entit
$LN7@play_entit:
  00062	68 8c 00 00 00	 push	 140			; 0000008cH
  00067	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00072	51		 push	 ecx
  00073	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00078	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN8@play_entit:
  0007f	68 9c 00 00 00	 push	 156			; 0000009cH
  00084	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00087	52		 push	 edx
  00088	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv73[ebp], 1116
  0008f	8b 4d b4	 mov	 ecx, DWORD PTR tv80[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	85 c0		 test	 eax, eax
  0009d	74 39		 je	 SHORT $LN3@play_entit

; 141  : 		{
; 142  : 			play_client_server_cpg_message

  0009f	8b 45 fc	 mov	 eax, DWORD PTR _speech_index$[ebp]
  000a2	50		 push	 eax
  000a3	51		 push	 ecx
  000a4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41000000
  000ac	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b1	6a 07		 push	 7
  000b3	51		 push	 ecx
  000b4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40000000
  000bc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c1	51		 push	 ecx
  000c2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f4ccccd
  000ca	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000cf	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000d2	51		 push	 ecx
  000d3	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN3@play_entit:

; 143  : 			(
; 144  : 				en,
; 145  : 				0.8,
; 146  : 				2.0,
; 147  : 				SPEECH_CATEGORY_FIRING,
; 148  : 				8.0,
; 149  : 				speech_index
; 150  : 			);
; 151  : 		}
; 152  : 	}
; 153  : }

  000d8	5f		 pop	 edi
  000d9	5e		 pop	 esi
  000da	5b		 pop	 ebx
  000db	8b e5		 mov	 esp, ebp
  000dd	5d		 pop	 ebp
  000de	c2 08 00	 ret	 8
?play_entity_weapon_launched_speech@@YGXPAUENTITY@@H@Z ENDP ; play_entity_weapon_launched_speech
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_spch.c
;	COMDAT ?play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z
_TEXT	SEGMENT
tv138 = -80						; size = 4
tv85 = -80						; size = 4
tv130 = -76						; size = 4
tv78 = -76						; size = 4
_side$ = -8						; size = 4
_speech_index$ = -4					; size = 4
_en$ = 8						; size = 4
_weapon_type$ = 12					; size = 4
?play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z PROC ; play_entity_weapon_selected_speech, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	int
; 82   : 		speech_index;
; 83   : 
; 84   : 	entity_sides
; 85   : 		side;
; 86   : 
; 87   : 	//
; 88   : 	// only play speech for players
; 89   : 	//
; 90   : 
; 91   : 	ASSERT (get_comms_model () == COMMS_MODEL_SERVER);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00010	74 18		 je	 SHORT $LN2@play_entit
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z@4JA
  00017	83 c0 0b	 add	 eax, 11			; 0000000bH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@DMBLBJBK@get_comms_model?5?$CI?$CJ?5?$DN?$DN?5COMMS_MOD@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@play_entit:

; 92   : 
; 93   : 	speech_index = weapon_database [weapon_type].weapon_selected_cpg_speech;

  0002a	69 45 0c e0 00
	00 00		 imul	 eax, DWORD PTR _weapon_type$[ebp], 224
  00031	8b 88 3c 00 00
	00		 mov	 ecx, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+60]
  00037	89 4d fc	 mov	 DWORD PTR _speech_index$[ebp], ecx

; 94   : 
; 95   : 	if (speech_index != -1)

  0003a	83 7d fc ff	 cmp	 DWORD PTR _speech_index$[ebp], -1
  0003e	0f 84 66 01 00
	00		 je	 $LN4@play_entit

; 96   : 	{
; 97   : 		if (get_local_entity_int_value (en, INT_TYPE_PLAYER) != ENTITY_PLAYER_AI)

  00044	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00048	74 0a		 je	 SHORT $LN6@play_entit
  0004a	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0004d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0004f	89 4d b4	 mov	 DWORD PTR tv78[ebp], ecx
  00052	eb 1a		 jmp	 SHORT $LN7@play_entit
$LN6@play_entit:
  00054	6a 61		 push	 97			; 00000061H
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00061	52		 push	 edx
  00062	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00067	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN7@play_entit:
  0006e	b8 01 00 00 00	 mov	 eax, 1
  00073	85 c0		 test	 eax, eax
  00075	74 09		 je	 SHORT $LN8@play_entit
  00077	c7 45 b0 9c 00
	00 00		 mov	 DWORD PTR tv85[ebp], 156 ; 0000009cH
  0007e	eb 1a		 jmp	 SHORT $LN9@play_entit
$LN8@play_entit:
  00080	6a 61		 push	 97			; 00000061H
  00082	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00087	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0008d	51		 push	 ecx
  0008e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00093	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN9@play_entit:
  0009a	68 9c 00 00 00	 push	 156			; 0000009cH
  0009f	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  000a2	52		 push	 edx
  000a3	69 45 b4 5c 04
	00 00		 imul	 eax, DWORD PTR tv78[ebp], 1116
  000aa	8b 4d b0	 mov	 ecx, DWORD PTR tv85[ebp]
  000ad	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  000b4	ff d2		 call	 edx
  000b6	85 c0		 test	 eax, eax
  000b8	0f 84 ec 00 00
	00		 je	 $LN4@play_entit

; 98   : 		{
; 99   : 			side = (entity_sides) get_local_entity_int_value (en, INT_TYPE_SIDE);

  000be	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000c2	74 0a		 je	 SHORT $LN10@play_entit
  000c4	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000c7	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c9	89 4d b4	 mov	 DWORD PTR tv130[ebp], ecx
  000cc	eb 21		 jmp	 SHORT $LN11@play_entit
$LN10@play_entit:
  000ce	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z@4JA
  000d4	83 c2 13	 add	 edx, 19			; 00000013H
  000d7	52		 push	 edx
  000d8	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  000dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e2	50		 push	 eax
  000e3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e8	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv130[ebp], 0
$LN11@play_entit:
  000ef	b9 01 00 00 00	 mov	 ecx, 1
  000f4	85 c9		 test	 ecx, ecx
  000f6	74 09		 je	 SHORT $LN12@play_entit
  000f8	c7 45 b0 bb 00
	00 00		 mov	 DWORD PTR tv138[ebp], 187 ; 000000bbH
  000ff	eb 21		 jmp	 SHORT $LN13@play_entit
$LN12@play_entit:
  00101	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z@4JA
  00107	83 c2 13	 add	 edx, 19			; 00000013H
  0010a	52		 push	 edx
  0010b	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@BMAAHPFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00115	50		 push	 eax
  00116	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011b	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv138[ebp], 0
$LN13@play_entit:
  00122	68 bb 00 00 00	 push	 187			; 000000bbH
  00127	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0012a	51		 push	 ecx
  0012b	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv130[ebp], 1116
  00132	8b 45 b0	 mov	 eax, DWORD PTR tv138[ebp]
  00135	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0013c	ff d1		 call	 ecx
  0013e	89 45 f8	 mov	 DWORD PTR _side$[ebp], eax

; 100  : 
; 101  : 			remove_speech_category_from_buffers (side, SPEECH_ORIGINATOR_CO_PILOT, SPEECH_CATEGORY_WEAPONS_SYSTEMS);

  00141	6a 14		 push	 20			; 00000014H
  00143	6a 01		 push	 1
  00145	8b 45 f8	 mov	 eax, DWORD PTR _side$[ebp]
  00148	50		 push	 eax
  00149	e8 00 00 00 00	 call	 ?remove_speech_category_from_buffers@@YGXW4ENTITY_SIDES@@W4speech_originator_types@@W4speech_category_types@@@Z ; remove_speech_category_from_buffers

; 102  : 
; 103  : 			play_client_server_speech

  0014e	6a ff		 push	 -1
  00150	8b 45 fc	 mov	 eax, DWORD PTR _speech_index$[ebp]
  00153	50		 push	 eax
  00154	6a 09		 push	 9
  00156	51		 push	 ecx
  00157	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  0015f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00164	6a 14		 push	 20			; 00000014H
  00166	6a 01		 push	 1
  00168	51		 push	 ecx
  00169	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  00171	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00176	51		 push	 ecx
  00177	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e4ccccd
  0017f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00184	51		 push	 ecx
  00185	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  0018d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00192	6a 00		 push	 0
  00194	6a 13		 push	 19			; 00000013H
  00196	8b 4d f8	 mov	 ecx, DWORD PTR _side$[ebp]
  00199	51		 push	 ecx
  0019a	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0019d	52		 push	 edx
  0019e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001a1	50		 push	 eax
  001a2	e8 00 00 00 00	 call	 ?play_client_server_speech@@YAHPAUENTITY@@0W4ENTITY_SIDES@@HW4SOUND_LOCALITY_TYPES@@MMMW4speech_originator_types@@W4speech_category_types@@MZZ ; play_client_server_speech
  001a7	83 c4 38	 add	 esp, 56			; 00000038H
$LN4@play_entit:

; 104  : 			(
; 105  : 				en,
; 106  : 				en,
; 107  : 				side,
; 108  : 				ENTITY_SUB_TYPE_EFFECT_SOUND_CPG_MESSAGE,
; 109  : 				SOUND_LOCALITY_RADIO,
; 110  : 				0.4,		// delay
; 111  : 				0.2,		// priority
; 112  : 				1.5,		// expire time
; 113  : 				SPEECH_ORIGINATOR_CO_PILOT,
; 114  : 				SPEECH_CATEGORY_WEAPONS_SYSTEMS,
; 115  : 				-1.0,		// category silence timer
; 116  : 				SPEECH_ARRAY_CPG_MESSAGES, speech_index,
; 117  : 				-1
; 118  : 			);
; 119  : 		}
; 120  : 	}
; 121  : }

  001aa	5f		 pop	 edi
  001ab	5e		 pop	 esi
  001ac	5b		 pop	 ebx
  001ad	8b e5		 mov	 esp, ebp
  001af	5d		 pop	 ebp
  001b0	c2 08 00	 ret	 8
?play_entity_weapon_selected_speech@@YGXPAUENTITY@@H@Z ENDP ; play_entity_weapon_selected_speech
_TEXT	ENDS
END
