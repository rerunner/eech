; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\effect\smokelst\sl_move.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?smoke_list_movement@@YGXPAUENTITY@@@Z		; smoke_list_movement
PUBLIC	?__LINE__Var@?0??smoke_list_movement@@YGXPAUENTITY@@@Z@4JA ; `smoke_list_movement'::`1'::__LINE__Var
PUBLIC	??_C@_0FF@PCEMPMDB@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	__real@3f10000000000000
PUBLIC	__real@3fe0000000000000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_session_wind_velocity_at_point@@YGMPAUVEC3D@@0@Z:PROC ; get_session_wind_velocity_at_point
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?smoke_list_database@@3PAUSMOKE_LIST_DATA@@A:DWORD ; smoke_list_database
EXTRN	__fltused:DWORD
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT __real@3f10000000000000
CONST	SEGMENT
__real@3f10000000000000 DQ 03f10000000000000r	; 6.10352e-05
CONST	ENDS
;	COMDAT ??_C@_0FF@PCEMPMDB@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FF@PCEMPMDB@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\effect\smokel'
	DB	'st\sl_move.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??smoke_list_movement@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??smoke_list_movement@@YGXPAUENTITY@@@Z@4JA DD 050H ; `smoke_list_movement'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\smokelst\sl_move.c
;	COMDAT ?smoke_list_movement@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv223 = -128						; size = 4
tv84 = -128						; size = 4
tv224 = -124						; size = 4
tv76 = -124						; size = 4
_smoke_info$ = -56					; size = 4
_number_of_slots$ = -52					; size = 4
_loop$ = -48						; size = 4
_current$ = -44						; size = 4
_wind_velocity$ = -40					; size = 12
_smoke_mv$ = -28					; size = 4
_smoke_pos$ = -24					; size = 4
_delta_speed$ = -20					; size = 4
_desired_vertical_velocity$ = -16			; size = 4
_vertical_acceleration$ = -12				; size = 4
_dt$ = -8						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?smoke_list_movement@@YGXPAUENTITY@@@Z PROC		; smoke_list_movement, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 81   : 	smoke_list
; 82   : 		*raw;
; 83   : 		
; 84   : 	float
; 85   : 		dt,
; 86   : 		vertical_acceleration,
; 87   : 		desired_vertical_velocity,
; 88   : 		delta_speed;
; 89   : 
; 90   : 	vec3d
; 91   : 		*smoke_pos,
; 92   : 		*smoke_mv,
; 93   : 		wind_velocity;
; 94   : 
; 95   : 	int
; 96   : 		current,
; 97   : 		loop,
; 98   : 		number_of_slots;
; 99   : 
; 100  : 	smoke_list_data
; 101  : 		*smoke_info;
; 102  : 
; 103  : 	raw = (smoke_list *) get_local_entity_data (en);

  0000c	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00012	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 104  : 
; 105  : 	smoke_info = &(smoke_list_database[ raw->smoke_type ]);

  00015	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00018	6b 48 28 44	 imul	 ecx, DWORD PTR [eax+40], 68
  0001c	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?smoke_list_database@@3PAUSMOKE_LIST_DATA@@A ; smoke_list_database
  00022	89 4d c8	 mov	 DWORD PTR _smoke_info$[ebp], ecx

; 106  : 
; 107  : 	dt = get_delta_time();

  00025	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0002d	f3 0f 11 45 f8	 movss	 DWORD PTR _dt$[ebp], xmm0

; 108  : 
; 109  : 	//
; 110  : 	// calculate wind velocity
; 111  : 	//
; 112  : 
; 113  : //	wind_velocity = get_local_entity_vec3d_ptr( get_session_entity(), VEC3D_TYPE_WIND_VELOCITY );
; 114  : 	get_session_wind_velocity_at_point (get_local_entity_vec3d_ptr (en, VEC3D_TYPE_POSITION), &wind_velocity);

  00032	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00036	74 0a		 je	 SHORT $LN9@smoke_list
  00038	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0003b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003d	89 4d 84	 mov	 DWORD PTR tv76[ebp], ecx
  00040	eb 21		 jmp	 SHORT $LN10@smoke_list
$LN9@smoke_list:
  00042	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??smoke_list_movement@@YGXPAUENTITY@@@Z@4JA
  00048	83 c2 22	 add	 edx, 34			; 00000022H
  0004b	52		 push	 edx
  0004c	68 00 00 00 00	 push	 OFFSET ??_C@_0FF@PCEMPMDB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00051	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00056	50		 push	 eax
  00057	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005c	c7 45 84 00 00
	00 00		 mov	 DWORD PTR tv76[ebp], 0
$LN10@smoke_list:
  00063	b9 01 00 00 00	 mov	 ecx, 1
  00068	85 c9		 test	 ecx, ecx
  0006a	74 09		 je	 SHORT $LN11@smoke_list
  0006c	c7 45 80 08 00
	00 00		 mov	 DWORD PTR tv84[ebp], 8
  00073	eb 21		 jmp	 SHORT $LN12@smoke_list
$LN11@smoke_list:
  00075	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??smoke_list_movement@@YGXPAUENTITY@@@Z@4JA
  0007b	83 c2 22	 add	 edx, 34			; 00000022H
  0007e	52		 push	 edx
  0007f	68 00 00 00 00	 push	 OFFSET ??_C@_0FF@PCEMPMDB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00084	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00089	50		 push	 eax
  0008a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008f	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN12@smoke_list:
  00096	8d 4d d8	 lea	 ecx, DWORD PTR _wind_velocity$[ebp]
  00099	51		 push	 ecx
  0009a	6a 08		 push	 8
  0009c	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0009f	52		 push	 edx
  000a0	6b 45 84 60	 imul	 eax, DWORD PTR tv76[ebp], 96
  000a4	8b 4d 80	 mov	 ecx, DWORD PTR tv84[ebp]
  000a7	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[eax+ecx*4]
  000ae	ff d2		 call	 edx
  000b0	50		 push	 eax
  000b1	e8 00 00 00 00	 call	 ?get_session_wind_velocity_at_point@@YGMPAUVEC3D@@0@Z ; get_session_wind_velocity_at_point
  000b6	dd d8		 fstp	 ST(0)

; 115  : 
; 116  : 	vertical_acceleration = smoke_list_vertical_acceleration( raw->smoke_type );

  000b8	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000bb	6b 48 28 44	 imul	 ecx, DWORD PTR [eax+40], 68
  000bf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?smoke_list_database@@3PAUSMOKE_LIST_DATA@@A ; smoke_list_database
  000c5	f3 0f 10 44 0a
	2c		 movss	 xmm0, DWORD PTR [edx+ecx+44]
  000cb	f3 0f 11 45 f4	 movss	 DWORD PTR _vertical_acceleration$[ebp], xmm0

; 117  : 	desired_vertical_velocity = smoke_list_final_vertical_velocity( raw->smoke_type );

  000d0	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000d3	6b 48 28 44	 imul	 ecx, DWORD PTR [eax+40], 68
  000d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?smoke_list_database@@3PAUSMOKE_LIST_DATA@@A ; smoke_list_database
  000dd	f3 0f 10 44 0a
	28		 movss	 xmm0, DWORD PTR [edx+ecx+40]
  000e3	f3 0f 11 45 f0	 movss	 DWORD PTR _desired_vertical_velocity$[ebp], xmm0

; 118  : 
; 119  : 	number_of_slots = raw->smoke_lifetime / raw->frequency;

  000e8	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000eb	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  000ee	f3 0f 10 40 38	 movss	 xmm0, DWORD PTR [eax+56]
  000f3	f3 0f 5e 41 2c	 divss	 xmm0, DWORD PTR [ecx+44]
  000f8	f3 0f 2c d0	 cvttss2si edx, xmm0
  000fc	89 55 cc	 mov	 DWORD PTR _number_of_slots$[ebp], edx

; 120  : 
; 121  : 	current = raw->head;

  000ff	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00102	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  00105	c1 e1 00	 shl	 ecx, 0
  00108	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0010b	89 4d d4	 mov	 DWORD PTR _current$[ebp], ecx

; 122  : 
; 123  : 	for ( loop = 0 ; loop < number_of_slots ; loop ++ )

  0010e	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  00115	eb 09		 jmp	 SHORT $LN4@smoke_list
$LN2@smoke_list:
  00117	8b 45 d0	 mov	 eax, DWORD PTR _loop$[ebp]
  0011a	83 c0 01	 add	 eax, 1
  0011d	89 45 d0	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@smoke_list:
  00120	8b 45 d0	 mov	 eax, DWORD PTR _loop$[ebp]
  00123	3b 45 cc	 cmp	 eax, DWORD PTR _number_of_slots$[ebp]
  00126	0f 8d 2f 02 00
	00		 jge	 $LN3@smoke_list

; 124  : 	{
; 125  : 		current --;

  0012c	8b 45 d4	 mov	 eax, DWORD PTR _current$[ebp]
  0012f	83 e8 01	 sub	 eax, 1
  00132	89 45 d4	 mov	 DWORD PTR _current$[ebp], eax

; 126  : 
; 127  : 		if ( current < 0 )

  00135	79 09		 jns	 SHORT $LN5@smoke_list

; 128  : 		{
; 129  : 			current = number_of_slots - 1;

  00137	8b 45 cc	 mov	 eax, DWORD PTR _number_of_slots$[ebp]
  0013a	83 e8 01	 sub	 eax, 1
  0013d	89 45 d4	 mov	 DWORD PTR _current$[ebp], eax
$LN5@smoke_list:

; 130  : 		}
; 131  : 
; 132  : 		if ( !raw->valid[ current ] )

  00140	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00143	8b 48 7c	 mov	 ecx, DWORD PTR [eax+124]
  00146	8b 55 d4	 mov	 edx, DWORD PTR _current$[ebp]
  00149	0f b6 04 11	 movzx	 eax, BYTE PTR [ecx+edx]
  0014d	85 c0		 test	 eax, eax
  0014f	75 02		 jne	 SHORT $LN6@smoke_list

; 133  : 		{
; 134  : 			continue;

  00151	eb c4		 jmp	 SHORT $LN2@smoke_list
$LN6@smoke_list:

; 135  : 		}
; 136  : 
; 137  : 		smoke_pos = &(raw->position[ current ]);

  00153	6b 45 d4 0c	 imul	 eax, DWORD PTR _current$[ebp], 12
  00157	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  0015a	03 41 70	 add	 eax, DWORD PTR [ecx+112]
  0015d	89 45 e8	 mov	 DWORD PTR _smoke_pos$[ebp], eax

; 138  : 
; 139  : 		smoke_mv = &(raw->motion_vector[ current ]);

  00160	6b 45 d4 0c	 imul	 eax, DWORD PTR _current$[ebp], 12
  00164	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  00167	03 41 6c	 add	 eax, DWORD PTR [ecx+108]
  0016a	89 45 e4	 mov	 DWORD PTR _smoke_mv$[ebp], eax

; 140  : 
; 141  : 		//
; 142  : 		// update position
; 143  : 		//
; 144  : 
; 145  : 		smoke_pos->x += smoke_mv->x * dt;

  0016d	8b 45 e4	 mov	 eax, DWORD PTR _smoke_mv$[ebp]
  00170	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00174	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _dt$[ebp]
  00179	8b 4d e8	 mov	 ecx, DWORD PTR _smoke_pos$[ebp]
  0017c	f3 0f 58 01	 addss	 xmm0, DWORD PTR [ecx]
  00180	8b 55 e8	 mov	 edx, DWORD PTR _smoke_pos$[ebp]
  00183	f3 0f 11 02	 movss	 DWORD PTR [edx], xmm0

; 146  : 		smoke_pos->y += smoke_mv->y * dt;

  00187	8b 45 e4	 mov	 eax, DWORD PTR _smoke_mv$[ebp]
  0018a	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  0018f	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _dt$[ebp]
  00194	8b 4d e8	 mov	 ecx, DWORD PTR _smoke_pos$[ebp]
  00197	f3 0f 58 41 04	 addss	 xmm0, DWORD PTR [ecx+4]
  0019c	8b 55 e8	 mov	 edx, DWORD PTR _smoke_pos$[ebp]
  0019f	f3 0f 11 42 04	 movss	 DWORD PTR [edx+4], xmm0

; 147  : 		smoke_pos->z += smoke_mv->z * dt;

  001a4	8b 45 e4	 mov	 eax, DWORD PTR _smoke_mv$[ebp]
  001a7	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  001ac	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _dt$[ebp]
  001b1	8b 4d e8	 mov	 ecx, DWORD PTR _smoke_pos$[ebp]
  001b4	f3 0f 58 41 08	 addss	 xmm0, DWORD PTR [ecx+8]
  001b9	8b 55 e8	 mov	 edx, DWORD PTR _smoke_pos$[ebp]
  001bc	f3 0f 11 42 08	 movss	 DWORD PTR [edx+8], xmm0

; 148  : /*
; 149  : 		smoke_pos->x = bound (smoke_pos->x, MIN_MAP_X, MAX_MAP_X);
; 150  : 		smoke_pos->y = bound (smoke_pos->y, MIN_MAP_Y, MAX_MAP_Y);
; 151  : 		smoke_pos->z = bound (smoke_pos->z, MIN_MAP_Z, MAX_MAP_Z);
; 152  : */
; 153  : 		//
; 154  : 		// update motion vector
; 155  : 		//
; 156  : 
; 157  : 		if ( smoke_info->wind_affected )

  001c1	8b 45 c8	 mov	 eax, DWORD PTR _smoke_info$[ebp]
  001c4	66 8b 48 40	 mov	 cx, WORD PTR [eax+64]
  001c8	66 c1 e9 05	 shr	 cx, 5
  001cc	66 83 e1 01	 and	 cx, 1
  001d0	0f b7 d1	 movzx	 edx, cx
  001d3	85 d2		 test	 edx, edx
  001d5	0f 84 f5 00 00
	00		 je	 $LN7@smoke_list

; 158  : 		{
; 159  : 			smoke_mv->x += ( ( wind_velocity.x + ( wind_velocity.x * sfrand1() * 0.5 ) ) - smoke_mv->x ) * dt;

  001db	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  001e5	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  001ea	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  001ef	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _dt$[ebp]
  001f4	8b 4d e4	 mov	 ecx, DWORD PTR _smoke_mv$[ebp]
  001f7	f3 0f 5a 09	 cvtss2sd xmm1, DWORD PTR [ecx]
  001fb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00201	c1 fa 10	 sar	 edx, 16			; 00000010H
  00204	81 e2 ff 7f 00
	00		 and	 edx, 32767		; 00007fffH
  0020a	81 ea 00 40 00
	00		 sub	 edx, 16384		; 00004000H
  00210	f2 0f 2a d2	 cvtsi2sd xmm2, edx
  00214	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@3f10000000000000
  0021c	f3 0f 5a 5d d8	 cvtss2sd xmm3, DWORD PTR _wind_velocity$[ebp]
  00221	f2 0f 59 da	 mulsd	 xmm3, xmm2
  00225	f2 0f 59 1d 00
	00 00 00	 mulsd	 xmm3, QWORD PTR __real@3fe0000000000000
  0022d	f3 0f 5a 55 d8	 cvtss2sd xmm2, DWORD PTR _wind_velocity$[ebp]
  00232	f2 0f 58 d3	 addsd	 xmm2, xmm3
  00236	f2 0f 5c d1	 subsd	 xmm2, xmm1
  0023a	f2 0f 59 d0	 mulsd	 xmm2, xmm0
  0023e	8b 45 e4	 mov	 eax, DWORD PTR _smoke_mv$[ebp]
  00241	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  00245	f2 0f 58 c2	 addsd	 xmm0, xmm2
  00249	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0024d	8b 4d e4	 mov	 ecx, DWORD PTR _smoke_mv$[ebp]
  00250	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 160  : 			smoke_mv->z += ( ( wind_velocity.z + ( wind_velocity.z * sfrand1() * 0.5 ) ) - smoke_mv->z ) * dt;

  00254	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0025e	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00263	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00268	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _dt$[ebp]
  0026d	8b 4d e4	 mov	 ecx, DWORD PTR _smoke_mv$[ebp]
  00270	f3 0f 5a 49 08	 cvtss2sd xmm1, DWORD PTR [ecx+8]
  00275	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0027b	c1 fa 10	 sar	 edx, 16			; 00000010H
  0027e	81 e2 ff 7f 00
	00		 and	 edx, 32767		; 00007fffH
  00284	81 ea 00 40 00
	00		 sub	 edx, 16384		; 00004000H
  0028a	f2 0f 2a d2	 cvtsi2sd xmm2, edx
  0028e	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@3f10000000000000
  00296	f3 0f 5a 5d e0	 cvtss2sd xmm3, DWORD PTR _wind_velocity$[ebp+8]
  0029b	f2 0f 59 da	 mulsd	 xmm3, xmm2
  0029f	f2 0f 59 1d 00
	00 00 00	 mulsd	 xmm3, QWORD PTR __real@3fe0000000000000
  002a7	f3 0f 5a 55 e0	 cvtss2sd xmm2, DWORD PTR _wind_velocity$[ebp+8]
  002ac	f2 0f 58 d3	 addsd	 xmm2, xmm3
  002b0	f2 0f 5c d1	 subsd	 xmm2, xmm1
  002b4	f2 0f 59 d0	 mulsd	 xmm2, xmm0
  002b8	8b 45 e4	 mov	 eax, DWORD PTR _smoke_mv$[ebp]
  002bb	f3 0f 5a 40 08	 cvtss2sd xmm0, DWORD PTR [eax+8]
  002c0	f2 0f 58 c2	 addsd	 xmm0, xmm2
  002c4	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  002c8	8b 4d e4	 mov	 ecx, DWORD PTR _smoke_mv$[ebp]
  002cb	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0
$LN7@smoke_list:

; 161  : 		}
; 162  : 
; 163  : 		delta_speed = ( desired_vertical_velocity - smoke_mv->y );

  002d0	8b 45 e4	 mov	 eax, DWORD PTR _smoke_mv$[ebp]
  002d3	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _desired_vertical_velocity$[ebp]
  002d8	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  002dd	f3 0f 11 45 ec	 movss	 DWORD PTR _delta_speed$[ebp], xmm0

; 164  : 
; 165  : 		delta_speed = bound( delta_speed, -vertical_acceleration, vertical_acceleration );

  002e2	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _vertical_acceleration$[ebp]
  002e7	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002ee	0f 2f 45 ec	 comiss	 xmm0, DWORD PTR _delta_speed$[ebp]
  002f2	76 13		 jbe	 SHORT $LN15@smoke_list
  002f4	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _vertical_acceleration$[ebp]
  002f9	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00300	f3 0f 11 45 84	 movss	 DWORD PTR tv224[ebp], xmm0
  00305	eb 2b		 jmp	 SHORT $LN16@smoke_list
$LN15@smoke_list:
  00307	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _delta_speed$[ebp]
  0030c	0f 2f 45 f4	 comiss	 xmm0, DWORD PTR _vertical_acceleration$[ebp]
  00310	76 0c		 jbe	 SHORT $LN13@smoke_list
  00312	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _vertical_acceleration$[ebp]
  00317	f3 0f 11 45 80	 movss	 DWORD PTR tv223[ebp], xmm0
  0031c	eb 0a		 jmp	 SHORT $LN14@smoke_list
$LN13@smoke_list:
  0031e	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _delta_speed$[ebp]
  00323	f3 0f 11 45 80	 movss	 DWORD PTR tv223[ebp], xmm0
$LN14@smoke_list:
  00328	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR tv223[ebp]
  0032d	f3 0f 11 45 84	 movss	 DWORD PTR tv224[ebp], xmm0
$LN16@smoke_list:
  00332	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR tv224[ebp]
  00337	f3 0f 11 45 ec	 movss	 DWORD PTR _delta_speed$[ebp], xmm0

; 166  : 		
; 167  : 		smoke_mv->y += ( delta_speed * dt );

  0033c	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _delta_speed$[ebp]
  00341	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _dt$[ebp]
  00346	8b 45 e4	 mov	 eax, DWORD PTR _smoke_mv$[ebp]
  00349	f3 0f 58 40 04	 addss	 xmm0, DWORD PTR [eax+4]
  0034e	8b 4d e4	 mov	 ecx, DWORD PTR _smoke_mv$[ebp]
  00351	f3 0f 11 41 04	 movss	 DWORD PTR [ecx+4], xmm0

; 168  : 	}

  00356	e9 bc fd ff ff	 jmp	 $LN2@smoke_list
$LN3@smoke_list:

; 169  : }

  0035b	5f		 pop	 edi
  0035c	5e		 pop	 esi
  0035d	5b		 pop	 ebx
  0035e	8b e5		 mov	 esp, ebp
  00360	5d		 pop	 ebp
  00361	c2 04 00	 ret	 4
?smoke_list_movement@@YGXPAUENTITY@@@Z ENDP		; smoke_list_movement
_TEXT	ENDS
END
