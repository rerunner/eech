; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_campaign_history@@YGXXZ		; initialise_campaign_history
PUBLIC	?get_campaign_history_valid@@YGHXZ		; get_campaign_history_valid
PUBLIC	?push_campaign_history@@YGXW4CAMPAIGN_PAGES@@H@Z ; push_campaign_history
PUBLIC	?pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z	; pop_campaign_history
PUBLIC	?remove_campaign_page_from_history@@YGXW4CAMPAIGN_PAGES@@@Z ; remove_campaign_page_from_history
PUBLIC	?define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU1@@Z ; define_campaign_page_back_button
PUBLIC	?overload_campaign_history_message_responses@@YGXXZ ; overload_campaign_history_message_responses
PUBLIC	?__LINE__Var@?0??pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z@4JA ; `pop_campaign_history'::`1'::__LINE__Var
PUBLIC	??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_09FABJHCIN@?$CBpop_flag@			; `string'
PUBLIC	?__LINE__Var@?0??remove_campaign_history@@YGXH@Z@4JA ; `remove_campaign_history'::`1'::__LINE__Var
PUBLIC	??_C@_0BO@KNGEPFDB@?$CIitem?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIitem?5?$DM?5count?$CJ@ ; `string'
PUBLIC	?__LINE__Var@?0??define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU2@@Z@4JA ; `define_campaign_page_back_button'::`1'::__LINE__Var
PUBLIC	??_C@_03GJLPFLNF@obj@				; `string'
PUBLIC	??_C@_06MLKDMCBD@parent@			; `string'
PUBLIC	??_C@_0CE@DPJEDMLG@graphics?2ui?2cohokum?2map?2barryel@ ; `string'
PUBLIC	??_C@_0CE@KEEMMPLC@graphics?2ui?2cohokum?2map?2barrwht@ ; `string'
PUBLIC	??_C@_0CE@PGLGEHDN@graphics?2ui?2cohokum?2map?2barrprp@ ; `string'
PUBLIC	?__LINE__Var@?0??response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z@4JA ; `response_to_campaign_item_destroyed'::`1'::__LINE__Var
PUBLIC	??_C@_06CGHJMPBJ@sender@			; `string'
PUBLIC	__real@3d50e560
PUBLIC	__real@3f716873
PUBLIC	__real@3f800000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?create_texture_graphic@@YGPAUTEXTURE_GRAPHIC@@PBD@Z:PROC ; create_texture_graphic
EXTRN	?create_ui_object@@YAPAUUI_OBJECT@@HZZ:PROC	; create_ui_object
EXTRN	?display_campaign_page@@YGXW4CAMPAIGN_PAGES@@HH@Z:PROC ; display_campaign_page
EXTRN	?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z:PROC ; notify_campaign_screen
EXTRN	?fn_get_ui_object_drawable@@3PAP6GHPAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_drawable
EXTRN	?fn_get_ui_object_item_number@@3PAP6GHPAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_item_number
EXTRN	?entities@@3PAUENTITY@@A:DWORD			; entities
EXTRN	?campaign_page@@3PAPAUUI_OBJECT@@A:BYTE		; campaign_page
EXTRN	?campaign_screen_message_responses@@3PAY0O@P6GHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@ZA:BYTE ; campaign_screen_message_responses
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A DQ 018H DUP (?) ; campaign_history
?temp@@3PAUCAMPAIGN_HISTORY_TYPE@@A DQ 018H DUP (?)	; temp
?pop_flag@@3HA DD 01H DUP (?)				; pop_flag
?num_campaign_history_items@@3HA DD 01H DUP (?)		; num_campaign_history_items
_BSS	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f716873
CONST	SEGMENT
__real@3f716873 DD 03f716873r			; 0.943
CONST	ENDS
;	COMDAT __real@3d50e560
CONST	SEGMENT
__real@3d50e560 DD 03d50e560r			; 0.051
CONST	ENDS
;	COMDAT ??_C@_06CGHJMPBJ@sender@
CONST	SEGMENT
??_C@_06CGHJMPBJ@sender@ DB 'sender', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z@4JA DD 0165H ; `response_to_campaign_item_destroyed'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CE@PGLGEHDN@graphics?2ui?2cohokum?2map?2barrprp@
CONST	SEGMENT
??_C@_0CE@PGLGEHDN@graphics?2ui?2cohokum?2map?2barrprp@ DB 'graphics\ui\c'
	DB	'ohokum\map\barrprp.psd', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@KEEMMPLC@graphics?2ui?2cohokum?2map?2barrwht@
CONST	SEGMENT
??_C@_0CE@KEEMMPLC@graphics?2ui?2cohokum?2map?2barrwht@ DB 'graphics\ui\c'
	DB	'ohokum\map\barrwht.psd', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@DPJEDMLG@graphics?2ui?2cohokum?2map?2barryel@
CONST	SEGMENT
??_C@_0CE@DPJEDMLG@graphics?2ui?2cohokum?2map?2barryel@ DB 'graphics\ui\c'
	DB	'ohokum\map\barryel.psd', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06MLKDMCBD@parent@
CONST	SEGMENT
??_C@_06MLKDMCBD@parent@ DB 'parent', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_03GJLPFLNF@obj@
CONST	SEGMENT
??_C@_03GJLPFLNF@obj@ DB 'obj', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU2@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU2@@Z@4JA DD 0140H ; `define_campaign_page_back_button'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BO@KNGEPFDB@?$CIitem?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIitem?5?$DM?5count?$CJ@
CONST	SEGMENT
??_C@_0BO@KNGEPFDB@?$CIitem?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIitem?5?$DM?5count?$CJ@ DB '('
	DB	'item >= 0) && (item < count)', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??remove_campaign_history@@YGXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??remove_campaign_history@@YGXH@Z@4JA DD 0d2H ; `remove_campaign_history'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_09FABJHCIN@?$CBpop_flag@
CONST	SEGMENT
??_C@_09FABJHCIN@?$CBpop_flag@ DB '!pop_flag', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_h'
	DB	'ist.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z@4JA DD 0abH ; `pop_campaign_history'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z
_TEXT	SEGMENT
tv72 = -76						; size = 4
_index$ = -8						; size = 4
_loop$ = -4						; size = 4
_message$ = 8						; size = 4
_sender$ = 12						; size = 4
?response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z PROC ; response_to_campaign_item_destroyed, COMDAT

; 357  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 358  : 	int
; 359  : 		loop,
; 360  : 		index;
; 361  : 		
; 362  : 	ASSERT (sender);

  00009	83 7d 0c 00	 cmp	 DWORD PTR _sender$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN5@response_t
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z@4JA
  00014	83 c0 05	 add	 eax, 5
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_06CGHJMPBJ@sender@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@response_t:

; 363  : 
; 364  : 	index = get_local_entity_safe_index (sender);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _sender$[ebp], 0
  0002b	74 11		 je	 SHORT $LN8@response_t
  0002d	8b 45 0c	 mov	 eax, DWORD PTR _sender$[ebp]
  00030	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  00036	c1 f8 04	 sar	 eax, 4
  00039	89 45 b4	 mov	 DWORD PTR tv72[ebp], eax
  0003c	eb 07		 jmp	 SHORT $LN9@response_t
$LN8@response_t:
  0003e	c7 45 b4 ff ff
	ff ff		 mov	 DWORD PTR tv72[ebp], -1
$LN9@response_t:
  00045	8b 4d b4	 mov	 ecx, DWORD PTR tv72[ebp]
  00048	89 4d f8	 mov	 DWORD PTR _index$[ebp], ecx

; 365  : 	
; 366  : 	for (loop = 0; loop < num_campaign_history_items; loop ++)

  0004b	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  00052	eb 09		 jmp	 SHORT $LN4@response_t
$LN2@response_t:
  00054	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00057	83 c0 01	 add	 eax, 1
  0005a	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@response_t:
  0005d	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00060	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  00066	7d 23		 jge	 SHORT $LN3@response_t

; 367  : 	{
; 368  : 		if (campaign_history [loop].index == index)

  00068	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  0006b	8b 0c c5 04 00
	00 00		 mov	 ecx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8+4]
  00072	3b 4d f8	 cmp	 ecx, DWORD PTR _index$[ebp]
  00075	75 12		 jne	 SHORT $LN6@response_t

; 369  : 		{
; 370  : 			remove_campaign_history (loop);

  00077	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  0007a	50		 push	 eax
  0007b	e8 00 00 00 00	 call	 ?remove_campaign_history@@YGXH@Z ; remove_campaign_history

; 371  : 
; 372  : 			loop --;

  00080	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00083	83 e8 01	 sub	 eax, 1
  00086	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN6@response_t:

; 373  : 		}
; 374  : 	}

  00089	eb c9		 jmp	 SHORT $LN2@response_t
$LN3@response_t:

; 375  : 
; 376  : 	maintain_campaign_history ();

  0008b	e8 00 00 00 00	 call	 ?maintain_campaign_history@@YGXXZ ; maintain_campaign_history

; 377  : 
; 378  : 	return TRUE;

  00090	b8 01 00 00 00	 mov	 eax, 1

; 379  : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c2 08 00	 ret	 8
?response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ENDP ; response_to_campaign_item_destroyed
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?maintain_campaign_history@@YGXXZ
_TEXT	SEGMENT
_page$ = -12						; size = 4
_last$ = -8						; size = 4
_loop$ = -4						; size = 4
?maintain_campaign_history@@YGXXZ PROC			; maintain_campaign_history, COMDAT

; 255  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 256  : 	int
; 257  : 		loop,
; 258  : 		last,
; 259  : 		page;
; 260  : 
; 261  : 	for (loop = 1; loop < num_campaign_history_items; loop ++)

  00009	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 1
  00010	eb 09		 jmp	 SHORT $LN4@maintain_c
$LN2@maintain_c:
  00012	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@maintain_c:
  0001b	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  0001e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  00024	7d 49		 jge	 SHORT $LN3@maintain_c

; 262  : 	{
; 263  : 		last = loop - 1;

  00026	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00029	83 e8 01	 sub	 eax, 1
  0002c	89 45 f8	 mov	 DWORD PTR _last$[ebp], eax

; 264  : 		
; 265  : 		if (campaign_history [loop].page == campaign_history [last].page)

  0002f	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00032	8b 4d f8	 mov	 ecx, DWORD PTR _last$[ebp]
  00035	8b 14 c5 00 00
	00 00		 mov	 edx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8]
  0003c	3b 14 cd 00 00
	00 00		 cmp	 edx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[ecx*8]
  00043	75 28		 jne	 SHORT $LN5@maintain_c

; 266  : 		{
; 267  : 			if (campaign_history [loop].index == campaign_history [last].index)

  00045	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00048	8b 4d f8	 mov	 ecx, DWORD PTR _last$[ebp]
  0004b	8b 14 c5 04 00
	00 00		 mov	 edx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8+4]
  00052	3b 14 cd 04 00
	00 00		 cmp	 edx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[ecx*8+4]
  00059	75 12		 jne	 SHORT $LN5@maintain_c

; 268  : 			{
; 269  : 				remove_campaign_history (last);

  0005b	8b 45 f8	 mov	 eax, DWORD PTR _last$[ebp]
  0005e	50		 push	 eax
  0005f	e8 00 00 00 00	 call	 ?remove_campaign_history@@YGXH@Z ; remove_campaign_history

; 270  : 
; 271  : 				loop --;

  00064	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00067	83 e8 01	 sub	 eax, 1
  0006a	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN5@maintain_c:

; 272  : 			}
; 273  : 		}
; 274  : 	}

  0006d	eb a3		 jmp	 SHORT $LN2@maintain_c
$LN3@maintain_c:

; 275  : 
; 276  : 	//
; 277  : 	// Consider currently displayed page
; 278  : 	//
; 279  : 
; 280  : 	last = num_campaign_history_items - 1;

  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  00074	83 e8 01	 sub	 eax, 1
  00077	89 45 f8	 mov	 DWORD PTR _last$[ebp], eax

; 281  : 
; 282  : 	page = campaign_history [last].page;

  0007a	8b 45 f8	 mov	 eax, DWORD PTR _last$[ebp]
  0007d	8b 0c c5 00 00
	00 00		 mov	 ecx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8]
  00084	89 4d f4	 mov	 DWORD PTR _page$[ebp], ecx

; 283  : 
; 284  : 	if (get_ui_object_drawable (campaign_page [page]))

  00087	8b 45 f4	 mov	 eax, DWORD PTR _page$[ebp]
  0008a	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?campaign_page@@3PAPAUUI_OBJECT@@A[eax*4]
  00091	51		 push	 ecx
  00092	8b 55 f4	 mov	 edx, DWORD PTR _page$[ebp]
  00095	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?campaign_page@@3PAPAUUI_OBJECT@@A[edx*4]
  0009c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0009e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_ui_object_drawable@@3PAP6GHPAUUI_OBJECT@@@ZA[ecx*4]
  000a5	ff d2		 call	 edx
  000a7	85 c0		 test	 eax, eax
  000a9	74 35		 je	 SHORT $LN1@maintain_c

; 285  : 	{
; 286  : 		if (get_ui_object_item_number (campaign_page [page]) == campaign_history [last].index)

  000ab	8b 45 f4	 mov	 eax, DWORD PTR _page$[ebp]
  000ae	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?campaign_page@@3PAPAUUI_OBJECT@@A[eax*4]
  000b5	51		 push	 ecx
  000b6	8b 55 f4	 mov	 edx, DWORD PTR _page$[ebp]
  000b9	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?campaign_page@@3PAPAUUI_OBJECT@@A[edx*4]
  000c0	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c2	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_ui_object_item_number@@3PAP6GHPAUUI_OBJECT@@@ZA[ecx*4]
  000c9	ff d2		 call	 edx
  000cb	8b 4d f8	 mov	 ecx, DWORD PTR _last$[ebp]
  000ce	3b 04 cd 04 00
	00 00		 cmp	 eax, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[ecx*8+4]
  000d5	75 09		 jne	 SHORT $LN1@maintain_c

; 287  : 		{
; 288  : 			remove_campaign_history (last);

  000d7	8b 45 f8	 mov	 eax, DWORD PTR _last$[ebp]
  000da	50		 push	 eax
  000db	e8 00 00 00 00	 call	 ?remove_campaign_history@@YGXH@Z ; remove_campaign_history
$LN1@maintain_c:

; 289  : 		}
; 290  : 	}
; 291  : }

  000e0	5f		 pop	 edi
  000e1	5e		 pop	 esi
  000e2	5b		 pop	 ebx
  000e3	8b e5		 mov	 esp, ebp
  000e5	5d		 pop	 ebp
  000e6	c3		 ret	 0
?maintain_campaign_history@@YGXXZ ENDP			; maintain_campaign_history
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?remove_campaign_history@@YGXH@Z
_TEXT	SEGMENT
_count$ = -4						; size = 4
_item$ = 8						; size = 4
?remove_campaign_history@@YGXH@Z PROC			; remove_campaign_history, COMDAT

; 210  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 211  : 	int
; 212  : 		count;
; 213  : 
; 214  : 	count = num_campaign_history_items;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  0000e	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax

; 215  : 
; 216  : 	ASSERT ((item >= 0) && (item < count));

  00011	83 7d 08 00	 cmp	 DWORD PTR _item$[ebp], 0
  00015	7c 08		 jl	 SHORT $LN3@remove_cam
  00017	8b 45 08	 mov	 eax, DWORD PTR _item$[ebp]
  0001a	3b 45 fc	 cmp	 eax, DWORD PTR _count$[ebp]
  0001d	7c 18		 jl	 SHORT $LN2@remove_cam
$LN3@remove_cam:
  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??remove_campaign_history@@YGXH@Z@4JA
  00024	83 c0 06	 add	 eax, 6
  00027	50		 push	 eax
  00028	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002d	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@KNGEPFDB@?$CIitem?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIitem?5?$DM?5count?$CJ@
  00032	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@remove_cam:

; 217  : 
; 218  : 	count = count - 1;

  00037	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0003a	83 e8 01	 sub	 eax, 1
  0003d	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax

; 219  : 
; 220  : 	if (item > 0)

  00040	83 7d 08 00	 cmp	 DWORD PTR _item$[ebp], 0
  00044	7e 19		 jle	 SHORT $LN4@remove_cam

; 221  : 	{
; 222  : 		//
; 223  : 		// copy elements before removed item
; 224  : 		//
; 225  : 		
; 226  : 		memcpy (temp, campaign_history, sizeof (campaign_history_type) * item);

  00046	8b 45 08	 mov	 eax, DWORD PTR _item$[ebp]
  00049	c1 e0 03	 shl	 eax, 3
  0004c	50		 push	 eax
  0004d	68 00 00 00 00	 push	 OFFSET ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  00052	68 00 00 00 00	 push	 OFFSET ?temp@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  00057	e8 00 00 00 00	 call	 _memcpy
  0005c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@remove_cam:

; 227  : 	}
; 228  : 
; 229  : 	if (count > item)

  0005f	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00062	3b 45 08	 cmp	 eax, DWORD PTR _item$[ebp]
  00065	7e 28		 jle	 SHORT $LN5@remove_cam

; 230  : 	{
; 231  : 		//
; 232  : 		// copy elements after removed item
; 233  : 		//
; 234  : 		
; 235  : 		memcpy (&temp [item], &campaign_history [item + 1], sizeof (campaign_history_type) * (count - item));

  00067	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0006a	2b 45 08	 sub	 eax, DWORD PTR _item$[ebp]
  0006d	c1 e0 03	 shl	 eax, 3
  00070	50		 push	 eax
  00071	8b 4d 08	 mov	 ecx, DWORD PTR _item$[ebp]
  00074	8d 14 cd 08 00
	00 00		 lea	 edx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[ecx*8+8]
  0007b	52		 push	 edx
  0007c	8b 45 08	 mov	 eax, DWORD PTR _item$[ebp]
  0007f	8d 0c c5 00 00
	00 00		 lea	 ecx, DWORD PTR ?temp@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8]
  00086	51		 push	 ecx
  00087	e8 00 00 00 00	 call	 _memcpy
  0008c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN5@remove_cam:

; 236  : 	}
; 237  : 
; 238  : 	//
; 239  : 	// switch lists
; 240  : 	//
; 241  : 
; 242  : 	if (count > 0)

  0008f	83 7d fc 00	 cmp	 DWORD PTR _count$[ebp], 0
  00093	7e 19		 jle	 SHORT $LN6@remove_cam

; 243  : 	{
; 244  : 		memcpy (campaign_history, temp, sizeof (campaign_history_type) * count);

  00095	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00098	c1 e0 03	 shl	 eax, 3
  0009b	50		 push	 eax
  0009c	68 00 00 00 00	 push	 OFFSET ?temp@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  000a1	68 00 00 00 00	 push	 OFFSET ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  000a6	e8 00 00 00 00	 call	 _memcpy
  000ab	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN6@remove_cam:

; 245  : 	}
; 246  : 
; 247  : 	num_campaign_history_items = count;

  000ae	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  000b1	a3 00 00 00 00	 mov	 DWORD PTR ?num_campaign_history_items@@3HA, eax

; 248  : }

  000b6	5f		 pop	 edi
  000b7	5e		 pop	 esi
  000b8	5b		 pop	 ebx
  000b9	8b e5		 mov	 esp, ebp
  000bb	5d		 pop	 ebp
  000bc	c2 04 00	 ret	 4
?remove_campaign_history@@YGXH@Z ENDP			; remove_campaign_history
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?overload_campaign_history_message_responses@@YGXXZ
_TEXT	SEGMENT
_target$ = -4						; size = 4
?overload_campaign_history_message_responses@@YGXXZ PROC ; overload_campaign_history_message_responses, COMDAT

; 386  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 387  : 	campaign_screen_message_targets
; 388  : 		target;
; 389  : 
; 390  : 	target = CAMPAIGN_SCREEN_TARGET_HISTORY;

  00009	c7 45 fc 0c 00
	00 00		 mov	 DWORD PTR _target$[ebp], 12 ; 0000000cH

; 391  : 
; 392  : 	campaign_screen_message_responses [target][CAMPAIGN_SCREEN_MISSION_COMPLETED]	=	response_to_campaign_item_destroyed;

  00010	6b 45 fc 38	 imul	 eax, DWORD PTR _target$[ebp], 56
  00014	b9 04 00 00 00	 mov	 ecx, 4
  00019	d1 e1		 shl	 ecx, 1
  0001b	c7 84 08 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?campaign_screen_message_responses@@3PAY0O@P6GHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@ZA[eax+ecx], OFFSET ?response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; response_to_campaign_item_destroyed

; 393  : 
; 394  : 	campaign_screen_message_responses [target][CAMPAIGN_SCREEN_MISSION_DESTROYED]	=	response_to_campaign_item_destroyed;

  00026	6b 45 fc 38	 imul	 eax, DWORD PTR _target$[ebp], 56
  0002a	b9 04 00 00 00	 mov	 ecx, 4
  0002f	6b d1 03	 imul	 edx, ecx, 3
  00032	c7 84 10 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?campaign_screen_message_responses@@3PAY0O@P6GHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@ZA[eax+edx], OFFSET ?response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; response_to_campaign_item_destroyed

; 395  : 
; 396  : 	campaign_screen_message_responses [target][CAMPAIGN_SCREEN_GROUP_DESTROYED]	=	response_to_campaign_item_destroyed;

  0003d	6b 45 fc 38	 imul	 eax, DWORD PTR _target$[ebp], 56
  00041	b9 04 00 00 00	 mov	 ecx, 4
  00046	6b d1 05	 imul	 edx, ecx, 5
  00049	c7 84 10 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?campaign_screen_message_responses@@3PAY0O@P6GHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@ZA[eax+edx], OFFSET ?response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; response_to_campaign_item_destroyed

; 397  : 
; 398  : 	campaign_screen_message_responses [target][CAMPAIGN_SCREEN_BASE_DESTROYED]		=	response_to_campaign_item_destroyed;

  00054	6b 45 fc 38	 imul	 eax, DWORD PTR _target$[ebp], 56
  00058	b9 04 00 00 00	 mov	 ecx, 4
  0005d	6b d1 0a	 imul	 edx, ecx, 10
  00060	c7 84 10 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?campaign_screen_message_responses@@3PAY0O@P6GHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@ZA[eax+edx], OFFSET ?response_to_campaign_item_destroyed@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; response_to_campaign_item_destroyed

; 399  : }

  0006b	5f		 pop	 edi
  0006c	5e		 pop	 esi
  0006d	5b		 pop	 ebx
  0006e	8b e5		 mov	 esp, ebp
  00070	5d		 pop	 ebp
  00071	c3		 ret	 0
?overload_campaign_history_message_responses@@YGXXZ ENDP ; overload_campaign_history_message_responses
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU1@@Z
_TEXT	SEGMENT
_y2$ = -16						; size = 4
_x2$ = -12						; size = 4
_y1$ = -8						; size = 4
_x1$ = -4						; size = 4
_parent$ = 8						; size = 4
_obj$ = 12						; size = 4
?define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU1@@Z PROC ; define_campaign_page_back_button, COMDAT

; 320  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 321  : 	float
; 322  : 		x1,
; 323  : 		y1,
; 324  : 		x2,
; 325  : 		y2;
; 326  : 
; 327  : 	ASSERT (obj);

  00009	83 7d 0c 00	 cmp	 DWORD PTR _obj$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@define_cam
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU2@@Z@4JA
  00014	83 c0 07	 add	 eax, 7
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_03GJLPFLNF@obj@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@define_cam:

; 328  : 
; 329  : 	ASSERT (parent);

  00027	83 7d 08 00	 cmp	 DWORD PTR _parent$[ebp], 0
  0002b	75 18		 jne	 SHORT $LN3@define_cam
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU2@@Z@4JA
  00032	83 c0 09	 add	 eax, 9
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_06MLKDMCBD@parent@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@define_cam:

; 330  : 	
; 331  : 	x1 = 0.0;

  00045	0f 57 c0	 xorps	 xmm0, xmm0
  00048	f3 0f 11 45 fc	 movss	 DWORD PTR _x1$[ebp], xmm0

; 332  : 	y1 = 0.943;

  0004d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f716873
  00055	f3 0f 11 45 f8	 movss	 DWORD PTR _y1$[ebp], xmm0

; 333  : 	x2 = 0.051;

  0005a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d50e560
  00062	f3 0f 11 45 f4	 movss	 DWORD PTR _x2$[ebp], xmm0

; 334  : 	y2 = 1.0;

  00067	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0006f	f3 0f 11 45 f0	 movss	 DWORD PTR _y2$[ebp], xmm0

; 335  : 
; 336  : 	*obj = create_ui_object

  00074	6a 11		 push	 17			; 00000011H
  00076	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@DPJEDMLG@graphics?2ui?2cohokum?2map?2barryel@
  0007b	e8 00 00 00 00	 call	 ?create_texture_graphic@@YGPAUTEXTURE_GRAPHIC@@PBD@Z ; create_texture_graphic
  00080	50		 push	 eax
  00081	6a 41		 push	 65			; 00000041H
  00083	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@KEEMMPLC@graphics?2ui?2cohokum?2map?2barrwht@
  00088	e8 00 00 00 00	 call	 ?create_texture_graphic@@YGPAUTEXTURE_GRAPHIC@@PBD@Z ; create_texture_graphic
  0008d	50		 push	 eax
  0008e	6a 26		 push	 38			; 00000026H
  00090	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@PGLGEHDN@graphics?2ui?2cohokum?2map?2barrprp@
  00095	e8 00 00 00 00	 call	 ?create_texture_graphic@@YGPAUTEXTURE_GRAPHIC@@PBD@Z ; create_texture_graphic
  0009a	50		 push	 eax
  0009b	6a 4c		 push	 76			; 0000004cH
  0009d	68 00 00 00 00	 push	 OFFSET ?pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z ; pop_campaign_history
  000a2	6a 16		 push	 22			; 00000016H
  000a4	6a 01		 push	 1
  000a6	6a 1b		 push	 27			; 0000001bH
  000a8	6a 03		 push	 3
  000aa	6a 12		 push	 18			; 00000012H
  000ac	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _y2$[ebp]
  000b1	f3 0f 5c 45 f8	 subss	 xmm0, DWORD PTR _y1$[ebp]
  000b6	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  000ba	83 ec 08	 sub	 esp, 8
  000bd	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000c2	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _x2$[ebp]
  000c7	f3 0f 5c 45 fc	 subss	 xmm0, DWORD PTR _x1$[ebp]
  000cc	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  000d0	83 ec 08	 sub	 esp, 8
  000d3	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000d8	6a 59		 push	 89			; 00000059H
  000da	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _y1$[ebp]
  000df	83 ec 08	 sub	 esp, 8
  000e2	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000e7	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _x1$[ebp]
  000ec	83 ec 08	 sub	 esp, 8
  000ef	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000f4	6a 58		 push	 88			; 00000058H
  000f6	8b 45 08	 mov	 eax, DWORD PTR _parent$[ebp]
  000f9	50		 push	 eax
  000fa	6a 32		 push	 50			; 00000032H
  000fc	6a 02		 push	 2
  000fe	e8 00 00 00 00	 call	 ?create_ui_object@@YAPAUUI_OBJECT@@HZZ ; create_ui_object
  00103	83 c4 68	 add	 esp, 104		; 00000068H
  00106	8b 4d 0c	 mov	 ecx, DWORD PTR _obj$[ebp]
  00109	89 01		 mov	 DWORD PTR [ecx], eax

; 337  : 		(
; 338  : 			UI_TYPE_BUTTON,
; 339  : 			UI_ATTR_PARENT (parent),
; 340  : 			UI_ATTR_VIRTUAL_POSITION (x1, y1),
; 341  : 			UI_ATTR_VIRTUAL_SIZE (x2 - x1, y2 - y1),
; 342  : 			UI_ATTR_FONT_TYPE (UI_FONT_ARIAL_16),
; 343  : 			UI_ATTR_HIGHLIGHTABLE (TRUE),
; 344  : 			UI_ATTR_FUNCTION (pop_campaign_history),
; 345  : 			UI_ATTR_TEXTURE_GRAPHIC (create_texture_graphic ("graphics\\ui\\cohokum\\map\\barrprp.psd")),
; 346  : 			UI_ATTR_HIGHLIGHTED_TEXTURE_GRAPHIC (create_texture_graphic ("graphics\\ui\\cohokum\\map\\barrwht.psd")),
; 347  : 			UI_ATTR_SELECTED_TEXTURE_GRAPHIC (create_texture_graphic ("graphics\\ui\\cohokum\\map\\barryel.psd")),
; 348  : 			UI_ATTR_END
; 349  : 		);
; 350  : }

  0010b	5f		 pop	 edi
  0010c	5e		 pop	 esi
  0010d	5b		 pop	 ebx
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c2 08 00	 ret	 8
?define_campaign_page_back_button@@YGXPAUUI_OBJECT@@PAPAU1@@Z ENDP ; define_campaign_page_back_button
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?remove_campaign_page_from_history@@YGXW4CAMPAIGN_PAGES@@@Z
_TEXT	SEGMENT
_loop$ = -4						; size = 4
_page$ = 8						; size = 4
?remove_campaign_page_from_history@@YGXW4CAMPAIGN_PAGES@@@Z PROC ; remove_campaign_page_from_history, COMDAT

; 298  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 299  : 	int
; 300  : 		loop;
; 301  : 
; 302  : 	for (loop = 0; loop < num_campaign_history_items; loop ++)

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _loop$[ebp], 0
  00010	eb 09		 jmp	 SHORT $LN4@remove_cam
$LN2@remove_cam:
  00012	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN4@remove_cam:
  0001b	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  0001e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  00024	7d 23		 jge	 SHORT $LN3@remove_cam

; 303  : 	{
; 304  : 		if (campaign_history [loop].page == page)

  00026	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00029	8b 0c c5 00 00
	00 00		 mov	 ecx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8]
  00030	3b 4d 08	 cmp	 ecx, DWORD PTR _page$[ebp]
  00033	75 12		 jne	 SHORT $LN5@remove_cam

; 305  : 		{
; 306  : 			remove_campaign_history (loop);

  00035	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00038	50		 push	 eax
  00039	e8 00 00 00 00	 call	 ?remove_campaign_history@@YGXH@Z ; remove_campaign_history

; 307  : 
; 308  : 			loop --;

  0003e	8b 45 fc	 mov	 eax, DWORD PTR _loop$[ebp]
  00041	83 e8 01	 sub	 eax, 1
  00044	89 45 fc	 mov	 DWORD PTR _loop$[ebp], eax
$LN5@remove_cam:

; 309  : 		}
; 310  : 	}

  00047	eb c9		 jmp	 SHORT $LN2@remove_cam
$LN3@remove_cam:

; 311  : 
; 312  : 	maintain_campaign_history ();

  00049	e8 00 00 00 00	 call	 ?maintain_campaign_history@@YGXXZ ; maintain_campaign_history

; 313  : }

  0004e	5f		 pop	 edi
  0004f	5e		 pop	 esi
  00050	5b		 pop	 ebx
  00051	8b e5		 mov	 esp, ebp
  00053	5d		 pop	 ebp
  00054	c2 04 00	 ret	 4
?remove_campaign_page_from_history@@YGXW4CAMPAIGN_PAGES@@@Z ENDP ; remove_campaign_page_from_history
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z
_TEXT	SEGMENT
tv84 = -80						; size = 4
_index$ = -12						; size = 4
_page$ = -8						; size = 4
_i$ = -4						; size = 4
_obj$ = 8						; size = 4
_arg$ = 12						; size = 4
?pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z PROC	; pop_campaign_history, COMDAT

; 171  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 172  : 	int
; 173  : 		i,
; 174  : 		page,
; 175  : 		index;
; 176  : 
; 177  : 	ASSERT (!pop_flag);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pop_flag@@3HA, 0
  00010	74 18		 je	 SHORT $LN2@pop_campai
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z@4JA
  00017	83 c0 06	 add	 eax, 6
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@CLOJIFJH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_09FABJHCIN@?$CBpop_flag@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@pop_campai:

; 178  : 	
; 179  : 	if (num_campaign_history_items > 0)

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?num_campaign_history_items@@3HA, 0
  00031	7e 79		 jle	 SHORT $LN1@pop_campai

; 180  : 	{
; 181  : 		i = num_campaign_history_items - 1;

  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  00038	83 e8 01	 sub	 eax, 1
  0003b	89 45 fc	 mov	 DWORD PTR _i$[ebp], eax

; 182  : 
; 183  : 		page = campaign_history [i].page;

  0003e	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  00041	8b 0c c5 00 00
	00 00		 mov	 ecx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8]
  00048	89 4d f8	 mov	 DWORD PTR _page$[ebp], ecx

; 184  : 
; 185  : 		index = campaign_history [i].index;

  0004b	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  0004e	8b 0c c5 04 00
	00 00		 mov	 ecx, DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8+4]
  00055	89 4d f4	 mov	 DWORD PTR _index$[ebp], ecx

; 186  : 
; 187  : 		#if DEBUG_MODULE
; 188  : 	
; 189  : 		debug_filtered_log ("CA_HIST: Popping to (%d) Page %d Index %d", i, page, index);
; 190  : 
; 191  : 		#endif
; 192  : 
; 193  : 		pop_flag = TRUE;

  00058	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?pop_flag@@3HA, 1

; 194  : 
; 195  : 		display_campaign_page ((campaign_pages) page, index, FALSE);

  00062	6a 00		 push	 0
  00064	8b 45 f4	 mov	 eax, DWORD PTR _index$[ebp]
  00067	50		 push	 eax
  00068	8b 4d f8	 mov	 ecx, DWORD PTR _page$[ebp]
  0006b	51		 push	 ecx
  0006c	e8 00 00 00 00	 call	 ?display_campaign_page@@YGXW4CAMPAIGN_PAGES@@HH@Z ; display_campaign_page

; 196  : 
; 197  : 		notify_campaign_screen (CAMPAIGN_SCREEN_FORCE_UPDATE, get_local_entity_safe_ptr (index));

  00071	83 7d f4 ff	 cmp	 DWORD PTR _index$[ebp], -1
  00075	74 11		 je	 SHORT $LN5@pop_campai
  00077	8b 45 f4	 mov	 eax, DWORD PTR _index$[ebp]
  0007a	c1 e0 04	 shl	 eax, 4
  0007d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  00083	89 45 b0	 mov	 DWORD PTR tv84[ebp], eax
  00086	eb 07		 jmp	 SHORT $LN6@pop_campai
$LN5@pop_campai:
  00088	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN6@pop_campai:
  0008f	8b 4d b0	 mov	 ecx, DWORD PTR tv84[ebp]
  00092	51		 push	 ecx
  00093	6a 0d		 push	 13			; 0000000dH
  00095	e8 00 00 00 00	 call	 ?notify_campaign_screen@@YGHW4CAMPAIGN_SCREEN_MESSAGES@@PAUENTITY@@@Z ; notify_campaign_screen

; 198  : 
; 199  : 		num_campaign_history_items = i;

  0009a	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  0009d	a3 00 00 00 00	 mov	 DWORD PTR ?num_campaign_history_items@@3HA, eax

; 200  : 
; 201  : 		pop_flag = FALSE;

  000a2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?pop_flag@@3HA, 0
$LN1@pop_campai:

; 202  : 	}
; 203  : }

  000ac	5f		 pop	 edi
  000ad	5e		 pop	 esi
  000ae	5b		 pop	 ebx
  000af	8b e5		 mov	 esp, ebp
  000b1	5d		 pop	 ebp
  000b2	c2 08 00	 ret	 8
?pop_campaign_history@@YGXPAUUI_OBJECT@@PAX@Z ENDP	; pop_campaign_history
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?push_campaign_history@@YGXW4CAMPAIGN_PAGES@@H@Z
_TEXT	SEGMENT
_page$ = 8						; size = 4
_index$ = 12						; size = 4
?push_campaign_history@@YGXW4CAMPAIGN_PAGES@@H@Z PROC	; push_campaign_history, COMDAT

; 140  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 141  : 	if (!pop_flag)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pop_flag@@3HA, 0
  00010	75 75		 jne	 SHORT $LN1@push_campa

; 142  : 	{
; 143  : 		if (num_campaign_history_items >= MAX_HISTORY_ITEMS)

  00012	83 3d 00 00 00
	00 18		 cmp	 DWORD PTR ?num_campaign_history_items@@3HA, 24 ; 00000018H
  00019	7c 41		 jl	 SHORT $LN3@push_campa

; 144  : 		{
; 145  : 			memcpy (temp, &campaign_history [1], sizeof (campaign_history_type) * (MAX_HISTORY_ITEMS - 1));

  0001b	68 b8 00 00 00	 push	 184			; 000000b8H
  00020	b8 08 00 00 00	 mov	 eax, 8
  00025	c1 e0 00	 shl	 eax, 0
  00028	05 00 00 00 00	 add	 eax, OFFSET ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  0002d	50		 push	 eax
  0002e	68 00 00 00 00	 push	 OFFSET ?temp@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  00033	e8 00 00 00 00	 call	 _memcpy
  00038	83 c4 0c	 add	 esp, 12			; 0000000cH

; 146  : 	
; 147  : 			memcpy (campaign_history, temp, sizeof (campaign_history_type) * (MAX_HISTORY_ITEMS - 1));

  0003b	68 b8 00 00 00	 push	 184			; 000000b8H
  00040	68 00 00 00 00	 push	 OFFSET ?temp@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  00045	68 00 00 00 00	 push	 OFFSET ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A
  0004a	e8 00 00 00 00	 call	 _memcpy
  0004f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 148  : 	
; 149  : 			num_campaign_history_items = MAX_HISTORY_ITEMS - 1;

  00052	c7 05 00 00 00
	00 17 00 00 00	 mov	 DWORD PTR ?num_campaign_history_items@@3HA, 23 ; 00000017H
$LN3@push_campa:

; 150  : 		}
; 151  : 	
; 152  : 		campaign_history [num_campaign_history_items].page = page;

  0005c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  00061	8b 4d 08	 mov	 ecx, DWORD PTR _page$[ebp]
  00064	89 0c c5 00 00
	00 00		 mov	 DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8], ecx

; 153  : 	
; 154  : 		campaign_history [num_campaign_history_items].index = index;

  0006b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  00070	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  00073	89 0c c5 04 00
	00 00		 mov	 DWORD PTR ?campaign_history@@3PAUCAMPAIGN_HISTORY_TYPE@@A[eax*8+4], ecx

; 155  : 	
; 156  : 		#if DEBUG_MODULE
; 157  : 		
; 158  : 		debug_filtered_log ("CA_HIST: Push (%d) Page %d Index %d", num_campaign_history_items, page, index);
; 159  : 	
; 160  : 		#endif
; 161  : 	
; 162  : 		num_campaign_history_items ++;

  0007a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?num_campaign_history_items@@3HA
  0007f	83 c0 01	 add	 eax, 1
  00082	a3 00 00 00 00	 mov	 DWORD PTR ?num_campaign_history_items@@3HA, eax
$LN1@push_campa:

; 163  : 	}
; 164  : }

  00087	5f		 pop	 edi
  00088	5e		 pop	 esi
  00089	5b		 pop	 ebx
  0008a	8b e5		 mov	 esp, ebp
  0008c	5d		 pop	 ebp
  0008d	c2 08 00	 ret	 8
?push_campaign_history@@YGXW4CAMPAIGN_PAGES@@H@Z ENDP	; push_campaign_history
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?get_campaign_history_valid@@YGHXZ
_TEXT	SEGMENT
?get_campaign_history_valid@@YGHXZ PROC			; get_campaign_history_valid, COMDAT

; 124  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 125  : 	if (num_campaign_history_items > 0)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?num_campaign_history_items@@3HA, 0
  00010	7e 09		 jle	 SHORT $LN2@get_campai

; 126  : 	{
; 127  : 		return TRUE;

  00012	b8 01 00 00 00	 mov	 eax, 1
  00017	eb 04		 jmp	 SHORT $LN1@get_campai

; 128  : 	}
; 129  : 	else

  00019	eb 02		 jmp	 SHORT $LN1@get_campai
$LN2@get_campai:

; 130  : 	{
; 131  : 		return FALSE;

  0001b	33 c0		 xor	 eax, eax
$LN1@get_campai:

; 132  : 	}
; 133  : }

  0001d	5f		 pop	 edi
  0001e	5e		 pop	 esi
  0001f	5b		 pop	 ebx
  00020	8b e5		 mov	 esp, ebp
  00022	5d		 pop	 ebp
  00023	c3		 ret	 0
?get_campaign_history_valid@@YGHXZ ENDP			; get_campaign_history_valid
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ui_menu\ingame\campaign\ca_hist.c
;	COMDAT ?initialise_campaign_history@@YGXXZ
_TEXT	SEGMENT
?initialise_campaign_history@@YGXXZ PROC		; initialise_campaign_history, COMDAT

; 113  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 114  : 	pop_flag = 0;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?pop_flag@@3HA, 0

; 115  : 
; 116  : 	num_campaign_history_items = 0;

  00013	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?num_campaign_history_items@@3HA, 0

; 117  : }

  0001d	5f		 pop	 edi
  0001e	5e		 pop	 esi
  0001f	5b		 pop	 ebx
  00020	8b e5		 mov	 esp, ebp
  00022	5d		 pop	 ebp
  00023	c3		 ret	 0
?initialise_campaign_history@@YGXXZ ENDP		; initialise_campaign_history
_TEXT	ENDS
END
