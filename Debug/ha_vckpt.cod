; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_havoc_virtual_cockpit@@YGXXZ	; initialise_havoc_virtual_cockpit
PUBLIC	?deinitialise_havoc_virtual_cockpit@@YGXXZ	; deinitialise_havoc_virtual_cockpit
PUBLIC	?update_havoc_virtual_cockpit@@YGXXZ		; update_havoc_virtual_cockpit
PUBLIC	?draw_havoc_internal_virtual_cockpit@@YGXI@Z	; draw_havoc_internal_virtual_cockpit
PUBLIC	?draw_havoc_external_virtual_cockpit@@YGXIPAE@Z	; draw_havoc_external_virtual_cockpit
PUBLIC	?damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z ; damage_havoc_virtual_cockpit_main_rotors
PUBLIC	?restore_havoc_virtual_cockpit_main_rotors@@YGXXZ ; restore_havoc_virtual_cockpit_main_rotors
PUBLIC	??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA ; `get_display_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0BC@FEOJCDHO@display_viewpoint@		; `string'
PUBLIC	??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ ; `string'
PUBLIC	??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ ; `string'
PUBLIC	?__LINE__Var@?0??draw_havoc_internal_virtual_cockpit@@YGXI@Z@4JA ; `draw_havoc_internal_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??draw_havoc_external_virtual_cockpit@@YGXIPAE@Z@4JA ; `draw_havoc_external_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	??_C@_0BC@ENKILJCA@wiper_rle_graphic@		; `string'
PUBLIC	?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA ; `damage_havoc_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ ; `string'
PUBLIC	??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@ ; `string'
PUBLIC	??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@ ; `string'
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA ; `restore_havoc_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	__real@3c8efa35
PUBLIC	__real@3d4ccccd
PUBLIC	__real@3dcccccd
PUBLIC	__real@3dd0c43d
PUBLIC	__real@3e99999a
PUBLIC	__real@3ef4f8b588e368f1
PUBLIC	__real@3f00002000400080
PUBLIC	__real@3f12f1aa
PUBLIC	__real@3f33f7cf
PUBLIC	__real@3f800000
PUBLIC	__real@3f9999999999999a
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4008000000000000
PUBLIC	__real@4014000000000000
PUBLIC	__real@41200000
PUBLIC	__real@461c4000
PUBLIC	__real@be860a92
PUBLIC	__real@bf060a92
PUBLIC	__real@bff8000000000000
PUBLIC	__real@c008000000000000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?multiply_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_matrix3x3_vec3d
EXTRN	?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_transpose_matrix3x3_vec3d
EXTRN	?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z:PROC ; multiply_matrix3x3_matrix3x3
EXTRN	?lock_screen@@YGHPAUSCREEN@@@Z:PROC		; lock_screen
EXTRN	?unlock_screen@@YGHPAUSCREEN@@@Z:PROC		; unlock_screen
EXTRN	?blit_rle_graphic@@YGXPBEHH@Z:PROC		; blit_rle_graphic
EXTRN	?clear_zbuffer_screen@@YGXXZ:PROC		; clear_zbuffer_screen
EXTRN	?set_3d_active_environment@@YGXPAUENV_3D@@@Z:PROC ; set_3d_active_environment
EXTRN	?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z:PROC ; set_3d_main_light_source
EXTRN	?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z:PROC ; set_3d_ambient_light
EXTRN	?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z:PROC ; recalculate_3d_environment_settings
EXTRN	?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z:PROC ; set_3d_view_distances
EXTRN	?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z:PROC	; realise_3d_clip_extents
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; destruct_3d_object
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z:PROC ; insert_zbiased_relative_object_into_3d_scene
EXTRN	?draw_3d_scene@@YGXXZ:PROC			; draw_3d_scene
EXTRN	?begin_3d_scene@@YGHXZ:PROC			; begin_3d_scene
EXTRN	?end_3d_scene@@YGXXZ:PROC			; end_3d_scene
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z:PROC ; animate_helicopter_main_rotors
EXTRN	?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z:PROC ; animate_damaged_helicopter_main_rotors
EXTRN	?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_helicopter_virtual_cockpit_main_rotors
EXTRN	?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; damage_helicopter_main_rotor_inst3d
EXTRN	?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z:PROC ; restore_helicopter_main_rotor_inst3d
EXTRN	?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z:PROC ; get_helicopter_main_rotors_blurred
EXTRN	?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z:PROC ; set_rotation_angle_of_helicopter_main_rotors
EXTRN	?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z:PROC ; get_rotation_angle_of_helicopter_main_rotors
EXTRN	?draw_havoc_ekran_display_on_texture@@YGXXZ:PROC ; draw_havoc_ekran_display_on_texture
EXTRN	?draw_havoc_hud_on_texture@@YGXXZ:PROC		; draw_havoc_hud_on_texture
EXTRN	?draw_havoc_mfd_on_texture@@YGXXZ:PROC		; draw_havoc_mfd_on_texture
EXTRN	?get_havoc_eo_display_visible@@YGHXZ:PROC	; get_havoc_eo_display_visible
EXTRN	?initialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; initialise_common_virtual_cockpit_cameras
EXTRN	?deinitialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; deinitialise_common_virtual_cockpit_cameras
EXTRN	?print_edit_wide_cockpit@@YGXXZ:PROC		; print_edit_wide_cockpit
EXTRN	?move_edit_wide_cockpit@@YGXXZ:PROC		; move_edit_wide_cockpit
EXTRN	?get_havoc_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z:PROC ; get_havoc_virtual_cockpit_adi_angles
EXTRN	?get_havoc_virtual_cockpit_hsi_needle_values@@YGXPAM00@Z:PROC ; get_havoc_virtual_cockpit_hsi_needle_values
EXTRN	?draw_havoc_virtual_cockpit_instruments_on_texture@@YGXXZ:PROC ; draw_havoc_virtual_cockpit_instruments_on_texture
EXTRN	?initialise_havoc_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; initialise_havoc_virtual_cockpit_wiper_and_rain_effect
EXTRN	?deinitialise_havoc_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; deinitialise_havoc_virtual_cockpit_wiper_and_rain_effect
EXTRN	?draw_havoc_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@H@Z:PROC ; draw_havoc_virtual_cockpit_wiper
EXTRN	?draw_havoc_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@H@Z:PROC ; draw_havoc_virtual_cockpit_rain_effect
EXTRN	?get_time_acceleration@@YGHXZ:PROC		; get_time_acceleration
EXTRN	?move_by_rate@@YGMMMM@Z:PROC			; move_by_rate
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?application_video_colourdepth@@3HA:DWORD	; application_video_colourdepth
EXTRN	?d3d_can_render_to_texture@@3HA:DWORD		; d3d_can_render_to_texture
EXTRN	?active_screen@@3PAUSCREEN@@A:DWORD		; active_screen
EXTRN	?command_line_g_force_head_movment_modifier@@3MA:DWORD ; command_line_g_force_head_movment_modifier
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?ix_640_480@@3HA:DWORD				; ix_640_480
EXTRN	?iy_640_480@@3HA:DWORD				; iy_640_480
EXTRN	?full_screen_hi_res@@3HA:DWORD			; full_screen_hi_res
EXTRN	?main_3d_env@@3PAUENV_3D@@A:DWORD		; main_3d_env
EXTRN	?main_3d_single_light_env@@3PAUENV_3D@@A:DWORD	; main_3d_single_light_env
EXTRN	?main_vp@@3UVIEWPOINT@@A:BYTE			; main_vp
EXTRN	?view_mode@@3W4VIEW_MODES@@A:DWORD		; view_mode
EXTRN	?pilot_head_heading@@3MA:DWORD			; pilot_head_heading
EXTRN	?pilot_head_pitch@@3MA:DWORD			; pilot_head_pitch
EXTRN	?wide_cockpit@@3HA:DWORD			; wide_cockpit
EXTRN	?edit_wide_cockpit@@3HA:DWORD			; edit_wide_cockpit
EXTRN	?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A:BYTE ; wide_cockpit_position
EXTRN	?wide_cockpit_nr@@3HA:DWORD			; wide_cockpit_nr
EXTRN	?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A:BYTE ; current_custom_cockpit_viewpoint
EXTRN	?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A:DWORD ; virtual_cockpit_inst3d
EXTRN	?pilot_head_pitch_datum@@3MA:DWORD		; pilot_head_pitch_datum
EXTRN	?co_pilot_head_pitch_datum@@3MA:DWORD		; co_pilot_head_pitch_datum
EXTRN	?wiper_mode@@3W4WIPER_MODES@@A:DWORD		; wiper_mode
EXTRN	?rain_mode@@3W4RAIN_MODES@@A:DWORD		; rain_mode
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level1_inst3d
?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level2_inst3d
?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level3_inst3d
?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level1_inst3d
?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level2_inst3d
?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level3_inst3d
?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_inst3d
?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_level1_inst3d
?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_level2_inst3d
?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_glass_level3_inst3d
?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_inst3d
?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_level1_inst3d
?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_level2_inst3d
?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_glass_level3_inst3d
?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hud_display_inst3d
?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_main_rotor_inst3d
?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_hud_main_rotor_inst3d
?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_adi_inst3d
?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_inst3d
?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_level1_inst3d
?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_level2_inst3d
?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_direction_finder_inst3d
?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_flight_path_inst3d
?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_hsi_drift_inst3d
?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_ekran_display_inst3d
?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_crt_display_inst3d
?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_inst3d
?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_level1_inst3d
?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_level2_inst3d
?x_head_g_movement@@3MA DD 01H DUP (?)			; x_head_g_movement
?y_head_g_movement@@3MA DD 01H DUP (?)			; y_head_g_movement
?random_vibration_x@@3MA DD 01H DUP (?)			; random_vibration_x
?random_vibration_y@@3MA DD 01H DUP (?)			; random_vibration_y
_BSS	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@c008000000000000
CONST	SEGMENT
__real@c008000000000000 DQ 0c008000000000000r	; -3
CONST	ENDS
;	COMDAT __real@bff8000000000000
CONST	SEGMENT
__real@bff8000000000000 DQ 0bff8000000000000r	; -1.5
CONST	ENDS
;	COMDAT __real@bf060a92
CONST	SEGMENT
__real@bf060a92 DD 0bf060a92r			; -0.523599
CONST	ENDS
;	COMDAT __real@be860a92
CONST	SEGMENT
__real@be860a92 DD 0be860a92r			; -0.261799
CONST	ENDS
;	COMDAT __real@461c4000
CONST	SEGMENT
__real@461c4000 DD 0461c4000r			; 10000
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@4008000000000000
CONST	SEGMENT
__real@4008000000000000 DQ 04008000000000000r	; 3
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3f9999999999999a
CONST	SEGMENT
__real@3f9999999999999a DQ 03f9999999999999ar	; 0.025
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f33f7cf
CONST	SEGMENT
__real@3f33f7cf DD 03f33f7cfr			; 0.703
CONST	ENDS
;	COMDAT __real@3f12f1aa
CONST	SEGMENT
__real@3f12f1aa DD 03f12f1aar			; 0.574
CONST	ENDS
;	COMDAT __real@3f00002000400080
CONST	SEGMENT
__real@3f00002000400080 DQ 03f00002000400080r	; 3.05185e-05
CONST	ENDS
;	COMDAT __real@3ef4f8b588e368f1
CONST	SEGMENT
__real@3ef4f8b588e368f1 DQ 03ef4f8b588e368f1r	; 2e-05
CONST	ENDS
;	COMDAT __real@3e99999a
CONST	SEGMENT
__real@3e99999a DD 03e99999ar			; 0.3
CONST	ENDS
;	COMDAT __real@3dd0c43d
CONST	SEGMENT
__real@3dd0c43d DD 03dd0c43dr			; 0.101937
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@3d4ccccd
CONST	SEGMENT
__real@3d4ccccd DD 03d4ccccdr			; 0.05
CONST	ENDS
;	COMDAT __real@3c8efa35
CONST	SEGMENT
__real@3c8efa35 DD 03c8efa35r			; 0.0174533
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA DD 05d7H ; `restore_havoc_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@
CONST	SEGMENT
??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@ DB 'virtual_cockpit_la'
	DB	'rge_hud_main_rotor_inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
CONST	SEGMENT
??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@ DB 'virtual_cockpit_m'
	DB	'ain_rotor_inst3d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ DB 'get_gunship_entity ('
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA DD 05b6H ; `damage_havoc_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BC@ENKILJCA@wiper_rle_graphic@
CONST	SEGMENT
??_C@_0BC@ENKILJCA@wiper_rle_graphic@ DB 'wiper_rle_graphic', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_havoc_external_virtual_cockpit@@YGXIPAE@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_havoc_external_virtual_cockpit@@YGXIPAE@Z@4JA DD 0406H ; `draw_havoc_external_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??draw_havoc_internal_virtual_cockpit@@YGXI@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_havoc_internal_virtual_cockpit@@YGXI@Z@4JA DD 01efH ; `draw_havoc_internal_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
CONST	SEGMENT
??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ DB 'Failed to loc'
	DB	'ate display viewpoint in virtual cockpit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ DB 'Invalid view mod'
	DB	'e = %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@FEOJCDHO@display_viewpoint@
CONST	SEGMENT
??_C@_0BC@FEOJCDHO@display_viewpoint@ DB 'display_viewpoint', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA DD 01a2H ; `get_display_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_v'
	DB	'ckpt.c', 00H				; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z
_TEXT	SEGMENT
tv161 = -180						; size = 4
tv153 = -176						; size = 4
tv138 = -176						; size = 4
tv80 = -176						; size = 4
_vp$ = -108						; size = 48
_search$ = -60						; size = 56
_index$ = -4						; size = 4
_mode$ = 8						; size = 4
_display_viewpoint$ = 12				; size = 4
?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z PROC ; get_display_viewpoint, COMDAT

; 418  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b4 00 00
	00		 sub	 esp, 180		; 000000b4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 419  : 	object_3d_sub_object_index_numbers
; 420  : 		index;
; 421  : 
; 422  : 	object_3d_sub_object_search_data
; 423  : 		search;
; 424  : 
; 425  : 	viewpoint
; 426  : 		vp;
; 427  : 
; 428  : 	ASSERT (display_viewpoint);

  0000c	83 7d 0c 00	 cmp	 DWORD PTR _display_viewpoint$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@get_displa
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  00017	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@FEOJCDHO@display_viewpoint@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_displa:

; 429  : 
; 430  : 	if ((!full_screen_hi_res) && (application_video_colourdepth == 16))

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?full_screen_hi_res@@3HA, 0 ; full_screen_hi_res
  00031	0f 85 87 00 00
	00		 jne	 $LN3@get_displa
  00037	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?application_video_colourdepth@@3HA, 16 ; application_video_colourdepth, 00000010H
  0003e	75 7e		 jne	 SHORT $LN3@get_displa

; 431  : 	{
; 432  : 		display_viewpoint->x = 0.0;

  00040	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  00043	0f 57 c0	 xorps	 xmm0, xmm0
  00046	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 433  : 		display_viewpoint->y = 0.0;

  0004a	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  0004d	0f 57 c0	 xorps	 xmm0, xmm0
  00050	f3 0f 11 40 04	 movss	 DWORD PTR [eax+4], xmm0

; 434  : 		display_viewpoint->z = 0.0;

  00055	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  00058	0f 57 c0	 xorps	 xmm0, xmm0
  0005b	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 435  : 
; 436  : 		get_local_entity_attitude_matrix (get_gunship_entity (), display_viewpoint->attitude);

  00060	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00067	74 0f		 je	 SHORT $LN10@get_displa
  00069	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0006e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00070	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv80[ebp], ecx
  00076	eb 24		 jmp	 SHORT $LN11@get_displa
$LN10@get_displa:
  00078	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0007e	83 c2 12	 add	 edx, 18			; 00000012H
  00081	52		 push	 edx
  00082	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00087	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00092	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN11@get_displa:
  0009c	8b 4d 0c	 mov	 ecx, DWORD PTR _display_viewpoint$[ebp]
  0009f	83 c1 0c	 add	 ecx, 12			; 0000000cH
  000a2	51		 push	 ecx
  000a3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000a9	52		 push	 edx
  000aa	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv80[ebp]
  000b0	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  000b7	ff d1		 call	 ecx

; 437  : 
; 438  : 		return;

  000b9	e9 45 02 00 00	 jmp	 $LN1@get_displa
$LN3@get_displa:

; 439  : 	}
; 440  : 
; 441  : 	if (mode == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV)

  000be	83 7d 08 1e	 cmp	 DWORD PTR _mode$[ebp], 30 ; 0000001eH
  000c2	75 09		 jne	 SHORT $LN4@get_displa

; 442  : 	{
; 443  : 		index = OBJECT_3D_SUB_OBJECT_HAVOC_COCKPIT_CRT_CAMERA;

  000c4	c7 45 fc 7d 00
	00 00		 mov	 DWORD PTR _index$[ebp], 125 ; 0000007dH
  000cb	eb 20		 jmp	 SHORT $LN7@get_displa
$LN4@get_displa:

; 444  : 	}
; 445  : 	else if (mode == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD)

  000cd	83 7d 08 1f	 cmp	 DWORD PTR _mode$[ebp], 31 ; 0000001fH
  000d1	75 09		 jne	 SHORT $LN6@get_displa

; 446  : 	{
; 447  : 		index = OBJECT_3D_SUB_OBJECT_HAVOC_COCKPIT_HUD_CAMERA;

  000d3	c7 45 fc 7e 00
	00 00		 mov	 DWORD PTR _index$[ebp], 126 ; 0000007eH

; 448  : 	}
; 449  : 	else

  000da	eb 11		 jmp	 SHORT $LN7@get_displa
$LN6@get_displa:

; 450  : 	{
; 451  : 		debug_fatal ("Invalid view mode = %d", mode);

  000dc	8b 45 08	 mov	 eax, DWORD PTR _mode$[ebp]
  000df	50		 push	 eax
  000e0	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
  000e5	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000ea	83 c4 08	 add	 esp, 8
$LN7@get_displa:

; 452  : 	}
; 453  : 
; 454  : 	virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;

  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000f2	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d

; 455  : 
; 456  : 	search.search_depth = 0;

  000f7	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 457  : 	search.search_object = virtual_cockpit_inst3d;

  000fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00103	89 45 c4	 mov	 DWORD PTR _search$[ebp], eax

; 458  : 	search.sub_object_index = index;

  00106	8b 45 fc	 mov	 eax, DWORD PTR _index$[ebp]
  00109	89 45 d0	 mov	 DWORD PTR _search$[ebp+12], eax

; 459  : 
; 460  : 	if (find_object_3d_sub_object (&search) != SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0010c	8d 45 c4	 lea	 eax, DWORD PTR _search$[ebp]
  0010f	50		 push	 eax
  00110	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00115	83 f8 01	 cmp	 eax, 1
  00118	74 0d		 je	 SHORT $LN8@get_displa

; 461  : 	{
; 462  : 		debug_fatal ("Failed to locate display viewpoint in virtual cockpit");

  0011a	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
  0011f	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00124	83 c4 04	 add	 esp, 4
$LN8@get_displa:

; 463  : 	}
; 464  : 
; 465  : 	virtual_cockpit_inst3d->vp.x = 0.0;

  00127	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0012c	0f 57 c0	 xorps	 xmm0, xmm0
  0012f	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 466  : 	virtual_cockpit_inst3d->vp.y = 0.0;

  00134	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00139	0f 57 c0	 xorps	 xmm0, xmm0
  0013c	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 467  : 	virtual_cockpit_inst3d->vp.z = 0.0;

  00141	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00146	0f 57 c0	 xorps	 xmm0, xmm0
  00149	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 468  : 
; 469  : 	get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  0014e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00155	74 0f		 je	 SHORT $LN12@get_displa
  00157	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0015c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0015e	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv138[ebp], ecx
  00164	eb 24		 jmp	 SHORT $LN13@get_displa
$LN12@get_displa:
  00166	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0016c	83 c2 33	 add	 edx, 51			; 00000033H
  0016f	52		 push	 edx
  00170	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00175	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0017a	50		 push	 eax
  0017b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00180	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv138[ebp], 0
$LN13@get_displa:
  0018a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00190	83 c1 14	 add	 ecx, 20			; 00000014H
  00193	51		 push	 ecx
  00194	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0019a	52		 push	 edx
  0019b	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv138[ebp]
  001a1	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  001a8	ff d1		 call	 ecx

; 470  : 
; 471  : 	get_3d_sub_object_world_viewpoint (search.result_sub_object, &vp);

  001aa	8d 45 94	 lea	 eax, DWORD PTR _vp$[ebp]
  001ad	50		 push	 eax
  001ae	8b 4d c8	 mov	 ecx, DWORD PTR _search$[ebp+4]
  001b1	51		 push	 ecx
  001b2	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 472  : 
; 473  : 	get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &main_vp.position);

  001b7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001be	74 0f		 je	 SHORT $LN14@get_displa
  001c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c5	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c7	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv153[ebp], ecx
  001cd	eb 24		 jmp	 SHORT $LN15@get_displa
$LN14@get_displa:
  001cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  001d5	83 c2 37	 add	 edx, 55			; 00000037H
  001d8	52		 push	 edx
  001d9	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  001de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv153[ebp], 0
$LN15@get_displa:
  001f3	b9 01 00 00 00	 mov	 ecx, 1
  001f8	85 c9		 test	 ecx, ecx
  001fa	74 0c		 je	 SHORT $LN16@get_displa
  001fc	c7 85 4c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv161[ebp], 8
  00206	eb 24		 jmp	 SHORT $LN17@get_displa
$LN16@get_displa:
  00208	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0020e	83 c2 37	 add	 edx, 55			; 00000037H
  00211	52		 push	 edx
  00212	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00217	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0021c	50		 push	 eax
  0021d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00222	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv161[ebp], 0
$LN17@get_displa:
  0022c	68 00 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A ; main_vp
  00231	6a 08		 push	 8
  00233	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00239	51		 push	 ecx
  0023a	6b 95 50 ff ff
	ff 60		 imul	 edx, DWORD PTR tv153[ebp], 96
  00241	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR tv161[ebp]
  00247	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[edx+eax*4]
  0024e	ff d1		 call	 ecx

; 474  : 
; 475  : 	main_vp.x += vp.x;

  00250	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A
  00258	f3 0f 58 45 94	 addss	 xmm0, DWORD PTR _vp$[ebp]
  0025d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A, xmm0

; 476  : 	main_vp.y += vp.y;

  00265	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4
  0026d	f3 0f 58 45 98	 addss	 xmm0, DWORD PTR _vp$[ebp+4]
  00272	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4, xmm0

; 477  : 	main_vp.z += vp.z;

  0027a	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8
  00282	f3 0f 58 45 9c	 addss	 xmm0, DWORD PTR _vp$[ebp+8]
  00287	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8, xmm0

; 478  : 
; 479  : 	memcpy (main_vp.attitude, vp.attitude, sizeof (matrix3x3));

  0028f	6a 24		 push	 36			; 00000024H
  00291	8d 45 a0	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00294	50		 push	 eax
  00295	68 0c 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A+12
  0029a	e8 00 00 00 00	 call	 _memcpy
  0029f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 480  : 
; 481  : 	vp.x = -vp.x;

  002a2	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _vp$[ebp]
  002a7	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002ae	f3 0f 11 45 94	 movss	 DWORD PTR _vp$[ebp], xmm0

; 482  : 	vp.y = -vp.y;

  002b3	f3 0f 10 45 98	 movss	 xmm0, DWORD PTR _vp$[ebp+4]
  002b8	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002bf	f3 0f 11 45 98	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 483  : 	vp.z = -vp.z;

  002c4	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _vp$[ebp+8]
  002c9	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002d0	f3 0f 11 45 9c	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 484  : 
; 485  : 	multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, vp.attitude, &vp.position);

  002d5	8d 45 94	 lea	 eax, DWORD PTR _vp$[ebp]
  002d8	50		 push	 eax
  002d9	8d 4d a0	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  002dc	51		 push	 ecx
  002dd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002e3	83 c2 08	 add	 edx, 8
  002e6	52		 push	 edx
  002e7	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 486  : 
; 487  : 	memcpy (display_viewpoint, &virtual_cockpit_inst3d->vp, sizeof (viewpoint));

  002ec	6a 30		 push	 48			; 00000030H
  002ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002f3	83 c0 08	 add	 eax, 8
  002f6	50		 push	 eax
  002f7	8b 4d 0c	 mov	 ecx, DWORD PTR _display_viewpoint$[ebp]
  002fa	51		 push	 ecx
  002fb	e8 00 00 00 00	 call	 _memcpy
  00300	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@get_displa:

; 488  : }

  00303	5f		 pop	 edi
  00304	5e		 pop	 esi
  00305	5b		 pop	 ebx
  00306	8b e5		 mov	 esp, ebp
  00308	5d		 pop	 ebp
  00309	c2 08 00	 ret	 8
?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ENDP ; get_display_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?set_cockpit_lighting@@YGXQAY02M@Z
_TEXT	SEGMENT
tv82 = -204						; size = 4
tv76 = -200						; size = 4
tv69 = -196						; size = 4
_directional_light_roll$ = -128				; size = 4
_directional_light_pitch$ = -124			; size = 4
_directional_light_heading$ = -120			; size = 4
_directional_light_colour$ = -116			; size = 16
_ambient_light_colour$ = -100				; size = 16
_directional_light_direction$ = -84			; size = 12
_result$ = -72						; size = 36
_directional_light_rotation$ = -36			; size = 36
_attitude$ = 8						; size = 4
?set_cockpit_lighting@@YGXQAY02M@Z PROC			; set_cockpit_lighting, COMDAT

; 291  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 292  : 	matrix3x3
; 293  : 		directional_light_rotation,
; 294  : 		result;
; 295  : 
; 296  : 	vec3d
; 297  : 		directional_light_direction;
; 298  : 
; 299  : 	light_colour
; 300  : 		ambient_light_colour,
; 301  : 		directional_light_colour;
; 302  : 
; 303  : 	float
; 304  : 		directional_light_heading,
; 305  : 		directional_light_pitch,
; 306  : 		directional_light_roll;
; 307  : 
; 308  : 	switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00013	74 0f		 je	 SHORT $LN9@set_cockpi
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0001a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001c	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv69[ebp], ecx
  00022	eb 20		 jmp	 SHORT $LN10@set_cockpi
$LN9@set_cockpi:
  00024	68 34 01 00 00	 push	 308			; 00000134H
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	52		 push	 edx
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv69[ebp], 0
$LN10@set_cockpi:
  00044	b8 01 00 00 00	 mov	 eax, 1
  00049	85 c0		 test	 eax, eax
  0004b	74 0c		 je	 SHORT $LN11@set_cockpi
  0004d	c7 85 38 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv76[ebp], 39	; 00000027H
  00057	eb 20		 jmp	 SHORT $LN12@set_cockpi
$LN11@set_cockpi:
  00059	68 34 01 00 00	 push	 308			; 00000134H
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00069	51		 push	 ecx
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv76[ebp], 0
$LN12@set_cockpi:
  00079	6a 27		 push	 39			; 00000027H
  0007b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00081	52		 push	 edx
  00082	69 85 3c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv69[ebp], 1116
  0008c	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR tv76[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	89 85 34 ff ff
	ff		 mov	 DWORD PTR tv82[ebp], eax
  000a1	83 bd 34 ff ff
	ff 03		 cmp	 DWORD PTR tv82[ebp], 3
  000a8	0f 87 7a 01 00
	00		 ja	 $LN2@set_cockpi
  000ae	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv82[ebp]
  000b4	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN13@set_cockpi[eax*4]
$LN4@set_cockpi:

; 309  : 	{
; 310  : 		////////////////////////////////////////
; 311  : 		case DAY_SEGMENT_TYPE_DAWN:
; 312  : 		////////////////////////////////////////
; 313  : 		{
; 314  : 			ambient_light_colour.red		 		= 0.0;

  000bb	0f 57 c0	 xorps	 xmm0, xmm0
  000be	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 315  : 			ambient_light_colour.green		  		= 0.0;

  000c3	0f 57 c0	 xorps	 xmm0, xmm0
  000c6	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 316  : 			ambient_light_colour.blue		  		= 0.0;

  000cb	0f 57 c0	 xorps	 xmm0, xmm0
  000ce	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 317  : 
; 318  : 			directional_light_colour.red			= 1.0;

  000d3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000db	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 319  : 			directional_light_colour.green		= 0.574;

  000e0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f12f1aa
  000e8	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 320  : 			directional_light_colour.blue			= 0.0;

  000ed	0f 57 c0	 xorps	 xmm0, xmm0
  000f0	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 321  : 
; 322  : 			directional_light_heading 				= rad (0.0);

  000f5	0f 57 c0	 xorps	 xmm0, xmm0
  000f8	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 323  : 			directional_light_pitch 				= rad (-15.0);

  000fd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  00105	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 324  : 			directional_light_roll 					= rad (0.0);

  0010a	0f 57 c0	 xorps	 xmm0, xmm0
  0010d	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 325  : 
; 326  : 			break;

  00112	e9 11 01 00 00	 jmp	 $LN2@set_cockpi
$LN5@set_cockpi:

; 327  : 		}
; 328  : 		////////////////////////////////////////
; 329  : 		case DAY_SEGMENT_TYPE_DAY:
; 330  : 		////////////////////////////////////////
; 331  : 		{
; 332  : 			ambient_light_colour.red		 		= 0.0;

  00117	0f 57 c0	 xorps	 xmm0, xmm0
  0011a	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 333  : 			ambient_light_colour.green		  		= 0.0;

  0011f	0f 57 c0	 xorps	 xmm0, xmm0
  00122	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 334  : 			ambient_light_colour.blue		  		= 0.0;

  00127	0f 57 c0	 xorps	 xmm0, xmm0
  0012a	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 335  : 
; 336  : 			directional_light_colour.red			= 1.0;

  0012f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00137	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 337  : 			directional_light_colour.green		= 1.0;

  0013c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00144	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 338  : 			directional_light_colour.blue			= 1.0;

  00149	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00151	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 339  : 
; 340  : 			directional_light_heading 				= rad (0.0);

  00156	0f 57 c0	 xorps	 xmm0, xmm0
  00159	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 341  : 			directional_light_pitch 				= rad (-30.0);

  0015e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf060a92
  00166	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 342  : 			directional_light_roll 					= rad (0.0);

  0016b	0f 57 c0	 xorps	 xmm0, xmm0
  0016e	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 343  : 
; 344  : 			break;

  00173	e9 b0 00 00 00	 jmp	 $LN2@set_cockpi
$LN6@set_cockpi:

; 345  : 		}
; 346  : 		////////////////////////////////////////
; 347  : 		case DAY_SEGMENT_TYPE_DUSK:
; 348  : 		////////////////////////////////////////
; 349  : 		{
; 350  : 			ambient_light_colour.red		 		= 0.0;

  00178	0f 57 c0	 xorps	 xmm0, xmm0
  0017b	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 351  : 			ambient_light_colour.green		  		= 0.0;

  00180	0f 57 c0	 xorps	 xmm0, xmm0
  00183	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 352  : 			ambient_light_colour.blue		  		= 0.0;

  00188	0f 57 c0	 xorps	 xmm0, xmm0
  0018b	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 353  : 
; 354  : 			directional_light_colour.red			= 1.0;

  00190	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00198	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 355  : 			directional_light_colour.green		= 0.574;

  0019d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f12f1aa
  001a5	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 356  : 			directional_light_colour.blue			= 0.0;

  001aa	0f 57 c0	 xorps	 xmm0, xmm0
  001ad	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 357  : 
; 358  : 			directional_light_heading 				= rad (0.0);

  001b2	0f 57 c0	 xorps	 xmm0, xmm0
  001b5	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 359  : 			directional_light_pitch 				= rad (-15.0);

  001ba	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  001c2	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 360  : 			directional_light_roll 					= rad (0.0);

  001c7	0f 57 c0	 xorps	 xmm0, xmm0
  001ca	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 361  : 
; 362  : 			break;

  001cf	eb 57		 jmp	 SHORT $LN2@set_cockpi
$LN7@set_cockpi:

; 363  : 		}
; 364  : 		////////////////////////////////////////
; 365  : 		case DAY_SEGMENT_TYPE_NIGHT:
; 366  : 		////////////////////////////////////////
; 367  : 		{
; 368  : 			ambient_light_colour.red		 		= 0.0;

  001d1	0f 57 c0	 xorps	 xmm0, xmm0
  001d4	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 369  : 			ambient_light_colour.green		  		= 0.0;

  001d9	0f 57 c0	 xorps	 xmm0, xmm0
  001dc	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 370  : 			ambient_light_colour.blue		  		= 0.0;

  001e1	0f 57 c0	 xorps	 xmm0, xmm0
  001e4	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 371  : 
; 372  : 			directional_light_colour.red			= 1.0;

  001e9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001f1	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 373  : 			directional_light_colour.green		= 0.703;

  001f6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f33f7cf
  001fe	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 374  : 			directional_light_colour.blue			= 0.0;

  00203	0f 57 c0	 xorps	 xmm0, xmm0
  00206	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 375  : 
; 376  : 			directional_light_heading 				= rad (0.0);

  0020b	0f 57 c0	 xorps	 xmm0, xmm0
  0020e	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 377  : 			directional_light_pitch 				= rad (-15.0);

  00213	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  0021b	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 378  : 			directional_light_roll 					= rad (0.0);

  00220	0f 57 c0	 xorps	 xmm0, xmm0
  00223	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0
$LN2@set_cockpi:

; 379  : 
; 380  : 			break;
; 381  : 		}
; 382  : 	}
; 383  : 
; 384  : 	#if DEMO_VERSION
; 385  : 
; 386  : 	ambient_light_colour.red		 		= 0.0;
; 387  : 	ambient_light_colour.green		  		= 0.0;
; 388  : 	ambient_light_colour.blue		  		= 0.0;
; 389  : 
; 390  : 	directional_light_colour.red			= 1.0;
; 391  : 	directional_light_colour.green		= 1.0;
; 392  : 	directional_light_colour.blue			= 1.0;
; 393  : 
; 394  : 	directional_light_heading 				= rad (0.0);
; 395  : 	directional_light_pitch 				= rad (-30.0);
; 396  : 	directional_light_roll 					= rad (0.0);
; 397  : 
; 398  : 	#endif
; 399  : 
; 400  : 	set_3d_ambient_light (main_3d_single_light_env, &ambient_light_colour);

  00228	8d 45 9c	 lea	 eax, DWORD PTR _ambient_light_colour$[ebp]
  0022b	50		 push	 eax
  0022c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00232	51		 push	 ecx
  00233	e8 00 00 00 00	 call	 ?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z ; set_3d_ambient_light

; 401  : 
; 402  : 	get_3d_transformation_matrix (directional_light_rotation, directional_light_heading, directional_light_pitch, directional_light_roll);

  00238	51		 push	 ecx
  00239	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _directional_light_roll$[ebp]
  0023e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00243	51		 push	 ecx
  00244	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _directional_light_pitch$[ebp]
  00249	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024e	51		 push	 ecx
  0024f	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _directional_light_heading$[ebp]
  00254	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00259	8d 45 dc	 lea	 eax, DWORD PTR _directional_light_rotation$[ebp]
  0025c	50		 push	 eax
  0025d	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 403  : 
; 404  : 	multiply_matrix3x3_matrix3x3 (result, directional_light_rotation, attitude);

  00262	8b 45 08	 mov	 eax, DWORD PTR _attitude$[ebp]
  00265	50		 push	 eax
  00266	8d 4d dc	 lea	 ecx, DWORD PTR _directional_light_rotation$[ebp]
  00269	51		 push	 ecx
  0026a	8d 55 b8	 lea	 edx, DWORD PTR _result$[ebp]
  0026d	52		 push	 edx
  0026e	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 405  : 
; 406  : 	directional_light_direction.x = -result[2][0];

  00273	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00278	d1 e0		 shl	 eax, 1
  0027a	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  0027e	ba 04 00 00 00	 mov	 edx, 4
  00283	6b c2 00	 imul	 eax, edx, 0
  00286	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  0028b	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00292	f3 0f 11 45 ac	 movss	 DWORD PTR _directional_light_direction$[ebp], xmm0

; 407  : 	directional_light_direction.y = -result[2][1];

  00297	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0029c	d1 e0		 shl	 eax, 1
  0029e	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  002a2	ba 04 00 00 00	 mov	 edx, 4
  002a7	c1 e2 00	 shl	 edx, 0
  002aa	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002af	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002b6	f3 0f 11 45 b0	 movss	 DWORD PTR _directional_light_direction$[ebp+4], xmm0

; 408  : 	directional_light_direction.z = -result[2][2];

  002bb	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002c0	d1 e0		 shl	 eax, 1
  002c2	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  002c6	ba 04 00 00 00	 mov	 edx, 4
  002cb	d1 e2		 shl	 edx, 1
  002cd	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002d2	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002d9	f3 0f 11 45 b4	 movss	 DWORD PTR _directional_light_direction$[ebp+8], xmm0

; 409  : 
; 410  : 	set_3d_main_light_source (main_3d_single_light_env, &directional_light_colour, &directional_light_direction, FALSE);

  002de	6a 00		 push	 0
  002e0	8d 45 ac	 lea	 eax, DWORD PTR _directional_light_direction$[ebp]
  002e3	50		 push	 eax
  002e4	8d 4d 8c	 lea	 ecx, DWORD PTR _directional_light_colour$[ebp]
  002e7	51		 push	 ecx
  002e8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  002ee	52		 push	 edx
  002ef	e8 00 00 00 00	 call	 ?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z ; set_3d_main_light_source

; 411  : }

  002f4	5f		 pop	 edi
  002f5	5e		 pop	 esi
  002f6	5b		 pop	 ebx
  002f7	8b e5		 mov	 esp, ebp
  002f9	5d		 pop	 ebp
  002fa	c2 04 00	 ret	 4
  002fd	0f 1f 00	 npad	 3
$LN13@set_cockpi:
  00300	00 00 00 00	 DD	 $LN4@set_cockpi
  00304	00 00 00 00	 DD	 $LN5@set_cockpi
  00308	00 00 00 00	 DD	 $LN6@set_cockpi
  0030c	00 00 00 00	 DD	 $LN7@set_cockpi
?set_cockpit_lighting@@YGXQAY02M@Z ENDP			; set_cockpit_lighting
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?restore_havoc_virtual_cockpit_main_rotors@@YGXXZ
_TEXT	SEGMENT
tv93 = -80						; size = 4
tv85 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
?restore_havoc_virtual_cockpit_main_rotors@@YGXXZ PROC	; restore_havoc_virtual_cockpit_main_rotors, COMDAT

; 1495 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1496 : 	float
; 1497 : 		theta;
; 1498 : 
; 1499 : 	object_3d_instance
; 1500 : 		*inst3d;
; 1501 : 
; 1502 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@restore_ha
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@restore_ha:

; 1503 : 
; 1504 : 	ASSERT (virtual_cockpit_main_rotor_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@restore_ha
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@restore_ha:

; 1505 : 	ASSERT (virtual_cockpit_large_hud_main_rotor_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@restore_ha
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@restore_ha:

; 1506 : 
; 1507 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00073	74 0c		 je	 SHORT $LN7@restore_ha
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0007c	89 4d b4	 mov	 DWORD PTR tv85[ebp], ecx
  0007f	eb 21		 jmp	 SHORT $LN8@restore_ha
$LN7@restore_ha:
  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00087	83 c2 0c	 add	 edx, 12			; 0000000cH
  0008a	52		 push	 edx
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN8@restore_ha:
  000a2	b9 01 00 00 00	 mov	 ecx, 1
  000a7	85 c9		 test	 ecx, ecx
  000a9	74 09		 je	 SHORT $LN9@restore_ha
  000ab	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv93[ebp], 2
  000b2	eb 21		 jmp	 SHORT $LN10@restore_ha
$LN9@restore_ha:
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000ba	83 c2 0c	 add	 edx, 12			; 0000000cH
  000bd	52		 push	 edx
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN10@restore_ha:
  000d5	6a 02		 push	 2
  000d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000dd	51		 push	 ecx
  000de	6b 55 b4 50	 imul	 edx, DWORD PTR tv85[ebp], 80
  000e2	8b 45 b0	 mov	 eax, DWORD PTR tv93[ebp]
  000e5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000ec	ff d1		 call	 ecx
  000ee	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1508 : 
; 1509 : 	ASSERT (inst3d);

  000f1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000f5	75 18		 jne	 SHORT $LN5@restore_ha
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_havoc_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000fc	83 c0 0e	 add	 eax, 14			; 0000000eH
  000ff	50		 push	 eax
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0010a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@restore_ha:

; 1510 : 
; 1511 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  0010f	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  00118	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1512 : 
; 1513 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  0011b	51		 push	 ecx
  0011c	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00121	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012b	50		 push	 eax
  0012c	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1514 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_large_hud_main_rotor_inst3d, theta);

  00131	51		 push	 ecx
  00132	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00137	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00141	50		 push	 eax
  00142	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1515 : 
; 1516 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0014c	50		 push	 eax
  0014d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00153	51		 push	 ecx
  00154	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1517 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_large_hud_main_rotor_inst3d);

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0015e	50		 push	 eax
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1518 : 
; 1519 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_main_rotor_inst3d);

  0016b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00170	50		 push	 eax
  00171	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1520 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_large_hud_main_rotor_inst3d);

  00176	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0017b	50		 push	 eax
  0017c	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1521 : }

  00181	5f		 pop	 edi
  00182	5e		 pop	 esi
  00183	5b		 pop	 ebx
  00184	8b e5		 mov	 esp, ebp
  00186	5d		 pop	 ebp
  00187	c3		 ret	 0
?restore_havoc_virtual_cockpit_main_rotors@@YGXXZ ENDP	; restore_havoc_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z
_TEXT	SEGMENT
tv93 = -80						; size = 4
tv85 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
_seed$ = 8						; size = 4
?damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z PROC	; damage_havoc_virtual_cockpit_main_rotors, COMDAT

; 1462 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1463 : 	float
; 1464 : 		theta;
; 1465 : 
; 1466 : 	object_3d_instance
; 1467 : 		*inst3d;
; 1468 : 
; 1469 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@damage_hav
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@damage_hav:

; 1470 : 
; 1471 : 	ASSERT (virtual_cockpit_main_rotor_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@damage_hav
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@damage_hav:

; 1472 : 	ASSERT (virtual_cockpit_large_hud_main_rotor_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@damage_hav
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@HNBPCFN@virtual_cockpit_large_hud_main_@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@damage_hav:

; 1473 : 
; 1474 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00073	74 0c		 je	 SHORT $LN7@damage_hav
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0007c	89 4d b4	 mov	 DWORD PTR tv85[ebp], ecx
  0007f	eb 21		 jmp	 SHORT $LN8@damage_hav
$LN7@damage_hav:
  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00087	83 c2 0c	 add	 edx, 12			; 0000000cH
  0008a	52		 push	 edx
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009b	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv85[ebp], 0
$LN8@damage_hav:
  000a2	b9 01 00 00 00	 mov	 ecx, 1
  000a7	85 c9		 test	 ecx, ecx
  000a9	74 09		 je	 SHORT $LN9@damage_hav
  000ab	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv93[ebp], 2
  000b2	eb 21		 jmp	 SHORT $LN10@damage_hav
$LN9@damage_hav:
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000ba	83 c2 0c	 add	 edx, 12			; 0000000cH
  000bd	52		 push	 edx
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000c8	50		 push	 eax
  000c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ce	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN10@damage_hav:
  000d5	6a 02		 push	 2
  000d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000dd	51		 push	 ecx
  000de	6b 55 b4 50	 imul	 edx, DWORD PTR tv85[ebp], 80
  000e2	8b 45 b0	 mov	 eax, DWORD PTR tv93[ebp]
  000e5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000ec	ff d1		 call	 ecx
  000ee	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1475 : 
; 1476 : 	ASSERT (inst3d);

  000f1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000f5	75 18		 jne	 SHORT $LN5@damage_hav
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000fc	83 c0 0e	 add	 eax, 14			; 0000000eH
  000ff	50		 push	 eax
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0010a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@damage_hav:

; 1477 : 
; 1478 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  0010f	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  00118	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1479 : 
; 1480 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  0011b	51		 push	 ecx
  0011c	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00121	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012b	50		 push	 eax
  0012c	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1481 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_large_hud_main_rotor_inst3d, theta);

  00131	51		 push	 ecx
  00132	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00137	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00141	50		 push	 eax
  00142	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1482 : 
; 1483 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0014c	50		 push	 eax
  0014d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00153	51		 push	 ecx
  00154	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1484 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_large_hud_main_rotor_inst3d);

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0015e	50		 push	 eax
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1485 : 
; 1486 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_main_rotor_inst3d, seed);

  0016b	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  0016e	50		 push	 eax
  0016f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00175	51		 push	 ecx
  00176	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1487 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_large_hud_main_rotor_inst3d, seed);

  0017b	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  0017e	50		 push	 eax
  0017f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00185	51		 push	 ecx
  00186	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1488 : }

  0018b	5f		 pop	 edi
  0018c	5e		 pop	 esi
  0018d	5b		 pop	 ebx
  0018e	8b e5		 mov	 esp, ebp
  00190	5d		 pop	 ebp
  00191	c2 04 00	 ret	 4
?damage_havoc_virtual_cockpit_main_rotors@@YGXH@Z ENDP	; damage_havoc_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?draw_havoc_external_virtual_cockpit@@YGXIPAE@Z
_TEXT	SEGMENT
tv197 = -264						; size = 8
tv171 = -264						; size = 8
tv490 = -260						; size = 4
tv452 = -260						; size = 4
tv484 = -256						; size = 4
tv446 = -256						; size = 4
tv283 = -256						; size = 4
tv257 = -256						; size = 4
tv198 = -256						; size = 8
tv172 = -256						; size = 8
tv477 = -252						; size = 4
tv439 = -252						; size = 4
tv275 = -252						; size = 4
tv250 = -252						; size = 4
tv214 = -252						; size = 4
_roll$1 = -184						; size = 4
_pitch$2 = -180						; size = 4
_heading$3 = -176					; size = 4
_vp_world_position$4 = -172				; size = 12
_vp_position$5 = -160					; size = 12
_head_rotation$6 = -148					; size = 36
_inst3d$ = -112						; size = 4
_theta$ = -108						; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
_wiper_rle_graphic$ = 12				; size = 4
?draw_havoc_external_virtual_cockpit@@YGXIPAE@Z PROC	; draw_havoc_external_virtual_cockpit, COMDAT

; 1030 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1031 : 	viewpoint
; 1032 : 		vp;
; 1033 : 
; 1034 : 	object_3d_sub_object_search_data
; 1035 : 		search;
; 1036 : 
; 1037 : 	float
; 1038 : 		theta;
; 1039 : 
; 1040 : 	object_3d_instance
; 1041 : 		*inst3d;
; 1042 : 
; 1043 : 	////////////////////////////////////////
; 1044 : 	//
; 1045 : 	// virtual cockpit viewpoint is placed at the main object origin
; 1046 : 	//
; 1047 : 	////////////////////////////////////////
; 1048 : 
; 1049 : 	if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV)

  0000c	83 3d 00 00 00
	00 1e		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 30 ; view_mode, 0000001eH
  00013	75 10		 jne	 SHORT $LN6@draw_havoc

; 1050 : 	{
; 1051 : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV, &vp);

  00015	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00018	50		 push	 eax
  00019	6a 1e		 push	 30			; 0000001eH
  0001b	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint
  00020	e9 be 04 00 00	 jmp	 $LN9@draw_havoc
$LN6@draw_havoc:

; 1052 : 	}
; 1053 : 	else if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD)

  00025	83 3d 00 00 00
	00 1f		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 31 ; view_mode, 0000001fH
  0002c	75 10		 jne	 SHORT $LN8@draw_havoc

; 1054 : 	{
; 1055 : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD, &vp);

  0002e	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00031	50		 push	 eax
  00032	6a 1f		 push	 31			; 0000001fH
  00034	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint

; 1056 : 	}
; 1057 : 	else

  00039	e9 a5 04 00 00	 jmp	 $LN9@draw_havoc
$LN8@draw_havoc:

; 1058 : 	{
; 1059 : 		matrix3x3 head_rotation;
; 1060 : 		vec3d vp_position, vp_world_position;
; 1061 : 
; 1062 : 		vp_position.x = 0.0;

  0003e	0f 57 c0	 xorps	 xmm0, xmm0
  00041	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 1063 : 		vp_position.y = 0.0;

  00049	0f 57 c0	 xorps	 xmm0, xmm0
  0004c	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 1064 : 		vp_position.z = 0.0;

  00054	0f 57 c0	 xorps	 xmm0, xmm0
  00057	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+8], xmm0

; 1065 : 
; 1066 : //VJ wideview mod, date: 18-mar-03
; 1067 : 		if (get_global_wide_cockpit ())

  0005f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00066	74 7d		 je	 SHORT $LN11@draw_havoc

; 1068 : 		{
; 1069 : 		   vp_position.x = wide_cockpit_position[wide_cockpit_nr].c.x;

  00068	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0006f	f3 0f 10 80 14
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+20]
  00077	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 1070 : 		   vp_position.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  0007f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00086	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  0008e	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 1071 : 		   vp_position.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00096	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0009d	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  000a5	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+8], xmm0

; 1072 : 			//VJ 050207 included head pitch in fixed view setting
; 1073 : 			pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  000ad	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  000b4	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  000bc	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  000c4	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 1074 : 			if (edit_wide_cockpit)

  000cc	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?edit_wide_cockpit@@3HA, 0 ; edit_wide_cockpit
  000d3	74 10		 je	 SHORT $LN11@draw_havoc

; 1075 : 				pilot_head_pitch = pilot_head_pitch_datum;

  000d5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch_datum@@3MA
  000dd	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch@@3MA, xmm0
$LN11@draw_havoc:

; 1076 : 		}
; 1077 : 
; 1078 : 		vp_position.x += current_custom_cockpit_viewpoint.x;

  000e5	f3 0f 10 85 60
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp]
  000ed	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A
  000f5	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 1079 : 		vp_position.y += current_custom_cockpit_viewpoint.y;

  000fd	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp+4]
  00105	f3 0f 58 05 04
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+4
  0010d	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 1080 : 		vp_position.z += current_custom_cockpit_viewpoint.z;

  00115	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp+8]
  0011d	f3 0f 58 05 08
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+8
  00125	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+8], xmm0

; 1081 : 
; 1082 :     //ataribaby 27/12/2008
; 1083 :     /*
; 1084 : 		vp_position.x += bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 1085 : 		if (!current_flight_dynamics->auto_hover)   // arneh - auto hover has some weird dynamics which cause lots of g-forces, so disable head movement when auto hover is enabled
; 1086 : 			vp_position.y += bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 1087 :     */
; 1088 : 
; 1089 : 		//ataribaby 27/12/2008 new head g-force movement and vibration from main rotor
; 1090 :     if (get_time_acceleration() != TIME_ACCELERATION_PAUSE)

  0012d	e8 00 00 00 00	 call	 ?get_time_acceleration@@YGHXZ ; get_time_acceleration
  00132	85 c0		 test	 eax, eax
  00134	0f 84 c2 00 00
	00		 je	 $LN12@draw_havoc

; 1091 :     {
; 1092 :       random_vibration_x = (frand1() * (current_flight_dynamics->main_rotor_rpm.value * 0.00002)) * command_line_g_force_head_movment_modifier;

  0013a	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00144	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00149	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0014e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00154	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00157	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0015d	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00161	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00169	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0016f	f3 0f 5a 8a 14
	1e 00 00	 cvtss2sd xmm1, DWORD PTR [edx+7700]
  00177	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ef4f8b588e368f1
  0017f	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00183	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  0018b	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0018f	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00193	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?random_vibration_x@@3MA, xmm0

; 1093 :       random_vibration_y = (frand1() * (current_flight_dynamics->main_rotor_rpm.value * 0.00002)) * command_line_g_force_head_movment_modifier;

  0019b	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  001a5	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  001aa	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  001af	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  001b5	c1 f9 10	 sar	 ecx, 16			; 00000010H
  001b8	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  001be	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  001c2	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  001ca	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  001d0	f3 0f 5a 8a 14
	1e 00 00	 cvtss2sd xmm1, DWORD PTR [edx+7700]
  001d8	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ef4f8b588e368f1
  001e0	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  001e4	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  001ec	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  001f0	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001f4	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?random_vibration_y@@3MA, xmm0
$LN12@draw_havoc:

; 1094 :     }
; 1095 :     x_head_g_movement = move_by_rate(x_head_g_movement, random_vibration_x + (bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier), 0.05);

  001fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00201	f3 0f 10 80 48
	1c 00 00	 movss	 xmm0, DWORD PTR [eax+7240]
  00209	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  00211	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00215	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@c008000000000000
  0021d	66 0f 2f c8	 comisd	 xmm1, xmm0
  00221	76 12		 jbe	 SHORT $LN52@draw_havoc
  00223	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@c008000000000000
  0022b	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv172[ebp], xmm0
  00233	eb 68		 jmp	 SHORT $LN53@draw_havoc
$LN52@draw_havoc:
  00235	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0023b	f3 0f 10 81 48
	1c 00 00	 movss	 xmm0, DWORD PTR [ecx+7240]
  00243	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  0024b	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0024f	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4008000000000000
  00257	76 12		 jbe	 SHORT $LN50@draw_havoc
  00259	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4008000000000000
  00261	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv171[ebp], xmm0
  00269	eb 22		 jmp	 SHORT $LN51@draw_havoc
$LN50@draw_havoc:
  0026b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00271	f3 0f 10 82 48
	1c 00 00	 movss	 xmm0, DWORD PTR [edx+7240]
  00279	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  00281	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00285	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv171[ebp], xmm0
$LN51@draw_havoc:
  0028d	f2 0f 10 85 f8
	fe ff ff	 movsd	 xmm0, QWORD PTR tv171[ebp]
  00295	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv172[ebp], xmm0
$LN53@draw_havoc:
  0029d	51		 push	 ecx
  0029e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  002a6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002ab	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?random_vibration_x@@3MA
  002b3	f2 0f 10 8d 00
	ff ff ff	 movsd	 xmm1, QWORD PTR tv172[ebp]
  002bb	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3f9999999999999a
  002c3	f3 0f 5a 15 00
	00 00 00	 cvtss2sd xmm2, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  002cb	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  002cf	f2 0f 58 c1	 addsd	 xmm0, xmm1
  002d3	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  002d7	51		 push	 ecx
  002d8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002dd	51		 push	 ecx
  002de	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?x_head_g_movement@@3MA
  002e6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002eb	e8 00 00 00 00	 call	 ?move_by_rate@@YGMMMM@Z	; move_by_rate
  002f0	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?x_head_g_movement@@3MA

; 1096 :     y_head_g_movement = move_by_rate(y_head_g_movement, random_vibration_y + (bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier), 0.05);

  002f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  002fb	f3 0f 5a 80 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [eax+9308]
  00303	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  0030b	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bff8000000000000
  00313	66 0f 2f c8	 comisd	 xmm1, xmm0
  00317	76 12		 jbe	 SHORT $LN56@draw_havoc
  00319	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bff8000000000000
  00321	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv198[ebp], xmm0
  00329	eb 60		 jmp	 SHORT $LN57@draw_havoc
$LN56@draw_havoc:
  0032b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00331	f3 0f 5a 81 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [ecx+9308]
  00339	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00341	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4014000000000000
  00349	76 12		 jbe	 SHORT $LN54@draw_havoc
  0034b	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4014000000000000
  00353	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv197[ebp], xmm0
  0035b	eb 1e		 jmp	 SHORT $LN55@draw_havoc
$LN54@draw_havoc:
  0035d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00363	f3 0f 5a 82 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [edx+9308]
  0036b	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00373	f2 0f 11 85 f8
	fe ff ff	 movsd	 QWORD PTR tv197[ebp], xmm0
$LN55@draw_havoc:
  0037b	f2 0f 10 85 f8
	fe ff ff	 movsd	 xmm0, QWORD PTR tv197[ebp]
  00383	f2 0f 11 85 00
	ff ff ff	 movsd	 QWORD PTR tv198[ebp], xmm0
$LN57@draw_havoc:
  0038b	51		 push	 ecx
  0038c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  00394	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00399	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?random_vibration_y@@3MA
  003a1	f2 0f 10 8d 00
	ff ff ff	 movsd	 xmm1, QWORD PTR tv198[ebp]
  003a9	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3f9999999999999a
  003b1	f3 0f 5a 15 00
	00 00 00	 cvtss2sd xmm2, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  003b9	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  003bd	f2 0f 58 c1	 addsd	 xmm0, xmm1
  003c1	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  003c5	51		 push	 ecx
  003c6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003cb	51		 push	 ecx
  003cc	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?y_head_g_movement@@3MA
  003d4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003d9	e8 00 00 00 00	 call	 ?move_by_rate@@YGMMMM@Z	; move_by_rate
  003de	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?y_head_g_movement@@3MA

; 1097 : 
; 1098 :     vp_position.x -= x_head_g_movement;

  003e4	f3 0f 10 85 60
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp]
  003ec	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?x_head_g_movement@@3MA
  003f4	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 1099 : 		//if (!current_flight_dynamics->auto_hover)   // arneh - auto hover has some weird dynamics which cause lots of g-forces, so disable head movement when auto hover is enabled
; 1100 : 		vp_position.y -= y_head_g_movement;

  003fc	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp+4]
  00404	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?y_head_g_movement@@3MA
  0040c	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 1101 : 
; 1102 : 		get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  00414	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0041b	74 0f		 je	 SHORT $LN58@draw_havoc
  0041d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00422	8b 08		 mov	 ecx, DWORD PTR [eax]
  00424	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv214[ebp], ecx
  0042a	eb 24		 jmp	 SHORT $LN59@draw_havoc
$LN58@draw_havoc:
  0042c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_havoc_external_virtual_cockpit@@YGXIPAE@Z@4JA
  00432	83 c2 48	 add	 edx, 72			; 00000048H
  00435	52		 push	 edx
  00436	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0043b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00440	50		 push	 eax
  00441	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00446	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv214[ebp], 0
$LN59@draw_havoc:
  00450	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  00453	51		 push	 ecx
  00454	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0045a	52		 push	 edx
  0045b	8b 85 04 ff ff
	ff		 mov	 eax, DWORD PTR tv214[ebp]
  00461	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  00468	ff d1		 call	 ecx

; 1103 : 		get_3d_transformation_matrix(head_rotation, pilot_head_heading, -pilot_head_pitch, 0.0);

  0046a	51		 push	 ecx
  0046b	0f 57 c0	 xorps	 xmm0, xmm0
  0046e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00473	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch@@3MA
  0047b	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00482	51		 push	 ecx
  00483	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00488	51		 push	 ecx
  00489	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_heading@@3MA
  00491	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00496	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _head_rotation$6[ebp]
  0049c	50		 push	 eax
  0049d	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 1104 : 
; 1105 : 		multiply_matrix3x3_vec3d(&vp_world_position, head_rotation, &vp_position);

  004a2	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _vp_position$5[ebp]
  004a8	50		 push	 eax
  004a9	8d 8d 6c ff ff
	ff		 lea	 ecx, DWORD PTR _head_rotation$6[ebp]
  004af	51		 push	 ecx
  004b0	8d 95 54 ff ff
	ff		 lea	 edx, DWORD PTR _vp_world_position$4[ebp]
  004b6	52		 push	 edx
  004b7	e8 00 00 00 00	 call	 ?multiply_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_matrix3x3_vec3d

; 1106 : 
; 1107 : 		vp.x = vp_world_position.x;

  004bc	f3 0f 10 85 54
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_world_position$4[ebp]
  004c4	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1108 : 		vp.y = vp_world_position.y;

  004c9	f3 0f 10 85 58
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_world_position$4[ebp+4]
  004d1	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1109 : 		vp.z = vp_world_position.z;

  004d6	f3 0f 10 85 5c
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_world_position$4[ebp+8]
  004de	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN9@draw_havoc:

; 1110 : 	}
; 1111 : 
; 1112 : 	////////////////////////////////////////
; 1113 : 	//
; 1114 : 	// draw 3D scene without lighting
; 1115 : 	//
; 1116 : 	////////////////////////////////////////
; 1117 : 
; 1118 : 	if (flags & (VIRTUAL_COCKPIT_MAIN_ROTOR | VIRTUAL_COCKPIT_STOWED_WIPER | VIRTUAL_COCKPIT_MOVING_WIPER))

  004e3	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  004e6	25 00 d0 00 00	 and	 eax, 53248		; 0000d000H
  004eb	0f 84 05 03 00
	00		 je	 $LN14@draw_havoc

; 1119 : 	{
; 1120 : 		set_3d_active_environment (main_3d_env);

  004f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  004f6	50		 push	 eax
  004f7	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1121 : 
; 1122 : 		set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  004fc	51		 push	 ecx
  004fd	0f 57 c0	 xorps	 xmm0, xmm0
  00500	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00505	51		 push	 ecx
  00506	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0050e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00513	51		 push	 ecx
  00514	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  0051c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00521	51		 push	 ecx
  00522	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  0052a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0052f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00534	50		 push	 eax
  00535	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1123 : 
; 1124 : 		realise_3d_clip_extents (main_3d_env);

  0053a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0053f	50		 push	 eax
  00540	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1125 : 
; 1126 : 		recalculate_3d_environment_settings (main_3d_env);

  00545	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0054a	50		 push	 eax
  0054b	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1127 : 
; 1128 : 		clear_zbuffer_screen ();

  00550	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1129 : 
; 1130 : 		if (begin_3d_scene ())

  00555	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  0055a	85 c0		 test	 eax, eax
  0055c	0f 84 94 02 00
	00		 je	 $LN14@draw_havoc

; 1131 : 		{
; 1132 : 			//
; 1133 : 			// main rotor
; 1134 : 			//
; 1135 : 
; 1136 : 			if (flags & VIRTUAL_COCKPIT_MAIN_ROTOR)

  00562	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00565	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  0056a	0f 84 3d 02 00
	00		 je	 $LN21@draw_havoc

; 1137 : 			{
; 1138 : 				if (!(get_helicopter_main_rotors_blurred (get_gunship_entity ()) && (!get_global_blurred_main_rotors_visible_from_cockpit ())))

  00570	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00575	50		 push	 eax
  00576	e8 00 00 00 00	 call	 ?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z ; get_helicopter_main_rotors_blurred
  0057b	85 c0		 test	 eax, eax
  0057d	74 0d		 je	 SHORT $LN17@draw_havoc
  0057f	83 3d 1c 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+28, 0
  00586	0f 84 21 02 00
	00		 je	 $LN21@draw_havoc
$LN17@draw_havoc:

; 1139 : 				{
; 1140 : 					if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_MAIN_ROTOR_DAMAGED))

  0058c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00593	74 0f		 je	 SHORT $LN60@draw_havoc
  00595	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0059a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0059c	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv250[ebp], ecx
  005a2	eb 20		 jmp	 SHORT $LN61@draw_havoc
$LN60@draw_havoc:
  005a4	68 74 04 00 00	 push	 1140			; 00000474H
  005a9	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  005ae	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005b4	52		 push	 edx
  005b5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005ba	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv250[ebp], 0
$LN61@draw_havoc:
  005c4	b8 01 00 00 00	 mov	 eax, 1
  005c9	85 c0		 test	 eax, eax
  005cb	74 0c		 je	 SHORT $LN62@draw_havoc
  005cd	c7 85 00 ff ff
	ff 81 00 00 00	 mov	 DWORD PTR tv257[ebp], 129 ; 00000081H
  005d7	eb 20		 jmp	 SHORT $LN63@draw_havoc
$LN62@draw_havoc:
  005d9	68 74 04 00 00	 push	 1140			; 00000474H
  005de	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  005e3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  005e9	51		 push	 ecx
  005ea	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005ef	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv257[ebp], 0
$LN63@draw_havoc:
  005f9	68 81 00 00 00	 push	 129			; 00000081H
  005fe	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00604	52		 push	 edx
  00605	69 85 04 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv250[ebp], 1116
  0060f	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv257[ebp]
  00615	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0061c	ff d2		 call	 edx
  0061e	85 c0		 test	 eax, eax
  00620	74 0f		 je	 SHORT $LN18@draw_havoc

; 1141 : 					{
; 1142 : 						animate_damaged_helicopter_main_rotors (get_gunship_entity (), TRUE);

  00622	6a 01		 push	 1
  00624	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00629	50		 push	 eax
  0062a	e8 00 00 00 00	 call	 ?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z ; animate_damaged_helicopter_main_rotors

; 1143 : 					}
; 1144 : 					else

  0062f	eb 0f		 jmp	 SHORT $LN19@draw_havoc
$LN18@draw_havoc:

; 1145 : 					{
; 1146 : 						animate_helicopter_main_rotors (get_gunship_entity (), TRUE, FALSE);

  00631	6a 00		 push	 0
  00633	6a 01		 push	 1
  00635	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0063a	50		 push	 eax
  0063b	e8 00 00 00 00	 call	 ?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z ; animate_helicopter_main_rotors
$LN19@draw_havoc:

; 1147 : 					}
; 1148 : 
; 1149 : 					inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  00640	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00647	74 0f		 je	 SHORT $LN64@draw_havoc
  00649	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0064e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00650	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv275[ebp], ecx
  00656	eb 24		 jmp	 SHORT $LN65@draw_havoc
$LN64@draw_havoc:
  00658	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_havoc_external_virtual_cockpit@@YGXIPAE@Z@4JA
  0065e	83 c2 77	 add	 edx, 119		; 00000077H
  00661	52		 push	 edx
  00662	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00667	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0066c	50		 push	 eax
  0066d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00672	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv275[ebp], 0
$LN65@draw_havoc:
  0067c	b9 01 00 00 00	 mov	 ecx, 1
  00681	85 c9		 test	 ecx, ecx
  00683	74 0c		 je	 SHORT $LN66@draw_havoc
  00685	c7 85 00 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv283[ebp], 2
  0068f	eb 24		 jmp	 SHORT $LN67@draw_havoc
$LN66@draw_havoc:
  00691	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_havoc_external_virtual_cockpit@@YGXIPAE@Z@4JA
  00697	83 c2 77	 add	 edx, 119		; 00000077H
  0069a	52		 push	 edx
  0069b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  006a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  006a5	50		 push	 eax
  006a6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006ab	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv283[ebp], 0
$LN67@draw_havoc:
  006b5	6a 02		 push	 2
  006b7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  006bd	51		 push	 ecx
  006be	6b 95 04 ff ff
	ff 50		 imul	 edx, DWORD PTR tv275[ebp], 80
  006c5	8b 85 00 ff ff
	ff		 mov	 eax, DWORD PTR tv283[ebp]
  006cb	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  006d2	ff d1		 call	 ecx
  006d4	89 45 90	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1150 : 
; 1151 : 					theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  006d7	8b 45 90	 mov	 eax, DWORD PTR _inst3d$[ebp]
  006da	50		 push	 eax
  006db	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  006e0	d9 5d 94	 fstp	 DWORD PTR _theta$[ebp]

; 1152 : 
; 1153 : 					if (flags & VIRTUAL_COCKPIT_LARGE_HUD)

  006e3	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  006e6	83 e0 02	 and	 eax, 2
  006e9	74 62		 je	 SHORT $LN20@draw_havoc

; 1154 : 					{
; 1155 : 						set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_large_hud_main_rotor_inst3d, theta);

  006eb	51		 push	 ecx
  006ec	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _theta$[ebp]
  006f1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  006fb	50		 push	 eax
  006fc	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1156 : 
; 1157 : 						animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_large_hud_main_rotor_inst3d);

  00701	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00706	50		 push	 eax
  00707	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0070d	51		 push	 ecx
  0070e	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1158 : 
; 1159 : 						memcpy (&virtual_cockpit_large_hud_main_rotor_inst3d->vp, &vp, sizeof (viewpoint));

  00713	6a 30		 push	 48			; 00000030H
  00715	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00718	50		 push	 eax
  00719	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0071f	83 c1 08	 add	 ecx, 8
  00722	51		 push	 ecx
  00723	e8 00 00 00 00	 call	 _memcpy
  00728	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1160 : 
; 1161 : 						insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_large_hud_main_rotor_inst3d->vp.position, virtual_cockpit_large_hud_main_rotor_inst3d);

  0072b	51		 push	 ecx
  0072c	0f 57 c0	 xorps	 xmm0, xmm0
  0072f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00734	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00739	50		 push	 eax
  0073a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00740	83 c1 08	 add	 ecx, 8
  00743	51		 push	 ecx
  00744	6a 02		 push	 2
  00746	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 1162 : 					}
; 1163 : 					else

  0074b	eb 60		 jmp	 SHORT $LN21@draw_havoc
$LN20@draw_havoc:

; 1164 : 					{
; 1165 : 						set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  0074d	51		 push	 ecx
  0074e	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00753	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00758	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0075d	50		 push	 eax
  0075e	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1166 : 
; 1167 : 						animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  00763	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00768	50		 push	 eax
  00769	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0076f	51		 push	 ecx
  00770	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1168 : 
; 1169 : 						memcpy (&virtual_cockpit_main_rotor_inst3d->vp, &vp, sizeof (viewpoint));

  00775	6a 30		 push	 48			; 00000030H
  00777	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0077a	50		 push	 eax
  0077b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00781	83 c1 08	 add	 ecx, 8
  00784	51		 push	 ecx
  00785	e8 00 00 00 00	 call	 _memcpy
  0078a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1170 : 
; 1171 : 						insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_main_rotor_inst3d->vp.position, virtual_cockpit_main_rotor_inst3d);

  0078d	51		 push	 ecx
  0078e	0f 57 c0	 xorps	 xmm0, xmm0
  00791	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00796	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0079b	50		 push	 eax
  0079c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007a2	83 c1 08	 add	 ecx, 8
  007a5	51		 push	 ecx
  007a6	6a 02		 push	 2
  007a8	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN21@draw_havoc:

; 1172 : 					}
; 1173 : 				}
; 1174 : 			}
; 1175 : 
; 1176 : 			//
; 1177 : 			// wiper
; 1178 : 			//
; 1179 : 
; 1180 : 			if (wiper_mode == WIPER_MODE_STOWED)

  007ad	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wiper_mode@@3W4WIPER_MODES@@A, 0 ; wiper_mode
  007b4	75 1c		 jne	 SHORT $LN22@draw_havoc

; 1181 : 			{
; 1182 : 				if (flags & VIRTUAL_COCKPIT_STOWED_WIPER)

  007b6	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007b9	25 00 40 00 00	 and	 eax, 16384		; 00004000H
  007be	74 10		 je	 SHORT $LN24@draw_havoc

; 1183 : 				{
; 1184 : 					draw_havoc_virtual_cockpit_wiper (&vp, flags & VIRTUAL_COCKPIT_LARGE_HUD);

  007c0	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007c3	83 e0 02	 and	 eax, 2
  007c6	50		 push	 eax
  007c7	8d 4d d0	 lea	 ecx, DWORD PTR _vp$[ebp]
  007ca	51		 push	 ecx
  007cb	e8 00 00 00 00	 call	 ?draw_havoc_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@H@Z ; draw_havoc_virtual_cockpit_wiper
$LN24@draw_havoc:

; 1185 : 				}
; 1186 : 			}
; 1187 : 			else

  007d0	eb 1a		 jmp	 SHORT $LN25@draw_havoc
$LN22@draw_havoc:

; 1188 : 			{
; 1189 : 				if (flags & VIRTUAL_COCKPIT_MOVING_WIPER)

  007d2	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007d5	25 00 80 00 00	 and	 eax, 32768		; 00008000H
  007da	74 10		 je	 SHORT $LN25@draw_havoc

; 1190 : 				{
; 1191 : 					draw_havoc_virtual_cockpit_wiper (&vp, flags & VIRTUAL_COCKPIT_LARGE_HUD);

  007dc	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007df	83 e0 02	 and	 eax, 2
  007e2	50		 push	 eax
  007e3	8d 4d d0	 lea	 ecx, DWORD PTR _vp$[ebp]
  007e6	51		 push	 ecx
  007e7	e8 00 00 00 00	 call	 ?draw_havoc_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@H@Z ; draw_havoc_virtual_cockpit_wiper
$LN25@draw_havoc:

; 1192 : 				}
; 1193 : 			}
; 1194 : 
; 1195 : 			draw_3d_scene ();

  007ec	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1196 : 
; 1197 : 			end_3d_scene ();

  007f1	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN14@draw_havoc:

; 1198 : 		}
; 1199 : 	}
; 1200 : 
; 1201 : 	////////////////////////////////////////
; 1202 : 	//
; 1203 : 	// draw 3D scene with lighting
; 1204 : 	//
; 1205 : 	////////////////////////////////////////
; 1206 : 
; 1207 : 	if (flags & (VIRTUAL_COCKPIT_ADI | VIRTUAL_COCKPIT_HSI | VIRTUAL_COCKPIT_COMPASS))

  007f6	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007f9	25 80 06 00 00	 and	 eax, 1664		; 00000680H
  007fe	0f 84 f3 03 00
	00		 je	 $LN27@draw_havoc

; 1208 : 	{
; 1209 : 		set_cockpit_lighting (vp.attitude);

  00804	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00807	50		 push	 eax
  00808	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 1210 : 
; 1211 : 		set_3d_active_environment (main_3d_single_light_env);

  0080d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00812	50		 push	 eax
  00813	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1212 : 
; 1213 : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  00818	51		 push	 ecx
  00819	0f 57 c0	 xorps	 xmm0, xmm0
  0081c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00821	51		 push	 ecx
  00822	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0082a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0082f	51		 push	 ecx
  00830	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00838	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0083d	51		 push	 ecx
  0083e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00846	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0084b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00850	50		 push	 eax
  00851	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1214 : 
; 1215 : 		realise_3d_clip_extents (main_3d_single_light_env);

  00856	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0085b	50		 push	 eax
  0085c	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1216 : 
; 1217 : 		clear_zbuffer_screen ();

  00861	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1218 : 
; 1219 : 		if (begin_3d_scene ())

  00866	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  0086b	85 c0		 test	 eax, eax
  0086d	0f 84 84 03 00
	00		 je	 $LN27@draw_havoc

; 1220 : 		{
; 1221 : 			//
; 1222 : 			// ADI
; 1223 : 			//
; 1224 : 
; 1225 : 			if (flags & VIRTUAL_COCKPIT_ADI)

  00873	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00876	25 80 00 00 00	 and	 eax, 128		; 00000080H
  0087b	0f 84 b8 00 00
	00		 je	 $LN28@draw_havoc

; 1226 : 			{
; 1227 : 				search.search_depth = 0;

  00881	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1228 : 				search.search_object = virtual_cockpit_adi_inst3d;

  00888	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0088d	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1229 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_ADI;

  00890	c7 45 a4 79 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 121 ; 00000079H

; 1230 : 
; 1231 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00897	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0089a	50		 push	 eax
  0089b	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  008a0	83 f8 01	 cmp	 eax, 1
  008a3	75 5c		 jne	 SHORT $LN29@draw_havoc

; 1232 : 				{
; 1233 : 					float
; 1234 : 						heading,
; 1235 : 						pitch,
; 1236 : 						roll;
; 1237 : 
; 1238 : 					get_havoc_virtual_cockpit_adi_angles (vp.attitude, &heading, &pitch, &roll);

  008a5	8d 85 48 ff ff
	ff		 lea	 eax, DWORD PTR _roll$1[ebp]
  008ab	50		 push	 eax
  008ac	8d 8d 4c ff ff
	ff		 lea	 ecx, DWORD PTR _pitch$2[ebp]
  008b2	51		 push	 ecx
  008b3	8d 95 50 ff ff
	ff		 lea	 edx, DWORD PTR _heading$3[ebp]
  008b9	52		 push	 edx
  008ba	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  008bd	50		 push	 eax
  008be	e8 00 00 00 00	 call	 ?get_havoc_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z ; get_havoc_virtual_cockpit_adi_angles

; 1239 : 
; 1240 : 					search.result_sub_object->relative_heading = -heading;

  008c3	f3 0f 10 85 50
	ff ff ff	 movss	 xmm0, DWORD PTR _heading$3[ebp]
  008cb	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  008d2	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  008d5	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 1241 : 
; 1242 : 					search.result_sub_object->relative_pitch = pitch;

  008da	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  008dd	f3 0f 10 85 4c
	ff ff ff	 movss	 xmm0, DWORD PTR _pitch$2[ebp]
  008e5	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 1243 : 
; 1244 : 					search.result_sub_object->relative_roll = -roll;

  008ea	f3 0f 10 85 48
	ff ff ff	 movss	 xmm0, DWORD PTR _roll$1[ebp]
  008f2	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  008f9	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  008fc	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN29@draw_havoc:

; 1245 : 				}
; 1246 : 
; 1247 : 				memcpy (&virtual_cockpit_adi_inst3d->vp, &vp, sizeof (viewpoint));

  00901	6a 30		 push	 48			; 00000030H
  00903	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00906	50		 push	 eax
  00907	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0090d	83 c1 08	 add	 ecx, 8
  00910	51		 push	 ecx
  00911	e8 00 00 00 00	 call	 _memcpy
  00916	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1248 : 
; 1249 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_adi_inst3d->vp.position, virtual_cockpit_adi_inst3d);

  00919	51		 push	 ecx
  0091a	0f 57 c0	 xorps	 xmm0, xmm0
  0091d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00922	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00927	50		 push	 eax
  00928	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0092e	83 c1 08	 add	 ecx, 8
  00931	51		 push	 ecx
  00932	6a 02		 push	 2
  00934	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN28@draw_havoc:

; 1250 : 			}
; 1251 : 
; 1252 : 			//
; 1253 : 			// HSI
; 1254 : 			//
; 1255 : 
; 1256 : 			if (flags & VIRTUAL_COCKPIT_HSI)

  00939	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0093c	25 00 02 00 00	 and	 eax, 512		; 00000200H
  00941	0f 84 47 01 00
	00		 je	 $LN30@draw_havoc

; 1257 : 			{
; 1258 : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00947	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  0094e	74 0f		 je	 SHORT $LN68@draw_havoc
  00950	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00955	8b 08		 mov	 ecx, DWORD PTR [eax]
  00957	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv439[ebp], ecx
  0095d	eb 20		 jmp	 SHORT $LN69@draw_havoc
$LN68@draw_havoc:
  0095f	68 ea 04 00 00	 push	 1258			; 000004eaH
  00964	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00969	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0096f	52		 push	 edx
  00970	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00975	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv439[ebp], 0
$LN69@draw_havoc:
  0097f	b8 01 00 00 00	 mov	 eax, 1
  00984	85 c0		 test	 eax, eax
  00986	74 0c		 je	 SHORT $LN70@draw_havoc
  00988	c7 85 00 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv446[ebp], 39 ; 00000027H
  00992	eb 20		 jmp	 SHORT $LN71@draw_havoc
$LN70@draw_havoc:
  00994	68 ea 04 00 00	 push	 1258			; 000004eaH
  00999	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0099e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  009a4	51		 push	 ecx
  009a5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  009aa	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv446[ebp], 0
$LN71@draw_havoc:
  009b4	6a 27		 push	 39			; 00000027H
  009b6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  009bc	52		 push	 edx
  009bd	69 85 04 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv439[ebp], 1116
  009c7	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv446[ebp]
  009cd	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  009d4	ff d2		 call	 edx
  009d6	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv452[ebp], eax
  009dc	83 bd fc fe ff
	ff 03		 cmp	 DWORD PTR tv452[ebp], 3
  009e3	77 3b		 ja	 SHORT $LN2@draw_havoc
  009e5	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv452[ebp]
  009eb	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN76@draw_havoc[eax*4]
$LN31@draw_havoc:

; 1259 : 				{
; 1260 : 					////////////////////////////////////////
; 1261 : 					case DAY_SEGMENT_TYPE_DAWN:
; 1262 : 					////////////////////////////////////////
; 1263 : 					{
; 1264 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level2_inst3d;

  009f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  009f7	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1265 : 
; 1266 : 						break;

  009fc	eb 22		 jmp	 SHORT $LN2@draw_havoc
$LN32@draw_havoc:

; 1267 : 					}
; 1268 : 					////////////////////////////////////////
; 1269 : 					case DAY_SEGMENT_TYPE_DAY:
; 1270 : 					////////////////////////////////////////
; 1271 : 					{
; 1272 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level1_inst3d;

  009fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00a03	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1273 : 
; 1274 : 						break;

  00a08	eb 16		 jmp	 SHORT $LN2@draw_havoc
$LN33@draw_havoc:

; 1275 : 					}
; 1276 : 					////////////////////////////////////////
; 1277 : 					case DAY_SEGMENT_TYPE_DUSK:
; 1278 : 					////////////////////////////////////////
; 1279 : 					{
; 1280 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level2_inst3d;

  00a0a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00a0f	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1281 : 
; 1282 : 						break;

  00a14	eb 0a		 jmp	 SHORT $LN2@draw_havoc
$LN34@draw_havoc:

; 1283 : 					}
; 1284 : 					////////////////////////////////////////
; 1285 : 					case DAY_SEGMENT_TYPE_NIGHT:
; 1286 : 					////////////////////////////////////////
; 1287 : 					{
; 1288 : 						virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level2_inst3d;

  00a16	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00a1b	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN2@draw_havoc:

; 1289 : 
; 1290 : 						break;
; 1291 : 					}
; 1292 : 				}
; 1293 : 
; 1294 : 				#if DEMO_VERSION
; 1295 : 
; 1296 : 				virtual_cockpit_hsi_inst3d = virtual_cockpit_hsi_level1_inst3d;
; 1297 : 
; 1298 : 				#endif
; 1299 : 
; 1300 : 				search.search_depth = 0;

  00a20	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1301 : 				search.search_object = virtual_cockpit_hsi_inst3d;

  00a27	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00a2c	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1302 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI;

  00a2f	c7 45 a4 84 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 132 ; 00000084H

; 1303 : 
; 1304 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00a36	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00a39	50		 push	 eax
  00a3a	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00a3f	83 f8 01	 cmp	 eax, 1
  00a42	75 12		 jne	 SHORT $LN35@draw_havoc

; 1305 : 				{
; 1306 : 					search.result_sub_object->relative_roll = current_flight_dynamics->heading.value;

  00a44	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00a47	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00a4d	8b 91 8c 21 00
	00		 mov	 edx, DWORD PTR [ecx+8588]
  00a53	89 50 20	 mov	 DWORD PTR [eax+32], edx
$LN35@draw_havoc:

; 1307 : 				}
; 1308 : 
; 1309 : 				memcpy (&virtual_cockpit_hsi_inst3d->vp, &vp, sizeof (viewpoint));

  00a56	6a 30		 push	 48			; 00000030H
  00a58	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00a5b	50		 push	 eax
  00a5c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00a62	83 c1 08	 add	 ecx, 8
  00a65	51		 push	 ecx
  00a66	e8 00 00 00 00	 call	 _memcpy
  00a6b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1310 : 
; 1311 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_inst3d->vp.position, virtual_cockpit_hsi_inst3d);

  00a6e	51		 push	 ecx
  00a6f	0f 57 c0	 xorps	 xmm0, xmm0
  00a72	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a77	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00a7c	50		 push	 eax
  00a7d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00a83	83 c1 08	 add	 ecx, 8
  00a86	51		 push	 ecx
  00a87	6a 02		 push	 2
  00a89	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN30@draw_havoc:

; 1312 : 			}
; 1313 : 
; 1314 : 			//
; 1315 : 			// compass
; 1316 : 			//
; 1317 : 
; 1318 : 			if (flags & VIRTUAL_COCKPIT_COMPASS)

  00a8e	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00a91	25 00 04 00 00	 and	 eax, 1024		; 00000400H
  00a96	0f 84 51 01 00
	00		 je	 $LN36@draw_havoc

; 1319 : 			{
; 1320 : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00a9c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00aa3	74 0f		 je	 SHORT $LN72@draw_havoc
  00aa5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00aaa	8b 08		 mov	 ecx, DWORD PTR [eax]
  00aac	89 8d 04 ff ff
	ff		 mov	 DWORD PTR tv477[ebp], ecx
  00ab2	eb 20		 jmp	 SHORT $LN73@draw_havoc
$LN72@draw_havoc:
  00ab4	68 28 05 00 00	 push	 1320			; 00000528H
  00ab9	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00abe	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00ac4	52		 push	 edx
  00ac5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00aca	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv477[ebp], 0
$LN73@draw_havoc:
  00ad4	b8 01 00 00 00	 mov	 eax, 1
  00ad9	85 c0		 test	 eax, eax
  00adb	74 0c		 je	 SHORT $LN74@draw_havoc
  00add	c7 85 00 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv484[ebp], 39 ; 00000027H
  00ae7	eb 20		 jmp	 SHORT $LN75@draw_havoc
$LN74@draw_havoc:
  00ae9	68 28 05 00 00	 push	 1320			; 00000528H
  00aee	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00af3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00af9	51		 push	 ecx
  00afa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00aff	c7 85 00 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv484[ebp], 0
$LN75@draw_havoc:
  00b09	6a 27		 push	 39			; 00000027H
  00b0b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00b11	52		 push	 edx
  00b12	69 85 04 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv477[ebp], 1116
  00b1c	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv484[ebp]
  00b22	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00b29	ff d2		 call	 edx
  00b2b	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv490[ebp], eax
  00b31	83 bd fc fe ff
	ff 03		 cmp	 DWORD PTR tv490[ebp], 3
  00b38	77 3b		 ja	 SHORT $LN4@draw_havoc
  00b3a	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv490[ebp]
  00b40	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN77@draw_havoc[eax*4]
$LN37@draw_havoc:

; 1321 : 				{
; 1322 : 					////////////////////////////////////////
; 1323 : 					case DAY_SEGMENT_TYPE_DAWN:
; 1324 : 					////////////////////////////////////////
; 1325 : 					{
; 1326 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level2_inst3d;

  00b47	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b4c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1327 : 
; 1328 : 						break;

  00b51	eb 22		 jmp	 SHORT $LN4@draw_havoc
$LN38@draw_havoc:

; 1329 : 					}
; 1330 : 					////////////////////////////////////////
; 1331 : 					case DAY_SEGMENT_TYPE_DAY:
; 1332 : 					////////////////////////////////////////
; 1333 : 					{
; 1334 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level1_inst3d;

  00b53	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b58	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1335 : 
; 1336 : 						break;

  00b5d	eb 16		 jmp	 SHORT $LN4@draw_havoc
$LN39@draw_havoc:

; 1337 : 					}
; 1338 : 					////////////////////////////////////////
; 1339 : 					case DAY_SEGMENT_TYPE_DUSK:
; 1340 : 					////////////////////////////////////////
; 1341 : 					{
; 1342 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level2_inst3d;

  00b5f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b64	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 1343 : 
; 1344 : 						break;

  00b69	eb 0a		 jmp	 SHORT $LN4@draw_havoc
$LN40@draw_havoc:

; 1345 : 					}
; 1346 : 					////////////////////////////////////////
; 1347 : 					case DAY_SEGMENT_TYPE_NIGHT:
; 1348 : 					////////////////////////////////////////
; 1349 : 					{
; 1350 : 						virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level2_inst3d;

  00b6b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b70	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN4@draw_havoc:

; 1351 : 
; 1352 : 						break;
; 1353 : 					}
; 1354 : 				}
; 1355 : 
; 1356 : 				#if DEMO_VERSION
; 1357 : 
; 1358 : 				virtual_cockpit_compass_inst3d = virtual_cockpit_compass_level1_inst3d;
; 1359 : 
; 1360 : 				#endif
; 1361 : 
; 1362 : 				search.search_depth = 0;

  00b75	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1363 : 				search.search_object = virtual_cockpit_compass_inst3d;

  00b7c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b81	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1364 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_COMPASS_HEADING_NULL;

  00b84	c7 45 a4 7b 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 123 ; 0000007bH

; 1365 : 
; 1366 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00b8b	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00b8e	50		 push	 eax
  00b8f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00b94	83 f8 01	 cmp	 eax, 1
  00b97	75 1c		 jne	 SHORT $LN41@draw_havoc

; 1367 : 				{
; 1368 : 					search.result_sub_object->relative_heading = -current_flight_dynamics->heading.value;

  00b99	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00b9e	f3 0f 10 80 8c
	21 00 00	 movss	 xmm0, DWORD PTR [eax+8588]
  00ba6	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00bad	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00bb0	f3 0f 11 41 18	 movss	 DWORD PTR [ecx+24], xmm0
$LN41@draw_havoc:

; 1369 : 				}
; 1370 : 
; 1371 : 				memcpy (&virtual_cockpit_compass_inst3d->vp, &vp, sizeof (viewpoint));

  00bb5	6a 30		 push	 48			; 00000030H
  00bb7	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00bba	50		 push	 eax
  00bbb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00bc1	83 c1 08	 add	 ecx, 8
  00bc4	51		 push	 ecx
  00bc5	e8 00 00 00 00	 call	 _memcpy
  00bca	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1372 : 
; 1373 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_compass_inst3d->vp.position, virtual_cockpit_compass_inst3d);

  00bcd	51		 push	 ecx
  00bce	0f 57 c0	 xorps	 xmm0, xmm0
  00bd1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bd6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00bdb	50		 push	 eax
  00bdc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00be2	83 c1 08	 add	 ecx, 8
  00be5	51		 push	 ecx
  00be6	6a 02		 push	 2
  00be8	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN36@draw_havoc:

; 1374 : 			}
; 1375 : 
; 1376 : 			draw_3d_scene ();

  00bed	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1377 : 
; 1378 : 			end_3d_scene ();

  00bf2	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN27@draw_havoc:

; 1379 : 		}
; 1380 : 	}
; 1381 : 
; 1382 : 	////////////////////////////////////////
; 1383 : 	//
; 1384 : 	// rendered wiper
; 1385 : 	//
; 1386 : 	////////////////////////////////////////
; 1387 : 
; 1388 : 	if (flags & VIRTUAL_COCKPIT_RENDERED_WIPER)

  00bf7	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00bfa	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  00bff	74 59		 je	 SHORT $LN45@draw_havoc

; 1389 : 	{
; 1390 : 		if (wiper_mode == WIPER_MODE_STOWED)

  00c01	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wiper_mode@@3W4WIPER_MODES@@A, 0 ; wiper_mode
  00c08	75 50		 jne	 SHORT $LN45@draw_havoc

; 1391 : 		{
; 1392 : 			ASSERT (wiper_rle_graphic);

  00c0a	83 7d 0c 00	 cmp	 DWORD PTR _wiper_rle_graphic$[ebp], 0
  00c0e	75 1a		 jne	 SHORT $LN44@draw_havoc
  00c10	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_havoc_external_virtual_cockpit@@YGXIPAE@Z@4JA
  00c15	05 6a 01 00 00	 add	 eax, 362		; 0000016aH
  00c1a	50		 push	 eax
  00c1b	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00c20	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@ENKILJCA@wiper_rle_graphic@
  00c25	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN44@draw_havoc:

; 1393 : 
; 1394 : 			if (lock_screen (active_screen))

  00c2a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  00c2f	50		 push	 eax
  00c30	e8 00 00 00 00	 call	 ?lock_screen@@YGHPAUSCREEN@@@Z ; lock_screen
  00c35	85 c0		 test	 eax, eax
  00c37	74 21		 je	 SHORT $LN45@draw_havoc

; 1395 : 			{
; 1396 : 				blit_rle_graphic (wiper_rle_graphic, ix_640_480, iy_640_480);

  00c39	a1 00 00 00 00	 mov	 eax, DWORD PTR ?iy_640_480@@3HA ; iy_640_480
  00c3e	50		 push	 eax
  00c3f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ix_640_480@@3HA ; ix_640_480
  00c45	51		 push	 ecx
  00c46	8b 55 0c	 mov	 edx, DWORD PTR _wiper_rle_graphic$[ebp]
  00c49	52		 push	 edx
  00c4a	e8 00 00 00 00	 call	 ?blit_rle_graphic@@YGXPBEHH@Z ; blit_rle_graphic

; 1397 : 
; 1398 : 				unlock_screen (active_screen);

  00c4f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  00c54	50		 push	 eax
  00c55	e8 00 00 00 00	 call	 ?unlock_screen@@YGHPAUSCREEN@@@Z ; unlock_screen
$LN45@draw_havoc:

; 1399 : 			}
; 1400 : 		}
; 1401 : 	}
; 1402 : 
; 1403 : 	////////////////////////////////////////
; 1404 : 	//
; 1405 : 	// rain effect
; 1406 : 	//
; 1407 : 	////////////////////////////////////////
; 1408 : 
; 1409 : 	if (flags & VIRTUAL_COCKPIT_RAIN_EFFECT)

  00c5a	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00c5d	25 00 00 01 00	 and	 eax, 65536		; 00010000H
  00c62	0f 84 94 00 00
	00		 je	 $LN48@draw_havoc

; 1410 : 	{
; 1411 : 		if (rain_mode != RAIN_MODE_DRY)

  00c68	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?rain_mode@@3W4RAIN_MODES@@A, 0 ; rain_mode
  00c6f	0f 84 87 00 00
	00		 je	 $LN48@draw_havoc

; 1412 : 		{
; 1413 : 			set_3d_active_environment (main_3d_env);

  00c75	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00c7a	50		 push	 eax
  00c7b	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1414 : 
; 1415 : 			set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  00c80	51		 push	 ecx
  00c81	0f 57 c0	 xorps	 xmm0, xmm0
  00c84	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c89	51		 push	 ecx
  00c8a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00c92	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00c97	51		 push	 ecx
  00c98	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00ca0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00ca5	51		 push	 ecx
  00ca6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00cae	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00cb3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00cb8	50		 push	 eax
  00cb9	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1416 : 
; 1417 : 			realise_3d_clip_extents (main_3d_env);

  00cbe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00cc3	50		 push	 eax
  00cc4	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1418 : 
; 1419 : 			recalculate_3d_environment_settings (main_3d_env);

  00cc9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00cce	50		 push	 eax
  00ccf	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1420 : 
; 1421 : 			clear_zbuffer_screen ();

  00cd4	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1422 : 
; 1423 : 			if (begin_3d_scene ())

  00cd9	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00cde	85 c0		 test	 eax, eax
  00ce0	74 1a		 je	 SHORT $LN48@draw_havoc

; 1424 : 			{
; 1425 : 				draw_havoc_virtual_cockpit_rain_effect (&vp, flags & VIRTUAL_COCKPIT_LARGE_HUD);

  00ce2	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00ce5	83 e0 02	 and	 eax, 2
  00ce8	50		 push	 eax
  00ce9	8d 4d d0	 lea	 ecx, DWORD PTR _vp$[ebp]
  00cec	51		 push	 ecx
  00ced	e8 00 00 00 00	 call	 ?draw_havoc_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@H@Z ; draw_havoc_virtual_cockpit_rain_effect

; 1426 : 
; 1427 : 				draw_3d_scene ();

  00cf2	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1428 : 
; 1429 : 				end_3d_scene ();

  00cf7	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN48@draw_havoc:

; 1430 : 			}
; 1431 : 		}
; 1432 : 	}
; 1433 : 
; 1434 : 	move_edit_wide_cockpit ();

  00cfc	e8 00 00 00 00	 call	 ?move_edit_wide_cockpit@@YGXXZ ; move_edit_wide_cockpit

; 1435 : 
; 1436 : 
; 1437 : 
; 1438 : 	////////////////////////////////////////
; 1439 : 	//
; 1440 : 	// tidy up
; 1441 : 	//
; 1442 : 	////////////////////////////////////////
; 1443 : 
; 1444 : 	#if RECOGNITION_GUIDE
; 1445 : 
; 1446 : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 1447 : 
; 1448 : 	#else
; 1449 : 
; 1450 : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00d01	51		 push	 ecx
  00d02	0f 57 c0	 xorps	 xmm0, xmm0
  00d05	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d0a	51		 push	 ecx
  00d0b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00d13	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d18	51		 push	 ecx
  00d19	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00d21	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d26	51		 push	 ecx
  00d27	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00d2f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00d34	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00d39	50		 push	 eax
  00d3a	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1451 : 
; 1452 : 	#endif
; 1453 : 
; 1454 : 	realise_3d_clip_extents (main_3d_env);

  00d3f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00d44	50		 push	 eax
  00d45	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1455 : }

  00d4a	5f		 pop	 edi
  00d4b	5e		 pop	 esi
  00d4c	5b		 pop	 ebx
  00d4d	8b e5		 mov	 esp, ebp
  00d4f	5d		 pop	 ebp
  00d50	c2 08 00	 ret	 8
  00d53	90		 npad	 1
$LN76@draw_havoc:
  00d54	00 00 00 00	 DD	 $LN31@draw_havoc
  00d58	00 00 00 00	 DD	 $LN32@draw_havoc
  00d5c	00 00 00 00	 DD	 $LN33@draw_havoc
  00d60	00 00 00 00	 DD	 $LN34@draw_havoc
$LN77@draw_havoc:
  00d64	00 00 00 00	 DD	 $LN37@draw_havoc
  00d68	00 00 00 00	 DD	 $LN38@draw_havoc
  00d6c	00 00 00 00	 DD	 $LN39@draw_havoc
  00d70	00 00 00 00	 DD	 $LN40@draw_havoc
?draw_havoc_external_virtual_cockpit@@YGXIPAE@Z ENDP	; draw_havoc_external_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?draw_havoc_internal_virtual_cockpit@@YGXI@Z
_TEXT	SEGMENT
tv473 = -256						; size = 4
tv390 = -256						; size = 4
tv360 = -256						; size = 4
tv196 = -256						; size = 4
tv467 = -252						; size = 4
tv384 = -252						; size = 4
tv354 = -252						; size = 4
tv190 = -252						; size = 4
tv460 = -248						; size = 4
tv377 = -248						; size = 4
tv315 = -248						; size = 4
tv183 = -248						; size = 4
tv132 = -248						; size = 4
_drift$1 = -180						; size = 4
_flight_path$2 = -176					; size = 4
_direction_finder$3 = -172				; size = 4
_vp_world_position$4 = -168				; size = 12
_vp_position$5 = -156					; size = 12
_head_rotation$6 = -144					; size = 36
_virtual_cockpit_inst3d$ = -108				; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
?draw_havoc_internal_virtual_cockpit@@YGXI@Z PROC	; draw_havoc_internal_virtual_cockpit, COMDAT

; 495  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 00 01 00
	00		 sub	 esp, 256		; 00000100H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 496  : 	viewpoint
; 497  : 		vp;
; 498  : 
; 499  : 	object_3d_sub_object_search_data
; 500  : 		search;
; 501  : 
; 502  : 	object_3d_instance
; 503  : 		*virtual_cockpit_inst3d;
; 504  : 
; 505  : 	////////////////////////////////////////
; 506  : 	//
; 507  : 	// virtual cockpit viewpoint is placed at the main object origin
; 508  : 	//
; 509  : 	////////////////////////////////////////
; 510  : 
; 511  : 	if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV)

  0000c	83 3d 00 00 00
	00 1e		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 30 ; view_mode, 0000001eH
  00013	75 10		 jne	 SHORT $LN10@draw_havoc

; 512  : 	{
; 513  : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV, &vp);

  00015	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00018	50		 push	 eax
  00019	6a 1e		 push	 30			; 0000001eH
  0001b	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint
  00020	e9 07 02 00 00	 jmp	 $LN13@draw_havoc
$LN10@draw_havoc:

; 514  : 	}
; 515  : 	else if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD)

  00025	83 3d 00 00 00
	00 1f		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 31 ; view_mode, 0000001fH
  0002c	75 10		 jne	 SHORT $LN12@draw_havoc

; 516  : 	{
; 517  : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD, &vp);

  0002e	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00031	50		 push	 eax
  00032	6a 1f		 push	 31			; 0000001fH
  00034	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint

; 518  : 	}
; 519  : 	else

  00039	e9 ee 01 00 00	 jmp	 $LN13@draw_havoc
$LN12@draw_havoc:

; 520  : 	{
; 521  : 		matrix3x3 head_rotation;
; 522  : 		vec3d vp_position, vp_world_position;
; 523  : 
; 524  : 		vp_position.x = 0.0;

  0003e	0f 57 c0	 xorps	 xmm0, xmm0
  00041	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 525  : 		vp_position.y = 0.0;

  00049	0f 57 c0	 xorps	 xmm0, xmm0
  0004c	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 526  : 		vp_position.z = 0.0;

  00054	0f 57 c0	 xorps	 xmm0, xmm0
  00057	f3 0f 11 85 6c
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+8], xmm0

; 527  : 
; 528  : //VJ wideview mod, date: 18-mar-03
; 529  : 		if (get_global_wide_cockpit ())

  0005f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00066	74 7d		 je	 SHORT $LN15@draw_havoc

; 530  : 		{
; 531  : 		   vp_position.x = wide_cockpit_position[wide_cockpit_nr].c.x;

  00068	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0006f	f3 0f 10 80 14
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+20]
  00077	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 532  : 		   vp_position.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  0007f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00086	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  0008e	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 533  : 		   vp_position.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00096	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0009d	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  000a5	f3 0f 11 85 6c
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+8], xmm0

; 534  : 			//VJ 050207 included head pitch in fixed view setting
; 535  : 			pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  000ad	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  000b4	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  000bc	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  000c4	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 536  : 			if (edit_wide_cockpit)

  000cc	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?edit_wide_cockpit@@3HA, 0 ; edit_wide_cockpit
  000d3	74 10		 je	 SHORT $LN15@draw_havoc

; 537  : 				pilot_head_pitch = pilot_head_pitch_datum;

  000d5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch_datum@@3MA
  000dd	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch@@3MA, xmm0
$LN15@draw_havoc:

; 538  : 		}
; 539  : 
; 540  : 		vp_position.x += current_custom_cockpit_viewpoint.x;

  000e5	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp]
  000ed	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A
  000f5	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 541  : 		vp_position.y += current_custom_cockpit_viewpoint.y;

  000fd	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp+4]
  00105	f3 0f 58 05 04
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+4
  0010d	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 542  : 		vp_position.z += current_custom_cockpit_viewpoint.z;

  00115	f3 0f 10 85 6c
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp+8]
  0011d	f3 0f 58 05 08
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+8
  00125	f3 0f 11 85 6c
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+8], xmm0

; 543  : 
; 544  :     //ataribaby 27/12/2008
; 545  :     /*
; 546  : 		vp_position.x += bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 547  : 		if (!current_flight_dynamics->auto_hover)   // arneh - auto hover has some weird dynamics which cause lots of g-forces, so disable head movement when auto hover is enabled
; 548  : 			vp_position.y += bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 549  : 	  */
; 550  : 
; 551  :     //ataribaby 27/12/2008 new head g-force movement and vibration from main rotor
; 552  :     vp_position.x -= x_head_g_movement;

  0012d	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp]
  00135	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?x_head_g_movement@@3MA
  0013d	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp], xmm0

; 553  : 		//if (!current_flight_dynamics->auto_hover)   // arneh - auto hover has some weird dynamics which cause lots of g-forces, so disable head movement when auto hover is enabled
; 554  : 		vp_position.y -= y_head_g_movement;

  00145	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_position$5[ebp+4]
  0014d	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?y_head_g_movement@@3MA
  00155	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp_position$5[ebp+4], xmm0

; 555  : 
; 556  : 		get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  0015d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00164	74 0f		 je	 SHORT $LN56@draw_havoc
  00166	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0016b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0016d	89 8d 08 ff ff
	ff		 mov	 DWORD PTR tv132[ebp], ecx
  00173	eb 24		 jmp	 SHORT $LN57@draw_havoc
$LN56@draw_havoc:
  00175	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_havoc_internal_virtual_cockpit@@YGXI@Z@4JA
  0017b	83 c2 3d	 add	 edx, 61			; 0000003dH
  0017e	52		 push	 edx
  0017f	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00184	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00189	50		 push	 eax
  0018a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0018f	c7 85 08 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv132[ebp], 0
$LN57@draw_havoc:
  00199	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  0019c	51		 push	 ecx
  0019d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001a3	52		 push	 edx
  001a4	8b 85 08 ff ff
	ff		 mov	 eax, DWORD PTR tv132[ebp]
  001aa	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  001b1	ff d1		 call	 ecx

; 557  : 		get_3d_transformation_matrix(head_rotation, pilot_head_heading, -pilot_head_pitch, 0.0);

  001b3	51		 push	 ecx
  001b4	0f 57 c0	 xorps	 xmm0, xmm0
  001b7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001bc	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch@@3MA
  001c4	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  001cb	51		 push	 ecx
  001cc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001d1	51		 push	 ecx
  001d2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_heading@@3MA
  001da	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001df	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _head_rotation$6[ebp]
  001e5	50		 push	 eax
  001e6	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 558  : 
; 559  : 		multiply_matrix3x3_vec3d(&vp_world_position, head_rotation, &vp_position);

  001eb	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _vp_position$5[ebp]
  001f1	50		 push	 eax
  001f2	8d 8d 70 ff ff
	ff		 lea	 ecx, DWORD PTR _head_rotation$6[ebp]
  001f8	51		 push	 ecx
  001f9	8d 95 58 ff ff
	ff		 lea	 edx, DWORD PTR _vp_world_position$4[ebp]
  001ff	52		 push	 edx
  00200	e8 00 00 00 00	 call	 ?multiply_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_matrix3x3_vec3d

; 560  : 
; 561  : 		vp.x = vp_world_position.x;

  00205	f3 0f 10 85 58
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_world_position$4[ebp]
  0020d	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 562  : 		vp.y = vp_world_position.y;

  00212	f3 0f 10 85 5c
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_world_position$4[ebp+4]
  0021a	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 563  : 		vp.z = vp_world_position.z;

  0021f	f3 0f 10 85 60
	ff ff ff	 movss	 xmm0, DWORD PTR _vp_world_position$4[ebp+8]
  00227	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN13@draw_havoc:

; 564  : 	}
; 565  : 
; 566  : 	////////////////////////////////////////
; 567  : 	//
; 568  : 	// render displays onto textures (before draw 3D scenes)
; 569  : 	//
; 570  : 	////////////////////////////////////////
; 571  : 
; 572  : 	if (flags & VIRTUAL_COCKPIT_HUD_DISPLAY)

  0022c	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0022f	83 e0 08	 and	 eax, 8
  00232	74 05		 je	 SHORT $LN16@draw_havoc

; 573  : 	{
; 574  : 		draw_havoc_hud_on_texture ();

  00234	e8 00 00 00 00	 call	 ?draw_havoc_hud_on_texture@@YGXXZ ; draw_havoc_hud_on_texture
$LN16@draw_havoc:

; 575  : 	}
; 576  : 
; 577  : 	if (flags & VIRTUAL_COCKPIT_EKRAN_DISPLAY)

  00239	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0023c	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  00241	74 05		 je	 SHORT $LN17@draw_havoc

; 578  : 	{
; 579  : 		draw_havoc_ekran_display_on_texture ();

  00243	e8 00 00 00 00	 call	 ?draw_havoc_ekran_display_on_texture@@YGXXZ ; draw_havoc_ekran_display_on_texture
$LN17@draw_havoc:

; 580  : 	}
; 581  : 
; 582  : 	if (flags & VIRTUAL_COCKPIT_CRT_DISPLAY)

  00248	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0024b	83 e0 10	 and	 eax, 16			; 00000010H
  0024e	74 05		 je	 SHORT $LN18@draw_havoc

; 583  : 	{
; 584  : 		draw_havoc_mfd_on_texture ();

  00250	e8 00 00 00 00	 call	 ?draw_havoc_mfd_on_texture@@YGXXZ ; draw_havoc_mfd_on_texture
$LN18@draw_havoc:

; 585  : 	}
; 586  : 
; 587  : 	// Casm 10SEP05 Havoc Instruments
; 588  : 	if (flags & VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES)

  00255	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00258	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  0025d	74 05		 je	 SHORT $LN19@draw_havoc

; 589  : 	{
; 590  : 		draw_havoc_virtual_cockpit_instruments_on_texture ();

  0025f	e8 00 00 00 00	 call	 ?draw_havoc_virtual_cockpit_instruments_on_texture@@YGXXZ ; draw_havoc_virtual_cockpit_instruments_on_texture
$LN19@draw_havoc:

; 591  : 	}
; 592  : 
; 593  : 	////////////////////////////////////////
; 594  : 	//
; 595  : 	// draw 3D scene with lighting
; 596  : 	//
; 597  : 	////////////////////////////////////////
; 598  : 
; 599  : 	if (flags & (VIRTUAL_COCKPIT_COCKPIT | VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES))

  00264	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00267	25 01 00 02 00	 and	 eax, 131073		; 00020001H
  0026c	0f 84 5b 03 00
	00		 je	 $LN22@draw_havoc

; 600  : 	{
; 601  : 		set_cockpit_lighting (vp.attitude);

  00272	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00275	50		 push	 eax
  00276	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 602  : 
; 603  : 		set_3d_active_environment (main_3d_single_light_env);

  0027b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00280	50		 push	 eax
  00281	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 604  : 
; 605  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.3, 1.0, 0.0);

  00286	51		 push	 ecx
  00287	0f 57 c0	 xorps	 xmm0, xmm0
  0028a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0028f	51		 push	 ecx
  00290	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00298	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0029d	51		 push	 ecx
  0029e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e99999a
  002a6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002ab	51		 push	 ecx
  002ac	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  002b4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  002be	50		 push	 eax
  002bf	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 606  : 
; 607  : //VJ wideview mod, date: 18-mar-03
; 608  : 		if (get_global_wide_cockpit ()&&

  002c4	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  002cb	74 32		 je	 SHORT $LN21@draw_havoc
  002cd	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  002d0	25 1c 08 00 00	 and	 eax, 2076		; 0000081cH
  002d5	75 28		 jne	 SHORT $LN21@draw_havoc

; 609  : 	      !(flags & (VIRTUAL_COCKPIT_HUD_GLASS | VIRTUAL_COCKPIT_HUD_DISPLAY | VIRTUAL_COCKPIT_EKRAN_DISPLAY | VIRTUAL_COCKPIT_CRT_DISPLAY))
; 610  : 	   )
; 611  : 		{
; 612  : 		   vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  002d7	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  002de	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  002e6	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 613  : 		   vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  002eb	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  002f2	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  002fa	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN21@draw_havoc:

; 614  : 		}
; 615  : 
; 616  : 		realise_3d_clip_extents (main_3d_single_light_env);

  002ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00304	50		 push	 eax
  00305	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 617  : 
; 618  : 		clear_zbuffer_screen ();

  0030a	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 619  : 
; 620  : 		if (begin_3d_scene ())

  0030f	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00314	85 c0		 test	 eax, eax
  00316	0f 84 b1 02 00
	00		 je	 $LN22@draw_havoc

; 621  : 		{
; 622  : 			//
; 623  : 			// virtual cockpit
; 624  : 			//
; 625  : 
; 626  : 			if (flags & VIRTUAL_COCKPIT_COCKPIT)

  0031c	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0031f	83 e0 01	 and	 eax, 1
  00322	0f 84 01 01 00
	00		 je	 $LN23@draw_havoc

; 627  : 			{
; 628  : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00328	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  0032f	74 0f		 je	 SHORT $LN58@draw_havoc
  00331	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00336	8b 08		 mov	 ecx, DWORD PTR [eax]
  00338	89 8d 08 ff ff
	ff		 mov	 DWORD PTR tv183[ebp], ecx
  0033e	eb 20		 jmp	 SHORT $LN59@draw_havoc
$LN58@draw_havoc:
  00340	68 74 02 00 00	 push	 628			; 00000274H
  00345	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0034a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00350	52		 push	 edx
  00351	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00356	c7 85 08 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv183[ebp], 0
$LN59@draw_havoc:
  00360	b8 01 00 00 00	 mov	 eax, 1
  00365	85 c0		 test	 eax, eax
  00367	74 0c		 je	 SHORT $LN60@draw_havoc
  00369	c7 85 04 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv190[ebp], 39 ; 00000027H
  00373	eb 20		 jmp	 SHORT $LN61@draw_havoc
$LN60@draw_havoc:
  00375	68 74 02 00 00	 push	 628			; 00000274H
  0037a	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0037f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00385	51		 push	 ecx
  00386	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0038b	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv190[ebp], 0
$LN61@draw_havoc:
  00395	6a 27		 push	 39			; 00000027H
  00397	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0039d	52		 push	 edx
  0039e	69 85 08 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv183[ebp], 1116
  003a8	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR tv190[ebp]
  003ae	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  003b5	ff d2		 call	 edx
  003b7	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv196[ebp], eax
  003bd	83 bd 00 ff ff
	ff 03		 cmp	 DWORD PTR tv196[ebp], 3
  003c4	77 33		 ja	 SHORT $LN2@draw_havoc
  003c6	8b 85 00 ff ff
	ff		 mov	 eax, DWORD PTR tv196[ebp]
  003cc	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN74@draw_havoc[eax*4]
$LN24@draw_havoc:

; 629  : 				{
; 630  : 					////////////////////////////////////////
; 631  : 					case DAY_SEGMENT_TYPE_DAWN:
; 632  : 					////////////////////////////////////////
; 633  : 					{
; 634  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  003d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003d8	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 635  : 
; 636  : 						break;

  003db	eb 1c		 jmp	 SHORT $LN2@draw_havoc
$LN25@draw_havoc:

; 637  : 					}
; 638  : 					////////////////////////////////////////
; 639  : 					case DAY_SEGMENT_TYPE_DAY:
; 640  : 					////////////////////////////////////////
; 641  : 					{
; 642  : 						virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;

  003dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003e2	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 643  : 
; 644  : 						break;

  003e5	eb 12		 jmp	 SHORT $LN2@draw_havoc
$LN26@draw_havoc:

; 645  : 					}
; 646  : 					////////////////////////////////////////
; 647  : 					case DAY_SEGMENT_TYPE_DUSK:
; 648  : 					////////////////////////////////////////
; 649  : 					{
; 650  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  003e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003ec	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 651  : 
; 652  : 						break;

  003ef	eb 08		 jmp	 SHORT $LN2@draw_havoc
$LN27@draw_havoc:

; 653  : 					}
; 654  : 					////////////////////////////////////////
; 655  : 					case DAY_SEGMENT_TYPE_NIGHT:
; 656  : 					////////////////////////////////////////
; 657  : 					{
; 658  : 						virtual_cockpit_inst3d = virtual_cockpit_level3_inst3d;

  003f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003f6	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN2@draw_havoc:

; 659  : 
; 660  : 						break;
; 661  : 					}
; 662  : 				}
; 663  : 
; 664  : 				#if DEMO_VERSION
; 665  : 
; 666  : 				virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;
; 667  : 
; 668  : 				#endif
; 669  : 
; 670  : 				memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));

  003f9	6a 30		 push	 48			; 00000030H
  003fb	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  003fe	50		 push	 eax
  003ff	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00402	83 c1 08	 add	 ecx, 8
  00405	51		 push	 ecx
  00406	e8 00 00 00 00	 call	 _memcpy
  0040b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 671  : 
; 672  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  0040e	51		 push	 ecx
  0040f	0f 57 c0	 xorps	 xmm0, xmm0
  00412	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00417	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0041a	50		 push	 eax
  0041b	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  0041e	83 c1 08	 add	 ecx, 8
  00421	51		 push	 ecx
  00422	6a 02		 push	 2
  00424	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN23@draw_havoc:

; 673  : 			}
; 674  : 
; 675  : 			//
; 676  : 			// instrument needles
; 677  : 			//
; 678  : 
; 679  : 			if (flags & VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES)

  00429	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0042c	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  00431	0f 84 87 01 00
	00		 je	 $LN32@draw_havoc

; 680  : 			{
; 681  : 				//
; 682  : 				// HSI
; 683  : 				//
; 684  : 
; 685  : 				{
; 686  : 					float
; 687  : 						direction_finder,
; 688  : 						flight_path,
; 689  : 						drift;
; 690  : 
; 691  : 					get_havoc_virtual_cockpit_hsi_needle_values (&direction_finder, &flight_path, &drift);

  00437	8d 85 4c ff ff
	ff		 lea	 eax, DWORD PTR _drift$1[ebp]
  0043d	50		 push	 eax
  0043e	8d 8d 50 ff ff
	ff		 lea	 ecx, DWORD PTR _flight_path$2[ebp]
  00444	51		 push	 ecx
  00445	8d 95 54 ff ff
	ff		 lea	 edx, DWORD PTR _direction_finder$3[ebp]
  0044b	52		 push	 edx
  0044c	e8 00 00 00 00	 call	 ?get_havoc_virtual_cockpit_hsi_needle_values@@YGXPAM00@Z ; get_havoc_virtual_cockpit_hsi_needle_values

; 692  : 
; 693  : 					//
; 694  : 					// flight path
; 695  : 					//
; 696  : 
; 697  : 					search.search_depth = 0;

  00451	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 698  : 					search.search_object = virtual_cockpit_hsi_flight_path_inst3d;

  00458	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0045d	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 699  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI_ARROW_DOUBLE;

  00460	c7 45 a4 81 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 129 ; 00000081H

; 700  : 
; 701  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00467	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0046a	50		 push	 eax
  0046b	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00470	83 f8 01	 cmp	 eax, 1
  00473	75 10		 jne	 SHORT $LN29@draw_havoc

; 702  : 					{
; 703  : 						search.result_sub_object->relative_roll = flight_path;

  00475	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00478	f3 0f 10 85 50
	ff ff ff	 movss	 xmm0, DWORD PTR _flight_path$2[ebp]
  00480	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN29@draw_havoc:

; 704  : 					}
; 705  : 
; 706  : 					memcpy (&virtual_cockpit_hsi_flight_path_inst3d->vp, &vp, sizeof (viewpoint));

  00485	6a 30		 push	 48			; 00000030H
  00487	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0048a	50		 push	 eax
  0048b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00491	83 c1 08	 add	 ecx, 8
  00494	51		 push	 ecx
  00495	e8 00 00 00 00	 call	 _memcpy
  0049a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 707  : 
; 708  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_flight_path_inst3d->vp.position, virtual_cockpit_hsi_flight_path_inst3d);

  0049d	51		 push	 ecx
  0049e	0f 57 c0	 xorps	 xmm0, xmm0
  004a1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004ab	50		 push	 eax
  004ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004b2	83 c1 08	 add	 ecx, 8
  004b5	51		 push	 ecx
  004b6	6a 02		 push	 2
  004b8	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 709  : 
; 710  : 					//
; 711  : 					// direction finder
; 712  : 					//
; 713  : 
; 714  : 					search.search_depth = 0;

  004bd	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 715  : 					search.search_object = virtual_cockpit_hsi_direction_finder_inst3d;

  004c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004c9	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 716  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI_ARROW_LONG;

  004cc	c7 45 a4 82 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 130 ; 00000082H

; 717  : 
; 718  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004d3	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  004d6	50		 push	 eax
  004d7	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  004dc	83 f8 01	 cmp	 eax, 1
  004df	75 10		 jne	 SHORT $LN30@draw_havoc

; 719  : 					{
; 720  : 						search.result_sub_object->relative_roll = direction_finder;

  004e1	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004e4	f3 0f 10 85 54
	ff ff ff	 movss	 xmm0, DWORD PTR _direction_finder$3[ebp]
  004ec	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN30@draw_havoc:

; 721  : 					}
; 722  : 
; 723  : 					memcpy (&virtual_cockpit_hsi_direction_finder_inst3d->vp, &vp, sizeof (viewpoint));

  004f1	6a 30		 push	 48			; 00000030H
  004f3	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  004f6	50		 push	 eax
  004f7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004fd	83 c1 08	 add	 ecx, 8
  00500	51		 push	 ecx
  00501	e8 00 00 00 00	 call	 _memcpy
  00506	83 c4 0c	 add	 esp, 12			; 0000000cH

; 724  : 
; 725  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_direction_finder_inst3d->vp.position, virtual_cockpit_hsi_direction_finder_inst3d);

  00509	51		 push	 ecx
  0050a	0f 57 c0	 xorps	 xmm0, xmm0
  0050d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00512	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00517	50		 push	 eax
  00518	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0051e	83 c1 08	 add	 ecx, 8
  00521	51		 push	 ecx
  00522	6a 02		 push	 2
  00524	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 726  : 
; 727  : 					//
; 728  : 					// drift
; 729  : 					//
; 730  : 
; 731  : 					search.search_depth = 0;

  00529	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 732  : 					search.search_object = virtual_cockpit_hsi_drift_inst3d;

  00530	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00535	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 733  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_HAVOC_VIRTUAL_COCKPIT_HSI_ARROW_SHORT;

  00538	c7 45 a4 83 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 131 ; 00000083H

; 734  : 
; 735  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0053f	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00542	50		 push	 eax
  00543	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00548	83 f8 01	 cmp	 eax, 1
  0054b	75 10		 jne	 SHORT $LN31@draw_havoc

; 736  : 					{
; 737  : 						search.result_sub_object->relative_roll = drift;

  0054d	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00550	f3 0f 10 85 4c
	ff ff ff	 movss	 xmm0, DWORD PTR _drift$1[ebp]
  00558	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN31@draw_havoc:

; 738  : 					}
; 739  : 
; 740  : 					memcpy (&virtual_cockpit_hsi_drift_inst3d->vp, &vp, sizeof (viewpoint));

  0055d	6a 30		 push	 48			; 00000030H
  0055f	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00562	50		 push	 eax
  00563	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00569	83 c1 08	 add	 ecx, 8
  0056c	51		 push	 ecx
  0056d	e8 00 00 00 00	 call	 _memcpy
  00572	83 c4 0c	 add	 esp, 12			; 0000000cH

; 741  : 
; 742  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hsi_drift_inst3d->vp.position, virtual_cockpit_hsi_drift_inst3d);

  00575	51		 push	 ecx
  00576	0f 57 c0	 xorps	 xmm0, xmm0
  00579	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0057e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00583	50		 push	 eax
  00584	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0058a	83 c1 08	 add	 ecx, 8
  0058d	51		 push	 ecx
  0058e	6a 02		 push	 2
  00590	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 743  : 
; 744  : 					//VJ wideview mod, date: 18-mar-03
; 745  : 					// re-insert compass here (internal is draw after external
; 746  : 					if (get_global_wide_cockpit ())

  00595	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  0059c	74 20		 je	 SHORT $LN32@draw_havoc

; 747  : 					{
; 748  : 					    insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_compass_inst3d->vp.position, virtual_cockpit_compass_inst3d);

  0059e	51		 push	 ecx
  0059f	0f 57 c0	 xorps	 xmm0, xmm0
  005a2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005ac	50		 push	 eax
  005ad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005b3	83 c1 08	 add	 ecx, 8
  005b6	51		 push	 ecx
  005b7	6a 02		 push	 2
  005b9	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN32@draw_havoc:

; 749  : 					}
; 750  : 				}
; 751  : 			}
; 752  : 
; 753  : 			draw_3d_scene ();

  005be	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 754  : 
; 755  : 			print_edit_wide_cockpit ();

  005c3	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 756  : 
; 757  : 			end_3d_scene ();

  005c8	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN22@draw_havoc:

; 758  : 		}
; 759  : 	}
; 760  : 
; 761  : 	////////////////////////////////////////
; 762  : 	//
; 763  : 	// draw 3D scene without lighting
; 764  : 	//
; 765  : 	////////////////////////////////////////
; 766  : 
; 767  : 	if (flags & (VIRTUAL_COCKPIT_HUD_GLASS | VIRTUAL_COCKPIT_HUD_DISPLAY | VIRTUAL_COCKPIT_EKRAN_DISPLAY | VIRTUAL_COCKPIT_CRT_DISPLAY))

  005cd	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  005d0	25 1c 08 00 00	 and	 eax, 2076		; 0000081cH
  005d5	0f 84 7c 03 00
	00		 je	 $LN34@draw_havoc

; 768  : 	{
; 769  : 		set_3d_active_environment (main_3d_env);

  005db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  005e0	50		 push	 eax
  005e1	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 770  : 
; 771  : 		set_3d_view_distances (main_3d_env, 10.0, 0.3, 1.0, 0.0);

  005e6	51		 push	 ecx
  005e7	0f 57 c0	 xorps	 xmm0, xmm0
  005ea	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005ef	51		 push	 ecx
  005f0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  005f8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005fd	51		 push	 ecx
  005fe	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e99999a
  00606	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0060b	51		 push	 ecx
  0060c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00614	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00619	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0061e	50		 push	 eax
  0061f	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 772  : 
; 773  : 		realise_3d_clip_extents (main_3d_env);

  00624	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00629	50		 push	 eax
  0062a	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 774  : 
; 775  : 		recalculate_3d_environment_settings (main_3d_env);

  0062f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00634	50		 push	 eax
  00635	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 776  : 
; 777  : 		clear_zbuffer_screen ();

  0063a	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 778  : 
; 779  : 		if (begin_3d_scene ())

  0063f	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00644	85 c0		 test	 eax, eax
  00646	0f 84 0b 03 00
	00		 je	 $LN34@draw_havoc

; 780  : 		{
; 781  : 			//
; 782  : 			// HUD glass
; 783  : 			//
; 784  : 
; 785  : 			if (flags & VIRTUAL_COCKPIT_HUD_GLASS)

  0064c	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0064f	83 e0 04	 and	 eax, 4
  00652	0f 84 33 02 00
	00		 je	 $LN37@draw_havoc

; 786  : 			{
; 787  : 				if (flags & VIRTUAL_COCKPIT_LARGE_HUD)

  00658	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0065b	83 e0 02	 and	 eax, 2
  0065e	0f 84 16 01 00
	00		 je	 $LN36@draw_havoc

; 788  : 				{
; 789  : 					switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00664	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  0066b	74 0f		 je	 SHORT $LN62@draw_havoc
  0066d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00672	8b 08		 mov	 ecx, DWORD PTR [eax]
  00674	89 8d 08 ff ff
	ff		 mov	 DWORD PTR tv315[ebp], ecx
  0067a	eb 20		 jmp	 SHORT $LN63@draw_havoc
$LN62@draw_havoc:
  0067c	68 15 03 00 00	 push	 789			; 00000315H
  00681	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00686	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0068c	52		 push	 edx
  0068d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00692	c7 85 08 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv315[ebp], 0
$LN63@draw_havoc:
  0069c	b8 01 00 00 00	 mov	 eax, 1
  006a1	85 c0		 test	 eax, eax
  006a3	74 0c		 je	 SHORT $LN64@draw_havoc
  006a5	c7 85 04 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv354[ebp], 39 ; 00000027H
  006af	eb 20		 jmp	 SHORT $LN65@draw_havoc
$LN64@draw_havoc:
  006b1	68 15 03 00 00	 push	 789			; 00000315H
  006b6	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  006bb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  006c1	51		 push	 ecx
  006c2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006c7	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv354[ebp], 0
$LN65@draw_havoc:
  006d1	6a 27		 push	 39			; 00000027H
  006d3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  006d9	52		 push	 edx
  006da	69 85 08 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv315[ebp], 1116
  006e4	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR tv354[ebp]
  006ea	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  006f1	ff d2		 call	 edx
  006f3	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv360[ebp], eax
  006f9	83 bd 00 ff ff
	ff 03		 cmp	 DWORD PTR tv360[ebp], 3
  00700	77 3b		 ja	 SHORT $LN4@draw_havoc
  00702	8b 85 00 ff ff
	ff		 mov	 eax, DWORD PTR tv360[ebp]
  00708	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN75@draw_havoc[eax*4]
$LN38@draw_havoc:

; 790  : 					{
; 791  : 						////////////////////////////////////////
; 792  : 						case DAY_SEGMENT_TYPE_DAWN:
; 793  : 						////////////////////////////////////////
; 794  : 						{
; 795  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level2_inst3d;

  0070f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00714	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 796  : 
; 797  : 							break;

  00719	eb 22		 jmp	 SHORT $LN4@draw_havoc
$LN39@draw_havoc:

; 798  : 						}
; 799  : 						////////////////////////////////////////
; 800  : 						case DAY_SEGMENT_TYPE_DAY:
; 801  : 						////////////////////////////////////////
; 802  : 						{
; 803  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level1_inst3d;

  0071b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00720	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 804  : 
; 805  : 							break;

  00725	eb 16		 jmp	 SHORT $LN4@draw_havoc
$LN40@draw_havoc:

; 806  : 						}
; 807  : 						////////////////////////////////////////
; 808  : 						case DAY_SEGMENT_TYPE_DUSK:
; 809  : 						////////////////////////////////////////
; 810  : 						{
; 811  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level2_inst3d;

  00727	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0072c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 812  : 
; 813  : 							break;

  00731	eb 0a		 jmp	 SHORT $LN4@draw_havoc
$LN41@draw_havoc:

; 814  : 						}
; 815  : 						////////////////////////////////////////
; 816  : 						case DAY_SEGMENT_TYPE_NIGHT:
; 817  : 						////////////////////////////////////////
; 818  : 						{
; 819  : 							virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level3_inst3d;

  00733	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00738	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN4@draw_havoc:

; 820  : 
; 821  : 							break;
; 822  : 						}
; 823  : 					}
; 824  : 
; 825  : 					#if DEMO_VERSION
; 826  : 
; 827  : 					virtual_cockpit_large_hud_glass_inst3d = virtual_cockpit_large_hud_glass_level1_inst3d;
; 828  : 
; 829  : 					#endif
; 830  : 
; 831  : 					memcpy (&virtual_cockpit_large_hud_glass_inst3d->vp, &vp, sizeof (viewpoint));

  0073d	6a 30		 push	 48			; 00000030H
  0073f	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00742	50		 push	 eax
  00743	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00749	83 c1 08	 add	 ecx, 8
  0074c	51		 push	 ecx
  0074d	e8 00 00 00 00	 call	 _memcpy
  00752	83 c4 0c	 add	 esp, 12			; 0000000cH

; 832  : 
; 833  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_large_hud_glass_inst3d->vp.position, virtual_cockpit_large_hud_glass_inst3d);

  00755	51		 push	 ecx
  00756	0f 57 c0	 xorps	 xmm0, xmm0
  00759	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0075e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00763	50		 push	 eax
  00764	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0076a	83 c1 08	 add	 ecx, 8
  0076d	51		 push	 ecx
  0076e	6a 02		 push	 2
  00770	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 834  : 				}
; 835  : 				else

  00775	e9 11 01 00 00	 jmp	 $LN37@draw_havoc
$LN36@draw_havoc:

; 836  : 				{
; 837  : 					switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  0077a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00781	74 0f		 je	 SHORT $LN66@draw_havoc
  00783	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00788	8b 08		 mov	 ecx, DWORD PTR [eax]
  0078a	89 8d 08 ff ff
	ff		 mov	 DWORD PTR tv377[ebp], ecx
  00790	eb 20		 jmp	 SHORT $LN67@draw_havoc
$LN66@draw_havoc:
  00792	68 45 03 00 00	 push	 837			; 00000345H
  00797	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  0079c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  007a2	52		 push	 edx
  007a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007a8	c7 85 08 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv377[ebp], 0
$LN67@draw_havoc:
  007b2	b8 01 00 00 00	 mov	 eax, 1
  007b7	85 c0		 test	 eax, eax
  007b9	74 0c		 je	 SHORT $LN68@draw_havoc
  007bb	c7 85 04 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv384[ebp], 39 ; 00000027H
  007c5	eb 20		 jmp	 SHORT $LN69@draw_havoc
$LN68@draw_havoc:
  007c7	68 45 03 00 00	 push	 837			; 00000345H
  007cc	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  007d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  007d7	51		 push	 ecx
  007d8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007dd	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv384[ebp], 0
$LN69@draw_havoc:
  007e7	6a 27		 push	 39			; 00000027H
  007e9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  007ef	52		 push	 edx
  007f0	69 85 08 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv377[ebp], 1116
  007fa	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR tv384[ebp]
  00800	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00807	ff d2		 call	 edx
  00809	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv390[ebp], eax
  0080f	83 bd 00 ff ff
	ff 03		 cmp	 DWORD PTR tv390[ebp], 3
  00816	77 3b		 ja	 SHORT $LN6@draw_havoc
  00818	8b 85 00 ff ff
	ff		 mov	 eax, DWORD PTR tv390[ebp]
  0081e	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN76@draw_havoc[eax*4]
$LN42@draw_havoc:

; 838  : 					{
; 839  : 						////////////////////////////////////////
; 840  : 						case DAY_SEGMENT_TYPE_DAWN:
; 841  : 						////////////////////////////////////////
; 842  : 						{
; 843  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level2_inst3d;

  00825	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0082a	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 844  : 
; 845  : 							break;

  0082f	eb 22		 jmp	 SHORT $LN6@draw_havoc
$LN43@draw_havoc:

; 846  : 						}
; 847  : 						////////////////////////////////////////
; 848  : 						case DAY_SEGMENT_TYPE_DAY:
; 849  : 						////////////////////////////////////////
; 850  : 						{
; 851  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level1_inst3d;

  00831	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00836	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 852  : 
; 853  : 							break;

  0083b	eb 16		 jmp	 SHORT $LN6@draw_havoc
$LN44@draw_havoc:

; 854  : 						}
; 855  : 						////////////////////////////////////////
; 856  : 						case DAY_SEGMENT_TYPE_DUSK:
; 857  : 						////////////////////////////////////////
; 858  : 						{
; 859  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level2_inst3d;

  0083d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00842	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 860  : 
; 861  : 							break;

  00847	eb 0a		 jmp	 SHORT $LN6@draw_havoc
$LN45@draw_havoc:

; 862  : 						}
; 863  : 						////////////////////////////////////////
; 864  : 						case DAY_SEGMENT_TYPE_NIGHT:
; 865  : 						////////////////////////////////////////
; 866  : 						{
; 867  : 							virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level3_inst3d;

  00849	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0084e	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax
$LN6@draw_havoc:

; 868  : 
; 869  : 							break;
; 870  : 						}
; 871  : 					}
; 872  : 
; 873  : 					#if DEMO_VERSION
; 874  : 
; 875  : 					virtual_cockpit_hud_glass_inst3d = virtual_cockpit_hud_glass_level1_inst3d;
; 876  : 
; 877  : 					#endif
; 878  : 
; 879  : 					memcpy (&virtual_cockpit_hud_glass_inst3d->vp, &vp, sizeof (viewpoint));

  00853	6a 30		 push	 48			; 00000030H
  00855	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00858	50		 push	 eax
  00859	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0085f	83 c1 08	 add	 ecx, 8
  00862	51		 push	 ecx
  00863	e8 00 00 00 00	 call	 _memcpy
  00868	83 c4 0c	 add	 esp, 12			; 0000000cH

; 880  : 
; 881  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hud_glass_inst3d->vp.position, virtual_cockpit_hud_glass_inst3d);

  0086b	51		 push	 ecx
  0086c	0f 57 c0	 xorps	 xmm0, xmm0
  0086f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00874	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00879	50		 push	 eax
  0087a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00880	83 c1 08	 add	 ecx, 8
  00883	51		 push	 ecx
  00884	6a 02		 push	 2
  00886	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN37@draw_havoc:

; 882  : 				}
; 883  : 			}
; 884  : 
; 885  : 			//
; 886  : 			// HUD display
; 887  : 			//
; 888  : 
; 889  : 			if (flags & VIRTUAL_COCKPIT_HUD_DISPLAY)

  0088b	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0088e	83 e0 08	 and	 eax, 8
  00891	74 38		 je	 SHORT $LN46@draw_havoc

; 890  : 			{
; 891  : 				memcpy (&virtual_cockpit_hud_display_inst3d->vp, &vp, sizeof (viewpoint));

  00893	6a 30		 push	 48			; 00000030H
  00895	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00898	50		 push	 eax
  00899	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0089f	83 c1 08	 add	 ecx, 8
  008a2	51		 push	 ecx
  008a3	e8 00 00 00 00	 call	 _memcpy
  008a8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 892  : 
; 893  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_hud_display_inst3d->vp.position, virtual_cockpit_hud_display_inst3d);

  008ab	51		 push	 ecx
  008ac	0f 57 c0	 xorps	 xmm0, xmm0
  008af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  008b9	50		 push	 eax
  008ba	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  008c0	83 c1 08	 add	 ecx, 8
  008c3	51		 push	 ecx
  008c4	6a 02		 push	 2
  008c6	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN46@draw_havoc:

; 894  : 			}
; 895  : 
; 896  : 			//
; 897  : 			// EKRAN display
; 898  : 			//
; 899  : 
; 900  : 			if (flags & VIRTUAL_COCKPIT_EKRAN_DISPLAY)

  008cb	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  008ce	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  008d3	74 38		 je	 SHORT $LN47@draw_havoc

; 901  : 			{
; 902  : 				memcpy (&virtual_cockpit_ekran_display_inst3d->vp, &vp, sizeof (viewpoint));

  008d5	6a 30		 push	 48			; 00000030H
  008d7	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  008da	50		 push	 eax
  008db	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  008e1	83 c1 08	 add	 ecx, 8
  008e4	51		 push	 ecx
  008e5	e8 00 00 00 00	 call	 _memcpy
  008ea	83 c4 0c	 add	 esp, 12			; 0000000cH

; 903  : 
; 904  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_ekran_display_inst3d->vp.position, virtual_cockpit_ekran_display_inst3d);

  008ed	51		 push	 ecx
  008ee	0f 57 c0	 xorps	 xmm0, xmm0
  008f1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  008fb	50		 push	 eax
  008fc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00902	83 c1 08	 add	 ecx, 8
  00905	51		 push	 ecx
  00906	6a 02		 push	 2
  00908	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN47@draw_havoc:

; 905  : 			}
; 906  : 
; 907  : 			//
; 908  : 			// CRT display
; 909  : 			//
; 910  : 
; 911  : 			if (flags & VIRTUAL_COCKPIT_CRT_DISPLAY)

  0090d	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00910	83 e0 10	 and	 eax, 16			; 00000010H
  00913	74 38		 je	 SHORT $LN48@draw_havoc

; 912  : 			{
; 913  : 				memcpy (&virtual_cockpit_crt_display_inst3d->vp, &vp, sizeof (viewpoint));

  00915	6a 30		 push	 48			; 00000030H
  00917	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0091a	50		 push	 eax
  0091b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00921	83 c1 08	 add	 ecx, 8
  00924	51		 push	 ecx
  00925	e8 00 00 00 00	 call	 _memcpy
  0092a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 914  : 
; 915  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_crt_display_inst3d->vp.position, virtual_cockpit_crt_display_inst3d);

  0092d	51		 push	 ecx
  0092e	0f 57 c0	 xorps	 xmm0, xmm0
  00931	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00936	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0093b	50		 push	 eax
  0093c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00942	83 c1 08	 add	 ecx, 8
  00945	51		 push	 ecx
  00946	6a 02		 push	 2
  00948	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN48@draw_havoc:

; 916  : 			}
; 917  : 
; 918  : 			draw_3d_scene ();

  0094d	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 919  : 
; 920  : 			end_3d_scene ();

  00952	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN34@draw_havoc:

; 921  : 		}
; 922  : 	}
; 923  : 
; 924  : 	////////////////////////////////////////
; 925  : 	//
; 926  : 	// draw 3D scene with lighting
; 927  : 	//
; 928  : 	////////////////////////////////////////
; 929  : 
; 930  : 	//
; 931  : 	// draw fillet to mask EO display
; 932  : 	//
; 933  : 
; 934  : 	if
; 935  : 	(
; 936  : 		(d3d_can_render_to_texture) &&
; 937  : 		(get_havoc_eo_display_visible ()) &&
; 938  : 		(flags & (VIRTUAL_COCKPIT_COCKPIT)) &&

  00957	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?d3d_can_render_to_texture@@3HA, 0 ; d3d_can_render_to_texture
  0095e	0f 84 9f 01 00
	00		 je	 $LN50@draw_havoc
  00964	e8 00 00 00 00	 call	 ?get_havoc_eo_display_visible@@YGHXZ ; get_havoc_eo_display_visible
  00969	85 c0		 test	 eax, eax
  0096b	0f 84 92 01 00
	00		 je	 $LN50@draw_havoc
  00971	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00974	83 e0 01	 and	 eax, 1
  00977	0f 84 86 01 00
	00		 je	 $LN50@draw_havoc
  0097d	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00980	83 e0 10	 and	 eax, 16			; 00000010H
  00983	0f 84 7a 01 00
	00		 je	 $LN50@draw_havoc

; 939  : 		(flags & (VIRTUAL_COCKPIT_CRT_DISPLAY))
; 940  : 	)
; 941  : 	{
; 942  : 		set_cockpit_lighting (vp.attitude);

  00989	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  0098c	50		 push	 eax
  0098d	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 943  : 
; 944  : 		set_3d_active_environment (main_3d_single_light_env);

  00992	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00997	50		 push	 eax
  00998	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 945  : 
; 946  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  0099d	51		 push	 ecx
  0099e	0f 57 c0	 xorps	 xmm0, xmm0
  009a1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009a6	51		 push	 ecx
  009a7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  009af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009b4	51		 push	 ecx
  009b5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  009bd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009c2	51		 push	 ecx
  009c3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  009cb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  009d5	50		 push	 eax
  009d6	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 947  : 
; 948  : 		realise_3d_clip_extents (main_3d_single_light_env);

  009db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  009e0	50		 push	 eax
  009e1	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 949  : 
; 950  : 		clear_zbuffer_screen ();

  009e6	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 951  : 
; 952  : 		if (begin_3d_scene ())

  009eb	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  009f0	85 c0		 test	 eax, eax
  009f2	0f 84 0b 01 00
	00		 je	 $LN50@draw_havoc

; 953  : 		{
; 954  : 			switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  009f8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  009ff	74 0f		 je	 SHORT $LN70@draw_havoc
  00a01	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00a06	8b 08		 mov	 ecx, DWORD PTR [eax]
  00a08	89 8d 08 ff ff
	ff		 mov	 DWORD PTR tv460[ebp], ecx
  00a0e	eb 20		 jmp	 SHORT $LN71@draw_havoc
$LN70@draw_havoc:
  00a10	68 ba 03 00 00	 push	 954			; 000003baH
  00a15	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a1a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00a20	52		 push	 edx
  00a21	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00a26	c7 85 08 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv460[ebp], 0
$LN71@draw_havoc:
  00a30	b8 01 00 00 00	 mov	 eax, 1
  00a35	85 c0		 test	 eax, eax
  00a37	74 0c		 je	 SHORT $LN72@draw_havoc
  00a39	c7 85 04 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv467[ebp], 39 ; 00000027H
  00a43	eb 20		 jmp	 SHORT $LN73@draw_havoc
$LN72@draw_havoc:
  00a45	68 ba 03 00 00	 push	 954			; 000003baH
  00a4a	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@DGMDBKOK@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a4f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00a55	51		 push	 ecx
  00a56	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00a5b	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv467[ebp], 0
$LN73@draw_havoc:
  00a65	6a 27		 push	 39			; 00000027H
  00a67	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00a6d	52		 push	 edx
  00a6e	69 85 08 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv460[ebp], 1116
  00a78	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR tv467[ebp]
  00a7e	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00a85	ff d2		 call	 edx
  00a87	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv473[ebp], eax
  00a8d	83 bd 00 ff ff
	ff 03		 cmp	 DWORD PTR tv473[ebp], 3
  00a94	77 33		 ja	 SHORT $LN8@draw_havoc
  00a96	8b 85 00 ff ff
	ff		 mov	 eax, DWORD PTR tv473[ebp]
  00a9c	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN77@draw_havoc[eax*4]
$LN51@draw_havoc:

; 955  : 			{
; 956  : 				////////////////////////////////////////
; 957  : 				case DAY_SEGMENT_TYPE_DAWN:
; 958  : 				////////////////////////////////////////
; 959  : 				{
; 960  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  00aa3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00aa8	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 961  : 
; 962  : 					break;

  00aab	eb 1c		 jmp	 SHORT $LN8@draw_havoc
$LN52@draw_havoc:

; 963  : 				}
; 964  : 				////////////////////////////////////////
; 965  : 				case DAY_SEGMENT_TYPE_DAY:
; 966  : 				////////////////////////////////////////
; 967  : 				{
; 968  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;

  00aad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00ab2	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 969  : 
; 970  : 					break;

  00ab5	eb 12		 jmp	 SHORT $LN8@draw_havoc
$LN53@draw_havoc:

; 971  : 				}
; 972  : 				////////////////////////////////////////
; 973  : 				case DAY_SEGMENT_TYPE_DUSK:
; 974  : 				////////////////////////////////////////
; 975  : 				{
; 976  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  00ab7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00abc	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 977  : 
; 978  : 					break;

  00abf	eb 08		 jmp	 SHORT $LN8@draw_havoc
$LN54@draw_havoc:

; 979  : 				}
; 980  : 				////////////////////////////////////////
; 981  : 				case DAY_SEGMENT_TYPE_NIGHT:
; 982  : 				////////////////////////////////////////
; 983  : 				{
; 984  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level3_inst3d;

  00ac1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00ac6	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN8@draw_havoc:

; 985  : 
; 986  : 					break;
; 987  : 				}
; 988  : 			}
; 989  : 
; 990  : 			#if DEMO_VERSION
; 991  : 
; 992  : 			virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;
; 993  : 
; 994  : 			#endif
; 995  : 
; 996  : 			memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));

  00ac9	6a 30		 push	 48			; 00000030H
  00acb	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00ace	50		 push	 eax
  00acf	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00ad2	83 c1 08	 add	 ecx, 8
  00ad5	51		 push	 ecx
  00ad6	e8 00 00 00 00	 call	 _memcpy
  00adb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 997  : 
; 998  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00ade	51		 push	 ecx
  00adf	0f 57 c0	 xorps	 xmm0, xmm0
  00ae2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00ae7	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00aea	50		 push	 eax
  00aeb	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00aee	83 c1 08	 add	 ecx, 8
  00af1	51		 push	 ecx
  00af2	6a 02		 push	 2
  00af4	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 999  : 
; 1000 : 			draw_3d_scene ();

  00af9	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1001 : 
; 1002 : 			end_3d_scene ();

  00afe	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN50@draw_havoc:

; 1003 : 		}
; 1004 : 	}
; 1005 : 
; 1006 : 	////////////////////////////////////////
; 1007 : 	//
; 1008 : 	// tidy up
; 1009 : 	//
; 1010 : 	////////////////////////////////////////
; 1011 : 
; 1012 : 	#if RECOGNITION_GUIDE
; 1013 : 
; 1014 : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 1015 : 
; 1016 : 	#else
; 1017 : 
; 1018 : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00b03	51		 push	 ecx
  00b04	0f 57 c0	 xorps	 xmm0, xmm0
  00b07	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b0c	51		 push	 ecx
  00b0d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00b15	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b1a	51		 push	 ecx
  00b1b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00b23	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b28	51		 push	 ecx
  00b29	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00b31	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b36	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00b3b	50		 push	 eax
  00b3c	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1019 : 
; 1020 : 	#endif
; 1021 : 
; 1022 : 	realise_3d_clip_extents (main_3d_env);

  00b41	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00b46	50		 push	 eax
  00b47	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1023 : }

  00b4c	5f		 pop	 edi
  00b4d	5e		 pop	 esi
  00b4e	5b		 pop	 ebx
  00b4f	8b e5		 mov	 esp, ebp
  00b51	5d		 pop	 ebp
  00b52	c2 04 00	 ret	 4
  00b55	0f 1f 00	 npad	 3
$LN74@draw_havoc:
  00b58	00 00 00 00	 DD	 $LN24@draw_havoc
  00b5c	00 00 00 00	 DD	 $LN25@draw_havoc
  00b60	00 00 00 00	 DD	 $LN26@draw_havoc
  00b64	00 00 00 00	 DD	 $LN27@draw_havoc
$LN75@draw_havoc:
  00b68	00 00 00 00	 DD	 $LN38@draw_havoc
  00b6c	00 00 00 00	 DD	 $LN39@draw_havoc
  00b70	00 00 00 00	 DD	 $LN40@draw_havoc
  00b74	00 00 00 00	 DD	 $LN41@draw_havoc
$LN76@draw_havoc:
  00b78	00 00 00 00	 DD	 $LN42@draw_havoc
  00b7c	00 00 00 00	 DD	 $LN43@draw_havoc
  00b80	00 00 00 00	 DD	 $LN44@draw_havoc
  00b84	00 00 00 00	 DD	 $LN45@draw_havoc
$LN77@draw_havoc:
  00b88	00 00 00 00	 DD	 $LN51@draw_havoc
  00b8c	00 00 00 00	 DD	 $LN52@draw_havoc
  00b90	00 00 00 00	 DD	 $LN53@draw_havoc
  00b94	00 00 00 00	 DD	 $LN54@draw_havoc
?draw_havoc_internal_virtual_cockpit@@YGXI@Z ENDP	; draw_havoc_internal_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?update_havoc_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?update_havoc_virtual_cockpit@@YGXXZ PROC		; update_havoc_virtual_cockpit, COMDAT

; 283  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 284  : }

  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?update_havoc_virtual_cockpit@@YGXXZ ENDP		; update_havoc_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?deinitialise_havoc_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?deinitialise_havoc_virtual_cockpit@@YGXXZ PROC		; deinitialise_havoc_virtual_cockpit, COMDAT

; 210  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 211  : 	//
; 212  : 	// 3D instances
; 213  : 	//
; 214  : 
; 215  : 	destruct_3d_object (virtual_cockpit_level1_inst3d);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 216  : 
; 217  : 	destruct_3d_object (virtual_cockpit_level2_inst3d);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 218  : 
; 219  : 	destruct_3d_object (virtual_cockpit_level3_inst3d);

  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 220  : 
; 221  : 	destruct_3d_object (virtual_cockpit_fillet_level1_inst3d);

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 222  : 
; 223  : 	destruct_3d_object (virtual_cockpit_fillet_level2_inst3d);

  00035	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0003a	50		 push	 eax
  0003b	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 224  : 
; 225  : 	destruct_3d_object (virtual_cockpit_fillet_level3_inst3d);

  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 226  : 
; 227  : 	destruct_3d_object (virtual_cockpit_hud_glass_level1_inst3d);

  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00050	50		 push	 eax
  00051	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 228  : 
; 229  : 	destruct_3d_object (virtual_cockpit_hud_glass_level2_inst3d);

  00056	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0005b	50		 push	 eax
  0005c	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 230  : 
; 231  : 	destruct_3d_object (virtual_cockpit_hud_glass_level3_inst3d);

  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00066	50		 push	 eax
  00067	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 232  : 
; 233  : 	destruct_3d_object (virtual_cockpit_large_hud_glass_level1_inst3d);

  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 234  : 
; 235  : 	destruct_3d_object (virtual_cockpit_large_hud_glass_level2_inst3d);

  00077	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0007c	50		 push	 eax
  0007d	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 236  : 
; 237  : 	destruct_3d_object (virtual_cockpit_large_hud_glass_level3_inst3d);

  00082	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 238  : 
; 239  : 	destruct_3d_object (virtual_cockpit_hud_display_inst3d);

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00092	50		 push	 eax
  00093	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 240  : 
; 241  : 	destruct_3d_object (virtual_cockpit_main_rotor_inst3d);

  00098	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0009d	50		 push	 eax
  0009e	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 242  : 
; 243  : 	destruct_3d_object (virtual_cockpit_large_hud_main_rotor_inst3d);

  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000a8	50		 push	 eax
  000a9	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 244  : 
; 245  : 	destruct_3d_object (virtual_cockpit_adi_inst3d);

  000ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000b3	50		 push	 eax
  000b4	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 246  : 
; 247  : 	destruct_3d_object (virtual_cockpit_hsi_level1_inst3d);

  000b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000be	50		 push	 eax
  000bf	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 248  : 
; 249  : 	destruct_3d_object (virtual_cockpit_hsi_level2_inst3d);

  000c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000c9	50		 push	 eax
  000ca	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 250  : 
; 251  : 	destruct_3d_object (virtual_cockpit_hsi_direction_finder_inst3d);

  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000d4	50		 push	 eax
  000d5	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 252  : 
; 253  : 	destruct_3d_object (virtual_cockpit_hsi_flight_path_inst3d);

  000da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000df	50		 push	 eax
  000e0	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 254  : 
; 255  : 	destruct_3d_object (virtual_cockpit_hsi_drift_inst3d);

  000e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000ea	50		 push	 eax
  000eb	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 256  : 
; 257  : 	destruct_3d_object (virtual_cockpit_ekran_display_inst3d);

  000f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000f5	50		 push	 eax
  000f6	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 258  : 
; 259  : 	destruct_3d_object (virtual_cockpit_crt_display_inst3d);

  000fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00100	50		 push	 eax
  00101	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 260  : 
; 261  : 	destruct_3d_object (virtual_cockpit_compass_level1_inst3d);

  00106	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0010b	50		 push	 eax
  0010c	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 262  : 
; 263  : 	destruct_3d_object (virtual_cockpit_compass_level2_inst3d);

  00111	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00116	50		 push	 eax
  00117	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 264  : 
; 265  : 	//
; 266  : 	// wipers and rain
; 267  : 	//
; 268  : 
; 269  : 	deinitialise_havoc_virtual_cockpit_wiper_and_rain_effect ();

  0011c	e8 00 00 00 00	 call	 ?deinitialise_havoc_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; deinitialise_havoc_virtual_cockpit_wiper_and_rain_effect

; 270  : 
; 271  : 	//
; 272  : 	// virtual cockpit cameras
; 273  : 	//
; 274  : 
; 275  : 	deinitialise_common_virtual_cockpit_cameras ();

  00121	e8 00 00 00 00	 call	 ?deinitialise_common_virtual_cockpit_cameras@@YGXXZ ; deinitialise_common_virtual_cockpit_cameras

; 276  : }

  00126	5f		 pop	 edi
  00127	5e		 pop	 esi
  00128	5b		 pop	 ebx
  00129	8b e5		 mov	 esp, ebp
  0012b	5d		 pop	 ebp
  0012c	c3		 ret	 0
?deinitialise_havoc_virtual_cockpit@@YGXXZ ENDP		; deinitialise_havoc_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\havoc\ha_vckpt.c
;	COMDAT ?initialise_havoc_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?initialise_havoc_virtual_cockpit@@YGXXZ PROC		; initialise_havoc_virtual_cockpit, COMDAT

; 125  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 126  : 	//
; 127  : 	// 3D instances
; 128  : 	//
; 129  : 
; 130  : 	virtual_cockpit_inst3d = NULL;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d

; 131  : 
; 132  : 	pilot_head_pitch_datum = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 133  : 
; 134  : 	co_pilot_head_pitch_datum = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?co_pilot_head_pitch_datum@@3MA, xmm0

; 135  : 
; 136  : 	virtual_cockpit_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL1);

  00029	68 f4 04 00 00	 push	 1268			; 000004f4H
  0002e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00033	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 137  : 
; 138  : 	virtual_cockpit_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL2);

  00038	68 08 05 00 00	 push	 1288			; 00000508H
  0003d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00042	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 139  : 
; 140  : 	virtual_cockpit_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL3);

  00047	68 04 05 00 00	 push	 1284			; 00000504H
  0004c	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00051	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 141  : 
; 142  : 	virtual_cockpit_fillet_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL1_FILLET);

  00056	68 f5 04 00 00	 push	 1269			; 000004f5H
  0005b	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00060	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 143  : 
; 144  : 	virtual_cockpit_fillet_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL2_FILLET);

  00065	68 09 05 00 00	 push	 1289			; 00000509H
  0006a	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0006f	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 145  : 
; 146  : 	virtual_cockpit_fillet_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LEVEL3_FILLET);

  00074	68 05 05 00 00	 push	 1285			; 00000505H
  00079	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0007e	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 147  : 
; 148  : 	virtual_cockpit_hud_glass_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_GLASS_LEVEL1);

  00083	68 fe 04 00 00	 push	 1278			; 000004feH
  00088	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0008d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 149  : 
; 150  : 	virtual_cockpit_hud_glass_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_GLASS_LEVEL2);

  00092	68 00 05 00 00	 push	 1280			; 00000500H
  00097	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0009c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 151  : 
; 152  : 	virtual_cockpit_hud_glass_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_GLASS_LEVEL3);

  000a1	68 ff 04 00 00	 push	 1279			; 000004ffH
  000a6	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000ab	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 153  : 
; 154  : 	virtual_cockpit_large_hud_glass_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LARGE_HUD_GLASS_LEVEL1);

  000b0	68 01 05 00 00	 push	 1281			; 00000501H
  000b5	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000ba	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 155  : 
; 156  : 	virtual_cockpit_large_hud_glass_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LARGE_HUD_GLASS_LEVEL2);

  000bf	68 03 05 00 00	 push	 1283			; 00000503H
  000c4	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000c9	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 157  : 
; 158  : 	virtual_cockpit_large_hud_glass_level3_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_LARGE_HUD_GLASS_LEVEL3);

  000ce	68 02 05 00 00	 push	 1282			; 00000502H
  000d3	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000d8	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_glass_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 159  : 
; 160  : 	virtual_cockpit_hud_display_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_HUD_DISPLAY);

  000dd	68 fd 04 00 00	 push	 1277			; 000004fdH
  000e2	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000e7	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hud_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 161  : 
; 162  : 	virtual_cockpit_main_rotor_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_MAIN_ROTOR);

  000ec	68 06 05 00 00	 push	 1286			; 00000506H
  000f1	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000f6	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 163  : 
; 164  : 	virtual_cockpit_large_hud_main_rotor_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_MAIN_ROTOR_HUD);

  000fb	68 07 05 00 00	 push	 1287			; 00000507H
  00100	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00105	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_hud_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 165  : 
; 166  : 	virtual_cockpit_adi_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_ADI);

  0010a	68 f1 04 00 00	 push	 1265			; 000004f1H
  0010f	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00114	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 167  : 
; 168  : 	virtual_cockpit_hsi_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_LEVEL1);

  00119	68 fb 04 00 00	 push	 1275			; 000004fbH
  0011e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00123	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 169  : 
; 170  : 	virtual_cockpit_hsi_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_LEVEL2);

  00128	68 fc 04 00 00	 push	 1276			; 000004fcH
  0012d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00132	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 171  : 
; 172  : 	virtual_cockpit_hsi_direction_finder_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_ARROW_LONG);

  00137	68 f9 04 00 00	 push	 1273			; 000004f9H
  0013c	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00141	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_direction_finder_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 173  : 
; 174  : 	virtual_cockpit_hsi_flight_path_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_ARROW_DOUBLE);

  00146	68 f8 04 00 00	 push	 1272			; 000004f8H
  0014b	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00150	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_flight_path_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 175  : 
; 176  : 	virtual_cockpit_hsi_drift_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_HSI_ARROW_SHORT);

  00155	68 fa 04 00 00	 push	 1274			; 000004faH
  0015a	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0015f	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_hsi_drift_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 177  : 
; 178  : 	virtual_cockpit_ekran_display_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_DISPLAYS_EKRAN);

  00164	68 f7 04 00 00	 push	 1271			; 000004f7H
  00169	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0016e	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_ekran_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 179  : 
; 180  : 	virtual_cockpit_crt_display_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_DISPLAYS_CRT);

  00173	68 f6 04 00 00	 push	 1270			; 000004f6H
  00178	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0017d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_crt_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 181  : 
; 182  : 	virtual_cockpit_compass_level1_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_COMPASS_LEVEL1);

  00182	68 f2 04 00 00	 push	 1266			; 000004f2H
  00187	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0018c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 183  : 
; 184  : 	virtual_cockpit_compass_level2_inst3d = construct_3d_object (OBJECT_3D_HAVOC_VIRTUAL_COCKPIT_INSTRUMENTS_COMPASS_LEVEL2);

  00191	68 f3 04 00 00	 push	 1267			; 000004f3H
  00196	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0019b	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 185  : 
; 186  : 	//
; 187  : 	// wipers and rain
; 188  : 	//
; 189  : 
; 190  : 	initialise_havoc_virtual_cockpit_wiper_and_rain_effect ();

  001a0	e8 00 00 00 00	 call	 ?initialise_havoc_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; initialise_havoc_virtual_cockpit_wiper_and_rain_effect

; 191  : 
; 192  : 	//
; 193  : 	// virtual cockpit cameras
; 194  : 	//
; 195  : 
; 196  : 	initialise_common_virtual_cockpit_cameras ();

  001a5	e8 00 00 00 00	 call	 ?initialise_common_virtual_cockpit_cameras@@YGXXZ ; initialise_common_virtual_cockpit_cameras

; 197  : 
; 198  : //VJ 050208 cleaing up wideview
; 199  : 	wide_cockpit_nr = WIDEVIEW_HAVOC_PILOT;

  001aa	c7 05 00 00 00
	00 06 00 00 00	 mov	 DWORD PTR ?wide_cockpit_nr@@3HA, 6 ; wide_cockpit_nr

; 200  : //VJ wideview mod, date: 20-mar-03
; 201  : //start up in normal view because when you switch to wideview the parameters are read
; 202  : 	set_global_wide_cockpit(FALSE);

  001b4	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 203  : }

  001be	5f		 pop	 edi
  001bf	5e		 pop	 esi
  001c0	5b		 pop	 ebx
  001c1	8b e5		 mov	 esp, ebp
  001c3	5d		 pop	 ebp
  001c4	c3		 ret	 0
?initialise_havoc_virtual_cockpit@@YGXXZ ENDP		; initialise_havoc_virtual_cockpit
_TEXT	ENDS
END
