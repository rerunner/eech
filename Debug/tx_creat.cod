; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\userint2\ui_obj\text\tx_creat.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_text_ui_object_create_functions@@YGXH@Z ; overload_text_ui_object_create_functions
EXTRN	_memset:PROC
EXTRN	?safe_malloc_memory@@YGPAXI@Z:PROC		; safe_malloc_memory
EXTRN	?get_ui_font_type@@YG?AW4FONT_TYPES@@XZ:PROC	; get_ui_font_type
EXTRN	?set_ui_object_attributes@@YGXPAUUI_OBJECT@@PAD@Z:PROC ; set_ui_object_attributes
EXTRN	?increase_ui_object_counter@@YGXXZ:PROC		; increase_ui_object_counter
EXTRN	?ui_default_colour@@3UREAL_COLOUR@@A:DWORD	; ui_default_colour
EXTRN	?fn_create_ui_object@@3PAP6GXPAUUI_OBJECT@@HPAD@ZA:BYTE ; fn_create_ui_object
EXTRN	?default_unselected_text_colour@@3UREAL_COLOUR@@A:DWORD ; default_unselected_text_colour
EXTRN	?default_selected_text_colour@@3UREAL_COLOUR@@A:DWORD ; default_selected_text_colour
EXTRN	__fltused:DWORD
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_obj\text\tx_creat.c
;	COMDAT ?create_text_ui_object@@YGXPAUUI_OBJECT@@HPAD@Z
_TEXT	SEGMENT
_new_object$ = -4					; size = 4
_obj$ = 8						; size = 4
_type$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_text_ui_object@@YGXPAUUI_OBJECT@@HPAD@Z PROC	; create_text_ui_object, COMDAT

; 74   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 75   : 
; 76   :    text_ui_object
; 77   :       *new_object;
; 78   : 
; 79   : 	increase_ui_object_counter ();

  00009	e8 00 00 00 00	 call	 ?increase_ui_object_counter@@YGXXZ ; increase_ui_object_counter

; 80   : 
; 81   :    ////////////////////////////////////////
; 82   :    //
; 83   :    // MALLOC ENTITY DATA
; 84   :    //
; 85   :    ////////////////////////////////////////
; 86   : 
; 87   :    obj->type   = type;

  0000e	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  00011	8b 4d 0c	 mov	 ecx, DWORD PTR _type$[ebp]
  00014	89 08		 mov	 DWORD PTR [eax], ecx

; 88   : 
; 89   :    new_object    = (text_ui_object *) safe_malloc (sizeof (text_ui_object));

  00016	68 e8 00 00 00	 push	 232			; 000000e8H
  0001b	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00020	89 45 fc	 mov	 DWORD PTR _new_object$[ebp], eax

; 90   : 
; 91   :    obj->data   = new_object;

  00023	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  00026	8b 4d fc	 mov	 ecx, DWORD PTR _new_object$[ebp]
  00029	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 92   : 
; 93   :    ////////////////////////////////////////
; 94   :    //
; 95   :    // INITIALISE ALL ENTITY DATA TO 'WORKING' DEFAULT VALUES
; 96   :    //
; 97   :    // DO NOT USE ACCESS FUNCTIONS
; 98   :    //
; 99   :    // DO NOT USE RANDOM VALUES
; 100  :    //
; 101  :    ////////////////////////////////////////
; 102  : 
; 103  :    memset (new_object, 0, sizeof (text_ui_object));

  0002c	68 e8 00 00 00	 push	 232			; 000000e8H
  00031	6a 00		 push	 0
  00033	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 _memset
  0003c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 104  : 
; 105  :    //new_object->area.x = 0.0;
; 106  :    //new_object->area.y = 0.0;
; 107  :    //new_object->area.x_size = 0.0;
; 108  :    //new_object->area.y_size = ui_get_font_height ();
; 109  : 	new_object->area.colour_start.r = 255;

  0003f	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00042	c6 80 82 00 00
	00 ff		 mov	 BYTE PTR [eax+130], 255	; 000000ffH

; 110  : 	new_object->area.colour_start.g = 255;

  00049	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0004c	c6 80 81 00 00
	00 ff		 mov	 BYTE PTR [eax+129], 255	; 000000ffH

; 111  : 	new_object->area.colour_start.b = 255;

  00053	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00056	c6 80 80 00 00
	00 ff		 mov	 BYTE PTR [eax+128], 255	; 000000ffH

; 112  : 	new_object->area.colour_start.a = 255;

  0005d	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00060	c6 80 83 00 00
	00 ff		 mov	 BYTE PTR [eax+131], 255	; 000000ffH

; 113  : 	new_object->area.colour_end.r = 255;

  00067	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0006a	c6 40 7e ff	 mov	 BYTE PTR [eax+126], 255	; 000000ffH

; 114  : 	new_object->area.colour_end.g = 255;

  0006e	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00071	c6 40 7d ff	 mov	 BYTE PTR [eax+125], 255	; 000000ffH

; 115  : 	new_object->area.colour_end.b = 255;

  00075	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00078	c6 40 7c ff	 mov	 BYTE PTR [eax+124], 255	; 000000ffH

; 116  : 	new_object->area.colour_end.a = 255;

  0007c	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0007f	c6 40 7f ff	 mov	 BYTE PTR [eax+127], 255	; 000000ffH

; 117  :    new_object->area.x_origin = 0.0;

  00083	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00086	0f 57 c0	 xorps	 xmm0, xmm0
  00089	f3 0f 11 40 30	 movss	 DWORD PTR [eax+48], xmm0

; 118  :    new_object->area.y_origin = 0.0;

  0008e	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00091	0f 57 c0	 xorps	 xmm0, xmm0
  00094	f3 0f 11 40 34	 movss	 DWORD PTR [eax+52], xmm0

; 119  :    new_object->area.drawable = 1;

  00099	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0009c	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  0009f	83 c9 20	 or	 ecx, 32			; 00000020H
  000a2	8b 55 fc	 mov	 edx, DWORD PTR _new_object$[ebp]
  000a5	89 4a 4c	 mov	 DWORD PTR [edx+76], ecx

; 120  :    new_object->area.item_number = -1;

  000a8	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  000ab	c7 40 54 ff ff
	ff ff		 mov	 DWORD PTR [eax+84], -1

; 121  :    new_object->area.item_number2 = -1;

  000b2	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  000b5	c7 40 58 ff ff
	ff ff		 mov	 DWORD PTR [eax+88], -1

; 122  :    new_object->area.redraw = 1;

  000bc	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  000bf	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  000c2	81 e1 7f 80 ff
	ff		 and	 ecx, -32641		; ffff807fH
  000c8	81 c9 80 00 00
	00		 or	 ecx, 128		; 00000080H
  000ce	8b 55 fc	 mov	 edx, DWORD PTR _new_object$[ebp]
  000d1	89 4a 4c	 mov	 DWORD PTR [edx+76], ecx

; 123  :    new_object->area.moveable = 0;

  000d4	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  000d7	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  000da	81 e1 ff 7f ff
	ff		 and	 ecx, -32769		; ffff7fffH
  000e0	8b 55 fc	 mov	 edx, DWORD PTR _new_object$[ebp]
  000e3	89 4a 4c	 mov	 DWORD PTR [edx+76], ecx

; 124  :    new_object->area.resizeable = 0;

  000e6	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  000e9	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  000ec	81 e1 ff ff fe
	ff		 and	 ecx, -65537		; fffeffffH
  000f2	8b 55 fc	 mov	 edx, DWORD PTR _new_object$[ebp]
  000f5	89 4a 4c	 mov	 DWORD PTR [edx+76], ecx

; 125  :    new_object->area.notify_on = NOTIFY_TYPE_BUTTON_DOWN;

  000f8	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  000fb	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  000fe	81 e1 ff ff ff
	87		 and	 ecx, -2013265921	; 87ffffffH
  00104	81 c9 00 00 00
	10		 or	 ecx, 268435456		; 10000000H
  0010a	8b 55 fc	 mov	 edx, DWORD PTR _new_object$[ebp]
  0010d	89 4a 4c	 mov	 DWORD PTR [edx+76], ecx

; 126  :    new_object->area.parent = NULL;

  00110	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00113	c7 40 3c 00 00
	00 00		 mov	 DWORD PTR [eax+60], 0

; 127  :    new_object->area.child = NULL;

  0011a	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0011d	c7 40 40 00 00
	00 00		 mov	 DWORD PTR [eax+64], 0

; 128  :    new_object->area.next = NULL;

  00124	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00127	c7 40 44 00 00
	00 00		 mov	 DWORD PTR [eax+68], 0

; 129  :    new_object->area.prev = NULL;

  0012e	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00131	c7 40 48 00 00
	00 00		 mov	 DWORD PTR [eax+72], 0

; 130  :    new_object->area.font_type = UI_FONT_ARIAL_10;

  00138	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0013b	c7 40 64 00 00
	00 00		 mov	 DWORD PTR [eax+100], 0

; 131  :    new_object->area.font_colour_end = default_unselected_text_colour;

  00142	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00145	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?default_unselected_text_colour@@3UREAL_COLOUR@@A ; default_unselected_text_colour
  0014b	89 88 94 00 00
	00		 mov	 DWORD PTR [eax+148], ecx

; 132  :    new_object->area.font_colour_start = default_unselected_text_colour;

  00151	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00154	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?default_unselected_text_colour@@3UREAL_COLOUR@@A ; default_unselected_text_colour
  0015a	89 88 98 00 00
	00		 mov	 DWORD PTR [eax+152], ecx

; 133  :    new_object->area.highlighted_font_type = -1;

  00160	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00163	c7 40 60 ff ff
	ff ff		 mov	 DWORD PTR [eax+96], -1

; 134  :    new_object->area.highlighted_font_colour_end = default_selected_text_colour;

  0016a	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0016d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?default_selected_text_colour@@3UREAL_COLOUR@@A ; default_selected_text_colour
  00173	89 88 9c 00 00
	00		 mov	 DWORD PTR [eax+156], ecx

; 135  :    new_object->area.highlighted_font_colour_start = default_selected_text_colour;

  00179	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0017c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?default_selected_text_colour@@3UREAL_COLOUR@@A ; default_selected_text_colour
  00182	89 88 a0 00 00
	00		 mov	 DWORD PTR [eax+160], ecx

; 136  :    new_object->area.selected_font_type = -1;

  00188	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0018b	c7 40 5c ff ff
	ff ff		 mov	 DWORD PTR [eax+92], -1

; 137  :    new_object->area.selected_font_colour_end = default_selected_text_colour;

  00192	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00195	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?default_selected_text_colour@@3UREAL_COLOUR@@A ; default_selected_text_colour
  0019b	89 88 a4 00 00
	00		 mov	 DWORD PTR [eax+164], ecx

; 138  :    new_object->area.selected_font_colour_start = default_selected_text_colour;

  001a1	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  001a4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?default_selected_text_colour@@3UREAL_COLOUR@@A ; default_selected_text_colour
  001aa	89 88 a8 00 00
	00		 mov	 DWORD PTR [eax+168], ecx

; 139  : 
; 140  :    new_object->area.text = NULL;

  001b0	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  001b3	c7 40 68 00 00
	00 00		 mov	 DWORD PTR [eax+104], 0

; 141  : 
; 142  :    new_object->colour.r = ui_default_colour.r;

  001ba	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  001bd	8a 0d 02 00 00
	00		 mov	 cl, BYTE PTR ?ui_default_colour@@3UREAL_COLOUR@@A+2
  001c3	88 88 e6 00 00
	00		 mov	 BYTE PTR [eax+230], cl

; 143  :    new_object->colour.g = ui_default_colour.g;

  001c9	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  001cc	8a 0d 01 00 00
	00		 mov	 cl, BYTE PTR ?ui_default_colour@@3UREAL_COLOUR@@A+1
  001d2	88 88 e5 00 00
	00		 mov	 BYTE PTR [eax+229], cl

; 144  :    new_object->colour.b = ui_default_colour.b;

  001d8	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  001db	8a 0d 00 00 00
	00		 mov	 cl, BYTE PTR ?ui_default_colour@@3UREAL_COLOUR@@A
  001e1	88 88 e4 00 00
	00		 mov	 BYTE PTR [eax+228], cl

; 145  : 
; 146  :    ////////////////////////////////////////
; 147  :    //
; 148  :    // OVERWRITE DEFAULTS WITH GIVEN ATTRIBUTES
; 149  :    //
; 150  :    ////////////////////////////////////////
; 151  : 
; 152  :    set_ui_object_attributes (obj, pargs);

  001e7	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  001ea	50		 push	 eax
  001eb	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  001ee	51		 push	 ecx
  001ef	e8 00 00 00 00	 call	 ?set_ui_object_attributes@@YGXPAUUI_OBJECT@@PAD@Z ; set_ui_object_attributes

; 153  : 
; 154  :    ////////////////////////////////////////
; 155  : 	//
; 156  : 	// Check the font default values & override them if not set
; 157  : 	//
; 158  :    ////////////////////////////////////////
; 159  : 
; 160  : 	if ( new_object->area.font_type == -1 )

  001f4	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  001f7	83 78 64 ff	 cmp	 DWORD PTR [eax+100], -1
  001fb	75 0b		 jne	 SHORT $LN2@create_tex

; 161  : 	{
; 162  : 
; 163  : 		new_object->area.font_type = get_ui_font_type ();

  001fd	e8 00 00 00 00	 call	 ?get_ui_font_type@@YG?AW4FONT_TYPES@@XZ ; get_ui_font_type
  00202	8b 4d fc	 mov	 ecx, DWORD PTR _new_object$[ebp]
  00205	89 41 64	 mov	 DWORD PTR [ecx+100], eax
$LN2@create_tex:

; 164  : 	}
; 165  : 
; 166  : 	if ( new_object->area.highlighted_font_type == -1 )

  00208	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  0020b	83 78 60 ff	 cmp	 DWORD PTR [eax+96], -1
  0020f	75 0c		 jne	 SHORT $LN3@create_tex

; 167  : 	{
; 168  : 
; 169  : 		new_object->area.highlighted_font_type = new_object->area.font_type;

  00211	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00214	8b 4d fc	 mov	 ecx, DWORD PTR _new_object$[ebp]
  00217	8b 51 64	 mov	 edx, DWORD PTR [ecx+100]
  0021a	89 50 60	 mov	 DWORD PTR [eax+96], edx
$LN3@create_tex:

; 170  : 	}
; 171  : 
; 172  : 	if ( new_object->area.selected_font_type == -1 )

  0021d	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00220	83 78 5c ff	 cmp	 DWORD PTR [eax+92], -1
  00224	75 0c		 jne	 SHORT $LN4@create_tex

; 173  : 	{
; 174  : 
; 175  : 		new_object->area.selected_font_type = new_object->area.font_type;

  00226	8b 45 fc	 mov	 eax, DWORD PTR _new_object$[ebp]
  00229	8b 4d fc	 mov	 ecx, DWORD PTR _new_object$[ebp]
  0022c	8b 51 64	 mov	 edx, DWORD PTR [ecx+100]
  0022f	89 50 5c	 mov	 DWORD PTR [eax+92], edx
$LN4@create_tex:

; 176  : 	}
; 177  : 
; 178  : 	//debug_log ("TX_CREAT: created text %s", ((new_object->area.text) ? new_object->area.text : "None set"));
; 179  : 
; 180  :    ////////////////////////////////////////
; 181  :    //
; 182  :    // INTEGRATE INTO SYSTEM
; 183  :    //
; 184  :    ////////////////////////////////////////
; 185  : }

  00232	5f		 pop	 edi
  00233	5e		 pop	 esi
  00234	5b		 pop	 ebx
  00235	8b e5		 mov	 esp, ebp
  00237	5d		 pop	 ebp
  00238	c2 0c 00	 ret	 12			; 0000000cH
?create_text_ui_object@@YGXPAUUI_OBJECT@@HPAD@Z ENDP	; create_text_ui_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_obj\text\tx_creat.c
;	COMDAT ?overload_text_ui_object_create_functions@@YGXH@Z
_TEXT	SEGMENT
_type$ = 8						; size = 4
?overload_text_ui_object_create_functions@@YGXH@Z PROC	; overload_text_ui_object_create_functions, COMDAT

; 192  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 193  : 
; 194  : 	fn_create_ui_object [type] = create_text_ui_object;

  00009	8b 45 08	 mov	 eax, DWORD PTR _type$[ebp]
  0000c	c7 04 85 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_create_ui_object@@3PAP6GXPAUUI_OBJECT@@HPAD@ZA[eax*4], OFFSET ?create_text_ui_object@@YGXPAUUI_OBJECT@@HPAD@Z ; create_text_ui_object

; 195  : }

  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c2 04 00	 ret	 4
?overload_text_ui_object_create_functions@@YGXH@Z ENDP	; overload_text_ui_object_create_functions
_TEXT	ENDS
END
