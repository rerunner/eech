; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\group\gp_creat.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_group_create_functions@@YGXXZ		; overload_group_create_functions
PUBLIC	?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_local'::`1'::__LINE__Var
PUBLIC	??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@ ; `string'
PUBLIC	??_C@_07NFANNNEC@UNKNOWN@			; `string'
PUBLIC	??_C@_0CB@MIOHHNEG@raw?9?$DOside?5?$CB?$DN?5ENTITY_SIDE_NEUTRA@ ; `string'
PUBLIC	??_C@_0CM@NBOGKLAJ@entity_sub_type_group_valid?5?$CIra@ ; `string'
PUBLIC	??_C@_0BC@ONDHKKN@raw?9?$DOsleep?5?$DN?$DN?50?40@ ; `string'
PUBLIC	??_C@_0CJ@OCIELMEL@raw?9?$DOgroup_formation?5?$DM?5FORMATIO@ ; `string'
PUBLIC	??_C@_0BH@NNMMMMKC@raw?9?$DOgroup_link?4parent@	; `string'
PUBLIC	??_C@_05BINPNAAL@force@				; `string'
PUBLIC	?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_remote'::`1'::__LINE__Var
PUBLIC	??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@ ; `string'
PUBLIC	?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_server'::`1'::__LINE__Var
PUBLIC	??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@ ; `string'
PUBLIC	??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@ ; `string'
PUBLIC	?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA ; `create_client'::`1'::__LINE__Var
PUBLIC	__real@0000000000000000
PUBLIC	__real@42c80000
EXTRN	_memset:PROC
EXTRN	_strcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?malloc_fast_memory@@YGPAXI@Z:PROC		; malloc_fast_memory
EXTRN	?set_local_entity_attributes@@YGXPAUENTITY@@PAD@Z:PROC ; set_local_entity_attributes
EXTRN	?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z:PROC ; insert_local_entity_into_parents_child_list
EXTRN	?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ:PROC ; transmit_entity_comms_message
EXTRN	?assert_client_server_local_fn@@YGHXZ:PROC	; assert_client_server_local_fn
EXTRN	?assert_client_server_remote_fn@@YGHXZ:PROC	; assert_client_server_remote_fn
EXTRN	?assert_local_create_entity_index@@YGHH@Z:PROC	; assert_local_create_entity_index
EXTRN	?assert_remote_create_entity_index@@YGHH@Z:PROC	; assert_remote_create_entity_index
EXTRN	?get_free_entity@@YGPAUENTITY@@H@Z:PROC		; get_free_entity
EXTRN	?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z:PROC ; get_local_force_entity
EXTRN	?add_group_type_to_force_info@@YGXPAUENTITY@@H@Z:PROC ; add_group_type_to_force_info
EXTRN	?assign_group_callsign@@YGHPAUENTITY@@@Z:PROC	; assign_group_callsign
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A:DWORD ; system_comms_data_flow
EXTRN	?world_map@@3UWORLD_MAP_DATA@@A:BYTE		; world_map
EXTRN	?fn_create_local_entity@@3PAP6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA:BYTE ; fn_create_local_entity
EXTRN	?fn_create_client_server_entity@@3PAY01P6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA:BYTE ; fn_create_client_server_entity
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?entities@@3PAUENTITY@@A:DWORD			; entities
EXTRN	?group_database@@3PAUGROUP_DATA@@A:BYTE		; group_database
EXTRN	__fltused:DWORD
;	COMDAT __real@42c80000
CONST	SEGMENT
__real@42c80000 DD 042c80000r			; 100
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 012dH ; `create_client'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
CONST	SEGMENT
??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@ DB 'assert_client_se'
	DB	'rver_remote_fn ()', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
CONST	SEGMENT
??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@ DB 'assert_client'
	DB	'_server_local_fn ()', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 0116H ; `create_server'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@
CONST	SEGMENT
??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@ DB 'assert_remote_cre'
	DB	'ate_entity_index ((index))', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 0103H ; `create_remote'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_05BINPNAAL@force@
CONST	SEGMENT
??_C@_05BINPNAAL@force@ DB 'force', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@NNMMMMKC@raw?9?$DOgroup_link?4parent@
CONST	SEGMENT
??_C@_0BH@NNMMMMKC@raw?9?$DOgroup_link?4parent@ DB 'raw->group_link.paren'
	DB	't', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@OCIELMEL@raw?9?$DOgroup_formation?5?$DM?5FORMATIO@
CONST	SEGMENT
??_C@_0CJ@OCIELMEL@raw?9?$DOgroup_formation?5?$DM?5FORMATIO@ DB 'raw->gro'
	DB	'up_formation < FORMATION_INVALID', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@ONDHKKN@raw?9?$DOsleep?5?$DN?$DN?50?40@
CONST	SEGMENT
??_C@_0BC@ONDHKKN@raw?9?$DOsleep?5?$DN?$DN?50?40@ DB 'raw->sleep == 0.0', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@NBOGKLAJ@entity_sub_type_group_valid?5?$CIra@
CONST	SEGMENT
??_C@_0CM@NBOGKLAJ@entity_sub_type_group_valid?5?$CIra@ DB 'entity_sub_ty'
	DB	'pe_group_valid (raw->sub_type)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@MIOHHNEG@raw?9?$DOside?5?$CB?$DN?5ENTITY_SIDE_NEUTRA@
CONST	SEGMENT
??_C@_0CB@MIOHHNEG@raw?9?$DOside?5?$CB?$DN?5ENTITY_SIDE_NEUTRA@ DB 'raw->'
	DB	'side != ENTITY_SIDE_NEUTRAL', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_07NFANNNEC@UNKNOWN@
CONST	SEGMENT
??_C@_07NFANNNEC@UNKNOWN@ DB 'UNKNOWN', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@
CONST	SEGMENT
??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@ DB 'assert_local_crea'
	DB	'te_entity_index ((index))', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nhv'
	DB	'90\projects\eech\aphavoc\source\entity\special\group\gp_creat'
	DB	'.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA DD 050H ; `create_local'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\group\gp_creat.c
;	COMDAT ?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
_en$ = -4						; size = 4
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC ; create_client, COMDAT

; 301  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 302  : 	entity
; 303  : 		*en;
; 304  : 
; 305  : 	if (get_comms_data_flow () == COMMS_DATA_FLOW_TX)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A, 0 ; system_comms_data_flow
  00010	75 37		 jne	 SHORT $LN2@create_cli

; 306  : 	{
; 307  : 		validate_client_server_remote_fn ();

  00012	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  00017	85 c0		 test	 eax, eax
  00019	75 18		 jne	 SHORT $LN4@create_cli
  0001b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00020	83 c0 06	 add	 eax, 6
  00023	50		 push	 eax
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_cli:

; 308  : 
; 309  : 		en = create_remote (type, index, pargs);

  00033	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  00036	50		 push	 eax
  00037	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  0003a	51		 push	 ecx
  0003b	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  0003e	52		 push	 edx
  0003f	e8 00 00 00 00	 call	 ?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_remote
  00044	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 310  : 	}
; 311  : 	else

  00047	eb 35		 jmp	 SHORT $LN3@create_cli
$LN2@create_cli:

; 312  : 	{
; 313  : 		validate_client_server_local_fn ();

  00049	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  0004e	85 c0		 test	 eax, eax
  00050	75 18		 jne	 SHORT $LN5@create_cli
  00052	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00057	83 c0 0c	 add	 eax, 12			; 0000000cH
  0005a	50		 push	 eax
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00060	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  00065	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_cli:

; 314  : 
; 315  : 		en = create_local (type, index, pargs);

  0006a	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  0006d	50		 push	 eax
  0006e	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  00071	51		 push	 ecx
  00072	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00075	52		 push	 edx
  00076	e8 00 00 00 00	 call	 ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_local
  0007b	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax
$LN3@create_cli:

; 316  : 	}
; 317  : 
; 318  : 	return (en);

  0007e	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]

; 319  : }

  00081	5f		 pop	 edi
  00082	5e		 pop	 esi
  00083	5b		 pop	 ebx
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c2 0c 00	 ret	 12			; 0000000cH
?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP ; create_client
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\group\gp_creat.c
;	COMDAT ?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
_en$ = -4						; size = 4
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC ; create_server, COMDAT

; 278  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 279  : 	entity
; 280  : 		*en;
; 281  : 
; 282  : 	validate_client_server_local_fn ();

  00009	e8 00 00 00 00	 call	 ?assert_client_server_local_fn@@YGHXZ ; assert_client_server_local_fn
  0000e	85 c0		 test	 eax, eax
  00010	75 18		 jne	 SHORT $LN2@create_ser
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00017	83 c0 04	 add	 eax, 4
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@CFOCLFOK@assert_client_server_local_fn?5?$CI@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_ser:

; 283  : 
; 284  : 	en = create_local (type, index, pargs);

  0002a	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  0002d	50		 push	 eax
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  00031	51		 push	 ecx
  00032	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00035	52		 push	 edx
  00036	e8 00 00 00 00	 call	 ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_local
  0003b	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 285  : 
; 286  : 	if (en)

  0003e	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00042	74 3b		 je	 SHORT $LN3@create_ser

; 287  : 	{
; 288  : 		validate_client_server_remote_fn ();

  00044	e8 00 00 00 00	 call	 ?assert_client_server_remote_fn@@YGHXZ ; assert_client_server_remote_fn
  00049	85 c0		 test	 eax, eax
  0004b	75 18		 jne	 SHORT $LN4@create_ser
  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00052	83 c0 0a	 add	 eax, 10			; 0000000aH
  00055	50		 push	 eax
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BNNNEGEG@assert_client_server_remote_fn?5@
  00060	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_ser:

; 289  : 
; 290  : 		create_remote (type, get_local_entity_index (en), pargs);

  00065	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  00068	50		 push	 eax
  00069	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0006c	2b 0d 00 00 00
	00		 sub	 ecx, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  00072	c1 f9 04	 sar	 ecx, 4
  00075	51		 push	 ecx
  00076	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00079	52		 push	 edx
  0007a	e8 00 00 00 00	 call	 ?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_remote
$LN3@create_ser:

; 291  : 	}
; 292  : 
; 293  : 	return (en);

  0007f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]

; 294  : }

  00082	5f		 pop	 edi
  00083	5e		 pop	 esi
  00084	5b		 pop	 ebx
  00085	8b e5		 mov	 esp, ebp
  00087	5d		 pop	 ebp
  00088	c2 0c 00	 ret	 12			; 0000000cH
?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP ; create_server
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\group\gp_creat.c
;	COMDAT ?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC ; create_remote, COMDAT

; 259  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 260  : 	validate_remote_create_entity_index (index);

  00009	8b 45 0c	 mov	 eax, DWORD PTR _index$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?assert_remote_create_entity_index@@YGHH@Z ; assert_remote_create_entity_index
  00012	85 c0		 test	 eax, eax
  00014	75 18		 jne	 SHORT $LN2@create_rem
  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0001b	83 c0 01	 add	 eax, 1
  0001e	50		 push	 eax
  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@DHBIKIGD@assert_remote_create_entity_ind@
  00029	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_rem:

; 261  : 
; 262  : 	#if DEBUG_MODULE
; 263  : 
; 264  : 	debug_log_entity_args (ENTITY_DEBUG_REMOTE, ENTITY_DEBUG_CREATE, NULL, type, index);
; 265  : 
; 266  : 	#endif
; 267  : 
; 268  : 	transmit_entity_comms_message (ENTITY_COMMS_CREATE, NULL, type, index, pargs);

  0002e	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  00031	50		 push	 eax
  00032	8b 4d 0c	 mov	 ecx, DWORD PTR _index$[ebp]
  00035	51		 push	 ecx
  00036	8b 55 08	 mov	 edx, DWORD PTR _type$[ebp]
  00039	52		 push	 edx
  0003a	6a 00		 push	 0
  0003c	6a 08		 push	 8
  0003e	e8 00 00 00 00	 call	 ?transmit_entity_comms_message@@YAXW4ENTITY_COMMS_MESSAGES@@PAUENTITY@@ZZ ; transmit_entity_comms_message
  00043	83 c4 14	 add	 esp, 20			; 00000014H

; 269  : 
; 270  : 	return (NULL);

  00046	33 c0		 xor	 eax, eax

; 271  : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	8b e5		 mov	 esp, ebp
  0004d	5d		 pop	 ebp
  0004e	c2 0c 00	 ret	 12			; 0000000cH
?create_remote@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP ; create_remote
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\group\gp_creat.c
;	COMDAT ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z
_TEXT	SEGMENT
tv189 = -92						; size = 4
tv278 = -88						; size = 4
tv181 = -88						; size = 4
tv270 = -84						; size = 4
tv252 = -84						; size = 4
tv223 = -84						; size = 4
tv173 = -84						; size = 4
_list_type$ = -16					; size = 4
_raw$ = -12						; size = 4
_force$ = -8						; size = 4
_en$ = -4						; size = 4
_type$ = 8						; size = 4
_index$ = 12						; size = 4
_pargs$ = 16						; size = 4
?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z PROC	; create_local, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	entity
; 82   : 		*en,
; 83   : 		*force;
; 84   : 
; 85   : 	group
; 86   : 		*raw;
; 87   : 
; 88   : 	list_types
; 89   : 		list_type;
; 90   : 
; 91   : 	////////////////////////////////////////
; 92   :   	//
; 93   :   	// VALIDATE
; 94   :   	//
; 95   : 	////////////////////////////////////////
; 96   : 
; 97   : 	validate_local_create_entity_index (index);

  00009	8b 45 0c	 mov	 eax, DWORD PTR _index$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?assert_local_create_entity_index@@YGHH@Z ; assert_local_create_entity_index
  00012	85 c0		 test	 eax, eax
  00014	75 18		 jne	 SHORT $LN2@create_loc
  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0001b	83 c0 11	 add	 eax, 17			; 00000011H
  0001e	50		 push	 eax
  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@OOPHFNJI@assert_local_create_entity_inde@
  00029	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_loc:

; 98   : 
; 99   : 	#if DEBUG_MODULE
; 100  : 
; 101  : 	debug_log_entity_args (ENTITY_DEBUG_LOCAL, ENTITY_DEBUG_CREATE, NULL, type, index);
; 102  : 
; 103  : 	#endif
; 104  : 
; 105  : 	en = get_free_entity (index);

  0002e	8b 45 0c	 mov	 eax, DWORD PTR _index$[ebp]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ?get_free_entity@@YGPAUENTITY@@H@Z ; get_free_entity
  00037	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 106  : 
; 107  : 	if (en)

  0003a	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0003e	0f 84 74 04 00
	00		 je	 $LN13@create_loc

; 108  : 	{
; 109  : 		////////////////////////////////////////
; 110  :    	//
; 111  :    	// MALLOC ENTITY DATA
; 112  :    	//
; 113  : 		////////////////////////////////////////
; 114  : 
; 115  : 		set_local_entity_type (en, type);

  00044	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00047	8b 4d 08	 mov	 ecx, DWORD PTR _type$[ebp]
  0004a	89 08		 mov	 DWORD PTR [eax], ecx

; 116  : 
; 117  : 		raw = (group *) malloc_fast_mem (sizeof (group));

  0004c	68 cc 00 00 00	 push	 204			; 000000ccH
  00051	e8 00 00 00 00	 call	 ?malloc_fast_memory@@YGPAXI@Z ; malloc_fast_memory
  00056	89 45 f4	 mov	 DWORD PTR _raw$[ebp], eax

; 118  : 
; 119  : 		set_local_entity_data (en, raw);

  00059	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0005c	8b 4d f4	 mov	 ecx, DWORD PTR _raw$[ebp]
  0005f	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 120  : 
; 121  : 		////////////////////////////////////////
; 122  :    	//
; 123  :    	// INITIALISE ALL ENTITY DATA TO 'WORKING' DEFAULT VALUES
; 124  : 		//
; 125  : 		// DO NOT USE ACCESS FUNCTIONS
; 126  : 		//
; 127  : 		// DO NOT USE RANDOM VALUES
; 128  : 		//
; 129  : 		////////////////////////////////////////
; 130  : 
; 131  : 		memset (raw, 0, sizeof (group));

  00062	68 cc 00 00 00	 push	 204			; 000000ccH
  00067	6a 00		 push	 0
  00069	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 _memset
  00072	83 c4 0c	 add	 esp, 12			; 0000000cH

; 132  : 
; 133  : 		raw->sub_type = ENTITY_SUB_TYPE_UNINITIALISED;

  00075	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00078	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 134  : 
; 135  : 		raw->side = ENTITY_SIDE_UNINITIALISED;

  0007e	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00081	8b 88 8c 00 00
	00		 mov	 ecx, DWORD PTR [eax+140]
  00087	81 c9 00 0c 00
	00		 or	 ecx, 3072		; 00000c00H
  0008d	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  00090	89 8a 8c 00 00
	00		 mov	 DWORD PTR [edx+140], ecx

; 136  : 
; 137  : 		raw->member_count = 0;

  00096	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00099	8b 88 88 00 00
	00		 mov	 ecx, DWORD PTR [eax+136]
  0009f	81 e1 ff ff 3f
	f0		 and	 ecx, -264241153		; f03fffffH
  000a5	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  000a8	89 8a 88 00 00
	00		 mov	 DWORD PTR [edx+136], ecx

; 138  : 
; 139  : 		raw->engage_enemy = FALSE;

  000ae	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  000b1	8b 88 84 00 00
	00		 mov	 ecx, DWORD PTR [eax+132]
  000b7	83 e1 fd	 and	 ecx, -3			; fffffffdH
  000ba	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  000bd	89 8a 84 00 00
	00		 mov	 DWORD PTR [edx+132], ecx

; 140  : 		
; 141  : 		raw->alive = TRUE;

  000c3	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  000c6	8b 88 84 00 00
	00		 mov	 ecx, DWORD PTR [eax+132]
  000cc	83 c9 01	 or	 ecx, 1
  000cf	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  000d2	89 8a 84 00 00
	00		 mov	 DWORD PTR [edx+132], ecx

; 142  : 
; 143  : 		strcpy (raw->division_name, "UNKNOWN");

  000d8	68 00 00 00 00	 push	 OFFSET ??_C@_07NFANNNEC@UNKNOWN@
  000dd	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  000e0	05 98 00 00 00	 add	 eax, 152		; 00000098H
  000e5	50		 push	 eax
  000e6	e8 00 00 00 00	 call	 _strcpy
  000eb	83 c4 08	 add	 esp, 8

; 144  : 
; 145  : 		raw->supplies.ammo_supply_level = 100.0;

  000ee	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  000f1	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42c80000
  000f9	f3 0f 11 40 7c	 movss	 DWORD PTR [eax+124], xmm0

; 146  : 		raw->supplies.fuel_supply_level = 100.0;

  000fe	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00101	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42c80000
  00109	f3 0f 11 80 80
	00 00 00	 movss	 DWORD PTR [eax+128], xmm0

; 147  : 
; 148  : 		////////////////////////////////////////
; 149  : 		//
; 150  : 		// OVERWRITE DEFAULT VALUES WITH GIVEN ATTRIBUTES
; 151  : 		//
; 152  : 		////////////////////////////////////////
; 153  : 
; 154  : 		set_local_entity_attributes (en, pargs);

  00111	8b 45 10	 mov	 eax, DWORD PTR _pargs$[ebp]
  00114	50		 push	 eax
  00115	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00118	51		 push	 ecx
  00119	e8 00 00 00 00	 call	 ?set_local_entity_attributes@@YGXPAUENTITY@@PAD@Z ; set_local_entity_attributes

; 155  : 
; 156  : 		////////////////////////////////////////
; 157  : 		//
; 158  : 		// CHECK MANDATORY ATTRIBUTES HAVE BEEN GIVEN
; 159  : 		//
; 160  : 		////////////////////////////////////////
; 161  : 
; 162  : 		ASSERT (raw->side != ENTITY_SIDE_NEUTRAL);

  0011e	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00121	8b 88 8c 00 00
	00		 mov	 ecx, DWORD PTR [eax+140]
  00127	c1 e9 0a	 shr	 ecx, 10			; 0000000aH
  0012a	83 e1 03	 and	 ecx, 3
  0012d	75 18		 jne	 SHORT $LN4@create_loc
  0012f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00134	83 c0 52	 add	 eax, 82			; 00000052H
  00137	50		 push	 eax
  00138	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0013d	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@MIOHHNEG@raw?9?$DOside?5?$CB?$DN?5ENTITY_SIDE_NEUTRA@
  00142	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_loc:

; 163  : 
; 164  : 		ASSERT (entity_sub_type_group_valid (raw->sub_type));

  00147	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  0014a	83 38 00	 cmp	 DWORD PTR [eax], 0
  0014d	7c 08		 jl	 SHORT $LN6@create_loc
  0014f	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00152	83 38 1a	 cmp	 DWORD PTR [eax], 26	; 0000001aH
  00155	7c 18		 jl	 SHORT $LN5@create_loc
$LN6@create_loc:
  00157	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0015c	83 c0 54	 add	 eax, 84			; 00000054H
  0015f	50		 push	 eax
  00160	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00165	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@NBOGKLAJ@entity_sub_type_group_valid?5?$CIra@
  0016a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_loc:

; 165  : 
; 166  : 		ASSERT (raw->sleep == 0.0);

  0016f	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00172	f3 0f 5a 40 5c	 cvtss2sd xmm0, DWORD PTR [eax+92]
  00177	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@0000000000000000
  0017f	9f		 lahf
  00180	f6 c4 44	 test	 ah, 68			; 00000044H
  00183	7b 18		 jnp	 SHORT $LN7@create_loc
  00185	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0018a	83 c0 56	 add	 eax, 86			; 00000056H
  0018d	50		 push	 eax
  0018e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00193	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@ONDHKKN@raw?9?$DOsleep?5?$DN?$DN?50?40@
  00198	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@create_loc:

; 167  : 
; 168  : 		////////////////////////////////////////
; 169  : 		//
; 170  : 		// RESOLVE DEFAULT VALUES
; 171  : 		//
; 172  : 		////////////////////////////////////////
; 173  : 
; 174  : 		//
; 175  : 		// side
; 176  : 		//
; 177  : 
; 178  : 		if (raw->side == ENTITY_SIDE_UNINITIALISED)

  0019d	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  001a0	8b 88 8c 00 00
	00		 mov	 ecx, DWORD PTR [eax+140]
  001a6	c1 e9 0a	 shr	 ecx, 10			; 0000000aH
  001a9	83 e1 03	 and	 ecx, 3
  001ac	83 f9 03	 cmp	 ecx, 3
  001af	0f 85 b1 00 00
	00		 jne	 $LN8@create_loc

; 179  : 		{
; 180  : 			raw->side = get_local_entity_int_value (raw->group_link.parent, INT_TYPE_SIDE);

  001b5	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  001b8	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  001bc	74 0d		 je	 SHORT $LN16@create_loc
  001be	8b 4d f4	 mov	 ecx, DWORD PTR _raw$[ebp]
  001c1	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  001c4	8b 02		 mov	 eax, DWORD PTR [edx]
  001c6	89 45 ac	 mov	 DWORD PTR tv173[ebp], eax
  001c9	eb 22		 jmp	 SHORT $LN17@create_loc
$LN16@create_loc:
  001cb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  001d1	83 c1 64	 add	 ecx, 100		; 00000064H
  001d4	51		 push	 ecx
  001d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  001da	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e0	52		 push	 edx
  001e1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e6	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv173[ebp], 0
$LN17@create_loc:
  001ed	b8 01 00 00 00	 mov	 eax, 1
  001f2	85 c0		 test	 eax, eax
  001f4	74 09		 je	 SHORT $LN18@create_loc
  001f6	c7 45 a8 bb 00
	00 00		 mov	 DWORD PTR tv181[ebp], 187 ; 000000bbH
  001fd	eb 22		 jmp	 SHORT $LN19@create_loc
$LN18@create_loc:
  001ff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00205	83 c1 64	 add	 ecx, 100		; 00000064H
  00208	51		 push	 ecx
  00209	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0020e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00214	52		 push	 edx
  00215	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0021a	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv181[ebp], 0
$LN19@create_loc:
  00221	68 bb 00 00 00	 push	 187			; 000000bbH
  00226	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00229	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0022c	51		 push	 ecx
  0022d	69 55 ac 5c 04
	00 00		 imul	 edx, DWORD PTR tv173[ebp], 1116
  00234	8b 45 a8	 mov	 eax, DWORD PTR tv181[ebp]
  00237	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0023e	ff d1		 call	 ecx
  00240	89 45 a4	 mov	 DWORD PTR tv189[ebp], eax
  00243	8b 55 a4	 mov	 edx, DWORD PTR tv189[ebp]
  00246	83 e2 03	 and	 edx, 3
  00249	c1 e2 0a	 shl	 edx, 10			; 0000000aH
  0024c	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  0024f	8b 88 8c 00 00
	00		 mov	 ecx, DWORD PTR [eax+140]
  00255	81 e1 ff f3 ff
	ff		 and	 ecx, -3073		; fffff3ffH
  0025b	0b ca		 or	 ecx, edx
  0025d	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  00260	89 8a 8c 00 00
	00		 mov	 DWORD PTR [edx+140], ecx
$LN8@create_loc:

; 181  : 		}
; 182  : 
; 183  : 		// for intermittent map updates of enemy
; 184  : 		raw->last_seen_time = 0.0;

  00266	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00269	0f 57 c0	 xorps	 xmm0, xmm0
  0026c	f3 0f 11 40 60	 movss	 DWORD PTR [eax+96], xmm0

; 185  : 		raw->last_known_position.x = MID_MAP_X;

  00271	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00274	f3 0f 10 05 30
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+48
  0027c	f3 0f 11 40 68	 movss	 DWORD PTR [eax+104], xmm0

; 186  : 		raw->last_known_position.y = MID_MAP_Y;

  00281	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00284	f3 0f 10 05 34
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+52
  0028c	f3 0f 11 40 6c	 movss	 DWORD PTR [eax+108], xmm0

; 187  : 		raw->last_known_position.z = MID_MAP_Z;

  00291	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00294	f3 0f 10 05 38
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+56
  0029c	f3 0f 11 40 70	 movss	 DWORD PTR [eax+112], xmm0

; 188  : 
; 189  : 		//
; 190  : 		// formation
; 191  : 		//
; 192  : 
; 193  : 		raw->group_formation = group_database [raw->sub_type].default_group_formation;

  002a1	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  002a4	6b 08 64	 imul	 ecx, DWORD PTR [eax], 100
  002a7	8b 91 28 00 00
	00		 mov	 edx, DWORD PTR ?group_database@@3PAUGROUP_DATA@@A[ecx+40]
  002ad	81 e2 ff ff 00
	00		 and	 edx, 65535		; 0000ffffH
  002b3	c1 e2 0a	 shl	 edx, 10			; 0000000aH
  002b6	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  002b9	8b 88 84 00 00
	00		 mov	 ecx, DWORD PTR [eax+132]
  002bf	81 e1 ff 03 00
	fc		 and	 ecx, -67107841		; fc0003ffH
  002c5	0b ca		 or	 ecx, edx
  002c7	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  002ca	89 8a 84 00 00
	00		 mov	 DWORD PTR [edx+132], ecx

; 194  : 
; 195  : 		ASSERT (raw->group_formation < FORMATION_INVALID);

  002d0	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  002d3	8b 88 84 00 00
	00		 mov	 ecx, DWORD PTR [eax+132]
  002d9	c1 e9 0a	 shr	 ecx, 10			; 0000000aH
  002dc	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  002e2	83 f9 0d	 cmp	 ecx, 13			; 0000000dH
  002e5	72 18		 jb	 SHORT $LN9@create_loc
  002e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  002ec	83 c0 73	 add	 eax, 115		; 00000073H
  002ef	50		 push	 eax
  002f0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  002f5	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@OCIELMEL@raw?9?$DOgroup_formation?5?$DM?5FORMATIO@
  002fa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN9@create_loc:

; 196  : 
; 197  : 		//
; 198  : 		// Assign callsigns
; 199  : 		//
; 200  : 
; 201  : 		raw->group_callsign = assign_group_callsign (en);

  002ff	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00302	50		 push	 eax
  00303	e8 00 00 00 00	 call	 ?assign_group_callsign@@YGHPAUENTITY@@@Z ; assign_group_callsign
  00308	89 45 ac	 mov	 DWORD PTR tv223[ebp], eax
  0030b	8b 4d ac	 mov	 ecx, DWORD PTR tv223[ebp]
  0030e	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00314	c1 e1 02	 shl	 ecx, 2
  00317	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  0031a	8b 82 84 00 00
	00		 mov	 eax, DWORD PTR [edx+132]
  00320	25 03 fc ff ff	 and	 eax, -1021		; fffffc03H
  00325	0b c1		 or	 eax, ecx
  00327	8b 4d f4	 mov	 ecx, DWORD PTR _raw$[ebp]
  0032a	89 81 84 00 00
	00		 mov	 DWORD PTR [ecx+132], eax

; 202  : 		
; 203  : 		////////////////////////////////////////
; 204  : 		//
; 205  : 		// LINK INTO SYSTEM
; 206  : 		//
; 207  : 		////////////////////////////////////////
; 208  : 
; 209  : 		ASSERT (raw->group_link.parent);

  00330	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00333	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  00337	75 1a		 jne	 SHORT $LN10@create_loc
  00339	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0033e	05 81 00 00 00	 add	 eax, 129		; 00000081H
  00343	50		 push	 eax
  00344	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00349	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@NNMMMMKC@raw?9?$DOgroup_link?4parent@
  0034e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN10@create_loc:

; 210  : 
; 211  : 		raw->group_list_type = group_database [raw->sub_type].group_list_type;

  00353	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00356	6b 08 64	 imul	 ecx, DWORD PTR [eax], 100
  00359	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  0035c	8b 81 10 00 00
	00		 mov	 eax, DWORD PTR ?group_database@@3PAUGROUP_DATA@@A[ecx+16]
  00362	89 42 58	 mov	 DWORD PTR [edx+88], eax

; 212  : 
; 213  : 		if (raw->group_list_type == LIST_TYPE_INDEPENDENT_GROUP)

  00365	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00368	83 78 58 14	 cmp	 DWORD PTR [eax+88], 20	; 00000014H
  0036c	75 43		 jne	 SHORT $LN12@create_loc

; 214  : 		{
; 215  : 			if (get_local_entity_type (raw->group_link.parent) == ENTITY_TYPE_KEYSITE)

  0036e	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00371	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  00375	74 0d		 je	 SHORT $LN20@create_loc
  00377	8b 4d f4	 mov	 ecx, DWORD PTR _raw$[ebp]
  0037a	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  0037d	8b 02		 mov	 eax, DWORD PTR [edx]
  0037f	89 45 ac	 mov	 DWORD PTR tv252[ebp], eax
  00382	eb 1d		 jmp	 SHORT $LN21@create_loc
$LN20@create_loc:
  00384	68 d7 00 00 00	 push	 215			; 000000d7H
  00389	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0038e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00394	51		 push	 ecx
  00395	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0039a	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv252[ebp], 0
$LN21@create_loc:
  003a1	83 7d ac 0f	 cmp	 DWORD PTR tv252[ebp], 15 ; 0000000fH
  003a5	75 0a		 jne	 SHORT $LN12@create_loc

; 216  : 			{
; 217  : 				raw->group_list_type = LIST_TYPE_KEYSITE_GROUP;

  003a7	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  003aa	c7 40 58 16 00
	00 00		 mov	 DWORD PTR [eax+88], 22	; 00000016H
$LN12@create_loc:

; 218  : 			}
; 219  : 		}
; 220  : 			
; 221  : 		insert_local_entity_into_parents_child_list (en, raw->group_list_type, raw->group_link.parent, raw->group_link.child_pred);

  003b1	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  003b4	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  003b7	51		 push	 ecx
  003b8	8b 55 f4	 mov	 edx, DWORD PTR _raw$[ebp]
  003bb	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  003be	50		 push	 eax
  003bf	8b 4d f4	 mov	 ecx, DWORD PTR _raw$[ebp]
  003c2	8b 51 58	 mov	 edx, DWORD PTR [ecx+88]
  003c5	52		 push	 edx
  003c6	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  003c9	50		 push	 eax
  003ca	e8 00 00 00 00	 call	 ?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z ; insert_local_entity_into_parents_child_list

; 222  : 
; 223  : 		#if DEBUG_MODULE
; 224  : 
; 225  : 		debug_log ("GP_CREAT: Created %s (%d) at %s (%d)",
; 226  : 										get_local_entity_string (en, STRING_TYPE_FULL_NAME),
; 227  : 										get_local_entity_index (en),
; 228  : 										get_local_entity_string (raw->group_link.parent, STRING_TYPE_KEYSITE_NAME),
; 229  : 										get_local_entity_index (raw->group_link.parent));
; 230  : 
; 231  : 		#endif
; 232  : 
; 233  : 		//
; 234  : 		// Link into registry
; 235  : 		//
; 236  : 
; 237  : 		list_type = (list_types) get_local_entity_int_value (en, INT_TYPE_REGISTRY_LIST_TYPE);

  003cf	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  003d3	74 0a		 je	 SHORT $LN22@create_loc
  003d5	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  003d8	8b 08		 mov	 ecx, DWORD PTR [eax]
  003da	89 4d ac	 mov	 DWORD PTR tv270[ebp], ecx
  003dd	eb 24		 jmp	 SHORT $LN23@create_loc
$LN22@create_loc:
  003df	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  003e5	81 c2 9d 00 00
	00		 add	 edx, 157		; 0000009dH
  003eb	52		 push	 edx
  003ec	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  003f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003f6	50		 push	 eax
  003f7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003fc	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv270[ebp], 0
$LN23@create_loc:
  00403	b9 01 00 00 00	 mov	 ecx, 1
  00408	85 c9		 test	 ecx, ecx
  0040a	74 09		 je	 SHORT $LN24@create_loc
  0040c	c7 45 a8 ae 00
	00 00		 mov	 DWORD PTR tv278[ebp], 174 ; 000000aeH
  00413	eb 24		 jmp	 SHORT $LN25@create_loc
$LN24@create_loc:
  00415	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  0041b	81 c2 9d 00 00
	00		 add	 edx, 157		; 0000009dH
  00421	52		 push	 edx
  00422	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00427	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0042c	50		 push	 eax
  0042d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00432	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv278[ebp], 0
$LN25@create_loc:
  00439	68 ae 00 00 00	 push	 174			; 000000aeH
  0043e	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00441	51		 push	 ecx
  00442	69 55 ac 5c 04
	00 00		 imul	 edx, DWORD PTR tv270[ebp], 1116
  00449	8b 45 a8	 mov	 eax, DWORD PTR tv278[ebp]
  0044c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00453	ff d1		 call	 ecx
  00455	89 45 f0	 mov	 DWORD PTR _list_type$[ebp], eax

; 238  : 
; 239  : 		if (list_type != LIST_TYPE_INVALID)

  00458	83 7d f0 00	 cmp	 DWORD PTR _list_type$[ebp], 0
  0045c	74 5a		 je	 SHORT $LN13@create_loc

; 240  : 		{
; 241  : 			force = get_local_force_entity ((entity_sides) raw->side);

  0045e	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  00461	8b 88 8c 00 00
	00		 mov	 ecx, DWORD PTR [eax+140]
  00467	c1 e9 0a	 shr	 ecx, 10			; 0000000aH
  0046a	83 e1 03	 and	 ecx, 3
  0046d	51		 push	 ecx
  0046e	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00473	89 45 f8	 mov	 DWORD PTR _force$[ebp], eax

; 242  : 
; 243  : 			ASSERT (force);

  00476	83 7d f8 00	 cmp	 DWORD PTR _force$[ebp], 0
  0047a	75 1a		 jne	 SHORT $LN14@create_loc
  0047c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z@4JA
  00481	05 a3 00 00 00	 add	 eax, 163		; 000000a3H
  00486	50		 push	 eax
  00487	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LMBGKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0048c	68 00 00 00 00	 push	 OFFSET ??_C@_05BINPNAAL@force@
  00491	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN14@create_loc:

; 244  : 
; 245  : 			insert_local_entity_into_parents_child_list (en, list_type, force, NULL);

  00496	6a 00		 push	 0
  00498	8b 45 f8	 mov	 eax, DWORD PTR _force$[ebp]
  0049b	50		 push	 eax
  0049c	8b 4d f0	 mov	 ecx, DWORD PTR _list_type$[ebp]
  0049f	51		 push	 ecx
  004a0	8b 55 fc	 mov	 edx, DWORD PTR _en$[ebp]
  004a3	52		 push	 edx
  004a4	e8 00 00 00 00	 call	 ?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z ; insert_local_entity_into_parents_child_list

; 246  : 
; 247  : 			add_group_type_to_force_info (force, raw->sub_type);

  004a9	8b 45 f4	 mov	 eax, DWORD PTR _raw$[ebp]
  004ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  004ae	51		 push	 ecx
  004af	8b 55 f8	 mov	 edx, DWORD PTR _force$[ebp]
  004b2	52		 push	 edx
  004b3	e8 00 00 00 00	 call	 ?add_group_type_to_force_info@@YGXPAUENTITY@@H@Z ; add_group_type_to_force_info
$LN13@create_loc:

; 248  : 		}
; 249  : 	}
; 250  : 
; 251  : 	return (en);

  004b8	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]

; 252  : }

  004bb	5f		 pop	 edi
  004bc	5e		 pop	 esi
  004bd	5b		 pop	 ebx
  004be	8b e5		 mov	 esp, ebp
  004c0	5d		 pop	 ebp
  004c1	c2 0c 00	 ret	 12			; 0000000cH
?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ENDP	; create_local
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\group\gp_creat.c
;	COMDAT ?overload_group_create_functions@@YGXXZ
_TEXT	SEGMENT
?overload_group_create_functions@@YGXXZ PROC		; overload_group_create_functions, COMDAT

; 326  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 327  : 	fn_create_local_entity[ENTITY_TYPE_GROUP]											= create_local;

  00009	b8 04 00 00 00	 mov	 eax, 4
  0000e	6b c8 0c	 imul	 ecx, eax, 12
  00011	c7 81 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fn_create_local_entity@@3PAP6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA[ecx], OFFSET ?create_local@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_local

; 328  : 
; 329  : 	fn_create_client_server_entity[ENTITY_TYPE_GROUP][COMMS_MODEL_SERVER]	= create_server;

  0001b	b8 08 00 00 00	 mov	 eax, 8
  00020	6b c8 0c	 imul	 ecx, eax, 12
  00023	ba 04 00 00 00	 mov	 edx, 4
  00028	6b c2 00	 imul	 eax, edx, 0
  0002b	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_create_client_server_entity@@3PAY01P6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA[ecx+eax], OFFSET ?create_server@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_server

; 330  : 
; 331  : 	fn_create_client_server_entity[ENTITY_TYPE_GROUP][COMMS_MODEL_CLIENT]	= create_client;

  00036	b8 08 00 00 00	 mov	 eax, 8
  0003b	6b c8 0c	 imul	 ecx, eax, 12
  0003e	ba 04 00 00 00	 mov	 edx, 4
  00043	c1 e2 00	 shl	 edx, 0
  00046	c7 84 11 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_create_client_server_entity@@3PAY01P6GPAUENTITY@@W4ENTITY_TYPES@@HPAD@ZA[ecx+edx], OFFSET ?create_client@@YGPAUENTITY@@W4ENTITY_TYPES@@HPAD@Z ; create_client

; 332  : }

  00051	5f		 pop	 edi
  00052	5e		 pop	 esi
  00053	5b		 pop	 ebx
  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c3		 ret	 0
?overload_group_create_functions@@YGXXZ ENDP		; overload_group_create_functions
_TEXT	ENDS
END
