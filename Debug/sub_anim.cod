; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	_fmodf
PUBLIC	?fmod@@YGMMM@Z					; fmod
PUBLIC	?object_contains_sub_object_type@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; object_contains_sub_object_type
PUBLIC	?sub_object_contains_sub_object_type@@YGHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@HH0@Z ; sub_object_contains_sub_object_type
PUBLIC	?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; count_sub_object_type_depth
PUBLIC	?get_sub_object_relative_position@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUVEC3D@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; get_sub_object_relative_position
PUBLIC	?set_sub_object_type_visible_status@@YGHPAUOBJECT_3D_INSTANCE@@HH@Z ; set_sub_object_type_visible_status
PUBLIC	?set_sub_object_type_relative_scale@@YGHPAUOBJECT_3D_INSTANCE@@HPAUVEC3D@@@Z ; set_sub_object_type_relative_scale
PUBLIC	?set_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z ; set_sub_object_type_heading_pitch_and_roll
PUBLIC	?modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z ; modify_sub_object_type_heading_pitch_and_roll
PUBLIC	?activate_and_modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HHMMM@Z ; activate_and_modify_sub_object_type_heading_pitch_and_roll
PUBLIC	?interpolate_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HM@Z ; interpolate_sub_object_type_heading_pitch_and_roll
PUBLIC	__real@40c90fdb
EXTRN	_memcpy:PROC
EXTRN	_fmod:PROC
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z:PROC ; find_object_3d_sub_object_from_sub_object
EXTRN	__fltused:DWORD
;	COMDAT __real@40c90fdb
CONST	SEGMENT
__real@40c90fdb DD 040c90fdbr			; 6.28319
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?interpolate_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HM@Z
_TEXT	SEGMENT
_max_angle$ = -72					; size = 4
_min_angle$ = -68					; size = 4
_found_flag$ = -64					; size = 4
_depth$ = -60						; size = 4
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_scale_value$ = 16					; size = 4
?interpolate_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HM@Z PROC ; interpolate_sub_object_type_heading_pitch_and_roll, COMDAT

; 409  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 410  : 	object_3d_sub_object_search_data
; 411  : 		search;
; 412  : 
; 413  : 	int
; 414  : 		depth,
; 415  : 		found_flag;
; 416  : 
; 417  : 	float
; 418  : 		min_angle,
; 419  : 		max_angle;
; 420  : 
; 421  : 	depth = 0;

  0000c	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0

; 422  : 
; 423  : 	found_flag = FALSE;

  00013	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 0
$LN2@interpolat:

; 424  : 
; 425  : 	while (TRUE)

  0001a	b8 01 00 00 00	 mov	 eax, 1
  0001f	85 c0		 test	 eax, eax
  00021	0f 84 cd 00 00
	00		 je	 $LN3@interpolat

; 426  : 	{
; 427  : 		search.search_depth = depth;

  00027	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  0002a	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 428  : 		search.search_object = inst3d;

  0002d	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00030	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 429  : 		search.sub_object_index = sub_object_type;

  00033	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00036	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 430  : 
; 431  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00039	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0003c	50		 push	 eax
  0003d	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00042	83 f8 01	 cmp	 eax, 1
  00045	0f 85 99 00 00
	00		 jne	 $LN4@interpolat

; 432  : 		{
; 433  : 			//
; 434  : 			// heading
; 435  : 			//
; 436  : 
; 437  : 			min_angle = search.relative_heading_minimum;

  0004b	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _search$[ebp+24]
  00050	f3 0f 11 45 bc	 movss	 DWORD PTR _min_angle$[ebp], xmm0

; 438  : 			max_angle = search.relative_heading_maximum;

  00055	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _search$[ebp+28]
  0005a	f3 0f 11 45 b8	 movss	 DWORD PTR _max_angle$[ebp], xmm0

; 439  : 
; 440  : 			search.result_sub_object->relative_heading = min_angle + ( scale_value * ( max_angle - min_angle ) );

  0005f	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR _max_angle$[ebp]
  00064	f3 0f 5c 45 bc	 subss	 xmm0, DWORD PTR _min_angle$[ebp]
  00069	f3 0f 59 45 10	 mulss	 xmm0, DWORD PTR _scale_value$[ebp]
  0006e	f3 0f 58 45 bc	 addss	 xmm0, DWORD PTR _min_angle$[ebp]
  00073	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00076	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 441  : 
; 442  : 			//
; 443  : 			// pitch
; 444  : 			//
; 445  : 
; 446  : 			min_angle = search.relative_pitch_minimum;

  0007b	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _search$[ebp+36]
  00080	f3 0f 11 45 bc	 movss	 DWORD PTR _min_angle$[ebp], xmm0

; 447  : 			max_angle = search.relative_pitch_maximum;

  00085	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _search$[ebp+40]
  0008a	f3 0f 11 45 b8	 movss	 DWORD PTR _max_angle$[ebp], xmm0

; 448  : 
; 449  : 			search.result_sub_object->relative_pitch = min_angle + ( scale_value * ( max_angle - min_angle ) );

  0008f	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR _max_angle$[ebp]
  00094	f3 0f 5c 45 bc	 subss	 xmm0, DWORD PTR _min_angle$[ebp]
  00099	f3 0f 59 45 10	 mulss	 xmm0, DWORD PTR _scale_value$[ebp]
  0009e	f3 0f 58 45 bc	 addss	 xmm0, DWORD PTR _min_angle$[ebp]
  000a3	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  000a6	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 450  : 
; 451  : 			//
; 452  : 			// roll
; 453  : 			//
; 454  : 
; 455  : 			min_angle = search.relative_roll_minimum;

  000ab	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _search$[ebp+48]
  000b0	f3 0f 11 45 bc	 movss	 DWORD PTR _min_angle$[ebp], xmm0

; 456  : 			max_angle = search.relative_roll_maximum;

  000b5	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _search$[ebp+52]
  000ba	f3 0f 11 45 b8	 movss	 DWORD PTR _max_angle$[ebp], xmm0

; 457  : 
; 458  : 			search.result_sub_object->relative_roll = min_angle + ( scale_value * ( max_angle - min_angle ) );

  000bf	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR _max_angle$[ebp]
  000c4	f3 0f 5c 45 bc	 subss	 xmm0, DWORD PTR _min_angle$[ebp]
  000c9	f3 0f 59 45 10	 mulss	 xmm0, DWORD PTR _scale_value$[ebp]
  000ce	f3 0f 58 45 bc	 addss	 xmm0, DWORD PTR _min_angle$[ebp]
  000d3	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  000d6	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0

; 459  : 
; 460  : 			found_flag = TRUE;

  000db	c7 45 c0 01 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 1

; 461  : 
; 462  : 		}
; 463  : 		else

  000e2	eb 02		 jmp	 SHORT $LN5@interpolat
$LN4@interpolat:

; 464  : 		{
; 465  : 			break;

  000e4	eb 0e		 jmp	 SHORT $LN3@interpolat
$LN5@interpolat:

; 466  : 		}
; 467  : 
; 468  : 		depth++;

  000e6	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  000e9	83 c0 01	 add	 eax, 1
  000ec	89 45 c4	 mov	 DWORD PTR _depth$[ebp], eax

; 469  : 	}

  000ef	e9 26 ff ff ff	 jmp	 $LN2@interpolat
$LN3@interpolat:

; 470  : 
; 471  : 	return found_flag;

  000f4	8b 45 c0	 mov	 eax, DWORD PTR _found_flag$[ebp]

; 472  : }

  000f7	5f		 pop	 edi
  000f8	5e		 pop	 esi
  000f9	5b		 pop	 ebx
  000fa	8b e5		 mov	 esp, ebp
  000fc	5d		 pop	 ebp
  000fd	c2 0c 00	 ret	 12			; 0000000cH
?interpolate_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HM@Z ENDP ; interpolate_sub_object_type_heading_pitch_and_roll
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?activate_and_modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HHMMM@Z
_TEXT	SEGMENT
_found_flag$ = -64					; size = 4
_depth$ = -60						; size = 4
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_visible$ = 16						; size = 4
_dh$ = 20						; size = 4
_dp$ = 24						; size = 4
_dr$ = 28						; size = 4
?activate_and_modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HHMMM@Z PROC ; activate_and_modify_sub_object_type_heading_pitch_and_roll, COMDAT

; 365  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 366  : 	object_3d_sub_object_search_data
; 367  : 		search;
; 368  : 
; 369  : 	int
; 370  : 		depth,
; 371  : 		found_flag;
; 372  : 
; 373  : 	depth = 0;

  0000c	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0

; 374  : 
; 375  : 	found_flag = FALSE;

  00013	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 0
$LN2@activate_a:

; 376  : 
; 377  : 	while (TRUE)

  0001a	b8 01 00 00 00	 mov	 eax, 1
  0001f	85 c0		 test	 eax, eax
  00021	0f 84 d8 00 00
	00		 je	 $LN3@activate_a

; 378  : 	{
; 379  : 		search.search_depth = depth;

  00027	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  0002a	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 380  : 		search.search_object = inst3d;

  0002d	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00030	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 381  : 		search.sub_object_index = sub_object_type;

  00033	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00036	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 382  : 
; 383  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00039	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0003c	50		 push	 eax
  0003d	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00042	83 f8 01	 cmp	 eax, 1
  00045	0f 85 a4 00 00
	00		 jne	 $LN4@activate_a

; 384  : 		{
; 385  : 			search.result_sub_object->visible_object = visible;

  0004b	8b 45 10	 mov	 eax, DWORD PTR _visible$[ebp]
  0004e	83 e0 01	 and	 eax, 1
  00051	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00054	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00057	83 e2 fe	 and	 edx, -2			; fffffffeH
  0005a	0b d0		 or	 edx, eax
  0005c	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  0005f	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 386  : 
; 387  : 			search.result_sub_object->relative_heading = wrap_angle (search.result_sub_object->relative_heading + dh);

  00062	51		 push	 ecx
  00063	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40c90fdb
  0006b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00070	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00073	f3 0f 10 40 18	 movss	 xmm0, DWORD PTR [eax+24]
  00078	f3 0f 58 45 14	 addss	 xmm0, DWORD PTR _dh$[ebp]
  0007d	51		 push	 ecx
  0007e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00083	e8 00 00 00 00	 call	 ?fmod@@YGMMM@Z		; fmod
  00088	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0008b	d9 59 18	 fstp	 DWORD PTR [ecx+24]

; 388  : 			search.result_sub_object->relative_pitch = wrap_angle (search.result_sub_object->relative_pitch + dp);

  0008e	51		 push	 ecx
  0008f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40c90fdb
  00097	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0009c	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  0009f	f3 0f 10 40 1c	 movss	 xmm0, DWORD PTR [eax+28]
  000a4	f3 0f 58 45 18	 addss	 xmm0, DWORD PTR _dp$[ebp]
  000a9	51		 push	 ecx
  000aa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000af	e8 00 00 00 00	 call	 ?fmod@@YGMMM@Z		; fmod
  000b4	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  000b7	d9 59 1c	 fstp	 DWORD PTR [ecx+28]

; 389  : 			search.result_sub_object->relative_roll = wrap_angle (search.result_sub_object->relative_roll + dr);

  000ba	51		 push	 ecx
  000bb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40c90fdb
  000c3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c8	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  000cb	f3 0f 10 40 20	 movss	 xmm0, DWORD PTR [eax+32]
  000d0	f3 0f 58 45 1c	 addss	 xmm0, DWORD PTR _dr$[ebp]
  000d5	51		 push	 ecx
  000d6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000db	e8 00 00 00 00	 call	 ?fmod@@YGMMM@Z		; fmod
  000e0	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  000e3	d9 59 20	 fstp	 DWORD PTR [ecx+32]

; 390  : 
; 391  : 			found_flag = TRUE;

  000e6	c7 45 c0 01 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 1

; 392  : 		}
; 393  : 		else

  000ed	eb 02		 jmp	 SHORT $LN5@activate_a
$LN4@activate_a:

; 394  : 		{
; 395  : 			break;

  000ef	eb 0e		 jmp	 SHORT $LN3@activate_a
$LN5@activate_a:

; 396  : 		}
; 397  : 
; 398  : 		depth++;

  000f1	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  000f4	83 c0 01	 add	 eax, 1
  000f7	89 45 c4	 mov	 DWORD PTR _depth$[ebp], eax

; 399  : 	}

  000fa	e9 1b ff ff ff	 jmp	 $LN2@activate_a
$LN3@activate_a:

; 400  : 
; 401  : 	return found_flag;

  000ff	8b 45 c0	 mov	 eax, DWORD PTR _found_flag$[ebp]

; 402  : }

  00102	5f		 pop	 edi
  00103	5e		 pop	 esi
  00104	5b		 pop	 ebx
  00105	8b e5		 mov	 esp, ebp
  00107	5d		 pop	 ebp
  00108	c2 18 00	 ret	 24			; 00000018H
?activate_and_modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HHMMM@Z ENDP ; activate_and_modify_sub_object_type_heading_pitch_and_roll
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z
_TEXT	SEGMENT
_depth$ = -60						; size = 4
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_dh$ = 16						; size = 4
_dp$ = 20						; size = 4
_dr$ = 24						; size = 4
?modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z PROC ; modify_sub_object_type_heading_pitch_and_roll, COMDAT

; 328  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 329  : 	object_3d_sub_object_search_data
; 330  : 		search;
; 331  : 
; 332  : 	int
; 333  : 		depth;
; 334  : 
; 335  : 	depth = 0;

  00009	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0
$LN2@modify_sub:

; 336  : 
; 337  : 	while (TRUE)

  00010	b8 01 00 00 00	 mov	 eax, 1
  00015	85 c0		 test	 eax, eax
  00017	0f 84 ba 00 00
	00		 je	 $LN3@modify_sub

; 338  : 	{
; 339  : 		search.search_depth = depth;

  0001d	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  00020	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 340  : 		search.search_object = inst3d;

  00023	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00026	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 341  : 		search.sub_object_index = sub_object_type;

  00029	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  0002c	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 342  : 
; 343  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0002f	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00032	50		 push	 eax
  00033	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00038	83 f8 01	 cmp	 eax, 1
  0003b	0f 85 86 00 00
	00		 jne	 $LN4@modify_sub

; 344  : 		{
; 345  : 			search.result_sub_object->relative_heading = wrap_angle (search.result_sub_object->relative_heading + dh);

  00041	51		 push	 ecx
  00042	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40c90fdb
  0004a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0004f	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00052	f3 0f 10 40 18	 movss	 xmm0, DWORD PTR [eax+24]
  00057	f3 0f 58 45 10	 addss	 xmm0, DWORD PTR _dh$[ebp]
  0005c	51		 push	 ecx
  0005d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00062	e8 00 00 00 00	 call	 ?fmod@@YGMMM@Z		; fmod
  00067	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0006a	d9 59 18	 fstp	 DWORD PTR [ecx+24]

; 346  : 			search.result_sub_object->relative_pitch = wrap_angle (search.result_sub_object->relative_pitch + dp);

  0006d	51		 push	 ecx
  0006e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40c90fdb
  00076	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0007b	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  0007e	f3 0f 10 40 1c	 movss	 xmm0, DWORD PTR [eax+28]
  00083	f3 0f 58 45 14	 addss	 xmm0, DWORD PTR _dp$[ebp]
  00088	51		 push	 ecx
  00089	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0008e	e8 00 00 00 00	 call	 ?fmod@@YGMMM@Z		; fmod
  00093	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00096	d9 59 1c	 fstp	 DWORD PTR [ecx+28]

; 347  : 			search.result_sub_object->relative_roll = wrap_angle (search.result_sub_object->relative_roll + dr);

  00099	51		 push	 ecx
  0009a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40c90fdb
  000a2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a7	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  000aa	f3 0f 10 40 20	 movss	 xmm0, DWORD PTR [eax+32]
  000af	f3 0f 58 45 18	 addss	 xmm0, DWORD PTR _dr$[ebp]
  000b4	51		 push	 ecx
  000b5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ba	e8 00 00 00 00	 call	 ?fmod@@YGMMM@Z		; fmod
  000bf	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  000c2	d9 59 20	 fstp	 DWORD PTR [ecx+32]

; 348  : 		}
; 349  : 		else

  000c5	eb 02		 jmp	 SHORT $LN5@modify_sub
$LN4@modify_sub:

; 350  : 		{
; 351  : 			break;

  000c7	eb 0e		 jmp	 SHORT $LN3@modify_sub
$LN5@modify_sub:

; 352  : 		}
; 353  : 
; 354  : 		depth++;

  000c9	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  000cc	83 c0 01	 add	 eax, 1
  000cf	89 45 c4	 mov	 DWORD PTR _depth$[ebp], eax

; 355  : 	}

  000d2	e9 39 ff ff ff	 jmp	 $LN2@modify_sub
$LN3@modify_sub:

; 356  : 
; 357  : 	return TRUE;

  000d7	b8 01 00 00 00	 mov	 eax, 1

; 358  : }

  000dc	5f		 pop	 edi
  000dd	5e		 pop	 esi
  000de	5b		 pop	 ebx
  000df	8b e5		 mov	 esp, ebp
  000e1	5d		 pop	 ebp
  000e2	c2 14 00	 ret	 20			; 00000014H
?modify_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z ENDP ; modify_sub_object_type_heading_pitch_and_roll
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?set_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z
_TEXT	SEGMENT
_depth$ = -60						; size = 4
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_heading$ = 16						; size = 4
_pitch$ = 20						; size = 4
_roll$ = 24						; size = 4
?set_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z PROC ; set_sub_object_type_heading_pitch_and_roll, COMDAT

; 291  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 292  : 	object_3d_sub_object_search_data
; 293  : 		search;
; 294  : 
; 295  : 	int
; 296  : 		depth;
; 297  : 
; 298  : 	depth = 0;

  00009	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0
$LN2@set_sub_ob:

; 299  : 
; 300  : 	while (TRUE)

  00010	b8 01 00 00 00	 mov	 eax, 1
  00015	85 c0		 test	 eax, eax
  00017	74 56		 je	 SHORT $LN3@set_sub_ob

; 301  : 	{
; 302  : 		search.search_depth = depth;

  00019	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  0001c	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 303  : 		search.search_object = inst3d;

  0001f	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00022	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 304  : 		search.sub_object_index = sub_object_type;

  00025	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00028	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 305  : 
; 306  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0002b	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0002e	50		 push	 eax
  0002f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00034	83 f8 01	 cmp	 eax, 1
  00037	75 29		 jne	 SHORT $LN4@set_sub_ob

; 307  : 		{
; 308  : 			search.result_sub_object->relative_heading = heading;

  00039	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  0003c	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _heading$[ebp]
  00041	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 309  : 			search.result_sub_object->relative_pitch = pitch;

  00046	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00049	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _pitch$[ebp]
  0004e	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 310  : 			search.result_sub_object->relative_roll = roll;

  00053	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00056	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _roll$[ebp]
  0005b	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0

; 311  : 		}
; 312  : 		else

  00060	eb 02		 jmp	 SHORT $LN5@set_sub_ob
$LN4@set_sub_ob:

; 313  : 		{
; 314  : 			break;

  00062	eb 0b		 jmp	 SHORT $LN3@set_sub_ob
$LN5@set_sub_ob:

; 315  : 		}
; 316  : 
; 317  : 		depth++;

  00064	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  00067	83 c0 01	 add	 eax, 1
  0006a	89 45 c4	 mov	 DWORD PTR _depth$[ebp], eax

; 318  : 	}

  0006d	eb a1		 jmp	 SHORT $LN2@set_sub_ob
$LN3@set_sub_ob:

; 319  : 
; 320  : 	return TRUE;

  0006f	b8 01 00 00 00	 mov	 eax, 1

; 321  : }

  00074	5f		 pop	 edi
  00075	5e		 pop	 esi
  00076	5b		 pop	 ebx
  00077	8b e5		 mov	 esp, ebp
  00079	5d		 pop	 ebp
  0007a	c2 14 00	 ret	 20			; 00000014H
?set_sub_object_type_heading_pitch_and_roll@@YGHPAUOBJECT_3D_INSTANCE@@HMMM@Z ENDP ; set_sub_object_type_heading_pitch_and_roll
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?set_sub_object_type_relative_scale@@YGHPAUOBJECT_3D_INSTANCE@@HPAUVEC3D@@@Z
_TEXT	SEGMENT
_found_flag$ = -64					; size = 4
_depth$ = -60						; size = 4
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_relative_scale$ = 16					; size = 4
?set_sub_object_type_relative_scale@@YGHPAUOBJECT_3D_INSTANCE@@HPAUVEC3D@@@Z PROC ; set_sub_object_type_relative_scale, COMDAT

; 249  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 250  : 	object_3d_sub_object_search_data
; 251  : 		search;
; 252  : 
; 253  : 	int
; 254  : 		depth,
; 255  : 		found_flag;
; 256  : 
; 257  : 	depth = 0;

  0000c	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0

; 258  : 
; 259  : 	found_flag = FALSE;

  00013	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 0
$LN2@set_sub_ob:

; 260  : 
; 261  : 	while (TRUE)

  0001a	b8 01 00 00 00	 mov	 eax, 1
  0001f	85 c0		 test	 eax, eax
  00021	74 59		 je	 SHORT $LN3@set_sub_ob

; 262  : 	{
; 263  : 		search.search_depth = depth;

  00023	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  00026	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 264  : 		search.search_object = inst3d;

  00029	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0002c	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 265  : 		search.sub_object_index = sub_object_type;

  0002f	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00032	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 266  : 
; 267  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00035	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00038	50		 push	 eax
  00039	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0003e	83 f8 01	 cmp	 eax, 1
  00041	75 2c		 jne	 SHORT $LN4@set_sub_ob

; 268  : 		{
; 269  : 			search.result_sub_object->relative_scale.x = relative_scale->x;

  00043	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00046	8b 4d 10	 mov	 ecx, DWORD PTR _relative_scale$[ebp]
  00049	8b 11		 mov	 edx, DWORD PTR [ecx]
  0004b	89 50 24	 mov	 DWORD PTR [eax+36], edx

; 270  : 			search.result_sub_object->relative_scale.y = relative_scale->y;

  0004e	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00051	8b 4d 10	 mov	 ecx, DWORD PTR _relative_scale$[ebp]
  00054	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00057	89 50 28	 mov	 DWORD PTR [eax+40], edx

; 271  : 			search.result_sub_object->relative_scale.z = relative_scale->z;

  0005a	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  0005d	8b 4d 10	 mov	 ecx, DWORD PTR _relative_scale$[ebp]
  00060	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00063	89 50 2c	 mov	 DWORD PTR [eax+44], edx

; 272  : 
; 273  : 			found_flag = TRUE;

  00066	c7 45 c0 01 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 1

; 274  : 		}
; 275  : 		else

  0006d	eb 02		 jmp	 SHORT $LN5@set_sub_ob
$LN4@set_sub_ob:

; 276  : 		{
; 277  : 			break;

  0006f	eb 0b		 jmp	 SHORT $LN3@set_sub_ob
$LN5@set_sub_ob:

; 278  : 		}
; 279  : 
; 280  : 		depth++;

  00071	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  00074	83 c0 01	 add	 eax, 1
  00077	89 45 c4	 mov	 DWORD PTR _depth$[ebp], eax

; 281  : 	}

  0007a	eb 9e		 jmp	 SHORT $LN2@set_sub_ob
$LN3@set_sub_ob:

; 282  : 
; 283  : 	return found_flag;

  0007c	8b 45 c0	 mov	 eax, DWORD PTR _found_flag$[ebp]

; 284  : }

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 0c 00	 ret	 12			; 0000000cH
?set_sub_object_type_relative_scale@@YGHPAUOBJECT_3D_INSTANCE@@HPAUVEC3D@@@Z ENDP ; set_sub_object_type_relative_scale
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?set_sub_object_type_visible_status@@YGHPAUOBJECT_3D_INSTANCE@@HH@Z
_TEXT	SEGMENT
_found_flag$ = -64					; size = 4
_depth$ = -60						; size = 4
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_visible$ = 16						; size = 4
?set_sub_object_type_visible_status@@YGHPAUOBJECT_3D_INSTANCE@@HH@Z PROC ; set_sub_object_type_visible_status, COMDAT

; 209  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 210  : 	object_3d_sub_object_search_data
; 211  : 		search;
; 212  : 
; 213  : 	int
; 214  : 		depth,
; 215  : 		found_flag;
; 216  : 
; 217  : 	depth = 0;

  0000c	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0

; 218  : 
; 219  : 	found_flag = FALSE;

  00013	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 0
$LN2@set_sub_ob:

; 220  : 
; 221  : 	while (TRUE)

  0001a	b8 01 00 00 00	 mov	 eax, 1
  0001f	85 c0		 test	 eax, eax
  00021	74 4d		 je	 SHORT $LN3@set_sub_ob

; 222  : 	{
; 223  : 		search.search_object = inst3d;

  00023	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00026	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 224  : 		search.search_depth = depth;

  00029	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  0002c	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 225  : 		search.sub_object_index = sub_object_type;

  0002f	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00032	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 226  : 
; 227  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00035	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00038	50		 push	 eax
  00039	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0003e	83 f8 01	 cmp	 eax, 1
  00041	75 20		 jne	 SHORT $LN4@set_sub_ob

; 228  : 		{
; 229  : 			search.result_sub_object->visible_object = visible;

  00043	8b 45 10	 mov	 eax, DWORD PTR _visible$[ebp]
  00046	83 e0 01	 and	 eax, 1
  00049	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0004c	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0004f	83 e2 fe	 and	 edx, -2			; fffffffeH
  00052	0b d0		 or	 edx, eax
  00054	8b 45 cc	 mov	 eax, DWORD PTR _search$[ebp+4]
  00057	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 230  : 
; 231  : 			found_flag = TRUE;

  0005a	c7 45 c0 01 00
	00 00		 mov	 DWORD PTR _found_flag$[ebp], 1

; 232  : 		}
; 233  : 		else

  00061	eb 02		 jmp	 SHORT $LN5@set_sub_ob
$LN4@set_sub_ob:

; 234  : 		{
; 235  : 			break;

  00063	eb 0b		 jmp	 SHORT $LN3@set_sub_ob
$LN5@set_sub_ob:

; 236  : 		}
; 237  : 
; 238  : 		depth++;

  00065	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  00068	83 c0 01	 add	 eax, 1
  0006b	89 45 c4	 mov	 DWORD PTR _depth$[ebp], eax

; 239  : 	}

  0006e	eb aa		 jmp	 SHORT $LN2@set_sub_ob
$LN3@set_sub_ob:

; 240  : 
; 241  : 	return found_flag;

  00070	8b 45 c0	 mov	 eax, DWORD PTR _found_flag$[ebp]

; 242  : }

  00073	5f		 pop	 edi
  00074	5e		 pop	 esi
  00075	5b		 pop	 ebx
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c2 0c 00	 ret	 12			; 0000000cH
?set_sub_object_type_visible_status@@YGHPAUOBJECT_3D_INSTANCE@@HH@Z ENDP ; set_sub_object_type_visible_status
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?get_sub_object_relative_position@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUVEC3D@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z
_TEXT	SEGMENT
_rel_vp$ = -104						; size = 48
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_depth$ = 16						; size = 4
_relative_position$ = 20				; size = 4
_search_result$ = 24					; size = 4
?get_sub_object_relative_position@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUVEC3D@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z PROC ; get_sub_object_relative_position, COMDAT

; 168  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a8 00 00
	00		 sub	 esp, 168		; 000000a8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 169  : 	object_3d_sub_object_search_data
; 170  : 		search;
; 171  : 
; 172  : 	viewpoint
; 173  : 		rel_vp;
; 174  : 
; 175  : 	search.search_object = inst3d;

  0000c	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0000f	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 176  : 	search.search_depth = depth;

  00012	8b 45 10	 mov	 eax, DWORD PTR _depth$[ebp]
  00015	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 177  : 	search.sub_object_index = sub_object_type;

  00018	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  0001b	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 178  : 
; 179  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0001e	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00021	50		 push	 eax
  00022	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00027	83 f8 01	 cmp	 eax, 1
  0002a	75 6c		 jne	 SHORT $LN2@get_sub_ob

; 180  : 	{
; 181  : 		get_3d_sub_object_world_viewpoint (search.result_sub_object, &rel_vp);

  0002c	8d 45 98	 lea	 eax, DWORD PTR _rel_vp$[ebp]
  0002f	50		 push	 eax
  00030	8b 4d cc	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 182  : 
; 183  : //		relative_position->x = search.object->relative_position.x;
; 184  : //		relative_position->y = search.object->relative_position.y;
; 185  : //		relative_position->z = search.object->relative_position.z;
; 186  : 
; 187  : 		relative_position->x = rel_vp.x - inst3d->vp.x;

  00039	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0003c	f3 0f 10 45 98	 movss	 xmm0, DWORD PTR _rel_vp$[ebp]
  00041	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  00046	8b 4d 14	 mov	 ecx, DWORD PTR _relative_position$[ebp]
  00049	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 188  : 		relative_position->y = rel_vp.y - inst3d->vp.y;

  0004d	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00050	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _rel_vp$[ebp+4]
  00055	f3 0f 5c 40 0c	 subss	 xmm0, DWORD PTR [eax+12]
  0005a	8b 4d 14	 mov	 ecx, DWORD PTR _relative_position$[ebp]
  0005d	f3 0f 11 41 04	 movss	 DWORD PTR [ecx+4], xmm0

; 189  : 		relative_position->z = rel_vp.z - inst3d->vp.z;

  00062	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00065	f3 0f 10 45 a0	 movss	 xmm0, DWORD PTR _rel_vp$[ebp+8]
  0006a	f3 0f 5c 40 10	 subss	 xmm0, DWORD PTR [eax+16]
  0006f	8b 4d 14	 mov	 ecx, DWORD PTR _relative_position$[ebp]
  00072	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 190  : 
; 191  : 		if ( search_result )

  00077	83 7d 18 00	 cmp	 DWORD PTR _search_result$[ebp], 0
  0007b	74 12		 je	 SHORT $LN4@get_sub_ob

; 192  : 		{
; 193  : 			memcpy( search_result, &search, sizeof( object_3d_sub_object_search_data ) );

  0007d	6a 38		 push	 56			; 00000038H
  0007f	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00082	50		 push	 eax
  00083	8b 4d 18	 mov	 ecx, DWORD PTR _search_result$[ebp]
  00086	51		 push	 ecx
  00087	e8 00 00 00 00	 call	 _memcpy
  0008c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@get_sub_ob:

; 194  : 		}
; 195  : 
; 196  : 		return TRUE;

  0008f	b8 01 00 00 00	 mov	 eax, 1
  00094	eb 04		 jmp	 SHORT $LN3@get_sub_ob

; 197  : 	}
; 198  : 	else

  00096	eb 02		 jmp	 SHORT $LN3@get_sub_ob
$LN2@get_sub_ob:

; 199  : 	{
; 200  : 		return FALSE;

  00098	33 c0		 xor	 eax, eax
$LN3@get_sub_ob:

; 201  : 	}
; 202  : }

  0009a	5f		 pop	 edi
  0009b	5e		 pop	 esi
  0009c	5b		 pop	 ebx
  0009d	8b e5		 mov	 esp, ebp
  0009f	5d		 pop	 ebp
  000a0	c2 14 00	 ret	 20			; 00000014H
?get_sub_object_relative_position@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUVEC3D@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ENDP ; get_sub_object_relative_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z
_TEXT	SEGMENT
_depth$ = -60						; size = 4
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z PROC ; count_sub_object_type_depth, COMDAT

; 137  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 138  : 	object_3d_sub_object_search_data
; 139  : 		search;
; 140  : 
; 141  : 	int
; 142  : 		depth;
; 143  : 
; 144  : 	depth = 0;

  00009	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _depth$[ebp], 0
$LN2@count_sub_:

; 145  : 
; 146  : 	while (TRUE)

  00010	b8 01 00 00 00	 mov	 eax, 1
  00015	85 c0		 test	 eax, eax
  00017	74 32		 je	 SHORT $LN1@count_sub_

; 147  : 	{
; 148  : 		search.search_object = inst3d;

  00019	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0001c	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 149  : 		search.search_depth = depth;

  0001f	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  00022	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 150  : 		search.sub_object_index = sub_object_type;

  00025	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00028	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 151  : 
; 152  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0002b	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0002e	50		 push	 eax
  0002f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00034	83 f8 01	 cmp	 eax, 1
  00037	75 0b		 jne	 SHORT $LN4@count_sub_

; 153  : 		{
; 154  : 			depth ++;

  00039	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  0003c	83 c0 01	 add	 eax, 1
  0003f	89 45 c4	 mov	 DWORD PTR _depth$[ebp], eax

; 155  : 		}
; 156  : 		else

  00042	eb 05		 jmp	 SHORT $LN5@count_sub_
$LN4@count_sub_:

; 157  : 		{
; 158  : 			return depth;

  00044	8b 45 c4	 mov	 eax, DWORD PTR _depth$[ebp]
  00047	eb 02		 jmp	 SHORT $LN1@count_sub_
$LN5@count_sub_:

; 159  : 		}
; 160  : 	}

  00049	eb c5		 jmp	 SHORT $LN2@count_sub_
$LN1@count_sub_:

; 161  : }

  0004b	5f		 pop	 edi
  0004c	5e		 pop	 esi
  0004d	5b		 pop	 ebx
  0004e	8b e5		 mov	 esp, ebp
  00050	5d		 pop	 ebp
  00051	c2 08 00	 ret	 8
?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ENDP ; count_sub_object_type_depth
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?sub_object_contains_sub_object_type@@YGHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@HH0@Z
_TEXT	SEGMENT
_search$ = -56						; size = 56
_parent_search$ = 8					; size = 4
_sub_object_type$ = 12					; size = 4
_depth$ = 16						; size = 4
_search_result$ = 20					; size = 4
?sub_object_contains_sub_object_type@@YGHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@HH0@Z PROC ; sub_object_contains_sub_object_type, COMDAT

; 108  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 78	 sub	 esp, 120		; 00000078H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 109  : 	object_3d_sub_object_search_data
; 110  : 		search;
; 111  : 
; 112  : 	memcpy( &search, parent_search, sizeof( object_3d_sub_object_search_data ) );

  00009	6a 38		 push	 56			; 00000038H
  0000b	8b 45 08	 mov	 eax, DWORD PTR _parent_search$[ebp]
  0000e	50		 push	 eax
  0000f	8d 4d c8	 lea	 ecx, DWORD PTR _search$[ebp]
  00012	51		 push	 ecx
  00013	e8 00 00 00 00	 call	 _memcpy
  00018	83 c4 0c	 add	 esp, 12			; 0000000cH

; 113  : 
; 114  : 	search.search_depth = depth;

  0001b	8b 45 10	 mov	 eax, DWORD PTR _depth$[ebp]
  0001e	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 115  : 	search.sub_object_index = sub_object_type;

  00021	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00024	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 116  : 
; 117  : 	if (find_object_3d_sub_object_from_sub_object (parent_search, &search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00027	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0002a	50		 push	 eax
  0002b	8b 4d 08	 mov	 ecx, DWORD PTR _parent_search$[ebp]
  0002e	51		 push	 ecx
  0002f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z ; find_object_3d_sub_object_from_sub_object
  00034	83 f8 01	 cmp	 eax, 1
  00037	75 21		 jne	 SHORT $LN2@sub_object

; 118  : 	{
; 119  : 		if (search_result)

  00039	83 7d 14 00	 cmp	 DWORD PTR _search_result$[ebp], 0
  0003d	74 12		 je	 SHORT $LN4@sub_object

; 120  : 		{
; 121  : 			memcpy( search_result, &search, sizeof( object_3d_sub_object_search_data ) );

  0003f	6a 38		 push	 56			; 00000038H
  00041	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00044	50		 push	 eax
  00045	8b 4d 14	 mov	 ecx, DWORD PTR _search_result$[ebp]
  00048	51		 push	 ecx
  00049	e8 00 00 00 00	 call	 _memcpy
  0004e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@sub_object:

; 122  : 		}
; 123  : 
; 124  : 		return TRUE;

  00051	b8 01 00 00 00	 mov	 eax, 1
  00056	eb 04		 jmp	 SHORT $LN1@sub_object

; 125  : 	}
; 126  : 	else

  00058	eb 02		 jmp	 SHORT $LN1@sub_object
$LN2@sub_object:

; 127  : 	{
; 128  : 		return FALSE;

  0005a	33 c0		 xor	 eax, eax
$LN1@sub_object:

; 129  : 	}
; 130  : }

  0005c	5f		 pop	 edi
  0005d	5e		 pop	 esi
  0005e	5b		 pop	 ebx
  0005f	8b e5		 mov	 esp, ebp
  00061	5d		 pop	 ebp
  00062	c2 10 00	 ret	 16			; 00000010H
?sub_object_contains_sub_object_type@@YGHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@HH0@Z ENDP ; sub_object_contains_sub_object_type
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\en_misc\en_anim\sub_anim.c
;	COMDAT ?object_contains_sub_object_type@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z
_TEXT	SEGMENT
_search$ = -56						; size = 56
_inst3d$ = 8						; size = 4
_sub_object_type$ = 12					; size = 4
_depth$ = 16						; size = 4
_search_result$ = 20					; size = 4
?object_contains_sub_object_type@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z PROC ; object_contains_sub_object_type, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 78	 sub	 esp, 120		; 00000078H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	object_3d_sub_object_search_data
; 82   : 		search;
; 83   : 
; 84   : 	search.search_object = inst3d;

  00009	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0000c	89 45 c8	 mov	 DWORD PTR _search$[ebp], eax

; 85   : 	search.search_depth = depth;

  0000f	8b 45 10	 mov	 eax, DWORD PTR _depth$[ebp]
  00012	89 45 d0	 mov	 DWORD PTR _search$[ebp+8], eax

; 86   : 	search.sub_object_index = sub_object_type;

  00015	8b 45 0c	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00018	89 45 d4	 mov	 DWORD PTR _search$[ebp+12], eax

; 87   : 
; 88   : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0001b	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  0001e	50		 push	 eax
  0001f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00024	83 f8 01	 cmp	 eax, 1
  00027	75 21		 jne	 SHORT $LN2@object_con

; 89   : 	{
; 90   : 		if (search_result)

  00029	83 7d 14 00	 cmp	 DWORD PTR _search_result$[ebp], 0
  0002d	74 12		 je	 SHORT $LN4@object_con

; 91   : 		{
; 92   : 			memcpy( search_result, &search, sizeof( object_3d_sub_object_search_data ) );

  0002f	6a 38		 push	 56			; 00000038H
  00031	8d 45 c8	 lea	 eax, DWORD PTR _search$[ebp]
  00034	50		 push	 eax
  00035	8b 4d 14	 mov	 ecx, DWORD PTR _search_result$[ebp]
  00038	51		 push	 ecx
  00039	e8 00 00 00 00	 call	 _memcpy
  0003e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@object_con:

; 93   : 		}
; 94   : 
; 95   : 		return TRUE;

  00041	b8 01 00 00 00	 mov	 eax, 1
  00046	eb 04		 jmp	 SHORT $LN1@object_con

; 96   : 	}
; 97   : 	else

  00048	eb 02		 jmp	 SHORT $LN1@object_con
$LN2@object_con:

; 98   : 	{
; 99   : 		return FALSE;

  0004a	33 c0		 xor	 eax, eax
$LN1@object_con:

; 100  : 	}
; 101  : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	8b e5		 mov	 esp, ebp
  00051	5d		 pop	 ebp
  00052	c2 10 00	 ret	 16			; 00000010H
?object_contains_sub_object_type@@YGHPAUOBJECT_3D_INSTANCE@@HHPAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ENDP ; object_contains_sub_object_type
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?fmod@@YGMMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
__Yx$ = 12						; size = 4
?fmod@@YGMMM@Z PROC					; fmod, COMDAT

; 143  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 144  : 	return (_CSTD fmodf(_Xx, _Yx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR __Yx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	51		 push	 ecx
  00015	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0001a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0001f	e8 00 00 00 00	 call	 _fmodf
  00024	83 c4 08	 add	 esp, 8

; 145  : 	}

  00027	5f		 pop	 edi
  00028	5e		 pop	 esi
  00029	5b		 pop	 ebx
  0002a	8b e5		 mov	 esp, ebp
  0002c	5d		 pop	 ebp
  0002d	c2 08 00	 ret	 8
?fmod@@YGMMM@Z ENDP					; fmod
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _fmodf
_TEXT	SEGMENT
tv74 = -68						; size = 4
__X$ = 8						; size = 4
__Y$ = 12						; size = 4
_fmodf	PROC						; COMDAT

; 690  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 691  :             return (float)fmod(_X, _Y);

  00009	f3 0f 5a 45 0c	 cvtss2sd xmm0, DWORD PTR __Y$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0001b	83 ec 08	 sub	 esp, 8
  0001e	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00023	e8 00 00 00 00	 call	 _fmod
  00028	83 c4 10	 add	 esp, 16			; 00000010H
  0002b	d9 5d bc	 fstp	 DWORD PTR tv74[ebp]
  0002e	d9 45 bc	 fld	 DWORD PTR tv74[ebp]

; 692  :         }

  00031	5f		 pop	 edi
  00032	5e		 pop	 esi
  00033	5b		 pop	 ebx
  00034	8b e5		 mov	 esp, ebp
  00036	5d		 pop	 ebp
  00037	c3		 ret	 0
_fmodf	ENDP
_TEXT	ENDS
END
