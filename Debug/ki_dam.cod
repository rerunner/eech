; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A		; kiowa_damage
_BSS	SEGMENT
?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A DD 01H DUP (?)	; kiowa_damage
_BSS	ENDS
PUBLIC	?set_kiowa_weapon_damage_status@@YGXXZ		; set_kiowa_weapon_damage_status
PUBLIC	?fully_repair_kiowa_damage@@YGXXZ		; fully_repair_kiowa_damage
PUBLIC	?partially_repair_kiowa_damage@@YGXXZ		; partially_repair_kiowa_damage
PUBLIC	?repair_kiowa_weapon_damage@@YGXXZ		; repair_kiowa_weapon_damage
PUBLIC	?damage_kiowa@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z	; damage_kiowa
PUBLIC	?notify_kiowa_avionics_of_dynamics_fault@@YGXI@Z ; notify_kiowa_avionics_of_dynamics_fault
PUBLIC	?__LINE__Var@?0??set_kiowa_weapon_damage_status@@YGXXZ@4JA ; `set_kiowa_weapon_damage_status'::`1'::__LINE__Var
PUBLIC	??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z@4JA ; `damage_systems'::`1'::__LINE__Var
PUBLIC	??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@ ; `string'
PUBLIC	__real@3f00002000400080
PUBLIC	__real@3feccccccccccccd
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z:PROC ; set_client_server_entity_weapon_damage
EXTRN	?get_next_available_weapon_sub_type@@YGHPAUENTITY@@@Z:PROC ; get_next_available_weapon_sub_type
EXTRN	?get_local_entity_weapon_available@@YGHPAUENTITY@@H@Z:PROC ; get_local_entity_weapon_available
EXTRN	?play_client_server_warning_message@@YGHPAUENTITY@@H@Z:PROC ; play_client_server_warning_message
EXTRN	?set_laser_is_active@@YGXH@Z:PROC		; set_laser_is_active
EXTRN	?set_gunship_weapon@@YGXH@Z:PROC		; set_gunship_weapon
EXTRN	?activate_kiowa_master_caution@@YGXXZ:PROC	; activate_kiowa_master_caution
EXTRN	?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z:PROC ; select_kiowa_main_mfd_mode
EXTRN	?select_kiowa_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z:PROC ; select_kiowa_target_acquisition_system
EXTRN	?dynamics_damage_model@@YGXIH@Z:PROC		; dynamics_damage_model
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A:DWORD ; target_acquisition_system
EXTRN	?fire_extinguisher_used@@3HA:DWORD		; fire_extinguisher_used
EXTRN	?night_vision_system_active@@3HA:DWORD		; night_vision_system_active
EXTRN	__fltused:DWORD
;	COMDAT __real@3feccccccccccccd
CONST	SEGMENT
__real@3feccccccccccccd DQ 03feccccccccccccdr	; 0.9
CONST	ENDS
;	COMDAT __real@3f00002000400080
CONST	SEGMENT
__real@3f00002000400080 DQ 03f00002000400080r	; 3.05185e-05
CONST	ENDS
;	COMDAT ??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@ DB 'Invalid damage'
	DB	'_level = %d', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z@4JA DD 0171H ; `damage_systems'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_d'
	DB	'am.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_kiowa_weapon_damage_status@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_kiowa_weapon_damage_status@@YGXXZ@4JA DD 057H ; `set_kiowa_weapon_damage_status'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
;	COMDAT ?damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z
_TEXT	SEGMENT
tv176 = -76						; size = 4
tv155 = -76						; size = 4
tv168 = -72						; size = 4
tv148 = -72						; size = 4
_en$ = -4						; size = 4
_damage$ = 8						; size = 4
?damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z PROC	; damage_systems, COMDAT

; 369  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 370  : 	entity
; 371  : 		*en;
; 372  : 
; 373  : 	en = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 374  : 
; 375  : 	////////////////////////////////////////
; 376  : 
; 377  : 	if (damage.flir)

  00011	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00014	83 e0 01	 and	 eax, 1
  00017	74 43		 je	 SHORT $LN2@damage_sys

; 378  : 	{
; 379  : 		if (!kiowa_damage.flir)

  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0001e	83 e0 01	 and	 eax, 1
  00021	75 39		 jne	 SHORT $LN2@damage_sys

; 380  : 		{
; 381  : 			activate_kiowa_master_caution ();

  00023	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 382  : 
; 383  : 			kiowa_damage.flir = TRUE;

  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0002d	83 c8 01	 or	 eax, 1
  00030	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 384  : 
; 385  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00035	6a 00		 push	 0
  00037	68 00 10 00 00	 push	 4096			; 00001000H
  0003c	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 386  : 
; 387  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_FLIR_FAILURE);

  00041	6a 01		 push	 1
  00043	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 388  : 
; 389  : 			if (target_acquisition_system == TARGET_ACQUISITION_SYSTEM_FLIR)

  0004c	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 3 ; target_acquisition_system
  00053	75 07		 jne	 SHORT $LN2@damage_sys

; 390  : 			{
; 391  : 				select_kiowa_target_acquisition_system (TARGET_ACQUISITION_SYSTEM_OFF);

  00055	6a 00		 push	 0
  00057	e8 00 00 00 00	 call	 ?select_kiowa_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; select_kiowa_target_acquisition_system
$LN2@damage_sys:

; 392  : 			}
; 393  : 		}
; 394  : 	}
; 395  : 
; 396  : 	////////////////////////////////////////
; 397  : 
; 398  : 	if (damage.dtv)

  0005c	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0005f	d1 e8		 shr	 eax, 1
  00061	83 e0 01	 and	 eax, 1
  00064	74 45		 je	 SHORT $LN5@damage_sys

; 399  : 	{
; 400  : 		if (!kiowa_damage.dtv)

  00066	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0006b	d1 e8		 shr	 eax, 1
  0006d	83 e0 01	 and	 eax, 1
  00070	75 39		 jne	 SHORT $LN5@damage_sys

; 401  : 		{
; 402  : 			activate_kiowa_master_caution ();

  00072	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 403  : 
; 404  : 			kiowa_damage.dtv = TRUE;

  00077	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0007c	83 c8 02	 or	 eax, 2
  0007f	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 405  : 
; 406  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00084	6a 00		 push	 0
  00086	68 00 10 00 00	 push	 4096			; 00001000H
  0008b	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 407  : 
; 408  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_DTV_FAILURE);

  00090	6a 02		 push	 2
  00092	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 409  : 
; 410  : 			if (target_acquisition_system == TARGET_ACQUISITION_SYSTEM_DTV)

  0009b	83 3d 00 00 00
	00 04		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 4 ; target_acquisition_system
  000a2	75 07		 jne	 SHORT $LN5@damage_sys

; 411  : 			{
; 412  : 				select_kiowa_target_acquisition_system (TARGET_ACQUISITION_SYSTEM_OFF);

  000a4	6a 00		 push	 0
  000a6	e8 00 00 00 00	 call	 ?select_kiowa_target_acquisition_system@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; select_kiowa_target_acquisition_system
$LN5@damage_sys:

; 413  : 			}
; 414  : 		}
; 415  : 	}
; 416  : 
; 417  : 	////////////////////////////////////////
; 418  : 
; 419  : 	if (damage.laser_designator)

  000ab	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  000ae	c1 e8 02	 shr	 eax, 2
  000b1	83 e0 01	 and	 eax, 1
  000b4	74 3d		 je	 SHORT $LN8@damage_sys

; 420  : 	{
; 421  : 		if (!kiowa_damage.laser_designator)

  000b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000bb	c1 e8 02	 shr	 eax, 2
  000be	83 e0 01	 and	 eax, 1
  000c1	75 30		 jne	 SHORT $LN8@damage_sys

; 422  : 		{
; 423  : 			activate_kiowa_master_caution ();

  000c3	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 424  : 
; 425  : 			kiowa_damage.laser_designator = TRUE;

  000c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000cd	83 c8 04	 or	 eax, 4
  000d0	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 426  : 
; 427  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  000d5	6a 00		 push	 0
  000d7	68 00 10 00 00	 push	 4096			; 00001000H
  000dc	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 428  : 
; 429  : 			set_laser_is_active(FALSE);

  000e1	6a 00		 push	 0
  000e3	e8 00 00 00 00	 call	 ?set_laser_is_active@@YGXH@Z ; set_laser_is_active

; 430  : 
; 431  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_LASER_DESIGNATOR_FAILURE);

  000e8	6a 06		 push	 6
  000ea	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  000ed	50		 push	 eax
  000ee	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN8@damage_sys:

; 432  : 		}
; 433  : 	}
; 434  : 
; 435  : 	////////////////////////////////////////
; 436  : 
; 437  : 	if (damage.infra_red_jammer)

  000f3	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  000f6	c1 e8 03	 shr	 eax, 3
  000f9	83 e0 01	 and	 eax, 1
  000fc	0f 84 4f 01 00
	00		 je	 $LN10@damage_sys

; 438  : 	{
; 439  : 		if (!kiowa_damage.infra_red_jammer)

  00102	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00107	c1 e8 03	 shr	 eax, 3
  0010a	83 e0 01	 and	 eax, 1
  0010d	0f 85 3e 01 00
	00		 jne	 $LN10@damage_sys

; 440  : 		{
; 441  : 			activate_kiowa_master_caution ();

  00113	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 442  : 
; 443  : 			kiowa_damage.infra_red_jammer = TRUE;

  00118	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0011d	83 c8 08	 or	 eax, 8
  00120	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 444  : 
; 445  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00125	6a 00		 push	 0
  00127	68 00 10 00 00	 push	 4096			; 00001000H
  0012c	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 446  : 
; 447  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_IR_JAMMER_FAILURE);

  00131	6a 09		 push	 9
  00133	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00136	50		 push	 eax
  00137	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 448  : 
; 449  : 			if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_INFRA_RED_JAMMER_ON))

  0013c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00143	74 0c		 je	 SHORT $LN38@damage_sys
  00145	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0014a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0014c	89 4d b8	 mov	 DWORD PTR tv148[ebp], ecx
  0014f	eb 1d		 jmp	 SHORT $LN39@damage_sys
$LN38@damage_sys:
  00151	68 c1 01 00 00	 push	 449			; 000001c1H
  00156	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  0015b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00161	52		 push	 edx
  00162	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00167	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv148[ebp], 0
$LN39@damage_sys:
  0016e	b8 01 00 00 00	 mov	 eax, 1
  00173	85 c0		 test	 eax, eax
  00175	74 09		 je	 SHORT $LN40@damage_sys
  00177	c7 45 b4 68 00
	00 00		 mov	 DWORD PTR tv155[ebp], 104 ; 00000068H
  0017e	eb 1d		 jmp	 SHORT $LN41@damage_sys
$LN40@damage_sys:
  00180	68 c1 01 00 00	 push	 449			; 000001c1H
  00185	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  0018a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00190	51		 push	 ecx
  00191	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00196	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN41@damage_sys:
  0019d	6a 68		 push	 104			; 00000068H
  0019f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001a5	52		 push	 edx
  001a6	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv148[ebp], 1116
  001ad	8b 4d b4	 mov	 ecx, DWORD PTR tv155[ebp]
  001b0	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  001b7	ff d2		 call	 edx
  001b9	85 c0		 test	 eax, eax
  001bb	0f 84 90 00 00
	00		 je	 $LN10@damage_sys

; 450  : 			{
; 451  : 				set_client_server_entity_int_value (get_gunship_entity (), INT_TYPE_INFRA_RED_JAMMER_ON, FALSE);

  001c1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001c8	74 0c		 je	 SHORT $LN42@damage_sys
  001ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001cf	8b 08		 mov	 ecx, DWORD PTR [eax]
  001d1	89 4d b8	 mov	 DWORD PTR tv168[ebp], ecx
  001d4	eb 21		 jmp	 SHORT $LN43@damage_sys
$LN42@damage_sys:
  001d6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z@4JA
  001dc	83 c2 52	 add	 edx, 82			; 00000052H
  001df	52		 push	 edx
  001e0	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ea	50		 push	 eax
  001eb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001f0	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv168[ebp], 0
$LN43@damage_sys:
  001f7	b9 01 00 00 00	 mov	 ecx, 1
  001fc	85 c9		 test	 ecx, ecx
  001fe	74 09		 je	 SHORT $LN44@damage_sys
  00200	c7 45 b4 68 00
	00 00		 mov	 DWORD PTR tv176[ebp], 104 ; 00000068H
  00207	eb 21		 jmp	 SHORT $LN45@damage_sys
$LN44@damage_sys:
  00209	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z@4JA
  0020f	83 c2 52	 add	 edx, 82			; 00000052H
  00212	52		 push	 edx
  00213	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  00218	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0021d	50		 push	 eax
  0021e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00223	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv176[ebp], 0
$LN45@damage_sys:
  0022a	6a 00		 push	 0
  0022c	6a 68		 push	 104			; 00000068H
  0022e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00234	51		 push	 ecx
  00235	69 55 b8 b8 08
	00 00		 imul	 edx, DWORD PTR tv168[ebp], 2232
  0023c	8b 45 b4	 mov	 eax, DWORD PTR tv176[ebp]
  0023f	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  00246	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0024c	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  0024f	ff d0		 call	 eax
$LN10@damage_sys:

; 452  : 			}
; 453  : 		}
; 454  : 	}
; 455  : 
; 456  : 	////////////////////////////////////////
; 457  : 
; 458  : 	if (damage.navigation_computer)

  00251	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00254	c1 e8 04	 shr	 eax, 4
  00257	83 e0 01	 and	 eax, 1
  0025a	74 36		 je	 SHORT $LN13@damage_sys

; 459  : 	{
; 460  : 		if (!kiowa_damage.navigation_computer)

  0025c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00261	c1 e8 04	 shr	 eax, 4
  00264	83 e0 01	 and	 eax, 1
  00267	75 29		 jne	 SHORT $LN13@damage_sys

; 461  : 		{
; 462  : 			activate_kiowa_master_caution ();

  00269	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 463  : 
; 464  : 			kiowa_damage.navigation_computer = TRUE;

  0026e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00273	83 c8 10	 or	 eax, 16			; 00000010H
  00276	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 465  : 
; 466  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0027b	6a 00		 push	 0
  0027d	68 00 10 00 00	 push	 4096			; 00001000H
  00282	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 467  : 
; 468  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_NAV_COMPUTER_FAILURE);

  00287	6a 0a		 push	 10			; 0000000aH
  00289	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0028c	50		 push	 eax
  0028d	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN13@damage_sys:

; 469  : 		}
; 470  : 	}
; 471  : 
; 472  : 	////////////////////////////////////////
; 473  : 
; 474  : 	if (damage.communications)

  00292	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00295	c1 e8 05	 shr	 eax, 5
  00298	83 e0 01	 and	 eax, 1
  0029b	74 36		 je	 SHORT $LN15@damage_sys

; 475  : 	{
; 476  : 		if (!kiowa_damage.communications)

  0029d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  002a2	c1 e8 05	 shr	 eax, 5
  002a5	83 e0 01	 and	 eax, 1
  002a8	75 29		 jne	 SHORT $LN15@damage_sys

; 477  : 		{
; 478  : 			activate_kiowa_master_caution ();

  002aa	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 479  : 
; 480  : 			kiowa_damage.communications = TRUE;

  002af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  002b4	83 c8 20	 or	 eax, 32			; 00000020H
  002b7	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 481  : 
; 482  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  002bc	6a 00		 push	 0
  002be	68 00 10 00 00	 push	 4096			; 00001000H
  002c3	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 483  : 
; 484  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_COMMS_FAILURE);

  002c8	6a 0b		 push	 11			; 0000000bH
  002ca	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  002cd	50		 push	 eax
  002ce	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN15@damage_sys:

; 485  : 		}
; 486  : 	}
; 487  : 
; 488  : 	////////////////////////////////////////
; 489  : 
; 490  : 	if (damage.radar_warning_system)

  002d3	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  002d6	c1 e8 06	 shr	 eax, 6
  002d9	83 e0 01	 and	 eax, 1
  002dc	74 36		 je	 SHORT $LN17@damage_sys

; 491  : 	{
; 492  : 		if (!kiowa_damage.radar_warning_system)

  002de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  002e3	c1 e8 06	 shr	 eax, 6
  002e6	83 e0 01	 and	 eax, 1
  002e9	75 29		 jne	 SHORT $LN17@damage_sys

; 493  : 		{
; 494  : 			activate_kiowa_master_caution ();

  002eb	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 495  : 
; 496  : 			kiowa_damage.radar_warning_system = TRUE;

  002f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  002f5	83 c8 40	 or	 eax, 64			; 00000040H
  002f8	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 497  : 
; 498  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  002fd	6a 00		 push	 0
  002ff	68 00 10 00 00	 push	 4096			; 00001000H
  00304	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 499  : 
; 500  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_RADAR_WARNING_FAILURE);

  00309	6a 0c		 push	 12			; 0000000cH
  0030b	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0030e	50		 push	 eax
  0030f	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN17@damage_sys:

; 501  : 		}
; 502  : 	}
; 503  : 
; 504  : 	////////////////////////////////////////
; 505  : 
; 506  : 	if (damage.co_pilot_main_mfd)

  00314	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00317	c1 e8 07	 shr	 eax, 7
  0031a	83 e0 01	 and	 eax, 1
  0031d	74 41		 je	 SHORT $LN19@damage_sys

; 507  : 	{
; 508  : 		if (!kiowa_damage.co_pilot_main_mfd)

  0031f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00324	c1 e8 07	 shr	 eax, 7
  00327	83 e0 01	 and	 eax, 1
  0032a	75 34		 jne	 SHORT $LN19@damage_sys

; 509  : 		{
; 510  : 			activate_kiowa_master_caution ();

  0032c	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 511  : 
; 512  : 			kiowa_damage.co_pilot_main_mfd = TRUE;

  00331	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00336	0d 80 00 00 00	 or	 eax, 128		; 00000080H
  0033b	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 513  : 
; 514  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00340	6a 00		 push	 0
  00342	68 00 10 00 00	 push	 4096			; 00001000H
  00347	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 515  : 
; 516  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  0034c	6a 11		 push	 17			; 00000011H
  0034e	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00351	50		 push	 eax
  00352	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 517  : 
; 518  : 			select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_DAMAGED, KIOWA_MAIN_MFD_LOCATION_CO_PILOT);

  00357	6a 00		 push	 0
  00359	6a 01		 push	 1
  0035b	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN19@damage_sys:

; 519  : 		}
; 520  : 	}
; 521  : 
; 522  : 	////////////////////////////////////////
; 523  : 
; 524  : 	if (damage.pilot_main_mfd)

  00360	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00363	c1 e8 08	 shr	 eax, 8
  00366	83 e0 01	 and	 eax, 1
  00369	74 41		 je	 SHORT $LN21@damage_sys

; 525  : 	{
; 526  : 		if (!kiowa_damage.pilot_main_mfd)

  0036b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00370	c1 e8 08	 shr	 eax, 8
  00373	83 e0 01	 and	 eax, 1
  00376	75 34		 jne	 SHORT $LN21@damage_sys

; 527  : 		{
; 528  : 			activate_kiowa_master_caution ();

  00378	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 529  : 
; 530  : 			kiowa_damage.pilot_main_mfd = TRUE;

  0037d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00382	0d 00 01 00 00	 or	 eax, 256		; 00000100H
  00387	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 531  : 
; 532  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0038c	6a 00		 push	 0
  0038e	68 00 10 00 00	 push	 4096			; 00001000H
  00393	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 533  : 
; 534  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  00398	6a 11		 push	 17			; 00000011H
  0039a	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0039d	50		 push	 eax
  0039e	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 535  : 
; 536  : 			select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_DAMAGED, KIOWA_MAIN_MFD_LOCATION_PILOT);

  003a3	6a 01		 push	 1
  003a5	6a 01		 push	 1
  003a7	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN21@damage_sys:

; 537  : 		}
; 538  : 	}
; 539  : 
; 540  : 	////////////////////////////////////////
; 541  : 
; 542  : 	if (damage.center_main_mfd)

  003ac	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  003af	c1 e8 09	 shr	 eax, 9
  003b2	83 e0 01	 and	 eax, 1
  003b5	74 41		 je	 SHORT $LN23@damage_sys

; 543  : 	{
; 544  : 		if (!kiowa_damage.center_main_mfd)

  003b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  003bc	c1 e8 09	 shr	 eax, 9
  003bf	83 e0 01	 and	 eax, 1
  003c2	75 34		 jne	 SHORT $LN23@damage_sys

; 545  : 		{
; 546  : 			activate_kiowa_master_caution ();

  003c4	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 547  : 
; 548  : 			kiowa_damage.center_main_mfd = TRUE;

  003c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  003ce	0d 00 02 00 00	 or	 eax, 512		; 00000200H
  003d3	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 549  : 
; 550  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  003d8	6a 00		 push	 0
  003da	68 00 10 00 00	 push	 4096			; 00001000H
  003df	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 551  : 
; 552  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_MFD_FAILURE);

  003e4	6a 11		 push	 17			; 00000011H
  003e6	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  003e9	50		 push	 eax
  003ea	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 553  : 
; 554  : 			select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_DAMAGED, KIOWA_MAIN_MFD_LOCATION_CENTER);

  003ef	6a 02		 push	 2
  003f1	6a 01		 push	 1
  003f3	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN23@damage_sys:

; 555  : 		}
; 556  : 	}
; 557  : 
; 558  : 	////////////////////////////////////////
; 559  : 
; 560  : 	if (damage.pnvs)

  003f8	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  003fb	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  003fe	83 e0 01	 and	 eax, 1
  00401	74 42		 je	 SHORT $LN25@damage_sys

; 561  : 	{
; 562  : 		if (!kiowa_damage.pnvs)

  00403	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00408	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  0040b	83 e0 01	 and	 eax, 1
  0040e	75 35		 jne	 SHORT $LN25@damage_sys

; 563  : 		{
; 564  : 			activate_kiowa_master_caution ();

  00410	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 565  : 
; 566  : 			kiowa_damage.pnvs = TRUE;

  00415	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0041a	0d 00 04 00 00	 or	 eax, 1024		; 00000400H
  0041f	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 567  : 
; 568  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00424	6a 00		 push	 0
  00426	68 00 10 00 00	 push	 4096			; 00001000H
  0042b	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 569  : 
; 570  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_PNVS_FAILURE);

  00430	6a 15		 push	 21			; 00000015H
  00432	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00435	50		 push	 eax
  00436	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 571  : 
; 572  : 			night_vision_system_active = FALSE;

  0043b	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?night_vision_system_active@@3HA, 0 ; night_vision_system_active
$LN25@damage_sys:

; 573  : 		}
; 574  : 	}
; 575  : 
; 576  : 	////////////////////////////////////////
; 577  : 
; 578  : 	if (damage.lh_pylon)

  00445	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00448	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  0044b	83 e0 01	 and	 eax, 1
  0044e	74 38		 je	 SHORT $LN27@damage_sys

; 579  : 	{
; 580  : 		if (!kiowa_damage.lh_pylon)

  00450	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00455	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00458	83 e0 01	 and	 eax, 1
  0045b	75 2b		 jne	 SHORT $LN27@damage_sys

; 581  : 		{
; 582  : 			activate_kiowa_master_caution ();

  0045d	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 583  : 
; 584  : 			kiowa_damage.lh_pylon = TRUE;

  00462	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00467	0d 00 08 00 00	 or	 eax, 2048		; 00000800H
  0046c	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 585  : 
; 586  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  00471	6a 00		 push	 0
  00473	68 00 10 00 00	 push	 4096			; 00001000H
  00478	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 587  : 
; 588  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  0047d	6a 18		 push	 24			; 00000018H
  0047f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00482	50		 push	 eax
  00483	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN27@damage_sys:

; 589  : 		}
; 590  : 	}
; 591  : 
; 592  : 	////////////////////////////////////////
; 593  : 
; 594  : 	if (damage.rh_pylon)

  00488	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0048b	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  0048e	83 e0 01	 and	 eax, 1
  00491	74 38		 je	 SHORT $LN29@damage_sys

; 595  : 	{
; 596  : 		if (!kiowa_damage.rh_pylon)

  00493	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00498	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  0049b	83 e0 01	 and	 eax, 1
  0049e	75 2b		 jne	 SHORT $LN29@damage_sys

; 597  : 		{
; 598  : 			activate_kiowa_master_caution ();

  004a0	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 599  : 
; 600  : 			kiowa_damage.rh_pylon = TRUE;

  004a5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  004aa	0d 00 10 00 00	 or	 eax, 4096		; 00001000H
  004af	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 601  : 
; 602  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  004b4	6a 00		 push	 0
  004b6	68 00 10 00 00	 push	 4096			; 00001000H
  004bb	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 603  : 
; 604  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HARDPOINT_DAMAGED);

  004c0	6a 18		 push	 24			; 00000018H
  004c2	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  004c5	50		 push	 eax
  004c6	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN29@damage_sys:

; 605  : 		}
; 606  : 	}
; 607  : 
; 608  : 	////////////////////////////////////////
; 609  : 
; 610  : 	if (damage.chaff_dispenser)

  004cb	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  004ce	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  004d1	83 e0 01	 and	 eax, 1
  004d4	74 38		 je	 SHORT $LN31@damage_sys

; 611  : 	{
; 612  : 		if (!kiowa_damage.chaff_dispenser)

  004d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  004db	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  004de	83 e0 01	 and	 eax, 1
  004e1	75 2b		 jne	 SHORT $LN31@damage_sys

; 613  : 		{
; 614  : 			activate_kiowa_master_caution ();

  004e3	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 615  : 
; 616  : 			kiowa_damage.chaff_dispenser = TRUE;

  004e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  004ed	0d 00 20 00 00	 or	 eax, 8192		; 00002000H
  004f2	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 617  : 
; 618  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  004f7	6a 00		 push	 0
  004f9	68 00 10 00 00	 push	 4096			; 00001000H
  004fe	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 619  : 
; 620  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_CHAFF_DISPENSER_DAMAGED);

  00503	6a 19		 push	 25			; 00000019H
  00505	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00508	50		 push	 eax
  00509	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN31@damage_sys:

; 621  : 		}
; 622  : 	}
; 623  : 
; 624  : 	////////////////////////////////////////
; 625  : 
; 626  : 	if (damage.flare_dispenser)

  0050e	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00511	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00514	83 e0 01	 and	 eax, 1
  00517	74 38		 je	 SHORT $LN33@damage_sys

; 627  : 	{
; 628  : 		if (!kiowa_damage.flare_dispenser)

  00519	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0051e	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00521	83 e0 01	 and	 eax, 1
  00524	75 2b		 jne	 SHORT $LN33@damage_sys

; 629  : 		{
; 630  : 			activate_kiowa_master_caution ();

  00526	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 631  : 
; 632  : 			kiowa_damage.flare_dispenser = TRUE;

  0052b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00530	0d 00 40 00 00	 or	 eax, 16384		; 00004000H
  00535	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 633  : 
; 634  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0053a	6a 00		 push	 0
  0053c	68 00 10 00 00	 push	 4096			; 00001000H
  00541	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 635  : 
; 636  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_FLARE_DISPENSER_DAMAGED);

  00546	6a 1a		 push	 26			; 0000001aH
  00548	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0054b	50		 push	 eax
  0054c	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN33@damage_sys:

; 637  : 		}
; 638  : 	}
; 639  : 	////////////////////////////////////////
; 640  : 
; 641  : 	if (damage.hud)

  00551	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00554	c1 e8 0f	 shr	 eax, 15			; 0000000fH
  00557	83 e0 01	 and	 eax, 1
  0055a	74 38		 je	 SHORT $LN35@damage_sys

; 642  : 	{
; 643  : 		if (!kiowa_damage.hud)

  0055c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00561	c1 e8 0f	 shr	 eax, 15			; 0000000fH
  00564	83 e0 01	 and	 eax, 1
  00567	75 2b		 jne	 SHORT $LN35@damage_sys

; 644  : 		{
; 645  : 			activate_kiowa_master_caution ();

  00569	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution

; 646  : 
; 647  : 			kiowa_damage.hud = TRUE;

  0056e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00573	0d 00 80 00 00	 or	 eax, 32768		; 00008000H
  00578	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 648  : 
; 649  : 			dynamics_damage_model (DYNAMICS_DAMAGE_AVIONICS, FALSE);

  0057d	6a 00		 push	 0
  0057f	68 00 10 00 00	 push	 4096			; 00001000H
  00584	e8 00 00 00 00	 call	 ?dynamics_damage_model@@YGXIH@Z ; dynamics_damage_model

; 650  : 
; 651  : 			play_client_server_warning_message (en, SPEECH_SYSTEM_HUD_FAILURE);

  00589	6a 0f		 push	 15			; 0000000fH
  0058b	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0058e	50		 push	 eax
  0058f	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message
$LN35@damage_sys:

; 652  : 		}
; 653  : 	}
; 654  : 
; 655  : 	////////////////////////////////////////
; 656  : 
; 657  : 	set_kiowa_weapon_damage_status ();

  00594	e8 00 00 00 00	 call	 ?set_kiowa_weapon_damage_status@@YGXXZ ; set_kiowa_weapon_damage_status

; 658  : }

  00599	5f		 pop	 edi
  0059a	5e		 pop	 esi
  0059b	5b		 pop	 ebx
  0059c	8b e5		 mov	 esp, ebp
  0059e	5d		 pop	 ebp
  0059f	c2 04 00	 ret	 4
?damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z ENDP	; damage_systems
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
;	COMDAT ?notify_kiowa_avionics_of_dynamics_fault@@YGXI@Z
_TEXT	SEGMENT
_damage$ = 8						; size = 4
?notify_kiowa_avionics_of_dynamics_fault@@YGXI@Z PROC	; notify_kiowa_avionics_of_dynamics_fault, COMDAT

; 715  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 716  : 	if (damage & DYNAMICS_DAMAGE_MAIN_ROTOR)

  00009	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0000c	83 e0 02	 and	 eax, 2
  0000f	74 05		 je	 SHORT $LN2@notify_kio

; 717  : 	{
; 718  : 		activate_kiowa_master_caution ();

  00011	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN2@notify_kio:

; 719  : 	}
; 720  : 
; 721  : 	if (damage & DYNAMICS_DAMAGE_TAIL_ROTOR)

  00016	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00019	83 e0 04	 and	 eax, 4
  0001c	74 05		 je	 SHORT $LN3@notify_kio

; 722  : 	{
; 723  : 		activate_kiowa_master_caution ();

  0001e	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN3@notify_kio:

; 724  : 	}
; 725  : 
; 726  : 	if (damage & DYNAMICS_DAMAGE_LEFT_ENGINE)

  00023	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00026	83 e0 08	 and	 eax, 8
  00029	74 05		 je	 SHORT $LN4@notify_kio

; 727  : 	{
; 728  : 		activate_kiowa_master_caution ();

  0002b	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN4@notify_kio:

; 729  : 	}
; 730  : 
; 731  : 	if (damage & DYNAMICS_DAMAGE_LEFT_ENGINE_FIRE)

  00030	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00033	83 e0 20	 and	 eax, 32			; 00000020H
  00036	74 05		 je	 SHORT $LN5@notify_kio

; 732  : 	{
; 733  : 		activate_kiowa_master_caution ();

  00038	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN5@notify_kio:

; 734  : 	}
; 735  : 
; 736  : 	if (damage & DYNAMICS_DAMAGE_LOW_HYDRAULICS)

  0003d	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  00040	25 80 00 00 00	 and	 eax, 128		; 00000080H
  00045	74 05		 je	 SHORT $LN6@notify_kio

; 737  : 	{
; 738  : 		activate_kiowa_master_caution ();

  00047	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN6@notify_kio:

; 739  : 	}
; 740  : 
; 741  : 	if (damage & DYNAMICS_DAMAGE_SECONDARY_HYDRAULICS)

  0004c	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0004f	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  00054	74 05		 je	 SHORT $LN7@notify_kio

; 742  : 	{
; 743  : 		activate_kiowa_master_caution ();

  00056	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN7@notify_kio:

; 744  : 	}
; 745  : 
; 746  : 	if (damage & DYNAMICS_DAMAGE_STABILISER)

  0005b	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0005e	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00063	74 05		 je	 SHORT $LN8@notify_kio

; 747  : 	{
; 748  : 		activate_kiowa_master_caution ();

  00065	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN8@notify_kio:

; 749  : 	}
; 750  : 
; 751  : 	if (damage & DYNAMICS_DAMAGE_FUEL_LEAK)

  0006a	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0006d	25 00 02 00 00	 and	 eax, 512		; 00000200H
  00072	74 05		 je	 SHORT $LN9@notify_kio

; 752  : 	{
; 753  : 		activate_kiowa_master_caution ();

  00074	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN9@notify_kio:

; 754  : 	}
; 755  : 
; 756  : 	if (damage & DYNAMICS_DAMAGE_LOW_OIL_PRESSURE)

  00079	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0007c	25 00 04 00 00	 and	 eax, 1024		; 00000400H
  00081	74 05		 je	 SHORT $LN10@notify_kio

; 757  : 	{
; 758  : 		activate_kiowa_master_caution ();

  00083	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN10@notify_kio:

; 759  : 	}
; 760  : 
; 761  : 	if (damage & DYNAMICS_DAMAGE_HIGH_OIL_PRESSURE)

  00088	8b 45 08	 mov	 eax, DWORD PTR _damage$[ebp]
  0008b	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  00090	74 05		 je	 SHORT $LN1@notify_kio

; 762  : 	{
; 763  : 		activate_kiowa_master_caution ();

  00092	e8 00 00 00 00	 call	 ?activate_kiowa_master_caution@@YGXXZ ; activate_kiowa_master_caution
$LN1@notify_kio:

; 764  : 	}
; 765  : }

  00097	5f		 pop	 edi
  00098	5e		 pop	 esi
  00099	5b		 pop	 ebx
  0009a	8b e5		 mov	 esp, ebp
  0009c	5d		 pop	 ebp
  0009d	c2 04 00	 ret	 4
?notify_kiowa_avionics_of_dynamics_fault@@YGXI@Z ENDP	; notify_kiowa_avionics_of_dynamics_fault
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
;	COMDAT ?damage_kiowa@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z
_TEXT	SEGMENT
tv64 = -76						; size = 4
_kiowa_damage$ = -8					; size = 4
_damage$ = -4						; size = 4
_damage_level$ = 8					; size = 4
?damage_kiowa@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z PROC	; damage_kiowa, COMDAT

; 665  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 666  : 	unsigned int
; 667  : 		damage;
; 668  : 
; 669  : 	kiowa_damage_flags
; 670  : 		kiowa_damage;
; 671  : 
; 672  : 	damage = 0;

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _damage$[ebp], 0

; 673  : 
; 674  : 	switch (damage_level)

  00010	8b 45 08	 mov	 eax, DWORD PTR _damage_level$[ebp]
  00013	89 45 b4	 mov	 DWORD PTR tv64[ebp], eax
  00016	83 7d b4 00	 cmp	 DWORD PTR tv64[ebp], 0
  0001a	74 15		 je	 SHORT $LN4@damage_kio
  0001c	83 7d b4 01	 cmp	 DWORD PTR tv64[ebp], 1
  00020	74 47		 je	 SHORT $LN5@damage_kio
  00022	83 7d b4 02	 cmp	 DWORD PTR tv64[ebp], 2
  00026	0f 84 a8 00 00
	00		 je	 $LN6@damage_kio
  0002c	e9 3e 01 00 00	 jmp	 $LN7@damage_kio
$LN4@damage_kio:

; 675  : 	{
; 676  : 		case GUNSHIP_DAMAGE_LEVEL_LIGHT:
; 677  : 		{
; 678  : 			damage |= 1 << (rand16 () & 0x1f);

  00031	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0003b	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00040	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00045	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0004b	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0004e	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00054	83 e1 1f	 and	 ecx, 31			; 0000001fH
  00057	ba 01 00 00 00	 mov	 edx, 1
  0005c	d3 e2		 shl	 edx, cl
  0005e	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00061	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 679  : 
; 680  : 			break;

  00064	e9 17 01 00 00	 jmp	 $LN2@damage_kio
$LN5@damage_kio:

; 681  : 		}
; 682  : 		case GUNSHIP_DAMAGE_LEVEL_MEDIUM:
; 683  : 		{
; 684  : 			damage |= 1 << (rand16 () & 0x1f);

  00069	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00073	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00078	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0007d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00083	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00086	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0008c	83 e1 1f	 and	 ecx, 31			; 0000001fH
  0008f	ba 01 00 00 00	 mov	 edx, 1
  00094	d3 e2		 shl	 edx, cl
  00096	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00099	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 685  : 			damage |= 1 << (rand16 () & 0x1f);

  0009c	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000a6	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  000ab	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  000b0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000b6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000b9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000bf	83 e1 1f	 and	 ecx, 31			; 0000001fH
  000c2	ba 01 00 00 00	 mov	 edx, 1
  000c7	d3 e2		 shl	 edx, cl
  000c9	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  000cc	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 686  : 
; 687  : 			break;

  000cf	e9 ac 00 00 00	 jmp	 $LN2@damage_kio
$LN6@damage_kio:

; 688  : 		}
; 689  : 		case GUNSHIP_DAMAGE_LEVEL_HEAVY:
; 690  : 		{
; 691  : 			damage |= 1 << (rand16 () & 0x1f);

  000d4	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000de	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  000e3	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  000e8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000ee	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000f1	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000f7	83 e1 1f	 and	 ecx, 31			; 0000001fH
  000fa	ba 01 00 00 00	 mov	 edx, 1
  000ff	d3 e2		 shl	 edx, cl
  00101	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00104	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 692  : 			damage |= 1 << (rand16 () & 0x1f);

  00107	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00111	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00116	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0011b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00121	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00124	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0012a	83 e1 1f	 and	 ecx, 31			; 0000001fH
  0012d	ba 01 00 00 00	 mov	 edx, 1
  00132	d3 e2		 shl	 edx, cl
  00134	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  00137	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 693  : 			damage |= 1 << (rand16 () & 0x1f);

  0013a	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00144	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00149	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0014e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00154	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00157	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0015d	83 e1 1f	 and	 ecx, 31			; 0000001fH
  00160	ba 01 00 00 00	 mov	 edx, 1
  00165	d3 e2		 shl	 edx, cl
  00167	0b 55 fc	 or	 edx, DWORD PTR _damage$[ebp]
  0016a	89 55 fc	 mov	 DWORD PTR _damage$[ebp], edx

; 694  : 
; 695  : 			break;

  0016d	eb 11		 jmp	 SHORT $LN2@damage_kio
$LN7@damage_kio:

; 696  : 		}
; 697  : 		default:
; 698  : 		{
; 699  : 			debug_fatal ("Invalid damage_level = %d", damage_level);

  0016f	8b 45 08	 mov	 eax, DWORD PTR _damage_level$[ebp]
  00172	50		 push	 eax
  00173	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@EECAIEOA@Invalid?5damage_level?5?$DN?5?$CFd@
  00178	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  0017d	83 c4 08	 add	 esp, 8
$LN2@damage_kio:

; 700  : 
; 701  : 			break;
; 702  : 		}
; 703  : 	}
; 704  : 
; 705  : 	kiowa_damage.flags = damage;

  00180	8b 45 fc	 mov	 eax, DWORD PTR _damage$[ebp]
  00183	89 45 f8	 mov	 DWORD PTR _kiowa_damage$[ebp], eax

; 706  : 
; 707  : 	damage_systems (kiowa_damage);

  00186	8b 45 f8	 mov	 eax, DWORD PTR _kiowa_damage$[ebp]
  00189	50		 push	 eax
  0018a	e8 00 00 00 00	 call	 ?damage_systems@@YGXTKIOWA_DAMAGE_FLAGS@@@Z ; damage_systems

; 708  : }

  0018f	5f		 pop	 edi
  00190	5e		 pop	 esi
  00191	5b		 pop	 ebx
  00192	8b e5		 mov	 esp, ebp
  00194	5d		 pop	 ebp
  00195	c2 04 00	 ret	 4
?damage_kiowa@@YGXW4GUNSHIP_DAMAGE_LEVELS@@@Z ENDP	; damage_kiowa
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
;	COMDAT ?repair_kiowa_weapon_damage@@YGXXZ
_TEXT	SEGMENT
?repair_kiowa_weapon_damage@@YGXXZ PROC			; repair_kiowa_weapon_damage, COMDAT

; 355  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 356  : 	kiowa_damage.lh_pylon			= FALSE;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0000e	25 ff f7 ff ff	 and	 eax, -2049		; fffff7ffH
  00013	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 357  : 	kiowa_damage.rh_pylon			= FALSE;

  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0001d	25 ff ef ff ff	 and	 eax, -4097		; ffffefffH
  00022	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 358  : 	kiowa_damage.chaff_dispenser				= FALSE;

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0002c	25 ff df ff ff	 and	 eax, -8193		; ffffdfffH
  00031	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 359  : 	kiowa_damage.flare_dispenser				= FALSE;

  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0003b	25 ff bf ff ff	 and	 eax, -16385		; ffffbfffH
  00040	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 360  : 
; 361  : 	set_kiowa_weapon_damage_status ();

  00045	e8 00 00 00 00	 call	 ?set_kiowa_weapon_damage_status@@YGXXZ ; set_kiowa_weapon_damage_status

; 362  : }

  0004a	5f		 pop	 edi
  0004b	5e		 pop	 esi
  0004c	5b		 pop	 ebx
  0004d	8b e5		 mov	 esp, ebp
  0004f	5d		 pop	 ebp
  00050	c3		 ret	 0
?repair_kiowa_weapon_damage@@YGXXZ ENDP			; repair_kiowa_weapon_damage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
;	COMDAT ?partially_repair_kiowa_damage@@YGXXZ
_TEXT	SEGMENT
tv344 = -68						; size = 4
tv329 = -68						; size = 4
tv314 = -68						; size = 4
tv299 = -68						; size = 4
tv284 = -68						; size = 4
tv269 = -68						; size = 4
tv249 = -68						; size = 4
tv229 = -68						; size = 4
tv209 = -68						; size = 4
tv194 = -68						; size = 4
tv179 = -68						; size = 4
tv164 = -68						; size = 4
tv149 = -68						; size = 4
tv134 = -68						; size = 4
tv87 = -68						; size = 4
tv73 = -68						; size = 4
?partially_repair_kiowa_damage@@YGXXZ PROC		; partially_repair_kiowa_damage, COMDAT

; 215  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 216  : 	fire_extinguisher_used = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fire_extinguisher_used@@3HA, 0 ; fire_extinguisher_used

; 217  : 
; 218  : 	////////////////////////////////////////
; 219  : 
; 220  : 	if (kiowa_damage.flir)

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00018	83 e0 01	 and	 eax, 1
  0001b	74 5e		 je	 SHORT $LN2@partially_

; 221  : 	{
; 222  : 		kiowa_damage.flir = frand1 () > 0.90;

  0001d	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00027	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0002c	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00031	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00037	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0003a	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00040	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00044	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0004c	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00054	76 09		 jbe	 SHORT $LN22@partially_
  00056	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv73[ebp], 1
  0005d	eb 07		 jmp	 SHORT $LN23@partially_
$LN22@partially_:
  0005f	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN23@partially_:
  00066	8b 55 bc	 mov	 edx, DWORD PTR tv73[ebp]
  00069	83 e2 01	 and	 edx, 1
  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00071	83 e0 fe	 and	 eax, -2			; fffffffeH
  00074	0b c2		 or	 eax, edx
  00076	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN2@partially_:

; 223  : 	}
; 224  : 
; 225  : 	////////////////////////////////////////
; 226  : 
; 227  : 	if (kiowa_damage.dtv)

  0007b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00080	d1 e8		 shr	 eax, 1
  00082	83 e0 01	 and	 eax, 1
  00085	74 60		 je	 SHORT $LN3@partially_

; 228  : 	{
; 229  : 		kiowa_damage.dtv = frand1 () > 0.90;

  00087	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00091	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00096	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0009b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000a1	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000a4	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000aa	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  000ae	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  000b6	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  000be	76 09		 jbe	 SHORT $LN24@partially_
  000c0	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv87[ebp], 1
  000c7	eb 07		 jmp	 SHORT $LN25@partially_
$LN24@partially_:
  000c9	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv87[ebp], 0
$LN25@partially_:
  000d0	8b 55 bc	 mov	 edx, DWORD PTR tv87[ebp]
  000d3	83 e2 01	 and	 edx, 1
  000d6	d1 e2		 shl	 edx, 1
  000d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000dd	83 e0 fd	 and	 eax, -3			; fffffffdH
  000e0	0b c2		 or	 eax, edx
  000e2	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN3@partially_:

; 230  : 	}
; 231  : 
; 232  : 	////////////////////////////////////////
; 233  : 
; 234  : 	if (kiowa_damage.laser_designator)

  000e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000ec	c1 e8 02	 shr	 eax, 2
  000ef	83 e0 01	 and	 eax, 1
  000f2	74 61		 je	 SHORT $LN4@partially_

; 235  : 	{
; 236  : 		kiowa_damage.laser_designator = frand1 () > 0.90;

  000f4	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000fe	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00103	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00108	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0010e	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00111	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00117	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  0011b	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00123	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  0012b	76 09		 jbe	 SHORT $LN26@partially_
  0012d	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv134[ebp], 1
  00134	eb 07		 jmp	 SHORT $LN27@partially_
$LN26@partially_:
  00136	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN27@partially_:
  0013d	8b 55 bc	 mov	 edx, DWORD PTR tv134[ebp]
  00140	83 e2 01	 and	 edx, 1
  00143	c1 e2 02	 shl	 edx, 2
  00146	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0014b	83 e0 fb	 and	 eax, -5			; fffffffbH
  0014e	0b c2		 or	 eax, edx
  00150	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN4@partially_:

; 237  : 	}
; 238  : 
; 239  : 	////////////////////////////////////////
; 240  : 
; 241  : 	if (kiowa_damage.infra_red_jammer)

  00155	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0015a	c1 e8 03	 shr	 eax, 3
  0015d	83 e0 01	 and	 eax, 1
  00160	74 61		 je	 SHORT $LN5@partially_

; 242  : 	{
; 243  : 		kiowa_damage.infra_red_jammer = frand1 () > 0.90;

  00162	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0016c	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00171	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00176	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0017c	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0017f	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00185	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00189	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00191	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00199	76 09		 jbe	 SHORT $LN28@partially_
  0019b	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv149[ebp], 1
  001a2	eb 07		 jmp	 SHORT $LN29@partially_
$LN28@partially_:
  001a4	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv149[ebp], 0
$LN29@partially_:
  001ab	8b 55 bc	 mov	 edx, DWORD PTR tv149[ebp]
  001ae	83 e2 01	 and	 edx, 1
  001b1	c1 e2 03	 shl	 edx, 3
  001b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  001b9	83 e0 f7	 and	 eax, -9			; fffffff7H
  001bc	0b c2		 or	 eax, edx
  001be	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN5@partially_:

; 244  : 	}
; 245  : 
; 246  : 	////////////////////////////////////////
; 247  : 
; 248  : 	if (kiowa_damage.navigation_computer)

  001c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  001c8	c1 e8 04	 shr	 eax, 4
  001cb	83 e0 01	 and	 eax, 1
  001ce	74 61		 je	 SHORT $LN6@partially_

; 249  : 	{
; 250  : 		kiowa_damage.navigation_computer = frand1 () > 0.90;

  001d0	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  001da	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  001df	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  001e4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  001ea	c1 f9 10	 sar	 ecx, 16			; 00000010H
  001ed	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  001f3	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  001f7	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  001ff	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00207	76 09		 jbe	 SHORT $LN30@partially_
  00209	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv164[ebp], 1
  00210	eb 07		 jmp	 SHORT $LN31@partially_
$LN30@partially_:
  00212	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv164[ebp], 0
$LN31@partially_:
  00219	8b 55 bc	 mov	 edx, DWORD PTR tv164[ebp]
  0021c	83 e2 01	 and	 edx, 1
  0021f	c1 e2 04	 shl	 edx, 4
  00222	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00227	83 e0 ef	 and	 eax, -17		; ffffffefH
  0022a	0b c2		 or	 eax, edx
  0022c	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN6@partially_:

; 251  : 	}
; 252  : 
; 253  : 	////////////////////////////////////////
; 254  : 
; 255  : 	if (kiowa_damage.communications)

  00231	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00236	c1 e8 05	 shr	 eax, 5
  00239	83 e0 01	 and	 eax, 1
  0023c	74 61		 je	 SHORT $LN7@partially_

; 256  : 	{
; 257  : 		kiowa_damage.communications = frand1 () > 0.90;

  0023e	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00248	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0024d	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00252	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00258	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0025b	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00261	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00265	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0026d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00275	76 09		 jbe	 SHORT $LN32@partially_
  00277	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv179[ebp], 1
  0027e	eb 07		 jmp	 SHORT $LN33@partially_
$LN32@partially_:
  00280	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN33@partially_:
  00287	8b 55 bc	 mov	 edx, DWORD PTR tv179[ebp]
  0028a	83 e2 01	 and	 edx, 1
  0028d	c1 e2 05	 shl	 edx, 5
  00290	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00295	83 e0 df	 and	 eax, -33		; ffffffdfH
  00298	0b c2		 or	 eax, edx
  0029a	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN7@partially_:

; 258  : 	}
; 259  : 
; 260  : 	////////////////////////////////////////
; 261  : 
; 262  : 	if (kiowa_damage.radar_warning_system)

  0029f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  002a4	c1 e8 06	 shr	 eax, 6
  002a7	83 e0 01	 and	 eax, 1
  002aa	74 61		 je	 SHORT $LN8@partially_

; 263  : 	{
; 264  : 		kiowa_damage.radar_warning_system = frand1 () > 0.90;

  002ac	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  002b6	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  002bb	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  002c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  002c6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  002c9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  002cf	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  002d3	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  002db	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  002e3	76 09		 jbe	 SHORT $LN34@partially_
  002e5	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv194[ebp], 1
  002ec	eb 07		 jmp	 SHORT $LN35@partially_
$LN34@partially_:
  002ee	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv194[ebp], 0
$LN35@partially_:
  002f5	8b 55 bc	 mov	 edx, DWORD PTR tv194[ebp]
  002f8	83 e2 01	 and	 edx, 1
  002fb	c1 e2 06	 shl	 edx, 6
  002fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00303	83 e0 bf	 and	 eax, -65		; ffffffbfH
  00306	0b c2		 or	 eax, edx
  00308	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN8@partially_:

; 265  : 	}
; 266  : 
; 267  : 	////////////////////////////////////////
; 268  : 
; 269  : 	if (kiowa_damage.co_pilot_main_mfd)

  0030d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00312	c1 e8 07	 shr	 eax, 7
  00315	83 e0 01	 and	 eax, 1
  00318	74 79		 je	 SHORT $LN10@partially_

; 270  : 	{
; 271  : 		kiowa_damage.co_pilot_main_mfd = frand1 () > 0.90;

  0031a	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00324	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00329	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0032e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00334	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00337	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0033d	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00341	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00349	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00351	76 09		 jbe	 SHORT $LN36@partially_
  00353	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv209[ebp], 1
  0035a	eb 07		 jmp	 SHORT $LN37@partially_
$LN36@partially_:
  0035c	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv209[ebp], 0
$LN37@partially_:
  00363	8b 55 bc	 mov	 edx, DWORD PTR tv209[ebp]
  00366	83 e2 01	 and	 edx, 1
  00369	c1 e2 07	 shl	 edx, 7
  0036c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00371	25 7f ff ff ff	 and	 eax, -129		; ffffff7fH
  00376	0b c2		 or	 eax, edx
  00378	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 272  : 
; 273  : 		if (!kiowa_damage.co_pilot_main_mfd)

  0037d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00382	c1 e8 07	 shr	 eax, 7
  00385	83 e0 01	 and	 eax, 1
  00388	75 09		 jne	 SHORT $LN10@partially_

; 274  : 		{
; 275  : 			select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_OFF, KIOWA_MAIN_MFD_LOCATION_CO_PILOT);

  0038a	6a 00		 push	 0
  0038c	6a 00		 push	 0
  0038e	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN10@partially_:

; 276  : 		}
; 277  : 	}
; 278  : 
; 279  : 	////////////////////////////////////////
; 280  : 
; 281  : 	if (kiowa_damage.pilot_main_mfd)

  00393	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00398	c1 e8 08	 shr	 eax, 8
  0039b	83 e0 01	 and	 eax, 1
  0039e	74 79		 je	 SHORT $LN12@partially_

; 282  : 	{
; 283  : 		kiowa_damage.pilot_main_mfd = frand1 () > 0.90;

  003a0	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  003aa	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  003af	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  003b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  003ba	c1 f9 10	 sar	 ecx, 16			; 00000010H
  003bd	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  003c3	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  003c7	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  003cf	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  003d7	76 09		 jbe	 SHORT $LN38@partially_
  003d9	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv229[ebp], 1
  003e0	eb 07		 jmp	 SHORT $LN39@partially_
$LN38@partially_:
  003e2	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv229[ebp], 0
$LN39@partially_:
  003e9	8b 55 bc	 mov	 edx, DWORD PTR tv229[ebp]
  003ec	83 e2 01	 and	 edx, 1
  003ef	c1 e2 08	 shl	 edx, 8
  003f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  003f7	25 ff fe ff ff	 and	 eax, -257		; fffffeffH
  003fc	0b c2		 or	 eax, edx
  003fe	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 284  : 
; 285  : 		if (!kiowa_damage.pilot_main_mfd)

  00403	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00408	c1 e8 08	 shr	 eax, 8
  0040b	83 e0 01	 and	 eax, 1
  0040e	75 09		 jne	 SHORT $LN12@partially_

; 286  : 		{
; 287  : 			select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_OFF, KIOWA_MAIN_MFD_LOCATION_PILOT);

  00410	6a 01		 push	 1
  00412	6a 00		 push	 0
  00414	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN12@partially_:

; 288  : 		}
; 289  : 	}
; 290  : 
; 291  : 	////////////////////////////////////////
; 292  : 
; 293  : 	if (kiowa_damage.center_main_mfd)

  00419	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0041e	c1 e8 09	 shr	 eax, 9
  00421	83 e0 01	 and	 eax, 1
  00424	74 79		 je	 SHORT $LN14@partially_

; 294  : 	{
; 295  : 		kiowa_damage.center_main_mfd = frand1 () > 0.90;

  00426	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00430	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00435	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  0043a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00440	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00443	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00449	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  0044d	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00455	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  0045d	76 09		 jbe	 SHORT $LN40@partially_
  0045f	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv249[ebp], 1
  00466	eb 07		 jmp	 SHORT $LN41@partially_
$LN40@partially_:
  00468	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv249[ebp], 0
$LN41@partially_:
  0046f	8b 55 bc	 mov	 edx, DWORD PTR tv249[ebp]
  00472	83 e2 01	 and	 edx, 1
  00475	c1 e2 09	 shl	 edx, 9
  00478	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0047d	25 ff fd ff ff	 and	 eax, -513		; fffffdffH
  00482	0b c2		 or	 eax, edx
  00484	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 296  : 
; 297  : 		if (!kiowa_damage.center_main_mfd)

  00489	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0048e	c1 e8 09	 shr	 eax, 9
  00491	83 e0 01	 and	 eax, 1
  00494	75 09		 jne	 SHORT $LN14@partially_

; 298  : 		{
; 299  : 			select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_OFF, KIOWA_MAIN_MFD_LOCATION_CENTER);

  00496	6a 02		 push	 2
  00498	6a 00		 push	 0
  0049a	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN14@partially_:

; 300  : 		}
; 301  : 	}
; 302  : 
; 303  : 	////////////////////////////////////////
; 304  : 
; 305  : 	if (kiowa_damage.pnvs)

  0049f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  004a4	c1 e8 0a	 shr	 eax, 10			; 0000000aH
  004a7	83 e0 01	 and	 eax, 1
  004aa	74 63		 je	 SHORT $LN15@partially_

; 306  : 	{
; 307  : 		kiowa_damage.pnvs = frand1 () > 0.90;

  004ac	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  004b6	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  004bb	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  004c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  004c6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  004c9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  004cf	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  004d3	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  004db	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  004e3	76 09		 jbe	 SHORT $LN42@partially_
  004e5	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv269[ebp], 1
  004ec	eb 07		 jmp	 SHORT $LN43@partially_
$LN42@partially_:
  004ee	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv269[ebp], 0
$LN43@partially_:
  004f5	8b 55 bc	 mov	 edx, DWORD PTR tv269[ebp]
  004f8	83 e2 01	 and	 edx, 1
  004fb	c1 e2 0a	 shl	 edx, 10			; 0000000aH
  004fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00503	25 ff fb ff ff	 and	 eax, -1025		; fffffbffH
  00508	0b c2		 or	 eax, edx
  0050a	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN15@partially_:

; 308  : 	}
; 309  : 
; 310  : 	////////////////////////////////////////
; 311  : 
; 312  : 	if (kiowa_damage.lh_pylon)

  0050f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00514	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00517	83 e0 01	 and	 eax, 1
  0051a	74 63		 je	 SHORT $LN16@partially_

; 313  : 	{
; 314  : 		kiowa_damage.lh_pylon = frand1 () > 0.90;

  0051c	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00526	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0052b	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00530	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00536	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00539	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0053f	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00543	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0054b	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00553	76 09		 jbe	 SHORT $LN44@partially_
  00555	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv284[ebp], 1
  0055c	eb 07		 jmp	 SHORT $LN45@partially_
$LN44@partially_:
  0055e	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv284[ebp], 0
$LN45@partially_:
  00565	8b 55 bc	 mov	 edx, DWORD PTR tv284[ebp]
  00568	83 e2 01	 and	 edx, 1
  0056b	c1 e2 0b	 shl	 edx, 11			; 0000000bH
  0056e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00573	25 ff f7 ff ff	 and	 eax, -2049		; fffff7ffH
  00578	0b c2		 or	 eax, edx
  0057a	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN16@partially_:

; 315  : 	}
; 316  : 
; 317  : 	////////////////////////////////////////
; 318  : 
; 319  : 	if (kiowa_damage.rh_pylon)

  0057f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00584	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  00587	83 e0 01	 and	 eax, 1
  0058a	74 63		 je	 SHORT $LN17@partially_

; 320  : 	{
; 321  : 		kiowa_damage.rh_pylon = frand1 () > 0.90;

  0058c	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00596	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0059b	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  005a0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  005a6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  005a9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  005af	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  005b3	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  005bb	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  005c3	76 09		 jbe	 SHORT $LN46@partially_
  005c5	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv299[ebp], 1
  005cc	eb 07		 jmp	 SHORT $LN47@partially_
$LN46@partially_:
  005ce	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv299[ebp], 0
$LN47@partially_:
  005d5	8b 55 bc	 mov	 edx, DWORD PTR tv299[ebp]
  005d8	83 e2 01	 and	 edx, 1
  005db	c1 e2 0c	 shl	 edx, 12			; 0000000cH
  005de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  005e3	25 ff ef ff ff	 and	 eax, -4097		; ffffefffH
  005e8	0b c2		 or	 eax, edx
  005ea	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN17@partially_:

; 322  : 	}
; 323  : 
; 324  : 	////////////////////////////////////////
; 325  : 
; 326  : 	if (kiowa_damage.chaff_dispenser)

  005ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  005f4	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  005f7	83 e0 01	 and	 eax, 1
  005fa	74 63		 je	 SHORT $LN18@partially_

; 327  : 	{
; 328  : 		kiowa_damage.chaff_dispenser = frand1 () > 0.90;

  005fc	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00606	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0060b	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00610	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00616	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00619	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0061f	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00623	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0062b	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00633	76 09		 jbe	 SHORT $LN48@partially_
  00635	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv314[ebp], 1
  0063c	eb 07		 jmp	 SHORT $LN49@partially_
$LN48@partially_:
  0063e	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv314[ebp], 0
$LN49@partially_:
  00645	8b 55 bc	 mov	 edx, DWORD PTR tv314[ebp]
  00648	83 e2 01	 and	 edx, 1
  0064b	c1 e2 0d	 shl	 edx, 13			; 0000000dH
  0064e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00653	25 ff df ff ff	 and	 eax, -8193		; ffffdfffH
  00658	0b c2		 or	 eax, edx
  0065a	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN18@partially_:

; 329  : 	}
; 330  : 
; 331  : 	////////////////////////////////////////
; 332  : 
; 333  : 	if (kiowa_damage.flare_dispenser)

  0065f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00664	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00667	83 e0 01	 and	 eax, 1
  0066a	74 63		 je	 SHORT $LN19@partially_

; 334  : 	{
; 335  : 		kiowa_damage.flare_dispenser = frand1 () > 0.90;

  0066c	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  00676	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  0067b	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00680	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  00686	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00689	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  0068f	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00693	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0069b	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  006a3	76 09		 jbe	 SHORT $LN50@partially_
  006a5	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv329[ebp], 1
  006ac	eb 07		 jmp	 SHORT $LN51@partially_
$LN50@partially_:
  006ae	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv329[ebp], 0
$LN51@partially_:
  006b5	8b 55 bc	 mov	 edx, DWORD PTR tv329[ebp]
  006b8	83 e2 01	 and	 edx, 1
  006bb	c1 e2 0e	 shl	 edx, 14			; 0000000eH
  006be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  006c3	25 ff bf ff ff	 and	 eax, -16385		; ffffbfffH
  006c8	0b c2		 or	 eax, edx
  006ca	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN19@partially_:

; 336  : 	}
; 337  : 
; 338  : 	////////////////////////////////////////
; 339  : 
; 340  : 	if (kiowa_damage.hud)

  006cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  006d4	c1 e8 0f	 shr	 eax, 15			; 0000000fH
  006d7	83 e0 01	 and	 eax, 1
  006da	74 63		 je	 SHORT $LN20@partially_

; 341  : 	{
; 342  : 		kiowa_damage.hud = frand1 () > 0.90;

  006dc	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  006e6	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  006eb	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  006f0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  006f6	c1 f9 10	 sar	 ecx, 16			; 00000010H
  006f9	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  006ff	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  00703	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  0070b	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3feccccccccccccd
  00713	76 09		 jbe	 SHORT $LN52@partially_
  00715	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv344[ebp], 1
  0071c	eb 07		 jmp	 SHORT $LN53@partially_
$LN52@partially_:
  0071e	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv344[ebp], 0
$LN53@partially_:
  00725	8b 55 bc	 mov	 edx, DWORD PTR tv344[ebp]
  00728	83 e2 01	 and	 edx, 1
  0072b	c1 e2 0f	 shl	 edx, 15			; 0000000fH
  0072e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00733	25 ff 7f ff ff	 and	 eax, -32769		; ffff7fffH
  00738	0b c2		 or	 eax, edx
  0073a	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage
$LN20@partially_:

; 343  : 	}
; 344  : 
; 345  : 	////////////////////////////////////////
; 346  : 
; 347  : 	set_kiowa_weapon_damage_status ();

  0073f	e8 00 00 00 00	 call	 ?set_kiowa_weapon_damage_status@@YGXXZ ; set_kiowa_weapon_damage_status

; 348  : }

  00744	5f		 pop	 edi
  00745	5e		 pop	 esi
  00746	5b		 pop	 ebx
  00747	8b e5		 mov	 esp, ebp
  00749	5d		 pop	 ebp
  0074a	c3		 ret	 0
?partially_repair_kiowa_damage@@YGXXZ ENDP		; partially_repair_kiowa_damage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
;	COMDAT ?fully_repair_kiowa_damage@@YGXXZ
_TEXT	SEGMENT
?fully_repair_kiowa_damage@@YGXXZ PROC			; fully_repair_kiowa_damage, COMDAT

; 123  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 124  : 	fire_extinguisher_used = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fire_extinguisher_used@@3HA, 0 ; fire_extinguisher_used

; 125  : 
; 126  : 	////////////////////////////////////////
; 127  : 
; 128  : 	kiowa_damage.flir = FALSE;

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00018	83 e0 fe	 and	 eax, -2			; fffffffeH
  0001b	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 129  : 
; 130  : 	////////////////////////////////////////
; 131  : 
; 132  : 	kiowa_damage.dtv = FALSE;

  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00025	83 e0 fd	 and	 eax, -3			; fffffffdH
  00028	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 133  : 
; 134  : 	////////////////////////////////////////
; 135  : 
; 136  : 	kiowa_damage.laser_designator = FALSE;

  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00032	83 e0 fb	 and	 eax, -5			; fffffffbH
  00035	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 137  : 
; 138  : 	////////////////////////////////////////
; 139  : 
; 140  : 	kiowa_damage.infra_red_jammer = FALSE;

  0003a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0003f	83 e0 f7	 and	 eax, -9			; fffffff7H
  00042	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 141  : 
; 142  : 	////////////////////////////////////////
; 143  : 
; 144  : 	kiowa_damage.navigation_computer = FALSE;

  00047	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0004c	83 e0 ef	 and	 eax, -17		; ffffffefH
  0004f	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 145  : 
; 146  : 	////////////////////////////////////////
; 147  : 
; 148  : 	kiowa_damage.communications = FALSE;

  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00059	83 e0 df	 and	 eax, -33		; ffffffdfH
  0005c	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 149  : 
; 150  : 	////////////////////////////////////////
; 151  : 
; 152  : 	kiowa_damage.radar_warning_system = FALSE;

  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00066	83 e0 bf	 and	 eax, -65		; ffffffbfH
  00069	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 153  : 
; 154  : 	////////////////////////////////////////
; 155  : 
; 156  : 	if (kiowa_damage.co_pilot_main_mfd)

  0006e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00073	c1 e8 07	 shr	 eax, 7
  00076	83 e0 01	 and	 eax, 1
  00079	74 18		 je	 SHORT $LN2@fully_repa

; 157  : 	{
; 158  : 		kiowa_damage.co_pilot_main_mfd = FALSE;

  0007b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00080	25 7f ff ff ff	 and	 eax, -129		; ffffff7fH
  00085	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 159  : 
; 160  : 		select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_OFF, KIOWA_MAIN_MFD_LOCATION_PILOT);

  0008a	6a 01		 push	 1
  0008c	6a 00		 push	 0
  0008e	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN2@fully_repa:

; 161  : 	}
; 162  : 
; 163  : 	////////////////////////////////////////
; 164  : 
; 165  : 	if (kiowa_damage.pilot_main_mfd)

  00093	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00098	c1 e8 08	 shr	 eax, 8
  0009b	83 e0 01	 and	 eax, 1
  0009e	74 18		 je	 SHORT $LN3@fully_repa

; 166  : 	{
; 167  : 		kiowa_damage.pilot_main_mfd = FALSE;

  000a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000a5	25 ff fe ff ff	 and	 eax, -257		; fffffeffH
  000aa	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 168  : 
; 169  : 		select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_OFF, KIOWA_MAIN_MFD_LOCATION_PILOT);

  000af	6a 01		 push	 1
  000b1	6a 00		 push	 0
  000b3	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN3@fully_repa:

; 170  : 	}
; 171  : 
; 172  : 	////////////////////////////////////////
; 173  : 
; 174  : 	if (kiowa_damage.center_main_mfd)

  000b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000bd	c1 e8 09	 shr	 eax, 9
  000c0	83 e0 01	 and	 eax, 1
  000c3	74 18		 je	 SHORT $LN4@fully_repa

; 175  : 	{
; 176  : 		kiowa_damage.center_main_mfd = FALSE;

  000c5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000ca	25 ff fd ff ff	 and	 eax, -513		; fffffdffH
  000cf	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 177  : 
; 178  : 		select_kiowa_main_mfd_mode (KIOWA_MAIN_MFD_MODE_OFF, KIOWA_MAIN_MFD_LOCATION_CENTER);

  000d4	6a 02		 push	 2
  000d6	6a 00		 push	 0
  000d8	e8 00 00 00 00	 call	 ?select_kiowa_main_mfd_mode@@YGXW4KIOWA_MAIN_MFD_MODES@@W4KIOWA_MAIN_MFD_LOCATIONS@@@Z ; select_kiowa_main_mfd_mode
$LN4@fully_repa:

; 179  : 	}
; 180  : 
; 181  : 	////////////////////////////////////////
; 182  : 
; 183  : 	kiowa_damage.pnvs = FALSE;

  000dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000e2	25 ff fb ff ff	 and	 eax, -1025		; fffffbffH
  000e7	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 184  : 
; 185  : 	////////////////////////////////////////
; 186  : 
; 187  : 	kiowa_damage.lh_pylon = FALSE;

  000ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  000f1	25 ff f7 ff ff	 and	 eax, -2049		; fffff7ffH
  000f6	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 188  : 
; 189  : 	////////////////////////////////////////
; 190  : 
; 191  : 	kiowa_damage.rh_pylon = FALSE;

  000fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00100	25 ff ef ff ff	 and	 eax, -4097		; ffffefffH
  00105	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 192  : 
; 193  : 	////////////////////////////////////////
; 194  : 
; 195  : 	kiowa_damage.chaff_dispenser = FALSE;

  0010a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0010f	25 ff df ff ff	 and	 eax, -8193		; ffffdfffH
  00114	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 196  : 
; 197  : 	////////////////////////////////////////
; 198  : 
; 199  : 	kiowa_damage.flare_dispenser = FALSE;

  00119	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0011e	25 ff bf ff ff	 and	 eax, -16385		; ffffbfffH
  00123	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 200  : 
; 201  : 	////////////////////////////////////////
; 202  : 
; 203  : 	kiowa_damage.hud = FALSE;

  00128	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0012d	25 ff 7f ff ff	 and	 eax, -32769		; ffff7fffH
  00132	a3 00 00 00 00	 mov	 DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A, eax ; kiowa_damage

; 204  : 
; 205  : 	////////////////////////////////////////
; 206  : 
; 207  : 	set_kiowa_weapon_damage_status ();

  00137	e8 00 00 00 00	 call	 ?set_kiowa_weapon_damage_status@@YGXXZ ; set_kiowa_weapon_damage_status

; 208  : }

  0013c	5f		 pop	 edi
  0013d	5e		 pop	 esi
  0013e	5b		 pop	 ebx
  0013f	8b e5		 mov	 esp, ebp
  00141	5d		 pop	 ebp
  00142	c3		 ret	 0
?fully_repair_kiowa_damage@@YGXXZ ENDP			; fully_repair_kiowa_damage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\kiowa\ki_dam.c
;	COMDAT ?set_kiowa_weapon_damage_status@@YGXXZ
_TEXT	SEGMENT
tv134 = -80						; size = 4
tv94 = -76						; size = 4
_weapon_sub_type$ = -8					; size = 4
_en$ = -4						; size = 4
?set_kiowa_weapon_damage_status@@YGXXZ PROC		; set_kiowa_weapon_damage_status, COMDAT

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 88   : 	entity
; 89   : 		*en;
; 90   : 
; 91   : 	entity_sub_types
; 92   : 		weapon_sub_type;
; 93   : 
; 94   : 	en = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 95   : 
; 96   : 	set_client_server_entity_weapon_damage (en, KIOWA_LHS_PYLON, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, kiowa_damage.lh_pylon);

  00011	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00016	c1 e8 0b	 shr	 eax, 11			; 0000000bH
  00019	83 e0 01	 and	 eax, 1
  0001c	50		 push	 eax
  0001d	6a 00		 push	 0
  0001f	6a 00		 push	 0
  00021	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00024	51		 push	 ecx
  00025	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 97   : 	set_client_server_entity_weapon_damage (en, KIOWA_RHS_PYLON, ENTITY_SUB_TYPE_WEAPON_NO_WEAPON, kiowa_damage.rh_pylon);

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  0002f	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  00032	83 e0 01	 and	 eax, 1
  00035	50		 push	 eax
  00036	6a 00		 push	 0
  00038	6a 01		 push	 1
  0003a	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0003d	51		 push	 ecx
  0003e	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 98   : 	set_client_server_entity_weapon_damage (en, KIOWA_CHAFF_DISPENSER, ENTITY_SUB_TYPE_WEAPON_CHAFF, kiowa_damage.chaff_dispenser);

  00043	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00048	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  0004b	83 e0 01	 and	 eax, 1
  0004e	50		 push	 eax
  0004f	6a 43		 push	 67			; 00000043H
  00051	6a 02		 push	 2
  00053	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00056	51		 push	 ecx
  00057	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 99   : 	set_client_server_entity_weapon_damage (en, KIOWA_FLARE_DISPENSER, ENTITY_SUB_TYPE_WEAPON_FLARE, kiowa_damage.flare_dispenser);

  0005c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?kiowa_damage@@3TKIOWA_DAMAGE_FLAGS@@A ; kiowa_damage
  00061	c1 e8 0e	 shr	 eax, 14			; 0000000eH
  00064	83 e0 01	 and	 eax, 1
  00067	50		 push	 eax
  00068	6a 44		 push	 68			; 00000044H
  0006a	6a 02		 push	 2
  0006c	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  0006f	51		 push	 ecx
  00070	e8 00 00 00 00	 call	 ?set_client_server_entity_weapon_damage@@YGXPAUENTITY@@HHH@Z ; set_client_server_entity_weapon_damage

; 100  : 
; 101  : 	//
; 102  : 	// check if selected weapon is still available, if not, select next
; 103  : 	//
; 104  : 
; 105  : 	weapon_sub_type = get_local_entity_int_value (en, INT_TYPE_SELECTED_WEAPON);

  00075	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00079	74 0a		 je	 SHORT $LN5@set_kiowa_
  0007b	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0007e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00080	89 4d b4	 mov	 DWORD PTR tv94[ebp], ecx
  00083	eb 21		 jmp	 SHORT $LN6@set_kiowa_
$LN5@set_kiowa_:
  00085	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_kiowa_weapon_damage_status@@YGXXZ@4JA
  0008b	83 c2 12	 add	 edx, 18			; 00000012H
  0008e	52		 push	 edx
  0008f	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  00094	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00099	50		 push	 eax
  0009a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0009f	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv94[ebp], 0
$LN6@set_kiowa_:
  000a6	b9 01 00 00 00	 mov	 ecx, 1
  000ab	85 c9		 test	 ecx, ecx
  000ad	74 09		 je	 SHORT $LN7@set_kiowa_
  000af	c7 45 b0 b8 00
	00 00		 mov	 DWORD PTR tv134[ebp], 184 ; 000000b8H
  000b6	eb 21		 jmp	 SHORT $LN8@set_kiowa_
$LN7@set_kiowa_:
  000b8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_kiowa_weapon_damage_status@@YGXXZ@4JA
  000be	83 c2 12	 add	 edx, 18			; 00000012H
  000c1	52		 push	 edx
  000c2	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@BNMOEBKJ@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000cc	50		 push	 eax
  000cd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d2	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN8@set_kiowa_:
  000d9	68 b8 00 00 00	 push	 184			; 000000b8H
  000de	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  000e1	51		 push	 ecx
  000e2	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv94[ebp], 1116
  000e9	8b 45 b0	 mov	 eax, DWORD PTR tv134[ebp]
  000ec	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  000f3	ff d1		 call	 ecx
  000f5	89 45 f8	 mov	 DWORD PTR _weapon_sub_type$[ebp], eax

; 106  : 
; 107  : 	if (weapon_sub_type != ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  000f8	83 7d f8 00	 cmp	 DWORD PTR _weapon_sub_type$[ebp], 0
  000fc	74 26		 je	 SHORT $LN1@set_kiowa_

; 108  : 	{
; 109  : 		if (!get_local_entity_weapon_available (en, weapon_sub_type))

  000fe	8b 45 f8	 mov	 eax, DWORD PTR _weapon_sub_type$[ebp]
  00101	50		 push	 eax
  00102	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00105	51		 push	 ecx
  00106	e8 00 00 00 00	 call	 ?get_local_entity_weapon_available@@YGHPAUENTITY@@H@Z ; get_local_entity_weapon_available
  0010b	85 c0		 test	 eax, eax
  0010d	75 15		 jne	 SHORT $LN1@set_kiowa_

; 110  : 		{
; 111  : 			weapon_sub_type = get_next_available_weapon_sub_type (en);

  0010f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?get_next_available_weapon_sub_type@@YGHPAUENTITY@@@Z ; get_next_available_weapon_sub_type
  00118	89 45 f8	 mov	 DWORD PTR _weapon_sub_type$[ebp], eax

; 112  : 
; 113  : 			set_gunship_weapon (weapon_sub_type);

  0011b	8b 45 f8	 mov	 eax, DWORD PTR _weapon_sub_type$[ebp]
  0011e	50		 push	 eax
  0011f	e8 00 00 00 00	 call	 ?set_gunship_weapon@@YGXH@Z ; set_gunship_weapon
$LN1@set_kiowa_:

; 114  : 		}
; 115  : 	}
; 116  : }

  00124	5f		 pop	 edi
  00125	5e		 pop	 esi
  00126	5b		 pop	 ebx
  00127	8b e5		 mov	 esp, ebp
  00129	5d		 pop	 ebp
  0012a	c3		 ret	 0
?set_kiowa_weapon_damage_status@@YGXXZ ENDP		; set_kiowa_weapon_damage_status
_TEXT	ENDS
END
