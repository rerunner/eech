; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A	; weapon_lock_type
PUBLIC	?fire_continuous_weapon@@3HA			; fire_continuous_weapon
PUBLIC	?fire_single_weapon@@3HA			; fire_single_weapon
PUBLIC	?rocket_salvo_size@@3HA				; rocket_salvo_size
PUBLIC	?rocket_salvo_count@@3HA			; rocket_salvo_count
PUBLIC	?gun_is_firing@@3HA				; gun_is_firing
PUBLIC	?good_tone@@3HA					; good_tone
PUBLIC	?good_tone_delay@@3MA				; good_tone_delay
PUBLIC	?ballistics_sight_calibrated_drop@@3MA		; ballistics_sight_calibrated_drop
_BSS	SEGMENT
?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A DD 01H DUP (?) ; weapon_lock_type
?fire_continuous_weapon@@3HA DD 01H DUP (?)		; fire_continuous_weapon
?fire_single_weapon@@3HA DD 01H DUP (?)			; fire_single_weapon
?rocket_salvo_size@@3HA DD 01H DUP (?)			; rocket_salvo_size
?rocket_salvo_count@@3HA DD 01H DUP (?)			; rocket_salvo_count
?gun_is_firing@@3HA DD 01H DUP (?)			; gun_is_firing
?good_tone@@3HA DD 01H DUP (?)				; good_tone
?good_tone_delay@@3MA DD 01H DUP (?)			; good_tone_delay
?ballistics_sight_calibrated_drop@@3MA DD 01H DUP (?)	; ballistics_sight_calibrated_drop
_BSS	ENDS
PUBLIC	_acosf
PUBLIC	_fabsf
PUBLIC	?acos@@YGMM@Z					; acos
PUBLIC	?fabs@@YGMM@Z					; fabs
PUBLIC	?initialise_common_weapon_systems@@YGXXZ	; initialise_common_weapon_systems
PUBLIC	?deinitialise_common_weapon_systems@@YGXXZ	; deinitialise_common_weapon_systems
PUBLIC	?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ; update_weapon_lock_type
PUBLIC	?increase_rocket_salvo_size@@YGXXZ		; increase_rocket_salvo_size
PUBLIC	?decrease_rocket_salvo_size@@YGXXZ		; decrease_rocket_salvo_size
PUBLIC	?set_gunship_weapon@@YGXH@Z			; set_gunship_weapon
PUBLIC	?play_common_cpg_radar_jammer_speech@@YGXH@Z	; play_common_cpg_radar_jammer_speech
PUBLIC	?play_common_cpg_infra_red_jammer_speech@@YGXH@Z ; play_common_cpg_infra_red_jammer_speech
PUBLIC	?play_common_cpg_failed_launch_speech@@YGXW4WEAPON_LOCK_TYPES@@@Z ; play_common_cpg_failed_launch_speech
PUBLIC	?update_good_tone@@YGXXZ			; update_good_tone
PUBLIC	?reset_good_tone@@YGXXZ				; reset_good_tone
PUBLIC	?get_weapon_drop@@YGMH@Z			; get_weapon_drop
PUBLIC	?lase_range_for_ballistics_sight@@YGXXZ		; lase_range_for_ballistics_sight
PUBLIC	?get_missile_flight_time@@YGMXZ			; get_missile_flight_time
PUBLIC	?__LINE__Var@?0??initialise_common_weapon_systems@@YGXXZ@4JA ; `initialise_common_weapon_systems'::`1'::__LINE__Var
PUBLIC	??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA ; `update_weapon_lock_type'::`1'::__LINE__Var
PUBLIC	??_C@_0DB@LKCPGLND@WARNING?$CB?5Target?5and?5weapon?5vect@ ; `string'
PUBLIC	??_C@_0BP@GDHIEJBG@Invalid?5rocket?5salvo?5size?5?$DN?5?$CFd@ ; `string'
PUBLIC	?__LINE__Var@?0??set_gunship_weapon@@YGXH@Z@4JA	; `set_gunship_weapon'::`1'::__LINE__Var
PUBLIC	??_C@_0CP@MAFEAOFK@entity_sub_type_weapon_valid?5?$CIw@ ; `string'
PUBLIC	?__LINE__Var@?0??lase_range_for_ballistics_sight@@YGXXZ@4JA ; `lase_range_for_ballistics_sight'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_weapon_drop@@YGMH@Z@4JA	; `get_weapon_drop'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA ; `get_missile_flight_time'::`1'::__LINE__Var
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f000000
PUBLIC	__real@3f00002000400080
PUBLIC	__real@3f800000
PUBLIC	__real@3f91df46a0000000
PUBLIC	__real@3fe0000000000000
PUBLIC	__real@3fe8000000000000
PUBLIC	__real@447a0000
PUBLIC	__real@bff0000000000000
EXTRN	_acos:PROC
EXTRN	_fabs:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?debug_colour_log@@YAXW4DEBUG_COLOURS@@PBDZZ:PROC ; debug_colour_log
EXTRN	?get_3d_unit_vector_dot_product@@YGMPBUVEC3D@@0@Z:PROC ; get_3d_unit_vector_dot_product
EXTRN	?get_3d_range@@YGMPBUVEC3D@@0@Z:PROC		; get_3d_range
EXTRN	?get_angle_of_projection_with_range@@YGHPBUVEC3D@@0MPAMM@Z:PROC ; get_angle_of_projection_with_range
EXTRN	?get_local_entity_child_pred_circular@@YGPAUENTITY@@PAU1@W4LIST_TYPES@@@Z:PROC ; get_local_entity_child_pred_circular
EXTRN	?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z:PROC ; get_local_entity_target_point
EXTRN	?get_ballistic_pitch_deflection@@YGHHMMPAM0HH@Z:PROC ; get_ballistic_pitch_deflection
EXTRN	?update_entity_weapon_system_weapon_and_target_vectors@@YGXPAUENTITY@@@Z:PROC ; update_entity_weapon_system_weapon_and_target_vectors
EXTRN	?guidance_type_can_use_point_lock@@YGHW4WEAPON_GUIDANCE_TYPES@@@Z:PROC ; guidance_type_can_use_point_lock
EXTRN	?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z:PROC ; play_client_server_cpg_message
EXTRN	?get_range_finder@@YG?AW4rangefinding_system@@XZ:PROC ; get_range_finder
EXTRN	?get_eo_los_intercept_point@@YGMPAUVEC3D@@@Z:PROC ; get_eo_los_intercept_point
EXTRN	?laser_is_active@@YGHXZ:PROC			; laser_is_active
EXTRN	?get_triangulated_by_position_range@@YGMPAUVEC3D@@0@Z:PROC ; get_triangulated_by_position_range
EXTRN	?get_eo_tracking_point@@YGPAUVEC3D@@XZ:PROC	; get_eo_tracking_point
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_pred
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA:BYTE ; fn_get_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_client_server_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?weapon_database@@3PAUWEAPON_DATA@@A:BYTE	; weapon_database
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?hud_mode@@3W4HUD_MODES@@A:DWORD		; hud_mode
EXTRN	?previous_hud_mode@@3W4HUD_MODES@@A:DWORD	; previous_hud_mode
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
;	COMDAT __real@bff0000000000000
CONST	SEGMENT
__real@bff0000000000000 DQ 0bff0000000000000r	; -1
CONST	ENDS
;	COMDAT __real@447a0000
CONST	SEGMENT
__real@447a0000 DD 0447a0000r			; 1000
CONST	ENDS
;	COMDAT __real@3fe8000000000000
CONST	SEGMENT
__real@3fe8000000000000 DQ 03fe8000000000000r	; 0.75
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT __real@3f91df46a0000000
CONST	SEGMENT
__real@3f91df46a0000000 DQ 03f91df46a0000000r	; 0.0174533
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f00002000400080
CONST	SEGMENT
__real@3f00002000400080 DQ 03f00002000400080r	; 3.05185e-05
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA DD 0327H ; `get_missile_flight_time'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_weapon_drop@@YGMH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_weapon_drop@@YGMH@Z@4JA DD 02fbH	; `get_weapon_drop'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??lase_range_for_ballistics_sight@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??lase_range_for_ballistics_sight@@YGXXZ@4JA DD 02ebH ; `lase_range_for_ballistics_sight'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CP@MAFEAOFK@entity_sub_type_weapon_valid?5?$CIw@
CONST	SEGMENT
??_C@_0CP@MAFEAOFK@entity_sub_type_weapon_valid?5?$CIw@ DB 'entity_sub_ty'
	DB	'pe_weapon_valid (weapon_sub_type)', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_gunship_weapon@@YGXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_gunship_weapon@@YGXH@Z@4JA DD 0230H ; `set_gunship_weapon'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BP@GDHIEJBG@Invalid?5rocket?5salvo?5size?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BP@GDHIEJBG@Invalid?5rocket?5salvo?5size?5?$DN?5?$CFd@ DB 'Invalid'
	DB	' rocket salvo size = %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@LKCPGLND@WARNING?$CB?5Target?5and?5weapon?5vect@
CONST	SEGMENT
??_C@_0DB@LKCPGLND@WARNING?$CB?5Target?5and?5weapon?5vect@ DB 'WARNING! T'
	DB	'arget and weapon vectors are not valid', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA DD 089H ; `update_weapon_lock_type'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\common\co_'
	DB	'wpn.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??initialise_common_weapon_systems@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??initialise_common_weapon_systems@@YGXXZ@4JA DD 067H ; `initialise_common_weapon_systems'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?get_missile_flight_time@@YGMXZ
_TEXT	SEGMENT
tv297 = -152						; size = 4
tv289 = -148						; size = 4
tv304 = -144						; size = 4
tv448 = -140						; size = 4
tv275 = -136						; size = 4
tv267 = -132						; size = 4
tv306 = -128						; size = 8
tv415 = -124						; size = 8
tv431 = -120						; size = 4
tv325 = -116						; size = 4
tv252 = -116						; size = 4
tv230 = -116						; size = 4
tv209 = -116						; size = 4
tv182 = -116						; size = 4
tv159 = -116						; size = 4
tv135 = -116						; size = 4
tv78 = -116						; size = 4
tv317 = -112						; size = 4
tv244 = -112						; size = 4
tv223 = -112						; size = 4
tv201 = -112						; size = 4
tv174 = -112						; size = 4
tv151 = -112						; size = 4
tv141 = -112						; size = 4
tv95 = -112						; size = 4
tv70 = -112						; size = 4
_cruise_velocity$1 = -44				; size = 4
_show_flight_time$2 = -40				; size = 4
_target_range$ = -36					; size = 4
_weapon_velocity$ = -32					; size = 4
_flight_time$ = -28					; size = 4
_target_position$ = -24					; size = 4
_weapon_position$ = -20					; size = 4
_target$ = -16						; size = 4
_weapon$ = -12						; size = 4
_en$ = -8						; size = 4
_weapon_sub_type$ = -4					; size = 4
?get_missile_flight_time@@YGMXZ PROC			; get_missile_flight_time, COMDAT

; 807  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 98 00 00
	00		 sub	 esp, 152		; 00000098H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 808  : 	entity_sub_types
; 809  : 		weapon_sub_type;
; 810  : 
; 811  : 	entity
; 812  : 		*en,
; 813  : 		*weapon,
; 814  : 		*target;
; 815  : 
; 816  : 	vec3d
; 817  : 		*weapon_position,
; 818  : 		*target_position;
; 819  : 
; 820  : 	float
; 821  : 		flight_time,
; 822  : 		weapon_velocity,
; 823  : 		target_range;
; 824  : 
; 825  : 	flight_time = 0.0;

  0000c	0f 57 c0	 xorps	 xmm0, xmm0
  0000f	f3 0f 11 45 e4	 movss	 DWORD PTR _flight_time$[ebp], xmm0

; 826  : 
; 827  : 	en = get_gunship_entity ();

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00019	89 45 f8	 mov	 DWORD PTR _en$[ebp], eax

; 828  : 
; 829  : 	//
; 830  : 	// find first launched Hellfire with a target (first found on list)
; 831  : 	//
; 832  : 
; 833  : 	weapon = get_local_entity_first_child (en, LIST_TYPE_LAUNCHED_WEAPON);

  0001c	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  00020	74 0a		 je	 SHORT $LN16@get_missil
  00022	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  00025	8b 08		 mov	 ecx, DWORD PTR [eax]
  00027	89 4d 90	 mov	 DWORD PTR tv70[ebp], ecx
  0002a	eb 21		 jmp	 SHORT $LN17@get_missil
$LN16@get_missil:
  0002c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  00032	83 c2 1a	 add	 edx, 26			; 0000001aH
  00035	52		 push	 edx
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00040	50		 push	 eax
  00041	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00046	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN17@get_missil:
  0004d	b9 01 00 00 00	 mov	 ecx, 1
  00052	85 c9		 test	 ecx, ecx
  00054	74 09		 je	 SHORT $LN18@get_missil
  00056	c7 45 8c 18 00
	00 00		 mov	 DWORD PTR tv78[ebp], 24	; 00000018H
  0005d	eb 21		 jmp	 SHORT $LN19@get_missil
$LN18@get_missil:
  0005f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  00065	83 c2 1a	 add	 edx, 26			; 0000001aH
  00068	52		 push	 edx
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00073	50		 push	 eax
  00074	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00079	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN19@get_missil:
  00080	6a 18		 push	 24			; 00000018H
  00082	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  00085	51		 push	 ecx
  00086	69 55 90 b4 00
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 180
  0008d	8b 45 8c	 mov	 eax, DWORD PTR tv78[ebp]
  00090	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00097	ff d1		 call	 ecx
  00099	89 45 f4	 mov	 DWORD PTR _weapon$[ebp], eax

; 834  : 	if (weapon)

  0009c	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  000a0	74 0e		 je	 SHORT $LN6@get_missil

; 835  : 		weapon = get_local_entity_child_pred_circular(weapon, LIST_TYPE_LAUNCHED_WEAPON);

  000a2	6a 18		 push	 24			; 00000018H
  000a4	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  000a7	50		 push	 eax
  000a8	e8 00 00 00 00	 call	 ?get_local_entity_child_pred_circular@@YGPAUENTITY@@PAU1@W4LIST_TYPES@@@Z ; get_local_entity_child_pred_circular
  000ad	89 45 f4	 mov	 DWORD PTR _weapon$[ebp], eax
$LN6@get_missil:

; 836  : 
; 837  : 	while (weapon)

  000b0	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  000b4	0f 84 df 05 00
	00		 je	 $LN3@get_missil

; 838  : 	{
; 839  : 		int show_flight_time = FALSE;

  000ba	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _show_flight_time$2[ebp], 0

; 840  : 		weapon_sub_type = get_local_entity_int_value (weapon, INT_TYPE_ENTITY_SUB_TYPE);

  000c1	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  000c5	74 0a		 je	 SHORT $LN20@get_missil
  000c7	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  000ca	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cc	89 4d 90	 mov	 DWORD PTR tv95[ebp], ecx
  000cf	eb 21		 jmp	 SHORT $LN21@get_missil
$LN20@get_missil:
  000d1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  000d7	83 c2 21	 add	 edx, 33			; 00000021H
  000da	52		 push	 edx
  000db	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e5	50		 push	 eax
  000e6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000eb	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
$LN21@get_missil:
  000f2	b9 01 00 00 00	 mov	 ecx, 1
  000f7	85 c9		 test	 ecx, ecx
  000f9	74 09		 je	 SHORT $LN22@get_missil
  000fb	c7 45 8c 34 00
	00 00		 mov	 DWORD PTR tv135[ebp], 52 ; 00000034H
  00102	eb 21		 jmp	 SHORT $LN23@get_missil
$LN22@get_missil:
  00104	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  0010a	83 c2 21	 add	 edx, 33			; 00000021H
  0010d	52		 push	 edx
  0010e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00113	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00118	50		 push	 eax
  00119	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011e	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN23@get_missil:
  00125	6a 34		 push	 52			; 00000034H
  00127	8b 4d f4	 mov	 ecx, DWORD PTR _weapon$[ebp]
  0012a	51		 push	 ecx
  0012b	69 55 90 5c 04
	00 00		 imul	 edx, DWORD PTR tv95[ebp], 1116
  00132	8b 45 8c	 mov	 eax, DWORD PTR tv135[ebp]
  00135	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0013c	ff d1		 call	 ecx
  0013e	89 45 fc	 mov	 DWORD PTR _weapon_sub_type$[ebp], eax

; 841  : 
; 842  : 		switch (weapon_sub_type)

  00141	8b 45 fc	 mov	 eax, DWORD PTR _weapon_sub_type$[ebp]
  00144	89 45 90	 mov	 DWORD PTR tv141[ebp], eax
  00147	8b 4d 90	 mov	 ecx, DWORD PTR tv141[ebp]
  0014a	83 e9 2d	 sub	 ecx, 45			; 0000002dH
  0014d	89 4d 90	 mov	 DWORD PTR tv141[ebp], ecx
  00150	83 7d 90 08	 cmp	 DWORD PTR tv141[ebp], 8
  00154	77 1a		 ja	 SHORT $LN8@get_missil
  00156	8b 55 90	 mov	 edx, DWORD PTR tv141[ebp]
  00159	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN60@get_missil[edx]
  00160	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN61@get_missil[eax*4]
$LN7@get_missil:

; 843  : 		{
; 844  : 		case ENTITY_SUB_TYPE_WEAPON_AGM114L_LONGBOW_HELLFIRE:
; 845  : 		case ENTITY_SUB_TYPE_WEAPON_AGM114K_HELLFIRE_II:
; 846  : 		case ENTITY_SUB_TYPE_WEAPON_ATAKA:
; 847  : 		case ENTITY_SUB_TYPE_WEAPON_VIKHR:
; 848  : 		case ENTITY_SUB_TYPE_WEAPON_AT6_SPIRAL:
; 849  : 		case ENTITY_SUB_TYPE_WEAPON_AS10_KAREN:
; 850  : 		case ENTITY_SUB_TYPE_WEAPON_AS14_KEDGE:
; 851  : 			show_flight_time = TRUE;

  00167	c7 45 d8 01 00
	00 00		 mov	 DWORD PTR _show_flight_time$2[ebp], 1

; 852  : 			break;

  0016e	eb 07		 jmp	 SHORT $LN4@get_missil
$LN8@get_missil:

; 853  : 		default:
; 854  : 			show_flight_time = FALSE;

  00170	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _show_flight_time$2[ebp], 0
$LN4@get_missil:

; 855  : 			break;
; 856  : 		}
; 857  : 
; 858  : 		if (show_flight_time)

  00177	83 7d d8 00	 cmp	 DWORD PTR _show_flight_time$2[ebp], 0
  0017b	0f 84 93 04 00
	00		 je	 $LN14@get_missil

; 859  : 		{
; 860  : 			target = get_local_entity_parent (weapon, LIST_TYPE_TARGET);

  00181	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  00185	74 0a		 je	 SHORT $LN24@get_missil
  00187	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  0018a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0018c	89 4d 90	 mov	 DWORD PTR tv151[ebp], ecx
  0018f	eb 21		 jmp	 SHORT $LN25@get_missil
$LN24@get_missil:
  00191	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  00197	83 c2 35	 add	 edx, 53			; 00000035H
  0019a	52		 push	 edx
  0019b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001a5	50		 push	 eax
  001a6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ab	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv151[ebp], 0
$LN25@get_missil:
  001b2	b9 01 00 00 00	 mov	 ecx, 1
  001b7	85 c9		 test	 ecx, ecx
  001b9	74 09		 je	 SHORT $LN26@get_missil
  001bb	c7 45 8c 26 00
	00 00		 mov	 DWORD PTR tv159[ebp], 38 ; 00000026H
  001c2	eb 21		 jmp	 SHORT $LN27@get_missil
$LN26@get_missil:
  001c4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  001ca	83 c2 35	 add	 edx, 53			; 00000035H
  001cd	52		 push	 edx
  001ce	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  001d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001d8	50		 push	 eax
  001d9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001de	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv159[ebp], 0
$LN27@get_missil:
  001e5	6a 26		 push	 38			; 00000026H
  001e7	8b 4d f4	 mov	 ecx, DWORD PTR _weapon$[ebp]
  001ea	51		 push	 ecx
  001eb	69 55 90 b4 00
	00 00		 imul	 edx, DWORD PTR tv151[ebp], 180
  001f2	8b 45 8c	 mov	 eax, DWORD PTR tv159[ebp]
  001f5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001fc	ff d1		 call	 ecx
  001fe	89 45 f0	 mov	 DWORD PTR _target$[ebp], eax

; 861  : 
; 862  : 			target_position = get_eo_tracking_point();

  00201	e8 00 00 00 00	 call	 ?get_eo_tracking_point@@YGPAUVEC3D@@XZ ; get_eo_tracking_point
  00206	89 45 e8	 mov	 DWORD PTR _target_position$[ebp], eax

; 863  : 			if (!target_position && target)

  00209	83 7d e8 00	 cmp	 DWORD PTR _target_position$[ebp], 0
  0020d	0f 85 83 00 00
	00		 jne	 $LN10@get_missil
  00213	83 7d f0 00	 cmp	 DWORD PTR _target$[ebp], 0
  00217	74 7d		 je	 SHORT $LN10@get_missil

; 864  : 				target_position = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00219	83 7d f0 00	 cmp	 DWORD PTR _target$[ebp], 0
  0021d	74 0a		 je	 SHORT $LN28@get_missil
  0021f	8b 45 f0	 mov	 eax, DWORD PTR _target$[ebp]
  00222	8b 08		 mov	 ecx, DWORD PTR [eax]
  00224	89 4d 90	 mov	 DWORD PTR tv174[ebp], ecx
  00227	eb 21		 jmp	 SHORT $LN29@get_missil
$LN28@get_missil:
  00229	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  0022f	83 c2 39	 add	 edx, 57			; 00000039H
  00232	52		 push	 edx
  00233	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00238	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0023d	50		 push	 eax
  0023e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00243	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv174[ebp], 0
$LN29@get_missil:
  0024a	b9 01 00 00 00	 mov	 ecx, 1
  0024f	85 c9		 test	 ecx, ecx
  00251	74 09		 je	 SHORT $LN30@get_missil
  00253	c7 45 8c 08 00
	00 00		 mov	 DWORD PTR tv182[ebp], 8
  0025a	eb 21		 jmp	 SHORT $LN31@get_missil
$LN30@get_missil:
  0025c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  00262	83 c2 39	 add	 edx, 57			; 00000039H
  00265	52		 push	 edx
  00266	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00270	50		 push	 eax
  00271	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00276	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv182[ebp], 0
$LN31@get_missil:
  0027d	6a 08		 push	 8
  0027f	8b 4d f0	 mov	 ecx, DWORD PTR _target$[ebp]
  00282	51		 push	 ecx
  00283	6b 55 90 60	 imul	 edx, DWORD PTR tv174[ebp], 96
  00287	8b 45 8c	 mov	 eax, DWORD PTR tv182[ebp]
  0028a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00291	ff d1		 call	 ecx
  00293	89 45 e8	 mov	 DWORD PTR _target_position$[ebp], eax
$LN10@get_missil:

; 865  : 
; 866  : 			if (target_position)

  00296	83 7d e8 00	 cmp	 DWORD PTR _target_position$[ebp], 0
  0029a	0f 84 74 03 00
	00		 je	 $LN14@get_missil

; 867  : 			{
; 868  : 				float cruise_velocity = weapon_database[weapon_sub_type].cruise_velocity * 0.75;

  002a0	69 45 fc e0 00
	00 00		 imul	 eax, DWORD PTR _weapon_sub_type$[ebp], 224
  002a7	f3 0f 5a 80 ac
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+172]
  002af	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3fe8000000000000
  002b7	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  002bb	f3 0f 11 45 d4	 movss	 DWORD PTR _cruise_velocity$1[ebp], xmm0

; 869  : 
; 870  : 				weapon_position = get_local_entity_vec3d_ptr (weapon, VEC3D_TYPE_POSITION);

  002c0	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  002c4	74 0a		 je	 SHORT $LN32@get_missil
  002c6	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  002c9	8b 08		 mov	 ecx, DWORD PTR [eax]
  002cb	89 4d 90	 mov	 DWORD PTR tv201[ebp], ecx
  002ce	eb 21		 jmp	 SHORT $LN33@get_missil
$LN32@get_missil:
  002d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  002d6	83 c2 3f	 add	 edx, 63			; 0000003fH
  002d9	52		 push	 edx
  002da	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  002df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002e4	50		 push	 eax
  002e5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002ea	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv201[ebp], 0
$LN33@get_missil:
  002f1	b9 01 00 00 00	 mov	 ecx, 1
  002f6	85 c9		 test	 ecx, ecx
  002f8	74 09		 je	 SHORT $LN34@get_missil
  002fa	c7 45 8c 08 00
	00 00		 mov	 DWORD PTR tv209[ebp], 8
  00301	eb 21		 jmp	 SHORT $LN35@get_missil
$LN34@get_missil:
  00303	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  00309	83 c2 3f	 add	 edx, 63			; 0000003fH
  0030c	52		 push	 edx
  0030d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00312	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00317	50		 push	 eax
  00318	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0031d	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv209[ebp], 0
$LN35@get_missil:
  00324	6a 08		 push	 8
  00326	8b 4d f4	 mov	 ecx, DWORD PTR _weapon$[ebp]
  00329	51		 push	 ecx
  0032a	6b 55 90 60	 imul	 edx, DWORD PTR tv201[ebp], 96
  0032e	8b 45 8c	 mov	 eax, DWORD PTR tv209[ebp]
  00331	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00338	ff d1		 call	 ecx
  0033a	89 45 ec	 mov	 DWORD PTR _weapon_position$[ebp], eax

; 871  : 				target_range = get_3d_range (weapon_position, target_position);

  0033d	8b 45 e8	 mov	 eax, DWORD PTR _target_position$[ebp]
  00340	50		 push	 eax
  00341	8b 4d ec	 mov	 ecx, DWORD PTR _weapon_position$[ebp]
  00344	51		 push	 ecx
  00345	e8 00 00 00 00	 call	 ?get_3d_range@@YGMPBUVEC3D@@0@Z ; get_3d_range
  0034a	d9 5d dc	 fstp	 DWORD PTR _target_range$[ebp]

; 872  : 
; 873  : 				// if rocket still burning and accelerating, use cruise velocity
; 874  : 				if (get_local_entity_float_value(weapon, FLOAT_TYPE_WEAPON_LIFETIME) > 0.0)

  0034d	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  00351	74 0a		 je	 SHORT $LN36@get_missil
  00353	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  00356	8b 08		 mov	 ecx, DWORD PTR [eax]
  00358	89 4d 90	 mov	 DWORD PTR tv223[ebp], ecx
  0035b	eb 1d		 jmp	 SHORT $LN37@get_missil
$LN36@get_missil:
  0035d	68 6a 03 00 00	 push	 874			; 0000036aH
  00362	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00367	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0036d	52		 push	 edx
  0036e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00373	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv223[ebp], 0
$LN37@get_missil:
  0037a	b8 01 00 00 00	 mov	 eax, 1
  0037f	85 c0		 test	 eax, eax
  00381	74 09		 je	 SHORT $LN38@get_missil
  00383	c7 45 8c 97 00
	00 00		 mov	 DWORD PTR tv230[ebp], 151 ; 00000097H
  0038a	eb 1d		 jmp	 SHORT $LN39@get_missil
$LN38@get_missil:
  0038c	68 6a 03 00 00	 push	 874			; 0000036aH
  00391	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00396	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0039c	51		 push	 ecx
  0039d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003a2	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv230[ebp], 0
$LN39@get_missil:
  003a9	68 97 00 00 00	 push	 151			; 00000097H
  003ae	8b 55 f4	 mov	 edx, DWORD PTR _weapon$[ebp]
  003b1	52		 push	 edx
  003b2	69 45 90 bc 02
	00 00		 imul	 eax, DWORD PTR tv223[ebp], 700
  003b9	8b 4d 8c	 mov	 ecx, DWORD PTR tv230[ebp]
  003bc	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  003c3	ff d2		 call	 edx
  003c5	dd 5d 84	 fstp	 QWORD PTR tv415[ebp]
  003c8	f2 0f 10 45 84	 movsd	 xmm0, QWORD PTR tv415[ebp]
  003cd	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  003d5	76 0f		 jbe	 SHORT $LN12@get_missil

; 875  : 					weapon_velocity = cruise_velocity;

  003d7	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _cruise_velocity$1[ebp]
  003dc	f3 0f 11 45 e0	 movss	 DWORD PTR _weapon_velocity$[ebp], xmm0

; 876  : 				else

  003e1	e9 0b 02 00 00	 jmp	 $LN13@get_missil
$LN12@get_missil:

; 877  : 					weapon_velocity = bound(get_local_entity_float_value (weapon, FLOAT_TYPE_VELOCITY), 0.0, cruise_velocity);

  003e6	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  003ea	74 0a		 je	 SHORT $LN40@get_missil
  003ec	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  003ef	8b 08		 mov	 ecx, DWORD PTR [eax]
  003f1	89 4d 90	 mov	 DWORD PTR tv244[ebp], ecx
  003f4	eb 21		 jmp	 SHORT $LN41@get_missil
$LN40@get_missil:
  003f6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  003fc	83 c2 46	 add	 edx, 70			; 00000046H
  003ff	52		 push	 edx
  00400	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00405	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0040a	50		 push	 eax
  0040b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00410	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv244[ebp], 0
$LN41@get_missil:
  00417	b9 01 00 00 00	 mov	 ecx, 1
  0041c	85 c9		 test	 ecx, ecx
  0041e	74 09		 je	 SHORT $LN42@get_missil
  00420	c7 45 8c 93 00
	00 00		 mov	 DWORD PTR tv252[ebp], 147 ; 00000093H
  00427	eb 21		 jmp	 SHORT $LN43@get_missil
$LN42@get_missil:
  00429	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  0042f	83 c2 46	 add	 edx, 70			; 00000046H
  00432	52		 push	 edx
  00433	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00438	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  0043d	50		 push	 eax
  0043e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00443	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv252[ebp], 0
$LN43@get_missil:
  0044a	68 93 00 00 00	 push	 147			; 00000093H
  0044f	8b 4d f4	 mov	 ecx, DWORD PTR _weapon$[ebp]
  00452	51		 push	 ecx
  00453	69 55 90 bc 02
	00 00		 imul	 edx, DWORD PTR tv244[ebp], 700
  0045a	8b 45 8c	 mov	 eax, DWORD PTR tv252[ebp]
  0045d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  00464	ff d1		 call	 ecx
  00466	d9 5d 88	 fstp	 DWORD PTR tv431[ebp]
  00469	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR tv431[ebp]
  0046e	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00472	0f 57 c9	 xorps	 xmm1, xmm1
  00475	66 0f 2f c8	 comisd	 xmm1, xmm0
  00479	76 0d		 jbe	 SHORT $LN54@get_missil
  0047b	0f 57 c0	 xorps	 xmm0, xmm0
  0047e	f2 0f 11 45 80	 movsd	 QWORD PTR tv306[ebp], xmm0
  00483	e9 5f 01 00 00	 jmp	 $LN55@get_missil
$LN54@get_missil:
  00488	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  0048c	74 0d		 je	 SHORT $LN44@get_missil
  0048e	8b 55 f4	 mov	 edx, DWORD PTR _weapon$[ebp]
  00491	8b 02		 mov	 eax, DWORD PTR [edx]
  00493	89 85 7c ff ff
	ff		 mov	 DWORD PTR tv267[ebp], eax
  00499	eb 25		 jmp	 SHORT $LN45@get_missil
$LN44@get_missil:
  0049b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  004a1	83 c1 46	 add	 ecx, 70			; 00000046H
  004a4	51		 push	 ecx
  004a5	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  004aa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004b0	52		 push	 edx
  004b1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004b6	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv267[ebp], 0
$LN45@get_missil:
  004c0	b8 01 00 00 00	 mov	 eax, 1
  004c5	85 c0		 test	 eax, eax
  004c7	74 0c		 je	 SHORT $LN46@get_missil
  004c9	c7 85 78 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv275[ebp], 147 ; 00000093H
  004d3	eb 25		 jmp	 SHORT $LN47@get_missil
$LN46@get_missil:
  004d5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  004db	83 c1 46	 add	 ecx, 70			; 00000046H
  004de	51		 push	 ecx
  004df	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  004e4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  004ea	52		 push	 edx
  004eb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004f0	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv275[ebp], 0
$LN47@get_missil:
  004fa	68 93 00 00 00	 push	 147			; 00000093H
  004ff	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  00502	50		 push	 eax
  00503	69 8d 7c ff ff
	ff bc 02 00 00	 imul	 ecx, DWORD PTR tv267[ebp], 700
  0050d	8b 95 78 ff ff
	ff		 mov	 edx, DWORD PTR tv275[ebp]
  00513	8b 84 91 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[ecx+edx*4]
  0051a	ff d0		 call	 eax
  0051c	d9 9d 74 ff ff
	ff		 fstp	 DWORD PTR tv448[ebp]
  00522	f3 0f 10 85 74
	ff ff ff	 movss	 xmm0, DWORD PTR tv448[ebp]
  0052a	0f 2f 45 d4	 comiss	 xmm0, DWORD PTR _cruise_velocity$1[ebp]
  0052e	76 12		 jbe	 SHORT $LN52@get_missil
  00530	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _cruise_velocity$1[ebp]
  00535	f3 0f 11 85 70
	ff ff ff	 movss	 DWORD PTR tv304[ebp], xmm0
  0053d	e9 98 00 00 00	 jmp	 $LN53@get_missil
$LN52@get_missil:
  00542	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  00546	74 0d		 je	 SHORT $LN48@get_missil
  00548	8b 4d f4	 mov	 ecx, DWORD PTR _weapon$[ebp]
  0054b	8b 11		 mov	 edx, DWORD PTR [ecx]
  0054d	89 95 6c ff ff
	ff		 mov	 DWORD PTR tv289[ebp], edx
  00553	eb 24		 jmp	 SHORT $LN49@get_missil
$LN48@get_missil:
  00555	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  0055a	83 c0 46	 add	 eax, 70			; 00000046H
  0055d	50		 push	 eax
  0055e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00563	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00569	51		 push	 ecx
  0056a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0056f	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv289[ebp], 0
$LN49@get_missil:
  00579	ba 01 00 00 00	 mov	 edx, 1
  0057e	85 d2		 test	 edx, edx
  00580	74 0c		 je	 SHORT $LN50@get_missil
  00582	c7 85 68 ff ff
	ff 93 00 00 00	 mov	 DWORD PTR tv297[ebp], 147 ; 00000093H
  0058c	eb 24		 jmp	 SHORT $LN51@get_missil
$LN50@get_missil:
  0058e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  00593	83 c0 46	 add	 eax, 70			; 00000046H
  00596	50		 push	 eax
  00597	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0059c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  005a2	51		 push	 ecx
  005a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005a8	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv297[ebp], 0
$LN51@get_missil:
  005b2	68 93 00 00 00	 push	 147			; 00000093H
  005b7	8b 55 f4	 mov	 edx, DWORD PTR _weapon$[ebp]
  005ba	52		 push	 edx
  005bb	69 85 6c ff ff
	ff bc 02 00 00	 imul	 eax, DWORD PTR tv289[ebp], 700
  005c5	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR tv297[ebp]
  005cb	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[eax+ecx*4]
  005d2	ff d2		 call	 edx
  005d4	d9 9d 70 ff ff
	ff		 fstp	 DWORD PTR tv304[ebp]
$LN53@get_missil:
  005da	f3 0f 5a 85 70
	ff ff ff	 cvtss2sd xmm0, DWORD PTR tv304[ebp]
  005e2	f2 0f 11 45 80	 movsd	 QWORD PTR tv306[ebp], xmm0
$LN55@get_missil:
  005e7	f2 0f 5a 45 80	 cvtsd2ss xmm0, QWORD PTR tv306[ebp]
  005ec	f3 0f 11 45 e0	 movss	 DWORD PTR _weapon_velocity$[ebp], xmm0
$LN13@get_missil:

; 878  : 
; 879  : 				if (weapon_velocity > 0.0)

  005f1	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _weapon_velocity$[ebp]
  005f6	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  005fe	76 14		 jbe	 SHORT $LN14@get_missil

; 880  : 				{
; 881  : 					flight_time = target_range / weapon_velocity;

  00600	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _target_range$[ebp]
  00605	f3 0f 5e 45 e0	 divss	 xmm0, DWORD PTR _weapon_velocity$[ebp]
  0060a	f3 0f 11 45 e4	 movss	 DWORD PTR _flight_time$[ebp], xmm0

; 882  : 
; 883  : 					break;

  0060f	e9 85 00 00 00	 jmp	 $LN3@get_missil
$LN14@get_missil:

; 884  : 				}
; 885  : 			}
; 886  : 		}
; 887  : 
; 888  : 		weapon = get_local_entity_child_pred (weapon, LIST_TYPE_LAUNCHED_WEAPON);

  00614	83 7d f4 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  00618	74 0a		 je	 SHORT $LN56@get_missil
  0061a	8b 45 f4	 mov	 eax, DWORD PTR _weapon$[ebp]
  0061d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0061f	89 4d 90	 mov	 DWORD PTR tv317[ebp], ecx
  00622	eb 21		 jmp	 SHORT $LN57@get_missil
$LN56@get_missil:
  00624	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  0062a	83 c2 51	 add	 edx, 81			; 00000051H
  0062d	52		 push	 edx
  0062e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00633	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00638	50		 push	 eax
  00639	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0063e	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv317[ebp], 0
$LN57@get_missil:
  00645	b9 01 00 00 00	 mov	 ecx, 1
  0064a	85 c9		 test	 ecx, ecx
  0064c	74 09		 je	 SHORT $LN58@get_missil
  0064e	c7 45 8c 18 00
	00 00		 mov	 DWORD PTR tv325[ebp], 24 ; 00000018H
  00655	eb 21		 jmp	 SHORT $LN59@get_missil
$LN58@get_missil:
  00657	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_missile_flight_time@@YGMXZ@4JA
  0065d	83 c2 51	 add	 edx, 81			; 00000051H
  00660	52		 push	 edx
  00661	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00666	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0066b	50		 push	 eax
  0066c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00671	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv325[ebp], 0
$LN59@get_missil:
  00678	6a 18		 push	 24			; 00000018H
  0067a	8b 4d f4	 mov	 ecx, DWORD PTR _weapon$[ebp]
  0067d	51		 push	 ecx
  0067e	69 55 90 b4 00
	00 00		 imul	 edx, DWORD PTR tv317[ebp], 180
  00685	8b 45 8c	 mov	 eax, DWORD PTR tv325[ebp]
  00688	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0068f	ff d1		 call	 ecx
  00691	89 45 f4	 mov	 DWORD PTR _weapon$[ebp], eax

; 889  : 	}

  00694	e9 17 fa ff ff	 jmp	 $LN6@get_missil
$LN3@get_missil:

; 890  : 
; 891  : 	return (flight_time);

  00699	d9 45 e4	 fld	 DWORD PTR _flight_time$[ebp]

; 892  : }

  0069c	5f		 pop	 edi
  0069d	5e		 pop	 esi
  0069e	5b		 pop	 ebx
  0069f	8b e5		 mov	 esp, ebp
  006a1	5d		 pop	 ebp
  006a2	c3		 ret	 0
  006a3	90		 npad	 1
$LN61@get_missil:
  006a4	00 00 00 00	 DD	 $LN7@get_missil
  006a8	00 00 00 00	 DD	 $LN8@get_missil
$LN60@get_missil:
  006ac	00		 DB	 0
  006ad	00		 DB	 0
  006ae	01		 DB	 1
  006af	01		 DB	 1
  006b0	00		 DB	 0
  006b1	00		 DB	 0
  006b2	00		 DB	 0
  006b3	00		 DB	 0
  006b4	00		 DB	 0
?get_missile_flight_time@@YGMXZ ENDP			; get_missile_flight_time
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?lase_range_for_ballistics_sight@@YGXXZ
_TEXT	SEGMENT
tv80 = -100						; size = 4
tv72 = -96						; size = 4
_wpn_type$ = -28					; size = 4
_time_of_flight$ = -24					; size = 4
_angle_of_drop$ = -20					; size = 4
_range$ = -16						; size = 4
_target_position$ = -12					; size = 12
?lase_range_for_ballistics_sight@@YGXXZ PROC		; lase_range_for_ballistics_sight, COMDAT

; 747  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 64	 sub	 esp, 100		; 00000064H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 748  : 	vec3d target_position;
; 749  : 	float range = get_eo_los_intercept_point(&target_position);

  00009	8d 45 f4	 lea	 eax, DWORD PTR _target_position$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?get_eo_los_intercept_point@@YGMPAUVEC3D@@@Z ; get_eo_los_intercept_point
  00012	d9 5d f0	 fstp	 DWORD PTR _range$[ebp]

; 750  : 	float angle_of_drop;
; 751  : 	float time_of_flight;
; 752  : 	entity_sub_types wpn_type = get_local_entity_int_value (get_gunship_entity (), INT_TYPE_SELECTED_WEAPON);

  00015	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0001c	74 0c		 je	 SHORT $LN4@lase_range
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00023	8b 08		 mov	 ecx, DWORD PTR [eax]
  00025	89 4d a0	 mov	 DWORD PTR tv72[ebp], ecx
  00028	eb 21		 jmp	 SHORT $LN5@lase_range
$LN4@lase_range:
  0002a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??lase_range_for_ballistics_sight@@YGXXZ@4JA
  00030	83 c2 05	 add	 edx, 5
  00033	52		 push	 edx
  00034	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00039	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0003e	50		 push	 eax
  0003f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00044	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv72[ebp], 0
$LN5@lase_range:
  0004b	b9 01 00 00 00	 mov	 ecx, 1
  00050	85 c9		 test	 ecx, ecx
  00052	74 09		 je	 SHORT $LN6@lase_range
  00054	c7 45 9c b8 00
	00 00		 mov	 DWORD PTR tv80[ebp], 184 ; 000000b8H
  0005b	eb 21		 jmp	 SHORT $LN7@lase_range
$LN6@lase_range:
  0005d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??lase_range_for_ballistics_sight@@YGXXZ@4JA
  00063	83 c2 05	 add	 edx, 5
  00066	52		 push	 edx
  00067	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00077	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN7@lase_range:
  0007e	68 b8 00 00 00	 push	 184			; 000000b8H
  00083	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00089	51		 push	 ecx
  0008a	69 55 a0 5c 04
	00 00		 imul	 edx, DWORD PTR tv72[ebp], 1116
  00091	8b 45 9c	 mov	 eax, DWORD PTR tv80[ebp]
  00094	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0009b	ff d1		 call	 ecx
  0009d	89 45 e4	 mov	 DWORD PTR _wpn_type$[ebp], eax

; 753  : 
; 754  : 	angle_of_drop = 0.0;

  000a0	0f 57 c0	 xorps	 xmm0, xmm0
  000a3	f3 0f 11 45 ec	 movss	 DWORD PTR _angle_of_drop$[ebp], xmm0

; 755  : 
; 756  : 	if (weapon_database[wpn_type].aiming_type == WEAPON_AIMING_TYPE_CALC_LEAD_AND_BALLISTIC)

  000a8	69 45 e4 e0 00
	00 00		 imul	 eax, DWORD PTR _wpn_type$[ebp], 224
  000af	83 b8 1c 00 00
	00 03		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+28], 3
  000b6	75 34		 jne	 SHORT $LN2@lase_range

; 757  : 		get_ballistic_pitch_deflection(wpn_type, range, current_flight_dynamics->pitch.value, &angle_of_drop, &time_of_flight, FALSE, TRUE);

  000b8	6a 01		 push	 1
  000ba	6a 00		 push	 0
  000bc	8d 45 e8	 lea	 eax, DWORD PTR _time_of_flight$[ebp]
  000bf	50		 push	 eax
  000c0	8d 4d ec	 lea	 ecx, DWORD PTR _angle_of_drop$[ebp]
  000c3	51		 push	 ecx
  000c4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  000ca	51		 push	 ecx
  000cb	f3 0f 10 82 5c
	21 00 00	 movss	 xmm0, DWORD PTR [edx+8540]
  000d3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d8	51		 push	 ecx
  000d9	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _range$[ebp]
  000de	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000e3	8b 45 e4	 mov	 eax, DWORD PTR _wpn_type$[ebp]
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?get_ballistic_pitch_deflection@@YGHHMMPAM0HH@Z ; get_ballistic_pitch_deflection
$LN2@lase_range:

; 758  : 
; 759  : 	ballistics_sight_calibrated_drop = angle_of_drop;

  000ec	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _angle_of_drop$[ebp]
  000f1	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?ballistics_sight_calibrated_drop@@3MA, xmm0

; 760  : }

  000f9	5f		 pop	 edi
  000fa	5e		 pop	 esi
  000fb	5b		 pop	 ebx
  000fc	8b e5		 mov	 esp, ebp
  000fe	5d		 pop	 ebp
  000ff	c3		 ret	 0
?lase_range_for_ballistics_sight@@YGXXZ ENDP		; lase_range_for_ballistics_sight
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?get_weapon_drop@@YGMH@Z
_TEXT	SEGMENT
tv131 = -108						; size = 4
tv78 = -108						; size = 4
tv91 = -104						; size = 4
tv70 = -104						; size = 4
_weapon_velocity$1 = -36				; size = 4
_time_of_flight$2 = -32					; size = 4
_angle_of_projection$3 = -28				; size = 4
_target_position$4 = -24				; size = 12
_source_position$5 = -12				; size = 4
_range$6 = -8						; size = 4
_target$ = -4						; size = 4
_wpn_type$ = 8						; size = 4
?get_weapon_drop@@YGMH@Z PROC				; get_weapon_drop, COMDAT

; 763  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 6c	 sub	 esp, 108		; 0000006cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 764  : 	entity* target = get_local_entity_parent (get_gunship_entity(), LIST_TYPE_TARGET);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	74 0c		 je	 SHORT $LN10@get_weapon
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00017	8b 08		 mov	 ecx, DWORD PTR [eax]
  00019	89 4d 98	 mov	 DWORD PTR tv70[ebp], ecx
  0001c	eb 21		 jmp	 SHORT $LN11@get_weapon
$LN10@get_weapon:
  0001e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_weapon_drop@@YGMH@Z@4JA
  00024	83 c2 01	 add	 edx, 1
  00027	52		 push	 edx
  00028	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00032	50		 push	 eax
  00033	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00038	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN11@get_weapon:
  0003f	b9 01 00 00 00	 mov	 ecx, 1
  00044	85 c9		 test	 ecx, ecx
  00046	74 09		 je	 SHORT $LN12@get_weapon
  00048	c7 45 94 26 00
	00 00		 mov	 DWORD PTR tv78[ebp], 38	; 00000026H
  0004f	eb 21		 jmp	 SHORT $LN13@get_weapon
$LN12@get_weapon:
  00051	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_weapon_drop@@YGMH@Z@4JA
  00057	83 c2 01	 add	 edx, 1
  0005a	52		 push	 edx
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00060	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00065	50		 push	 eax
  00066	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006b	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN13@get_weapon:
  00072	6a 26		 push	 38			; 00000026H
  00074	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0007a	51		 push	 ecx
  0007b	69 55 98 b4 00
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 180
  00082	8b 45 94	 mov	 eax, DWORD PTR tv78[ebp]
  00085	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0008c	ff d1		 call	 ecx
  0008e	89 45 fc	 mov	 DWORD PTR _target$[ebp], eax

; 765  : 
; 766  : 	if (target)

  00091	83 7d fc 00	 cmp	 DWORD PTR _target$[ebp], 0
  00095	0f 84 8c 01 00
	00		 je	 $LN2@get_weapon

; 767  : 	{
; 768  : 		float range = 1000.0;

  0009b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@447a0000
  000a3	f3 0f 11 45 f8	 movss	 DWORD PTR _range$6[ebp], xmm0

; 769  : 		vec3d *source_position, target_position;
; 770  : 		float angle_of_projection;
; 771  : 		float time_of_flight;
; 772  : 		source_position = get_local_entity_vec3d_ptr (get_gunship_entity(), VEC3D_TYPE_POSITION);

  000a8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000af	74 0c		 je	 SHORT $LN14@get_weapon
  000b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000b6	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b8	89 4d 98	 mov	 DWORD PTR tv91[ebp], ecx
  000bb	eb 21		 jmp	 SHORT $LN15@get_weapon
$LN14@get_weapon:
  000bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_weapon_drop@@YGMH@Z@4JA
  000c3	83 c2 09	 add	 edx, 9
  000c6	52		 push	 edx
  000c7	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000d1	50		 push	 eax
  000d2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d7	c7 45 98 00 00
	00 00		 mov	 DWORD PTR tv91[ebp], 0
$LN15@get_weapon:
  000de	b9 01 00 00 00	 mov	 ecx, 1
  000e3	85 c9		 test	 ecx, ecx
  000e5	74 09		 je	 SHORT $LN16@get_weapon
  000e7	c7 45 94 08 00
	00 00		 mov	 DWORD PTR tv131[ebp], 8
  000ee	eb 21		 jmp	 SHORT $LN17@get_weapon
$LN16@get_weapon:
  000f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_weapon_drop@@YGMH@Z@4JA
  000f6	83 c2 09	 add	 edx, 9
  000f9	52		 push	 edx
  000fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00104	50		 push	 eax
  00105	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0010a	c7 45 94 00 00
	00 00		 mov	 DWORD PTR tv131[ebp], 0
$LN17@get_weapon:
  00111	6a 08		 push	 8
  00113	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00119	51		 push	 ecx
  0011a	6b 55 98 60	 imul	 edx, DWORD PTR tv91[ebp], 96
  0011e	8b 45 94	 mov	 eax, DWORD PTR tv131[ebp]
  00121	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00128	ff d1		 call	 ecx
  0012a	89 45 f4	 mov	 DWORD PTR _source_position$5[ebp], eax

; 773  : 
; 774  : 		get_local_entity_target_point (target, &target_position);

  0012d	8d 45 e8	 lea	 eax, DWORD PTR _target_position$4[ebp]
  00130	50		 push	 eax
  00131	8b 4d fc	 mov	 ecx, DWORD PTR _target$[ebp]
  00134	51		 push	 ecx
  00135	e8 00 00 00 00	 call	 ?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z ; get_local_entity_target_point

; 775  : 		if (get_range_finder() == RANGEFINDER_TRIANGULATION)

  0013a	e8 00 00 00 00	 call	 ?get_range_finder@@YG?AW4rangefinding_system@@XZ ; get_range_finder
  0013f	83 f8 02	 cmp	 eax, 2
  00142	75 32		 jne	 SHORT $LN3@get_weapon

; 776  : 		{
; 777  : 			range = get_triangulated_by_position_range(source_position, &target_position);

  00144	8d 45 e8	 lea	 eax, DWORD PTR _target_position$4[ebp]
  00147	50		 push	 eax
  00148	8b 4d f4	 mov	 ecx, DWORD PTR _source_position$5[ebp]
  0014b	51		 push	 ecx
  0014c	e8 00 00 00 00	 call	 ?get_triangulated_by_position_range@@YGMPAUVEC3D@@0@Z ; get_triangulated_by_position_range
  00151	d9 5d f8	 fstp	 DWORD PTR _range$6[ebp]

; 778  : 			if (range == -1.0)

  00154	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _range$6[ebp]
  00159	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@bff0000000000000
  00161	9f		 lahf
  00162	f6 c4 44	 test	 ah, 68			; 00000044H
  00165	7a 0d		 jp	 SHORT $LN5@get_weapon

; 779  : 				range = 1000.0;  // use 1000 meters if unable to triangulate range

  00167	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@447a0000
  0016f	f3 0f 11 45 f8	 movss	 DWORD PTR _range$6[ebp], xmm0
$LN5@get_weapon:

; 780  : 		}
; 781  : 		else

  00174	eb 10		 jmp	 SHORT $LN4@get_weapon
$LN3@get_weapon:

; 782  : 			range = get_3d_range (source_position, &target_position);

  00176	8d 45 e8	 lea	 eax, DWORD PTR _target_position$4[ebp]
  00179	50		 push	 eax
  0017a	8b 4d f4	 mov	 ecx, DWORD PTR _source_position$5[ebp]
  0017d	51		 push	 ecx
  0017e	e8 00 00 00 00	 call	 ?get_3d_range@@YGMPBUVEC3D@@0@Z ; get_3d_range
  00183	d9 5d f8	 fstp	 DWORD PTR _range$6[ebp]
$LN4@get_weapon:

; 783  : 
; 784  : 		if (weapon_database[wpn_type].aiming_type == WEAPON_AIMING_TYPE_CALC_LEAD_AND_BALLISTIC)

  00186	69 45 08 e0 00
	00 00		 imul	 eax, DWORD PTR _wpn_type$[ebp], 224
  0018d	83 b8 1c 00 00
	00 03		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+28], 3
  00194	75 3d		 jne	 SHORT $LN6@get_weapon

; 785  : 		{
; 786  : 			angle_of_projection = 0.0;

  00196	0f 57 c0	 xorps	 xmm0, xmm0
  00199	f3 0f 11 45 e4	 movss	 DWORD PTR _angle_of_projection$3[ebp], xmm0

; 787  : 			get_ballistic_pitch_deflection(wpn_type, range, source_position->y - target_position.y, &angle_of_projection, &time_of_flight, FALSE, FALSE);

  0019e	6a 00		 push	 0
  001a0	6a 00		 push	 0
  001a2	8d 45 e0	 lea	 eax, DWORD PTR _time_of_flight$2[ebp]
  001a5	50		 push	 eax
  001a6	8d 4d e4	 lea	 ecx, DWORD PTR _angle_of_projection$3[ebp]
  001a9	51		 push	 ecx
  001aa	8b 55 f4	 mov	 edx, DWORD PTR _source_position$5[ebp]
  001ad	f3 0f 10 42 04	 movss	 xmm0, DWORD PTR [edx+4]
  001b2	f3 0f 5c 45 ec	 subss	 xmm0, DWORD PTR _target_position$4[ebp+4]
  001b7	51		 push	 ecx
  001b8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001bd	51		 push	 ecx
  001be	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _range$6[ebp]
  001c3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001c8	8b 45 08	 mov	 eax, DWORD PTR _wpn_type$[ebp]
  001cb	50		 push	 eax
  001cc	e8 00 00 00 00	 call	 ?get_ballistic_pitch_deflection@@YGHHMMPAM0HH@Z ; get_ballistic_pitch_deflection

; 788  : 		}
; 789  : 		else

  001d1	eb 47		 jmp	 SHORT $LN8@get_weapon
$LN6@get_weapon:

; 790  : 		{
; 791  : 			float weapon_velocity = weapon_database[wpn_type].cruise_velocity;

  001d3	69 45 08 e0 00
	00 00		 imul	 eax, DWORD PTR _wpn_type$[ebp], 224
  001da	f3 0f 10 80 ac
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+172]
  001e2	f3 0f 11 45 dc	 movss	 DWORD PTR _weapon_velocity$1[ebp], xmm0

; 792  : 			if (!get_angle_of_projection_with_range(source_position, &target_position, weapon_velocity, &angle_of_projection, range))

  001e7	51		 push	 ecx
  001e8	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _range$6[ebp]
  001ed	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001f2	8d 45 e4	 lea	 eax, DWORD PTR _angle_of_projection$3[ebp]
  001f5	50		 push	 eax
  001f6	51		 push	 ecx
  001f7	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _weapon_velocity$1[ebp]
  001fc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00201	8d 4d e8	 lea	 ecx, DWORD PTR _target_position$4[ebp]
  00204	51		 push	 ecx
  00205	8b 55 f4	 mov	 edx, DWORD PTR _source_position$5[ebp]
  00208	52		 push	 edx
  00209	e8 00 00 00 00	 call	 ?get_angle_of_projection_with_range@@YGHPBUVEC3D@@0MPAMM@Z ; get_angle_of_projection_with_range
  0020e	85 c0		 test	 eax, eax
  00210	75 08		 jne	 SHORT $LN8@get_weapon

; 793  : 				angle_of_projection = 0.0;

  00212	0f 57 c0	 xorps	 xmm0, xmm0
  00215	f3 0f 11 45 e4	 movss	 DWORD PTR _angle_of_projection$3[ebp], xmm0
$LN8@get_weapon:

; 794  : 		}
; 795  : 
; 796  : 		ballistics_sight_calibrated_drop = angle_of_projection;

  0021a	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _angle_of_projection$3[ebp]
  0021f	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?ballistics_sight_calibrated_drop@@3MA, xmm0
$LN2@get_weapon:

; 797  : 	}
; 798  : 
; 799  : 	return ballistics_sight_calibrated_drop;

  00227	d9 05 00 00 00
	00		 fld	 DWORD PTR ?ballistics_sight_calibrated_drop@@3MA ; ballistics_sight_calibrated_drop

; 800  : }

  0022d	5f		 pop	 edi
  0022e	5e		 pop	 esi
  0022f	5b		 pop	 ebx
  00230	8b e5		 mov	 esp, ebp
  00232	5d		 pop	 ebp
  00233	c2 04 00	 ret	 4
?get_weapon_drop@@YGMH@Z ENDP				; get_weapon_drop
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?reset_good_tone@@YGXXZ
_TEXT	SEGMENT
?reset_good_tone@@YGXXZ PROC				; reset_good_tone, COMDAT

; 736  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 737  : 	good_tone = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?good_tone@@3HA, 0 ; good_tone

; 738  : 
; 739  : 	good_tone_delay = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?good_tone_delay@@3MA, xmm0

; 740  : }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?reset_good_tone@@YGXXZ ENDP				; reset_good_tone
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?update_good_tone@@YGXXZ
_TEXT	SEGMENT
?update_good_tone@@YGXXZ PROC				; update_good_tone, COMDAT

; 707  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 708  : 	if (good_tone_delay > 0.0)

  00009	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?good_tone_delay@@3MA
  00011	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00019	76 6d		 jbe	 SHORT $LN3@update_goo

; 709  : 	{
; 710  : 		good_tone_delay -= get_delta_time ();

  0001b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?good_tone_delay@@3MA
  00023	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0002b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?good_tone_delay@@3MA, xmm0

; 711  : 
; 712  : 		if (good_tone_delay <= 0.0)

  00033	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?good_tone_delay@@3MA
  0003b	0f 57 c9	 xorps	 xmm1, xmm1
  0003e	66 0f 2f c8	 comisd	 xmm1, xmm0
  00042	72 44		 jb	 SHORT $LN3@update_goo

; 713  : 		{
; 714  : 			good_tone_delay = 0.0;

  00044	0f 57 c0	 xorps	 xmm0, xmm0
  00047	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?good_tone_delay@@3MA, xmm0

; 715  : 
; 716  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_GOOD_TONE);

  0004f	6a 55		 push	 85			; 00000055H
  00051	51		 push	 ecx
  00052	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0005a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0005f	6a 04		 push	 4
  00061	51		 push	 ecx
  00062	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0006a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0006f	51		 push	 ecx
  00070	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00078	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0007d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00082	50		 push	 eax
  00083	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN3@update_goo:

; 717  : 		}
; 718  : 	}
; 719  : 
; 720  : 	if (!good_tone)

  00088	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?good_tone@@3HA, 0 ; good_tone
  0008f	0f 85 88 00 00
	00		 jne	 $LN5@update_goo

; 721  : 	{
; 722  : 		if (frand1 () < 0.5)

  00095	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0009f	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  000a4	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  000a9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000af	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000b2	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000b8	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  000bc	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  000c4	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fe0000000000000
  000cc	66 0f 2f c8	 comisd	 xmm1, xmm0
  000d0	76 4b		 jbe	 SHORT $LN5@update_goo

; 723  : 		{
; 724  : 			good_tone_delay = 0.5 + (frand1 () * 0.5);

  000d2	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  000dc	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  000e1	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  000e6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  000ec	c1 f9 10	 sar	 ecx, 16			; 00000010H
  000ef	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  000f5	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  000f9	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00101	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00109	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00111	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00115	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?good_tone_delay@@3MA, xmm0
$LN5@update_goo:

; 725  : 		}
; 726  : 	}
; 727  : 
; 728  : 	good_tone = TRUE;

  0011d	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?good_tone@@3HA, 1 ; good_tone

; 729  : }

  00127	5f		 pop	 edi
  00128	5e		 pop	 esi
  00129	5b		 pop	 ebx
  0012a	8b e5		 mov	 esp, ebp
  0012c	5d		 pop	 ebp
  0012d	c3		 ret	 0
?update_good_tone@@YGXXZ ENDP				; update_good_tone
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?play_common_cpg_failed_launch_speech@@YGXW4WEAPON_LOCK_TYPES@@@Z
_TEXT	SEGMENT
tv64 = -68						; size = 4
_type$ = 8						; size = 4
?play_common_cpg_failed_launch_speech@@YGXW4WEAPON_LOCK_TYPES@@@Z PROC ; play_common_cpg_failed_launch_speech, COMDAT

; 640  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 641  : 	switch (type)

  00009	8b 45 08	 mov	 eax, DWORD PTR _type$[ebp]
  0000c	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  0000f	83 7d bc 08	 cmp	 DWORD PTR tv64[ebp], 8
  00013	0f 87 b1 01 00
	00		 ja	 $LN2@play_commo
  00019	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  0001c	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN12@play_commo[ecx*4]
$LN4@play_commo:

; 642  : 	{
; 643  : 		////////////////////////////////////////
; 644  : 		case WEAPON_LOCK_NO_ACQUIRE:
; 645  : 		////////////////////////////////////////
; 646  : 		{
; 647  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_NO_TARGETING_SYSTEM);

  00023	6a 4e		 push	 78			; 0000004eH
  00025	51		 push	 ecx
  00026	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0002e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00033	6a 04		 push	 4
  00035	51		 push	 ecx
  00036	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0003e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00043	51		 push	 ecx
  00044	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0004c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00051	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00056	50		 push	 eax
  00057	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 648  : 
; 649  : 			break;

  0005c	e9 69 01 00 00	 jmp	 $LN2@play_commo
$LN5@play_commo:

; 650  : 		}
; 651  : 		////////////////////////////////////////
; 652  : 		case WEAPON_LOCK_NO_WEAPON:
; 653  : 		////////////////////////////////////////
; 654  : 		{
; 655  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_NO_WEAPON);

  00061	6a 50		 push	 80			; 00000050H
  00063	51		 push	 ecx
  00064	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0006c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00071	6a 04		 push	 4
  00073	51		 push	 ecx
  00074	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0007c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00081	51		 push	 ecx
  00082	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0008a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0008f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00094	50		 push	 eax
  00095	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 656  : 
; 657  : 			break;

  0009a	e9 2b 01 00 00	 jmp	 $LN2@play_commo
$LN6@play_commo:

; 658  : 		}
; 659  : 		////////////////////////////////////////
; 660  : 		case WEAPON_LOCK_NO_TARGET:
; 661  : 		////////////////////////////////////////
; 662  : 		{
; 663  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_NO_TARGET);

  0009f	6a 4f		 push	 79			; 0000004fH
  000a1	51		 push	 ecx
  000a2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000aa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000af	6a 04		 push	 4
  000b1	51		 push	 ecx
  000b2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000ba	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000bf	51		 push	 ecx
  000c0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000c8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000cd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000d2	50		 push	 eax
  000d3	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 664  : 
; 665  : 			break;

  000d8	e9 ed 00 00 00	 jmp	 $LN2@play_commo
$LN7@play_commo:

; 666  : 		}
; 667  : 		////////////////////////////////////////
; 668  : 		case WEAPON_LOCK_INVALID_TARGET:
; 669  : 		////////////////////////////////////////
; 670  : 		{
; 671  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_INVALID_TARGET);

  000dd	6a 51		 push	 81			; 00000051H
  000df	51		 push	 ecx
  000e0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000e8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ed	6a 04		 push	 4
  000ef	51		 push	 ecx
  000f0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000f8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000fd	51		 push	 ecx
  000fe	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00106	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00110	50		 push	 eax
  00111	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 672  : 
; 673  : 			break;

  00116	e9 af 00 00 00	 jmp	 $LN2@play_commo
$LN8@play_commo:

; 674  : 		}
; 675  : 		////////////////////////////////////////
; 676  : 		case WEAPON_LOCK_SEEKER_LIMIT:
; 677  : 		////////////////////////////////////////
; 678  : 		{
; 679  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_TARGET_OUTSIDE_SEEKER_LIMIT);

  0011b	6a 52		 push	 82			; 00000052H
  0011d	51		 push	 ecx
  0011e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00126	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0012b	6a 04		 push	 4
  0012d	51		 push	 ecx
  0012e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00136	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013b	51		 push	 ecx
  0013c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00144	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00149	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0014e	50		 push	 eax
  0014f	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 680  : 
; 681  : 			break;

  00154	eb 74		 jmp	 SHORT $LN2@play_commo
$LN9@play_commo:

; 682  : 		}
; 683  : 		////////////////////////////////////////
; 684  : 		case WEAPON_LOCK_NO_LOS:
; 685  : 		////////////////////////////////////////
; 686  : 		{
; 687  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_NO_LOS);

  00156	6a 53		 push	 83			; 00000053H
  00158	51		 push	 ecx
  00159	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00161	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00166	6a 04		 push	 4
  00168	51		 push	 ecx
  00169	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00171	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00176	51		 push	 ecx
  00177	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0017f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00184	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00189	50		 push	 eax
  0018a	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 688  : 
; 689  : 			break;

  0018f	eb 39		 jmp	 SHORT $LN2@play_commo
$LN10@play_commo:

; 690  : 		}
; 691  : 		////////////////////////////////////////
; 692  : 		case WEAPON_LOCK_MAX_RANGE:
; 693  : 		////////////////////////////////////////
; 694  : 		{
; 695  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_TARGET_OUT_OF_RANGE);

  00191	6a 54		 push	 84			; 00000054H
  00193	51		 push	 ecx
  00194	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0019c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a1	6a 04		 push	 4
  001a3	51		 push	 ecx
  001a4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001ac	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001b1	51		 push	 ecx
  001b2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  001ba	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c4	50		 push	 eax
  001c5	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN2@play_commo:

; 696  : 
; 697  : 			break;
; 698  : 		}
; 699  : 	}
; 700  : }

  001ca	5f		 pop	 edi
  001cb	5e		 pop	 esi
  001cc	5b		 pop	 ebx
  001cd	8b e5		 mov	 esp, ebp
  001cf	5d		 pop	 ebp
  001d0	c2 04 00	 ret	 4
  001d3	90		 npad	 1
$LN12@play_commo:
  001d4	00 00 00 00	 DD	 $LN4@play_commo
  001d8	00 00 00 00	 DD	 $LN5@play_commo
  001dc	00 00 00 00	 DD	 $LN6@play_commo
  001e0	00 00 00 00	 DD	 $LN7@play_commo
  001e4	00 00 00 00	 DD	 $LN8@play_commo
  001e8	00 00 00 00	 DD	 $LN9@play_commo
  001ec	00 00 00 00	 DD	 $LN2@play_commo
  001f0	00 00 00 00	 DD	 $LN2@play_commo
  001f4	00 00 00 00	 DD	 $LN10@play_commo
?play_common_cpg_failed_launch_speech@@YGXW4WEAPON_LOCK_TYPES@@@Z ENDP ; play_common_cpg_failed_launch_speech
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?play_common_cpg_infra_red_jammer_speech@@YGXH@Z
_TEXT	SEGMENT
tv78 = -72						; size = 4
tv71 = -68						; size = 4
_damaged$ = 8						; size = 4
?play_common_cpg_infra_red_jammer_speech@@YGXH@Z PROC	; play_common_cpg_infra_red_jammer_speech, COMDAT

; 614  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 615  : 	if (!get_global_auto_counter_measures ())

  00009	83 3d 90 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+144, 0
  00010	0f 85 3a 01 00
	00		 jne	 $LN4@play_commo

; 616  : 	{
; 617  : 		if (!damaged)

  00016	83 7d 08 00	 cmp	 DWORD PTR _damaged$[ebp], 0
  0001a	0f 85 f7 00 00
	00		 jne	 $LN3@play_commo

; 618  : 		{
; 619  : 			if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_INFRA_RED_JAMMER_ON))

  00020	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00027	74 0c		 je	 SHORT $LN8@play_commo
  00029	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0002e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00030	89 4d bc	 mov	 DWORD PTR tv71[ebp], ecx
  00033	eb 1d		 jmp	 SHORT $LN9@play_commo
$LN8@play_commo:
  00035	68 6b 02 00 00	 push	 619			; 0000026bH
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00045	52		 push	 edx
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004b	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv71[ebp], 0
$LN9@play_commo:
  00052	b8 01 00 00 00	 mov	 eax, 1
  00057	85 c0		 test	 eax, eax
  00059	74 09		 je	 SHORT $LN10@play_commo
  0005b	c7 45 b8 68 00
	00 00		 mov	 DWORD PTR tv78[ebp], 104 ; 00000068H
  00062	eb 1d		 jmp	 SHORT $LN11@play_commo
$LN10@play_commo:
  00064	68 6b 02 00 00	 push	 619			; 0000026bH
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00074	51		 push	 ecx
  00075	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN11@play_commo:
  00081	6a 68		 push	 104			; 00000068H
  00083	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00089	52		 push	 edx
  0008a	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv71[ebp], 1116
  00091	8b 4d b8	 mov	 ecx, DWORD PTR tv78[ebp]
  00094	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0009b	ff d2		 call	 edx
  0009d	85 c0		 test	 eax, eax
  0009f	74 3b		 je	 SHORT $LN5@play_commo

; 620  : 			{
; 621  : 				play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_IR_JAMMER_ON);

  000a1	6a 10		 push	 16			; 00000010H
  000a3	51		 push	 ecx
  000a4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000ac	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b1	6a 04		 push	 4
  000b3	51		 push	 ecx
  000b4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000bc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c1	51		 push	 ecx
  000c2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000ca	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000d4	50		 push	 eax
  000d5	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 622  : 			}
; 623  : 			else

  000da	eb 39		 jmp	 SHORT $LN6@play_commo
$LN5@play_commo:

; 624  : 			{
; 625  : 				play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_IR_JAMMER_OFF);

  000dc	6a 11		 push	 17			; 00000011H
  000de	51		 push	 ecx
  000df	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000e7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ec	6a 04		 push	 4
  000ee	51		 push	 ecx
  000ef	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000f7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000fc	51		 push	 ecx
  000fd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00105	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0010f	50		 push	 eax
  00110	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN6@play_commo:

; 626  : 			}
; 627  : 		}
; 628  : 		else

  00115	eb 39		 jmp	 SHORT $LN4@play_commo
$LN3@play_commo:

; 629  : 		{
; 630  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_IR_JAMMER_DAMAGED);

  00117	6a 1b		 push	 27			; 0000001bH
  00119	51		 push	 ecx
  0011a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00122	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00127	6a 04		 push	 4
  00129	51		 push	 ecx
  0012a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00132	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00137	51		 push	 ecx
  00138	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00140	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00145	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0014a	50		 push	 eax
  0014b	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN4@play_commo:

; 631  : 		}
; 632  : 	}
; 633  : }

  00150	5f		 pop	 edi
  00151	5e		 pop	 esi
  00152	5b		 pop	 ebx
  00153	8b e5		 mov	 esp, ebp
  00155	5d		 pop	 ebp
  00156	c2 04 00	 ret	 4
?play_common_cpg_infra_red_jammer_speech@@YGXH@Z ENDP	; play_common_cpg_infra_red_jammer_speech
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?play_common_cpg_radar_jammer_speech@@YGXH@Z
_TEXT	SEGMENT
tv78 = -72						; size = 4
tv71 = -68						; size = 4
_damaged$ = 8						; size = 4
?play_common_cpg_radar_jammer_speech@@YGXH@Z PROC	; play_common_cpg_radar_jammer_speech, COMDAT

; 588  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 589  : 	if (!get_global_auto_counter_measures ())

  00009	83 3d 90 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+144, 0
  00010	0f 85 3d 01 00
	00		 jne	 $LN4@play_commo

; 590  : 	{
; 591  : 		if (!damaged)

  00016	83 7d 08 00	 cmp	 DWORD PTR _damaged$[ebp], 0
  0001a	0f 85 fa 00 00
	00		 jne	 $LN3@play_commo

; 592  : 		{
; 593  : 			if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_RADAR_JAMMER_ON))

  00020	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00027	74 0c		 je	 SHORT $LN8@play_commo
  00029	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0002e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00030	89 4d bc	 mov	 DWORD PTR tv71[ebp], ecx
  00033	eb 1d		 jmp	 SHORT $LN9@play_commo
$LN8@play_commo:
  00035	68 51 02 00 00	 push	 593			; 00000251H
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00045	52		 push	 edx
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004b	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv71[ebp], 0
$LN9@play_commo:
  00052	b8 01 00 00 00	 mov	 eax, 1
  00057	85 c0		 test	 eax, eax
  00059	74 09		 je	 SHORT $LN10@play_commo
  0005b	c7 45 b8 a8 00
	00 00		 mov	 DWORD PTR tv78[ebp], 168 ; 000000a8H
  00062	eb 1d		 jmp	 SHORT $LN11@play_commo
$LN10@play_commo:
  00064	68 51 02 00 00	 push	 593			; 00000251H
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00074	51		 push	 ecx
  00075	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN11@play_commo:
  00081	68 a8 00 00 00	 push	 168			; 000000a8H
  00086	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0008c	52		 push	 edx
  0008d	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv71[ebp], 1116
  00094	8b 4d b8	 mov	 ecx, DWORD PTR tv78[ebp]
  00097	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0009e	ff d2		 call	 edx
  000a0	85 c0		 test	 eax, eax
  000a2	74 3b		 je	 SHORT $LN5@play_commo

; 594  : 			{
; 595  : 				play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_RADAR_JAMMER_ON);

  000a4	6a 12		 push	 18			; 00000012H
  000a6	51		 push	 ecx
  000a7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b4	6a 04		 push	 4
  000b6	51		 push	 ecx
  000b7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000bf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c4	51		 push	 ecx
  000c5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000cd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000d7	50		 push	 eax
  000d8	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 596  : 			}
; 597  : 			else

  000dd	eb 39		 jmp	 SHORT $LN6@play_commo
$LN5@play_commo:

; 598  : 			{
; 599  : 				play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_RADAR_JAMMER_OFF);

  000df	6a 13		 push	 19			; 00000013H
  000e1	51		 push	 ecx
  000e2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000ea	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ef	6a 04		 push	 4
  000f1	51		 push	 ecx
  000f2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000fa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ff	51		 push	 ecx
  00100	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00108	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN6@play_commo:

; 600  : 			}
; 601  : 		}
; 602  : 		else

  00118	eb 39		 jmp	 SHORT $LN4@play_commo
$LN3@play_commo:

; 603  : 		{
; 604  : 			play_client_server_cpg_message (get_gunship_entity (), 0.5, 1.0, SPEECH_CATEGORY_CPG_SYSTEMS, 1.0, SPEECH_CPG_RADAR_JAMMER_DAMAGED);

  0011a	6a 1a		 push	 26			; 0000001aH
  0011c	51		 push	 ecx
  0011d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00125	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0012a	6a 04		 push	 4
  0012c	51		 push	 ecx
  0012d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00135	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013a	51		 push	 ecx
  0013b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00143	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00148	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0014d	50		 push	 eax
  0014e	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message
$LN4@play_commo:

; 605  : 		}
; 606  : 	}
; 607  : }

  00153	5f		 pop	 edi
  00154	5e		 pop	 esi
  00155	5b		 pop	 ebx
  00156	8b e5		 mov	 esp, ebp
  00158	5d		 pop	 ebp
  00159	c2 04 00	 ret	 4
?play_common_cpg_radar_jammer_speech@@YGXH@Z ENDP	; play_common_cpg_radar_jammer_speech
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?set_gunship_weapon@@YGXH@Z
_TEXT	SEGMENT
tv135 = -76						; size = 4
tv82 = -76						; size = 4
tv95 = -72						; size = 4
tv75 = -72						; size = 4
_en$ = -4						; size = 4
_weapon_sub_type$ = 8					; size = 4
?set_gunship_weapon@@YGXH@Z PROC			; set_gunship_weapon, COMDAT

; 560  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 561  : 	entity
; 562  : 		*en;
; 563  : 
; 564  : 	ASSERT (entity_sub_type_weapon_valid (weapon_sub_type));

  00009	83 7d 08 00	 cmp	 DWORD PTR _weapon_sub_type$[ebp], 0
  0000d	7c 06		 jl	 SHORT $LN3@set_gunshi
  0000f	83 7d 08 4c	 cmp	 DWORD PTR _weapon_sub_type$[ebp], 76 ; 0000004cH
  00013	7c 18		 jl	 SHORT $LN2@set_gunshi
$LN3@set_gunshi:
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_gunship_weapon@@YGXH@Z@4JA
  0001a	83 c0 04	 add	 eax, 4
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@MAFEAOFK@entity_sub_type_weapon_valid?5?$CIw@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_gunshi:

; 565  : 
; 566  : 	en = get_gunship_entity ();

  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00032	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 567  : 
; 568  : 	if (weapon_sub_type != get_local_entity_int_value (en, INT_TYPE_SELECTED_WEAPON))

  00035	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00039	74 0a		 je	 SHORT $LN7@set_gunshi
  0003b	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0003e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00040	89 4d b8	 mov	 DWORD PTR tv75[ebp], ecx
  00043	eb 1d		 jmp	 SHORT $LN8@set_gunshi
$LN7@set_gunshi:
  00045	68 38 02 00 00	 push	 568			; 00000238H
  0004a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00055	52		 push	 edx
  00056	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005b	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN8@set_gunshi:
  00062	b8 01 00 00 00	 mov	 eax, 1
  00067	85 c0		 test	 eax, eax
  00069	74 09		 je	 SHORT $LN9@set_gunshi
  0006b	c7 45 b4 b8 00
	00 00		 mov	 DWORD PTR tv82[ebp], 184 ; 000000b8H
  00072	eb 1d		 jmp	 SHORT $LN10@set_gunshi
$LN9@set_gunshi:
  00074	68 38 02 00 00	 push	 568			; 00000238H
  00079	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0007e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00084	51		 push	 ecx
  00085	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008a	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN10@set_gunshi:
  00091	68 b8 00 00 00	 push	 184			; 000000b8H
  00096	8b 55 fc	 mov	 edx, DWORD PTR _en$[ebp]
  00099	52		 push	 edx
  0009a	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv75[ebp], 1116
  000a1	8b 4d b4	 mov	 ecx, DWORD PTR tv82[ebp]
  000a4	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  000ab	ff d2		 call	 edx
  000ad	39 45 08	 cmp	 DWORD PTR _weapon_sub_type$[ebp], eax
  000b0	0f 84 8c 00 00
	00		 je	 $LN4@set_gunshi

; 569  : 	{
; 570  : 		set_client_server_entity_int_value (en, INT_TYPE_SELECTED_WEAPON, weapon_sub_type);

  000b6	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  000ba	74 0a		 je	 SHORT $LN11@set_gunshi
  000bc	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  000bf	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c1	89 4d b8	 mov	 DWORD PTR tv95[ebp], ecx
  000c4	eb 21		 jmp	 SHORT $LN12@set_gunshi
$LN11@set_gunshi:
  000c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_gunship_weapon@@YGXH@Z@4JA
  000cc	83 c2 0a	 add	 edx, 10			; 0000000aH
  000cf	52		 push	 edx
  000d0	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000da	50		 push	 eax
  000db	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e0	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
$LN12@set_gunshi:
  000e7	b9 01 00 00 00	 mov	 ecx, 1
  000ec	85 c9		 test	 ecx, ecx
  000ee	74 09		 je	 SHORT $LN13@set_gunshi
  000f0	c7 45 b4 b8 00
	00 00		 mov	 DWORD PTR tv135[ebp], 184 ; 000000b8H
  000f7	eb 21		 jmp	 SHORT $LN14@set_gunshi
$LN13@set_gunshi:
  000f9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_gunship_weapon@@YGXH@Z@4JA
  000ff	83 c2 0a	 add	 edx, 10			; 0000000aH
  00102	52		 push	 edx
  00103	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00108	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0010d	50		 push	 eax
  0010e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00113	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN14@set_gunshi:
  0011a	8b 4d 08	 mov	 ecx, DWORD PTR _weapon_sub_type$[ebp]
  0011d	51		 push	 ecx
  0011e	68 b8 00 00 00	 push	 184			; 000000b8H
  00123	8b 55 fc	 mov	 edx, DWORD PTR _en$[ebp]
  00126	52		 push	 edx
  00127	69 45 b8 b8 08
	00 00		 imul	 eax, DWORD PTR tv95[ebp], 2232
  0012e	8b 4d b4	 mov	 ecx, DWORD PTR tv135[ebp]
  00131	8d 94 c8 00 00
	00 00		 lea	 edx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*8]
  00138	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0013d	8b 0c 82	 mov	 ecx, DWORD PTR [edx+eax*4]
  00140	ff d1		 call	 ecx
$LN4@set_gunshi:

; 571  : 	}
; 572  : 
; 573  : 	//
; 574  : 	// ensure navigation HUD mode is set
; 575  : 	//
; 576  : 
; 577  : 	if (weapon_sub_type == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  00142	83 7d 08 00	 cmp	 DWORD PTR _weapon_sub_type$[ebp], 0
  00146	75 0a		 jne	 SHORT $LN1@set_gunshi

; 578  : 	{
; 579  : 		hud_mode = previous_hud_mode;

  00148	a1 00 00 00 00	 mov	 eax, DWORD PTR ?previous_hud_mode@@3W4HUD_MODES@@A ; previous_hud_mode
  0014d	a3 00 00 00 00	 mov	 DWORD PTR ?hud_mode@@3W4HUD_MODES@@A, eax ; hud_mode
$LN1@set_gunshi:

; 580  : 	}
; 581  : }

  00152	5f		 pop	 edi
  00153	5e		 pop	 esi
  00154	5b		 pop	 ebx
  00155	8b e5		 mov	 esp, ebp
  00157	5d		 pop	 ebp
  00158	c2 04 00	 ret	 4
?set_gunship_weapon@@YGXH@Z ENDP			; set_gunship_weapon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?decrease_rocket_salvo_size@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?decrease_rocket_salvo_size@@YGXXZ PROC			; decrease_rocket_salvo_size, COMDAT

; 484  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 485  : 	switch (rocket_salvo_size)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?rocket_salvo_size@@3HA ; rocket_salvo_size
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 10	 cmp	 DWORD PTR tv64[ebp], 16	; 00000010H
  00015	7f 1f		 jg	 SHORT $LN15@decrease_r
  00017	83 7d bc 10	 cmp	 DWORD PTR tv64[ebp], 16	; 00000010H
  0001b	74 6b		 je	 SHORT $LN11@decrease_r
  0001d	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  00020	83 e9 01	 sub	 ecx, 1
  00023	89 4d bc	 mov	 DWORD PTR tv64[ebp], ecx
  00026	83 7d bc 09	 cmp	 DWORD PTR tv64[ebp], 9
  0002a	77 74		 ja	 SHORT $LN13@decrease_r
  0002c	8b 55 bc	 mov	 edx, DWORD PTR tv64[ebp]
  0002f	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN16@decrease_r[edx*4]
$LN15@decrease_r:
  00036	81 7d bc e8 03
	00 00		 cmp	 DWORD PTR tv64[ebp], 1000 ; 000003e8H
  0003d	74 55		 je	 SHORT $LN12@decrease_r
  0003f	eb 5f		 jmp	 SHORT $LN13@decrease_r
$LN4@decrease_r:

; 486  : 	{
; 487  : 		////////////////////////////////////////
; 488  : 		case 1:
; 489  : 		////////////////////////////////////////
; 490  : 		{
; 491  : 			break;

  00041	eb 70		 jmp	 SHORT $LN1@decrease_r
$LN5@decrease_r:

; 492  : 		}
; 493  : 		////////////////////////////////////////
; 494  : 		case 2:
; 495  : 		////////////////////////////////////////
; 496  : 		{
; 497  : 			if (get_global_gunship_type() == GUNSHIP_TYPE_HIND)

  00043	83 3d 0c 00 00
	00 05		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12, 5
  0004a	75 0c		 jne	 SHORT $LN6@decrease_r

; 498  : 				rocket_salvo_size = 10;

  0004c	c7 05 00 00 00
	00 0a 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 10 ; rocket_salvo_size, 0000000aH

; 499  : 			else

  00056	eb 0a		 jmp	 SHORT $LN7@decrease_r
$LN6@decrease_r:

; 500  : 				rocket_salvo_size = 1;

  00058	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 1 ; rocket_salvo_size
$LN7@decrease_r:

; 501  : 
; 502  : 			break;

  00062	eb 4f		 jmp	 SHORT $LN1@decrease_r
$LN8@decrease_r:

; 503  : 		}
; 504  : 		////////////////////////////////////////
; 505  : 		case 4:
; 506  : 		////////////////////////////////////////
; 507  : 		{
; 508  : 			rocket_salvo_size = 2;

  00064	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 2 ; rocket_salvo_size

; 509  : 
; 510  : 			break;

  0006e	eb 43		 jmp	 SHORT $LN1@decrease_r
$LN9@decrease_r:

; 511  : 		}
; 512  : 		////////////////////////////////////////
; 513  : 		case 8:
; 514  : 		////////////////////////////////////////
; 515  : 		{
; 516  : 			rocket_salvo_size = 4;

  00070	c7 05 00 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 4 ; rocket_salvo_size

; 517  : 
; 518  : 			break;

  0007a	eb 37		 jmp	 SHORT $LN1@decrease_r
$LN10@decrease_r:

; 519  : 		}
; 520  : 		////////////////////////////////////////
; 521  : 		case 10:
; 522  : 		////////////////////////////////////////
; 523  : 		{
; 524  : 			rocket_salvo_size = 4;

  0007c	c7 05 00 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 4 ; rocket_salvo_size

; 525  : 
; 526  : 			break;

  00086	eb 2b		 jmp	 SHORT $LN1@decrease_r
$LN11@decrease_r:

; 527  : 		}
; 528  : 		////////////////////////////////////////
; 529  : 		case 16:
; 530  : 		////////////////////////////////////////
; 531  : 		{
; 532  : 			rocket_salvo_size = 8;

  00088	c7 05 00 00 00
	00 08 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 8 ; rocket_salvo_size

; 533  : 
; 534  : 			break;

  00092	eb 1f		 jmp	 SHORT $LN1@decrease_r
$LN12@decrease_r:

; 535  : 		}
; 536  : 		////////////////////////////////////////
; 537  : 		case ROCKET_SALVO_SIZE_ALL:
; 538  : 		////////////////////////////////////////
; 539  : 		{
; 540  : 			rocket_salvo_size = 16;

  00094	c7 05 00 00 00
	00 10 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 16 ; rocket_salvo_size, 00000010H

; 541  : 
; 542  : 			break;

  0009e	eb 13		 jmp	 SHORT $LN1@decrease_r
$LN13@decrease_r:

; 543  : 		}
; 544  : 		////////////////////////////////////////
; 545  : 		default:
; 546  : 		////////////////////////////////////////
; 547  : 		{
; 548  : 			debug_fatal ("Invalid rocket salvo size = %d", rocket_salvo_size);

  000a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?rocket_salvo_size@@3HA ; rocket_salvo_size
  000a5	50		 push	 eax
  000a6	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@GDHIEJBG@Invalid?5rocket?5salvo?5size?5?$DN?5?$CFd@
  000ab	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000b0	83 c4 08	 add	 esp, 8
$LN1@decrease_r:

; 549  : 
; 550  : 			break;
; 551  : 		}
; 552  : 	}
; 553  : }

  000b3	5f		 pop	 edi
  000b4	5e		 pop	 esi
  000b5	5b		 pop	 ebx
  000b6	8b e5		 mov	 esp, ebp
  000b8	5d		 pop	 ebp
  000b9	c3		 ret	 0
  000ba	66 90		 npad	 2
$LN16@decrease_r:
  000bc	00 00 00 00	 DD	 $LN4@decrease_r
  000c0	00 00 00 00	 DD	 $LN5@decrease_r
  000c4	00 00 00 00	 DD	 $LN13@decrease_r
  000c8	00 00 00 00	 DD	 $LN8@decrease_r
  000cc	00 00 00 00	 DD	 $LN13@decrease_r
  000d0	00 00 00 00	 DD	 $LN13@decrease_r
  000d4	00 00 00 00	 DD	 $LN13@decrease_r
  000d8	00 00 00 00	 DD	 $LN9@decrease_r
  000dc	00 00 00 00	 DD	 $LN13@decrease_r
  000e0	00 00 00 00	 DD	 $LN10@decrease_r
?decrease_rocket_salvo_size@@YGXXZ ENDP			; decrease_rocket_salvo_size
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?increase_rocket_salvo_size@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?increase_rocket_salvo_size@@YGXXZ PROC			; increase_rocket_salvo_size, COMDAT

; 408  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 409  : 	switch (rocket_salvo_size)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?rocket_salvo_size@@3HA ; rocket_salvo_size
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 10	 cmp	 DWORD PTR tv64[ebp], 16	; 00000010H
  00015	7f 1f		 jg	 SHORT $LN15@increase_r
  00017	83 7d bc 10	 cmp	 DWORD PTR tv64[ebp], 16	; 00000010H
  0001b	74 75		 je	 SHORT $LN11@increase_r
  0001d	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  00020	83 e9 01	 sub	 ecx, 1
  00023	89 4d bc	 mov	 DWORD PTR tv64[ebp], ecx
  00026	83 7d bc 09	 cmp	 DWORD PTR tv64[ebp], 9
  0002a	77 74		 ja	 SHORT $LN13@increase_r
  0002c	8b 55 bc	 mov	 edx, DWORD PTR tv64[ebp]
  0002f	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN16@increase_r[edx*4]
$LN15@increase_r:
  00036	81 7d bc e8 03
	00 00		 cmp	 DWORD PTR tv64[ebp], 1000 ; 000003e8H
  0003d	74 5f		 je	 SHORT $LN12@increase_r
  0003f	eb 5f		 jmp	 SHORT $LN13@increase_r
$LN4@increase_r:

; 410  : 	{
; 411  : 		////////////////////////////////////////
; 412  : 		case 1:
; 413  : 		////////////////////////////////////////
; 414  : 		{
; 415  : 			rocket_salvo_size = 2;

  00041	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 2 ; rocket_salvo_size

; 416  : 
; 417  : 			break;

  0004b	eb 66		 jmp	 SHORT $LN1@increase_r
$LN5@increase_r:

; 418  : 		}
; 419  : 		////////////////////////////////////////
; 420  : 		case 2:
; 421  : 		////////////////////////////////////////
; 422  : 		{
; 423  : 			rocket_salvo_size = 4;

  0004d	c7 05 00 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 4 ; rocket_salvo_size

; 424  : 
; 425  : 			break;

  00057	eb 5a		 jmp	 SHORT $LN1@increase_r
$LN6@increase_r:

; 426  : 		}
; 427  : 		////////////////////////////////////////
; 428  : 		case 4:
; 429  : 		////////////////////////////////////////
; 430  : 		{
; 431  : 			if (get_global_gunship_type() == GUNSHIP_TYPE_HIND)

  00059	83 3d 0c 00 00
	00 05		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12, 5
  00060	75 0c		 jne	 SHORT $LN7@increase_r

; 432  : 				rocket_salvo_size = 10;

  00062	c7 05 00 00 00
	00 0a 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 10 ; rocket_salvo_size, 0000000aH

; 433  : 			else

  0006c	eb 0a		 jmp	 SHORT $LN8@increase_r
$LN7@increase_r:

; 434  : 				rocket_salvo_size = 8;

  0006e	c7 05 00 00 00
	00 08 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 8 ; rocket_salvo_size
$LN8@increase_r:

; 435  : 
; 436  : 			break;

  00078	eb 39		 jmp	 SHORT $LN1@increase_r
$LN9@increase_r:

; 437  : 		}
; 438  : 		////////////////////////////////////////
; 439  : 		case 8:
; 440  : 		////////////////////////////////////////
; 441  : 		{
; 442  : 			rocket_salvo_size = 16;

  0007a	c7 05 00 00 00
	00 10 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 16 ; rocket_salvo_size, 00000010H

; 443  : 
; 444  : 			break;

  00084	eb 2d		 jmp	 SHORT $LN1@increase_r
$LN10@increase_r:

; 445  : 		}
; 446  : 		////////////////////////////////////////
; 447  : 		case 10:
; 448  : 		////////////////////////////////////////
; 449  : 		{
; 450  : 			rocket_salvo_size = 2;

  00086	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 2 ; rocket_salvo_size

; 451  : 
; 452  : 			break;

  00090	eb 21		 jmp	 SHORT $LN1@increase_r
$LN11@increase_r:

; 453  : 		}
; 454  : 		////////////////////////////////////////
; 455  : 		case 16:
; 456  : 		////////////////////////////////////////
; 457  : 		{
; 458  : 			rocket_salvo_size = ROCKET_SALVO_SIZE_ALL;

  00092	c7 05 00 00 00
	00 e8 03 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 1000 ; rocket_salvo_size, 000003e8H

; 459  : 
; 460  : 			break;

  0009c	eb 15		 jmp	 SHORT $LN1@increase_r
$LN12@increase_r:

; 461  : 		}
; 462  : 		////////////////////////////////////////
; 463  : 		case ROCKET_SALVO_SIZE_ALL:
; 464  : 		////////////////////////////////////////
; 465  : 		{
; 466  : 			break;

  0009e	eb 13		 jmp	 SHORT $LN1@increase_r
$LN13@increase_r:

; 467  : 		}
; 468  : 		////////////////////////////////////////
; 469  : 		default:
; 470  : 		////////////////////////////////////////
; 471  : 		{
; 472  : 			debug_fatal ("Invalid rocket salvo size = %d", rocket_salvo_size);

  000a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?rocket_salvo_size@@3HA ; rocket_salvo_size
  000a5	50		 push	 eax
  000a6	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@GDHIEJBG@Invalid?5rocket?5salvo?5size?5?$DN?5?$CFd@
  000ab	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000b0	83 c4 08	 add	 esp, 8
$LN1@increase_r:

; 473  : 
; 474  : 			break;
; 475  : 		}
; 476  : 	}
; 477  : }

  000b3	5f		 pop	 edi
  000b4	5e		 pop	 esi
  000b5	5b		 pop	 ebx
  000b6	8b e5		 mov	 esp, ebp
  000b8	5d		 pop	 ebp
  000b9	c3		 ret	 0
  000ba	66 90		 npad	 2
$LN16@increase_r:
  000bc	00 00 00 00	 DD	 $LN4@increase_r
  000c0	00 00 00 00	 DD	 $LN5@increase_r
  000c4	00 00 00 00	 DD	 $LN13@increase_r
  000c8	00 00 00 00	 DD	 $LN6@increase_r
  000cc	00 00 00 00	 DD	 $LN13@increase_r
  000d0	00 00 00 00	 DD	 $LN13@increase_r
  000d4	00 00 00 00	 DD	 $LN13@increase_r
  000d8	00 00 00 00	 DD	 $LN9@increase_r
  000dc	00 00 00 00	 DD	 $LN13@increase_r
  000e0	00 00 00 00	 DD	 $LN10@increase_r
?increase_rocket_salvo_size@@YGXXZ ENDP			; increase_rocket_salvo_size
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z
_TEXT	SEGMENT
tv448 = -116						; size = 4
tv418 = -116						; size = 4
tv390 = -116						; size = 4
tv369 = -116						; size = 4
tv338 = -116						; size = 4
tv318 = -116						; size = 4
tv297 = -116						; size = 4
tv273 = -116						; size = 4
tv240 = -116						; size = 4
tv220 = -116						; size = 4
tv199 = -116						; size = 4
tv175 = -116						; size = 4
tv138 = -116						; size = 4
tv79 = -116						; size = 4
tv441 = -112						; size = 4
tv411 = -112						; size = 4
tv382 = -112						; size = 4
tv361 = -112						; size = 4
tv330 = -112						; size = 4
tv310 = -112						; size = 4
tv290 = -112						; size = 4
tv266 = -112						; size = 4
tv232 = -112						; size = 4
tv212 = -112						; size = 4
tv192 = -112						; size = 4
tv168 = -112						; size = 4
tv130 = -112						; size = 4
tv71 = -112						; size = 4
_weapon_to_target_vector$ = -44				; size = 4
_weapon_vector$ = -40					; size = 4
_target_position$ = -36					; size = 4
_source_position$ = -32					; size = 4
_weapon_max_range$ = -28				; size = 4
_weapon_min_range$ = -24				; size = 4
_theta$ = -20						; size = 4
_target_range$ = -16					; size = 4
_selected_weapon_type$ = -12				; size = 4
_target$ = -8						; size = 4
_source$ = -4						; size = 4
_system$ = 8						; size = 4
?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z PROC ; update_weapon_lock_type, COMDAT

; 137  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 74	 sub	 esp, 116		; 00000074H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 138  : 	entity
; 139  : 		*source,
; 140  : 		*target;
; 141  : 
; 142  : 	entity_sub_types
; 143  : 		selected_weapon_type;
; 144  : 
; 145  : 	float
; 146  : 		target_range,
; 147  : 		theta,
; 148  : 		weapon_min_range,
; 149  : 		weapon_max_range;
; 150  : 
; 151  : 	vec3d
; 152  : 		*source_position,
; 153  : 		*target_position,
; 154  : 		*weapon_vector,
; 155  : 		*weapon_to_target_vector;
; 156  : 
; 157  : 	////////////////////////////////////////
; 158  : 	//
; 159  : 	// WEAPON_LOCK_NO_ACQUIRE
; 160  : 	//
; 161  : 	////////////////////////////////////////
; 162  : 
; 163  : 	if (system == TARGET_ACQUISITION_SYSTEM_OFF)

  00009	83 7d 08 00	 cmp	 DWORD PTR _system$[ebp], 0
  0000d	75 0f		 jne	 SHORT $LN2@update_wea

; 164  : 	{
; 165  : 		weapon_lock_type = WEAPON_LOCK_NO_ACQUIRE;

  0000f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 0 ; weapon_lock_type

; 166  : 
; 167  : 		return;

  00019	e9 9c 09 00 00	 jmp	 $LN1@update_wea
$LN2@update_wea:

; 168  : 	}
; 169  : 
; 170  : 	source = get_gunship_entity ();

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00023	89 45 fc	 mov	 DWORD PTR _source$[ebp], eax

; 171  : 	selected_weapon_type = get_local_entity_int_value (source, INT_TYPE_SELECTED_WEAPON);

  00026	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  0002a	74 0a		 je	 SHORT $LN31@update_wea
  0002c	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0002f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00031	89 4d 90	 mov	 DWORD PTR tv71[ebp], ecx
  00034	eb 21		 jmp	 SHORT $LN32@update_wea
$LN31@update_wea:
  00036	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  0003c	83 c2 22	 add	 edx, 34			; 00000022H
  0003f	52		 push	 edx
  00040	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00045	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0004a	50		 push	 eax
  0004b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00050	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv71[ebp], 0
$LN32@update_wea:
  00057	b9 01 00 00 00	 mov	 ecx, 1
  0005c	85 c9		 test	 ecx, ecx
  0005e	74 09		 je	 SHORT $LN33@update_wea
  00060	c7 45 8c b8 00
	00 00		 mov	 DWORD PTR tv79[ebp], 184 ; 000000b8H
  00067	eb 21		 jmp	 SHORT $LN34@update_wea
$LN33@update_wea:
  00069	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  0006f	83 c2 22	 add	 edx, 34			; 00000022H
  00072	52		 push	 edx
  00073	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0007d	50		 push	 eax
  0007e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00083	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv79[ebp], 0
$LN34@update_wea:
  0008a	68 b8 00 00 00	 push	 184			; 000000b8H
  0008f	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  00092	51		 push	 ecx
  00093	69 55 90 5c 04
	00 00		 imul	 edx, DWORD PTR tv71[ebp], 1116
  0009a	8b 45 8c	 mov	 eax, DWORD PTR tv79[ebp]
  0009d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  000a4	ff d1		 call	 ecx
  000a6	89 45 f4	 mov	 DWORD PTR _selected_weapon_type$[ebp], eax

; 172  : 
; 173  : 	// trying to fire a laser guided without laser active
; 174  : 	if (weapon_database[selected_weapon_type].guidance_type == WEAPON_GUIDANCE_TYPE_SEMI_ACTIVE_LASER
; 175  : 		&& !laser_is_active())

  000a9	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  000b0	83 b8 18 00 00
	00 04		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+24], 4
  000b7	75 18		 jne	 SHORT $LN3@update_wea
  000b9	e8 00 00 00 00	 call	 ?laser_is_active@@YGHXZ	; laser_is_active
  000be	85 c0		 test	 eax, eax
  000c0	75 0f		 jne	 SHORT $LN3@update_wea

; 176  : 	{
; 177  : 		weapon_lock_type = WEAPON_LOCK_NO_ACQUIRE;

  000c2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 0 ; weapon_lock_type

; 178  : 
; 179  : 		return;

  000cc	e9 e9 08 00 00	 jmp	 $LN1@update_wea
$LN3@update_wea:

; 180  : 	}
; 181  : 
; 182  : 
; 183  : 	////////////////////////////////////////
; 184  : 	//
; 185  : 	// WEAPON_LOCK_NO_WEAPON
; 186  : 	//
; 187  : 	////////////////////////////////////////
; 188  : 
; 189  : 	if (selected_weapon_type == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  000d1	83 7d f4 00	 cmp	 DWORD PTR _selected_weapon_type$[ebp], 0
  000d5	75 0f		 jne	 SHORT $LN4@update_wea

; 190  : 	{
; 191  : 		weapon_lock_type = WEAPON_LOCK_NO_WEAPON;

  000d7	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 1 ; weapon_lock_type

; 192  : 
; 193  : 		return;

  000e1	e9 d4 08 00 00	 jmp	 $LN1@update_wea
$LN4@update_wea:

; 194  : 	}
; 195  : 
; 196  : 	////////////////////////////////////////
; 197  : 	//
; 198  : 	// WEAPON_LOCK_NO_TARGET
; 199  : 	//
; 200  : 	////////////////////////////////////////
; 201  : 
; 202  : 	target = get_local_entity_parent (source, LIST_TYPE_TARGET);

  000e6	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  000ea	74 0a		 je	 SHORT $LN35@update_wea
  000ec	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  000ef	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f1	89 4d 90	 mov	 DWORD PTR tv130[ebp], ecx
  000f4	eb 21		 jmp	 SHORT $LN36@update_wea
$LN35@update_wea:
  000f6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  000fc	83 c2 41	 add	 edx, 65			; 00000041H
  000ff	52		 push	 edx
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00110	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv130[ebp], 0
$LN36@update_wea:
  00117	b9 01 00 00 00	 mov	 ecx, 1
  0011c	85 c9		 test	 ecx, ecx
  0011e	74 09		 je	 SHORT $LN37@update_wea
  00120	c7 45 8c 26 00
	00 00		 mov	 DWORD PTR tv138[ebp], 38 ; 00000026H
  00127	eb 21		 jmp	 SHORT $LN38@update_wea
$LN37@update_wea:
  00129	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  0012f	83 c2 41	 add	 edx, 65			; 00000041H
  00132	52		 push	 edx
  00133	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00138	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0013d	50		 push	 eax
  0013e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00143	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv138[ebp], 0
$LN38@update_wea:
  0014a	6a 26		 push	 38			; 00000026H
  0014c	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  0014f	51		 push	 ecx
  00150	69 55 90 b4 00
	00 00		 imul	 edx, DWORD PTR tv130[ebp], 180
  00157	8b 45 8c	 mov	 eax, DWORD PTR tv138[ebp]
  0015a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00161	ff d1		 call	 ecx
  00163	89 45 f8	 mov	 DWORD PTR _target$[ebp], eax

; 203  : 
; 204  : 	if (!target)

  00166	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  0016a	75 43		 jne	 SHORT $LN7@update_wea

; 205  : 	{
; 206  : 		if (!guidance_type_can_use_point_lock(weapon_database[selected_weapon_type].guidance_type))

  0016c	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  00173	8b 88 18 00 00
	00		 mov	 ecx, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+24]
  00179	51		 push	 ecx
  0017a	e8 00 00 00 00	 call	 ?guidance_type_can_use_point_lock@@YGHW4WEAPON_GUIDANCE_TYPES@@@Z ; guidance_type_can_use_point_lock
  0017f	85 c0		 test	 eax, eax
  00181	75 0f		 jne	 SHORT $LN6@update_wea

; 207  : 		{
; 208  : 			weapon_lock_type = WEAPON_LOCK_NO_TARGET;

  00183	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 2 ; weapon_lock_type

; 209  : 			return;

  0018d	e9 28 08 00 00	 jmp	 $LN1@update_wea
$LN6@update_wea:

; 210  : 		}
; 211  : 
; 212  : 		target_position = get_eo_tracking_point();  // get_local_entity_vec3d_ptr(source, VEC3D_TYPE_EO_TRACKING_POINT);

  00192	e8 00 00 00 00	 call	 ?get_eo_tracking_point@@YGPAUVEC3D@@XZ ; get_eo_tracking_point
  00197	89 45 dc	 mov	 DWORD PTR _target_position$[ebp], eax

; 213  : 
; 214  : 		if (!target_position)

  0019a	83 7d dc 00	 cmp	 DWORD PTR _target_position$[ebp], 0
  0019e	75 0f		 jne	 SHORT $LN7@update_wea

; 215  : 		{
; 216  : 			weapon_lock_type = WEAPON_LOCK_NO_TARGET;

  001a0	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 2 ; weapon_lock_type

; 217  : 			return;

  001aa	e9 0b 08 00 00	 jmp	 $LN1@update_wea
$LN7@update_wea:

; 218  : 		}
; 219  : 	}
; 220  : 
; 221  : 	////////////////////////////////////////
; 222  : 	//
; 223  : 	// WEAPON_LOCK_INVALID_TARGET
; 224  : 	//
; 225  : 	////////////////////////////////////////
; 226  : 
; 227  : 	//
; 228  : 	// infra-red air-to-air weapons require an airborne target
; 229  : 	//
; 230  : 
; 231  : 	if (weapon_database[selected_weapon_type].guidance_type == WEAPON_GUIDANCE_TYPE_PASSIVE_INFRA_RED)

  001af	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  001b6	83 b8 18 00 00
	00 01		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+24], 1
  001bd	0f 85 a4 00 00
	00		 jne	 $LN10@update_wea

; 232  : 	{
; 233  : 		if (weapon_database[selected_weapon_type].weapon_class & WEAPON_CLASS_AIR_TO_AIR)

  001c3	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  001ca	8b 88 84 00 00
	00		 mov	 ecx, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+132]
  001d0	83 e1 01	 and	 ecx, 1
  001d3	0f 84 8e 00 00
	00		 je	 $LN10@update_wea

; 234  : 		{
; 235  : 			if (!target || !get_local_entity_int_value (target, INT_TYPE_AIRBORNE_AIRCRAFT))

  001d9	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  001dd	74 79		 je	 SHORT $LN11@update_wea
  001df	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  001e3	74 0a		 je	 SHORT $LN39@update_wea
  001e5	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  001e8	8b 08		 mov	 ecx, DWORD PTR [eax]
  001ea	89 4d 90	 mov	 DWORD PTR tv168[ebp], ecx
  001ed	eb 1d		 jmp	 SHORT $LN40@update_wea
$LN39@update_wea:
  001ef	68 eb 00 00 00	 push	 235			; 000000ebH
  001f4	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  001f9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ff	52		 push	 edx
  00200	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00205	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv168[ebp], 0
$LN40@update_wea:
  0020c	b8 01 00 00 00	 mov	 eax, 1
  00211	85 c0		 test	 eax, eax
  00213	74 09		 je	 SHORT $LN41@update_wea
  00215	c7 45 8c 04 00
	00 00		 mov	 DWORD PTR tv175[ebp], 4
  0021c	eb 1d		 jmp	 SHORT $LN42@update_wea
$LN41@update_wea:
  0021e	68 eb 00 00 00	 push	 235			; 000000ebH
  00223	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00228	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0022e	51		 push	 ecx
  0022f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00234	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv175[ebp], 0
$LN42@update_wea:
  0023b	6a 04		 push	 4
  0023d	8b 55 f8	 mov	 edx, DWORD PTR _target$[ebp]
  00240	52		 push	 edx
  00241	69 45 90 5c 04
	00 00		 imul	 eax, DWORD PTR tv168[ebp], 1116
  00248	8b 4d 8c	 mov	 ecx, DWORD PTR tv175[ebp]
  0024b	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00252	ff d2		 call	 edx
  00254	85 c0		 test	 eax, eax
  00256	75 0f		 jne	 SHORT $LN10@update_wea
$LN11@update_wea:

; 236  : 			{
; 237  : 				weapon_lock_type = WEAPON_LOCK_INVALID_TARGET;

  00258	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 3 ; weapon_lock_type

; 238  : 
; 239  : 				return;

  00262	e9 53 07 00 00	 jmp	 $LN1@update_wea
$LN10@update_wea:

; 240  : 			}
; 241  : 		}
; 242  : 	}
; 243  : 
; 244  : 	////////////////////////////////////////
; 245  : 	//
; 246  : 	// WEAPON_LOCK_SEEKER_LIMIT
; 247  : 	//
; 248  : 	////////////////////////////////////////
; 249  : 
; 250  : 	//
; 251  : 	// if guided weapon check target is inside the seeker limit
; 252  : 	//
; 253  : 
; 254  : 
; 255  : 	if (weapon_database[selected_weapon_type].guidance_type != WEAPON_GUIDANCE_TYPE_NONE)

  00267	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  0026e	83 b8 18 00 00
	00 00		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+24], 0
  00275	0f 84 e4 01 00
	00		 je	 $LN14@update_wea

; 256  : 	{
; 257  : 		update_entity_weapon_system_weapon_and_target_vectors (source);

  0027b	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0027e	50		 push	 eax
  0027f	e8 00 00 00 00	 call	 ?update_entity_weapon_system_weapon_and_target_vectors@@YGXPAUENTITY@@@Z ; update_entity_weapon_system_weapon_and_target_vectors

; 258  : 
; 259  : 		if (get_local_entity_int_value (source, INT_TYPE_WEAPON_AND_TARGET_VECTORS_VALID))

  00284	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00288	74 0a		 je	 SHORT $LN43@update_wea
  0028a	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0028d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0028f	89 4d 90	 mov	 DWORD PTR tv192[ebp], ecx
  00292	eb 1d		 jmp	 SHORT $LN44@update_wea
$LN43@update_wea:
  00294	68 03 01 00 00	 push	 259			; 00000103H
  00299	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0029e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002a4	52		 push	 edx
  002a5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002aa	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv192[ebp], 0
$LN44@update_wea:
  002b1	b8 01 00 00 00	 mov	 eax, 1
  002b6	85 c0		 test	 eax, eax
  002b8	74 09		 je	 SHORT $LN45@update_wea
  002ba	c7 45 8c 02 01
	00 00		 mov	 DWORD PTR tv199[ebp], 258 ; 00000102H
  002c1	eb 1d		 jmp	 SHORT $LN46@update_wea
$LN45@update_wea:
  002c3	68 03 01 00 00	 push	 259			; 00000103H
  002c8	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  002cd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002d3	51		 push	 ecx
  002d4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d9	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv199[ebp], 0
$LN46@update_wea:
  002e0	68 02 01 00 00	 push	 258			; 00000102H
  002e5	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  002e8	52		 push	 edx
  002e9	69 45 90 5c 04
	00 00		 imul	 eax, DWORD PTR tv192[ebp], 1116
  002f0	8b 4d 8c	 mov	 ecx, DWORD PTR tv199[ebp]
  002f3	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  002fa	ff d2		 call	 edx
  002fc	85 c0		 test	 eax, eax
  002fe	0f 84 4c 01 00
	00		 je	 $LN13@update_wea

; 260  : 		{
; 261  : 			weapon_vector = get_local_entity_vec3d_ptr (source, VEC3D_TYPE_WEAPON_VECTOR);

  00304	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00308	74 0a		 je	 SHORT $LN47@update_wea
  0030a	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0030d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0030f	89 4d 90	 mov	 DWORD PTR tv212[ebp], ecx
  00312	eb 21		 jmp	 SHORT $LN48@update_wea
$LN47@update_wea:
  00314	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  0031a	83 c2 7c	 add	 edx, 124		; 0000007cH
  0031d	52		 push	 edx
  0031e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00323	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00328	50		 push	 eax
  00329	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0032e	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv212[ebp], 0
$LN48@update_wea:
  00335	b9 01 00 00 00	 mov	 ecx, 1
  0033a	85 c9		 test	 ecx, ecx
  0033c	74 09		 je	 SHORT $LN49@update_wea
  0033e	c7 45 8c 0e 00
	00 00		 mov	 DWORD PTR tv220[ebp], 14 ; 0000000eH
  00345	eb 21		 jmp	 SHORT $LN50@update_wea
$LN49@update_wea:
  00347	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  0034d	83 c2 7c	 add	 edx, 124		; 0000007cH
  00350	52		 push	 edx
  00351	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00356	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0035b	50		 push	 eax
  0035c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00361	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv220[ebp], 0
$LN50@update_wea:
  00368	6a 0e		 push	 14			; 0000000eH
  0036a	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  0036d	51		 push	 ecx
  0036e	6b 55 90 60	 imul	 edx, DWORD PTR tv212[ebp], 96
  00372	8b 45 8c	 mov	 eax, DWORD PTR tv220[ebp]
  00375	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0037c	ff d1		 call	 ecx
  0037e	89 45 d8	 mov	 DWORD PTR _weapon_vector$[ebp], eax

; 262  : 
; 263  : 			weapon_to_target_vector = get_local_entity_vec3d_ptr (source, VEC3D_TYPE_WEAPON_TO_TARGET_VECTOR);

  00381	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00385	74 0a		 je	 SHORT $LN51@update_wea
  00387	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0038a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0038c	89 4d 90	 mov	 DWORD PTR tv232[ebp], ecx
  0038f	eb 21		 jmp	 SHORT $LN52@update_wea
$LN51@update_wea:
  00391	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  00397	83 c2 7e	 add	 edx, 126		; 0000007eH
  0039a	52		 push	 edx
  0039b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  003a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003a5	50		 push	 eax
  003a6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003ab	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv232[ebp], 0
$LN52@update_wea:
  003b2	b9 01 00 00 00	 mov	 ecx, 1
  003b7	85 c9		 test	 ecx, ecx
  003b9	74 09		 je	 SHORT $LN53@update_wea
  003bb	c7 45 8c 0d 00
	00 00		 mov	 DWORD PTR tv240[ebp], 13 ; 0000000dH
  003c2	eb 21		 jmp	 SHORT $LN54@update_wea
$LN53@update_wea:
  003c4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  003ca	83 c2 7e	 add	 edx, 126		; 0000007eH
  003cd	52		 push	 edx
  003ce	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  003d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  003d8	50		 push	 eax
  003d9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003de	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv240[ebp], 0
$LN54@update_wea:
  003e5	6a 0d		 push	 13			; 0000000dH
  003e7	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  003ea	51		 push	 ecx
  003eb	6b 55 90 60	 imul	 edx, DWORD PTR tv232[ebp], 96
  003ef	8b 45 8c	 mov	 eax, DWORD PTR tv240[ebp]
  003f2	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  003f9	ff d1		 call	 ecx
  003fb	89 45 d4	 mov	 DWORD PTR _weapon_to_target_vector$[ebp], eax

; 264  : 
; 265  : 			theta = get_3d_unit_vector_dot_product (weapon_vector, weapon_to_target_vector);

  003fe	8b 45 d4	 mov	 eax, DWORD PTR _weapon_to_target_vector$[ebp]
  00401	50		 push	 eax
  00402	8b 4d d8	 mov	 ecx, DWORD PTR _weapon_vector$[ebp]
  00405	51		 push	 ecx
  00406	e8 00 00 00 00	 call	 ?get_3d_unit_vector_dot_product@@YGMPBUVEC3D@@0@Z ; get_3d_unit_vector_dot_product
  0040b	d9 5d ec	 fstp	 DWORD PTR _theta$[ebp]

; 266  : 
; 267  : 			theta = fabs (acos (theta));

  0040e	51		 push	 ecx
  0040f	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00414	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00419	e8 00 00 00 00	 call	 ?acos@@YGMM@Z		; acos
  0041e	51		 push	 ecx
  0041f	d9 1c 24	 fstp	 DWORD PTR [esp]
  00422	e8 00 00 00 00	 call	 ?fabs@@YGMM@Z		; fabs
  00427	d9 5d ec	 fstp	 DWORD PTR _theta$[ebp]

; 268  : 
; 269  : 			if (theta > weapon_database[selected_weapon_type].max_launch_angle_error)

  0042a	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  00431	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00436	0f 2f 80 d0 00
	00 00		 comiss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+208]
  0043d	76 0f		 jbe	 SHORT $LN15@update_wea

; 270  : 			{
; 271  : 				weapon_lock_type = WEAPON_LOCK_SEEKER_LIMIT;

  0043f	c7 05 00 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 4 ; weapon_lock_type

; 272  : 
; 273  : 				return;

  00449	e9 6c 05 00 00	 jmp	 $LN1@update_wea
$LN15@update_wea:

; 274  : 			}
; 275  : 		}
; 276  : 		else

  0044e	eb 0f		 jmp	 SHORT $LN14@update_wea
$LN13@update_wea:

; 277  : 		{
; 278  : 			//
; 279  : 			// this should never happen
; 280  : 			//
; 281  : 
; 282  : 			debug_colour_log (DEBUG_COLOUR_RED, "WARNING! Target and weapon vectors are not valid");

  00450	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@LKCPGLND@WARNING?$CB?5Target?5and?5weapon?5vect@
  00455	6a 04		 push	 4
  00457	e8 00 00 00 00	 call	 ?debug_colour_log@@YAXW4DEBUG_COLOURS@@PBDZZ ; debug_colour_log
  0045c	83 c4 08	 add	 esp, 8
$LN14@update_wea:

; 283  : 		}
; 284  : 	}
; 285  : 
; 286  : 	////////////////////////////////////////
; 287  : 	//
; 288  : 	// WEAPON_LOCK_NO_LOS
; 289  : 	//
; 290  : 	////////////////////////////////////////
; 291  : 
; 292  : 	//
; 293  : 	// if air or ground radar then check line of sight
; 294  : 	//
; 295  : 
; 296  : 	if ((system == TARGET_ACQUISITION_SYSTEM_GROUND_RADAR) || (system == TARGET_ACQUISITION_SYSTEM_AIR_RADAR))

  0045f	83 7d 08 01	 cmp	 DWORD PTR _system$[ebp], 1
  00463	74 0a		 je	 SHORT $LN17@update_wea
  00465	83 7d 08 02	 cmp	 DWORD PTR _system$[ebp], 2
  00469	0f 85 88 00 00
	00		 jne	 $LN18@update_wea
$LN17@update_wea:

; 297  : 	{
; 298  : 		if (!get_local_entity_int_value (target, INT_TYPE_GUNSHIP_RADAR_LOS_CLEAR))

  0046f	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  00473	74 0a		 je	 SHORT $LN55@update_wea
  00475	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  00478	8b 08		 mov	 ecx, DWORD PTR [eax]
  0047a	89 4d 90	 mov	 DWORD PTR tv266[ebp], ecx
  0047d	eb 1d		 jmp	 SHORT $LN56@update_wea
$LN55@update_wea:
  0047f	68 2a 01 00 00	 push	 298			; 0000012aH
  00484	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00489	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0048f	52		 push	 edx
  00490	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00495	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv266[ebp], 0
$LN56@update_wea:
  0049c	b8 01 00 00 00	 mov	 eax, 1
  004a1	85 c0		 test	 eax, eax
  004a3	74 09		 je	 SHORT $LN57@update_wea
  004a5	c7 45 8c 50 00
	00 00		 mov	 DWORD PTR tv273[ebp], 80 ; 00000050H
  004ac	eb 1d		 jmp	 SHORT $LN58@update_wea
$LN57@update_wea:
  004ae	68 2a 01 00 00	 push	 298			; 0000012aH
  004b3	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  004b8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  004be	51		 push	 ecx
  004bf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004c4	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv273[ebp], 0
$LN58@update_wea:
  004cb	6a 50		 push	 80			; 00000050H
  004cd	8b 55 f8	 mov	 edx, DWORD PTR _target$[ebp]
  004d0	52		 push	 edx
  004d1	69 45 90 5c 04
	00 00		 imul	 eax, DWORD PTR tv266[ebp], 1116
  004d8	8b 4d 8c	 mov	 ecx, DWORD PTR tv273[ebp]
  004db	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  004e2	ff d2		 call	 edx
  004e4	85 c0		 test	 eax, eax
  004e6	75 0f		 jne	 SHORT $LN18@update_wea

; 299  : 		{
; 300  : 			weapon_lock_type = WEAPON_LOCK_NO_LOS;

  004e8	c7 05 00 00 00
	00 05 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 5 ; weapon_lock_type

; 301  : 
; 302  : 			return;

  004f2	e9 c3 04 00 00	 jmp	 $LN1@update_wea
$LN18@update_wea:

; 303  : 		}
; 304  : 	}
; 305  : 
; 306  : 	////////////////////////////////////////
; 307  : 	//
; 308  : 	// WEAPON_LOCK_NO_BORESIGHT
; 309  : 	//
; 310  : 	////////////////////////////////////////
; 311  : 
; 312  : 	//
; 313  : 	// a boresight_weapon will be an unguided weapon so the seeker limit test is not being repeated here
; 314  : 	//
; 315  : 
; 316  : 	if (weapon_database[selected_weapon_type].boresight_weapon)

  004f7	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  004fe	83 b8 78 00 00
	00 00		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+120], 0
  00505	0f 84 ea 01 00
	00		 je	 $LN21@update_wea

; 317  : 	{
; 318  : 		update_entity_weapon_system_weapon_and_target_vectors (source);

  0050b	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0050e	50		 push	 eax
  0050f	e8 00 00 00 00	 call	 ?update_entity_weapon_system_weapon_and_target_vectors@@YGXPAUENTITY@@@Z ; update_entity_weapon_system_weapon_and_target_vectors

; 319  : 
; 320  : 		if (get_local_entity_int_value (source, INT_TYPE_WEAPON_AND_TARGET_VECTORS_VALID))

  00514	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00518	74 0a		 je	 SHORT $LN59@update_wea
  0051a	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0051d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0051f	89 4d 90	 mov	 DWORD PTR tv290[ebp], ecx
  00522	eb 1d		 jmp	 SHORT $LN60@update_wea
$LN59@update_wea:
  00524	68 40 01 00 00	 push	 320			; 00000140H
  00529	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0052e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00534	52		 push	 edx
  00535	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0053a	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv290[ebp], 0
$LN60@update_wea:
  00541	b8 01 00 00 00	 mov	 eax, 1
  00546	85 c0		 test	 eax, eax
  00548	74 09		 je	 SHORT $LN61@update_wea
  0054a	c7 45 8c 02 01
	00 00		 mov	 DWORD PTR tv297[ebp], 258 ; 00000102H
  00551	eb 1d		 jmp	 SHORT $LN62@update_wea
$LN61@update_wea:
  00553	68 40 01 00 00	 push	 320			; 00000140H
  00558	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0055d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00563	51		 push	 ecx
  00564	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00569	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv297[ebp], 0
$LN62@update_wea:
  00570	68 02 01 00 00	 push	 258			; 00000102H
  00575	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  00578	52		 push	 edx
  00579	69 45 90 5c 04
	00 00		 imul	 eax, DWORD PTR tv290[ebp], 1116
  00580	8b 4d 8c	 mov	 ecx, DWORD PTR tv297[ebp]
  00583	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0058a	ff d2		 call	 edx
  0058c	85 c0		 test	 eax, eax
  0058e	0f 84 52 01 00
	00		 je	 $LN20@update_wea

; 321  : 		{
; 322  : 			weapon_vector = get_local_entity_vec3d_ptr (source, VEC3D_TYPE_WEAPON_VECTOR);

  00594	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00598	74 0a		 je	 SHORT $LN63@update_wea
  0059a	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0059d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0059f	89 4d 90	 mov	 DWORD PTR tv310[ebp], ecx
  005a2	eb 24		 jmp	 SHORT $LN64@update_wea
$LN63@update_wea:
  005a4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  005aa	81 c2 b9 00 00
	00		 add	 edx, 185		; 000000b9H
  005b0	52		 push	 edx
  005b1	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  005b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005bb	50		 push	 eax
  005bc	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005c1	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv310[ebp], 0
$LN64@update_wea:
  005c8	b9 01 00 00 00	 mov	 ecx, 1
  005cd	85 c9		 test	 ecx, ecx
  005cf	74 09		 je	 SHORT $LN65@update_wea
  005d1	c7 45 8c 0e 00
	00 00		 mov	 DWORD PTR tv318[ebp], 14 ; 0000000eH
  005d8	eb 24		 jmp	 SHORT $LN66@update_wea
$LN65@update_wea:
  005da	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  005e0	81 c2 b9 00 00
	00		 add	 edx, 185		; 000000b9H
  005e6	52		 push	 edx
  005e7	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  005ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  005f1	50		 push	 eax
  005f2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005f7	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv318[ebp], 0
$LN66@update_wea:
  005fe	6a 0e		 push	 14			; 0000000eH
  00600	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  00603	51		 push	 ecx
  00604	6b 55 90 60	 imul	 edx, DWORD PTR tv310[ebp], 96
  00608	8b 45 8c	 mov	 eax, DWORD PTR tv318[ebp]
  0060b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00612	ff d1		 call	 ecx
  00614	89 45 d8	 mov	 DWORD PTR _weapon_vector$[ebp], eax

; 323  : 
; 324  : 			weapon_to_target_vector = get_local_entity_vec3d_ptr (source, VEC3D_TYPE_WEAPON_TO_TARGET_VECTOR);

  00617	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  0061b	74 0a		 je	 SHORT $LN67@update_wea
  0061d	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  00620	8b 08		 mov	 ecx, DWORD PTR [eax]
  00622	89 4d 90	 mov	 DWORD PTR tv330[ebp], ecx
  00625	eb 24		 jmp	 SHORT $LN68@update_wea
$LN67@update_wea:
  00627	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  0062d	81 c2 bb 00 00
	00		 add	 edx, 187		; 000000bbH
  00633	52		 push	 edx
  00634	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00639	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0063e	50		 push	 eax
  0063f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00644	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv330[ebp], 0
$LN68@update_wea:
  0064b	b9 01 00 00 00	 mov	 ecx, 1
  00650	85 c9		 test	 ecx, ecx
  00652	74 09		 je	 SHORT $LN69@update_wea
  00654	c7 45 8c 0d 00
	00 00		 mov	 DWORD PTR tv338[ebp], 13 ; 0000000dH
  0065b	eb 24		 jmp	 SHORT $LN70@update_wea
$LN69@update_wea:
  0065d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  00663	81 c2 bb 00 00
	00		 add	 edx, 187		; 000000bbH
  00669	52		 push	 edx
  0066a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0066f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00674	50		 push	 eax
  00675	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0067a	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv338[ebp], 0
$LN70@update_wea:
  00681	6a 0d		 push	 13			; 0000000dH
  00683	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  00686	51		 push	 ecx
  00687	6b 55 90 60	 imul	 edx, DWORD PTR tv330[ebp], 96
  0068b	8b 45 8c	 mov	 eax, DWORD PTR tv338[ebp]
  0068e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00695	ff d1		 call	 ecx
  00697	89 45 d4	 mov	 DWORD PTR _weapon_to_target_vector$[ebp], eax

; 325  : 
; 326  : 			theta = get_3d_unit_vector_dot_product (weapon_vector, weapon_to_target_vector);

  0069a	8b 45 d4	 mov	 eax, DWORD PTR _weapon_to_target_vector$[ebp]
  0069d	50		 push	 eax
  0069e	8b 4d d8	 mov	 ecx, DWORD PTR _weapon_vector$[ebp]
  006a1	51		 push	 ecx
  006a2	e8 00 00 00 00	 call	 ?get_3d_unit_vector_dot_product@@YGMPBUVEC3D@@0@Z ; get_3d_unit_vector_dot_product
  006a7	d9 5d ec	 fstp	 DWORD PTR _theta$[ebp]

; 327  : 
; 328  : 			theta = fabs (acos (theta));

  006aa	51		 push	 ecx
  006ab	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _theta$[ebp]
  006b0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006b5	e8 00 00 00 00	 call	 ?acos@@YGMM@Z		; acos
  006ba	51		 push	 ecx
  006bb	d9 1c 24	 fstp	 DWORD PTR [esp]
  006be	e8 00 00 00 00	 call	 ?fabs@@YGMM@Z		; fabs
  006c3	d9 5d ec	 fstp	 DWORD PTR _theta$[ebp]

; 329  : 
; 330  : 			if (theta > rad (1.0))

  006c6	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _theta$[ebp]
  006cb	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f91df46a0000000
  006d3	76 0f		 jbe	 SHORT $LN22@update_wea

; 331  : 			{
; 332  : 				weapon_lock_type = WEAPON_LOCK_NO_BORESIGHT;

  006d5	c7 05 00 00 00
	00 06 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 6 ; weapon_lock_type

; 333  : 
; 334  : 				return;

  006df	e9 d6 02 00 00	 jmp	 $LN1@update_wea
$LN22@update_wea:

; 335  : 			}
; 336  : 		}
; 337  : 		else

  006e4	eb 0f		 jmp	 SHORT $LN21@update_wea
$LN20@update_wea:

; 338  : 		{
; 339  : 			//
; 340  : 			// this should never happen
; 341  : 			//
; 342  : 
; 343  : 			debug_colour_log (DEBUG_COLOUR_RED, "WARNING! Target and weapon vectors are not valid");

  006e6	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@LKCPGLND@WARNING?$CB?5Target?5and?5weapon?5vect@
  006eb	6a 04		 push	 4
  006ed	e8 00 00 00 00	 call	 ?debug_colour_log@@YAXW4DEBUG_COLOURS@@PBDZZ ; debug_colour_log
  006f2	83 c4 08	 add	 esp, 8
$LN21@update_wea:

; 344  : 		}
; 345  : 	}
; 346  : 
; 347  : 	////////////////////////////////////////
; 348  : 	//
; 349  : 	// WEAPON_LOCK_MIN_RANGE
; 350  : 	// WEAPON_LOCK_MAX_RANGE
; 351  : 	//
; 352  : 	////////////////////////////////////////
; 353  : 
; 354  : 	source_position = get_local_entity_vec3d_ptr (source, VEC3D_TYPE_POSITION);

  006f5	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  006f9	74 0a		 je	 SHORT $LN71@update_wea
  006fb	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  006fe	8b 08		 mov	 ecx, DWORD PTR [eax]
  00700	89 4d 90	 mov	 DWORD PTR tv361[ebp], ecx
  00703	eb 24		 jmp	 SHORT $LN72@update_wea
$LN71@update_wea:
  00705	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  0070b	81 c2 d9 00 00
	00		 add	 edx, 217		; 000000d9H
  00711	52		 push	 edx
  00712	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00717	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0071c	50		 push	 eax
  0071d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00722	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv361[ebp], 0
$LN72@update_wea:
  00729	b9 01 00 00 00	 mov	 ecx, 1
  0072e	85 c9		 test	 ecx, ecx
  00730	74 09		 je	 SHORT $LN73@update_wea
  00732	c7 45 8c 08 00
	00 00		 mov	 DWORD PTR tv369[ebp], 8
  00739	eb 24		 jmp	 SHORT $LN74@update_wea
$LN73@update_wea:
  0073b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  00741	81 c2 d9 00 00
	00		 add	 edx, 217		; 000000d9H
  00747	52		 push	 edx
  00748	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0074d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00752	50		 push	 eax
  00753	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00758	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv369[ebp], 0
$LN74@update_wea:
  0075f	6a 08		 push	 8
  00761	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  00764	51		 push	 ecx
  00765	6b 55 90 60	 imul	 edx, DWORD PTR tv361[ebp], 96
  00769	8b 45 8c	 mov	 eax, DWORD PTR tv369[ebp]
  0076c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00773	ff d1		 call	 ecx
  00775	89 45 e0	 mov	 DWORD PTR _source_position$[ebp], eax

; 355  : 	if (target)

  00778	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  0077c	0f 84 83 00 00
	00		 je	 $LN23@update_wea

; 356  : 		target_position = get_local_entity_vec3d_ptr (target, VEC3D_TYPE_POSITION);

  00782	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  00786	74 0a		 je	 SHORT $LN75@update_wea
  00788	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  0078b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0078d	89 4d 90	 mov	 DWORD PTR tv382[ebp], ecx
  00790	eb 24		 jmp	 SHORT $LN76@update_wea
$LN75@update_wea:
  00792	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  00798	81 c2 db 00 00
	00		 add	 edx, 219		; 000000dbH
  0079e	52		 push	 edx
  0079f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  007a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  007a9	50		 push	 eax
  007aa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007af	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv382[ebp], 0
$LN76@update_wea:
  007b6	b9 01 00 00 00	 mov	 ecx, 1
  007bb	85 c9		 test	 ecx, ecx
  007bd	74 09		 je	 SHORT $LN77@update_wea
  007bf	c7 45 8c 08 00
	00 00		 mov	 DWORD PTR tv390[ebp], 8
  007c6	eb 24		 jmp	 SHORT $LN78@update_wea
$LN77@update_wea:
  007c8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z@4JA
  007ce	81 c2 db 00 00
	00		 add	 edx, 219		; 000000dbH
  007d4	52		 push	 edx
  007d5	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  007da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  007df	50		 push	 eax
  007e0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007e5	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv390[ebp], 0
$LN78@update_wea:
  007ec	6a 08		 push	 8
  007ee	8b 4d f8	 mov	 ecx, DWORD PTR _target$[ebp]
  007f1	51		 push	 ecx
  007f2	6b 55 90 60	 imul	 edx, DWORD PTR tv382[ebp], 96
  007f6	8b 45 8c	 mov	 eax, DWORD PTR tv390[ebp]
  007f9	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00800	ff d1		 call	 ecx
  00802	89 45 dc	 mov	 DWORD PTR _target_position$[ebp], eax
$LN23@update_wea:

; 357  : 
; 358  : 	target_range = get_3d_range (source_position, target_position);

  00805	8b 45 dc	 mov	 eax, DWORD PTR _target_position$[ebp]
  00808	50		 push	 eax
  00809	8b 4d e0	 mov	 ecx, DWORD PTR _source_position$[ebp]
  0080c	51		 push	 ecx
  0080d	e8 00 00 00 00	 call	 ?get_3d_range@@YGMPBUVEC3D@@0@Z ; get_3d_range
  00812	d9 5d f0	 fstp	 DWORD PTR _target_range$[ebp]

; 359  : 
; 360  : 	weapon_min_range = weapon_database[selected_weapon_type].min_range;

  00815	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  0081c	f3 0f 10 80 8c
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+140]
  00824	f3 0f 11 45 e8	 movss	 DWORD PTR _weapon_min_range$[ebp], xmm0

; 361  : 
; 362  : 	if (weapon_database[selected_weapon_type].hellfire_flight_profile)

  00829	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  00830	83 b8 7c 00 00
	00 00		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+124], 0
  00837	0f 84 8d 00 00
	00		 je	 $LN25@update_wea

; 363  : 	{
; 364  : 		if (get_local_entity_int_value (source, INT_TYPE_LOCK_ON_AFTER_LAUNCH))

  0083d	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00841	74 0a		 je	 SHORT $LN79@update_wea
  00843	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  00846	8b 08		 mov	 ecx, DWORD PTR [eax]
  00848	89 4d 90	 mov	 DWORD PTR tv411[ebp], ecx
  0084b	eb 1d		 jmp	 SHORT $LN80@update_wea
$LN79@update_wea:
  0084d	68 6c 01 00 00	 push	 364			; 0000016cH
  00852	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00857	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0085d	52		 push	 edx
  0085e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00863	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv411[ebp], 0
$LN80@update_wea:
  0086a	b8 01 00 00 00	 mov	 eax, 1
  0086f	85 c0		 test	 eax, eax
  00871	74 09		 je	 SHORT $LN81@update_wea
  00873	c7 45 8c 7e 00
	00 00		 mov	 DWORD PTR tv418[ebp], 126 ; 0000007eH
  0087a	eb 1d		 jmp	 SHORT $LN82@update_wea
$LN81@update_wea:
  0087c	68 6c 01 00 00	 push	 364			; 0000016cH
  00881	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00886	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0088c	51		 push	 ecx
  0088d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00892	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv418[ebp], 0
$LN82@update_wea:
  00899	6a 7e		 push	 126			; 0000007eH
  0089b	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  0089e	52		 push	 edx
  0089f	69 45 90 5c 04
	00 00		 imul	 eax, DWORD PTR tv411[ebp], 1116
  008a6	8b 4d 8c	 mov	 ecx, DWORD PTR tv418[ebp]
  008a9	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  008b0	ff d2		 call	 edx
  008b2	85 c0		 test	 eax, eax
  008b4	74 14		 je	 SHORT $LN25@update_wea

; 365  : 		{
; 366  : 			weapon_min_range = weapon_database[selected_weapon_type].min_range_loal;

  008b6	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  008bd	f3 0f 10 80 98
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+152]
  008c5	f3 0f 11 45 e8	 movss	 DWORD PTR _weapon_min_range$[ebp], xmm0
$LN25@update_wea:

; 367  : 		}
; 368  : 	}
; 369  : 
; 370  : 	if (target_range < weapon_min_range)

  008ca	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _weapon_min_range$[ebp]
  008cf	0f 2f 45 f0	 comiss	 xmm0, DWORD PTR _target_range$[ebp]
  008d3	76 0f		 jbe	 SHORT $LN26@update_wea

; 371  : 	{
; 372  : 		weapon_lock_type = WEAPON_LOCK_MIN_RANGE;

  008d5	c7 05 00 00 00
	00 07 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 7 ; weapon_lock_type

; 373  : 
; 374  : 		return;

  008df	e9 d6 00 00 00	 jmp	 $LN1@update_wea
$LN26@update_wea:

; 375  : 	}
; 376  : 
; 377  : 	weapon_max_range = weapon_database[selected_weapon_type].max_range;

  008e4	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  008eb	f3 0f 10 80 90
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+144]
  008f3	f3 0f 11 45 e4	 movss	 DWORD PTR _weapon_max_range$[ebp], xmm0

; 378  : 
; 379  : 	if (weapon_database[selected_weapon_type].hellfire_flight_profile)

  008f8	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  008ff	83 b8 7c 00 00
	00 00		 cmp	 DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+124], 0
  00906	0f 84 8d 00 00
	00		 je	 $LN28@update_wea

; 380  : 	{
; 381  : 		if (get_local_entity_int_value (source, INT_TYPE_LOCK_ON_AFTER_LAUNCH))

  0090c	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00910	74 0a		 je	 SHORT $LN83@update_wea
  00912	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  00915	8b 08		 mov	 ecx, DWORD PTR [eax]
  00917	89 4d 90	 mov	 DWORD PTR tv441[ebp], ecx
  0091a	eb 1d		 jmp	 SHORT $LN84@update_wea
$LN83@update_wea:
  0091c	68 7d 01 00 00	 push	 381			; 0000017dH
  00921	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00926	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0092c	52		 push	 edx
  0092d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00932	c7 45 90 00 00
	00 00		 mov	 DWORD PTR tv441[ebp], 0
$LN84@update_wea:
  00939	b8 01 00 00 00	 mov	 eax, 1
  0093e	85 c0		 test	 eax, eax
  00940	74 09		 je	 SHORT $LN85@update_wea
  00942	c7 45 8c 7e 00
	00 00		 mov	 DWORD PTR tv448[ebp], 126 ; 0000007eH
  00949	eb 1d		 jmp	 SHORT $LN86@update_wea
$LN85@update_wea:
  0094b	68 7d 01 00 00	 push	 381			; 0000017dH
  00950	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  00955	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0095b	51		 push	 ecx
  0095c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00961	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR tv448[ebp], 0
$LN86@update_wea:
  00968	6a 7e		 push	 126			; 0000007eH
  0096a	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  0096d	52		 push	 edx
  0096e	69 45 90 5c 04
	00 00		 imul	 eax, DWORD PTR tv441[ebp], 1116
  00975	8b 4d 8c	 mov	 ecx, DWORD PTR tv448[ebp]
  00978	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0097f	ff d2		 call	 edx
  00981	85 c0		 test	 eax, eax
  00983	74 14		 je	 SHORT $LN28@update_wea

; 382  : 		{
; 383  : 			weapon_max_range = weapon_database[selected_weapon_type].max_range_loal;

  00985	69 45 f4 e0 00
	00 00		 imul	 eax, DWORD PTR _selected_weapon_type$[ebp], 224
  0098c	f3 0f 10 80 9c
	00 00 00	 movss	 xmm0, DWORD PTR ?weapon_database@@3PAUWEAPON_DATA@@A[eax+156]
  00994	f3 0f 11 45 e4	 movss	 DWORD PTR _weapon_max_range$[ebp], xmm0
$LN28@update_wea:

; 384  : 		}
; 385  : 	}
; 386  : 
; 387  : 	if (target_range > weapon_max_range)

  00999	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _target_range$[ebp]
  0099e	0f 2f 45 e4	 comiss	 xmm0, DWORD PTR _weapon_max_range$[ebp]
  009a2	76 0c		 jbe	 SHORT $LN29@update_wea

; 388  : 	{
; 389  : 		weapon_lock_type = WEAPON_LOCK_MAX_RANGE;

  009a4	c7 05 00 00 00
	00 08 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 8 ; weapon_lock_type

; 390  : 
; 391  : 		return;

  009ae	eb 0a		 jmp	 SHORT $LN1@update_wea
$LN29@update_wea:

; 392  : 	}
; 393  : 
; 394  : 	////////////////////////////////////////
; 395  : 	//
; 396  : 	// WEAPON_LOCK_VALID
; 397  : 	//
; 398  : 	////////////////////////////////////////
; 399  : 
; 400  : 	weapon_lock_type = WEAPON_LOCK_VALID;

  009b0	c7 05 00 00 00
	00 09 00 00 00	 mov	 DWORD PTR ?weapon_lock_type@@3W4WEAPON_LOCK_TYPES@@A, 9 ; weapon_lock_type
$LN1@update_wea:

; 401  : }

  009ba	5f		 pop	 edi
  009bb	5e		 pop	 esi
  009bc	5b		 pop	 ebx
  009bd	8b e5		 mov	 esp, ebp
  009bf	5d		 pop	 ebp
  009c0	c2 04 00	 ret	 4
?update_weapon_lock_type@@YGXW4TARGET_ACQUISITION_SYSTEMS@@@Z ENDP ; update_weapon_lock_type
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?deinitialise_common_weapon_systems@@YGXXZ
_TEXT	SEGMENT
?deinitialise_common_weapon_systems@@YGXXZ PROC		; deinitialise_common_weapon_systems, COMDAT

; 129  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 130  : }

  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?deinitialise_common_weapon_systems@@YGXXZ ENDP		; deinitialise_common_weapon_systems
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_wpn.c
;	COMDAT ?initialise_common_weapon_systems@@YGXXZ
_TEXT	SEGMENT
tv79 = -72						; size = 4
tv71 = -68						; size = 4
?initialise_common_weapon_systems@@YGXXZ PROC		; initialise_common_weapon_systems, COMDAT

; 103  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 104  : 	fire_continuous_weapon = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fire_continuous_weapon@@3HA, 0 ; fire_continuous_weapon

; 105  : 
; 106  : 	fire_single_weapon = 0;

  00013	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fire_single_weapon@@3HA, 0 ; fire_single_weapon

; 107  : 
; 108  : 	if (get_global_gunship_type() == GUNSHIP_TYPE_HIND)

  0001d	83 3d 0c 00 00
	00 05		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12, 5
  00024	75 0c		 jne	 SHORT $LN2@initialise

; 109  : 		rocket_salvo_size = 2;

  00026	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 2 ; rocket_salvo_size

; 110  : 	else

  00030	eb 0a		 jmp	 SHORT $LN3@initialise
$LN2@initialise:

; 111  : 		rocket_salvo_size = 1;

  00032	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?rocket_salvo_size@@3HA, 1 ; rocket_salvo_size
$LN3@initialise:

; 112  : 
; 113  : 	rocket_salvo_count = 0;

  0003c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?rocket_salvo_count@@3HA, 0 ; rocket_salvo_count

; 114  : 
; 115  : 	good_tone = FALSE;

  00046	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?good_tone@@3HA, 0 ; good_tone

; 116  : 
; 117  : 	good_tone_delay = 0.0;

  00050	0f 57 c0	 xorps	 xmm0, xmm0
  00053	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?good_tone_delay@@3MA, xmm0

; 118  : 
; 119  : 	set_client_server_entity_int_value (get_gunship_entity (), INT_TYPE_LOCK_ON_AFTER_LAUNCH, FALSE);

  0005b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00062	74 0c		 je	 SHORT $LN5@initialise
  00064	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00069	8b 08		 mov	 ecx, DWORD PTR [eax]
  0006b	89 4d bc	 mov	 DWORD PTR tv71[ebp], ecx
  0006e	eb 21		 jmp	 SHORT $LN6@initialise
$LN5@initialise:
  00070	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_common_weapon_systems@@YGXXZ@4JA
  00076	83 c2 10	 add	 edx, 16			; 00000010H
  00079	52		 push	 edx
  0007a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  0007f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00084	50		 push	 eax
  00085	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008a	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv71[ebp], 0
$LN6@initialise:
  00091	b9 01 00 00 00	 mov	 ecx, 1
  00096	85 c9		 test	 ecx, ecx
  00098	74 09		 je	 SHORT $LN7@initialise
  0009a	c7 45 b8 7e 00
	00 00		 mov	 DWORD PTR tv79[ebp], 126 ; 0000007eH
  000a1	eb 21		 jmp	 SHORT $LN8@initialise
$LN7@initialise:
  000a3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??initialise_common_weapon_systems@@YGXXZ@4JA
  000a9	83 c2 10	 add	 edx, 16			; 00000010H
  000ac	52		 push	 edx
  000ad	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@NICOMGFH@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000b7	50		 push	 eax
  000b8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000bd	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv79[ebp], 0
$LN8@initialise:
  000c4	6a 00		 push	 0
  000c6	6a 7e		 push	 126			; 0000007eH
  000c8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000ce	51		 push	 ecx
  000cf	69 55 bc b8 08
	00 00		 imul	 edx, DWORD PTR tv71[ebp], 2232
  000d6	8b 45 b8	 mov	 eax, DWORD PTR tv79[ebp]
  000d9	8d 8c c2 00 00
	00 00		 lea	 ecx, DWORD PTR ?fn_set_client_server_entity_int_value@@3PAY1BBH@1P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*8]
  000e0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  000e6	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  000e9	ff d0		 call	 eax

; 120  : 
; 121  : 	set_gunship_weapon (ENTITY_SUB_TYPE_WEAPON_NO_WEAPON);

  000eb	6a 00		 push	 0
  000ed	e8 00 00 00 00	 call	 ?set_gunship_weapon@@YGXH@Z ; set_gunship_weapon

; 122  : }

  000f2	5f		 pop	 edi
  000f3	5e		 pop	 esi
  000f4	5b		 pop	 ebx
  000f5	8b e5		 mov	 esp, ebp
  000f7	5d		 pop	 ebp
  000f8	c3		 ret	 0
?initialise_common_weapon_systems@@YGXXZ ENDP		; initialise_common_weapon_systems
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?fabs@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?fabs@@YGMM@Z PROC					; fabs, COMDAT

; 112  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 113  : 	return (_CSTD fabsf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _fabsf
  00019	83 c4 04	 add	 esp, 4

; 114  : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?fabs@@YGMM@Z ENDP					; fabs
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?acos@@YGMM@Z
_TEXT	SEGMENT
__Xx$ = 8						; size = 4
?acos@@YGMM@Z PROC					; acos, COMDAT

; 26   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 27   : 	return (_CSTD acosf(_Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	e8 00 00 00 00	 call	 _acosf
  00019	83 c4 04	 add	 esp, 4

; 28   : 	}

  0001c	5f		 pop	 edi
  0001d	5e		 pop	 esi
  0001e	5b		 pop	 ebx
  0001f	8b e5		 mov	 esp, ebp
  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?acos@@YGMM@Z ENDP					; acos
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _fabsf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_fabsf	PROC						; COMDAT

; 671  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 672  :             return (float)fabs(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _fabs
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 673  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_fabsf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _acosf
_TEXT	SEGMENT
tv71 = -68						; size = 4
__X$ = 8						; size = 4
_acosf	PROC						; COMDAT

; 623  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 624  :             return (float)acos(_X);

  00009	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	e8 00 00 00 00	 call	 _acos
  0001b	83 c4 08	 add	 esp, 8
  0001e	d9 5d bc	 fstp	 DWORD PTR tv71[ebp]
  00021	d9 45 bc	 fld	 DWORD PTR tv71[ebp]

; 625  :         }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
_acosf	ENDP
_TEXT	ENDS
END
