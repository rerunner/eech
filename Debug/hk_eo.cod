; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A	; hokum_flir
PUBLIC	?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A	; hokum_llltv
PUBLIC	?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A	; hokum_periscope
_BSS	SEGMENT
?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A DB 0cH DUP (?)	; hokum_flir
?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A DB 0cH DUP (?) ; hokum_llltv
?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A DB 0cH DUP (?) ; hokum_periscope
_BSS	ENDS
PUBLIC	?initialise_hokum_eo@@YGXXZ			; initialise_hokum_eo
PUBLIC	?deinitialise_hokum_eo@@YGXXZ			; deinitialise_hokum_eo
PUBLIC	?get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z ; get_hokum_eo_centred_viewpoint
PUBLIC	?get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z ; get_hokum_eo_relative_centred_viewpoint
PUBLIC	?update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; update_hokum_eo
PUBLIC	?centre_hokum_eo@@YGXXZ				; centre_hokum_eo
PUBLIC	?animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z	; animate_hokum_eo
PUBLIC	?animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; animate_hokum_virtual_cockpit_eo
PUBLIC	?slave_hokum_eo_to_current_target@@YGXXZ	; slave_hokum_eo_to_current_target
PUBLIC	?inc_hokum_eo_zoom@@YGXXZ			; inc_hokum_eo_zoom
PUBLIC	?dec_hokum_eo_zoom@@YGXXZ			; dec_hokum_eo_zoom
PUBLIC	?toggle_hokum_eo_system@@YGXXZ			; toggle_hokum_eo_system
PUBLIC	?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA ; `get_hokum_eo_centred_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_02HPPNELPJ@vp@				; `string'
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	??_C@_0DP@JLBGGOGM@OBJECT_3D_SUB_OBJECT_KA52_SAMSH@ ; `string'
PUBLIC	??_C@_0DP@PGGHGFGG@OBJECT_3D_SUB_OBJECT_KA52_WSO_S@ ; `string'
PUBLIC	?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA ; `get_hokum_eo_relative_centred_viewpoint'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA ; `inc_eo_field_of_view'::`1'::__LINE__Var
PUBLIC	??_C@_02KMMHFIEO@eo@				; `string'
PUBLIC	?__LINE__Var@?0??fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA ; `fast_inc_eo_field_of_view'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA ; `dec_eo_field_of_view'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA ; `fast_dec_eo_field_of_view'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA ; `update_hokum_eo'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA ; `animate_hokum_eo'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA ; `animate_hokum_virtual_cockpit_eo'::`1'::__LINE__Var
PUBLIC	__real@3c000000
PUBLIC	__real@3edf66f3
PUBLIC	__real@3f000000
PUBLIC	__real@3f567750
PUBLIC	__real@3f800000
PUBLIC	__real@3f9c61aa
PUBLIC	__real@3fb1df46a0000000
PUBLIC	__real@3fc999999999999a
PUBLIC	__real@3fd6571848000000
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@3ff6571848000000
PUBLIC	__real@4014000000000000
PUBLIC	__real@40d3880000000000
PUBLIC	__real@459c4000
PUBLIC	__real@be860a92
PUBLIC	__real@bf9c61aa
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_log@@YAXPBDZZ:PROC			; debug_log
EXTRN	?get_joystick_axis@@YGHHH@Z:PROC		; get_joystick_axis
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z:PROC ; find_object_3d_sub_object_from_sub_object
EXTRN	?select_next_eo_target@@YGXXZ:PROC		; select_next_eo_target
EXTRN	?select_previous_eo_target@@YGXXZ:PROC		; select_previous_eo_target
EXTRN	?select_next_designated_eo_target@@YGXXZ:PROC	; select_next_designated_eo_target
EXTRN	?select_previous_designated_eo_target@@YGXXZ:PROC ; select_previous_designated_eo_target
EXTRN	?convert_linear_view_value@@YGMPAUEO_PARAMS_DYNAMIC_MOVE@@@Z:PROC ; convert_linear_view_value
EXTRN	?copy_eo_zoom@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@0@Z:PROC ; copy_eo_zoom
EXTRN	?keyboard_slew_eo_system@@YGXMMM@Z:PROC		; keyboard_slew_eo_system
EXTRN	?joystick_slew_eo_system@@YGXM@Z:PROC		; joystick_slew_eo_system
EXTRN	?get_eo_azimuth@@YGMMMMMMM@Z:PROC		; get_eo_azimuth
EXTRN	?get_eo_elevation@@YGMMMMMMM@Z:PROC		; get_eo_elevation
EXTRN	?get_new_eo_zoom@@YGMM@Z:PROC			; get_new_eo_zoom
EXTRN	?toggle_ground_stabilisation@@YGXXZ:PROC	; toggle_ground_stabilisation
EXTRN	?handle_ground_stabilisation@@YGXXZ:PROC	; handle_ground_stabilisation
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?command_line_mouse_look@@3HA:DWORD		; command_line_mouse_look
EXTRN	?command_line_mouse_look_speed@@3HA:DWORD	; command_line_mouse_look_speed
EXTRN	?command_line_eo_pan_joystick_index@@3HA:DWORD	; command_line_eo_pan_joystick_index
EXTRN	?command_line_eo_zoom_joystick_index@@3HA:DWORD	; command_line_eo_zoom_joystick_index
EXTRN	?command_line_eo_zoom_joystick_axis@@3HA:DWORD	; command_line_eo_zoom_joystick_axis
EXTRN	?command_line_field_of_view_joystick_index@@3HA:DWORD ; command_line_field_of_view_joystick_index
EXTRN	?command_line_manual_laser_radar@@3HA:DWORD	; command_line_manual_laser_radar
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A:DWORD ; target_acquisition_system
EXTRN	?single_target_acquisition_system_inc_range_key@@3HA:DWORD ; single_target_acquisition_system_inc_range_key
EXTRN	?single_target_acquisition_system_dec_range_key@@3HA:DWORD ; single_target_acquisition_system_dec_range_key
EXTRN	?single_target_acquisition_system_select_next_target_key@@3HA:DWORD ; single_target_acquisition_system_select_next_target_key
EXTRN	?single_target_acquisition_system_select_previous_target_key@@3HA:DWORD ; single_target_acquisition_system_select_previous_target_key
EXTRN	?single_target_acquisition_system_select_next_designated_key@@3HA:DWORD ; single_target_acquisition_system_select_next_designated_key
EXTRN	?single_target_acquisition_system_select_previous_designated_key@@3HA:DWORD ; single_target_acquisition_system_select_previous_designated_key
EXTRN	?single_target_acquisition_system_inc_range_fast_key@@3HA:DWORD ; single_target_acquisition_system_inc_range_fast_key
EXTRN	?single_target_acquisition_system_dec_range_fast_key@@3HA:DWORD ; single_target_acquisition_system_dec_range_fast_key
EXTRN	?toggle_ground_stabilisation_key@@3HA:DWORD	; toggle_ground_stabilisation_key
EXTRN	?eo_on_target@@3HA:DWORD			; eo_on_target
EXTRN	?eo_ground_stabilised@@3HA:DWORD		; eo_ground_stabilised
EXTRN	?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A:DWORD ; eo_sensor
EXTRN	?eo_azimuth@@3MA:DWORD				; eo_azimuth
EXTRN	?eo_min_azimuth@@3MA:DWORD			; eo_min_azimuth
EXTRN	?eo_max_azimuth@@3MA:DWORD			; eo_max_azimuth
EXTRN	?eo_elevation@@3MA:DWORD			; eo_elevation
EXTRN	?eo_min_elevation@@3MA:DWORD			; eo_min_elevation
EXTRN	?eo_max_elevation@@3MA:DWORD			; eo_max_elevation
EXTRN	?eo_max_visual_range@@3MA:DWORD			; eo_max_visual_range
EXTRN	__fltused:DWORD
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@bf9c61aa
CONST	SEGMENT
__real@bf9c61aa DD 0bf9c61aar			; -1.22173
CONST	ENDS
;	COMDAT __real@be860a92
CONST	SEGMENT
__real@be860a92 DD 0be860a92r			; -0.261799
CONST	ENDS
;	COMDAT __real@459c4000
CONST	SEGMENT
__real@459c4000 DD 0459c4000r			; 5000
CONST	ENDS
;	COMDAT __real@40d3880000000000
CONST	SEGMENT
__real@40d3880000000000 DQ 040d3880000000000r	; 20000
CONST	ENDS
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@3ff6571848000000
CONST	SEGMENT
__real@3ff6571848000000 DQ 03ff6571848000000r	; 1.39626
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3fd6571848000000
CONST	SEGMENT
__real@3fd6571848000000 DQ 03fd6571848000000r	; 0.349066
CONST	ENDS
;	COMDAT __real@3fc999999999999a
CONST	SEGMENT
__real@3fc999999999999a DQ 03fc999999999999ar	; 0.2
CONST	ENDS
;	COMDAT __real@3fb1df46a0000000
CONST	SEGMENT
__real@3fb1df46a0000000 DQ 03fb1df46a0000000r	; 0.0698132
CONST	ENDS
;	COMDAT __real@3f9c61aa
CONST	SEGMENT
__real@3f9c61aa DD 03f9c61aar			; 1.22173
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f567750
CONST	SEGMENT
__real@3f567750 DD 03f567750r			; 0.837758
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3edf66f3
CONST	SEGMENT
__real@3edf66f3 DD 03edf66f3r			; 0.436332
CONST	ENDS
;	COMDAT __real@3c000000
CONST	SEGMENT
__real@3c000000 DD 03c000000r			; 0.0078125
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA DD 0286H ; `animate_hokum_virtual_cockpit_eo'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA DD 024aH ; `animate_hokum_eo'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA DD 016dH ; `update_hokum_eo'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA DD 015eH ; `fast_dec_eo_field_of_view'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA DD 0147H ; `dec_eo_field_of_view'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA DD 0138H ; `fast_inc_eo_field_of_view'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02KMMHFIEO@eo@
CONST	SEGMENT
??_C@_02KMMHFIEO@eo@ DB 'eo', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA DD 0121H ; `inc_eo_field_of_view'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA DD 0d0H ; `get_hokum_eo_relative_centred_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DP@PGGHGFGG@OBJECT_3D_SUB_OBJECT_KA52_WSO_S@
CONST	SEGMENT
??_C@_0DP@PGGHGFGG@OBJECT_3D_SUB_OBJECT_KA52_WSO_S@ DB 'OBJECT_3D_SUB_OBJ'
	DB	'ECT_KA52_WSO_SCOPE_HEADING missing from Hokum', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DP@JLBGGOGM@OBJECT_3D_SUB_OBJECT_KA52_SAMSH@
CONST	SEGMENT
??_C@_0DP@JLBGGOGM@OBJECT_3D_SUB_OBJECT_KA52_SAMSH@ DB 'OBJECT_3D_SUB_OBJ'
	DB	'ECT_KA52_SAMSHIT_VIEWPOINT missing from Hokum', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_02HPPNELPJ@vp@
CONST	SEGMENT
??_C@_02HPPNELPJ@vp@ DB 'vp', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_e'
	DB	'o.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA DD 087H ; `get_hokum_eo_centred_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z
_TEXT	SEGMENT
_eo$ = 8						; size = 4
?fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z PROC ; fast_dec_eo_field_of_view, COMDAT

; 350  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 351  : 	ASSERT (eo);

  00009	83 7d 08 00	 cmp	 DWORD PTR _eo$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@fast_dec_e
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02KMMHFIEO@eo@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@fast_dec_e:

; 352  : 
; 353  : #ifdef OLD_EO
; 354  : 	eo->field_of_view = eo->min_field_of_view;
; 355  : #else
; 356  : 	eo->zoom = 0.0;

  00027	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  0002a	0f 57 c0	 xorps	 xmm0, xmm0
  0002d	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 357  : #endif
; 358  : }

  00031	5f		 pop	 edi
  00032	5e		 pop	 esi
  00033	5b		 pop	 ebx
  00034	8b e5		 mov	 esp, ebp
  00036	5d		 pop	 ebp
  00037	c2 04 00	 ret	 4
?fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ENDP ; fast_dec_eo_field_of_view
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z
_TEXT	SEGMENT
_eo$ = 8						; size = 4
?dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z PROC ; dec_eo_field_of_view, COMDAT

; 327  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 328  : 	ASSERT (eo);

  00009	83 7d 08 00	 cmp	 DWORD PTR _eo$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@dec_eo_fie
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02KMMHFIEO@eo@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@dec_eo_fie:

; 329  : 
; 330  : #ifdef OLD_EO
; 331  : 	if (eo->field_of_view > eo->min_field_of_view)
; 332  : 	{
; 333  : 		eo->field_of_view--;
; 334  : 	}
; 335  : #else
; 336  : 	eo->zoom -= 0.2;

  00027	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  0002a	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  0002e	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3fc999999999999a
  00036	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0003a	8b 4d 08	 mov	 ecx, DWORD PTR _eo$[ebp]
  0003d	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 337  : 
; 338  : 	if (eo->zoom < 0.0)

  00041	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00044	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  00048	0f 57 c9	 xorps	 xmm1, xmm1
  0004b	66 0f 2f c8	 comisd	 xmm1, xmm0
  0004f	76 0a		 jbe	 SHORT $LN3@dec_eo_fie

; 339  : 	{
; 340  : 		eo->zoom = 0.0;

  00051	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00054	0f 57 c0	 xorps	 xmm0, xmm0
  00057	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0
$LN3@dec_eo_fie:

; 341  : 	}
; 342  : #endif
; 343  : }

  0005b	5f		 pop	 edi
  0005c	5e		 pop	 esi
  0005d	5b		 pop	 ebx
  0005e	8b e5		 mov	 esp, ebp
  00060	5d		 pop	 ebp
  00061	c2 04 00	 ret	 4
?dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ENDP ; dec_eo_field_of_view
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z
_TEXT	SEGMENT
_eo$ = 8						; size = 4
?fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z PROC ; fast_inc_eo_field_of_view, COMDAT

; 312  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 313  : 	ASSERT (eo);

  00009	83 7d 08 00	 cmp	 DWORD PTR _eo$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@fast_inc_e
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02KMMHFIEO@eo@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@fast_inc_e:

; 314  : 
; 315  : #ifdef OLD_EO
; 316  : 	eo->field_of_view = eo->max_field_of_view;
; 317  : #else
; 318  : 	eo->zoom = 1.0;

  00027	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  0002a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00032	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 319  : #endif
; 320  : }

  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	5b		 pop	 ebx
  00039	8b e5		 mov	 esp, ebp
  0003b	5d		 pop	 ebp
  0003c	c2 04 00	 ret	 4
?fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ENDP ; fast_inc_eo_field_of_view
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z
_TEXT	SEGMENT
_eo$ = 8						; size = 4
?inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z PROC ; inc_eo_field_of_view, COMDAT

; 289  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 290  : 	ASSERT (eo);

  00009	83 7d 08 00	 cmp	 DWORD PTR _eo$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@inc_eo_fie
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02KMMHFIEO@eo@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@inc_eo_fie:

; 291  : 
; 292  : #ifdef OLD_EO
; 293  : 	if (eo->field_of_view < eo->max_field_of_view)
; 294  : 	{
; 295  : 		eo->field_of_view++;
; 296  : 	}
; 297  : #else
; 298  : 	eo->zoom += 0.2;

  00027	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  0002a	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  0002e	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fc999999999999a
  00036	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0003a	8b 4d 08	 mov	 ecx, DWORD PTR _eo$[ebp]
  0003d	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 299  : 
; 300  : 	if (eo->zoom > 1.0)

  00041	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00044	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  00048	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3ff0000000000000
  00050	76 0f		 jbe	 SHORT $LN3@inc_eo_fie

; 301  : 	{
; 302  : 		eo->zoom = 1.0;

  00052	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00055	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0005d	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0
$LN3@inc_eo_fie:

; 303  : 	}
; 304  : #endif
; 305  : }

  00061	5f		 pop	 edi
  00062	5e		 pop	 esi
  00063	5b		 pop	 ebx
  00064	8b e5		 mov	 esp, ebp
  00066	5d		 pop	 ebp
  00067	c2 04 00	 ret	 4
?inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ENDP ; inc_eo_field_of_view
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?toggle_hokum_eo_system@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?toggle_hokum_eo_system@@YGXXZ PROC			; toggle_hokum_eo_system, COMDAT

; 720  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 721  : 	switch (eo_sensor)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; eo_sensor
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 03	 cmp	 DWORD PTR tv64[ebp], 3
  00015	74 0e		 je	 SHORT $LN4@toggle_hok
  00017	83 7d bc 05	 cmp	 DWORD PTR tv64[ebp], 5
  0001b	7e 6b		 jle	 SHORT $LN1@toggle_hok
  0001d	83 7d bc 07	 cmp	 DWORD PTR tv64[ebp], 7
  00021	7e 30		 jle	 SHORT $LN6@toggle_hok
  00023	eb 63		 jmp	 SHORT $LN1@toggle_hok
$LN4@toggle_hok:

; 722  : 	{
; 723  : 	case TARGET_ACQUISITION_SYSTEM_FLIR:
; 724  : 		eo_sensor = TARGET_ACQUISITION_SYSTEM_LLLTV;

  00025	c7 05 00 00 00
	00 06 00 00 00	 mov	 DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 6 ; eo_sensor

; 725  : 
; 726  : 		copy_eo_zoom(&hokum_flir, &hokum_llltv);

  0002f	68 00 00 00 00	 push	 OFFSET ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_llltv
  00034	68 00 00 00 00	 push	 OFFSET ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_flir
  00039	e8 00 00 00 00	 call	 ?copy_eo_zoom@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@0@Z ; copy_eo_zoom

; 727  : 
; 728  : 		if (target_acquisition_system == TARGET_ACQUISITION_SYSTEM_FLIR)

  0003e	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 3 ; target_acquisition_system
  00045	75 0a		 jne	 SHORT $LN5@toggle_hok

; 729  : 			target_acquisition_system = TARGET_ACQUISITION_SYSTEM_LLLTV;

  00047	c7 05 00 00 00
	00 06 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 6 ; target_acquisition_system
$LN5@toggle_hok:

; 730  : 
; 731  : 		break;

  00051	eb 35		 jmp	 SHORT $LN1@toggle_hok
$LN6@toggle_hok:

; 732  : 	case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 733  : 	case TARGET_ACQUISITION_SYSTEM_PERISCOPE:
; 734  : 		eo_sensor = TARGET_ACQUISITION_SYSTEM_FLIR;

  00053	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 3 ; eo_sensor

; 735  : 
; 736  : 		copy_eo_zoom(&hokum_llltv, &hokum_flir);

  0005d	68 00 00 00 00	 push	 OFFSET ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_flir
  00062	68 00 00 00 00	 push	 OFFSET ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_llltv
  00067	e8 00 00 00 00	 call	 ?copy_eo_zoom@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@0@Z ; copy_eo_zoom

; 737  : 
; 738  : 		if (target_acquisition_system == TARGET_ACQUISITION_SYSTEM_LLLTV ||

  0006c	83 3d 00 00 00
	00 06		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 6 ; target_acquisition_system
  00073	74 09		 je	 SHORT $LN8@toggle_hok
  00075	83 3d 00 00 00
	00 07		 cmp	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 7 ; target_acquisition_system
  0007c	75 0a		 jne	 SHORT $LN1@toggle_hok
$LN8@toggle_hok:

; 739  : 			target_acquisition_system == TARGET_ACQUISITION_SYSTEM_PERISCOPE)
; 740  : 		{
; 741  : 			target_acquisition_system = TARGET_ACQUISITION_SYSTEM_FLIR;

  0007e	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?target_acquisition_system@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 3 ; target_acquisition_system
$LN1@toggle_hok:

; 742  : 		}
; 743  : 
; 744  : 		break;
; 745  : 	}
; 746  : }

  00088	5f		 pop	 edi
  00089	5e		 pop	 esi
  0008a	5b		 pop	 ebx
  0008b	8b e5		 mov	 esp, ebp
  0008d	5d		 pop	 ebp
  0008e	c3		 ret	 0
?toggle_hokum_eo_system@@YGXXZ ENDP			; toggle_hokum_eo_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?dec_hokum_eo_zoom@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?dec_hokum_eo_zoom@@YGXXZ PROC				; dec_hokum_eo_zoom, COMDAT

; 698  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 699  : 	switch (eo_sensor)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; eo_sensor
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 03	 cmp	 DWORD PTR tv64[ebp], 3
  00015	74 0e		 je	 SHORT $LN4@dec_hokum_
  00017	83 7d bc 06	 cmp	 DWORD PTR tv64[ebp], 6
  0001b	74 14		 je	 SHORT $LN5@dec_hokum_
  0001d	83 7d bc 07	 cmp	 DWORD PTR tv64[ebp], 7
  00021	74 1a		 je	 SHORT $LN6@dec_hokum_
  00023	eb 22		 jmp	 SHORT $LN1@dec_hokum_
$LN4@dec_hokum_:

; 700  : 	{
; 701  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 702  : 			inc_eo_field_of_view(&hokum_flir);

  00025	68 00 00 00 00	 push	 OFFSET ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_flir
  0002a	e8 00 00 00 00	 call	 ?inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; inc_eo_field_of_view

; 703  : 			break;

  0002f	eb 16		 jmp	 SHORT $LN1@dec_hokum_
$LN5@dec_hokum_:

; 704  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 705  : 			inc_eo_field_of_view(&hokum_llltv);

  00031	68 00 00 00 00	 push	 OFFSET ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_llltv
  00036	e8 00 00 00 00	 call	 ?inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; inc_eo_field_of_view

; 706  : 			break;

  0003b	eb 0a		 jmp	 SHORT $LN1@dec_hokum_
$LN6@dec_hokum_:

; 707  : 		case TARGET_ACQUISITION_SYSTEM_PERISCOPE:
; 708  : 			inc_eo_field_of_view(&hokum_periscope);

  0003d	68 00 00 00 00	 push	 OFFSET ?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_periscope
  00042	e8 00 00 00 00	 call	 ?inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; inc_eo_field_of_view
$LN1@dec_hokum_:

; 709  : 			break;
; 710  : 		default:
; 711  : 			break;
; 712  : 	}
; 713  : }

  00047	5f		 pop	 edi
  00048	5e		 pop	 esi
  00049	5b		 pop	 ebx
  0004a	8b e5		 mov	 esp, ebp
  0004c	5d		 pop	 ebp
  0004d	c3		 ret	 0
?dec_hokum_eo_zoom@@YGXXZ ENDP				; dec_hokum_eo_zoom
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?inc_hokum_eo_zoom@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?inc_hokum_eo_zoom@@YGXXZ PROC				; inc_hokum_eo_zoom, COMDAT

; 680  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 681  : 	switch (eo_sensor)

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; eo_sensor
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 03	 cmp	 DWORD PTR tv64[ebp], 3
  00015	74 0e		 je	 SHORT $LN4@inc_hokum_
  00017	83 7d bc 06	 cmp	 DWORD PTR tv64[ebp], 6
  0001b	74 14		 je	 SHORT $LN5@inc_hokum_
  0001d	83 7d bc 07	 cmp	 DWORD PTR tv64[ebp], 7
  00021	74 1a		 je	 SHORT $LN6@inc_hokum_
  00023	eb 22		 jmp	 SHORT $LN1@inc_hokum_
$LN4@inc_hokum_:

; 682  : 	{
; 683  : 		case TARGET_ACQUISITION_SYSTEM_FLIR:
; 684  : 			dec_eo_field_of_view(&hokum_flir);

  00025	68 00 00 00 00	 push	 OFFSET ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_flir
  0002a	e8 00 00 00 00	 call	 ?dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; dec_eo_field_of_view

; 685  : 			break;

  0002f	eb 16		 jmp	 SHORT $LN1@inc_hokum_
$LN5@inc_hokum_:

; 686  : 		case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 687  : 			dec_eo_field_of_view(&hokum_llltv);

  00031	68 00 00 00 00	 push	 OFFSET ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_llltv
  00036	e8 00 00 00 00	 call	 ?dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; dec_eo_field_of_view

; 688  : 			break;

  0003b	eb 0a		 jmp	 SHORT $LN1@inc_hokum_
$LN6@inc_hokum_:

; 689  : 		case TARGET_ACQUISITION_SYSTEM_PERISCOPE:
; 690  : 			dec_eo_field_of_view(&hokum_periscope);

  0003d	68 00 00 00 00	 push	 OFFSET ?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A ; hokum_periscope
  00042	e8 00 00 00 00	 call	 ?dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; dec_eo_field_of_view
$LN1@inc_hokum_:

; 691  : 			break;
; 692  : 		default:
; 693  : 			break;
; 694  : 	}
; 695  : }

  00047	5f		 pop	 edi
  00048	5e		 pop	 esi
  00049	5b		 pop	 ebx
  0004a	8b e5		 mov	 esp, ebp
  0004c	5d		 pop	 ebp
  0004d	c3		 ret	 0
?inc_hokum_eo_zoom@@YGXXZ ENDP				; inc_hokum_eo_zoom
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?slave_hokum_eo_to_current_target@@YGXXZ
_TEXT	SEGMENT
tv70 = -68						; size = 4
tv66 = -68						; size = 4
?slave_hokum_eo_to_current_target@@YGXXZ PROC		; slave_hokum_eo_to_current_target, COMDAT

; 753  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 754  : 	if (command_line_manual_laser_radar)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_manual_laser_radar@@3HA, 0 ; command_line_manual_laser_radar
  00010	74 05		 je	 SHORT $LN6@slave_hoku

; 755  : 		return;

  00012	e9 9c 00 00 00	 jmp	 $LN1@slave_hoku
$LN6@slave_hoku:

; 756  : 
; 757  : 	if (eo_on_target)

  00017	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?eo_on_target@@3HA, 0 ; eo_on_target
  0001e	74 43		 je	 SHORT $LN7@slave_hoku

; 758  : 	{
; 759  : 		switch (eo_sensor)

  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; eo_sensor
  00025	89 45 bc	 mov	 DWORD PTR tv66[ebp], eax
  00028	83 7d bc 03	 cmp	 DWORD PTR tv66[ebp], 3
  0002c	74 0e		 je	 SHORT $LN9@slave_hoku
  0002e	83 7d bc 06	 cmp	 DWORD PTR tv66[ebp], 6
  00032	74 15		 je	 SHORT $LN10@slave_hoku
  00034	83 7d bc 07	 cmp	 DWORD PTR tv66[ebp], 7
  00038	74 1c		 je	 SHORT $LN11@slave_hoku
  0003a	eb 25		 jmp	 SHORT $LN2@slave_hoku
$LN9@slave_hoku:

; 760  : 		{
; 761  : 			case TARGET_ACQUISITION_SYSTEM_FLIR:
; 762  : 			{
; 763  : #ifdef OLD_EO
; 764  : 				hokum_flir.field_of_view = hokum_flir.min_field_of_view;
; 765  : #else
; 766  : 				hokum_flir.zoom = 0.0;

  0003c	0f 57 c0	 xorps	 xmm0, xmm0
  0003f	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0

; 767  : #endif
; 768  : 
; 769  : 				break;

  00047	eb 18		 jmp	 SHORT $LN2@slave_hoku
$LN10@slave_hoku:

; 770  : 			}
; 771  : 			case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 772  : 			{
; 773  : #ifdef OLD_EO
; 774  : 				hokum_llltv.field_of_view = hokum_llltv.min_field_of_view;
; 775  : #else
; 776  : 				hokum_llltv.zoom = 0.0;

  00049	0f 57 c0	 xorps	 xmm0, xmm0
  0004c	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0

; 777  : #endif
; 778  : 
; 779  : 				break;

  00054	eb 0b		 jmp	 SHORT $LN2@slave_hoku
$LN11@slave_hoku:

; 780  : 			}
; 781  : 			case TARGET_ACQUISITION_SYSTEM_PERISCOPE:
; 782  : 			{
; 783  : #ifdef OLD_EO
; 784  : 				hokum_periscope.field_of_view = hokum_periscope.min_field_of_view;
; 785  : #else
; 786  : 				hokum_periscope.zoom = 0.0;

  00056	0f 57 c0	 xorps	 xmm0, xmm0
  00059	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0
$LN2@slave_hoku:

; 787  : #endif
; 788  : 
; 789  : 				break;
; 790  : 			}
; 791  : 		}
; 792  : 	}
; 793  : 	else

  00061	eb 50		 jmp	 SHORT $LN4@slave_hoku
$LN7@slave_hoku:

; 794  : 	{
; 795  : 		switch (eo_sensor)

  00063	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A ; eo_sensor
  00068	89 45 bc	 mov	 DWORD PTR tv70[ebp], eax
  0006b	83 7d bc 03	 cmp	 DWORD PTR tv70[ebp], 3
  0006f	74 0e		 je	 SHORT $LN12@slave_hoku
  00071	83 7d bc 06	 cmp	 DWORD PTR tv70[ebp], 6
  00075	74 1a		 je	 SHORT $LN13@slave_hoku
  00077	83 7d bc 07	 cmp	 DWORD PTR tv70[ebp], 7
  0007b	74 26		 je	 SHORT $LN14@slave_hoku
  0007d	eb 34		 jmp	 SHORT $LN4@slave_hoku
$LN12@slave_hoku:

; 796  : 		{
; 797  : 			case TARGET_ACQUISITION_SYSTEM_FLIR:
; 798  : 			{
; 799  : #ifdef OLD_EO
; 800  : 				hokum_flir.field_of_view = hokum_flir.max_field_of_view;
; 801  : #else
; 802  : 				hokum_flir.zoom = 1.0;

  0007f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00087	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0

; 803  : #endif
; 804  : 
; 805  : 				break;

  0008f	eb 22		 jmp	 SHORT $LN4@slave_hoku
$LN13@slave_hoku:

; 806  : 			}
; 807  : 			case TARGET_ACQUISITION_SYSTEM_LLLTV:
; 808  : 			{
; 809  : #ifdef OLD_EO
; 810  : 				hokum_llltv.field_of_view = hokum_llltv.max_field_of_view;
; 811  : #else
; 812  : 				hokum_llltv.zoom = 1.0;

  00091	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00099	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0

; 813  : #endif
; 814  : 
; 815  : 				break;

  000a1	eb 10		 jmp	 SHORT $LN4@slave_hoku
$LN14@slave_hoku:

; 816  : 			}
; 817  : 			case TARGET_ACQUISITION_SYSTEM_PERISCOPE:
; 818  : 			{
; 819  : #ifdef OLD_EO
; 820  : 				hokum_periscope.field_of_view = hokum_periscope.max_field_of_view;
; 821  : #else
; 822  : 				hokum_periscope.zoom = 1.0;

  000a3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000ab	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0
$LN4@slave_hoku:
$LN1@slave_hoku:

; 823  : #endif
; 824  : 
; 825  : 				break;
; 826  : 			}
; 827  : 		}
; 828  : 	}
; 829  : }

  000b3	5f		 pop	 edi
  000b4	5e		 pop	 esi
  000b5	5b		 pop	 ebx
  000b6	8b e5		 mov	 esp, ebp
  000b8	5d		 pop	 ebp
  000b9	c3		 ret	 0
?slave_hokum_eo_to_current_target@@YGXXZ ENDP		; slave_hokum_eo_to_current_target
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z
_TEXT	SEGMENT
_search_pitch$ = -112					; size = 56
_search_heading$ = -56					; size = 56
_inst3d$ = 8						; size = 4
?animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z PROC ; animate_hokum_virtual_cockpit_eo, COMDAT

; 646  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b0 00 00
	00		 sub	 esp, 176		; 000000b0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 647  : 	object_3d_sub_object_search_data
; 648  : 		search_heading,
; 649  : 		search_pitch;
; 650  : 
; 651  : 	ASSERT (inst3d);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@animate_ho
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA
  00017	83 c0 05	 add	 eax, 5
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@animate_ho:

; 652  : 
; 653  : 	//
; 654  : 	// Samshit-E
; 655  : 	//
; 656  : 
; 657  : 	search_heading.search_depth = 0;

  0002a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+8], 0

; 658  : 	search_heading.search_object = inst3d;

  00031	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00034	89 45 c8	 mov	 DWORD PTR _search_heading$[ebp], eax

; 659  : 	search_heading.sub_object_index = OBJECT_3D_SUB_OBJECT_HOKUM_COCKPIT_SAMSHIT_HEADING;

  00037	c7 45 d4 c5 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+12], 197 ; 000000c5H

; 660  : 
; 661  : 	if (find_object_3d_sub_object (&search_heading) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0003e	8d 45 c8	 lea	 eax, DWORD PTR _search_heading$[ebp]
  00041	50		 push	 eax
  00042	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00047	83 f8 01	 cmp	 eax, 1
  0004a	75 47		 jne	 SHORT $LN4@animate_ho

; 662  : 	{
; 663  : 		search_heading.result_sub_object->relative_heading = eo_azimuth;

  0004c	8b 45 cc	 mov	 eax, DWORD PTR _search_heading$[ebp+4]
  0004f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_azimuth@@3MA
  00057	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 664  : 
; 665  : 		search_pitch.search_depth = 0;

  0005c	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _search_pitch$[ebp+8], 0

; 666  : 		search_pitch.sub_object_index = OBJECT_3D_SUB_OBJECT_HOKUM_COCKPIT_SAMSHIT_PITCH;

  00063	c7 45 9c d8 00
	00 00		 mov	 DWORD PTR _search_pitch$[ebp+12], 216 ; 000000d8H

; 667  : 
; 668  : 		if (find_object_3d_sub_object_from_sub_object (&search_heading, &search_pitch) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0006a	8d 45 90	 lea	 eax, DWORD PTR _search_pitch$[ebp]
  0006d	50		 push	 eax
  0006e	8d 4d c8	 lea	 ecx, DWORD PTR _search_heading$[ebp]
  00071	51		 push	 ecx
  00072	e8 00 00 00 00	 call	 ?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z ; find_object_3d_sub_object_from_sub_object
  00077	83 f8 01	 cmp	 eax, 1
  0007a	75 17		 jne	 SHORT $LN4@animate_ho

; 669  : 		{
; 670  : 			search_pitch.result_sub_object->relative_pitch = -eo_elevation;

  0007c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_elevation@@3MA
  00084	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0008b	8b 45 94	 mov	 eax, DWORD PTR _search_pitch$[ebp+4]
  0008e	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0
$LN4@animate_ho:

; 671  : 		}
; 672  : 	}
; 673  : }

  00093	5f		 pop	 edi
  00094	5e		 pop	 esi
  00095	5b		 pop	 ebx
  00096	8b e5		 mov	 esp, ebp
  00098	5d		 pop	 ebp
  00099	c2 04 00	 ret	 4
?animate_hokum_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z ENDP ; animate_hokum_virtual_cockpit_eo
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z
_TEXT	SEGMENT
_search_pitch$ = -112					; size = 56
_search_heading$ = -56					; size = 56
_inst3d$ = 8						; size = 4
?animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z PROC	; animate_hokum_eo, COMDAT

; 586  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b0 00 00
	00		 sub	 esp, 176		; 000000b0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 587  : 	object_3d_sub_object_search_data
; 588  : 		search_heading,
; 589  : 		search_pitch;
; 590  : 
; 591  : 	ASSERT (inst3d);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@animate_ho
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z@4JA
  00017	83 c0 05	 add	 eax, 5
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@animate_ho:

; 592  : 
; 593  : 	//
; 594  : 	// Samshit-E
; 595  : 	//
; 596  : 
; 597  : 	search_heading.search_depth = 0;

  0002a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+8], 0

; 598  : 	search_heading.search_object = inst3d;

  00031	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00034	89 45 c8	 mov	 DWORD PTR _search_heading$[ebp], eax

; 599  : 	search_heading.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_SAMSHIT_HEADING;

  00037	c7 45 d4 e9 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+12], 233 ; 000000e9H

; 600  : 
; 601  : 	if (find_object_3d_sub_object (&search_heading) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0003e	8d 45 c8	 lea	 eax, DWORD PTR _search_heading$[ebp]
  00041	50		 push	 eax
  00042	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00047	83 f8 01	 cmp	 eax, 1
  0004a	75 47		 jne	 SHORT $LN4@animate_ho

; 602  : 	{
; 603  : 		search_heading.result_sub_object->relative_heading = eo_azimuth;

  0004c	8b 45 cc	 mov	 eax, DWORD PTR _search_heading$[ebp+4]
  0004f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_azimuth@@3MA
  00057	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 604  : 
; 605  : 		search_pitch.search_depth = 0;

  0005c	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _search_pitch$[ebp+8], 0

; 606  : 		search_pitch.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_SAMSHIT_PITCH;

  00063	c7 45 9c eb 00
	00 00		 mov	 DWORD PTR _search_pitch$[ebp+12], 235 ; 000000ebH

; 607  : 
; 608  : 		if (find_object_3d_sub_object_from_sub_object (&search_heading, &search_pitch) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0006a	8d 45 90	 lea	 eax, DWORD PTR _search_pitch$[ebp]
  0006d	50		 push	 eax
  0006e	8d 4d c8	 lea	 ecx, DWORD PTR _search_heading$[ebp]
  00071	51		 push	 ecx
  00072	e8 00 00 00 00	 call	 ?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z ; find_object_3d_sub_object_from_sub_object
  00077	83 f8 01	 cmp	 eax, 1
  0007a	75 17		 jne	 SHORT $LN4@animate_ho

; 609  : 		{
; 610  : 			search_pitch.result_sub_object->relative_pitch = -eo_elevation;

  0007c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_elevation@@3MA
  00084	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0008b	8b 45 94	 mov	 eax, DWORD PTR _search_pitch$[ebp+4]
  0008e	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0
$LN4@animate_ho:

; 611  : 		}
; 612  : 	}
; 613  : 
; 614  : 	//
; 615  : 	// Shkval-V
; 616  : 	//
; 617  : 
; 618  : 	search_heading.search_depth = 0;

  00093	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+8], 0

; 619  : 	search_heading.search_object = inst3d;

  0009a	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0009d	89 45 c8	 mov	 DWORD PTR _search_heading$[ebp], eax

; 620  : 	search_heading.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_FLIR_HEADING;

  000a0	c7 45 d4 e8 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+12], 232 ; 000000e8H

; 621  : 
; 622  : 	if (find_object_3d_sub_object (&search_heading) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  000a7	8d 45 c8	 lea	 eax, DWORD PTR _search_heading$[ebp]
  000aa	50		 push	 eax
  000ab	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  000b0	83 f8 01	 cmp	 eax, 1
  000b3	75 10		 jne	 SHORT $LN5@animate_ho

; 623  : 	{
; 624  : 		search_heading.result_sub_object->relative_heading = eo_azimuth;

  000b5	8b 45 cc	 mov	 eax, DWORD PTR _search_heading$[ebp+4]
  000b8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_azimuth@@3MA
  000c0	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0
$LN5@animate_ho:

; 625  : 	}
; 626  : 
; 627  : 	//
; 628  : 	// periscope
; 629  : 	//
; 630  : 
; 631  : 	search_heading.search_depth = 0;

  000c5	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+8], 0

; 632  : 	search_heading.search_object = inst3d;

  000cc	8b 45 08	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000cf	89 45 c8	 mov	 DWORD PTR _search_heading$[ebp], eax

; 633  : 	search_heading.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_WSO_SCOPE_HEADING;

  000d2	c7 45 d4 ea 00
	00 00		 mov	 DWORD PTR _search_heading$[ebp+12], 234 ; 000000eaH

; 634  : 
; 635  : 	if (find_object_3d_sub_object (&search_heading) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  000d9	8d 45 c8	 lea	 eax, DWORD PTR _search_heading$[ebp]
  000dc	50		 push	 eax
  000dd	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  000e2	83 f8 01	 cmp	 eax, 1
  000e5	75 10		 jne	 SHORT $LN6@animate_ho

; 636  : 	{
; 637  : 		search_heading.result_sub_object->relative_heading = eo_azimuth;

  000e7	8b 45 cc	 mov	 eax, DWORD PTR _search_heading$[ebp+4]
  000ea	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_azimuth@@3MA
  000f2	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0
$LN6@animate_ho:

; 638  : 	}
; 639  : }

  000f7	5f		 pop	 edi
  000f8	5e		 pop	 esi
  000f9	5b		 pop	 ebx
  000fa	8b e5		 mov	 esp, ebp
  000fc	5d		 pop	 ebp
  000fd	c2 04 00	 ret	 4
?animate_hokum_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z ENDP	; animate_hokum_eo
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?centre_hokum_eo@@YGXXZ
_TEXT	SEGMENT
?centre_hokum_eo@@YGXXZ PROC				; centre_hokum_eo, COMDAT

; 575  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 576  : 	eo_azimuth = rad (0.0);

  00009	0f 57 c0	 xorps	 xmm0, xmm0
  0000c	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_azimuth@@3MA, xmm0

; 577  : 
; 578  : 	eo_elevation = rad (0.0);

  00014	0f 57 c0	 xorps	 xmm0, xmm0
  00017	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_elevation@@3MA, xmm0

; 579  : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?centre_hokum_eo@@YGXXZ ENDP				; centre_hokum_eo
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z
_TEXT	SEGMENT
_ROTATE_RATE$1 = -28					; size = 4
_exp_zoom_value$2 = -24					; size = 4
_pos$3 = -20						; size = 4
_coarse_slew_rate$ = -16				; size = 4
_mouse_slew_rate$ = -12					; size = 4
_medium_slew_rate$ = -8					; size = 4
_fine_slew_rate$ = -4					; size = 4
_eo$ = 8						; size = 4
?update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z PROC	; update_hokum_eo, COMDAT

; 365  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 366  : 	float
; 367  : 		fine_slew_rate,
; 368  : 		medium_slew_rate,
; 369  : 		mouse_slew_rate, // Jabberwock 030930
; 370  : 		coarse_slew_rate;
; 371  : 
; 372  : 	ASSERT (eo);

  00009	83 7d 08 00	 cmp	 DWORD PTR _eo$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN20@update_hok
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z@4JA
  00014	83 c0 07	 add	 eax, 7
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02KMMHFIEO@eo@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN20@update_hok:

; 373  : 
; 374  : 	////////////////////////////////////////
; 375  : 	//
; 376  : 	// field of view
; 377  : 	//
; 378  : 	////////////////////////////////////////
; 379  : 
; 380  : 	while (single_target_acquisition_system_inc_range_key)

  00027	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_inc_range_key@@3HA, 0 ; single_target_acquisition_system_inc_range_key
  0002e	74 18		 je	 SHORT $LN3@update_hok

; 381  : 	{
; 382  : 		dec_eo_field_of_view (eo);

  00030	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; dec_eo_field_of_view

; 383  : 
; 384  : 		single_target_acquisition_system_inc_range_key--;

  00039	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_inc_range_key@@3HA ; single_target_acquisition_system_inc_range_key
  0003e	83 e8 01	 sub	 eax, 1
  00041	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_inc_range_key@@3HA, eax ; single_target_acquisition_system_inc_range_key

; 385  : 	}

  00046	eb df		 jmp	 SHORT $LN20@update_hok
$LN3@update_hok:

; 386  : 
; 387  : 	while (single_target_acquisition_system_inc_range_fast_key)

  00048	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_inc_range_fast_key@@3HA, 0 ; single_target_acquisition_system_inc_range_fast_key
  0004f	74 18		 je	 SHORT $LN5@update_hok

; 388  : 	{
; 389  : 		fast_dec_eo_field_of_view (eo);

  00051	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00054	50		 push	 eax
  00055	e8 00 00 00 00	 call	 ?fast_dec_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; fast_dec_eo_field_of_view

; 390  : 
; 391  : 		single_target_acquisition_system_inc_range_fast_key--;

  0005a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_inc_range_fast_key@@3HA ; single_target_acquisition_system_inc_range_fast_key
  0005f	83 e8 01	 sub	 eax, 1
  00062	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_inc_range_fast_key@@3HA, eax ; single_target_acquisition_system_inc_range_fast_key

; 392  : 	}

  00067	eb df		 jmp	 SHORT $LN3@update_hok
$LN5@update_hok:

; 393  : 
; 394  : 	////////////////////////////////////////
; 395  : 
; 396  : 	while (single_target_acquisition_system_dec_range_key)

  00069	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_dec_range_key@@3HA, 0 ; single_target_acquisition_system_dec_range_key
  00070	74 18		 je	 SHORT $LN7@update_hok

; 397  : 	{
; 398  : 		inc_eo_field_of_view (eo);

  00072	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00075	50		 push	 eax
  00076	e8 00 00 00 00	 call	 ?inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; inc_eo_field_of_view

; 399  : 
; 400  : 		single_target_acquisition_system_dec_range_key--;

  0007b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_dec_range_key@@3HA ; single_target_acquisition_system_dec_range_key
  00080	83 e8 01	 sub	 eax, 1
  00083	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_dec_range_key@@3HA, eax ; single_target_acquisition_system_dec_range_key

; 401  : 	}

  00088	eb df		 jmp	 SHORT $LN5@update_hok
$LN7@update_hok:

; 402  : 
; 403  : 	while (single_target_acquisition_system_dec_range_fast_key)

  0008a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_dec_range_fast_key@@3HA, 0 ; single_target_acquisition_system_dec_range_fast_key
  00091	74 18		 je	 SHORT $LN9@update_hok

; 404  : 	{
; 405  : 		fast_inc_eo_field_of_view (eo);

  00093	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00096	50		 push	 eax
  00097	e8 00 00 00 00	 call	 ?fast_inc_eo_field_of_view@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; fast_inc_eo_field_of_view

; 406  : 
; 407  : 		single_target_acquisition_system_dec_range_fast_key--;

  0009c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_dec_range_fast_key@@3HA ; single_target_acquisition_system_dec_range_fast_key
  000a1	83 e8 01	 sub	 eax, 1
  000a4	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_dec_range_fast_key@@3HA, eax ; single_target_acquisition_system_dec_range_fast_key

; 408  : 	}

  000a9	eb df		 jmp	 SHORT $LN7@update_hok
$LN9@update_hok:

; 409  : 
; 410  : 	////////////////////////////////////////
; 411  : 
; 412  : 	while (toggle_ground_stabilisation_key)

  000ab	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?toggle_ground_stabilisation_key@@3HA, 0 ; toggle_ground_stabilisation_key
  000b2	74 14		 je	 SHORT $LN11@update_hok

; 413  : 	{
; 414  : 		toggle_ground_stabilisation ();

  000b4	e8 00 00 00 00	 call	 ?toggle_ground_stabilisation@@YGXXZ ; toggle_ground_stabilisation

; 415  : 
; 416  : 		toggle_ground_stabilisation_key--;

  000b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?toggle_ground_stabilisation_key@@3HA ; toggle_ground_stabilisation_key
  000be	83 e8 01	 sub	 eax, 1
  000c1	a3 00 00 00 00	 mov	 DWORD PTR ?toggle_ground_stabilisation_key@@3HA, eax ; toggle_ground_stabilisation_key

; 417  : 	}

  000c6	eb e3		 jmp	 SHORT $LN9@update_hok
$LN11@update_hok:

; 418  : 
; 419  : 	////////////////////////////////////////
; 420  : 
; 421  : 	if (command_line_eo_zoom_joystick_index != -1)

  000c8	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?command_line_eo_zoom_joystick_index@@3HA, -1 ; command_line_eo_zoom_joystick_index
  000cf	74 34		 je	 SHORT $LN21@update_hok

; 422  : 	{
; 423  : 		long pos = get_joystick_axis (command_line_eo_zoom_joystick_index, command_line_eo_zoom_joystick_axis);

  000d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?command_line_eo_zoom_joystick_axis@@3HA ; command_line_eo_zoom_joystick_axis
  000d6	50		 push	 eax
  000d7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?command_line_eo_zoom_joystick_index@@3HA ; command_line_eo_zoom_joystick_index
  000dd	51		 push	 ecx
  000de	e8 00 00 00 00	 call	 ?get_joystick_axis@@YGHHH@Z ; get_joystick_axis
  000e3	89 45 ec	 mov	 DWORD PTR _pos$3[ebp], eax

; 424  : 
; 425  : 		eo->zoom = (pos + 10000) / 20000.0;

  000e6	8b 45 ec	 mov	 eax, DWORD PTR _pos$3[ebp]
  000e9	05 10 27 00 00	 add	 eax, 10000		; 00002710H
  000ee	f2 0f 2a c0	 cvtsi2sd xmm0, eax
  000f2	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@40d3880000000000
  000fa	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000fe	8b 4d 08	 mov	 ecx, DWORD PTR _eo$[ebp]
  00101	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0
$LN21@update_hok:

; 426  : 	}
; 427  : 
; 428  : 	////////////////////////////////////////
; 429  : 	//
; 430  : 	// slew optics
; 431  : 	//
; 432  : 	////////////////////////////////////////
; 433  : 
; 434  : #ifdef OLD_EO
; 435  : 	switch (eo->field_of_view)
; 436  : 	{
; 437  : 		////////////////////////////////////////
; 438  : 		case EO_FOV_NARROW:
; 439  : 		////////////////////////////////////////
; 440  : 		{
; 441  : 			fine_slew_rate = rad (0.05) * get_delta_time ();
; 442  : 
; 443  : 			medium_slew_rate = rad (0.25) * get_delta_time ();
; 444  : 
; 445  : 			mouse_slew_rate = rad (0.6) * get_delta_time ();	// Jabberwock 030930
; 446  : 
; 447  : 			coarse_slew_rate = rad (1.0) * get_delta_time ();
; 448  : 
; 449  : 			break;
; 450  : 		}
; 451  : 		////////////////////////////////////////
; 452  : 		case EO_FOV_MEDIUM:
; 453  : 		////////////////////////////////////////
; 454  : 		{
; 455  : 			fine_slew_rate = rad (0.5) * get_delta_time ();
; 456  : 
; 457  : 			medium_slew_rate = rad (2.5) * get_delta_time ();
; 458  : 
; 459  : 			mouse_slew_rate = rad (6) * get_delta_time ();	// Jabberwock 030930
; 460  : 
; 461  : 			coarse_slew_rate = rad (10.0) * get_delta_time ();
; 462  : 
; 463  : 			break;
; 464  : 		}
; 465  : 		////////////////////////////////////////
; 466  : 		case EO_FOV_WIDE:
; 467  : 		////////////////////////////////////////
; 468  : 		{
; 469  : 			fine_slew_rate = rad (4.0) * get_delta_time ();
; 470  : 
; 471  : 			medium_slew_rate = rad (20.0) * get_delta_time ();
; 472  : 
; 473  : 			mouse_slew_rate = rad (48) * get_delta_time ();	// Jabberwock 030930
; 474  : 
; 475  : 			coarse_slew_rate = rad (80.0) * get_delta_time ();
; 476  : 
; 477  : 			break;
; 478  : 		}
; 479  : 		////////////////////////////////////////
; 480  : 		default:
; 481  : 		////////////////////////////////////////
; 482  : 		{
; 483  : 			debug_fatal ("Invalid field of view = %d", eo->field_of_view);
; 484  : 
; 485  : 			break;
; 486  : 		}
; 487  : 	}
; 488  : #else
; 489  : 	{
; 490  : 		float exp_zoom_value = convert_linear_view_value (eo);

  00105	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  00108	50		 push	 eax
  00109	e8 00 00 00 00	 call	 ?convert_linear_view_value@@YGMPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ; convert_linear_view_value
  0010e	d9 5d e8	 fstp	 DWORD PTR _exp_zoom_value$2[ebp]

; 491  : 
; 492  : 		fine_slew_rate = rad (4.0) * exp_zoom_value * get_delta_time ();

  00111	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _exp_zoom_value$2[ebp]
  00116	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3fb1df46a0000000
  0011e	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?system_delta_time@@3MA
  00126	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0012a	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0012e	f3 0f 11 45 fc	 movss	 DWORD PTR _fine_slew_rate$[ebp], xmm0

; 493  : 
; 494  : 		medium_slew_rate = rad (20.0) * exp_zoom_value * get_delta_time ();

  00133	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _exp_zoom_value$2[ebp]
  00138	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3fd6571848000000
  00140	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?system_delta_time@@3MA
  00148	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0014c	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00150	f3 0f 11 45 f8	 movss	 DWORD PTR _medium_slew_rate$[ebp], xmm0

; 495  : 
; 496  : 		mouse_slew_rate = rad (48) * exp_zoom_value * get_delta_time ();	// Jabberwock 030930

  00155	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f567750
  0015d	f3 0f 59 45 e8	 mulss	 xmm0, DWORD PTR _exp_zoom_value$2[ebp]
  00162	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0016a	f3 0f 11 45 f4	 movss	 DWORD PTR _mouse_slew_rate$[ebp], xmm0

; 497  : 
; 498  : 		coarse_slew_rate = rad (80.0) * exp_zoom_value * get_delta_time ();

  0016f	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _exp_zoom_value$2[ebp]
  00174	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3ff6571848000000
  0017c	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?system_delta_time@@3MA
  00184	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00188	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0018c	f3 0f 11 45 f0	 movss	 DWORD PTR _coarse_slew_rate$[ebp], xmm0

; 499  : 	}
; 500  : #endif
; 501  : 
; 502  : 	////////////////////////////////////////
; 503  : 
; 504  : 	keyboard_slew_eo_system(fine_slew_rate, medium_slew_rate, coarse_slew_rate);

  00191	51		 push	 ecx
  00192	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _coarse_slew_rate$[ebp]
  00197	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0019c	51		 push	 ecx
  0019d	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _medium_slew_rate$[ebp]
  001a2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a7	51		 push	 ecx
  001a8	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _fine_slew_rate$[ebp]
  001ad	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001b2	e8 00 00 00 00	 call	 ?keyboard_slew_eo_system@@YGXMMM@Z ; keyboard_slew_eo_system

; 505  : 
; 506  : 	if ( command_line_eo_pan_joystick_index == -1 )

  001b7	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?command_line_eo_pan_joystick_index@@3HA, -1 ; command_line_eo_pan_joystick_index
  001be	0f 85 c9 00 00
	00		 jne	 $LN22@update_hok

; 507  : 	{						
; 508  : 		float ROTATE_RATE = (float) command_line_mouse_look_speed / 5.0;

  001c4	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?command_line_mouse_look_speed@@3HA ; command_line_mouse_look_speed
  001cc	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001d0	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@4014000000000000
  001d8	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001dc	f3 0f 11 45 e4	 movss	 DWORD PTR _ROTATE_RATE$1[ebp], xmm0

; 509  : 
; 510  : 		eo_azimuth = get_eo_azimuth (ROTATE_RATE, coarse_slew_rate, eo_azimuth, eo_min_azimuth, eo_max_azimuth, mouse_slew_rate);

  001e1	51		 push	 ecx
  001e2	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _mouse_slew_rate$[ebp]
  001e7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001ec	51		 push	 ecx
  001ed	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_max_azimuth@@3MA
  001f5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001fa	51		 push	 ecx
  001fb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_min_azimuth@@3MA
  00203	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00208	51		 push	 ecx
  00209	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_azimuth@@3MA
  00211	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00216	51		 push	 ecx
  00217	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _coarse_slew_rate$[ebp]
  0021c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00221	51		 push	 ecx
  00222	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _ROTATE_RATE$1[ebp]
  00227	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0022c	e8 00 00 00 00	 call	 ?get_eo_azimuth@@YGMMMMMMM@Z ; get_eo_azimuth
  00231	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?eo_azimuth@@3MA ; eo_azimuth

; 511  : 		eo_elevation = get_eo_elevation (ROTATE_RATE, coarse_slew_rate, eo_elevation, eo_min_elevation, eo_max_elevation, mouse_slew_rate);

  00237	51		 push	 ecx
  00238	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _mouse_slew_rate$[ebp]
  0023d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00242	51		 push	 ecx
  00243	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_max_elevation@@3MA
  0024b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00250	51		 push	 ecx
  00251	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_min_elevation@@3MA
  00259	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0025e	51		 push	 ecx
  0025f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?eo_elevation@@3MA
  00267	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0026c	51		 push	 ecx
  0026d	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _coarse_slew_rate$[ebp]
  00272	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00277	51		 push	 ecx
  00278	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _ROTATE_RATE$1[ebp]
  0027d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00282	e8 00 00 00 00	 call	 ?get_eo_elevation@@YGMMMMMMM@Z ; get_eo_elevation
  00287	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?eo_elevation@@3MA ; eo_elevation
$LN22@update_hok:

; 512  : 	}
; 513  : 	if (command_line_eo_zoom_joystick_index == -1 && (command_line_mouse_look != MOUSELOOK_ON || command_line_field_of_view_joystick_index != -1))

  0028d	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?command_line_eo_zoom_joystick_index@@3HA, -1 ; command_line_eo_zoom_joystick_index
  00294	75 29		 jne	 SHORT $LN23@update_hok
  00296	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?command_line_mouse_look@@3HA, 3 ; command_line_mouse_look
  0029d	75 09		 jne	 SHORT $LN24@update_hok
  0029f	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?command_line_field_of_view_joystick_index@@3HA, -1 ; command_line_field_of_view_joystick_index
  002a6	74 17		 je	 SHORT $LN23@update_hok
$LN24@update_hok:

; 514  : 		eo->zoom = get_new_eo_zoom(eo->zoom);

  002a8	8b 45 08	 mov	 eax, DWORD PTR _eo$[ebp]
  002ab	51		 push	 ecx
  002ac	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  002b0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002b5	e8 00 00 00 00	 call	 ?get_new_eo_zoom@@YGMM@Z ; get_new_eo_zoom
  002ba	8b 4d 08	 mov	 ecx, DWORD PTR _eo$[ebp]
  002bd	d9 19		 fstp	 DWORD PTR [ecx]
$LN23@update_hok:

; 515  : 
; 516  : 	////////////////////////////////////////
; 517  : 	// loke 030315
; 518  : 	// added code to allow the user to slew the eo device using joystick axes
; 519  : 
; 520  : 	joystick_slew_eo_system(medium_slew_rate);

  002bf	51		 push	 ecx
  002c0	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _medium_slew_rate$[ebp]
  002c5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002ca	e8 00 00 00 00	 call	 ?joystick_slew_eo_system@@YGXM@Z ; joystick_slew_eo_system

; 521  : 
; 522  : 	////////////////////////////////////////
; 523  : 
; 524  : 	// loke 030322
; 525  : 	// handle the ground stabilisation
; 526  : 
; 527  : 	if (eo_ground_stabilised)

  002cf	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?eo_ground_stabilised@@3HA, 0 ; eo_ground_stabilised
  002d6	74 05		 je	 SHORT $LN25@update_hok

; 528  : 	{
; 529  : 		handle_ground_stabilisation();

  002d8	e8 00 00 00 00	 call	 ?handle_ground_stabilisation@@YGXXZ ; handle_ground_stabilisation
$LN25@update_hok:

; 530  : 	}
; 531  : 
; 532  : 	////////////////////////////////////////
; 533  : 
; 534  : 	while (single_target_acquisition_system_select_next_target_key)

  002dd	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_select_next_target_key@@3HA, 0 ; single_target_acquisition_system_select_next_target_key
  002e4	74 14		 je	 SHORT $LN13@update_hok

; 535  : 	{
; 536  : 		select_next_eo_target ();

  002e6	e8 00 00 00 00	 call	 ?select_next_eo_target@@YGXXZ ; select_next_eo_target

; 537  : 
; 538  : 		single_target_acquisition_system_select_next_target_key--;

  002eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_select_next_target_key@@3HA ; single_target_acquisition_system_select_next_target_key
  002f0	83 e8 01	 sub	 eax, 1
  002f3	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_select_next_target_key@@3HA, eax ; single_target_acquisition_system_select_next_target_key

; 539  : 	}

  002f8	eb e3		 jmp	 SHORT $LN25@update_hok
$LN13@update_hok:

; 540  : 
; 541  : 	////////////////////////////////////////
; 542  : 
; 543  : 	while (single_target_acquisition_system_select_previous_target_key)

  002fa	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_select_previous_target_key@@3HA, 0 ; single_target_acquisition_system_select_previous_target_key
  00301	74 14		 je	 SHORT $LN15@update_hok

; 544  : 	{
; 545  : 		select_previous_eo_target ();

  00303	e8 00 00 00 00	 call	 ?select_previous_eo_target@@YGXXZ ; select_previous_eo_target

; 546  : 
; 547  : 		single_target_acquisition_system_select_previous_target_key--;

  00308	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_select_previous_target_key@@3HA ; single_target_acquisition_system_select_previous_target_key
  0030d	83 e8 01	 sub	 eax, 1
  00310	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_select_previous_target_key@@3HA, eax ; single_target_acquisition_system_select_previous_target_key

; 548  : 	}

  00315	eb e3		 jmp	 SHORT $LN13@update_hok
$LN15@update_hok:

; 549  : 
; 550  : // Jabberwock 031107 Designated targets
; 551  : 
; 552  : 	while (single_target_acquisition_system_select_next_designated_key)

  00317	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_select_next_designated_key@@3HA, 0 ; single_target_acquisition_system_select_next_designated_key
  0031e	74 14		 je	 SHORT $LN17@update_hok

; 553  : 	{
; 554  : 		select_next_designated_eo_target ();

  00320	e8 00 00 00 00	 call	 ?select_next_designated_eo_target@@YGXXZ ; select_next_designated_eo_target

; 555  : 
; 556  : 		single_target_acquisition_system_select_next_designated_key--;

  00325	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_select_next_designated_key@@3HA ; single_target_acquisition_system_select_next_designated_key
  0032a	83 e8 01	 sub	 eax, 1
  0032d	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_select_next_designated_key@@3HA, eax ; single_target_acquisition_system_select_next_designated_key

; 557  : 	}

  00332	eb e3		 jmp	 SHORT $LN15@update_hok
$LN17@update_hok:

; 558  : 
; 559  : 	////////////////////////////////////////
; 560  : 
; 561  : 	while (single_target_acquisition_system_select_previous_designated_key)

  00334	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?single_target_acquisition_system_select_previous_designated_key@@3HA, 0 ; single_target_acquisition_system_select_previous_designated_key
  0033b	74 14		 je	 SHORT $LN19@update_hok

; 562  : 	{
; 563  : 		select_previous_designated_eo_target ();

  0033d	e8 00 00 00 00	 call	 ?select_previous_designated_eo_target@@YGXXZ ; select_previous_designated_eo_target

; 564  : 
; 565  : 		single_target_acquisition_system_select_previous_designated_key--;

  00342	a1 00 00 00 00	 mov	 eax, DWORD PTR ?single_target_acquisition_system_select_previous_designated_key@@3HA ; single_target_acquisition_system_select_previous_designated_key
  00347	83 e8 01	 sub	 eax, 1
  0034a	a3 00 00 00 00	 mov	 DWORD PTR ?single_target_acquisition_system_select_previous_designated_key@@3HA, eax ; single_target_acquisition_system_select_previous_designated_key

; 566  : 	}

  0034f	eb e3		 jmp	 SHORT $LN17@update_hok
$LN19@update_hok:

; 567  : }

  00351	5f		 pop	 edi
  00352	5e		 pop	 esi
  00353	5b		 pop	 ebx
  00354	8b e5		 mov	 esp, ebp
  00356	5d		 pop	 ebp
  00357	c2 04 00	 ret	 4
?update_hokum_eo@@YGXPAUEO_PARAMS_DYNAMIC_MOVE@@@Z ENDP	; update_hokum_eo
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z
_TEXT	SEGMENT
tv190 = -136						; size = 4
tv83 = -136						; size = 4
tv182 = -132						; size = 4
tv138 = -132						; size = 4
tv75 = -132						; size = 4
_search$ = -64						; size = 56
_inst3d$ = -8						; size = 4
_source$ = -4						; size = 4
_vp$ = 8						; size = 4
?get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z PROC ; get_hokum_eo_relative_centred_viewpoint, COMDAT

; 208  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 209  : 	entity
; 210  : 		*source;
; 211  : 
; 212  : 	object_3d_instance
; 213  : 		*inst3d;
; 214  : 
; 215  : 	object_3d_sub_object_search_data
; 216  : 		search;
; 217  : 
; 218  : 	ASSERT (vp);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _vp$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@get_hokum_
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  00017	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_02HPPNELPJ@vp@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_hokum_:

; 219  : 
; 220  : 	source = get_gunship_entity ();

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0002f	89 45 fc	 mov	 DWORD PTR _source$[ebp], eax

; 221  : 
; 222  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (source, PTR_TYPE_INSTANCE_3D_OBJECT);

  00032	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00036	74 0d		 je	 SHORT $LN11@get_hokum_
  00038	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0003b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003d	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv75[ebp], ecx
  00043	eb 24		 jmp	 SHORT $LN12@get_hokum_
$LN11@get_hokum_:
  00045	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  0004b	83 c2 0e	 add	 edx, 14			; 0000000eH
  0004e	52		 push	 edx
  0004f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00059	50		 push	 eax
  0005a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005f	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv75[ebp], 0
$LN12@get_hokum_:
  00069	b9 01 00 00 00	 mov	 ecx, 1
  0006e	85 c9		 test	 ecx, ecx
  00070	74 0c		 je	 SHORT $LN13@get_hokum_
  00072	c7 85 78 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv83[ebp], 2
  0007c	eb 24		 jmp	 SHORT $LN14@get_hokum_
$LN13@get_hokum_:
  0007e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  00084	83 c2 0e	 add	 edx, 14			; 0000000eH
  00087	52		 push	 edx
  00088	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00092	50		 push	 eax
  00093	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00098	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv83[ebp], 0
$LN14@get_hokum_:
  000a2	6a 02		 push	 2
  000a4	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  000a7	51		 push	 ecx
  000a8	6b 95 7c ff ff
	ff 50		 imul	 edx, DWORD PTR tv75[ebp], 80
  000af	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv83[ebp]
  000b5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000bc	ff d1		 call	 ecx
  000be	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 223  : 
; 224  : 	ASSERT (inst3d);

  000c1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000c5	75 18		 jne	 SHORT $LN3@get_hokum_
  000c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  000cc	83 c0 10	 add	 eax, 16			; 00000010H
  000cf	50		 push	 eax
  000d0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d5	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  000da	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_hokum_:

; 225  : 
; 226  : 	inst3d->vp.x = 0.0;

  000df	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000e2	0f 57 c0	 xorps	 xmm0, xmm0
  000e5	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 227  : 	inst3d->vp.y = 0.0;

  000ea	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000ed	0f 57 c0	 xorps	 xmm0, xmm0
  000f0	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 228  : 	inst3d->vp.z = 0.0;

  000f5	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000f8	0f 57 c0	 xorps	 xmm0, xmm0
  000fb	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 229  : 
; 230  : 	get_local_entity_attitude_matrix (source, inst3d->vp.attitude);

  00100	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00104	74 0d		 je	 SHORT $LN15@get_hokum_
  00106	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  00109	8b 08		 mov	 ecx, DWORD PTR [eax]
  0010b	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv138[ebp], ecx
  00111	eb 24		 jmp	 SHORT $LN16@get_hokum_
$LN15@get_hokum_:
  00113	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  00119	83 c2 16	 add	 edx, 22			; 00000016H
  0011c	52		 push	 edx
  0011d	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00122	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00127	50		 push	 eax
  00128	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0012d	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv138[ebp], 0
$LN16@get_hokum_:
  00137	8b 4d f8	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  0013a	83 c1 14	 add	 ecx, 20			; 00000014H
  0013d	51		 push	 ecx
  0013e	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  00141	52		 push	 edx
  00142	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv138[ebp]
  00148	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  0014f	ff d1		 call	 ecx

; 231  : 
; 232  : 	if (eo_sensor != TARGET_ACQUISITION_SYSTEM_PERISCOPE)

  00151	83 3d 00 00 00
	00 07		 cmp	 DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 7 ; eo_sensor
  00158	74 55		 je	 SHORT $LN4@get_hokum_

; 233  : 	{
; 234  : 		search.search_depth = 0;

  0015a	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 235  : 		search.search_object = inst3d;

  00161	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00164	89 45 c0	 mov	 DWORD PTR _search$[ebp], eax

; 236  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_SAMSHIT_VIEWPOINT;

  00167	c7 45 cc ec 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 236 ; 000000ecH

; 237  : 
; 238  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0016e	8d 45 c0	 lea	 eax, DWORD PTR _search$[ebp]
  00171	50		 push	 eax
  00172	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00177	83 f8 01	 cmp	 eax, 1
  0017a	75 0f		 jne	 SHORT $LN6@get_hokum_

; 239  : 		{
; 240  : 			get_3d_sub_object_world_viewpoint (search.result_sub_object, vp);

  0017c	8b 45 08	 mov	 eax, DWORD PTR _vp$[ebp]
  0017f	50		 push	 eax
  00180	8b 4d c4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00183	51		 push	 ecx
  00184	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 241  : 		}
; 242  : 		else

  00189	eb 22		 jmp	 SHORT $LN7@get_hokum_
$LN6@get_hokum_:

; 243  : 		{
; 244  : 			//
; 245  : 			// can happpen if the object is being destroyed
; 246  : 			//
; 247  : 
; 248  : 			memcpy (&vp->position, &inst3d->vp.position, sizeof (vec3d));

  0018b	6a 0c		 push	 12			; 0000000cH
  0018d	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00190	83 c0 08	 add	 eax, 8
  00193	50		 push	 eax
  00194	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  00197	51		 push	 ecx
  00198	e8 00 00 00 00	 call	 _memcpy
  0019d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 249  : 
; 250  : 			debug_log ("OBJECT_3D_SUB_OBJECT_KA52_SAMSHIT_VIEWPOINT missing from Hokum");

  001a0	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@JLBGGOGM@OBJECT_3D_SUB_OBJECT_KA52_SAMSH@
  001a5	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  001aa	83 c4 04	 add	 esp, 4
$LN7@get_hokum_:

; 251  : 		}
; 252  : 	}
; 253  : 	else

  001ad	eb 53		 jmp	 SHORT $LN9@get_hokum_
$LN4@get_hokum_:

; 254  : 	{
; 255  : 		search.search_depth = 0;

  001af	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 256  : 		search.search_object = inst3d;

  001b6	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  001b9	89 45 c0	 mov	 DWORD PTR _search$[ebp], eax

; 257  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_WSO_SCOPE_HEADING;

  001bc	c7 45 cc ea 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 234 ; 000000eaH

; 258  : 
; 259  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  001c3	8d 45 c0	 lea	 eax, DWORD PTR _search$[ebp]
  001c6	50		 push	 eax
  001c7	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  001cc	83 f8 01	 cmp	 eax, 1
  001cf	75 0f		 jne	 SHORT $LN8@get_hokum_

; 260  : 		{
; 261  : 			get_3d_sub_object_world_viewpoint (search.result_sub_object, vp);

  001d1	8b 45 08	 mov	 eax, DWORD PTR _vp$[ebp]
  001d4	50		 push	 eax
  001d5	8b 4d c4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  001d8	51		 push	 ecx
  001d9	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 262  : 		}
; 263  : 		else

  001de	eb 22		 jmp	 SHORT $LN9@get_hokum_
$LN8@get_hokum_:

; 264  : 		{
; 265  : 			//
; 266  : 			// can happpen if the object is being destroyed
; 267  : 			//
; 268  : 
; 269  : 			memcpy (&vp->position, &inst3d->vp.position, sizeof (vec3d));

  001e0	6a 0c		 push	 12			; 0000000cH
  001e2	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  001e5	83 c0 08	 add	 eax, 8
  001e8	50		 push	 eax
  001e9	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  001ec	51		 push	 ecx
  001ed	e8 00 00 00 00	 call	 _memcpy
  001f2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 270  : 
; 271  : 			debug_log ("OBJECT_3D_SUB_OBJECT_KA52_WSO_SCOPE_HEADING missing from Hokum");

  001f5	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@PGGHGFGG@OBJECT_3D_SUB_OBJECT_KA52_WSO_S@
  001fa	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  001ff	83 c4 04	 add	 esp, 4
$LN9@get_hokum_:

; 272  : 		}
; 273  : 	}
; 274  : 
; 275  : 	memcpy (&vp->attitude, &inst3d->vp.attitude, sizeof (matrix3x3));

  00202	6a 24		 push	 36			; 00000024H
  00204	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00207	83 c0 14	 add	 eax, 20			; 00000014H
  0020a	50		 push	 eax
  0020b	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  0020e	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00211	51		 push	 ecx
  00212	e8 00 00 00 00	 call	 _memcpy
  00217	83 c4 0c	 add	 esp, 12			; 0000000cH

; 276  : 
; 277  : 	//
; 278  : 	// fix up the instance position (just in case)
; 279  : 	//
; 280  : 
; 281  : 	get_local_entity_vec3d (source, VEC3D_TYPE_POSITION, &inst3d->vp.position);

  0021a	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  0021e	74 0d		 je	 SHORT $LN17@get_hokum_
  00220	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  00223	8b 08		 mov	 ecx, DWORD PTR [eax]
  00225	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv182[ebp], ecx
  0022b	eb 24		 jmp	 SHORT $LN18@get_hokum_
$LN17@get_hokum_:
  0022d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  00233	83 c2 49	 add	 edx, 73			; 00000049H
  00236	52		 push	 edx
  00237	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0023c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00241	50		 push	 eax
  00242	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00247	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv182[ebp], 0
$LN18@get_hokum_:
  00251	b9 01 00 00 00	 mov	 ecx, 1
  00256	85 c9		 test	 ecx, ecx
  00258	74 0c		 je	 SHORT $LN19@get_hokum_
  0025a	c7 85 78 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv190[ebp], 8
  00264	eb 24		 jmp	 SHORT $LN20@get_hokum_
$LN19@get_hokum_:
  00266	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  0026c	83 c2 49	 add	 edx, 73			; 00000049H
  0026f	52		 push	 edx
  00270	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00275	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0027a	50		 push	 eax
  0027b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00280	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv190[ebp], 0
$LN20@get_hokum_:
  0028a	8b 4d f8	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  0028d	83 c1 08	 add	 ecx, 8
  00290	51		 push	 ecx
  00291	6a 08		 push	 8
  00293	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  00296	52		 push	 edx
  00297	6b 85 7c ff ff
	ff 60		 imul	 eax, DWORD PTR tv182[ebp], 96
  0029e	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv190[ebp]
  002a4	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  002ab	ff d2		 call	 edx

; 282  : }

  002ad	5f		 pop	 edi
  002ae	5e		 pop	 esi
  002af	5b		 pop	 ebx
  002b0	8b e5		 mov	 esp, ebp
  002b2	5d		 pop	 ebp
  002b3	c2 04 00	 ret	 4
?get_hokum_eo_relative_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z ENDP ; get_hokum_eo_relative_centred_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z
_TEXT	SEGMENT
tv140 = -136						; size = 4
tv83 = -136						; size = 4
tv154 = -132						; size = 4
tv132 = -132						; size = 4
tv75 = -132						; size = 4
_search$ = -64						; size = 56
_inst3d$ = -8						; size = 4
_source$ = -4						; size = 4
_vp$ = 8						; size = 4
?get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z PROC ; get_hokum_eo_centred_viewpoint, COMDAT

; 135  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 136  : 	entity
; 137  : 		*source;
; 138  : 
; 139  : 	object_3d_instance
; 140  : 		*inst3d;
; 141  : 
; 142  : 	object_3d_sub_object_search_data
; 143  : 		search;
; 144  : 
; 145  : 	ASSERT (vp);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _vp$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@get_hokum_
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  00017	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_02HPPNELPJ@vp@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_hokum_:

; 146  : 
; 147  : 	source = get_gunship_entity ();

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0002f	89 45 fc	 mov	 DWORD PTR _source$[ebp], eax

; 148  : 
; 149  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (source, PTR_TYPE_INSTANCE_3D_OBJECT);

  00032	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00036	74 0d		 je	 SHORT $LN11@get_hokum_
  00038	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0003b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003d	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv75[ebp], ecx
  00043	eb 24		 jmp	 SHORT $LN12@get_hokum_
$LN11@get_hokum_:
  00045	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  0004b	83 c2 0e	 add	 edx, 14			; 0000000eH
  0004e	52		 push	 edx
  0004f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00059	50		 push	 eax
  0005a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005f	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv75[ebp], 0
$LN12@get_hokum_:
  00069	b9 01 00 00 00	 mov	 ecx, 1
  0006e	85 c9		 test	 ecx, ecx
  00070	74 0c		 je	 SHORT $LN13@get_hokum_
  00072	c7 85 78 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv83[ebp], 2
  0007c	eb 24		 jmp	 SHORT $LN14@get_hokum_
$LN13@get_hokum_:
  0007e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  00084	83 c2 0e	 add	 edx, 14			; 0000000eH
  00087	52		 push	 edx
  00088	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00092	50		 push	 eax
  00093	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00098	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv83[ebp], 0
$LN14@get_hokum_:
  000a2	6a 02		 push	 2
  000a4	8b 4d fc	 mov	 ecx, DWORD PTR _source$[ebp]
  000a7	51		 push	 ecx
  000a8	6b 95 7c ff ff
	ff 50		 imul	 edx, DWORD PTR tv75[ebp], 80
  000af	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv83[ebp]
  000b5	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000bc	ff d1		 call	 ecx
  000be	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 150  : 
; 151  : 	ASSERT (inst3d);

  000c1	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000c5	75 18		 jne	 SHORT $LN3@get_hokum_
  000c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  000cc	83 c0 10	 add	 eax, 16			; 00000010H
  000cf	50		 push	 eax
  000d0	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d5	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  000da	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@get_hokum_:

; 152  : 
; 153  : 	get_local_entity_vec3d (source, VEC3D_TYPE_POSITION, &inst3d->vp.position);

  000df	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  000e3	74 0d		 je	 SHORT $LN15@get_hokum_
  000e5	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  000e8	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ea	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv132[ebp], ecx
  000f0	eb 24		 jmp	 SHORT $LN16@get_hokum_
$LN15@get_hokum_:
  000f2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  000f8	83 c2 12	 add	 edx, 18			; 00000012H
  000fb	52		 push	 edx
  000fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00101	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00106	50		 push	 eax
  00107	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0010c	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv132[ebp], 0
$LN16@get_hokum_:
  00116	b9 01 00 00 00	 mov	 ecx, 1
  0011b	85 c9		 test	 ecx, ecx
  0011d	74 0c		 je	 SHORT $LN17@get_hokum_
  0011f	c7 85 78 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv140[ebp], 8
  00129	eb 24		 jmp	 SHORT $LN18@get_hokum_
$LN17@get_hokum_:
  0012b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  00131	83 c2 12	 add	 edx, 18			; 00000012H
  00134	52		 push	 edx
  00135	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  0013a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0013f	50		 push	 eax
  00140	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00145	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv140[ebp], 0
$LN18@get_hokum_:
  0014f	8b 4d f8	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  00152	83 c1 08	 add	 ecx, 8
  00155	51		 push	 ecx
  00156	6a 08		 push	 8
  00158	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  0015b	52		 push	 edx
  0015c	6b 85 7c ff ff
	ff 60		 imul	 eax, DWORD PTR tv132[ebp], 96
  00163	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv140[ebp]
  00169	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00170	ff d2		 call	 edx

; 154  : 
; 155  : 	get_local_entity_attitude_matrix (source, inst3d->vp.attitude);

  00172	83 7d fc 00	 cmp	 DWORD PTR _source$[ebp], 0
  00176	74 0d		 je	 SHORT $LN19@get_hokum_
  00178	8b 45 fc	 mov	 eax, DWORD PTR _source$[ebp]
  0017b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0017d	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv154[ebp], ecx
  00183	eb 24		 jmp	 SHORT $LN20@get_hokum_
$LN19@get_hokum_:
  00185	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z@4JA
  0018b	83 c2 14	 add	 edx, 20			; 00000014H
  0018e	52		 push	 edx
  0018f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@MDJMCPFM@c?3?2users?2nhv90?2projects?2eech?2ap@
  00194	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00199	50		 push	 eax
  0019a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019f	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv154[ebp], 0
$LN20@get_hokum_:
  001a9	8b 4d f8	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  001ac	83 c1 14	 add	 ecx, 20			; 00000014H
  001af	51		 push	 ecx
  001b0	8b 55 fc	 mov	 edx, DWORD PTR _source$[ebp]
  001b3	52		 push	 edx
  001b4	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv154[ebp]
  001ba	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  001c1	ff d1		 call	 ecx

; 156  : 
; 157  : 	if (eo_sensor != TARGET_ACQUISITION_SYSTEM_PERISCOPE)

  001c3	83 3d 00 00 00
	00 07		 cmp	 DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 7 ; eo_sensor
  001ca	74 55		 je	 SHORT $LN4@get_hokum_

; 158  : 	{
; 159  : 		search.search_depth = 0;

  001cc	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 160  : 		search.search_object = inst3d;

  001d3	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  001d6	89 45 c0	 mov	 DWORD PTR _search$[ebp], eax

; 161  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_SAMSHIT_VIEWPOINT;

  001d9	c7 45 cc ec 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 236 ; 000000ecH

; 162  : 
; 163  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  001e0	8d 45 c0	 lea	 eax, DWORD PTR _search$[ebp]
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  001e9	83 f8 01	 cmp	 eax, 1
  001ec	75 0f		 jne	 SHORT $LN6@get_hokum_

; 164  : 		{
; 165  : 			get_3d_sub_object_world_viewpoint (search.result_sub_object, vp);

  001ee	8b 45 08	 mov	 eax, DWORD PTR _vp$[ebp]
  001f1	50		 push	 eax
  001f2	8b 4d c4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  001f5	51		 push	 ecx
  001f6	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 166  : 		}
; 167  : 		else

  001fb	eb 22		 jmp	 SHORT $LN7@get_hokum_
$LN6@get_hokum_:

; 168  : 		{
; 169  : 			//
; 170  : 			// can happpen if the object is being destroyed
; 171  : 			//
; 172  : 
; 173  : 			memcpy (&vp->position, &inst3d->vp.position, sizeof (vec3d));

  001fd	6a 0c		 push	 12			; 0000000cH
  001ff	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00202	83 c0 08	 add	 eax, 8
  00205	50		 push	 eax
  00206	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  00209	51		 push	 ecx
  0020a	e8 00 00 00 00	 call	 _memcpy
  0020f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 174  : 
; 175  : 			debug_log ("OBJECT_3D_SUB_OBJECT_KA52_SAMSHIT_VIEWPOINT missing from Hokum");

  00212	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@JLBGGOGM@OBJECT_3D_SUB_OBJECT_KA52_SAMSH@
  00217	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  0021c	83 c4 04	 add	 esp, 4
$LN7@get_hokum_:

; 176  : 		}
; 177  : 	}
; 178  : 	else

  0021f	eb 53		 jmp	 SHORT $LN5@get_hokum_
$LN4@get_hokum_:

; 179  : 	{
; 180  : 		search.search_depth = 0;

  00221	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 181  : 		search.search_object = inst3d;

  00228	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  0022b	89 45 c0	 mov	 DWORD PTR _search$[ebp], eax

; 182  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_WSO_SCOPE_HEADING;

  0022e	c7 45 cc ea 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 234 ; 000000eaH

; 183  : 
; 184  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00235	8d 45 c0	 lea	 eax, DWORD PTR _search$[ebp]
  00238	50		 push	 eax
  00239	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0023e	83 f8 01	 cmp	 eax, 1
  00241	75 0f		 jne	 SHORT $LN8@get_hokum_

; 185  : 		{
; 186  : 			get_3d_sub_object_world_viewpoint (search.result_sub_object, vp);

  00243	8b 45 08	 mov	 eax, DWORD PTR _vp$[ebp]
  00246	50		 push	 eax
  00247	8b 4d c4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0024a	51		 push	 ecx
  0024b	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 187  : 		}
; 188  : 		else

  00250	eb 22		 jmp	 SHORT $LN5@get_hokum_
$LN8@get_hokum_:

; 189  : 		{
; 190  : 			//
; 191  : 			// can happpen if the object is being destroyed
; 192  : 			//
; 193  : 
; 194  : 			memcpy (&vp->position, &inst3d->vp.position, sizeof (vec3d));

  00252	6a 0c		 push	 12			; 0000000cH
  00254	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00257	83 c0 08	 add	 eax, 8
  0025a	50		 push	 eax
  0025b	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  0025e	51		 push	 ecx
  0025f	e8 00 00 00 00	 call	 _memcpy
  00264	83 c4 0c	 add	 esp, 12			; 0000000cH

; 195  : 
; 196  : 			debug_log ("OBJECT_3D_SUB_OBJECT_KA52_WSO_SCOPE_HEADING missing from Hokum");

  00267	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@PGGHGFGG@OBJECT_3D_SUB_OBJECT_KA52_WSO_S@
  0026c	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00271	83 c4 04	 add	 esp, 4
$LN5@get_hokum_:

; 197  : 		}
; 198  : 	}
; 199  : 
; 200  : 	memcpy (&vp->attitude, &inst3d->vp.attitude, sizeof (matrix3x3));

  00274	6a 24		 push	 36			; 00000024H
  00276	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00279	83 c0 14	 add	 eax, 20			; 00000014H
  0027c	50		 push	 eax
  0027d	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  00280	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00283	51		 push	 ecx
  00284	e8 00 00 00 00	 call	 _memcpy
  00289	83 c4 0c	 add	 esp, 12			; 0000000cH

; 201  : }

  0028c	5f		 pop	 edi
  0028d	5e		 pop	 esi
  0028e	5b		 pop	 ebx
  0028f	8b e5		 mov	 esp, ebp
  00291	5d		 pop	 ebp
  00292	c2 04 00	 ret	 4
?get_hokum_eo_centred_viewpoint@@YGXPAUVIEWPOINT@@@Z ENDP ; get_hokum_eo_centred_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?deinitialise_hokum_eo@@YGXXZ
_TEXT	SEGMENT
?deinitialise_hokum_eo@@YGXXZ PROC			; deinitialise_hokum_eo, COMDAT

; 127  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 128  : }

  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?deinitialise_hokum_eo@@YGXXZ ENDP			; deinitialise_hokum_eo
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_eo.c
;	COMDAT ?initialise_hokum_eo@@YGXXZ
_TEXT	SEGMENT
?initialise_hokum_eo@@YGXXZ PROC			; initialise_hokum_eo, COMDAT

; 83   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 84   : 	eo_sensor									= TARGET_ACQUISITION_SYSTEM_FLIR;

  00009	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?eo_sensor@@3W4TARGET_ACQUISITION_SYSTEMS@@A, 3 ; eo_sensor

; 85   : 
; 86   : 	eo_azimuth									= rad (0.0);

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_azimuth@@3MA, xmm0

; 87   : 	eo_min_azimuth								= rad (-70.0);

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf9c61aa
  00026	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_min_azimuth@@3MA, xmm0

; 88   : 	eo_max_azimuth								= rad (70.0);

  0002e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f9c61aa
  00036	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_max_azimuth@@3MA, xmm0

; 89   : 	eo_elevation								= rad (0.0);

  0003e	0f 57 c0	 xorps	 xmm0, xmm0
  00041	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_elevation@@3MA, xmm0

; 90   : 	eo_min_elevation							= rad (-15.0);

  00049	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  00051	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_min_elevation@@3MA, xmm0

; 91   : 	eo_max_elevation							= rad (25.0);

  00059	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3edf66f3
  00061	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_max_elevation@@3MA, xmm0

; 92   : 	eo_max_visual_range						= 5000.0,

  00069	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@459c4000
  00071	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?eo_max_visual_range@@3MA, xmm0
  00079	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?eo_ground_stabilised@@3HA, 0 ; eo_ground_stabilised

; 93   : 	eo_ground_stabilised					= 0;
; 94   : 
; 95   : #ifdef OLD_EO
; 96   : 	hokum_flir.field_of_view				= EO_FOV_WIDE;
; 97   : 	hokum_flir.min_field_of_view			= EO_FOV_NARROW;
; 98   : 	hokum_flir.max_field_of_view			= EO_FOV_WIDE;
; 99   : 
; 100  : 	hokum_llltv.field_of_view				= EO_FOV_NARROW;
; 101  : 	hokum_llltv.min_field_of_view			= EO_FOV_NARROW;
; 102  : 	hokum_llltv.max_field_of_view			= EO_FOV_NARROW;
; 103  : 
; 104  :    hokum_periscope.field_of_view       = EO_FOV_WIDE;
; 105  : 	hokum_periscope.min_field_of_view	= EO_FOV_NARROW;
; 106  :    hokum_periscope.max_field_of_view   = EO_FOV_WIDE;
; 107  : #else
; 108  : 	hokum_flir.zoom							= 1.0;

  00083	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0008b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0

; 109  : 	hokum_flir.min_zoom						= 1.0;

  00093	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0009b	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A+4, xmm0

; 110  : 	hokum_flir.max_zoom						= 1.0 / 128.0;

  000a3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3c000000
  000ab	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?hokum_flir@@3UEO_PARAMS_DYNAMIC_MOVE@@A+8, xmm0

; 111  : 
; 112  : 	hokum_llltv.zoom							= 1.0 / 2.0;

  000b3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000bb	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0

; 113  : 	hokum_llltv.min_zoom						= 1.0 / 2.0;

  000c3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000cb	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A+4, xmm0

; 114  : 	hokum_llltv.max_zoom						= 1.0 / 128.0;

  000d3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3c000000
  000db	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?hokum_llltv@@3UEO_PARAMS_DYNAMIC_MOVE@@A+8, xmm0

; 115  : 
; 116  : 	hokum_periscope.zoom						= 1.0;

  000e3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000eb	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A, xmm0

; 117  : 	hokum_periscope.min_zoom				= 1.0;

  000f3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000fb	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A+4, xmm0

; 118  : 	hokum_periscope.max_zoom				= 1.0 / 128.0;

  00103	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3c000000
  0010b	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?hokum_periscope@@3UEO_PARAMS_DYNAMIC_MOVE@@A+8, xmm0

; 119  : #endif
; 120  : };

  00113	5f		 pop	 edi
  00114	5e		 pop	 esi
  00115	5b		 pop	 ebx
  00116	8b e5		 mov	 esp, ebp
  00118	5d		 pop	 ebp
  00119	c3		 ret	 0
?initialise_hokum_eo@@YGXXZ ENDP			; initialise_hokum_eo
_TEXT	ENDS
END
