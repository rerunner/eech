; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\effect\smokelst\smokelst.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z ; set_infinite_smoke_list_generating_state
PUBLIC	?clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z ; clear_smoke_list_generator_lifetime
PUBLIC	?attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z ; attach_local_meta_smoke_lists_to_object
PUBLIC	?attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z ; attach_client_server_meta_smoke_lists_to_object
PUBLIC	?__LINE__Var@?0??set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z@4JA ; `set_infinite_smoke_list_generating_state'::`1'::__LINE__Var
PUBLIC	??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z@4JA ; `clear_smoke_list_generator_lifetime'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z@4JA ; `attach_client_server_meta_smoke_lists_to_object'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z@4JA ; `attach_local_meta_smoke_lists_to_object'::`1'::__LINE__Var
PUBLIC	??_C@_05IOMEMJEC@count@				; `string'
PUBLIC	__real@3ff0000000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?malloc_fast_memory@@YGPAXI@Z:PROC		; malloc_fast_memory
EXTRN	?free_mem@@YGXPAX@Z:PROC			; free_mem
EXTRN	?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z:PROC ; insert_local_entity_into_parents_child_list
EXTRN	?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; count_sub_object_type_depth
EXTRN	?create_client_server_meta_smoke_list_sub_object_offset@@YGHW4META_SMOKE_LIST_TYPES@@PAUENTITY@@HH@Z:PROC ; create_client_server_meta_smoke_list_sub_object_offset
EXTRN	?create_meta_smoke_list_sub_object_offset@@YGHW4META_SMOKE_LIST_TYPES@@PAUENTITY@@HHPAH@Z:PROC ; create_meta_smoke_list_sub_object_offset
EXTRN	?count_entities_in_meta_smoke_list@@YGHW4META_SMOKE_LIST_TYPES@@@Z:PROC ; count_entities_in_meta_smoke_list
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?update_entity@@3PAUENTITY@@A:DWORD		; update_entity
EXTRN	__fltused:DWORD
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT ??_C@_05IOMEMJEC@count@
CONST	SEGMENT
??_C@_05IOMEMJEC@count@ DB 'count', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z@4JA DD 0c0H ; `attach_local_meta_smoke_lists_to_object'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z@4JA DD 09fH ; `attach_client_server_meta_smoke_lists_to_object'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z@4JA DD 07fH ; `clear_smoke_list_generator_lifetime'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\effect\smokel'
	DB	'st\smokelst.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z@4JA DD 050H ; `set_infinite_smoke_list_generating_state'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\smokelst\smokelst.c
;	COMDAT ?attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z
_TEXT	SEGMENT
tv78 = -88						; size = 4
tv70 = -84						; size = 4
_depth$1 = -16						; size = 4
_loop$2 = -12						; size = 4
_create_count$ = -8					; size = 4
_inst3d$ = -4						; size = 4
_parent$ = 8						; size = 4
_meta_smoke_type$ = 12					; size = 4
_sub_object_type$ = 16					; size = 4
?attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z PROC ; attach_client_server_meta_smoke_lists_to_object, COMDAT

; 159  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 160  : 	object_3d_instance
; 161  : 		*inst3d;
; 162  : 
; 163  : 	int
; 164  : 		create_count;
; 165  : 
; 166  : 	create_count = 0;

  00009	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _create_count$[ebp], 0

; 167  : 
; 168  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (parent, PTR_TYPE_INSTANCE_3D_OBJECT);

  00010	83 7d 08 00	 cmp	 DWORD PTR _parent$[ebp], 0
  00014	74 0a		 je	 SHORT $LN7@attach_cli
  00016	8b 45 08	 mov	 eax, DWORD PTR _parent$[ebp]
  00019	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001b	89 4d ac	 mov	 DWORD PTR tv70[ebp], ecx
  0001e	eb 21		 jmp	 SHORT $LN8@attach_cli
$LN7@attach_cli:
  00020	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z@4JA
  00026	83 c2 09	 add	 edx, 9
  00029	52		 push	 edx
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	50		 push	 eax
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN8@attach_cli:
  00041	b9 01 00 00 00	 mov	 ecx, 1
  00046	85 c9		 test	 ecx, ecx
  00048	74 09		 je	 SHORT $LN9@attach_cli
  0004a	c7 45 a8 02 00
	00 00		 mov	 DWORD PTR tv78[ebp], 2
  00051	eb 21		 jmp	 SHORT $LN10@attach_cli
$LN9@attach_cli:
  00053	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z@4JA
  00059	83 c2 09	 add	 edx, 9
  0005c	52		 push	 edx
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00067	50		 push	 eax
  00068	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006d	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN10@attach_cli:
  00074	6a 02		 push	 2
  00076	8b 4d 08	 mov	 ecx, DWORD PTR _parent$[ebp]
  00079	51		 push	 ecx
  0007a	6b 55 ac 50	 imul	 edx, DWORD PTR tv70[ebp], 80
  0007e	8b 45 a8	 mov	 eax, DWORD PTR tv78[ebp]
  00081	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00088	ff d1		 call	 ecx
  0008a	89 45 fc	 mov	 DWORD PTR _inst3d$[ebp], eax

; 169  : 
; 170  : 	if (inst3d)

  0008d	83 7d fc 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00091	74 47		 je	 SHORT $LN5@attach_cli

; 171  : 	{
; 172  : 		int
; 173  : 			loop,
; 174  : 			depth;
; 175  : 
; 176  : 		depth = count_sub_object_type_depth (inst3d, sub_object_type);

  00093	8b 45 10	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  00096	50		 push	 eax
  00097	8b 4d fc	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  0009a	51		 push	 ecx
  0009b	e8 00 00 00 00	 call	 ?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; count_sub_object_type_depth
  000a0	89 45 f0	 mov	 DWORD PTR _depth$1[ebp], eax

; 177  : 
; 178  : 		for (loop = 0 ; loop < depth ; loop ++)

  000a3	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loop$2[ebp], 0
  000aa	eb 09		 jmp	 SHORT $LN4@attach_cli
$LN2@attach_cli:
  000ac	8b 45 f4	 mov	 eax, DWORD PTR _loop$2[ebp]
  000af	83 c0 01	 add	 eax, 1
  000b2	89 45 f4	 mov	 DWORD PTR _loop$2[ebp], eax
$LN4@attach_cli:
  000b5	8b 45 f4	 mov	 eax, DWORD PTR _loop$2[ebp]
  000b8	3b 45 f0	 cmp	 eax, DWORD PTR _depth$1[ebp]
  000bb	7d 1d		 jge	 SHORT $LN5@attach_cli

; 179  : 		{
; 180  : 			create_count += create_client_server_meta_smoke_list_sub_object_offset (meta_smoke_type, parent, sub_object_type, loop);

  000bd	8b 45 f4	 mov	 eax, DWORD PTR _loop$2[ebp]
  000c0	50		 push	 eax
  000c1	8b 4d 10	 mov	 ecx, DWORD PTR _sub_object_type$[ebp]
  000c4	51		 push	 ecx
  000c5	8b 55 08	 mov	 edx, DWORD PTR _parent$[ebp]
  000c8	52		 push	 edx
  000c9	8b 45 0c	 mov	 eax, DWORD PTR _meta_smoke_type$[ebp]
  000cc	50		 push	 eax
  000cd	e8 00 00 00 00	 call	 ?create_client_server_meta_smoke_list_sub_object_offset@@YGHW4META_SMOKE_LIST_TYPES@@PAUENTITY@@HH@Z ; create_client_server_meta_smoke_list_sub_object_offset
  000d2	03 45 f8	 add	 eax, DWORD PTR _create_count$[ebp]
  000d5	89 45 f8	 mov	 DWORD PTR _create_count$[ebp], eax

; 181  : 		}

  000d8	eb d2		 jmp	 SHORT $LN2@attach_cli
$LN5@attach_cli:

; 182  : 	}
; 183  : 
; 184  : 	return create_count;

  000da	8b 45 f8	 mov	 eax, DWORD PTR _create_count$[ebp]

; 185  : }

  000dd	5f		 pop	 edi
  000de	5e		 pop	 esi
  000df	5b		 pop	 ebx
  000e0	8b e5		 mov	 esp, ebp
  000e2	5d		 pop	 ebp
  000e3	c2 0c 00	 ret	 12			; 0000000cH
?attach_client_server_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@H@Z ENDP ; attach_client_server_meta_smoke_lists_to_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\smokelst\smokelst.c
;	COMDAT ?attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z
_TEXT	SEGMENT
tv78 = -100						; size = 4
tv70 = -96						; size = 4
_temp_index_list$1 = -28				; size = 4
_count$2 = -24						; size = 4
_i$3 = -20						; size = 4
_depth$4 = -16						; size = 4
_loop$5 = -12						; size = 4
_create_count$ = -8					; size = 4
_inst3d$ = -4						; size = 4
_parent$ = 8						; size = 4
_meta_smoke_type$ = 12					; size = 4
_sub_object_type$ = 16					; size = 4
_entity_index_list$ = 20				; size = 4
?attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z PROC ; attach_local_meta_smoke_lists_to_object, COMDAT

; 192  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 64	 sub	 esp, 100		; 00000064H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 193  : 	object_3d_instance
; 194  : 		*inst3d;
; 195  : 
; 196  : 	int
; 197  : 		create_count;
; 198  : 
; 199  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (parent, PTR_TYPE_INSTANCE_3D_OBJECT);

  00009	83 7d 08 00	 cmp	 DWORD PTR _parent$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN13@attach_loc
  0000f	8b 45 08	 mov	 eax, DWORD PTR _parent$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d a0	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN14@attach_loc
$LN13@attach_loc:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z@4JA
  0001f	83 c2 07	 add	 edx, 7
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN14@attach_loc:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN15@attach_loc
  00043	c7 45 9c 02 00
	00 00		 mov	 DWORD PTR tv78[ebp], 2
  0004a	eb 21		 jmp	 SHORT $LN16@attach_loc
$LN15@attach_loc:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z@4JA
  00052	83 c2 07	 add	 edx, 7
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN16@attach_loc:
  0006d	6a 02		 push	 2
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _parent$[ebp]
  00072	51		 push	 ecx
  00073	6b 55 a0 50	 imul	 edx, DWORD PTR tv70[ebp], 80
  00077	8b 45 9c	 mov	 eax, DWORD PTR tv78[ebp]
  0007a	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00081	ff d1		 call	 ecx
  00083	89 45 fc	 mov	 DWORD PTR _inst3d$[ebp], eax

; 200  : 
; 201  : 	create_count = 0;

  00086	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _create_count$[ebp], 0

; 202  : 
; 203  : 	if (inst3d)

  0008d	83 7d fc 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00091	0f 84 ed 00 00
	00		 je	 $LN8@attach_loc

; 204  : 	{
; 205  : 		int
; 206  : 			loop,
; 207  : 			depth;
; 208  : 
; 209  : 		depth = count_sub_object_type_depth (inst3d, sub_object_type);

  00097	8b 45 10	 mov	 eax, DWORD PTR _sub_object_type$[ebp]
  0009a	50		 push	 eax
  0009b	8b 4d fc	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  0009e	51		 push	 ecx
  0009f	e8 00 00 00 00	 call	 ?count_sub_object_type_depth@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; count_sub_object_type_depth
  000a4	89 45 f0	 mov	 DWORD PTR _depth$4[ebp], eax

; 210  : 
; 211  : 		for (loop = 0 ; loop < depth ; loop ++)

  000a7	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _loop$5[ebp], 0
  000ae	eb 09		 jmp	 SHORT $LN4@attach_loc
$LN2@attach_loc:
  000b0	8b 45 f4	 mov	 eax, DWORD PTR _loop$5[ebp]
  000b3	83 c0 01	 add	 eax, 1
  000b6	89 45 f4	 mov	 DWORD PTR _loop$5[ebp], eax
$LN4@attach_loc:
  000b9	8b 45 f4	 mov	 eax, DWORD PTR _loop$5[ebp]
  000bc	3b 45 f0	 cmp	 eax, DWORD PTR _depth$4[ebp]
  000bf	0f 8d bf 00 00
	00		 jge	 $LN8@attach_loc

; 212  : 		{
; 213  : 			if (entity_index_list)

  000c5	83 7d 14 00	 cmp	 DWORD PTR _entity_index_list$[ebp], 0
  000c9	74 2a		 je	 SHORT $LN9@attach_loc

; 214  : 			{
; 215  : 				create_count += create_meta_smoke_list_sub_object_offset (meta_smoke_type, parent, sub_object_type, loop, &entity_index_list [create_count]);

  000cb	8b 45 f8	 mov	 eax, DWORD PTR _create_count$[ebp]
  000ce	8b 4d 14	 mov	 ecx, DWORD PTR _entity_index_list$[ebp]
  000d1	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  000d4	52		 push	 edx
  000d5	8b 45 f4	 mov	 eax, DWORD PTR _loop$5[ebp]
  000d8	50		 push	 eax
  000d9	8b 4d 10	 mov	 ecx, DWORD PTR _sub_object_type$[ebp]
  000dc	51		 push	 ecx
  000dd	8b 55 08	 mov	 edx, DWORD PTR _parent$[ebp]
  000e0	52		 push	 edx
  000e1	8b 45 0c	 mov	 eax, DWORD PTR _meta_smoke_type$[ebp]
  000e4	50		 push	 eax
  000e5	e8 00 00 00 00	 call	 ?create_meta_smoke_list_sub_object_offset@@YGHW4META_SMOKE_LIST_TYPES@@PAUENTITY@@HHPAH@Z ; create_meta_smoke_list_sub_object_offset
  000ea	03 45 f8	 add	 eax, DWORD PTR _create_count$[ebp]
  000ed	89 45 f8	 mov	 DWORD PTR _create_count$[ebp], eax

; 216  : 			}
; 217  : 			else

  000f0	e9 8a 00 00 00	 jmp	 $LN10@attach_loc
$LN9@attach_loc:

; 218  : 			{
; 219  : 				int
; 220  : 					i,
; 221  : 					count,
; 222  : 					*temp_index_list;
; 223  : 
; 224  : 				//
; 225  : 				// create an array of entity index numbers and fill them all with ENTITY_INDEX_DONT_CARE
; 226  : 				//
; 227  : 
; 228  : 				count = count_entities_in_meta_smoke_list (meta_smoke_type);

  000f5	8b 45 0c	 mov	 eax, DWORD PTR _meta_smoke_type$[ebp]
  000f8	50		 push	 eax
  000f9	e8 00 00 00 00	 call	 ?count_entities_in_meta_smoke_list@@YGHW4META_SMOKE_LIST_TYPES@@@Z ; count_entities_in_meta_smoke_list
  000fe	89 45 e8	 mov	 DWORD PTR _count$2[ebp], eax

; 229  : 
; 230  : 				ASSERT (count);

  00101	83 7d e8 00	 cmp	 DWORD PTR _count$2[ebp], 0
  00105	75 18		 jne	 SHORT $LN11@attach_loc
  00107	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z@4JA
  0010c	83 c0 26	 add	 eax, 38			; 00000026H
  0010f	50		 push	 eax
  00110	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_05IOMEMJEC@count@
  0011a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN11@attach_loc:

; 231  : 
; 232  : 				temp_index_list = (int *) malloc_fast_mem (sizeof (int) * count);

  0011f	8b 45 e8	 mov	 eax, DWORD PTR _count$2[ebp]
  00122	c1 e0 02	 shl	 eax, 2
  00125	50		 push	 eax
  00126	e8 00 00 00 00	 call	 ?malloc_fast_memory@@YGPAXI@Z ; malloc_fast_memory
  0012b	89 45 e4	 mov	 DWORD PTR _temp_index_list$1[ebp], eax

; 233  : 
; 234  : 				for ( i = 0 ; i < count ; i ++ )

  0012e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$3[ebp], 0
  00135	eb 09		 jmp	 SHORT $LN7@attach_loc
$LN5@attach_loc:
  00137	8b 45 ec	 mov	 eax, DWORD PTR _i$3[ebp]
  0013a	83 c0 01	 add	 eax, 1
  0013d	89 45 ec	 mov	 DWORD PTR _i$3[ebp], eax
$LN7@attach_loc:
  00140	8b 45 ec	 mov	 eax, DWORD PTR _i$3[ebp]
  00143	3b 45 e8	 cmp	 eax, DWORD PTR _count$2[ebp]
  00146	7d 0f		 jge	 SHORT $LN6@attach_loc

; 235  : 				{
; 236  : 					temp_index_list [i] = ENTITY_INDEX_DONT_CARE;

  00148	8b 45 ec	 mov	 eax, DWORD PTR _i$3[ebp]
  0014b	8b 4d e4	 mov	 ecx, DWORD PTR _temp_index_list$1[ebp]
  0014e	c7 04 81 ff ff
	ff ff		 mov	 DWORD PTR [ecx+eax*4], -1

; 237  : 				}

  00155	eb e0		 jmp	 SHORT $LN5@attach_loc
$LN6@attach_loc:

; 238  : 
; 239  : 				create_count += create_meta_smoke_list_sub_object_offset (meta_smoke_type, parent, sub_object_type, loop, temp_index_list);

  00157	8b 45 e4	 mov	 eax, DWORD PTR _temp_index_list$1[ebp]
  0015a	50		 push	 eax
  0015b	8b 4d f4	 mov	 ecx, DWORD PTR _loop$5[ebp]
  0015e	51		 push	 ecx
  0015f	8b 55 10	 mov	 edx, DWORD PTR _sub_object_type$[ebp]
  00162	52		 push	 edx
  00163	8b 45 08	 mov	 eax, DWORD PTR _parent$[ebp]
  00166	50		 push	 eax
  00167	8b 4d 0c	 mov	 ecx, DWORD PTR _meta_smoke_type$[ebp]
  0016a	51		 push	 ecx
  0016b	e8 00 00 00 00	 call	 ?create_meta_smoke_list_sub_object_offset@@YGHW4META_SMOKE_LIST_TYPES@@PAUENTITY@@HHPAH@Z ; create_meta_smoke_list_sub_object_offset
  00170	03 45 f8	 add	 eax, DWORD PTR _create_count$[ebp]
  00173	89 45 f8	 mov	 DWORD PTR _create_count$[ebp], eax

; 240  : 
; 241  : 				free_mem (temp_index_list);

  00176	8b 45 e4	 mov	 eax, DWORD PTR _temp_index_list$1[ebp]
  00179	50		 push	 eax
  0017a	e8 00 00 00 00	 call	 ?free_mem@@YGXPAX@Z	; free_mem
$LN10@attach_loc:

; 242  : 			}
; 243  : 		}

  0017f	e9 2c ff ff ff	 jmp	 $LN2@attach_loc
$LN8@attach_loc:

; 244  : 	}
; 245  : 
; 246  : 	return create_count;

  00184	8b 45 f8	 mov	 eax, DWORD PTR _create_count$[ebp]

; 247  : }

  00187	5f		 pop	 edi
  00188	5e		 pop	 esi
  00189	5b		 pop	 ebx
  0018a	8b e5		 mov	 esp, ebp
  0018c	5d		 pop	 ebp
  0018d	c2 10 00	 ret	 16			; 00000010H
?attach_local_meta_smoke_lists_to_object@@YGHPAUENTITY@@W4META_SMOKE_LIST_TYPES@@HPAH@Z ENDP ; attach_local_meta_smoke_lists_to_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\smokelst\smokelst.c
;	COMDAT ?clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z
_TEXT	SEGMENT
tv138 = -80						; size = 4
tv78 = -80						; size = 4
tv130 = -76						; size = 4
tv70 = -76						; size = 4
_raw$ = -8						; size = 4
_en$ = -4						; size = 4
_parent$ = 8						; size = 4
_type$ = 12						; size = 4
?clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z PROC ; clear_smoke_list_generator_lifetime, COMDAT

; 127  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 128  : 	entity
; 129  : 		*en;
; 130  : 
; 131  : 	smoke_list
; 132  : 		*raw;
; 133  : 
; 134  : 	en = get_local_entity_first_child (parent, LIST_TYPE_SPECIAL_EFFECT);

  00009	83 7d 08 00	 cmp	 DWORD PTR _parent$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN7@clear_smok
  0000f	8b 45 08	 mov	 eax, DWORD PTR _parent$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d b4	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN8@clear_smok
$LN7@clear_smok:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z@4JA
  0001f	83 c2 07	 add	 edx, 7
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN8@clear_smok:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN9@clear_smok
  00043	c7 45 b0 24 00
	00 00		 mov	 DWORD PTR tv78[ebp], 36	; 00000024H
  0004a	eb 21		 jmp	 SHORT $LN10@clear_smok
$LN9@clear_smok:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z@4JA
  00052	83 c2 07	 add	 edx, 7
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN10@clear_smok:
  0006d	6a 24		 push	 36			; 00000024H
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _parent$[ebp]
  00072	51		 push	 ecx
  00073	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 180
  0007a	8b 45 b0	 mov	 eax, DWORD PTR tv78[ebp]
  0007d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00084	ff d1		 call	 ecx
  00086	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax
$LN2@clear_smok:

; 135  : 
; 136  : 	while (en)

  00089	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0008d	0f 84 ab 00 00
	00		 je	 $LN3@clear_smok

; 137  : 	{
; 138  : 		if (en->type == ENTITY_TYPE_SMOKE_LIST)

  00093	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00096	83 38 1f	 cmp	 DWORD PTR [eax], 31	; 0000001fH
  00099	75 1e		 jne	 SHORT $LN5@clear_smok

; 139  : 		{
; 140  : 			raw = (smoke_list *) get_local_entity_data (en);

  0009b	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0009e	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000a1	89 4d f8	 mov	 DWORD PTR _raw$[ebp], ecx

; 141  : 
; 142  : 			if (raw->eff.sub_type == type)

  000a4	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000a7	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a9	3b 4d 0c	 cmp	 ecx, DWORD PTR _type$[ebp]
  000ac	75 0b		 jne	 SHORT $LN5@clear_smok

; 143  : 			{
; 144  : 				raw->generator_lifetime = 0.0;

  000ae	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000b1	0f 57 c0	 xorps	 xmm0, xmm0
  000b4	f3 0f 11 40 30	 movss	 DWORD PTR [eax+48], xmm0
$LN5@clear_smok:

; 145  : 			}
; 146  :       }
; 147  : 
; 148  : 		en = get_local_entity_child_succ (en, LIST_TYPE_SPECIAL_EFFECT);

  000b9	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  000bd	74 0a		 je	 SHORT $LN11@clear_smok
  000bf	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  000c2	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c4	89 4d b4	 mov	 DWORD PTR tv130[ebp], ecx
  000c7	eb 21		 jmp	 SHORT $LN12@clear_smok
$LN11@clear_smok:
  000c9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z@4JA
  000cf	83 c2 15	 add	 edx, 21			; 00000015H
  000d2	52		 push	 edx
  000d3	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000dd	50		 push	 eax
  000de	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e3	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv130[ebp], 0
$LN12@clear_smok:
  000ea	b9 01 00 00 00	 mov	 ecx, 1
  000ef	85 c9		 test	 ecx, ecx
  000f1	74 09		 je	 SHORT $LN13@clear_smok
  000f3	c7 45 b0 24 00
	00 00		 mov	 DWORD PTR tv138[ebp], 36 ; 00000024H
  000fa	eb 21		 jmp	 SHORT $LN14@clear_smok
$LN13@clear_smok:
  000fc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z@4JA
  00102	83 c2 15	 add	 edx, 21			; 00000015H
  00105	52		 push	 edx
  00106	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0010b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00110	50		 push	 eax
  00111	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00116	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv138[ebp], 0
$LN14@clear_smok:
  0011d	6a 24		 push	 36			; 00000024H
  0011f	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00122	51		 push	 ecx
  00123	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv130[ebp], 180
  0012a	8b 45 b0	 mov	 eax, DWORD PTR tv138[ebp]
  0012d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00134	ff d1		 call	 ecx
  00136	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 149  : 	}

  00139	e9 4b ff ff ff	 jmp	 $LN2@clear_smok
$LN3@clear_smok:

; 150  : 
; 151  : 	return TRUE;

  0013e	b8 01 00 00 00	 mov	 eax, 1

; 152  : }

  00143	5f		 pop	 edi
  00144	5e		 pop	 esi
  00145	5b		 pop	 ebx
  00146	8b e5		 mov	 esp, ebp
  00148	5d		 pop	 ebp
  00149	c2 08 00	 ret	 8
?clear_smoke_list_generator_lifetime@@YGHPAUENTITY@@H@Z ENDP ; clear_smoke_list_generator_lifetime
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\smokelst\smokelst.c
;	COMDAT ?set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z
_TEXT	SEGMENT
tv170 = -80						; size = 4
tv142 = -80						; size = 4
tv78 = -80						; size = 4
tv162 = -76						; size = 4
tv135 = -76						; size = 4
tv70 = -76						; size = 4
_raw$ = -8						; size = 4
_en$ = -4						; size = 4
_parent$ = 8						; size = 4
_type$ = 12						; size = 4
_state$ = 16						; size = 4
?set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z PROC ; set_infinite_smoke_list_generating_state, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	entity
; 82   : 		*en;
; 83   : 
; 84   : 	smoke_list
; 85   : 		*raw;
; 86   : 
; 87   : 	en = get_local_entity_first_child (parent, LIST_TYPE_SPECIAL_EFFECT);

  00009	83 7d 08 00	 cmp	 DWORD PTR _parent$[ebp], 0
  0000d	74 0a		 je	 SHORT $LN10@set_infini
  0000f	8b 45 08	 mov	 eax, DWORD PTR _parent$[ebp]
  00012	8b 08		 mov	 ecx, DWORD PTR [eax]
  00014	89 4d b4	 mov	 DWORD PTR tv70[ebp], ecx
  00017	eb 21		 jmp	 SHORT $LN11@set_infini
$LN10@set_infini:
  00019	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z@4JA
  0001f	83 c2 07	 add	 edx, 7
  00022	52		 push	 edx
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00033	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN11@set_infini:
  0003a	b9 01 00 00 00	 mov	 ecx, 1
  0003f	85 c9		 test	 ecx, ecx
  00041	74 09		 je	 SHORT $LN12@set_infini
  00043	c7 45 b0 24 00
	00 00		 mov	 DWORD PTR tv78[ebp], 36	; 00000024H
  0004a	eb 21		 jmp	 SHORT $LN13@set_infini
$LN12@set_infini:
  0004c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z@4JA
  00052	83 c2 07	 add	 edx, 7
  00055	52		 push	 edx
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00066	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN13@set_infini:
  0006d	6a 24		 push	 36			; 00000024H
  0006f	8b 4d 08	 mov	 ecx, DWORD PTR _parent$[ebp]
  00072	51		 push	 ecx
  00073	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 180
  0007a	8b 45 b0	 mov	 eax, DWORD PTR tv78[ebp]
  0007d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00084	ff d1		 call	 ecx
  00086	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax
$LN2@set_infini:

; 88   : 
; 89   : 	while (en)

  00089	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0008d	0f 84 6a 01 00
	00		 je	 $LN3@set_infini

; 90   : 	{
; 91   : 		if (en->type == ENTITY_TYPE_SMOKE_LIST)

  00093	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00096	83 38 1f	 cmp	 DWORD PTR [eax], 31	; 0000001fH
  00099	0f 85 d9 00 00
	00		 jne	 $LN8@set_infini

; 92   : 		{
; 93   : 			raw = (smoke_list *) get_local_entity_data (en);

  0009f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  000a2	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000a5	89 4d f8	 mov	 DWORD PTR _raw$[ebp], ecx

; 94   : 
; 95   : 			if (raw->eff.sub_type == type)

  000a8	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000ab	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ad	3b 4d 0c	 cmp	 ecx, DWORD PTR _type$[ebp]
  000b0	0f 85 c2 00 00
	00		 jne	 $LN8@set_infini

; 96   : 			{
; 97   : 				if (raw->infinite_generator)

  000b6	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000b9	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  000bc	c1 e9 0f	 shr	 ecx, 15			; 0000000fH
  000bf	83 e1 01	 and	 ecx, 1
  000c2	0f 84 b0 00 00
	00		 je	 $LN8@set_infini

; 98   : 				{
; 99   : 					raw->generator_lifetime = state;

  000c8	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  000cb	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _state$[ebp]
  000d0	f3 0f 11 40 30	 movss	 DWORD PTR [eax+48], xmm0

; 100  : 
; 101  : 					//
; 102  : 					// if switching generator on, make sure it is on the update list
; 103  : 					//
; 104  : 
; 105  : 					if (state == INFINITE_SMOKE_ON)

  000d5	f3 0f 5a 45 10	 cvtss2sd xmm0, DWORD PTR _state$[ebp]
  000da	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@3ff0000000000000
  000e2	9f		 lahf
  000e3	f6 c4 44	 test	 ah, 68			; 00000044H
  000e6	0f 8a 8c 00 00
	00		 jp	 $LN8@set_infini

; 106  : 					{
; 107  : 						if (get_local_entity_parent (en, LIST_TYPE_UPDATE) == NULL)

  000ec	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  000f0	74 0a		 je	 SHORT $LN14@set_infini
  000f2	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  000f5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f7	89 4d b4	 mov	 DWORD PTR tv135[ebp], ecx
  000fa	eb 1a		 jmp	 SHORT $LN15@set_infini
$LN14@set_infini:
  000fc	6a 6b		 push	 107			; 0000006bH
  000fe	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00103	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00109	52		 push	 edx
  0010a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0010f	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN15@set_infini:
  00116	b8 01 00 00 00	 mov	 eax, 1
  0011b	85 c0		 test	 eax, eax
  0011d	74 09		 je	 SHORT $LN16@set_infini
  0011f	c7 45 b0 29 00
	00 00		 mov	 DWORD PTR tv142[ebp], 41 ; 00000029H
  00126	eb 1a		 jmp	 SHORT $LN17@set_infini
$LN16@set_infini:
  00128	6a 6b		 push	 107			; 0000006bH
  0012a	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  0012f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00135	51		 push	 ecx
  00136	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0013b	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv142[ebp], 0
$LN17@set_infini:
  00142	6a 29		 push	 41			; 00000029H
  00144	8b 55 fc	 mov	 edx, DWORD PTR _en$[ebp]
  00147	52		 push	 edx
  00148	69 45 b4 b4 00
	00 00		 imul	 eax, DWORD PTR tv135[ebp], 180
  0014f	8b 4d b0	 mov	 ecx, DWORD PTR tv142[ebp]
  00152	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[eax+ecx*4]
  00159	ff d2		 call	 edx
  0015b	85 c0		 test	 eax, eax
  0015d	75 19		 jne	 SHORT $LN8@set_infini

; 108  : 						{
; 109  : 							insert_local_entity_into_parents_child_list (en, LIST_TYPE_UPDATE, get_update_entity(), raw->eff.update_link.child_pred);

  0015f	8b 45 f8	 mov	 eax, DWORD PTR _raw$[ebp]
  00162	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  00165	51		 push	 ecx
  00166	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?update_entity@@3PAUENTITY@@A ; update_entity
  0016c	52		 push	 edx
  0016d	6a 29		 push	 41			; 00000029H
  0016f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00172	50		 push	 eax
  00173	e8 00 00 00 00	 call	 ?insert_local_entity_into_parents_child_list@@YGXPAUENTITY@@W4LIST_TYPES@@00@Z ; insert_local_entity_into_parents_child_list
$LN8@set_infini:

; 110  : 						}
; 111  : 					}
; 112  : 				}
; 113  : 			}
; 114  :       }
; 115  : 
; 116  : 		en = get_local_entity_child_succ (en, LIST_TYPE_SPECIAL_EFFECT);

  00178	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0017c	74 0a		 je	 SHORT $LN18@set_infini
  0017e	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00181	8b 08		 mov	 ecx, DWORD PTR [eax]
  00183	89 4d b4	 mov	 DWORD PTR tv162[ebp], ecx
  00186	eb 21		 jmp	 SHORT $LN19@set_infini
$LN18@set_infini:
  00188	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z@4JA
  0018e	83 c2 24	 add	 edx, 36			; 00000024H
  00191	52		 push	 edx
  00192	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00197	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0019c	50		 push	 eax
  0019d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001a2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv162[ebp], 0
$LN19@set_infini:
  001a9	b9 01 00 00 00	 mov	 ecx, 1
  001ae	85 c9		 test	 ecx, ecx
  001b0	74 09		 je	 SHORT $LN20@set_infini
  001b2	c7 45 b0 24 00
	00 00		 mov	 DWORD PTR tv170[ebp], 36 ; 00000024H
  001b9	eb 21		 jmp	 SHORT $LN21@set_infini
$LN20@set_infini:
  001bb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z@4JA
  001c1	83 c2 24	 add	 edx, 36			; 00000024H
  001c4	52		 push	 edx
  001c5	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CNAPDLAN@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001cf	50		 push	 eax
  001d0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001d5	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv170[ebp], 0
$LN21@set_infini:
  001dc	6a 24		 push	 36			; 00000024H
  001de	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  001e1	51		 push	 ecx
  001e2	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv162[ebp], 180
  001e9	8b 45 b0	 mov	 eax, DWORD PTR tv170[ebp]
  001ec	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001f3	ff d1		 call	 ecx
  001f5	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 117  : 	}

  001f8	e9 8c fe ff ff	 jmp	 $LN2@set_infini
$LN3@set_infini:

; 118  : 
; 119  : 	return TRUE;

  001fd	b8 01 00 00 00	 mov	 eax, 1

; 120  : }

  00202	5f		 pop	 edi
  00203	5e		 pop	 esi
  00204	5b		 pop	 ebx
  00205	8b e5		 mov	 esp, ebp
  00207	5d		 pop	 ebp
  00208	c2 0c 00	 ret	 12			; 0000000cH
?set_infinite_smoke_list_generating_state@@YGHPAUENTITY@@HM@Z ENDP ; set_infinite_smoke_list_generating_state
_TEXT	ENDS
END
