; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\mobile\vehicle\person\ps_move.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	_atan2f
PUBLIC	?atan2@@YGMMM@Z					; atan2
PUBLIC	?person_movement@@YGXPAUENTITY@@@Z		; person_movement
PUBLIC	??$min@M@std@@YGABMABM0@Z			; std::min<float>
PUBLIC	??_C@_02DKCKIIND@?$CFs@				; `string'
PUBLIC	?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA ; `person_movement_get_waypoint_position'::`1'::__LINE__Var
PUBLIC	??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_02LFNMGJAP@en@				; `string'
PUBLIC	??_C@_06NGJLJNEL@wp_pos@			; `string'
PUBLIC	??_C@_05HLIEEKJG@guide@				; `string'
PUBLIC	??_C@_02HODPCBMO@wp@				; `string'
PUBLIC	??_C@_0M@CKFOJOAF@task_leader@			; `string'
PUBLIC	??_C@_0CC@BJNBCHGF@formation_index?5?$DM?5formation_cou@ ; `string'
PUBLIC	??_C@_0CJ@LGIIPGBA@leader_formation_index?5?$DM?5format@ ; `string'
PUBLIC	?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA ; `person_movement'::`1'::__LINE__Var
PUBLIC	??_C@_0CP@IDBGNLLC@raw?9?$DOperson_animation_state?5?$DM?5N@ ; `string'
PUBLIC	??_C@_04GGKLLKOO@task@				; `string'
PUBLIC	??_C@_0BD@FEEMDEPI@invalid?5comparator@		; `string'
PUBLIC	??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ ; `string'
PUBLIC	??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ ; `string'
PUBLIC	??_C@_1BC@BLAPCBGI@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAi?$AAn@ ; `string'
PUBLIC	??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ ; `string'
PUBLIC	__real@0000000000000000
PUBLIC	__real@40e00000
EXTRN	__imp___invalid_parameter:PROC
EXTRN	__imp___CrtDbgReport:PROC
EXTRN	_atan2:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z:PROC	; normalise_any_3d_vector
EXTRN	?get_3d_transformation_heading_matrix@@YGXQAY02MM@Z:PROC ; get_3d_transformation_heading_matrix
EXTRN	?get_2d_range@@YGMPBUVEC3D@@0@Z:PROC		; get_2d_range
EXTRN	?get_formation@@YGPAUFORMATION_TYPE@@W4FORMATION_TYPES@@@Z:PROC ; get_formation
EXTRN	?get_keyframed_animation_state@@YGXMPAHPAM@Z:PROC ; get_keyframed_animation_state
EXTRN	?get_person_database_velocity@@YGMW4PERSON_ANIMATIONS@@@Z:PROC ; get_person_database_velocity
EXTRN	?get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z:PROC ; get_local_entity_formation_position_offset
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA:BYTE ; fn_set_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_set_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_set_local_entity_vec3d
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	__fltused:DWORD
;	COMDAT __real@40e00000
CONST	SEGMENT
__real@40e00000 DD 040e00000r			; 7
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
CONST	SEGMENT
??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ DB '"'
	DB	00H, 'i', 00H, 'n', 00H, 'v', 00H, 'a', 00H, 'l', 00H, 'i', 00H
	DB	'd', 00H, ' ', 00H, 'c', 00H, 'o', 00H, 'm', 00H, 'p', 00H, 'a'
	DB	00H, 'r', 00H, 'a', 00H, 't', 00H, 'o', 00H, 'r', 00H, '"', 00H
	DB	00H, 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_1BC@BLAPCBGI@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAi?$AAn@
CONST	SEGMENT
??_C@_1BC@BLAPCBGI@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAi?$AAn@ DB 's', 00H
	DB	't', 00H, 'd', 00H, ':', 00H, ':', 00H, 'm', 00H, 'i', 00H, 'n'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
CONST	SEGMENT
??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ DB 'c'
	DB	00H, ':', 00H, '\', 00H, 'p', 00H, 'r', 00H, 'o', 00H, 'g', 00H
	DB	'r', 00H, 'a', 00H, 'm', 00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l'
	DB	00H, 'e', 00H, 's', 00H, ' ', 00H, '(', 00H, 'x', 00H, '8', 00H
	DB	'6', 00H, ')', 00H, '\', 00H, 'm', 00H, 'i', 00H, 'c', 00H, 'r'
	DB	00H, 'o', 00H, 's', 00H, 'o', 00H, 'f', 00H, 't', 00H, ' ', 00H
	DB	'v', 00H, 'i', 00H, 's', 00H, 'u', 00H, 'a', 00H, 'l', 00H, ' '
	DB	00H, 's', 00H, 't', 00H, 'u', 00H, 'd', 00H, 'i', 00H, 'o', 00H
	DB	'\', 00H, '2', 00H, '0', 00H, '1', 00H, '7', 00H, '\', 00H, 'c'
	DB	00H, 'o', 00H, 'm', 00H, 'm', 00H, 'u', 00H, 'n', 00H, 'i', 00H
	DB	't', 00H, 'y', 00H, '\', 00H, 'v', 00H, 'c', 00H, '\', 00H, 't'
	DB	00H, 'o', 00H, 'o', 00H, 'l', 00H, 's', 00H, '\', 00H, 'm', 00H
	DB	's', 00H, 'v', 00H, 'c', 00H, '\', 00H, '1', 00H, '4', 00H, '.'
	DB	00H, '1', 00H, '6', 00H, '.', 00H, '2', 00H, '7', 00H, '0', 00H
	DB	'2', 00H, '3', 00H, '\', 00H, 'i', 00H, 'n', 00H, 'c', 00H, 'l'
	DB	00H, 'u', 00H, 'd', 00H, 'e', 00H, '\', 00H, 'a', 00H, 'l', 00H
	DB	'g', 00H, 'o', 00H, 'r', 00H, 'i', 00H, 't', 00H, 'h', 00H, 'm'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
CONST	SEGMENT
??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ DB 'c:\pro'
	DB	'gram files (x86)\microsoft visual studio\2017\community\vc\to'
	DB	'ols\msvc\14.16.27023\include\algorithm', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FEEMDEPI@invalid?5comparator@
CONST	SEGMENT
??_C@_0BD@FEEMDEPI@invalid?5comparator@ DB 'invalid comparator', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_04GGKLLKOO@task@
CONST	SEGMENT
??_C@_04GGKLLKOO@task@ DB 'task', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CP@IDBGNLLC@raw?9?$DOperson_animation_state?5?$DM?5N@
CONST	SEGMENT
??_C@_0CP@IDBGNLLC@raw?9?$DOperson_animation_state?5?$DM?5N@ DB 'raw->per'
	DB	'son_animation_state < NUM_PERSON_ANIMS', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA DD 0e1H ; `person_movement'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CJ@LGIIPGBA@leader_formation_index?5?$DM?5format@
CONST	SEGMENT
??_C@_0CJ@LGIIPGBA@leader_formation_index?5?$DM?5format@ DB 'leader_forma'
	DB	'tion_index < formation_count', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@BJNBCHGF@formation_index?5?$DM?5formation_cou@
CONST	SEGMENT
??_C@_0CC@BJNBCHGF@formation_index?5?$DM?5formation_cou@ DB 'formation_in'
	DB	'dex < formation_count', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@CKFOJOAF@task_leader@
CONST	SEGMENT
??_C@_0M@CKFOJOAF@task_leader@ DB 'task_leader', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_02HODPCBMO@wp@
CONST	SEGMENT
??_C@_02HODPCBMO@wp@ DB 'wp', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_05HLIEEKJG@guide@
CONST	SEGMENT
??_C@_05HLIEEKJG@guide@ DB 'guide', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06NGJLJNEL@wp_pos@
CONST	SEGMENT
??_C@_06NGJLJNEL@wp_pos@ DB 'wp_pos', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_02LFNMGJAP@en@
CONST	SEGMENT
??_C@_02LFNMGJAP@en@ DB 'en', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\mobile\vehicle\person'
	DB	'\ps_move.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA DD 056H ; `person_movement_get_waypoint_position'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs@ DB '%s', 00H			; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\algorithm
;	COMDAT ??$min@M@std@@YGABMABM0@Z
_TEXT	SEGMENT
__Left$ = 8						; size = 4
__Right$ = 12						; size = 4
??$min@M@std@@YGABMABM0@Z PROC				; std::min<float>, COMDAT

; 5427 : 	{	// return smaller of _Left and _Right

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 5428 : 	if (_Right < _Left)

  00009	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
  0000c	8b 4d 0c	 mov	 ecx, DWORD PTR __Right$[ebp]
  0000f	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00013	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00016	76 64		 jbe	 SHORT $LN8@min
$LN4@min:

; 5429 : 		{
; 5430 : 		_STL_ASSERT(!(_Left < _Right), "invalid comparator");

  00018	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0001b	8b 4d 08	 mov	 ecx, DWORD PTR __Left$[ebp]
  0001e	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00022	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00025	77 02		 ja	 SHORT $LN9@min
  00027	eb 4a		 jmp	 SHORT $LN6@min
$LN9@min:
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FEEMDEPI@invalid?5comparator@
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs@
  00033	6a 00		 push	 0
  00035	68 36 15 00 00	 push	 5430			; 00001536H
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
  0003f	6a 02		 push	 2
  00041	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00047	83 c4 18	 add	 esp, 24			; 00000018H
  0004a	83 f8 01	 cmp	 eax, 1
  0004d	75 01		 jne	 SHORT $LN12@min
  0004f	cc		 int	 3
$LN12@min:
  00050	6a 00		 push	 0
  00052	68 36 15 00 00	 push	 5430			; 00001536H
  00057	68 00 00 00 00	 push	 OFFSET ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_1BC@BLAPCBGI@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAi?$AAn@
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter
  0006c	83 c4 14	 add	 esp, 20			; 00000014H
  0006f	33 c0		 xor	 eax, eax
  00071	75 b6		 jne	 SHORT $LN9@min
$LN6@min:
  00073	33 c0		 xor	 eax, eax
  00075	75 a1		 jne	 SHORT $LN4@min

; 5431 : 		return (_Right);

  00077	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0007a	eb 03		 jmp	 SHORT $LN1@min
$LN8@min:

; 5432 : 		}
; 5433 : 
; 5434 : 	return (_Left);

  0007c	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
$LN1@min:

; 5435 : 	}

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
??$min@M@std@@YGABMABM0@Z ENDP				; std::min<float>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\person\ps_move.c
;	COMDAT ?person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z
_TEXT	SEGMENT
tv520 = -136						; size = 4
tv497 = -136						; size = 4
tv399 = -136						; size = 4
tv379 = -136						; size = 4
tv349 = -136						; size = 4
tv329 = -136						; size = 4
tv305 = -136						; size = 4
tv280 = -136						; size = 4
tv260 = -136						; size = 4
tv240 = -136						; size = 4
tv219 = -136						; size = 4
tv189 = -136						; size = 4
tv168 = -136						; size = 4
tv145 = -136						; size = 4
tv88 = -136						; size = 4
tv512 = -132						; size = 4
tv489 = -132						; size = 4
tv391 = -132						; size = 4
tv371 = -132						; size = 4
tv341 = -132						; size = 4
tv321 = -132						; size = 4
tv297 = -132						; size = 4
tv272 = -132						; size = 4
tv252 = -132						; size = 4
tv232 = -132						; size = 4
tv212 = -132						; size = 4
tv181 = -132						; size = 4
tv161 = -132						; size = 4
tv137 = -132						; size = 4
tv80 = -132						; size = 4
_leader_formation_index$1 = -64				; size = 4
_formation_index$2 = -60				; size = 4
_formation_count$3 = -56				; size = 4
_type$4 = -52						; size = 4
_formation$5 = -48					; size = 4
_leader_pos$6 = -44					; size = 4
_xv$7 = -40						; size = 4
_task_leader$8 = -36					; size = 4
_group$9 = -32						; size = 4
_offset$10 = -28					; size = 12
_pos$ = -16						; size = 4
_distance$ = -12					; size = 4
_guide$ = -8						; size = 4
_wp$ = -4						; size = 4
_en$ = 8						; size = 4
_wp_pos$ = 12						; size = 4
?person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z PROC ; person_movement_get_waypoint_position, COMDAT

; 86   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 87   : 
; 88   : 	entity
; 89   : 		*wp,
; 90   : 		*guide;
; 91   : 
; 92   : 	float
; 93   : 		distance;
; 94   : 
; 95   : 	vec3d
; 96   : 		*pos;
; 97   : 
; 98   : 	ASSERT (en);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@person_mov
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00017	83 c0 0c	 add	 eax, 12			; 0000000cH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@person_mov:

; 99   : 
; 100  : 	ASSERT (wp_pos);

  0002a	83 7d 0c 00	 cmp	 DWORD PTR _wp_pos$[ebp], 0
  0002e	75 18		 jne	 SHORT $LN3@person_mov
  00030	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00035	83 c0 0e	 add	 eax, 14			; 0000000eH
  00038	50		 push	 eax
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	68 00 00 00 00	 push	 OFFSET ??_C@_06NGJLJNEL@wp_pos@
  00043	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@person_mov:

; 101  : 
; 102  : 	guide = get_local_entity_parent (en, LIST_TYPE_FOLLOWER);

  00048	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0004c	74 0d		 je	 SHORT $LN14@person_mov
  0004e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00051	8b 08		 mov	 ecx, DWORD PTR [eax]
  00053	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv80[ebp], ecx
  00059	eb 24		 jmp	 SHORT $LN15@person_mov
$LN14@person_mov:
  0005b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00061	83 c2 10	 add	 edx, 16			; 00000010H
  00064	52		 push	 edx
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0006f	50		 push	 eax
  00070	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00075	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN15@person_mov:
  0007f	b9 01 00 00 00	 mov	 ecx, 1
  00084	85 c9		 test	 ecx, ecx
  00086	74 0c		 je	 SHORT $LN16@person_mov
  00088	c7 85 78 ff ff
	ff 0d 00 00 00	 mov	 DWORD PTR tv88[ebp], 13	; 0000000dH
  00092	eb 24		 jmp	 SHORT $LN17@person_mov
$LN16@person_mov:
  00094	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0009a	83 c2 10	 add	 edx, 16			; 00000010H
  0009d	52		 push	 edx
  0009e	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  000a8	50		 push	 eax
  000a9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ae	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv88[ebp], 0
$LN17@person_mov:
  000b8	6a 0d		 push	 13			; 0000000dH
  000ba	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000bd	51		 push	 ecx
  000be	69 95 7c ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv80[ebp], 180
  000c8	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv88[ebp]
  000ce	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000d5	ff d1		 call	 ecx
  000d7	89 45 f8	 mov	 DWORD PTR _guide$[ebp], eax

; 103  : 
; 104  : 	ASSERT (guide);

  000da	83 7d f8 00	 cmp	 DWORD PTR _guide$[ebp], 0
  000de	75 18		 jne	 SHORT $LN4@person_mov
  000e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  000e5	83 c0 12	 add	 eax, 18			; 00000012H
  000e8	50		 push	 eax
  000e9	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ee	68 00 00 00 00	 push	 OFFSET ??_C@_05HLIEEKJG@guide@
  000f3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@person_mov:

; 105  : 
; 106  : 	wp = get_local_entity_parent (guide, LIST_TYPE_CURRENT_WAYPOINT);

  000f8	83 7d f8 00	 cmp	 DWORD PTR _guide$[ebp], 0
  000fc	74 0d		 je	 SHORT $LN18@person_mov
  000fe	8b 45 f8	 mov	 eax, DWORD PTR _guide$[ebp]
  00101	8b 08		 mov	 ecx, DWORD PTR [eax]
  00103	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv137[ebp], ecx
  00109	eb 24		 jmp	 SHORT $LN19@person_mov
$LN18@person_mov:
  0010b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00111	83 c2 14	 add	 edx, 20			; 00000014H
  00114	52		 push	 edx
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0011a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00125	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv137[ebp], 0
$LN19@person_mov:
  0012f	b9 01 00 00 00	 mov	 ecx, 1
  00134	85 c9		 test	 ecx, ecx
  00136	74 0c		 je	 SHORT $LN20@person_mov
  00138	c7 85 78 ff ff
	ff 09 00 00 00	 mov	 DWORD PTR tv145[ebp], 9
  00142	eb 24		 jmp	 SHORT $LN21@person_mov
$LN20@person_mov:
  00144	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0014a	83 c2 14	 add	 edx, 20			; 00000014H
  0014d	52		 push	 edx
  0014e	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00153	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00158	50		 push	 eax
  00159	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0015e	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv145[ebp], 0
$LN21@person_mov:
  00168	6a 09		 push	 9
  0016a	8b 4d f8	 mov	 ecx, DWORD PTR _guide$[ebp]
  0016d	51		 push	 ecx
  0016e	69 95 7c ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv137[ebp], 180
  00178	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv145[ebp]
  0017e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00185	ff d1		 call	 ecx
  00187	89 45 fc	 mov	 DWORD PTR _wp$[ebp], eax

; 107  : 
; 108  : 	ASSERT (wp);

  0018a	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  0018e	75 18		 jne	 SHORT $LN5@person_mov
  00190	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00195	83 c0 16	 add	 eax, 22			; 00000016H
  00198	50		 push	 eax
  00199	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0019e	68 00 00 00 00	 push	 OFFSET ??_C@_02HODPCBMO@wp@
  001a3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@person_mov:

; 109  : 
; 110  : 	if (get_local_entity_int_value (wp, INT_TYPE_MOBILE_FOLLOW_WAYPOINT_OFFSET))

  001a8	83 7d fc 00	 cmp	 DWORD PTR _wp$[ebp], 0
  001ac	74 0d		 je	 SHORT $LN22@person_mov
  001ae	8b 45 fc	 mov	 eax, DWORD PTR _wp$[ebp]
  001b1	8b 08		 mov	 ecx, DWORD PTR [eax]
  001b3	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv161[ebp], ecx
  001b9	eb 1d		 jmp	 SHORT $LN23@person_mov
$LN22@person_mov:
  001bb	6a 6e		 push	 110			; 0000006eH
  001bd	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001c8	52		 push	 edx
  001c9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ce	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv161[ebp], 0
$LN23@person_mov:
  001d8	b8 01 00 00 00	 mov	 eax, 1
  001dd	85 c0		 test	 eax, eax
  001df	74 0c		 je	 SHORT $LN24@person_mov
  001e1	c7 85 78 ff ff
	ff 8d 00 00 00	 mov	 DWORD PTR tv168[ebp], 141 ; 0000008dH
  001eb	eb 1d		 jmp	 SHORT $LN25@person_mov
$LN24@person_mov:
  001ed	6a 6e		 push	 110			; 0000006eH
  001ef	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  001f4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001fa	51		 push	 ecx
  001fb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00200	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv168[ebp], 0
$LN25@person_mov:
  0020a	68 8d 00 00 00	 push	 141			; 0000008dH
  0020f	8b 55 fc	 mov	 edx, DWORD PTR _wp$[ebp]
  00212	52		 push	 edx
  00213	69 85 7c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv161[ebp], 1116
  0021d	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv168[ebp]
  00223	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0022a	ff d2		 call	 edx
  0022c	85 c0		 test	 eax, eax
  0022e	0f 84 e3 00 00
	00		 je	 $LN6@person_mov

; 111  : 	{
; 112  : 		vec3d
; 113  : 			offset;
; 114  : 
; 115  : 		get_local_entity_vec3d (guide, VEC3D_TYPE_GUIDE_POSITION, wp_pos);

  00234	83 7d f8 00	 cmp	 DWORD PTR _guide$[ebp], 0
  00238	74 0d		 je	 SHORT $LN26@person_mov
  0023a	8b 45 f8	 mov	 eax, DWORD PTR _guide$[ebp]
  0023d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0023f	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv181[ebp], ecx
  00245	eb 24		 jmp	 SHORT $LN27@person_mov
$LN26@person_mov:
  00247	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0024d	83 c2 1d	 add	 edx, 29			; 0000001dH
  00250	52		 push	 edx
  00251	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00256	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0025b	50		 push	 eax
  0025c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00261	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv181[ebp], 0
$LN27@person_mov:
  0026b	b9 01 00 00 00	 mov	 ecx, 1
  00270	85 c9		 test	 ecx, ecx
  00272	74 0c		 je	 SHORT $LN28@person_mov
  00274	c7 85 78 ff ff
	ff 04 00 00 00	 mov	 DWORD PTR tv189[ebp], 4
  0027e	eb 24		 jmp	 SHORT $LN29@person_mov
$LN28@person_mov:
  00280	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00286	83 c2 1d	 add	 edx, 29			; 0000001dH
  00289	52		 push	 edx
  0028a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0028f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00294	50		 push	 eax
  00295	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0029a	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv189[ebp], 0
$LN29@person_mov:
  002a4	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  002a7	51		 push	 ecx
  002a8	6a 04		 push	 4
  002aa	8b 55 f8	 mov	 edx, DWORD PTR _guide$[ebp]
  002ad	52		 push	 edx
  002ae	6b 85 7c ff ff
	ff 60		 imul	 eax, DWORD PTR tv181[ebp], 96
  002b5	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv189[ebp]
  002bb	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  002c2	ff d2		 call	 edx

; 116  : 
; 117  : 		get_local_entity_formation_position_offset (en, wp, &offset);

  002c4	8d 45 e4	 lea	 eax, DWORD PTR _offset$10[ebp]
  002c7	50		 push	 eax
  002c8	8b 4d fc	 mov	 ecx, DWORD PTR _wp$[ebp]
  002cb	51		 push	 ecx
  002cc	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  002cf	52		 push	 edx
  002d0	e8 00 00 00 00	 call	 ?get_local_entity_formation_position_offset@@YGXPAUENTITY@@0PAUVEC3D@@@Z ; get_local_entity_formation_position_offset

; 118  : 
; 119  : 		wp_pos->x += offset.x;

  002d5	8b 45 0c	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  002d8	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  002dc	f3 0f 58 45 e4	 addss	 xmm0, DWORD PTR _offset$10[ebp]
  002e1	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  002e4	f3 0f 11 01	 movss	 DWORD PTR [ecx], xmm0

; 120  : 		wp_pos->y += offset.y;

  002e8	8b 45 0c	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  002eb	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  002f0	f3 0f 58 45 e8	 addss	 xmm0, DWORD PTR _offset$10[ebp+4]
  002f5	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  002f8	f3 0f 11 41 04	 movss	 DWORD PTR [ecx+4], xmm0

; 121  : 		wp_pos->z += offset.z;

  002fd	8b 45 0c	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  00300	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00305	f3 0f 58 45 ec	 addss	 xmm0, DWORD PTR _offset$10[ebp+8]
  0030a	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  0030d	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 122  : 	}
; 123  : 	else

  00312	e9 dc 06 00 00	 jmp	 $LN9@person_mov
$LN6@person_mov:

; 124  : 	{
; 125  : 		//
; 126  : 		// Task leader follows guide,.... other members follow task leader
; 127  : 		//
; 128  : 	
; 129  : 		if (get_local_entity_int_value (en, INT_TYPE_TASK_LEADER))

  00317	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0031b	74 0d		 je	 SHORT $LN30@person_mov
  0031d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00320	8b 08		 mov	 ecx, DWORD PTR [eax]
  00322	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv212[ebp], ecx
  00328	eb 20		 jmp	 SHORT $LN31@person_mov
$LN30@person_mov:
  0032a	68 81 00 00 00	 push	 129			; 00000081H
  0032f	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00334	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0033a	52		 push	 edx
  0033b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00340	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv212[ebp], 0
$LN31@person_mov:
  0034a	b8 01 00 00 00	 mov	 eax, 1
  0034f	85 c0		 test	 eax, eax
  00351	74 0c		 je	 SHORT $LN32@person_mov
  00353	c7 85 78 ff ff
	ff dd 00 00 00	 mov	 DWORD PTR tv219[ebp], 221 ; 000000ddH
  0035d	eb 20		 jmp	 SHORT $LN33@person_mov
$LN32@person_mov:
  0035f	68 81 00 00 00	 push	 129			; 00000081H
  00364	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00369	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0036f	51		 push	 ecx
  00370	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00375	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv219[ebp], 0
$LN33@person_mov:
  0037f	68 dd 00 00 00	 push	 221			; 000000ddH
  00384	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00387	52		 push	 edx
  00388	69 85 7c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv212[ebp], 1116
  00392	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv219[ebp]
  00398	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0039f	ff d2		 call	 edx
  003a1	85 c0		 test	 eax, eax
  003a3	0f 84 95 00 00
	00		 je	 $LN8@person_mov

; 130  : 		{
; 131  : 			get_local_entity_vec3d (guide, VEC3D_TYPE_GUIDE_POSITION, wp_pos);

  003a9	83 7d f8 00	 cmp	 DWORD PTR _guide$[ebp], 0
  003ad	74 0d		 je	 SHORT $LN34@person_mov
  003af	8b 45 f8	 mov	 eax, DWORD PTR _guide$[ebp]
  003b2	8b 08		 mov	 ecx, DWORD PTR [eax]
  003b4	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv232[ebp], ecx
  003ba	eb 24		 jmp	 SHORT $LN35@person_mov
$LN34@person_mov:
  003bc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  003c2	83 c2 2d	 add	 edx, 45			; 0000002dH
  003c5	52		 push	 edx
  003c6	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  003cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003d0	50		 push	 eax
  003d1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003d6	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv232[ebp], 0
$LN35@person_mov:
  003e0	b9 01 00 00 00	 mov	 ecx, 1
  003e5	85 c9		 test	 ecx, ecx
  003e7	74 0c		 je	 SHORT $LN36@person_mov
  003e9	c7 85 78 ff ff
	ff 04 00 00 00	 mov	 DWORD PTR tv240[ebp], 4
  003f3	eb 24		 jmp	 SHORT $LN37@person_mov
$LN36@person_mov:
  003f5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  003fb	83 c2 2d	 add	 edx, 45			; 0000002dH
  003fe	52		 push	 edx
  003ff	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00404	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00409	50		 push	 eax
  0040a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0040f	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv240[ebp], 0
$LN37@person_mov:
  00419	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  0041c	51		 push	 ecx
  0041d	6a 04		 push	 4
  0041f	8b 55 f8	 mov	 edx, DWORD PTR _guide$[ebp]
  00422	52		 push	 edx
  00423	6b 85 7c ff ff
	ff 60		 imul	 eax, DWORD PTR tv232[ebp], 96
  0042a	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR tv240[ebp]
  00430	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00437	ff d2		 call	 edx

; 132  : 		}
; 133  : 		else

  00439	e9 b5 05 00 00	 jmp	 $LN9@person_mov
$LN8@person_mov:

; 134  : 		{
; 135  : 			//
; 136  : 			// set wp pos to offset from task leader
; 137  : 			//
; 138  : 	
; 139  : 			entity
; 140  : 				*group,
; 141  : 				*task_leader;
; 142  : 	
; 143  : 			vec3d
; 144  : 				*xv,
; 145  : 				*leader_pos;
; 146  : 	
; 147  : 			formation_type
; 148  : 				*formation;
; 149  : 	
; 150  : 			int
; 151  : 				type,
; 152  : 				formation_count,
; 153  : 				formation_index,
; 154  : 				leader_formation_index;
; 155  : 	
; 156  : 			//
; 157  : 			// find task leader
; 158  : 			//
; 159  : 
; 160  : 			group = get_local_entity_parent (en, LIST_TYPE_MEMBER);

  0043e	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00442	74 0d		 je	 SHORT $LN38@person_mov
  00444	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00447	8b 08		 mov	 ecx, DWORD PTR [eax]
  00449	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv252[ebp], ecx
  0044f	eb 24		 jmp	 SHORT $LN39@person_mov
$LN38@person_mov:
  00451	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00457	83 c2 4a	 add	 edx, 74			; 0000004aH
  0045a	52		 push	 edx
  0045b	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00460	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00465	50		 push	 eax
  00466	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0046b	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv252[ebp], 0
$LN39@person_mov:
  00475	b9 01 00 00 00	 mov	 ecx, 1
  0047a	85 c9		 test	 ecx, ecx
  0047c	74 0c		 je	 SHORT $LN40@person_mov
  0047e	c7 85 78 ff ff
	ff 19 00 00 00	 mov	 DWORD PTR tv260[ebp], 25 ; 00000019H
  00488	eb 24		 jmp	 SHORT $LN41@person_mov
$LN40@person_mov:
  0048a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00490	83 c2 4a	 add	 edx, 74			; 0000004aH
  00493	52		 push	 edx
  00494	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00499	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0049e	50		 push	 eax
  0049f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004a4	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv260[ebp], 0
$LN41@person_mov:
  004ae	6a 19		 push	 25			; 00000019H
  004b0	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  004b3	51		 push	 ecx
  004b4	69 95 7c ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv252[ebp], 180
  004be	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv260[ebp]
  004c4	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  004cb	ff d1		 call	 ecx
  004cd	89 45 e0	 mov	 DWORD PTR _group$9[ebp], eax

; 161  : 
; 162  : 			task_leader = (entity *) get_local_entity_ptr_value (guide, PTR_TYPE_TASK_LEADER);

  004d0	83 7d f8 00	 cmp	 DWORD PTR _guide$[ebp], 0
  004d4	74 0d		 je	 SHORT $LN42@person_mov
  004d6	8b 45 f8	 mov	 eax, DWORD PTR _guide$[ebp]
  004d9	8b 08		 mov	 ecx, DWORD PTR [eax]
  004db	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv272[ebp], ecx
  004e1	eb 24		 jmp	 SHORT $LN43@person_mov
$LN42@person_mov:
  004e3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  004e9	83 c2 4c	 add	 edx, 76			; 0000004cH
  004ec	52		 push	 edx
  004ed	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  004f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004f7	50		 push	 eax
  004f8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004fd	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv272[ebp], 0
$LN43@person_mov:
  00507	b9 01 00 00 00	 mov	 ecx, 1
  0050c	85 c9		 test	 ecx, ecx
  0050e	74 0c		 je	 SHORT $LN44@person_mov
  00510	c7 85 78 ff ff
	ff 0f 00 00 00	 mov	 DWORD PTR tv280[ebp], 15 ; 0000000fH
  0051a	eb 24		 jmp	 SHORT $LN45@person_mov
$LN44@person_mov:
  0051c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00522	83 c2 4c	 add	 edx, 76			; 0000004cH
  00525	52		 push	 edx
  00526	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0052b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00530	50		 push	 eax
  00531	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00536	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv280[ebp], 0
$LN45@person_mov:
  00540	6a 0f		 push	 15			; 0000000fH
  00542	8b 4d f8	 mov	 ecx, DWORD PTR _guide$[ebp]
  00545	51		 push	 ecx
  00546	6b 95 7c ff ff
	ff 50		 imul	 edx, DWORD PTR tv272[ebp], 80
  0054d	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv280[ebp]
  00553	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  0055a	ff d1		 call	 ecx
  0055c	89 45 dc	 mov	 DWORD PTR _task_leader$8[ebp], eax

; 163  : 
; 164  : 			ASSERT (task_leader);

  0055f	83 7d dc 00	 cmp	 DWORD PTR _task_leader$8[ebp], 0
  00563	75 18		 jne	 SHORT $LN10@person_mov
  00565	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0056a	83 c0 4e	 add	 eax, 78			; 0000004eH
  0056d	50		 push	 eax
  0056e	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00573	68 00 00 00 00	 push	 OFFSET ??_C@_0M@CKFOJOAF@task_leader@
  00578	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN10@person_mov:

; 165  : 	
; 166  : 			//
; 167  : 			// get formation
; 168  : 			//
; 169  : 	
; 170  : 			type = get_local_entity_int_value (group, INT_TYPE_GROUP_FORMATION);

  0057d	83 7d e0 00	 cmp	 DWORD PTR _group$9[ebp], 0
  00581	74 0d		 je	 SHORT $LN46@person_mov
  00583	8b 45 e0	 mov	 eax, DWORD PTR _group$9[ebp]
  00586	8b 08		 mov	 ecx, DWORD PTR [eax]
  00588	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv297[ebp], ecx
  0058e	eb 24		 jmp	 SHORT $LN47@person_mov
$LN46@person_mov:
  00590	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00596	83 c2 54	 add	 edx, 84			; 00000054H
  00599	52		 push	 edx
  0059a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0059f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005a4	50		 push	 eax
  005a5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005aa	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv297[ebp], 0
$LN47@person_mov:
  005b4	b9 01 00 00 00	 mov	 ecx, 1
  005b9	85 c9		 test	 ecx, ecx
  005bb	74 0c		 je	 SHORT $LN48@person_mov
  005bd	c7 85 78 ff ff
	ff 47 00 00 00	 mov	 DWORD PTR tv305[ebp], 71 ; 00000047H
  005c7	eb 24		 jmp	 SHORT $LN49@person_mov
$LN48@person_mov:
  005c9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  005cf	83 c2 54	 add	 edx, 84			; 00000054H
  005d2	52		 push	 edx
  005d3	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  005d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  005dd	50		 push	 eax
  005de	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005e3	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv305[ebp], 0
$LN49@person_mov:
  005ed	6a 47		 push	 71			; 00000047H
  005ef	8b 4d e0	 mov	 ecx, DWORD PTR _group$9[ebp]
  005f2	51		 push	 ecx
  005f3	69 95 7c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv297[ebp], 1116
  005fd	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv305[ebp]
  00603	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0060a	ff d1		 call	 ecx
  0060c	89 45 cc	 mov	 DWORD PTR _type$4[ebp], eax

; 171  : 	
; 172  : 			formation = get_formation ((formation_types) type);

  0060f	8b 45 cc	 mov	 eax, DWORD PTR _type$4[ebp]
  00612	50		 push	 eax
  00613	e8 00 00 00 00	 call	 ?get_formation@@YGPAUFORMATION_TYPE@@W4FORMATION_TYPES@@@Z ; get_formation
  00618	89 45 d0	 mov	 DWORD PTR _formation$5[ebp], eax

; 173  : 	
; 174  : 			formation_count = formation->number_in_formation;

  0061b	8b 45 d0	 mov	 eax, DWORD PTR _formation$5[ebp]
  0061e	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  00622	89 4d c8	 mov	 DWORD PTR _formation_count$3[ebp], ecx

; 175  : 	
; 176  : 			formation_index = get_local_entity_int_value (en, INT_TYPE_GROUP_MEMBER_NUMBER);

  00625	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00629	74 0d		 je	 SHORT $LN50@person_mov
  0062b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0062e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00630	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv321[ebp], ecx
  00636	eb 24		 jmp	 SHORT $LN51@person_mov
$LN50@person_mov:
  00638	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0063e	83 c2 5a	 add	 edx, 90			; 0000005aH
  00641	52		 push	 edx
  00642	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00647	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0064c	50		 push	 eax
  0064d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00652	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv321[ebp], 0
$LN51@person_mov:
  0065c	b9 01 00 00 00	 mov	 ecx, 1
  00661	85 c9		 test	 ecx, ecx
  00663	74 0c		 je	 SHORT $LN52@person_mov
  00665	c7 85 78 ff ff
	ff 4b 00 00 00	 mov	 DWORD PTR tv329[ebp], 75 ; 0000004bH
  0066f	eb 24		 jmp	 SHORT $LN53@person_mov
$LN52@person_mov:
  00671	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00677	83 c2 5a	 add	 edx, 90			; 0000005aH
  0067a	52		 push	 edx
  0067b	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00680	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00685	50		 push	 eax
  00686	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0068b	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv329[ebp], 0
$LN53@person_mov:
  00695	6a 4b		 push	 75			; 0000004bH
  00697	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0069a	51		 push	 ecx
  0069b	69 95 7c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv321[ebp], 1116
  006a5	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv329[ebp]
  006ab	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  006b2	ff d1		 call	 ecx
  006b4	89 45 c4	 mov	 DWORD PTR _formation_index$2[ebp], eax

; 177  : 	
; 178  : 			leader_formation_index = get_local_entity_int_value (task_leader, INT_TYPE_GROUP_MEMBER_NUMBER);

  006b7	83 7d dc 00	 cmp	 DWORD PTR _task_leader$8[ebp], 0
  006bb	74 0d		 je	 SHORT $LN54@person_mov
  006bd	8b 45 dc	 mov	 eax, DWORD PTR _task_leader$8[ebp]
  006c0	8b 08		 mov	 ecx, DWORD PTR [eax]
  006c2	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv341[ebp], ecx
  006c8	eb 24		 jmp	 SHORT $LN55@person_mov
$LN54@person_mov:
  006ca	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  006d0	83 c2 5c	 add	 edx, 92			; 0000005cH
  006d3	52		 push	 edx
  006d4	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  006d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006de	50		 push	 eax
  006df	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006e4	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv341[ebp], 0
$LN55@person_mov:
  006ee	b9 01 00 00 00	 mov	 ecx, 1
  006f3	85 c9		 test	 ecx, ecx
  006f5	74 0c		 je	 SHORT $LN56@person_mov
  006f7	c7 85 78 ff ff
	ff 4b 00 00 00	 mov	 DWORD PTR tv349[ebp], 75 ; 0000004bH
  00701	eb 24		 jmp	 SHORT $LN57@person_mov
$LN56@person_mov:
  00703	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00709	83 c2 5c	 add	 edx, 92			; 0000005cH
  0070c	52		 push	 edx
  0070d	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00712	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00717	50		 push	 eax
  00718	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0071d	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv349[ebp], 0
$LN57@person_mov:
  00727	6a 4b		 push	 75			; 0000004bH
  00729	8b 4d dc	 mov	 ecx, DWORD PTR _task_leader$8[ebp]
  0072c	51		 push	 ecx
  0072d	69 95 7c ff ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv341[ebp], 1116
  00737	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv349[ebp]
  0073d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00744	ff d1		 call	 ecx
  00746	89 45 c0	 mov	 DWORD PTR _leader_formation_index$1[ebp], eax

; 179  : 	
; 180  : 			ASSERT (formation_index < formation_count);

  00749	8b 45 c4	 mov	 eax, DWORD PTR _formation_index$2[ebp]
  0074c	3b 45 c8	 cmp	 eax, DWORD PTR _formation_count$3[ebp]
  0074f	7c 18		 jl	 SHORT $LN11@person_mov
  00751	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00756	83 c0 5e	 add	 eax, 94			; 0000005eH
  00759	50		 push	 eax
  0075a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0075f	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@BJNBCHGF@formation_index?5?$DM?5formation_cou@
  00764	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN11@person_mov:

; 181  : 			ASSERT (leader_formation_index < formation_count);

  00769	8b 45 c0	 mov	 eax, DWORD PTR _leader_formation_index$1[ebp]
  0076c	3b 45 c8	 cmp	 eax, DWORD PTR _formation_count$3[ebp]
  0076f	7c 18		 jl	 SHORT $LN12@person_mov
  00771	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00776	83 c0 5f	 add	 eax, 95			; 0000005fH
  00779	50		 push	 eax
  0077a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0077f	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@LGIIPGBA@leader_formation_index?5?$DM?5format@
  00784	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN12@person_mov:

; 182  : 	
; 183  : 			//
; 184  : 			// calculate position
; 185  : 			//
; 186  : 	
; 187  : 			leader_pos = get_local_entity_vec3d_ptr (task_leader, VEC3D_TYPE_POSITION);

  00789	83 7d dc 00	 cmp	 DWORD PTR _task_leader$8[ebp], 0
  0078d	74 0d		 je	 SHORT $LN58@person_mov
  0078f	8b 45 dc	 mov	 eax, DWORD PTR _task_leader$8[ebp]
  00792	8b 08		 mov	 ecx, DWORD PTR [eax]
  00794	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv371[ebp], ecx
  0079a	eb 24		 jmp	 SHORT $LN59@person_mov
$LN58@person_mov:
  0079c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  007a2	83 c2 65	 add	 edx, 101		; 00000065H
  007a5	52		 push	 edx
  007a6	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  007ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  007b0	50		 push	 eax
  007b1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007b6	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv371[ebp], 0
$LN59@person_mov:
  007c0	b9 01 00 00 00	 mov	 ecx, 1
  007c5	85 c9		 test	 ecx, ecx
  007c7	74 0c		 je	 SHORT $LN60@person_mov
  007c9	c7 85 78 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv379[ebp], 8
  007d3	eb 24		 jmp	 SHORT $LN61@person_mov
$LN60@person_mov:
  007d5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  007db	83 c2 65	 add	 edx, 101		; 00000065H
  007de	52		 push	 edx
  007df	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  007e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  007e9	50		 push	 eax
  007ea	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007ef	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv379[ebp], 0
$LN61@person_mov:
  007f9	6a 08		 push	 8
  007fb	8b 4d dc	 mov	 ecx, DWORD PTR _task_leader$8[ebp]
  007fe	51		 push	 ecx
  007ff	6b 95 7c ff ff
	ff 60		 imul	 edx, DWORD PTR tv371[ebp], 96
  00806	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv379[ebp]
  0080c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00813	ff d1		 call	 ecx
  00815	89 45 d4	 mov	 DWORD PTR _leader_pos$6[ebp], eax

; 188  : 	
; 189  : 			xv = get_local_entity_vec3d_ptr (task_leader, VEC3D_TYPE_XV);

  00818	83 7d dc 00	 cmp	 DWORD PTR _task_leader$8[ebp], 0
  0081c	74 0d		 je	 SHORT $LN62@person_mov
  0081e	8b 45 dc	 mov	 eax, DWORD PTR _task_leader$8[ebp]
  00821	8b 08		 mov	 ecx, DWORD PTR [eax]
  00823	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv391[ebp], ecx
  00829	eb 24		 jmp	 SHORT $LN63@person_mov
$LN62@person_mov:
  0082b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00831	83 c2 67	 add	 edx, 103		; 00000067H
  00834	52		 push	 edx
  00835	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0083a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0083f	50		 push	 eax
  00840	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00845	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv391[ebp], 0
$LN63@person_mov:
  0084f	b9 01 00 00 00	 mov	 ecx, 1
  00854	85 c9		 test	 ecx, ecx
  00856	74 0c		 je	 SHORT $LN64@person_mov
  00858	c7 85 78 ff ff
	ff 14 00 00 00	 mov	 DWORD PTR tv399[ebp], 20 ; 00000014H
  00862	eb 24		 jmp	 SHORT $LN65@person_mov
$LN64@person_mov:
  00864	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  0086a	83 c2 67	 add	 edx, 103		; 00000067H
  0086d	52		 push	 edx
  0086e	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00873	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00878	50		 push	 eax
  00879	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0087e	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv399[ebp], 0
$LN65@person_mov:
  00888	6a 14		 push	 20			; 00000014H
  0088a	8b 4d dc	 mov	 ecx, DWORD PTR _task_leader$8[ebp]
  0088d	51		 push	 ecx
  0088e	6b 95 7c ff ff
	ff 60		 imul	 edx, DWORD PTR tv391[ebp], 96
  00895	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv399[ebp]
  0089b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  008a2	ff d1		 call	 ecx
  008a4	89 45 d8	 mov	 DWORD PTR _xv$7[ebp], eax

; 190  : 	
; 191  : 			//
; 192  : 			// take leader position and SUBTRACT leaders formation position (coz leader is not necessarily formation pos 0)
; 193  : 			//
; 194  : 			
; 195  : 			wp_pos->x = leader_pos->x - ((xv->x * formation->sites [leader_formation_index].x) - (xv->z * formation->sites [leader_formation_index].z));

  008a7	6b 45 c0 0c	 imul	 eax, DWORD PTR _leader_formation_index$1[ebp], 12
  008ab	8b 4d d0	 mov	 ecx, DWORD PTR _formation$5[ebp]
  008ae	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  008b1	8b 4d d8	 mov	 ecx, DWORD PTR _xv$7[ebp]
  008b4	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  008b8	f3 0f 59 04 02	 mulss	 xmm0, DWORD PTR [edx+eax]
  008bd	6b 55 c0 0c	 imul	 edx, DWORD PTR _leader_formation_index$1[ebp], 12
  008c1	8b 45 d0	 mov	 eax, DWORD PTR _formation$5[ebp]
  008c4	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  008c7	8b 45 d8	 mov	 eax, DWORD PTR _xv$7[ebp]
  008ca	f3 0f 10 48 08	 movss	 xmm1, DWORD PTR [eax+8]
  008cf	f3 0f 59 4c 11
	08		 mulss	 xmm1, DWORD PTR [ecx+edx+8]
  008d5	f3 0f 5c c1	 subss	 xmm0, xmm1
  008d9	8b 4d d4	 mov	 ecx, DWORD PTR _leader_pos$6[ebp]
  008dc	f3 0f 10 09	 movss	 xmm1, DWORD PTR [ecx]
  008e0	f3 0f 5c c8	 subss	 xmm1, xmm0
  008e4	8b 55 0c	 mov	 edx, DWORD PTR _wp_pos$[ebp]
  008e7	f3 0f 11 0a	 movss	 DWORD PTR [edx], xmm1

; 196  : 			wp_pos->y = leader_pos->y - formation->sites [leader_formation_index].y;

  008eb	6b 45 c0 0c	 imul	 eax, DWORD PTR _leader_formation_index$1[ebp], 12
  008ef	8b 4d d0	 mov	 ecx, DWORD PTR _formation$5[ebp]
  008f2	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  008f5	8b 4d d4	 mov	 ecx, DWORD PTR _leader_pos$6[ebp]
  008f8	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  008fd	f3 0f 5c 44 02
	04		 subss	 xmm0, DWORD PTR [edx+eax+4]
  00903	8b 55 0c	 mov	 edx, DWORD PTR _wp_pos$[ebp]
  00906	f3 0f 11 42 04	 movss	 DWORD PTR [edx+4], xmm0

; 197  : 			wp_pos->z = leader_pos->z - ((xv->x * formation->sites [leader_formation_index].z) + (xv->z * formation->sites [leader_formation_index].x));

  0090b	6b 45 c0 0c	 imul	 eax, DWORD PTR _leader_formation_index$1[ebp], 12
  0090f	8b 4d d0	 mov	 ecx, DWORD PTR _formation$5[ebp]
  00912	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00915	8b 4d d8	 mov	 ecx, DWORD PTR _xv$7[ebp]
  00918	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  0091c	f3 0f 59 44 02
	08		 mulss	 xmm0, DWORD PTR [edx+eax+8]
  00922	6b 55 c0 0c	 imul	 edx, DWORD PTR _leader_formation_index$1[ebp], 12
  00926	8b 45 d0	 mov	 eax, DWORD PTR _formation$5[ebp]
  00929	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0092c	8b 45 d8	 mov	 eax, DWORD PTR _xv$7[ebp]
  0092f	f3 0f 10 48 08	 movss	 xmm1, DWORD PTR [eax+8]
  00934	f3 0f 59 0c 11	 mulss	 xmm1, DWORD PTR [ecx+edx]
  00939	f3 0f 58 c1	 addss	 xmm0, xmm1
  0093d	8b 4d d4	 mov	 ecx, DWORD PTR _leader_pos$6[ebp]
  00940	f3 0f 10 49 08	 movss	 xmm1, DWORD PTR [ecx+8]
  00945	f3 0f 5c c8	 subss	 xmm1, xmm0
  00949	8b 55 0c	 mov	 edx, DWORD PTR _wp_pos$[ebp]
  0094c	f3 0f 11 4a 08	 movss	 DWORD PTR [edx+8], xmm1

; 198  : 	
; 199  : 			//
; 200  : 			// then ADD members formation position
; 201  : 			//
; 202  : 	
; 203  : 			wp_pos->x += ((xv->x * formation->sites [formation_index].x) - (xv->z * formation->sites [formation_index].z));

  00951	6b 45 c4 0c	 imul	 eax, DWORD PTR _formation_index$2[ebp], 12
  00955	8b 4d d0	 mov	 ecx, DWORD PTR _formation$5[ebp]
  00958	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0095b	8b 4d d8	 mov	 ecx, DWORD PTR _xv$7[ebp]
  0095e	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  00962	f3 0f 59 04 02	 mulss	 xmm0, DWORD PTR [edx+eax]
  00967	6b 55 c4 0c	 imul	 edx, DWORD PTR _formation_index$2[ebp], 12
  0096b	8b 45 d0	 mov	 eax, DWORD PTR _formation$5[ebp]
  0096e	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00971	8b 45 d8	 mov	 eax, DWORD PTR _xv$7[ebp]
  00974	f3 0f 10 48 08	 movss	 xmm1, DWORD PTR [eax+8]
  00979	f3 0f 59 4c 11
	08		 mulss	 xmm1, DWORD PTR [ecx+edx+8]
  0097f	f3 0f 5c c1	 subss	 xmm0, xmm1
  00983	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  00986	f3 0f 58 01	 addss	 xmm0, DWORD PTR [ecx]
  0098a	8b 55 0c	 mov	 edx, DWORD PTR _wp_pos$[ebp]
  0098d	f3 0f 11 02	 movss	 DWORD PTR [edx], xmm0

; 204  : 			wp_pos->y += formation->sites [formation_index].y;

  00991	6b 45 c4 0c	 imul	 eax, DWORD PTR _formation_index$2[ebp], 12
  00995	8b 4d d0	 mov	 ecx, DWORD PTR _formation$5[ebp]
  00998	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0099b	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  0099e	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  009a3	f3 0f 58 44 02
	04		 addss	 xmm0, DWORD PTR [edx+eax+4]
  009a9	8b 55 0c	 mov	 edx, DWORD PTR _wp_pos$[ebp]
  009ac	f3 0f 11 42 04	 movss	 DWORD PTR [edx+4], xmm0

; 205  : 			wp_pos->z += ((xv->x * formation->sites [formation_index].z) + (xv->z * formation->sites [formation_index].x));

  009b1	6b 45 c4 0c	 imul	 eax, DWORD PTR _formation_index$2[ebp], 12
  009b5	8b 4d d0	 mov	 ecx, DWORD PTR _formation$5[ebp]
  009b8	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  009bb	8b 4d d8	 mov	 ecx, DWORD PTR _xv$7[ebp]
  009be	f3 0f 10 01	 movss	 xmm0, DWORD PTR [ecx]
  009c2	f3 0f 59 44 02
	08		 mulss	 xmm0, DWORD PTR [edx+eax+8]
  009c8	6b 55 c4 0c	 imul	 edx, DWORD PTR _formation_index$2[ebp], 12
  009cc	8b 45 d0	 mov	 eax, DWORD PTR _formation$5[ebp]
  009cf	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  009d2	8b 45 d8	 mov	 eax, DWORD PTR _xv$7[ebp]
  009d5	f3 0f 10 48 08	 movss	 xmm1, DWORD PTR [eax+8]
  009da	f3 0f 59 0c 11	 mulss	 xmm1, DWORD PTR [ecx+edx]
  009df	f3 0f 58 c1	 addss	 xmm0, xmm1
  009e3	8b 4d 0c	 mov	 ecx, DWORD PTR _wp_pos$[ebp]
  009e6	f3 0f 58 41 08	 addss	 xmm0, DWORD PTR [ecx+8]
  009eb	8b 55 0c	 mov	 edx, DWORD PTR _wp_pos$[ebp]
  009ee	f3 0f 11 42 08	 movss	 DWORD PTR [edx+8], xmm0
$LN9@person_mov:

; 206  : 		}
; 207  : 	}
; 208  : 
; 209  : 	//
; 210  : 	// calculate distance of entity to next waypoint position
; 211  : 	//
; 212  : 
; 213  : 	pos = get_local_entity_vec3d_ptr (en, VEC3D_TYPE_POSITION);

  009f3	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  009f7	74 0d		 je	 SHORT $LN66@person_mov
  009f9	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  009fc	8b 08		 mov	 ecx, DWORD PTR [eax]
  009fe	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv489[ebp], ecx
  00a04	eb 24		 jmp	 SHORT $LN67@person_mov
$LN66@person_mov:
  00a06	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00a0c	83 c2 7f	 add	 edx, 127		; 0000007fH
  00a0f	52		 push	 edx
  00a10	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a15	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00a1a	50		 push	 eax
  00a1b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00a20	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv489[ebp], 0
$LN67@person_mov:
  00a2a	b9 01 00 00 00	 mov	 ecx, 1
  00a2f	85 c9		 test	 ecx, ecx
  00a31	74 0c		 je	 SHORT $LN68@person_mov
  00a33	c7 85 78 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv497[ebp], 8
  00a3d	eb 24		 jmp	 SHORT $LN69@person_mov
$LN68@person_mov:
  00a3f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00a45	83 c2 7f	 add	 edx, 127		; 0000007fH
  00a48	52		 push	 edx
  00a49	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a4e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00a53	50		 push	 eax
  00a54	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00a59	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv497[ebp], 0
$LN69@person_mov:
  00a63	6a 08		 push	 8
  00a65	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00a68	51		 push	 ecx
  00a69	6b 95 7c ff ff
	ff 60		 imul	 edx, DWORD PTR tv489[ebp], 96
  00a70	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv497[ebp]
  00a76	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  00a7d	ff d1		 call	 ecx
  00a7f	89 45 f0	 mov	 DWORD PTR _pos$[ebp], eax

; 214  : 
; 215  : 	distance = get_2d_range (pos, wp_pos);

  00a82	8b 45 0c	 mov	 eax, DWORD PTR _wp_pos$[ebp]
  00a85	50		 push	 eax
  00a86	8b 4d f0	 mov	 ecx, DWORD PTR _pos$[ebp]
  00a89	51		 push	 ecx
  00a8a	e8 00 00 00 00	 call	 ?get_2d_range@@YGMPBUVEC3D@@0@Z ; get_2d_range
  00a8f	d9 5d f4	 fstp	 DWORD PTR _distance$[ebp]

; 216  : 
; 217  : 	set_local_entity_float_value (en, FLOAT_TYPE_DISTANCE, distance);

  00a92	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00a96	74 0d		 je	 SHORT $LN70@person_mov
  00a98	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00a9b	8b 08		 mov	 ecx, DWORD PTR [eax]
  00a9d	89 8d 7c ff ff
	ff		 mov	 DWORD PTR tv512[ebp], ecx
  00aa3	eb 27		 jmp	 SHORT $LN71@person_mov
$LN70@person_mov:
  00aa5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00aab	81 c2 83 00 00
	00		 add	 edx, 131		; 00000083H
  00ab1	52		 push	 edx
  00ab2	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00ab7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00abc	50		 push	 eax
  00abd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00ac2	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv512[ebp], 0
$LN71@person_mov:
  00acc	b9 01 00 00 00	 mov	 ecx, 1
  00ad1	85 c9		 test	 ecx, ecx
  00ad3	74 0c		 je	 SHORT $LN72@person_mov
  00ad5	c7 85 78 ff ff
	ff 1f 00 00 00	 mov	 DWORD PTR tv520[ebp], 31 ; 0000001fH
  00adf	eb 27		 jmp	 SHORT $LN73@person_mov
$LN72@person_mov:
  00ae1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z@4JA
  00ae7	81 c2 83 00 00
	00		 add	 edx, 131		; 00000083H
  00aed	52		 push	 edx
  00aee	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00af3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  00af8	50		 push	 eax
  00af9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00afe	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv520[ebp], 0
$LN73@person_mov:
  00b08	51		 push	 ecx
  00b09	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR _distance$[ebp]
  00b0e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b13	6a 1f		 push	 31			; 0000001fH
  00b15	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00b18	51		 push	 ecx
  00b19	69 95 7c ff ff
	ff bc 02 00 00	 imul	 edx, DWORD PTR tv512[ebp], 700
  00b23	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR tv520[ebp]
  00b29	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_float_value@@3PAY0KP@P6GXPAUENTITY@@W4FLOAT_TYPES@@M@ZA[edx+eax*4]
  00b30	ff d1		 call	 ecx

; 218  : }

  00b32	5f		 pop	 edi
  00b33	5e		 pop	 esi
  00b34	5b		 pop	 ebx
  00b35	8b e5		 mov	 esp, ebp
  00b37	5d		 pop	 ebp
  00b38	c2 08 00	 ret	 8
?person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z ENDP ; person_movement_get_waypoint_position
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\person\ps_move.c
;	COMDAT ?person_movement@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv307 = -176						; size = 4
tv219 = -176						; size = 4
tv196 = -176						; size = 4
tv156 = -176						; size = 4
tv78 = -176						; size = 4
tv299 = -172						; size = 4
tv212 = -172						; size = 4
tv188 = -172						; size = 4
tv149 = -172						; size = 4
tv70 = -172						; size = 4
$T1 = -168						; size = 4
_state$ = -100						; size = 4
_state_selector$ = -96					; size = 4
_remainder$ = -92					; size = 4
_z_inc$ = -88						; size = 4
_y_inc$ = -84						; size = 4
_x_inc$ = -80						; size = 4
_heading$ = -76						; size = 4
_movement_distance$ = -72				; size = 4
_distance$ = -68					; size = 4
_ps_vel$ = -64						; size = 4
_guide$ = -60						; size = 4
_task$ = -56						; size = 4
_raw$ = -52						; size = 4
_wp_pos$ = -48						; size = 12
_wp_vec$ = -36						; size = 12
_normalised_wp_vec$ = -24				; size = 12
_new_pos$ = -12						; size = 12
_en$ = 8						; size = 4
?person_movement@@YGXPAUENTITY@@@Z PROC			; person_movement, COMDAT

; 225  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b0 00 00
	00		 sub	 esp, 176		; 000000b0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 226  : 
; 227  : 	vec3d
; 228  : 		new_pos,
; 229  : 		normalised_wp_vec,
; 230  : 		wp_vec,
; 231  : 		wp_pos;
; 232  : 
; 233  : 	person
; 234  : 		*raw;
; 235  : 
; 236  : 	entity
; 237  : 		*task,
; 238  : 		*guide;
; 239  : 
; 240  : 	float
; 241  : 		ps_vel,
; 242  : 		distance,
; 243  : 		movement_distance,
; 244  : 		heading,
; 245  : 		x_inc,
; 246  : 		y_inc,
; 247  : 		z_inc,
; 248  : 		remainder;
; 249  : 
; 250  : 	int
; 251  : 		state_selector,
; 252  : 		state;
; 253  : 
; 254  : 	guide = get_local_entity_parent (en, LIST_TYPE_FOLLOWER);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	74 0d		 je	 SHORT $LN13@person_mov
  00012	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 8d 54 ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0001d	eb 24		 jmp	 SHORT $LN14@person_mov
$LN13@person_mov:
  0001f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  00025	83 c2 1d	 add	 edx, 29			; 0000001dH
  00028	52		 push	 edx
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN14@person_mov:
  00043	b9 01 00 00 00	 mov	 ecx, 1
  00048	85 c9		 test	 ecx, ecx
  0004a	74 0c		 je	 SHORT $LN15@person_mov
  0004c	c7 85 50 ff ff
	ff 0d 00 00 00	 mov	 DWORD PTR tv78[ebp], 13	; 0000000dH
  00056	eb 24		 jmp	 SHORT $LN16@person_mov
$LN15@person_mov:
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  0005e	83 c2 1d	 add	 edx, 29			; 0000001dH
  00061	52		 push	 edx
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00072	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv78[ebp], 0
$LN16@person_mov:
  0007c	6a 0d		 push	 13			; 0000000dH
  0007e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00081	51		 push	 ecx
  00082	69 95 54 ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv70[ebp], 180
  0008c	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv78[ebp]
  00092	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00099	ff d1		 call	 ecx
  0009b	89 45 c4	 mov	 DWORD PTR _guide$[ebp], eax

; 255  : 
; 256  : 	raw = (person *) get_local_entity_data (en);

  0009e	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000a1	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000a4	89 4d cc	 mov	 DWORD PTR _raw$[ebp], ecx

; 257  : 
; 258  : 	get_keyframed_animation_state (raw->person_animation_state, &state, &remainder);

  000a7	8d 45 a4	 lea	 eax, DWORD PTR _remainder$[ebp]
  000aa	50		 push	 eax
  000ab	8d 4d 9c	 lea	 ecx, DWORD PTR _state$[ebp]
  000ae	51		 push	 ecx
  000af	8b 55 cc	 mov	 edx, DWORD PTR _raw$[ebp]
  000b2	51		 push	 ecx
  000b3	f3 0f 10 82 78
	01 00 00	 movss	 xmm0, DWORD PTR [edx+376]
  000bb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c0	e8 00 00 00 00	 call	 ?get_keyframed_animation_state@@YGXMPAHPAM@Z ; get_keyframed_animation_state

; 259  : 
; 260  : 	if ((!guide) || (raw->vh.sleep > 0.0))

  000c5	83 7d c4 00	 cmp	 DWORD PTR _guide$[ebp], 0
  000c9	74 19		 je	 SHORT $LN3@person_mov
  000cb	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  000ce	f3 0f 5a 80 e8
	00 00 00	 cvtss2sd xmm0, DWORD PTR [eax+232]
  000d6	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  000de	0f 86 a7 00 00
	00		 jbe	 $LN2@person_mov
$LN3@person_mov:

; 261  : 	{
; 262  : 		//no guide - therefore not moving - reset anim state
; 263  : 		if ((state == PERSON_ANIM_WALK) || (state == PERSON_ANIM_RUN))

  000e4	83 7d 9c 01	 cmp	 DWORD PTR _state$[ebp], 1
  000e8	74 06		 je	 SHORT $LN5@person_mov
  000ea	83 7d 9c 02	 cmp	 DWORD PTR _state$[ebp], 2
  000ee	75 07		 jne	 SHORT $LN4@person_mov
$LN5@person_mov:

; 264  : 		{
; 265  : 			state = PERSON_ANIM_NONE;

  000f0	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _state$[ebp], 0
$LN4@person_mov:

; 266  : 		}
; 267  : 
; 268  : 		// if no anim - select stand anim
; 269  : 		if (state == PERSON_ANIM_NONE)

  000f7	83 7d 9c 00	 cmp	 DWORD PTR _state$[ebp], 0
  000fb	0f 85 85 00 00
	00		 jne	 $LN7@person_mov

; 270  : 		{
; 271  : 			state_selector = (rand16 () % 4);

  00101	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0010b	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00110	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00115	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0011b	c1 f9 10	 sar	 ecx, 16			; 00000010H
  0011e	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00124	81 e1 03 00 00
	80		 and	 ecx, -2147483645	; 80000003H
  0012a	79 05		 jns	 SHORT $LN33@person_mov
  0012c	49		 dec	 ecx
  0012d	83 c9 fc	 or	 ecx, -4			; fffffffcH
  00130	41		 inc	 ecx
$LN33@person_mov:
  00131	89 4d a0	 mov	 DWORD PTR _state_selector$[ebp], ecx

; 272  : 
; 273  : 			state = PERSON_ANIM_STAND1 + state_selector;

  00134	8b 45 a0	 mov	 eax, DWORD PTR _state_selector$[ebp]
  00137	83 c0 03	 add	 eax, 3
  0013a	89 45 9c	 mov	 DWORD PTR _state$[ebp], eax

; 274  : 
; 275  : 			remainder = 0.0;

  0013d	0f 57 c0	 xorps	 xmm0, xmm0
  00140	f3 0f 11 45 a4	 movss	 DWORD PTR _remainder$[ebp], xmm0

; 276  : 			
; 277  : 			raw->person_animation_state = state + remainder;

  00145	f3 0f 2a 45 9c	 cvtsi2ss xmm0, DWORD PTR _state$[ebp]
  0014a	f3 0f 58 45 a4	 addss	 xmm0, DWORD PTR _remainder$[ebp]
  0014f	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  00152	f3 0f 11 80 78
	01 00 00	 movss	 DWORD PTR [eax+376], xmm0

; 278  : 
; 279  : 			ASSERT ( raw->person_animation_state < NUM_PERSON_ANIMS );

  0015a	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  0015d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40e00000
  00165	0f 2f 80 78 01
	00 00		 comiss	 xmm0, DWORD PTR [eax+376]
  0016c	77 18		 ja	 SHORT $LN7@person_mov
  0016e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  00173	83 c0 36	 add	 eax, 54			; 00000036H
  00176	50		 push	 eax
  00177	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017c	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@IDBGNLLC@raw?9?$DOperson_animation_state?5?$DM?5N@
  00181	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@person_mov:

; 280  : 		}
; 281  : 
; 282  : 		return;

  00186	e9 b4 03 00 00	 jmp	 $LN1@person_mov
$LN2@person_mov:

; 283  : 	}
; 284  : 
; 285  : 	if (get_local_entity_parent (en, LIST_TYPE_TARGET))

  0018b	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0018f	74 0d		 je	 SHORT $LN17@person_mov
  00191	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00194	8b 08		 mov	 ecx, DWORD PTR [eax]
  00196	89 8d 54 ff ff
	ff		 mov	 DWORD PTR tv149[ebp], ecx
  0019c	eb 20		 jmp	 SHORT $LN18@person_mov
$LN17@person_mov:
  0019e	68 1d 01 00 00	 push	 285			; 0000011dH
  001a3	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ae	52		 push	 edx
  001af	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b4	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv149[ebp], 0
$LN18@person_mov:
  001be	b8 01 00 00 00	 mov	 eax, 1
  001c3	85 c0		 test	 eax, eax
  001c5	74 0c		 je	 SHORT $LN19@person_mov
  001c7	c7 85 50 ff ff
	ff 26 00 00 00	 mov	 DWORD PTR tv156[ebp], 38 ; 00000026H
  001d1	eb 20		 jmp	 SHORT $LN20@person_mov
$LN19@person_mov:
  001d3	68 1d 01 00 00	 push	 285			; 0000011dH
  001d8	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  001dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001e3	51		 push	 ecx
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv156[ebp], 0
$LN20@person_mov:
  001f3	6a 26		 push	 38			; 00000026H
  001f5	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  001f8	52		 push	 edx
  001f9	69 85 54 ff ff
	ff b4 00 00 00	 imul	 eax, DWORD PTR tv149[ebp], 180
  00203	8b 8d 50 ff ff
	ff		 mov	 ecx, DWORD PTR tv156[ebp]
  00209	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[eax+ecx*4]
  00210	ff d2		 call	 edx
  00212	85 c0		 test	 eax, eax
  00214	74 05		 je	 SHORT $LN8@person_mov

; 286  : 	{
; 287  : 		//targetting animation/position
; 288  : 
; 289  : 		return;

  00216	e9 24 03 00 00	 jmp	 $LN1@person_mov
$LN8@person_mov:

; 290  : 	}
; 291  : 
; 292  : 	person_movement_get_waypoint_position (en, &wp_pos);

  0021b	8d 45 d0	 lea	 eax, DWORD PTR _wp_pos$[ebp]
  0021e	50		 push	 eax
  0021f	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00222	51		 push	 ecx
  00223	e8 00 00 00 00	 call	 ?person_movement_get_waypoint_position@@YGXPAUENTITY@@PAUVEC3D@@@Z ; person_movement_get_waypoint_position

; 293  : 
; 294  : 	wp_vec.x = wp_pos.x - raw->vh.mob.position.x;

  00228	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  0022b	f3 0f 10 45 d0	 movss	 xmm0, DWORD PTR _wp_pos$[ebp]
  00230	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  00235	f3 0f 11 45 dc	 movss	 DWORD PTR _wp_vec$[ebp], xmm0

; 295  : 	wp_vec.y = wp_pos.y - raw->vh.mob.position.y;

  0023a	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  0023d	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _wp_pos$[ebp+4]
  00242	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  00247	f3 0f 11 45 e0	 movss	 DWORD PTR _wp_vec$[ebp+4], xmm0

; 296  : 	wp_vec.z = wp_pos.z - raw->vh.mob.position.z;

  0024c	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  0024f	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _wp_pos$[ebp+8]
  00254	f3 0f 5c 40 0c	 subss	 xmm0, DWORD PTR [eax+12]
  00259	f3 0f 11 45 e4	 movss	 DWORD PTR _wp_vec$[ebp+8], xmm0

; 297  : 
; 298  : 	normalised_wp_vec = wp_vec;

  0025e	8b 45 dc	 mov	 eax, DWORD PTR _wp_vec$[ebp]
  00261	89 45 e8	 mov	 DWORD PTR _normalised_wp_vec$[ebp], eax
  00264	8b 4d e0	 mov	 ecx, DWORD PTR _wp_vec$[ebp+4]
  00267	89 4d ec	 mov	 DWORD PTR _normalised_wp_vec$[ebp+4], ecx
  0026a	8b 55 e4	 mov	 edx, DWORD PTR _wp_vec$[ebp+8]
  0026d	89 55 f0	 mov	 DWORD PTR _normalised_wp_vec$[ebp+8], edx

; 299  : 
; 300  : 	distance = normalise_any_3d_vector (&normalised_wp_vec);

  00270	8d 45 e8	 lea	 eax, DWORD PTR _normalised_wp_vec$[ebp]
  00273	50		 push	 eax
  00274	e8 00 00 00 00	 call	 ?normalise_any_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_any_3d_vector
  00279	d9 5d bc	 fstp	 DWORD PTR _distance$[ebp]

; 301  : 
; 302  : 	task = get_local_entity_parent (guide, LIST_TYPE_GUIDE);

  0027c	83 7d c4 00	 cmp	 DWORD PTR _guide$[ebp], 0
  00280	74 0d		 je	 SHORT $LN21@person_mov
  00282	8b 45 c4	 mov	 eax, DWORD PTR _guide$[ebp]
  00285	8b 08		 mov	 ecx, DWORD PTR [eax]
  00287	89 8d 54 ff ff
	ff		 mov	 DWORD PTR tv188[ebp], ecx
  0028d	eb 24		 jmp	 SHORT $LN22@person_mov
$LN21@person_mov:
  0028f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  00295	83 c2 4d	 add	 edx, 77			; 0000004dH
  00298	52		 push	 edx
  00299	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0029e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002a3	50		 push	 eax
  002a4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a9	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv188[ebp], 0
$LN22@person_mov:
  002b3	b9 01 00 00 00	 mov	 ecx, 1
  002b8	85 c9		 test	 ecx, ecx
  002ba	74 0c		 je	 SHORT $LN23@person_mov
  002bc	c7 85 50 ff ff
	ff 10 00 00 00	 mov	 DWORD PTR tv196[ebp], 16 ; 00000010H
  002c6	eb 24		 jmp	 SHORT $LN24@person_mov
$LN23@person_mov:
  002c8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  002ce	83 c2 4d	 add	 edx, 77			; 0000004dH
  002d1	52		 push	 edx
  002d2	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  002d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  002dc	50		 push	 eax
  002dd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002e2	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv196[ebp], 0
$LN24@person_mov:
  002ec	6a 10		 push	 16			; 00000010H
  002ee	8b 4d c4	 mov	 ecx, DWORD PTR _guide$[ebp]
  002f1	51		 push	 ecx
  002f2	69 95 54 ff ff
	ff b4 00 00 00	 imul	 edx, DWORD PTR tv188[ebp], 180
  002fc	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv196[ebp]
  00302	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00309	ff d1		 call	 ecx
  0030b	89 45 c8	 mov	 DWORD PTR _task$[ebp], eax

; 303  : 
; 304  : 	ASSERT (task);

  0030e	83 7d c8 00	 cmp	 DWORD PTR _task$[ebp], 0
  00312	75 18		 jne	 SHORT $LN9@person_mov
  00314	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  00319	83 c0 4f	 add	 eax, 79			; 0000004fH
  0031c	50		 push	 eax
  0031d	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00322	68 00 00 00 00	 push	 OFFSET ??_C@_04GGKLLKOO@task@
  00327	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN9@person_mov:

; 305  : 
; 306  : 	if (get_local_entity_int_value (task, INT_TYPE_ENTITY_SUB_TYPE) == ENTITY_SUB_TYPE_TASK_TROOP_MOVEMENT_INSERT_CAPTURE)

  0032c	83 7d c8 00	 cmp	 DWORD PTR _task$[ebp], 0
  00330	74 0d		 je	 SHORT $LN25@person_mov
  00332	8b 45 c8	 mov	 eax, DWORD PTR _task$[ebp]
  00335	8b 08		 mov	 ecx, DWORD PTR [eax]
  00337	89 8d 54 ff ff
	ff		 mov	 DWORD PTR tv212[ebp], ecx
  0033d	eb 20		 jmp	 SHORT $LN26@person_mov
$LN25@person_mov:
  0033f	68 32 01 00 00	 push	 306			; 00000132H
  00344	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  00349	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0034f	52		 push	 edx
  00350	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00355	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv212[ebp], 0
$LN26@person_mov:
  0035f	b8 01 00 00 00	 mov	 eax, 1
  00364	85 c0		 test	 eax, eax
  00366	74 0c		 je	 SHORT $LN27@person_mov
  00368	c7 85 50 ff ff
	ff 34 00 00 00	 mov	 DWORD PTR tv219[ebp], 52 ; 00000034H
  00372	eb 20		 jmp	 SHORT $LN28@person_mov
$LN27@person_mov:
  00374	68 32 01 00 00	 push	 306			; 00000132H
  00379	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0037e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00384	51		 push	 ecx
  00385	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0038a	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv219[ebp], 0
$LN28@person_mov:
  00394	6a 34		 push	 52			; 00000034H
  00396	8b 55 c8	 mov	 edx, DWORD PTR _task$[ebp]
  00399	52		 push	 edx
  0039a	69 85 54 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv212[ebp], 1116
  003a4	8b 8d 50 ff ff
	ff		 mov	 ecx, DWORD PTR tv219[ebp]
  003aa	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  003b1	ff d2		 call	 edx
  003b3	83 f8 1b	 cmp	 eax, 27			; 0000001bH
  003b6	75 09		 jne	 SHORT $LN10@person_mov

; 307  : 	{
; 308  : 
; 309  : 		// if capturing airbase "run"
; 310  : 		state = PERSON_ANIM_RUN;

  003b8	c7 45 9c 02 00
	00 00		 mov	 DWORD PTR _state$[ebp], 2

; 311  : 	}
; 312  : 	else

  003bf	eb 07		 jmp	 SHORT $LN11@person_mov
$LN10@person_mov:

; 313  : 	{
; 314  : 
; 315  : 		state = PERSON_ANIM_WALK;

  003c1	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _state$[ebp], 1
$LN11@person_mov:

; 316  : 	}
; 317  : 
; 318  : 	ps_vel = get_person_database_velocity ((person_animations) state);

  003c8	8b 45 9c	 mov	 eax, DWORD PTR _state$[ebp]
  003cb	50		 push	 eax
  003cc	e8 00 00 00 00	 call	 ?get_person_database_velocity@@YGMW4PERSON_ANIMATIONS@@@Z ; get_person_database_velocity
  003d1	d9 5d c0	 fstp	 DWORD PTR _ps_vel$[ebp]

; 319  : 
; 320  : 	raw->person_animation_state = state + remainder;

  003d4	f3 0f 2a 45 9c	 cvtsi2ss xmm0, DWORD PTR _state$[ebp]
  003d9	f3 0f 58 45 a4	 addss	 xmm0, DWORD PTR _remainder$[ebp]
  003de	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  003e1	f3 0f 11 80 78
	01 00 00	 movss	 DWORD PTR [eax+376], xmm0

; 321  : 
; 322  : 	movement_distance = min (ps_vel * get_entity_movement_delta_time (), distance);

  003e9	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _ps_vel$[ebp]
  003ee	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  003f6	f3 0f 11 85 58
	ff ff ff	 movss	 DWORD PTR $T1[ebp], xmm0
  003fe	8d 45 bc	 lea	 eax, DWORD PTR _distance$[ebp]
  00401	50		 push	 eax
  00402	8d 8d 58 ff ff
	ff		 lea	 ecx, DWORD PTR $T1[ebp]
  00408	51		 push	 ecx
  00409	e8 00 00 00 00	 call	 ??$min@M@std@@YGABMABM0@Z ; std::min<float>
  0040e	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00412	f3 0f 11 45 b8	 movss	 DWORD PTR _movement_distance$[ebp], xmm0

; 323  : 
; 324  : 	x_inc = normalised_wp_vec.x * movement_distance;

  00417	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _normalised_wp_vec$[ebp]
  0041c	f3 0f 59 45 b8	 mulss	 xmm0, DWORD PTR _movement_distance$[ebp]
  00421	f3 0f 11 45 b0	 movss	 DWORD PTR _x_inc$[ebp], xmm0

; 325  : 	y_inc = normalised_wp_vec.y * movement_distance;

  00426	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _normalised_wp_vec$[ebp+4]
  0042b	f3 0f 59 45 b8	 mulss	 xmm0, DWORD PTR _movement_distance$[ebp]
  00430	f3 0f 11 45 ac	 movss	 DWORD PTR _y_inc$[ebp], xmm0

; 326  : 	z_inc = normalised_wp_vec.z * movement_distance;

  00435	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _normalised_wp_vec$[ebp+8]
  0043a	f3 0f 59 45 b8	 mulss	 xmm0, DWORD PTR _movement_distance$[ebp]
  0043f	f3 0f 11 45 a8	 movss	 DWORD PTR _z_inc$[ebp], xmm0

; 327  : 
; 328  : 	new_pos.x = raw->vh.mob.position.x + x_inc;

  00444	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  00447	f3 0f 10 40 04	 movss	 xmm0, DWORD PTR [eax+4]
  0044c	f3 0f 58 45 b0	 addss	 xmm0, DWORD PTR _x_inc$[ebp]
  00451	f3 0f 11 45 f4	 movss	 DWORD PTR _new_pos$[ebp], xmm0

; 329  : 	new_pos.y = raw->vh.mob.position.y + y_inc;

  00456	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  00459	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  0045e	f3 0f 58 45 ac	 addss	 xmm0, DWORD PTR _y_inc$[ebp]
  00463	f3 0f 11 45 f8	 movss	 DWORD PTR _new_pos$[ebp+4], xmm0

; 330  : 	new_pos.z = raw->vh.mob.position.z + z_inc;

  00468	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  0046b	f3 0f 10 40 0c	 movss	 xmm0, DWORD PTR [eax+12]
  00470	f3 0f 58 45 a8	 addss	 xmm0, DWORD PTR _z_inc$[ebp]
  00475	f3 0f 11 45 fc	 movss	 DWORD PTR _new_pos$[ebp+8], xmm0

; 331  : 
; 332  : 	heading = atan2 (normalised_wp_vec.x, normalised_wp_vec.z);

  0047a	51		 push	 ecx
  0047b	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _normalised_wp_vec$[ebp+8]
  00480	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00485	51		 push	 ecx
  00486	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _normalised_wp_vec$[ebp]
  0048b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00490	e8 00 00 00 00	 call	 ?atan2@@YGMMM@Z		; atan2
  00495	d9 5d b4	 fstp	 DWORD PTR _heading$[ebp]

; 333  : 
; 334  : 	get_3d_transformation_heading_matrix (raw->vh.mob.attitude, heading);

  00498	51		 push	 ecx
  00499	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR _heading$[ebp]
  0049e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004a3	8b 45 cc	 mov	 eax, DWORD PTR _raw$[ebp]
  004a6	83 c0 10	 add	 eax, 16			; 00000010H
  004a9	50		 push	 eax
  004aa	e8 00 00 00 00	 call	 ?get_3d_transformation_heading_matrix@@YGXQAY02MM@Z ; get_3d_transformation_heading_matrix

; 335  : 
; 336  : 	set_local_entity_vec3d (en, VEC3D_TYPE_POSITION, &new_pos);

  004af	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  004b3	74 0d		 je	 SHORT $LN29@person_mov
  004b5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  004b8	8b 08		 mov	 ecx, DWORD PTR [eax]
  004ba	89 8d 54 ff ff
	ff		 mov	 DWORD PTR tv299[ebp], ecx
  004c0	eb 24		 jmp	 SHORT $LN30@person_mov
$LN29@person_mov:
  004c2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  004c8	83 c2 6f	 add	 edx, 111		; 0000006fH
  004cb	52		 push	 edx
  004cc	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  004d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004d6	50		 push	 eax
  004d7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004dc	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv299[ebp], 0
$LN30@person_mov:
  004e6	b9 01 00 00 00	 mov	 ecx, 1
  004eb	85 c9		 test	 ecx, ecx
  004ed	74 0c		 je	 SHORT $LN31@person_mov
  004ef	c7 85 50 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv307[ebp], 8
  004f9	eb 24		 jmp	 SHORT $LN32@person_mov
$LN31@person_mov:
  004fb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??person_movement@@YGXPAUENTITY@@@Z@4JA
  00501	83 c2 6f	 add	 edx, 111		; 0000006fH
  00504	52		 push	 edx
  00505	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@GFKMAIFP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0050a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0050f	50		 push	 eax
  00510	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00515	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv307[ebp], 0
$LN32@person_mov:
  0051f	8d 4d f4	 lea	 ecx, DWORD PTR _new_pos$[ebp]
  00522	51		 push	 ecx
  00523	6a 08		 push	 8
  00525	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00528	52		 push	 edx
  00529	6b 85 54 ff ff
	ff 60		 imul	 eax, DWORD PTR tv299[ebp], 96
  00530	8b 8d 50 ff ff
	ff		 mov	 ecx, DWORD PTR tv307[ebp]
  00536	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0053d	ff d2		 call	 edx
$LN1@person_mov:

; 337  : }

  0053f	5f		 pop	 edi
  00540	5e		 pop	 esi
  00541	5b		 pop	 ebx
  00542	8b e5		 mov	 esp, ebp
  00544	5d		 pop	 ebp
  00545	c2 04 00	 ret	 4
?person_movement@@YGXPAUENTITY@@@Z ENDP			; person_movement
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?atan2@@YGMMM@Z
_TEXT	SEGMENT
__Yx$ = 8						; size = 4
__Xx$ = 12						; size = 4
?atan2@@YGMMM@Z PROC					; atan2, COMDAT

; 56   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 57   : 	return (_CSTD atan2f(_Yx, _Xx));

  00009	51		 push	 ecx
  0000a	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR __Xx$[ebp]
  0000f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00014	51		 push	 ecx
  00015	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR __Yx$[ebp]
  0001a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0001f	e8 00 00 00 00	 call	 _atan2f
  00024	83 c4 08	 add	 esp, 8

; 58   : 	}

  00027	5f		 pop	 edi
  00028	5e		 pop	 esi
  00029	5b		 pop	 ebx
  0002a	8b e5		 mov	 esp, ebp
  0002c	5d		 pop	 ebp
  0002d	c2 08 00	 ret	 8
?atan2@@YGMMM@Z ENDP					; atan2
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.18362.0\ucrt\corecrt_math.h
;	COMDAT _atan2f
_TEXT	SEGMENT
tv74 = -68						; size = 4
__Y$ = 8						; size = 4
__X$ = 12						; size = 4
_atan2f	PROC						; COMDAT

; 633  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 634  :             return (float)atan2(_Y, _X);

  00009	f3 0f 5a 45 0c	 cvtss2sd xmm0, DWORD PTR __X$[ebp]
  0000e	83 ec 08	 sub	 esp, 8
  00011	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00016	f3 0f 5a 45 08	 cvtss2sd xmm0, DWORD PTR __Y$[ebp]
  0001b	83 ec 08	 sub	 esp, 8
  0001e	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00023	e8 00 00 00 00	 call	 _atan2
  00028	83 c4 10	 add	 esp, 16			; 00000010H
  0002b	d9 5d bc	 fstp	 DWORD PTR tv74[ebp]
  0002e	d9 45 bc	 fld	 DWORD PTR tv74[ebp]

; 635  :         }

  00031	5f		 pop	 edi
  00032	5e		 pop	 esi
  00033	5b		 pop	 ebx
  00034	8b e5		 mov	 esp, ebp
  00036	5d		 pop	 ebp
  00037	c3		 ret	 0
_atan2f	ENDP
_TEXT	ENDS
END
