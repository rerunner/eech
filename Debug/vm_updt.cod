; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\views\vm_updt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?update_view@@YGXXZ				; update_view
PUBLIC	??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ ; `string'
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?update_joystick_pov_position@@YGXXZ:PROC	; update_joystick_pov_position
EXTRN	?update_external_view@@YGXXZ:PROC		; update_external_view
EXTRN	?update_fixed_cockpit_view@@YGXXZ:PROC		; update_fixed_cockpit_view
EXTRN	?get_nearest_fixed_cockpit_view@@YG?AW4VIEW_MODES@@MM@Z:PROC ; get_nearest_fixed_cockpit_view
EXTRN	?set_view_mode@@YGHW4VIEW_MODES@@@Z:PROC	; set_view_mode
EXTRN	?update_view_menu@@YGXXZ:PROC			; update_view_menu
EXTRN	?update_safe_view@@YGXXZ:PROC			; update_safe_view
EXTRN	?update_virtual_cockpit_view@@YGXXZ:PROC	; update_virtual_cockpit_view
EXTRN	?update_virtual_cockpit_track_target_view@@YGXXZ:PROC ; update_virtual_cockpit_track_target_view
EXTRN	?update_virtual_cockpit_crew_view@@YGXXZ:PROC	; update_virtual_cockpit_crew_view
EXTRN	?update_virtual_cockpit_hud_view@@YGXXZ:PROC	; update_virtual_cockpit_hud_view
EXTRN	?update_virtual_cockpit_display_view@@YGXXZ:PROC ; update_virtual_cockpit_display_view
EXTRN	?get_pilot_head_viewpoint@@YGXXZ:PROC		; get_pilot_head_viewpoint
EXTRN	?update_virtual_cockpit_periscope_view@@YGXXZ:PROC ; update_virtual_cockpit_periscope_view
EXTRN	?update_virtual_cockpit_padlock_view@@YGXXZ:PROC ; update_virtual_cockpit_padlock_view
EXTRN	?application_video_colourdepth@@3HA:DWORD	; application_video_colourdepth
EXTRN	?command_line_mouse_look@@3HA:DWORD		; command_line_mouse_look
EXTRN	?global_aphavoc_maps@@3HA:DWORD			; global_aphavoc_maps
EXTRN	?new_gunship@@3QBDB:BYTE			; new_gunship
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?full_screen_hi_res@@3HA:DWORD			; full_screen_hi_res
EXTRN	?main_vp@@3UVIEWPOINT@@A:BYTE			; main_vp
EXTRN	?view_mode@@3W4VIEW_MODES@@A:DWORD		; view_mode
EXTRN	?in_cockpit@@3HA:DWORD				; in_cockpit
EXTRN	?pilot_head_heading@@3MA:DWORD			; pilot_head_heading
EXTRN	?pilot_head_pitch@@3MA:DWORD			; pilot_head_pitch
EXTRN	?pilot_head_vp@@3UVIEWPOINT@@A:BYTE		; pilot_head_vp
EXTRN	?joystick_pov_engage@@3HA:DWORD			; joystick_pov_engage
EXTRN	?joystick_pov_disengage@@3HA:DWORD		; joystick_pov_disengage
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ DB 'Invalid view mod'
	DB	'e = %d', 00H				; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_updt.c
;	COMDAT ?update_view@@YGXXZ
_TEXT	SEGMENT
tv78 = -68						; size = 4
?update_view@@YGXXZ PROC				; update_view, COMDAT

; 74   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 75   : 	update_view_menu ();

  00009	e8 00 00 00 00	 call	 ?update_view_menu@@YGXXZ ; update_view_menu

; 76   : 
; 77   : 	update_joystick_pov_position ();

  0000e	e8 00 00 00 00	 call	 ?update_joystick_pov_position@@YGXXZ ; update_joystick_pov_position

; 78   : 
; 79   : 	if (in_cockpit)

  00013	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?in_cockpit@@3HA, 0 ; in_cockpit
  0001a	0f 84 8a 00 00
	00		 je	 $LN11@update_vie

; 80   : 	{
; 81   :                 if ((command_line_mouse_look == MOUSELOOK_ON) && ((view_mode == VIEW_MODE_VIRTUAL_COCKPIT_PERISCOPE) || (view_mode == VIEW_MODE_VIRTUAL_COCKPIT)))

  00020	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?command_line_mouse_look@@3HA, 3 ; command_line_mouse_look
  00027	75 14		 jne	 SHORT $LN5@update_vie
  00029	83 3d 00 00 00
	00 25		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 37 ; view_mode, 00000025H
  00030	74 09		 je	 SHORT $LN7@update_vie
  00032	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 32 ; view_mode, 00000020H
  00039	75 02		 jne	 SHORT $LN5@update_vie
$LN7@update_vie:

; 82   :                 {
; 83   :                     
; 84   :                 }
; 85   :                 else if (joystick_pov_engage)

  0003b	eb 6d		 jmp	 SHORT $LN11@update_vie
$LN5@update_vie:
  0003d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?joystick_pov_engage@@3HA, 0 ; joystick_pov_engage
  00044	74 09		 je	 SHORT $LN8@update_vie

; 86   : 		{
; 87   : 			set_view_mode (VIEW_MODE_VIRTUAL_COCKPIT);

  00046	6a 20		 push	 32			; 00000020H
  00048	e8 00 00 00 00	 call	 ?set_view_mode@@YGHW4VIEW_MODES@@@Z ; set_view_mode
  0004d	eb 5b		 jmp	 SHORT $LN11@update_vie
$LN8@update_vie:

; 88   : 		}
; 89   : 		else if (joystick_pov_disengage)

  0004f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?joystick_pov_disengage@@3HA, 0 ; joystick_pov_disengage
  00056	74 52		 je	 SHORT $LN11@update_vie

; 90   : 		{
; 91   : 			if (get_apache_havoc_gunship_fixed_cockpit ())

  00058	a1 0c 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  0005d	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?new_gunship@@3QBDB[eax]
  00064	85 c9		 test	 ecx, ecx
  00066	75 42		 jne	 SHORT $LN11@update_vie
  00068	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?full_screen_hi_res@@3HA, 0 ; full_screen_hi_res
  0006f	75 39		 jne	 SHORT $LN11@update_vie
  00071	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?application_video_colourdepth@@3HA, 16 ; application_video_colourdepth, 00000010H
  00078	75 30		 jne	 SHORT $LN11@update_vie
  0007a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?global_aphavoc_maps@@3HA, 0 ; global_aphavoc_maps
  00081	74 27		 je	 SHORT $LN11@update_vie

; 92   : 			{
; 93   : 				set_view_mode (get_nearest_fixed_cockpit_view (pilot_head_heading, pilot_head_pitch));

  00083	51		 push	 ecx
  00084	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch@@3MA
  0008c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00091	51		 push	 ecx
  00092	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_heading@@3MA
  0009a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0009f	e8 00 00 00 00	 call	 ?get_nearest_fixed_cockpit_view@@YG?AW4VIEW_MODES@@MM@Z ; get_nearest_fixed_cockpit_view
  000a4	50		 push	 eax
  000a5	e8 00 00 00 00	 call	 ?set_view_mode@@YGHW4VIEW_MODES@@@Z ; set_view_mode
$LN11@update_vie:

; 94   : 			}
; 95   : 		}
; 96   : 	}
; 97   : 
; 98   :    switch (view_mode)

  000aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  000af	89 45 bc	 mov	 DWORD PTR tv78[ebp], eax
  000b2	83 7d bc 2b	 cmp	 DWORD PTR tv78[ebp], 43	; 0000002bH
  000b6	0f 87 92 01 00
	00		 ja	 $LN56@update_vie
  000bc	8b 4d bc	 mov	 ecx, DWORD PTR tv78[ebp]
  000bf	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN58@update_vie[ecx*4]
$LN12@update_vie:

; 99   :    {
; 100  :       ////////////////////////////////////////
; 101  :       case VIEW_MODE_COCKPIT_PANEL_UP40_LEFT90:
; 102  :       ////////////////////////////////////////
; 103  :       {
; 104  : 			update_fixed_cockpit_view ();

  000c6	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 105  : 
; 106  : 			break;

  000cb	e9 91 01 00 00	 jmp	 $LN2@update_vie
$LN13@update_vie:

; 107  :       }
; 108  :       ////////////////////////////////////////
; 109  :       case VIEW_MODE_COCKPIT_PANEL_UP40_LEFT60:
; 110  :       ////////////////////////////////////////
; 111  :       {
; 112  : 			update_fixed_cockpit_view ();

  000d0	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 113  : 
; 114  :          break;

  000d5	e9 87 01 00 00	 jmp	 $LN2@update_vie
$LN14@update_vie:

; 115  :       }
; 116  :       ////////////////////////////////////////
; 117  :       case VIEW_MODE_COCKPIT_PANEL_UP40_LEFT30:
; 118  :       ////////////////////////////////////////
; 119  :       {
; 120  : 			update_fixed_cockpit_view ();

  000da	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 121  : 
; 122  :          break;

  000df	e9 7d 01 00 00	 jmp	 $LN2@update_vie
$LN15@update_vie:

; 123  :       }
; 124  :       ////////////////////////////////////////
; 125  :       case VIEW_MODE_COCKPIT_PANEL_UP40_AHEAD:
; 126  :       ////////////////////////////////////////
; 127  :       {
; 128  : 			update_fixed_cockpit_view ();

  000e4	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 129  : 
; 130  :          break;

  000e9	e9 73 01 00 00	 jmp	 $LN2@update_vie
$LN16@update_vie:

; 131  :       }
; 132  :       ////////////////////////////////////////
; 133  :       case VIEW_MODE_COCKPIT_PANEL_UP40_RIGHT30:
; 134  :       ////////////////////////////////////////
; 135  :       {
; 136  : 			update_fixed_cockpit_view ();

  000ee	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 137  : 
; 138  :          break;

  000f3	e9 69 01 00 00	 jmp	 $LN2@update_vie
$LN17@update_vie:

; 139  :       }
; 140  :       ////////////////////////////////////////
; 141  :       case VIEW_MODE_COCKPIT_PANEL_UP40_RIGHT60:
; 142  :       ////////////////////////////////////////
; 143  :       {
; 144  : 			update_fixed_cockpit_view ();

  000f8	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 145  : 
; 146  :          break;

  000fd	e9 5f 01 00 00	 jmp	 $LN2@update_vie
$LN18@update_vie:

; 147  :       }
; 148  :       ////////////////////////////////////////
; 149  :       case VIEW_MODE_COCKPIT_PANEL_UP40_RIGHT90:
; 150  :       ////////////////////////////////////////
; 151  :       {
; 152  : 			update_fixed_cockpit_view ();

  00102	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 153  : 
; 154  :          break;

  00107	e9 55 01 00 00	 jmp	 $LN2@update_vie
$LN19@update_vie:

; 155  :       }
; 156  :       ////////////////////////////////////////
; 157  :       case VIEW_MODE_COCKPIT_PANEL_UP20_LEFT90:
; 158  :       ////////////////////////////////////////
; 159  :       {
; 160  : 			update_fixed_cockpit_view ();

  0010c	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 161  : 
; 162  :          break;

  00111	e9 4b 01 00 00	 jmp	 $LN2@update_vie
$LN20@update_vie:

; 163  :       }
; 164  :       ////////////////////////////////////////
; 165  :       case VIEW_MODE_COCKPIT_PANEL_UP20_LEFT60:
; 166  :       ////////////////////////////////////////
; 167  :       {
; 168  : 			update_fixed_cockpit_view ();

  00116	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 169  : 
; 170  :          break;

  0011b	e9 41 01 00 00	 jmp	 $LN2@update_vie
$LN21@update_vie:

; 171  :       }
; 172  :       ////////////////////////////////////////
; 173  :       case VIEW_MODE_COCKPIT_PANEL_UP20_LEFT30:
; 174  :       ////////////////////////////////////////
; 175  :       {
; 176  : 			update_fixed_cockpit_view ();

  00120	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 177  : 
; 178  :          break;

  00125	e9 37 01 00 00	 jmp	 $LN2@update_vie
$LN22@update_vie:

; 179  :       }
; 180  :       ////////////////////////////////////////
; 181  :       case VIEW_MODE_COCKPIT_PANEL_UP20_AHEAD:
; 182  :       ////////////////////////////////////////
; 183  :       {
; 184  : 			update_fixed_cockpit_view ();

  0012a	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 185  : 
; 186  :          break;

  0012f	e9 2d 01 00 00	 jmp	 $LN2@update_vie
$LN23@update_vie:

; 187  :       }
; 188  :       ////////////////////////////////////////
; 189  :       case VIEW_MODE_COCKPIT_PANEL_UP20_RIGHT30:
; 190  :       ////////////////////////////////////////
; 191  :       {
; 192  : 			update_fixed_cockpit_view ();

  00134	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 193  : 
; 194  :          break;

  00139	e9 23 01 00 00	 jmp	 $LN2@update_vie
$LN24@update_vie:

; 195  :       }
; 196  :       ////////////////////////////////////////
; 197  :       case VIEW_MODE_COCKPIT_PANEL_UP20_RIGHT60:
; 198  :       ////////////////////////////////////////
; 199  :       {
; 200  : 			update_fixed_cockpit_view ();

  0013e	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 201  : 
; 202  :          break;

  00143	e9 19 01 00 00	 jmp	 $LN2@update_vie
$LN25@update_vie:

; 203  :       }
; 204  :       ////////////////////////////////////////
; 205  :       case VIEW_MODE_COCKPIT_PANEL_UP20_RIGHT90:
; 206  :       ////////////////////////////////////////
; 207  :       {
; 208  : 			update_fixed_cockpit_view ();

  00148	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 209  : 
; 210  :          break;

  0014d	e9 0f 01 00 00	 jmp	 $LN2@update_vie
$LN26@update_vie:

; 211  :       }
; 212  :       ////////////////////////////////////////
; 213  :       case VIEW_MODE_COCKPIT_PANEL_LEVEL_LEFT90:
; 214  :       ////////////////////////////////////////
; 215  :       {
; 216  : 			update_fixed_cockpit_view ();

  00152	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 217  : 
; 218  :          break;

  00157	e9 05 01 00 00	 jmp	 $LN2@update_vie
$LN27@update_vie:

; 219  :       }
; 220  :       ////////////////////////////////////////
; 221  :       case VIEW_MODE_COCKPIT_PANEL_LEVEL_LEFT60:
; 222  :       ////////////////////////////////////////
; 223  :       {
; 224  : 			update_fixed_cockpit_view ();

  0015c	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 225  : 
; 226  :          break;

  00161	e9 fb 00 00 00	 jmp	 $LN2@update_vie
$LN28@update_vie:

; 227  :       }
; 228  :       ////////////////////////////////////////
; 229  :       case VIEW_MODE_COCKPIT_PANEL_LEVEL_LEFT30:
; 230  :       ////////////////////////////////////////
; 231  :       {
; 232  : 			update_fixed_cockpit_view ();

  00166	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 233  : 
; 234  :          break;

  0016b	e9 f1 00 00 00	 jmp	 $LN2@update_vie
$LN29@update_vie:

; 235  :       }
; 236  :       ////////////////////////////////////////
; 237  :       case VIEW_MODE_COCKPIT_PANEL_LEVEL_AHEAD:
; 238  :       ////////////////////////////////////////
; 239  :       {
; 240  : 			update_fixed_cockpit_view ();

  00170	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 241  : 
; 242  :          break;

  00175	e9 e7 00 00 00	 jmp	 $LN2@update_vie
$LN30@update_vie:

; 243  :       }
; 244  :       ////////////////////////////////////////
; 245  :       case VIEW_MODE_COCKPIT_PANEL_LEVEL_RIGHT30:
; 246  :       ////////////////////////////////////////
; 247  :       {
; 248  : 			update_fixed_cockpit_view ();

  0017a	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 249  : 
; 250  :          break;

  0017f	e9 dd 00 00 00	 jmp	 $LN2@update_vie
$LN31@update_vie:

; 251  :       }
; 252  :       ////////////////////////////////////////
; 253  :       case VIEW_MODE_COCKPIT_PANEL_LEVEL_RIGHT60:
; 254  :       ////////////////////////////////////////
; 255  :       {
; 256  : 			update_fixed_cockpit_view ();

  00184	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 257  : 
; 258  :          break;

  00189	e9 d3 00 00 00	 jmp	 $LN2@update_vie
$LN32@update_vie:

; 259  :       }
; 260  :       ////////////////////////////////////////
; 261  :       case VIEW_MODE_COCKPIT_PANEL_LEVEL_RIGHT90:
; 262  :       ////////////////////////////////////////
; 263  :       {
; 264  : 			update_fixed_cockpit_view ();

  0018e	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 265  : 
; 266  :          break;

  00193	e9 c9 00 00 00	 jmp	 $LN2@update_vie
$LN33@update_vie:

; 267  :       }
; 268  :       ////////////////////////////////////////
; 269  :       case VIEW_MODE_COCKPIT_PANEL_DOWN20_LEFT90:
; 270  :       ////////////////////////////////////////
; 271  :       {
; 272  : 			update_fixed_cockpit_view ();

  00198	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 273  : 
; 274  :          break;

  0019d	e9 bf 00 00 00	 jmp	 $LN2@update_vie
$LN34@update_vie:

; 275  :       }
; 276  :       ////////////////////////////////////////
; 277  :       case VIEW_MODE_COCKPIT_PANEL_DOWN20_LEFT60:
; 278  :       ////////////////////////////////////////
; 279  :       {
; 280  : 			update_fixed_cockpit_view ();

  001a2	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 281  : 
; 282  :          break;

  001a7	e9 b5 00 00 00	 jmp	 $LN2@update_vie
$LN35@update_vie:

; 283  :       }
; 284  :       ////////////////////////////////////////
; 285  :       case VIEW_MODE_COCKPIT_PANEL_DOWN20_LEFT30:
; 286  :       ////////////////////////////////////////
; 287  :       {
; 288  : 			update_fixed_cockpit_view ();

  001ac	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 289  : 
; 290  : 			break;

  001b1	e9 ab 00 00 00	 jmp	 $LN2@update_vie
$LN36@update_vie:

; 291  : 		}
; 292  : 		////////////////////////////////////////
; 293  : 		case VIEW_MODE_COCKPIT_PANEL_DOWN20_AHEAD:
; 294  : 		////////////////////////////////////////
; 295  : 		{
; 296  : 			update_fixed_cockpit_view ();

  001b6	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 297  : 
; 298  : 			break;

  001bb	e9 a1 00 00 00	 jmp	 $LN2@update_vie
$LN37@update_vie:

; 299  : 		}
; 300  : 		////////////////////////////////////////
; 301  : 		case VIEW_MODE_COCKPIT_PANEL_DOWN20_RIGHT30:
; 302  : 		////////////////////////////////////////
; 303  : 		{
; 304  : 			update_fixed_cockpit_view ();

  001c0	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 305  : 
; 306  : 			break;

  001c5	e9 97 00 00 00	 jmp	 $LN2@update_vie
$LN38@update_vie:

; 307  : 		}
; 308  : 		////////////////////////////////////////
; 309  : 		case VIEW_MODE_COCKPIT_PANEL_DOWN20_RIGHT60:
; 310  : 		////////////////////////////////////////
; 311  : 		{
; 312  : 			update_fixed_cockpit_view ();

  001ca	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 313  : 
; 314  : 			break;

  001cf	e9 8d 00 00 00	 jmp	 $LN2@update_vie
$LN39@update_vie:

; 315  : 		}
; 316  : 		////////////////////////////////////////
; 317  : 		case VIEW_MODE_COCKPIT_PANEL_DOWN20_RIGHT90:
; 318  : 		////////////////////////////////////////
; 319  : 		{
; 320  : 			update_fixed_cockpit_view ();

  001d4	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 321  : 
; 322  : 			break;

  001d9	e9 83 00 00 00	 jmp	 $LN2@update_vie
$LN40@update_vie:

; 323  : 		}
; 324  : 		////////////////////////////////////////
; 325  : 		case VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_LHS_MFD:
; 326  : 		////////////////////////////////////////
; 327  : 		{
; 328  : 			update_fixed_cockpit_view ();

  001de	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 329  : 
; 330  : 			break;

  001e3	eb 7c		 jmp	 SHORT $LN2@update_vie
$LN41@update_vie:

; 331  : 		}
; 332  : 		////////////////////////////////////////
; 333  : 		case VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_RHS_MFD:
; 334  : 		////////////////////////////////////////
; 335  : 		{
; 336  : 			update_fixed_cockpit_view ();

  001e5	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 337  : 
; 338  : 			break;

  001ea	eb 75		 jmp	 SHORT $LN2@update_vie
$LN42@update_vie:

; 339  : 		}
; 340  : 		////////////////////////////////////////
; 341  : 		case VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_TV:
; 342  : 		////////////////////////////////////////
; 343  : 		{
; 344  : 			update_fixed_cockpit_view ();

  001ec	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 345  : 
; 346  : 			break;

  001f1	eb 6e		 jmp	 SHORT $LN2@update_vie
$LN43@update_vie:

; 347  : 		}
; 348  : 		////////////////////////////////////////
; 349  : 		case VIEW_MODE_COCKPIT_PANEL_SPECIAL_HAVOC_HUD:
; 350  : 		////////////////////////////////////////
; 351  : 		{
; 352  : 			update_fixed_cockpit_view ();

  001f3	e8 00 00 00 00	 call	 ?update_fixed_cockpit_view@@YGXXZ ; update_fixed_cockpit_view

; 353  : 
; 354  : 			break;

  001f8	eb 67		 jmp	 SHORT $LN2@update_vie
$LN44@update_vie:

; 355  : 		}
; 356  : 		////////////////////////////////////////
; 357  : 		case VIEW_MODE_VIRTUAL_COCKPIT:
; 358  : 		////////////////////////////////////////
; 359  : 		{
; 360  : 			update_virtual_cockpit_view ();

  001fa	e8 00 00 00 00	 call	 ?update_virtual_cockpit_view@@YGXXZ ; update_virtual_cockpit_view

; 361  : 
; 362  : 			break;

  001ff	eb 60		 jmp	 SHORT $LN2@update_vie
$LN45@update_vie:

; 363  : 		}
; 364  : 		////////////////////////////////////////
; 365  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PADLOCK:
; 366  : 		////////////////////////////////////////
; 367  : 		{
; 368  : 			update_virtual_cockpit_padlock_view ();

  00201	e8 00 00 00 00	 call	 ?update_virtual_cockpit_padlock_view@@YGXXZ ; update_virtual_cockpit_padlock_view

; 369  : 
; 370  : 			break;

  00206	eb 59		 jmp	 SHORT $LN2@update_vie
$LN46@update_vie:

; 371  : 		}
; 372  : 		////////////////////////////////////////
; 373  : 		case VIEW_MODE_VIRTUAL_COCKPIT_TRACK_TARGET:
; 374  : 		////////////////////////////////////////
; 375  : 		{
; 376  : 			update_virtual_cockpit_track_target_view ();

  00208	e8 00 00 00 00	 call	 ?update_virtual_cockpit_track_target_view@@YGXXZ ; update_virtual_cockpit_track_target_view

; 377  : 
; 378  : 			break;

  0020d	eb 52		 jmp	 SHORT $LN2@update_vie
$LN47@update_vie:

; 379  : 		}
; 380  : 		////////////////////////////////////////
; 381  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CREW:
; 382  : 		////////////////////////////////////////
; 383  : 		{
; 384  : 			update_virtual_cockpit_crew_view ();

  0020f	e8 00 00 00 00	 call	 ?update_virtual_cockpit_crew_view@@YGXXZ ; update_virtual_cockpit_crew_view

; 385  : 
; 386  : 			break;

  00214	eb 4b		 jmp	 SHORT $LN2@update_vie
$LN48@update_vie:

; 387  : 		}
; 388  : 		////////////////////////////////////////
; 389  : 		case VIEW_MODE_VIRTUAL_COCKPIT_HUD:
; 390  : 		////////////////////////////////////////
; 391  : 		{
; 392  : 			update_virtual_cockpit_hud_view ();

  00216	e8 00 00 00 00	 call	 ?update_virtual_cockpit_hud_view@@YGXXZ ; update_virtual_cockpit_hud_view

; 393  : 
; 394  : 			break;

  0021b	eb 44		 jmp	 SHORT $LN2@update_vie
$LN49@update_vie:

; 395  : 		}
; 396  : 		////////////////////////////////////////
; 397  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PERISCOPE:
; 398  : 		////////////////////////////////////////
; 399  : 		{
; 400  : 			update_virtual_cockpit_periscope_view ();

  0021d	e8 00 00 00 00	 call	 ?update_virtual_cockpit_periscope_view@@YGXXZ ; update_virtual_cockpit_periscope_view

; 401  : 
; 402  : 			break;

  00222	eb 3d		 jmp	 SHORT $LN2@update_vie
$LN50@update_vie:

; 403  : 		}
; 404  : 		////////////////////////////////////////
; 405  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 406  : 		////////////////////////////////////////
; 407  : 		{
; 408  : 			update_virtual_cockpit_display_view ();

  00224	e8 00 00 00 00	 call	 ?update_virtual_cockpit_display_view@@YGXXZ ; update_virtual_cockpit_display_view

; 409  : 
; 410  : 			break;

  00229	eb 36		 jmp	 SHORT $LN2@update_vie
$LN51@update_vie:

; 411  : 		}
; 412  : 		////////////////////////////////////////
; 413  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 414  : 		////////////////////////////////////////
; 415  : 		{
; 416  : 			update_virtual_cockpit_display_view ();

  0022b	e8 00 00 00 00	 call	 ?update_virtual_cockpit_display_view@@YGXXZ ; update_virtual_cockpit_display_view

; 417  : 
; 418  : 			break;

  00230	eb 2f		 jmp	 SHORT $LN2@update_vie
$LN52@update_vie:

; 419  : 		}
; 420  : 		////////////////////////////////////////
; 421  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 422  : 		////////////////////////////////////////
; 423  : 		{
; 424  : 			update_virtual_cockpit_display_view ();

  00232	e8 00 00 00 00	 call	 ?update_virtual_cockpit_display_view@@YGXXZ ; update_virtual_cockpit_display_view

; 425  : 
; 426  : 			break;

  00237	eb 28		 jmp	 SHORT $LN2@update_vie
$LN53@update_vie:

; 427  : 		}
; 428  : 		////////////////////////////////////////
; 429  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 430  : 		////////////////////////////////////////
; 431  : 		{
; 432  : 			update_virtual_cockpit_display_view ();

  00239	e8 00 00 00 00	 call	 ?update_virtual_cockpit_display_view@@YGXXZ ; update_virtual_cockpit_display_view

; 433  : 
; 434  : 			break;

  0023e	eb 21		 jmp	 SHORT $LN2@update_vie
$LN54@update_vie:

; 435  : 		}
; 436  : 		////////////////////////////////////////
; 437  : 		case VIEW_MODE_EXTERNAL:
; 438  : 		////////////////////////////////////////
; 439  : 		{
; 440  : 			update_external_view ();

  00240	e8 00 00 00 00	 call	 ?update_external_view@@YGXXZ ; update_external_view

; 441  : 
; 442  : 			break;

  00245	eb 1a		 jmp	 SHORT $LN2@update_vie
$LN55@update_vie:

; 443  : 		}
; 444  : 		////////////////////////////////////////
; 445  : 		case VIEW_MODE_SAFE:
; 446  : 		////////////////////////////////////////
; 447  : 		{
; 448  : 			update_safe_view ();

  00247	e8 00 00 00 00	 call	 ?update_safe_view@@YGXXZ ; update_safe_view

; 449  : 
; 450  : 			break;

  0024c	eb 13		 jmp	 SHORT $LN2@update_vie
$LN56@update_vie:

; 451  : 		}
; 452  : 		////////////////////////////////////////
; 453  : 		default:
; 454  : 		////////////////////////////////////////
; 455  : 		{
; 456  : 			debug_fatal ("Invalid view mode = %d", view_mode);

  0024e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  00253	50		 push	 eax
  00254	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
  00259	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  0025e	83 c4 08	 add	 esp, 8
$LN2@update_vie:

; 457  : 
; 458  : 			break;
; 459  : 		}
; 460  : 	}
; 461  : 
; 462  : 	//
; 463  : 	// set main viewpoint to a known state so that 3D cockpit instruments etc. work (even with no main 3D visual)
; 464  : 	//
; 465  : 
; 466  : 	get_pilot_head_viewpoint ();

  00261	e8 00 00 00 00	 call	 ?get_pilot_head_viewpoint@@YGXXZ ; get_pilot_head_viewpoint

; 467  : 
; 468  : 	main_vp = pilot_head_vp;

  00266	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0026b	be 00 00 00 00	 mov	 esi, OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A ; pilot_head_vp
  00270	bf 00 00 00 00	 mov	 edi, OFFSET ?main_vp@@3UVIEWPOINT@@A ; main_vp
  00275	f3 a5		 rep movsd

; 469  : }

  00277	5f		 pop	 edi
  00278	5e		 pop	 esi
  00279	5b		 pop	 ebx
  0027a	8b e5		 mov	 esp, ebp
  0027c	5d		 pop	 ebp
  0027d	c3		 ret	 0
  0027e	66 90		 npad	 2
$LN58@update_vie:
  00280	00 00 00 00	 DD	 $LN12@update_vie
  00284	00 00 00 00	 DD	 $LN13@update_vie
  00288	00 00 00 00	 DD	 $LN14@update_vie
  0028c	00 00 00 00	 DD	 $LN15@update_vie
  00290	00 00 00 00	 DD	 $LN16@update_vie
  00294	00 00 00 00	 DD	 $LN17@update_vie
  00298	00 00 00 00	 DD	 $LN18@update_vie
  0029c	00 00 00 00	 DD	 $LN19@update_vie
  002a0	00 00 00 00	 DD	 $LN20@update_vie
  002a4	00 00 00 00	 DD	 $LN21@update_vie
  002a8	00 00 00 00	 DD	 $LN22@update_vie
  002ac	00 00 00 00	 DD	 $LN23@update_vie
  002b0	00 00 00 00	 DD	 $LN24@update_vie
  002b4	00 00 00 00	 DD	 $LN25@update_vie
  002b8	00 00 00 00	 DD	 $LN26@update_vie
  002bc	00 00 00 00	 DD	 $LN27@update_vie
  002c0	00 00 00 00	 DD	 $LN28@update_vie
  002c4	00 00 00 00	 DD	 $LN29@update_vie
  002c8	00 00 00 00	 DD	 $LN30@update_vie
  002cc	00 00 00 00	 DD	 $LN31@update_vie
  002d0	00 00 00 00	 DD	 $LN32@update_vie
  002d4	00 00 00 00	 DD	 $LN33@update_vie
  002d8	00 00 00 00	 DD	 $LN34@update_vie
  002dc	00 00 00 00	 DD	 $LN35@update_vie
  002e0	00 00 00 00	 DD	 $LN36@update_vie
  002e4	00 00 00 00	 DD	 $LN37@update_vie
  002e8	00 00 00 00	 DD	 $LN38@update_vie
  002ec	00 00 00 00	 DD	 $LN39@update_vie
  002f0	00 00 00 00	 DD	 $LN40@update_vie
  002f4	00 00 00 00	 DD	 $LN41@update_vie
  002f8	00 00 00 00	 DD	 $LN42@update_vie
  002fc	00 00 00 00	 DD	 $LN43@update_vie
  00300	00 00 00 00	 DD	 $LN44@update_vie
  00304	00 00 00 00	 DD	 $LN45@update_vie
  00308	00 00 00 00	 DD	 $LN46@update_vie
  0030c	00 00 00 00	 DD	 $LN47@update_vie
  00310	00 00 00 00	 DD	 $LN48@update_vie
  00314	00 00 00 00	 DD	 $LN49@update_vie
  00318	00 00 00 00	 DD	 $LN50@update_vie
  0031c	00 00 00 00	 DD	 $LN51@update_vie
  00320	00 00 00 00	 DD	 $LN52@update_vie
  00324	00 00 00 00	 DD	 $LN53@update_vie
  00328	00 00 00 00	 DD	 $LN54@update_vie
  0032c	00 00 00 00	 DD	 $LN55@update_vie
?update_view@@YGXXZ ENDP				; update_view
_TEXT	ENDS
END
