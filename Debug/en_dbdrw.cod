; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A	; debug_3d_object_list
PUBLIC	?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A	; debug_3d_line_list
_BSS	SEGMENT
?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A DD 01H DUP (?) ; debug_3d_object_list
?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A DD 01H DUP (?) ; debug_3d_line_list
_BSS	ENDS
PUBLIC	?initialise_debug_3d_objects@@YGXXZ		; initialise_debug_3d_objects
PUBLIC	?deinitialise_debug_3d_objects@@YGXXZ		; deinitialise_debug_3d_objects
PUBLIC	?create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z ; create_debug_3d_object
PUBLIC	?create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z ; create_rotated_debug_3d_object
PUBLIC	?create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z ; create_vectored_debug_3d_object
PUBLIC	?destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z ; destroy_debug_3d_object
PUBLIC	?destroy_all_debug_3d_objects@@YGXXZ		; destroy_all_debug_3d_objects
PUBLIC	?draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z	; draw_debug_3d_objects
PUBLIC	?initialise_debug_3d_lines@@YGXXZ		; initialise_debug_3d_lines
PUBLIC	?deinitialise_debug_3d_lines@@YGXXZ		; deinitialise_debug_3d_lines
PUBLIC	?create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z ; create_debug_3d_line
PUBLIC	?destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z	; destroy_debug_3d_line
PUBLIC	?destroy_all_debug_3d_lines@@YGXXZ		; destroy_all_debug_3d_lines
PUBLIC	?draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z	; draw_debug_3d_lines
PUBLIC	?__LINE__Var@?0??initialise_debug_3d_objects@@YGXXZ@4JA ; `initialise_debug_3d_objects'::`1'::__LINE__Var
PUBLIC	??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0BG@MCNMBNIF@?$CBdebug_3d_object_list@	; `string'
PUBLIC	?__LINE__Var@?0??create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z@4JA ; `create_debug_3d_object'::`1'::__LINE__Var
PUBLIC	??_C@_02HPPNELPJ@vp@				; `string'
PUBLIC	??_C@_0DB@NAJJFOJE@object_3d_shape?5?$DO?5OBJECT_3D_INV@ ; `string'
PUBLIC	??_C@_0BA@IFCBGODA@lifetime?5?$DO?$DN?50?40@	; `string'
PUBLIC	?__LINE__Var@?0??create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z@4JA ; `create_rotated_debug_3d_object'::`1'::__LINE__Var
PUBLIC	??_C@_08OAGMDKAF@position@			; `string'
PUBLIC	?__LINE__Var@?0??create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z@4JA ; `create_vectored_debug_3d_object'::`1'::__LINE__Var
PUBLIC	??_C@_06NBFPPGEG@vector@			; `string'
PUBLIC	??_C@_0CK@JPGJNPND@Failed?5to?5create?5vectored?5debug@ ; `string'
PUBLIC	?__LINE__Var@?0??destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z@4JA ; `destroy_debug_3d_object'::`1'::__LINE__Var
PUBLIC	??_C@_06IEOJBDIK@object@			; `string'
PUBLIC	?__LINE__Var@?0??draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z@4JA ; `draw_debug_3d_objects'::`1'::__LINE__Var
PUBLIC	??_C@_0BD@CFJFCAKE@visual_range?5?$DO?50?40@	; `string'
PUBLIC	?__LINE__Var@?0??initialise_debug_3d_lines@@YGXXZ@4JA ; `initialise_debug_3d_lines'::`1'::__LINE__Var
PUBLIC	??_C@_0BE@DKHKCKA@?$CBdebug_3d_line_list@	; `string'
PUBLIC	?__LINE__Var@?0??create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z@4JA ; `create_debug_3d_line'::`1'::__LINE__Var
PUBLIC	??_C@_06KNCHBPBH@point1@			; `string'
PUBLIC	??_C@_06IGAKEMNE@point2@			; `string'
PUBLIC	?__LINE__Var@?0??destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z@4JA ; `destroy_debug_3d_line'::`1'::__LINE__Var
PUBLIC	??_C@_04HJPCFDOP@line@				; `string'
PUBLIC	?__LINE__Var@?0??draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z@4JA ; `draw_debug_3d_lines'::`1'::__LINE__Var
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f50624dd2f1a9fc
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_log@@YAXPBDZZ:PROC			; debug_log
EXTRN	?malloc_fast_memory@@YGPAXI@Z:PROC		; malloc_fast_memory
EXTRN	?free_mem@@YGXPAX@Z:PROC			; free_mem
EXTRN	?normalise_3d_vector@@YGMPAUVEC3D@@@Z:PROC	; normalise_3d_vector
EXTRN	?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z:PROC	; get_3d_vector_magnitude
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?get_matrix3x3_from_unit_vec3d@@YGXQAY02MPBUVEC3D@@@Z:PROC ; get_matrix3x3_from_unit_vec3d
EXTRN	?get_approx_3d_range@@YGMPBUVEC3D@@0@Z:PROC	; get_approx_3d_range
EXTRN	?insert_zbiased_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAXM@Z:PROC ; insert_zbiased_object_into_3d_scene
EXTRN	?insert_3d_line_into_3d_scene@@YGHUREAL_COLOUR@@PAUVEC3D@@1@Z:PROC ; insert_3d_line_into_3d_scene
EXTRN	?construct_temporary_3d_object@@YGPAUOBJECT_3D_INSTANCE@@HH@Z:PROC ; construct_temporary_3d_object
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	__fltused:DWORD
;	COMDAT __real@3f50624dd2f1a9fc
CONST	SEGMENT
__real@3f50624dd2f1a9fc DQ 03f50624dd2f1a9fcr	; 0.001
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z@4JA DD 019bH ; `draw_debug_3d_lines'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_04HJPCFDOP@line@
CONST	SEGMENT
??_C@_04HJPCFDOP@line@ DB 'line', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z@4JA DD 0176H ; `destroy_debug_3d_line'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06IGAKEMNE@point2@
CONST	SEGMENT
??_C@_06IGAKEMNE@point2@ DB 'point2', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06KNCHBPBH@point1@
CONST	SEGMENT
??_C@_06KNCHBPBH@point1@ DB 'point1', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z@4JA DD 014fH ; `create_debug_3d_line'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BE@DKHKCKA@?$CBdebug_3d_line_list@
CONST	SEGMENT
??_C@_0BE@DKHKCKA@?$CBdebug_3d_line_list@ DB '!debug_3d_line_list', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??initialise_debug_3d_lines@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??initialise_debug_3d_lines@@YGXXZ@4JA DD 013dH ; `initialise_debug_3d_lines'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BD@CFJFCAKE@visual_range?5?$DO?50?40@
CONST	SEGMENT
??_C@_0BD@CFJFCAKE@visual_range?5?$DO?50?40@ DB 'visual_range > 0.0', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z@4JA DD 0107H ; `draw_debug_3d_objects'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06IEOJBDIK@object@
CONST	SEGMENT
??_C@_06IEOJBDIK@object@ DB 'object', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z@4JA DD 0e2H ; `destroy_debug_3d_object'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CK@JPGJNPND@Failed?5to?5create?5vectored?5debug@
CONST	SEGMENT
??_C@_0CK@JPGJNPND@Failed?5to?5create?5vectored?5debug@ DB 'Failed to cre'
	DB	'ate vectored debug 3D object', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06NBFPPGEG@vector@
CONST	SEGMENT
??_C@_06NBFPPGEG@vector@ DB 'vector', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z@4JA DD 0b5H ; `create_vectored_debug_3d_object'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_08OAGMDKAF@position@
CONST	SEGMENT
??_C@_08OAGMDKAF@position@ DB 'position', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z@4JA DD 09aH ; `create_rotated_debug_3d_object'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BA@IFCBGODA@lifetime?5?$DO?$DN?50?40@
CONST	SEGMENT
??_C@_0BA@IFCBGODA@lifetime?5?$DO?$DN?50?40@ DB 'lifetime >= 0.0', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@NAJJFOJE@object_3d_shape?5?$DO?5OBJECT_3D_INV@
CONST	SEGMENT
??_C@_0DB@NAJJFOJE@object_3d_shape?5?$DO?5OBJECT_3D_INV@ DB 'object_3d_sh'
	DB	'ape > OBJECT_3D_INVALID_OBJECT_INDEX', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_02HPPNELPJ@vp@
CONST	SEGMENT
??_C@_02HPPNELPJ@vp@ DB 'vp', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z@4JA DD 06cH ; `create_debug_3d_object'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BG@MCNMBNIF@?$CBdebug_3d_object_list@
CONST	SEGMENT
??_C@_0BG@MCNMBNIF@?$CBdebug_3d_object_list@ DB '!debug_3d_object_list', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\system\en_debug\en_db'
	DB	'drw.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??initialise_debug_3d_objects@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??initialise_debug_3d_objects@@YGXXZ@4JA DD 05aH ; `initialise_debug_3d_objects'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z
_TEXT	SEGMENT
tv149 = -76						; size = 4
tv143 = -76						; size = 4
_succ$ = -8						; size = 4
_line$ = -4						; size = 4
_vp$ = 8						; size = 4
_visual_range$ = 12					; size = 4
?draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z PROC		; draw_debug_3d_lines, COMDAT

; 411  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 412  : 	debug_3d_line
; 413  : 		*line,
; 414  : 		*succ;
; 415  : 
; 416  : 	ASSERT (vp);

  00009	83 7d 08 00	 cmp	 DWORD PTR _vp$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@draw_debug
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z@4JA
  00014	83 c0 05	 add	 eax, 5
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02HPPNELPJ@vp@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@draw_debug:

; 417  : 
; 418  : 	ASSERT (visual_range > 0.0);

  00027	f3 0f 5a 45 0c	 cvtss2sd xmm0, DWORD PTR _visual_range$[ebp]
  0002c	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00034	77 18		 ja	 SHORT $LN5@draw_debug
  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z@4JA
  0003b	83 c0 07	 add	 eax, 7
  0003e	50		 push	 eax
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@CFJFCAKE@visual_range?5?$DO?50?40@
  00049	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@draw_debug:

; 419  : 
; 420  : 	line = debug_3d_line_list;

  0004e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A ; debug_3d_line_list
  00053	89 45 fc	 mov	 DWORD PTR _line$[ebp], eax
$LN2@draw_debug:

; 421  : 
; 422  : 	while (line)

  00056	83 7d fc 00	 cmp	 DWORD PTR _line$[ebp], 0
  0005a	0f 84 96 00 00
	00		 je	 $LN3@draw_debug

; 423  : 	{
; 424  : 		succ = line->succ;

  00060	8b 45 fc	 mov	 eax, DWORD PTR _line$[ebp]
  00063	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00066	89 4d f8	 mov	 DWORD PTR _succ$[ebp], ecx

; 425  : 
; 426  : 		if
; 427  : 		(
; 428  : 			(get_approx_3d_range (&vp->position, &line->point1) < visual_range) ||

  00069	8b 45 fc	 mov	 eax, DWORD PTR _line$[ebp]
  0006c	50		 push	 eax
  0006d	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  00070	51		 push	 ecx
  00071	e8 00 00 00 00	 call	 ?get_approx_3d_range@@YGMPBUVEC3D@@0@Z ; get_approx_3d_range
  00076	d9 5d b4	 fstp	 DWORD PTR tv143[ebp]
  00079	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _visual_range$[ebp]
  0007e	0f 2f 45 b4	 comiss	 xmm0, DWORD PTR tv143[ebp]
  00082	77 1e		 ja	 SHORT $LN7@draw_debug
  00084	8b 45 fc	 mov	 eax, DWORD PTR _line$[ebp]
  00087	83 c0 0c	 add	 eax, 12			; 0000000cH
  0008a	50		 push	 eax
  0008b	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  0008e	51		 push	 ecx
  0008f	e8 00 00 00 00	 call	 ?get_approx_3d_range@@YGMPBUVEC3D@@0@Z ; get_approx_3d_range
  00094	d9 5d b4	 fstp	 DWORD PTR tv149[ebp]
  00097	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _visual_range$[ebp]
  0009c	0f 2f 45 b4	 comiss	 xmm0, DWORD PTR tv149[ebp]
  000a0	76 17		 jbe	 SHORT $LN6@draw_debug
$LN7@draw_debug:

; 429  : 			(get_approx_3d_range (&vp->position, &line->point2) < visual_range)
; 430  : 		)
; 431  : 		{
; 432  : 			insert_3d_line_into_3d_scene (line->colour, &line->point1, &line->point2);

  000a2	8b 45 fc	 mov	 eax, DWORD PTR _line$[ebp]
  000a5	83 c0 0c	 add	 eax, 12			; 0000000cH
  000a8	50		 push	 eax
  000a9	8b 4d fc	 mov	 ecx, DWORD PTR _line$[ebp]
  000ac	51		 push	 ecx
  000ad	8b 55 fc	 mov	 edx, DWORD PTR _line$[ebp]
  000b0	8b 42 18	 mov	 eax, DWORD PTR [edx+24]
  000b3	50		 push	 eax
  000b4	e8 00 00 00 00	 call	 ?insert_3d_line_into_3d_scene@@YGHUREAL_COLOUR@@PAUVEC3D@@1@Z ; insert_3d_line_into_3d_scene
$LN6@draw_debug:

; 433  : 		}
; 434  : 
; 435  : 		//
; 436  : 		// if this function is invoked more than once per frame then lifetime will expire more quickly
; 437  : 		//
; 438  : 
; 439  : 		line->lifetime -= get_delta_time ();

  000b9	8b 45 fc	 mov	 eax, DWORD PTR _line$[ebp]
  000bc	f3 0f 10 40 1c	 movss	 xmm0, DWORD PTR [eax+28]
  000c1	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  000c9	8b 4d fc	 mov	 ecx, DWORD PTR _line$[ebp]
  000cc	f3 0f 11 41 1c	 movss	 DWORD PTR [ecx+28], xmm0

; 440  : 
; 441  : 		if (line->lifetime < 0.0)

  000d1	8b 45 fc	 mov	 eax, DWORD PTR _line$[ebp]
  000d4	f3 0f 5a 40 1c	 cvtss2sd xmm0, DWORD PTR [eax+28]
  000d9	0f 57 c9	 xorps	 xmm1, xmm1
  000dc	66 0f 2f c8	 comisd	 xmm1, xmm0
  000e0	76 09		 jbe	 SHORT $LN8@draw_debug

; 442  : 		{
; 443  : 			destroy_debug_3d_line (line);

  000e2	8b 45 fc	 mov	 eax, DWORD PTR _line$[ebp]
  000e5	50		 push	 eax
  000e6	e8 00 00 00 00	 call	 ?destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z ; destroy_debug_3d_line
$LN8@draw_debug:

; 444  : 		}
; 445  : 
; 446  : 		line = succ;

  000eb	8b 45 f8	 mov	 eax, DWORD PTR _succ$[ebp]
  000ee	89 45 fc	 mov	 DWORD PTR _line$[ebp], eax

; 447  : 	}

  000f1	e9 60 ff ff ff	 jmp	 $LN2@draw_debug
$LN3@draw_debug:

; 448  : }

  000f6	5f		 pop	 edi
  000f7	5e		 pop	 esi
  000f8	5b		 pop	 ebx
  000f9	8b e5		 mov	 esp, ebp
  000fb	5d		 pop	 ebp
  000fc	c2 08 00	 ret	 8
?draw_debug_3d_lines@@YGXPAUVIEWPOINT@@M@Z ENDP		; draw_debug_3d_lines
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?destroy_all_debug_3d_lines@@YGXXZ
_TEXT	SEGMENT
?destroy_all_debug_3d_lines@@YGXXZ PROC			; destroy_all_debug_3d_lines, COMDAT

; 399  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@destroy_al:

; 400  : 	while (debug_3d_line_list)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A, 0 ; debug_3d_line_list
  00010	74 0d		 je	 SHORT $LN1@destroy_al

; 401  : 	{
; 402  : 		destroy_debug_3d_line (debug_3d_line_list);

  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A ; debug_3d_line_list
  00017	50		 push	 eax
  00018	e8 00 00 00 00	 call	 ?destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z ; destroy_debug_3d_line

; 403  : 	}

  0001d	eb ea		 jmp	 SHORT $LN2@destroy_al
$LN1@destroy_al:

; 404  : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?destroy_all_debug_3d_lines@@YGXXZ ENDP			; destroy_all_debug_3d_lines
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z
_TEXT	SEGMENT
_line$ = 8						; size = 4
?destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z PROC	; destroy_debug_3d_line, COMDAT

; 374  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 375  : 	ASSERT (line);

  00009	83 7d 08 00	 cmp	 DWORD PTR _line$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@destroy_de
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_04HJPCFDOP@line@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@destroy_de:

; 376  : 
; 377  : 	if (line->pred)

  00027	8b 45 08	 mov	 eax, DWORD PTR _line$[ebp]
  0002a	83 78 24 00	 cmp	 DWORD PTR [eax+36], 0
  0002e	74 11		 je	 SHORT $LN3@destroy_de

; 378  : 	{
; 379  : 		line->pred->succ = line->succ;

  00030	8b 45 08	 mov	 eax, DWORD PTR _line$[ebp]
  00033	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  00036	8b 55 08	 mov	 edx, DWORD PTR _line$[ebp]
  00039	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  0003c	89 41 20	 mov	 DWORD PTR [ecx+32], eax

; 380  : 	}
; 381  : 	else

  0003f	eb 0c		 jmp	 SHORT $LN4@destroy_de
$LN3@destroy_de:

; 382  : 	{
; 383  : 		debug_3d_line_list = line->succ;

  00041	8b 45 08	 mov	 eax, DWORD PTR _line$[ebp]
  00044	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00047	89 0d 00 00 00
	00		 mov	 DWORD PTR ?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A, ecx ; debug_3d_line_list
$LN4@destroy_de:

; 384  : 	}
; 385  : 
; 386  : 	if (line->succ)

  0004d	8b 45 08	 mov	 eax, DWORD PTR _line$[ebp]
  00050	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  00054	74 0f		 je	 SHORT $LN5@destroy_de

; 387  : 	{
; 388  : 		line->succ->pred = line->pred;

  00056	8b 45 08	 mov	 eax, DWORD PTR _line$[ebp]
  00059	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0005c	8b 55 08	 mov	 edx, DWORD PTR _line$[ebp]
  0005f	8b 42 24	 mov	 eax, DWORD PTR [edx+36]
  00062	89 41 24	 mov	 DWORD PTR [ecx+36], eax
$LN5@destroy_de:

; 389  : 	}
; 390  : 
; 391  : 	free_mem (line);

  00065	8b 45 08	 mov	 eax, DWORD PTR _line$[ebp]
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 ?free_mem@@YGXPAX@Z	; free_mem

; 392  : }

  0006e	5f		 pop	 edi
  0006f	5e		 pop	 esi
  00070	5b		 pop	 ebx
  00071	8b e5		 mov	 esp, ebp
  00073	5d		 pop	 ebp
  00074	c2 04 00	 ret	 4
?destroy_debug_3d_line@@YGXPAUDEBUG_3D_LINE@@@Z ENDP	; destroy_debug_3d_line
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z
_TEXT	SEGMENT
_new_$ = -4						; size = 4
_point1$ = 8						; size = 4
_point2$ = 12						; size = 4
_colour$ = 16						; size = 4
_lifetime$ = 20						; size = 4
?create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z PROC ; create_debug_3d_line, COMDAT

; 335  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 336  : 	debug_3d_line
; 337  : 		*new_;
; 338  : 
; 339  : 	ASSERT (point1);

  00009	83 7d 08 00	 cmp	 DWORD PTR _point1$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@create_deb
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_06KNCHBPBH@point1@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_deb:

; 340  : 
; 341  : 	ASSERT (point2);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _point2$[ebp], 0
  0002b	75 18		 jne	 SHORT $LN3@create_deb
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z@4JA
  00032	83 c0 06	 add	 eax, 6
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_06IGAKEMNE@point2@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_deb:

; 342  : 
; 343  : 	ASSERT (lifetime >= 0.0);

  00045	f3 0f 5a 45 14	 cvtss2sd xmm0, DWORD PTR _lifetime$[ebp]
  0004a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00052	73 18		 jae	 SHORT $LN4@create_deb
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z@4JA
  00059	83 c0 08	 add	 eax, 8
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@IFCBGODA@lifetime?5?$DO?$DN?50?40@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_deb:

; 344  : 
; 345  : 	new_ = (debug_3d_line *) malloc_fast_mem (sizeof (debug_3d_line));

  0006c	6a 28		 push	 40			; 00000028H
  0006e	e8 00 00 00 00	 call	 ?malloc_fast_memory@@YGPAXI@Z ; malloc_fast_memory
  00073	89 45 fc	 mov	 DWORD PTR _new_$[ebp], eax

; 346  : 
; 347  : 	new_->point1 = *point1;

  00076	8b 45 08	 mov	 eax, DWORD PTR _point1$[ebp]
  00079	8b 4d fc	 mov	 ecx, DWORD PTR _new_$[ebp]
  0007c	8b 10		 mov	 edx, DWORD PTR [eax]
  0007e	89 11		 mov	 DWORD PTR [ecx], edx
  00080	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00083	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00086	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00089	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 348  : 
; 349  : 	new_->point2 = *point2;

  0008c	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  0008f	83 c0 0c	 add	 eax, 12			; 0000000cH
  00092	8b 4d 0c	 mov	 ecx, DWORD PTR _point2$[ebp]
  00095	8b 11		 mov	 edx, DWORD PTR [ecx]
  00097	89 10		 mov	 DWORD PTR [eax], edx
  00099	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0009c	89 50 04	 mov	 DWORD PTR [eax+4], edx
  0009f	8b 49 08	 mov	 ecx, DWORD PTR [ecx+8]
  000a2	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 350  : 
; 351  : 	new_->colour = colour;

  000a5	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  000a8	8b 4d 10	 mov	 ecx, DWORD PTR _colour$[ebp]
  000ab	89 48 18	 mov	 DWORD PTR [eax+24], ecx

; 352  : 
; 353  : 	new_->lifetime = lifetime;

  000ae	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  000b1	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _lifetime$[ebp]
  000b6	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 354  : 
; 355  : 	new_->succ = debug_3d_line_list;

  000bb	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  000be	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A ; debug_3d_line_list
  000c4	89 48 20	 mov	 DWORD PTR [eax+32], ecx

; 356  : 
; 357  : 	new_->pred = NULL;

  000c7	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  000ca	c7 40 24 00 00
	00 00		 mov	 DWORD PTR [eax+36], 0

; 358  : 
; 359  : 	if (new_->succ)

  000d1	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  000d4	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  000d8	74 0c		 je	 SHORT $LN5@create_deb

; 360  : 	{
; 361  : 		new_->succ->pred = new_;

  000da	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  000dd	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  000e0	8b 55 fc	 mov	 edx, DWORD PTR _new_$[ebp]
  000e3	89 51 24	 mov	 DWORD PTR [ecx+36], edx
$LN5@create_deb:

; 362  : 	}
; 363  : 
; 364  : 	debug_3d_line_list = new_;

  000e6	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]
  000e9	a3 00 00 00 00	 mov	 DWORD PTR ?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A, eax ; debug_3d_line_list

; 365  : 
; 366  : 	return (new_);

  000ee	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]

; 367  : }

  000f1	5f		 pop	 edi
  000f2	5e		 pop	 esi
  000f3	5b		 pop	 ebx
  000f4	8b e5		 mov	 esp, ebp
  000f6	5d		 pop	 ebp
  000f7	c2 10 00	 ret	 16			; 00000010H
?create_debug_3d_line@@YGPAUDEBUG_3D_LINE@@PAUVEC3D@@0UREAL_COLOUR@@M@Z ENDP ; create_debug_3d_line
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?deinitialise_debug_3d_lines@@YGXXZ
_TEXT	SEGMENT
?deinitialise_debug_3d_lines@@YGXXZ PROC		; deinitialise_debug_3d_lines, COMDAT

; 326  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 327  : 	destroy_all_debug_3d_lines ();

  00009	e8 00 00 00 00	 call	 ?destroy_all_debug_3d_lines@@YGXXZ ; destroy_all_debug_3d_lines

; 328  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?deinitialise_debug_3d_lines@@YGXXZ ENDP		; deinitialise_debug_3d_lines
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?initialise_debug_3d_lines@@YGXXZ
_TEXT	SEGMENT
?initialise_debug_3d_lines@@YGXXZ PROC			; initialise_debug_3d_lines, COMDAT

; 317  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 318  : 	ASSERT (!debug_3d_line_list);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?debug_3d_line_list@@3PAUDEBUG_3D_LINE@@A, 0 ; debug_3d_line_list
  00010	74 18		 je	 SHORT $LN1@initialise
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??initialise_debug_3d_lines@@YGXXZ@4JA
  00017	83 c0 01	 add	 eax, 1
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@DKHKCKA@?$CBdebug_3d_line_list@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN1@initialise:

; 319  : }

  0002a	5f		 pop	 edi
  0002b	5e		 pop	 esi
  0002c	5b		 pop	 ebx
  0002d	8b e5		 mov	 esp, ebp
  0002f	5d		 pop	 ebp
  00030	c3		 ret	 0
?initialise_debug_3d_lines@@YGXXZ ENDP			; initialise_debug_3d_lines
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z
_TEXT	SEGMENT
tv148 = -80						; size = 4
_inst3d$ = -12						; size = 4
_succ$ = -8						; size = 4
_object$ = -4						; size = 4
_vp$ = 8						; size = 4
_visual_range$ = 12					; size = 4
?draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z PROC	; draw_debug_3d_objects, COMDAT

; 263  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 264  : 	debug_3d_object
; 265  : 		*object,
; 266  : 		*succ;
; 267  : 
; 268  : 	object_3d_instance
; 269  : 		*inst3d;
; 270  : 
; 271  : 	ASSERT (vp);

  00009	83 7d 08 00	 cmp	 DWORD PTR _vp$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@draw_debug
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z@4JA
  00014	83 c0 08	 add	 eax, 8
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02HPPNELPJ@vp@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@draw_debug:

; 272  : 
; 273  : 	ASSERT (visual_range > 0.0);

  00027	f3 0f 5a 45 0c	 cvtss2sd xmm0, DWORD PTR _visual_range$[ebp]
  0002c	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00034	77 18		 ja	 SHORT $LN5@draw_debug
  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z@4JA
  0003b	83 c0 0a	 add	 eax, 10			; 0000000aH
  0003e	50		 push	 eax
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@CFJFCAKE@visual_range?5?$DO?50?40@
  00049	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@draw_debug:

; 274  : 
; 275  : 	object = debug_3d_object_list;

  0004e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A ; debug_3d_object_list
  00053	89 45 fc	 mov	 DWORD PTR _object$[ebp], eax
$LN2@draw_debug:

; 276  : 
; 277  : 	while (object)

  00056	83 7d fc 00	 cmp	 DWORD PTR _object$[ebp], 0
  0005a	0f 84 c7 00 00
	00		 je	 $LN3@draw_debug

; 278  : 	{
; 279  : 		succ = object->succ;

  00060	8b 45 fc	 mov	 eax, DWORD PTR _object$[ebp]
  00063	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  00066	89 4d f8	 mov	 DWORD PTR _succ$[ebp], ecx

; 280  : 
; 281  : 		if (get_approx_3d_range (&vp->position, &object->vp.position) < visual_range)

  00069	8b 45 fc	 mov	 eax, DWORD PTR _object$[ebp]
  0006c	50		 push	 eax
  0006d	8b 4d 08	 mov	 ecx, DWORD PTR _vp$[ebp]
  00070	51		 push	 ecx
  00071	e8 00 00 00 00	 call	 ?get_approx_3d_range@@YGMPBUVEC3D@@0@Z ; get_approx_3d_range
  00076	d9 5d b0	 fstp	 DWORD PTR tv148[ebp]
  00079	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _visual_range$[ebp]
  0007e	0f 2f 45 b0	 comiss	 xmm0, DWORD PTR tv148[ebp]
  00082	76 66		 jbe	 SHORT $LN7@draw_debug

; 282  : 		{
; 283  : 			inst3d = construct_temporary_3d_object (object->object_3d_shape, FALSE);

  00084	6a 00		 push	 0
  00086	8b 45 fc	 mov	 eax, DWORD PTR _object$[ebp]
  00089	8b 48 30	 mov	 ecx, DWORD PTR [eax+48]
  0008c	51		 push	 ecx
  0008d	e8 00 00 00 00	 call	 ?construct_temporary_3d_object@@YGPAUOBJECT_3D_INSTANCE@@HH@Z ; construct_temporary_3d_object
  00092	89 45 f4	 mov	 DWORD PTR _inst3d$[ebp], eax

; 284  : 
; 285  : 			if (inst3d)

  00095	83 7d f4 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00099	74 4f		 je	 SHORT $LN7@draw_debug

; 286  : 			{
; 287  : 				inst3d->relative_scale = object->relative_scale;

  0009b	8b 45 fc	 mov	 eax, DWORD PTR _object$[ebp]
  0009e	83 c0 38	 add	 eax, 56			; 00000038H
  000a1	8b 4d f4	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  000a4	83 c1 44	 add	 ecx, 68			; 00000044H
  000a7	8b 10		 mov	 edx, DWORD PTR [eax]
  000a9	89 11		 mov	 DWORD PTR [ecx], edx
  000ab	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000ae	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  000b1	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000b4	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 288  : 
; 289  : 				inst3d->vp = object->vp;

  000b7	8b 7d f4	 mov	 edi, DWORD PTR _inst3d$[ebp]
  000ba	83 c7 08	 add	 edi, 8
  000bd	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  000c2	8b 75 fc	 mov	 esi, DWORD PTR _object$[ebp]
  000c5	f3 a5		 rep movsd

; 290  : 
; 291  : 				inst3d->object_has_shadow = FALSE;

  000c7	8b 45 f4	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000ca	8b 48 50	 mov	 ecx, DWORD PTR [eax+80]
  000cd	83 e1 fb	 and	 ecx, -5			; fffffffbH
  000d0	8b 55 f4	 mov	 edx, DWORD PTR _inst3d$[ebp]
  000d3	89 4a 50	 mov	 DWORD PTR [edx+80], ecx

; 292  : 
; 293  : 				insert_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_OBJECT, inst3d);

  000d6	51		 push	 ecx
  000d7	0f 57 c0	 xorps	 xmm0, xmm0
  000da	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000df	8b 45 f4	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000e2	50		 push	 eax
  000e3	6a 01		 push	 1
  000e5	e8 00 00 00 00	 call	 ?insert_zbiased_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAXM@Z ; insert_zbiased_object_into_3d_scene
$LN7@draw_debug:

; 294  : 			}
; 295  : 		}
; 296  : 
; 297  : 		//
; 298  : 		// if this function is invoked more than once per frame then lifetime will expire more quickly
; 299  : 		//
; 300  : 
; 301  : 		object->lifetime -= get_delta_time ();

  000ea	8b 45 fc	 mov	 eax, DWORD PTR _object$[ebp]
  000ed	f3 0f 10 40 34	 movss	 xmm0, DWORD PTR [eax+52]
  000f2	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  000fa	8b 4d fc	 mov	 ecx, DWORD PTR _object$[ebp]
  000fd	f3 0f 11 41 34	 movss	 DWORD PTR [ecx+52], xmm0

; 302  : 
; 303  : 		if (object->lifetime < 0.0)

  00102	8b 45 fc	 mov	 eax, DWORD PTR _object$[ebp]
  00105	f3 0f 5a 40 34	 cvtss2sd xmm0, DWORD PTR [eax+52]
  0010a	0f 57 c9	 xorps	 xmm1, xmm1
  0010d	66 0f 2f c8	 comisd	 xmm1, xmm0
  00111	76 09		 jbe	 SHORT $LN8@draw_debug

; 304  : 		{
; 305  : 			destroy_debug_3d_object (object);

  00113	8b 45 fc	 mov	 eax, DWORD PTR _object$[ebp]
  00116	50		 push	 eax
  00117	e8 00 00 00 00	 call	 ?destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z ; destroy_debug_3d_object
$LN8@draw_debug:

; 306  : 		}
; 307  : 
; 308  : 		object = succ;

  0011c	8b 45 f8	 mov	 eax, DWORD PTR _succ$[ebp]
  0011f	89 45 fc	 mov	 DWORD PTR _object$[ebp], eax

; 309  : 	}

  00122	e9 2f ff ff ff	 jmp	 $LN2@draw_debug
$LN3@draw_debug:

; 310  : }

  00127	5f		 pop	 edi
  00128	5e		 pop	 esi
  00129	5b		 pop	 ebx
  0012a	8b e5		 mov	 esp, ebp
  0012c	5d		 pop	 ebp
  0012d	c2 08 00	 ret	 8
?draw_debug_3d_objects@@YGXPAUVIEWPOINT@@M@Z ENDP	; draw_debug_3d_objects
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?destroy_all_debug_3d_objects@@YGXXZ
_TEXT	SEGMENT
?destroy_all_debug_3d_objects@@YGXXZ PROC		; destroy_all_debug_3d_objects, COMDAT

; 251  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@destroy_al:

; 252  : 	while (debug_3d_object_list)

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A, 0 ; debug_3d_object_list
  00010	74 0d		 je	 SHORT $LN1@destroy_al

; 253  : 	{
; 254  : 		destroy_debug_3d_object (debug_3d_object_list);

  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A ; debug_3d_object_list
  00017	50		 push	 eax
  00018	e8 00 00 00 00	 call	 ?destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z ; destroy_debug_3d_object

; 255  : 	}

  0001d	eb ea		 jmp	 SHORT $LN2@destroy_al
$LN1@destroy_al:

; 256  : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?destroy_all_debug_3d_objects@@YGXXZ ENDP		; destroy_all_debug_3d_objects
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z
_TEXT	SEGMENT
_object$ = 8						; size = 4
?destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z PROC ; destroy_debug_3d_object, COMDAT

; 226  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 227  : 	ASSERT (object);

  00009	83 7d 08 00	 cmp	 DWORD PTR _object$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@destroy_de
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_06IEOJBDIK@object@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@destroy_de:

; 228  : 
; 229  : 	if (object->pred)

  00027	8b 45 08	 mov	 eax, DWORD PTR _object$[ebp]
  0002a	83 78 48 00	 cmp	 DWORD PTR [eax+72], 0
  0002e	74 11		 je	 SHORT $LN3@destroy_de

; 230  : 	{
; 231  : 		object->pred->succ = object->succ;

  00030	8b 45 08	 mov	 eax, DWORD PTR _object$[ebp]
  00033	8b 48 48	 mov	 ecx, DWORD PTR [eax+72]
  00036	8b 55 08	 mov	 edx, DWORD PTR _object$[ebp]
  00039	8b 42 44	 mov	 eax, DWORD PTR [edx+68]
  0003c	89 41 44	 mov	 DWORD PTR [ecx+68], eax

; 232  : 	}
; 233  : 	else

  0003f	eb 0c		 jmp	 SHORT $LN4@destroy_de
$LN3@destroy_de:

; 234  : 	{
; 235  : 		debug_3d_object_list = object->succ;

  00041	8b 45 08	 mov	 eax, DWORD PTR _object$[ebp]
  00044	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  00047	89 0d 00 00 00
	00		 mov	 DWORD PTR ?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A, ecx ; debug_3d_object_list
$LN4@destroy_de:

; 236  : 	}
; 237  : 
; 238  : 	if (object->succ)

  0004d	8b 45 08	 mov	 eax, DWORD PTR _object$[ebp]
  00050	83 78 44 00	 cmp	 DWORD PTR [eax+68], 0
  00054	74 0f		 je	 SHORT $LN5@destroy_de

; 239  : 	{
; 240  : 		object->succ->pred = object->pred;

  00056	8b 45 08	 mov	 eax, DWORD PTR _object$[ebp]
  00059	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  0005c	8b 55 08	 mov	 edx, DWORD PTR _object$[ebp]
  0005f	8b 42 48	 mov	 eax, DWORD PTR [edx+72]
  00062	89 41 48	 mov	 DWORD PTR [ecx+72], eax
$LN5@destroy_de:

; 241  : 	}
; 242  : 
; 243  : 	free_mem (object);

  00065	8b 45 08	 mov	 eax, DWORD PTR _object$[ebp]
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 ?free_mem@@YGXPAX@Z	; free_mem

; 244  : }

  0006e	5f		 pop	 edi
  0006f	5e		 pop	 esi
  00070	5b		 pop	 ebx
  00071	8b e5		 mov	 esp, ebp
  00073	5d		 pop	 ebp
  00074	c2 04 00	 ret	 4
?destroy_debug_3d_object@@YGXPAUDEBUG_3D_OBJECT@@@Z ENDP ; destroy_debug_3d_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z
_TEXT	SEGMENT
tv141 = -136						; size = 8
_uvec$ = -64						; size = 12
_vp$ = -52						; size = 48
_new_$ = -4						; size = 4
_position$ = 8						; size = 4
_vector$ = 12						; size = 4
_object_3d_shape$ = 16					; size = 4
_lifetime$ = 20						; size = 4
_relative_scale$ = 24					; size = 4
?create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z PROC ; create_vectored_debug_3d_object, COMDAT

; 181  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 182  : 	debug_3d_object
; 183  : 		*new_;
; 184  : 
; 185  : 	viewpoint
; 186  : 		vp;
; 187  : 
; 188  : 	vec3d
; 189  : 		uvec;
; 190  : 
; 191  : 	ASSERT (position);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _position$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@create_vec
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z@4JA
  00017	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_08OAGMDKAF@position@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_vec:

; 192  : 
; 193  : 	ASSERT (vector);

  0002a	83 7d 0c 00	 cmp	 DWORD PTR _vector$[ebp], 0
  0002e	75 18		 jne	 SHORT $LN3@create_vec
  00030	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z@4JA
  00035	83 c0 0c	 add	 eax, 12			; 0000000cH
  00038	50		 push	 eax
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	68 00 00 00 00	 push	 OFFSET ??_C@_06NBFPPGEG@vector@
  00043	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_vec:

; 194  : 
; 195  : 	ASSERT (object_3d_shape > OBJECT_3D_INVALID_OBJECT_INDEX);

  00048	83 7d 10 00	 cmp	 DWORD PTR _object_3d_shape$[ebp], 0
  0004c	7f 18		 jg	 SHORT $LN4@create_vec
  0004e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z@4JA
  00053	83 c0 0e	 add	 eax, 14			; 0000000eH
  00056	50		 push	 eax
  00057	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@NAJJFOJE@object_3d_shape?5?$DO?5OBJECT_3D_INV@
  00061	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_vec:

; 196  : 
; 197  : 	ASSERT (lifetime >= 0.0);

  00066	f3 0f 5a 45 14	 cvtss2sd xmm0, DWORD PTR _lifetime$[ebp]
  0006b	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00073	73 18		 jae	 SHORT $LN5@create_vec
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z@4JA
  0007a	83 c0 10	 add	 eax, 16			; 00000010H
  0007d	50		 push	 eax
  0007e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00083	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@IFCBGODA@lifetime?5?$DO?$DN?50?40@
  00088	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@create_vec:

; 198  : 
; 199  : 	if (get_3d_vector_magnitude (vector) > 0.001)

  0008d	8b 45 0c	 mov	 eax, DWORD PTR _vector$[ebp]
  00090	50		 push	 eax
  00091	e8 00 00 00 00	 call	 ?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z ; get_3d_vector_magnitude
  00096	dd 9d 78 ff ff
	ff		 fstp	 QWORD PTR tv141[ebp]
  0009c	f2 0f 10 85 78
	ff ff ff	 movsd	 xmm0, QWORD PTR tv141[ebp]
  000a4	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f50624dd2f1a9fc
  000ac	76 68		 jbe	 SHORT $LN6@create_vec

; 200  : 	{
; 201  : 		vp.position = *position;

  000ae	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  000b1	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b3	89 4d cc	 mov	 DWORD PTR _vp$[ebp], ecx
  000b6	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000b9	89 55 d0	 mov	 DWORD PTR _vp$[ebp+4], edx
  000bc	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000bf	89 45 d4	 mov	 DWORD PTR _vp$[ebp+8], eax

; 202  : 
; 203  : 		uvec = *vector;

  000c2	8b 45 0c	 mov	 eax, DWORD PTR _vector$[ebp]
  000c5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c7	89 4d c0	 mov	 DWORD PTR _uvec$[ebp], ecx
  000ca	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000cd	89 55 c4	 mov	 DWORD PTR _uvec$[ebp+4], edx
  000d0	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000d3	89 45 c8	 mov	 DWORD PTR _uvec$[ebp+8], eax

; 204  : 
; 205  : 		normalise_3d_vector (&uvec);

  000d6	8d 45 c0	 lea	 eax, DWORD PTR _uvec$[ebp]
  000d9	50		 push	 eax
  000da	e8 00 00 00 00	 call	 ?normalise_3d_vector@@YGMPAUVEC3D@@@Z ; normalise_3d_vector
  000df	dd d8		 fstp	 ST(0)

; 206  : 
; 207  : 		get_matrix3x3_from_unit_vec3d (vp.attitude, &uvec);

  000e1	8d 45 c0	 lea	 eax, DWORD PTR _uvec$[ebp]
  000e4	50		 push	 eax
  000e5	8d 4d d8	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  000e8	51		 push	 ecx
  000e9	e8 00 00 00 00	 call	 ?get_matrix3x3_from_unit_vec3d@@YGXQAY02MPBUVEC3D@@@Z ; get_matrix3x3_from_unit_vec3d

; 208  : 
; 209  : 		new_ = create_debug_3d_object (&vp, object_3d_shape, lifetime, relative_scale);

  000ee	51		 push	 ecx
  000ef	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _relative_scale$[ebp]
  000f4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000f9	51		 push	 ecx
  000fa	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _lifetime$[ebp]
  000ff	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00104	8b 45 10	 mov	 eax, DWORD PTR _object_3d_shape$[ebp]
  00107	50		 push	 eax
  00108	8d 4d cc	 lea	 ecx, DWORD PTR _vp$[ebp]
  0010b	51		 push	 ecx
  0010c	e8 00 00 00 00	 call	 ?create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z ; create_debug_3d_object
  00111	89 45 fc	 mov	 DWORD PTR _new_$[ebp], eax

; 210  : 	}
; 211  : 	else

  00114	eb 14		 jmp	 SHORT $LN7@create_vec
$LN6@create_vec:

; 212  : 	{
; 213  : 		debug_log ("Failed to create vectored debug 3D object");

  00116	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@JPGJNPND@Failed?5to?5create?5vectored?5debug@
  0011b	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00120	83 c4 04	 add	 esp, 4

; 214  : 
; 215  : 		new_ = NULL;

  00123	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _new_$[ebp], 0
$LN7@create_vec:

; 216  : 	}
; 217  : 
; 218  : 	return (new_);

  0012a	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]

; 219  : }

  0012d	5f		 pop	 edi
  0012e	5e		 pop	 esi
  0012f	5b		 pop	 ebx
  00130	8b e5		 mov	 esp, ebp
  00132	5d		 pop	 ebp
  00133	c2 14 00	 ret	 20			; 00000014H
?create_vectored_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@0HMM@Z ENDP ; create_vectored_debug_3d_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z
_TEXT	SEGMENT
_vp$ = -52						; size = 48
_new_$ = -4						; size = 4
_position$ = 8						; size = 4
_heading$ = 12						; size = 4
_pitch$ = 16						; size = 4
_roll$ = 20						; size = 4
_object_3d_shape$ = 24					; size = 4
_lifetime$ = 28						; size = 4
_relative_scale$ = 32					; size = 4
?create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z PROC ; create_rotated_debug_3d_object, COMDAT

; 154  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 74	 sub	 esp, 116		; 00000074H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 155  : 	debug_3d_object
; 156  : 		*new_;
; 157  : 
; 158  : 	viewpoint
; 159  : 		vp;
; 160  : 
; 161  : 	ASSERT (position);

  00009	83 7d 08 00	 cmp	 DWORD PTR _position$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@create_rot
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z@4JA
  00014	83 c0 07	 add	 eax, 7
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_08OAGMDKAF@position@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_rot:

; 162  : 
; 163  : 	ASSERT (object_3d_shape > OBJECT_3D_INVALID_OBJECT_INDEX);

  00027	83 7d 18 00	 cmp	 DWORD PTR _object_3d_shape$[ebp], 0
  0002b	7f 18		 jg	 SHORT $LN3@create_rot
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z@4JA
  00032	83 c0 09	 add	 eax, 9
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@NAJJFOJE@object_3d_shape?5?$DO?5OBJECT_3D_INV@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_rot:

; 164  : 
; 165  : 	ASSERT (lifetime >= 0.0);

  00045	f3 0f 5a 45 1c	 cvtss2sd xmm0, DWORD PTR _lifetime$[ebp]
  0004a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00052	73 18		 jae	 SHORT $LN4@create_rot
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z@4JA
  00059	83 c0 0b	 add	 eax, 11			; 0000000bH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@IFCBGODA@lifetime?5?$DO?$DN?50?40@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_rot:

; 166  : 
; 167  : 	vp.position = *position;

  0006c	8b 45 08	 mov	 eax, DWORD PTR _position$[ebp]
  0006f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00071	89 4d cc	 mov	 DWORD PTR _vp$[ebp], ecx
  00074	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00077	89 55 d0	 mov	 DWORD PTR _vp$[ebp+4], edx
  0007a	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0007d	89 45 d4	 mov	 DWORD PTR _vp$[ebp+8], eax

; 168  : 
; 169  : 	get_3d_transformation_matrix (vp.attitude, heading, pitch, roll);

  00080	51		 push	 ecx
  00081	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _roll$[ebp]
  00086	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0008b	51		 push	 ecx
  0008c	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _pitch$[ebp]
  00091	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00096	51		 push	 ecx
  00097	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _heading$[ebp]
  0009c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a1	8d 45 d8	 lea	 eax, DWORD PTR _vp$[ebp+12]
  000a4	50		 push	 eax
  000a5	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 170  : 
; 171  : 	new_ = create_debug_3d_object (&vp, object_3d_shape, lifetime, relative_scale);

  000aa	51		 push	 ecx
  000ab	f3 0f 10 45 20	 movss	 xmm0, DWORD PTR _relative_scale$[ebp]
  000b0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b5	51		 push	 ecx
  000b6	f3 0f 10 45 1c	 movss	 xmm0, DWORD PTR _lifetime$[ebp]
  000bb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c0	8b 45 18	 mov	 eax, DWORD PTR _object_3d_shape$[ebp]
  000c3	50		 push	 eax
  000c4	8d 4d cc	 lea	 ecx, DWORD PTR _vp$[ebp]
  000c7	51		 push	 ecx
  000c8	e8 00 00 00 00	 call	 ?create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z ; create_debug_3d_object
  000cd	89 45 fc	 mov	 DWORD PTR _new_$[ebp], eax

; 172  : 
; 173  : 	return (new_);

  000d0	8b 45 fc	 mov	 eax, DWORD PTR _new_$[ebp]

; 174  : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 1c 00	 ret	 28			; 0000001cH
?create_rotated_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVEC3D@@MMMHMM@Z ENDP ; create_rotated_debug_3d_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z
_TEXT	SEGMENT
_new_$ = -16						; size = 4
_relative_scale_vector$ = -12				; size = 12
_vp$ = 8						; size = 4
_object_3d_shape$ = 12					; size = 4
_lifetime$ = 16						; size = 4
_relative_scale$ = 20					; size = 4
?create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z PROC ; create_debug_3d_object, COMDAT

; 108  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 109  : 	vec3d
; 110  : 		relative_scale_vector;
; 111  : 
; 112  : 	debug_3d_object
; 113  : 		*new_;
; 114  : 
; 115  : 	ASSERT (vp);

  00009	83 7d 08 00	 cmp	 DWORD PTR _vp$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@create_deb
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z@4JA
  00014	83 c0 07	 add	 eax, 7
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02HPPNELPJ@vp@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@create_deb:

; 116  : 
; 117  : 	ASSERT (object_3d_shape > OBJECT_3D_INVALID_OBJECT_INDEX);

  00027	83 7d 0c 00	 cmp	 DWORD PTR _object_3d_shape$[ebp], 0
  0002b	7f 18		 jg	 SHORT $LN3@create_deb
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z@4JA
  00032	83 c0 09	 add	 eax, 9
  00035	50		 push	 eax
  00036	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@NAJJFOJE@object_3d_shape?5?$DO?5OBJECT_3D_INV@
  00040	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@create_deb:

; 118  : 
; 119  : 	ASSERT (lifetime >= 0.0);

  00045	f3 0f 5a 45 10	 cvtss2sd xmm0, DWORD PTR _lifetime$[ebp]
  0004a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00052	73 18		 jae	 SHORT $LN4@create_deb
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z@4JA
  00059	83 c0 0b	 add	 eax, 11			; 0000000bH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@IFCBGODA@lifetime?5?$DO?$DN?50?40@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@create_deb:

; 120  : 
; 121  : 	new_ = (debug_3d_object *) malloc_fast_mem (sizeof (debug_3d_object));

  0006c	6a 4c		 push	 76			; 0000004cH
  0006e	e8 00 00 00 00	 call	 ?malloc_fast_memory@@YGPAXI@Z ; malloc_fast_memory
  00073	89 45 f0	 mov	 DWORD PTR _new_$[ebp], eax

; 122  : 
; 123  : 	new_->vp = *vp;

  00076	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0007b	8b 75 08	 mov	 esi, DWORD PTR _vp$[ebp]
  0007e	8b 7d f0	 mov	 edi, DWORD PTR _new_$[ebp]
  00081	f3 a5		 rep movsd

; 124  : 
; 125  : 	new_->object_3d_shape = object_3d_shape;

  00083	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  00086	8b 4d 0c	 mov	 ecx, DWORD PTR _object_3d_shape$[ebp]
  00089	89 48 30	 mov	 DWORD PTR [eax+48], ecx

; 126  : 
; 127  : 	new_->lifetime = lifetime;

  0008c	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  0008f	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _lifetime$[ebp]
  00094	f3 0f 11 40 34	 movss	 DWORD PTR [eax+52], xmm0

; 128  : 
; 129  : 	relative_scale_vector.x = relative_scale;

  00099	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _relative_scale$[ebp]
  0009e	f3 0f 11 45 f4	 movss	 DWORD PTR _relative_scale_vector$[ebp], xmm0

; 130  : 	relative_scale_vector.y = relative_scale;

  000a3	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _relative_scale$[ebp]
  000a8	f3 0f 11 45 f8	 movss	 DWORD PTR _relative_scale_vector$[ebp+4], xmm0

; 131  : 	relative_scale_vector.z = relative_scale;

  000ad	f3 0f 10 45 14	 movss	 xmm0, DWORD PTR _relative_scale$[ebp]
  000b2	f3 0f 11 45 fc	 movss	 DWORD PTR _relative_scale_vector$[ebp+8], xmm0

; 132  : 
; 133  : 	new_->relative_scale = relative_scale_vector;

  000b7	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  000ba	83 c0 38	 add	 eax, 56			; 00000038H
  000bd	8b 4d f4	 mov	 ecx, DWORD PTR _relative_scale_vector$[ebp]
  000c0	89 08		 mov	 DWORD PTR [eax], ecx
  000c2	8b 55 f8	 mov	 edx, DWORD PTR _relative_scale_vector$[ebp+4]
  000c5	89 50 04	 mov	 DWORD PTR [eax+4], edx
  000c8	8b 4d fc	 mov	 ecx, DWORD PTR _relative_scale_vector$[ebp+8]
  000cb	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 134  : 
; 135  : 	new_->succ = debug_3d_object_list;

  000ce	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  000d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A ; debug_3d_object_list
  000d7	89 48 44	 mov	 DWORD PTR [eax+68], ecx

; 136  : 
; 137  : 	new_->pred = NULL;

  000da	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  000dd	c7 40 48 00 00
	00 00		 mov	 DWORD PTR [eax+72], 0

; 138  : 
; 139  : 	if (new_->succ)

  000e4	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  000e7	83 78 44 00	 cmp	 DWORD PTR [eax+68], 0
  000eb	74 0c		 je	 SHORT $LN5@create_deb

; 140  : 	{
; 141  : 		new_->succ->pred = new_;

  000ed	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  000f0	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  000f3	8b 55 f0	 mov	 edx, DWORD PTR _new_$[ebp]
  000f6	89 51 48	 mov	 DWORD PTR [ecx+72], edx
$LN5@create_deb:

; 142  : 	}
; 143  : 
; 144  : 	debug_3d_object_list = new_;

  000f9	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]
  000fc	a3 00 00 00 00	 mov	 DWORD PTR ?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A, eax ; debug_3d_object_list

; 145  : 
; 146  : 	return (new_);

  00101	8b 45 f0	 mov	 eax, DWORD PTR _new_$[ebp]

; 147  : }

  00104	5f		 pop	 edi
  00105	5e		 pop	 esi
  00106	5b		 pop	 ebx
  00107	8b e5		 mov	 esp, ebp
  00109	5d		 pop	 ebp
  0010a	c2 10 00	 ret	 16			; 00000010H
?create_debug_3d_object@@YGPAUDEBUG_3D_OBJECT@@PAUVIEWPOINT@@HMM@Z ENDP ; create_debug_3d_object
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?deinitialise_debug_3d_objects@@YGXXZ
_TEXT	SEGMENT
?deinitialise_debug_3d_objects@@YGXXZ PROC		; deinitialise_debug_3d_objects, COMDAT

; 99   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 100  : 	destroy_all_debug_3d_objects ();

  00009	e8 00 00 00 00	 call	 ?destroy_all_debug_3d_objects@@YGXXZ ; destroy_all_debug_3d_objects

; 101  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?deinitialise_debug_3d_objects@@YGXXZ ENDP		; deinitialise_debug_3d_objects
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\system\en_debug\en_dbdrw.c
;	COMDAT ?initialise_debug_3d_objects@@YGXXZ
_TEXT	SEGMENT
?initialise_debug_3d_objects@@YGXXZ PROC		; initialise_debug_3d_objects, COMDAT

; 90   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 91   : 	ASSERT (!debug_3d_object_list);

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?debug_3d_object_list@@3PAUDEBUG_3D_OBJECT@@A, 0 ; debug_3d_object_list
  00010	74 18		 je	 SHORT $LN1@initialise
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??initialise_debug_3d_objects@@YGXXZ@4JA
  00017	83 c0 01	 add	 eax, 1
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@GCPLOAOB@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@MCNMBNIF@?$CBdebug_3d_object_list@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN1@initialise:

; 92   : }

  0002a	5f		 pop	 edi
  0002b	5e		 pop	 esi
  0002c	5b		 pop	 ebx
  0002d	8b e5		 mov	 esp, ebp
  0002f	5d		 pop	 ebp
  00030	c3		 ret	 0
?initialise_debug_3d_objects@@YGXXZ ENDP		; initialise_debug_3d_objects
_TEXT	ENDS
END
