; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\fixed\siteupdt\su_updt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_site_updatable_update_functions@@YGXXZ ; overload_site_updatable_update_functions
PUBLIC	?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA ; `update_server'::`1'::__LINE__Var
PUBLIC	??_C@_0EM@DALMMAP@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0P@PBJNMHLM@raw?9?$DOfix?4alive@		; `string'
PUBLIC	?__LINE__Var@?0??update_client@@YGXPAUENTITY@@@Z@4JA ; `update_client'::`1'::__LINE__Var
PUBLIC	__real@4000000000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?close_client_server_entity_loading_doors@@YGXPAUENTITY@@@Z:PROC ; close_client_server_entity_loading_doors
EXTRN	?update_site_loading_doors@@YGXPAUENTITY@@@Z:PROC ; update_site_loading_doors
EXTRN	?update_site_radar@@YGXPAUENTITY@@@Z:PROC	; update_site_radar
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA:BYTE ; fn_update_client_server_entity
EXTRN	__fltused:DWORD
;	COMDAT __real@4000000000000000
CONST	SEGMENT
__real@4000000000000000 DQ 04000000000000000r	; 2
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_client@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_client@@YGXPAUENTITY@@@Z@4JA DD 070H ; `update_client'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0P@PBJNMHLM@raw?9?$DOfix?4alive@
CONST	SEGMENT
??_C@_0P@PBJNMHLM@raw?9?$DOfix?4alive@ DB 'raw->fix.alive', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EM@DALMMAP@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EM@DALMMAP@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nhv'
	DB	'90\projects\eech\aphavoc\source\entity\fixed\siteupdt\su_updt'
	DB	'.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA DD 050H ; `update_server'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\siteupdt\su_updt.c
;	COMDAT ?update_client@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_client@@YGXPAUENTITY@@@Z PROC			; update_client, COMDAT

; 112  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 113  : 
; 114  : 	site_updatable
; 115  : 		*raw;
; 116  : 
; 117  : 	raw = (site_updatable *) get_local_entity_data (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 118  : 
; 119  : 	ASSERT (raw->fix.alive);

  00012	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00015	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00018	c1 e9 14	 shr	 ecx, 20			; 00000014H
  0001b	83 e1 01	 and	 ecx, 1
  0001e	75 18		 jne	 SHORT $LN2@update_cli
  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_client@@YGXPAUENTITY@@@Z@4JA
  00025	83 c0 07	 add	 eax, 7
  00028	50		 push	 eax
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DALMMAP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_0P@PBJNMHLM@raw?9?$DOfix?4alive@
  00033	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@update_cli:

; 120  : 	
; 121  : 	update_site_loading_doors (en);

  00038	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0003b	50		 push	 eax
  0003c	e8 00 00 00 00	 call	 ?update_site_loading_doors@@YGXPAUENTITY@@@Z ; update_site_loading_doors

; 122  : 
; 123  : 	update_site_radar (en);

  00041	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00044	50		 push	 eax
  00045	e8 00 00 00 00	 call	 ?update_site_radar@@YGXPAUENTITY@@@Z ; update_site_radar

; 124  : }

  0004a	5f		 pop	 edi
  0004b	5e		 pop	 esi
  0004c	5b		 pop	 ebx
  0004d	8b e5		 mov	 esp, ebp
  0004f	5d		 pop	 ebp
  00050	c2 04 00	 ret	 4
?update_client@@YGXPAUENTITY@@@Z ENDP			; update_client
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\siteupdt\su_updt.c
;	COMDAT ?update_server@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_server@@YGXPAUENTITY@@@Z PROC			; update_server, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 
; 82   : 	site_updatable
; 83   : 		*raw;
; 84   : 
; 85   : 	raw = (site_updatable *) get_local_entity_data (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 86   : 
; 87   : 	ASSERT (raw->fix.alive);

  00012	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00015	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00018	c1 e9 14	 shr	 ecx, 20			; 00000014H
  0001b	83 e1 01	 and	 ecx, 1
  0001e	75 18		 jne	 SHORT $LN2@update_ser
  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_server@@YGXPAUENTITY@@@Z@4JA
  00025	83 c0 07	 add	 eax, 7
  00028	50		 push	 eax
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@DALMMAP@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_0P@PBJNMHLM@raw?9?$DOfix?4alive@
  00033	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@update_ser:

; 88   : 
; 89   : 	update_site_loading_doors (en);

  00038	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0003b	50		 push	 eax
  0003c	e8 00 00 00 00	 call	 ?update_site_loading_doors@@YGXPAUENTITY@@@Z ; update_site_loading_doors

; 90   : 
; 91   : 	update_site_radar (en);

  00041	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00044	50		 push	 eax
  00045	e8 00 00 00 00	 call	 ?update_site_radar@@YGXPAUENTITY@@@Z ; update_site_radar

; 92   : 
; 93   : 	if (raw->loading_door_state == SITE_LOADING_DOORS_OPEN_FLOAT_VALUE)

  0004a	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0004d	f3 0f 5a 40 44	 cvtss2sd xmm0, DWORD PTR [eax+68]
  00052	66 0f 2e 05 00
	00 00 00	 ucomisd xmm0, QWORD PTR __real@4000000000000000
  0005a	9f		 lahf
  0005b	f6 c4 44	 test	 ah, 68			; 00000044H
  0005e	7a 3d		 jp	 SHORT $LN4@update_ser

; 94   : 	{
; 95   : 
; 96   : 		raw->loading_door_timer -= get_delta_time ();

  00060	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00063	f3 0f 10 40 40	 movss	 xmm0, DWORD PTR [eax+64]
  00068	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00070	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  00073	f3 0f 11 41 40	 movss	 DWORD PTR [ecx+64], xmm0

; 97   : 
; 98   : 		if (raw->loading_door_timer < 0.0)

  00078	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0007b	f3 0f 5a 40 40	 cvtss2sd xmm0, DWORD PTR [eax+64]
  00080	0f 57 c9	 xorps	 xmm1, xmm1
  00083	66 0f 2f c8	 comisd	 xmm1, xmm0
  00087	76 14		 jbe	 SHORT $LN4@update_ser

; 99   : 		{
; 100  : 			raw->loading_door_timer = 0.0;

  00089	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0008c	0f 57 c0	 xorps	 xmm0, xmm0
  0008f	f3 0f 11 40 40	 movss	 DWORD PTR [eax+64], xmm0

; 101  : 
; 102  : 			close_client_server_entity_loading_doors (en);

  00094	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00097	50		 push	 eax
  00098	e8 00 00 00 00	 call	 ?close_client_server_entity_loading_doors@@YGXPAUENTITY@@@Z ; close_client_server_entity_loading_doors
$LN4@update_ser:

; 103  : 		}
; 104  : 	}
; 105  : }

  0009d	5f		 pop	 edi
  0009e	5e		 pop	 esi
  0009f	5b		 pop	 ebx
  000a0	8b e5		 mov	 esp, ebp
  000a2	5d		 pop	 ebp
  000a3	c2 04 00	 ret	 4
?update_server@@YGXPAUENTITY@@@Z ENDP			; update_server
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\siteupdt\su_updt.c
;	COMDAT ?overload_site_updatable_update_functions@@YGXXZ
_TEXT	SEGMENT
?overload_site_updatable_update_functions@@YGXXZ PROC	; overload_site_updatable_update_functions, COMDAT

; 131  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 132  : 	fn_update_client_server_entity[ENTITY_TYPE_SITE_UPDATABLE][COMMS_MODEL_SERVER]	= update_server;

  00009	b8 08 00 00 00	 mov	 eax, 8
  0000e	6b c8 1e	 imul	 ecx, eax, 30
  00011	ba 04 00 00 00	 mov	 edx, 4
  00016	6b c2 00	 imul	 eax, edx, 0
  00019	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+eax], OFFSET ?update_server@@YGXPAUENTITY@@@Z ; update_server

; 133  : 
; 134  : 	fn_update_client_server_entity[ENTITY_TYPE_SITE_UPDATABLE][COMMS_MODEL_CLIENT]	= update_client;

  00024	b8 08 00 00 00	 mov	 eax, 8
  00029	6b c8 1e	 imul	 ecx, eax, 30
  0002c	ba 04 00 00 00	 mov	 edx, 4
  00031	c1 e2 00	 shl	 edx, 0
  00034	c7 84 11 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_update_client_server_entity@@3PAY01P6GXPAUENTITY@@@ZA[ecx+edx], OFFSET ?update_client@@YGXPAUENTITY@@@Z ; update_client

; 135  : }

  0003f	5f		 pop	 edi
  00040	5e		 pop	 esi
  00041	5b		 pop	 ebx
  00042	8b e5		 mov	 esp, ebp
  00044	5d		 pop	 ebp
  00045	c3		 ret	 0
?overload_site_updatable_update_functions@@YGXXZ ENDP	; overload_site_updatable_update_functions
_TEXT	ENDS
END
