; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\havoc\ha_thrt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_havoc_threat_warning_system@@YGXXZ	; initialise_havoc_threat_warning_system
PUBLIC	?deinitialise_havoc_threat_warning_system@@YGXXZ ; deinitialise_havoc_threat_warning_system
PUBLIC	?activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z ; activate_havoc_threat_warning_system
PUBLIC	?update_havoc_threat_warning_system@@YGXXZ	; update_havoc_threat_warning_system
PUBLIC	?__LINE__Var@?0??activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z@4JA ; `activate_havoc_threat_warning_system'::`1'::__LINE__Var
PUBLIC	??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_06BDLPPAPF@threat@			; `string'
PUBLIC	?__LINE__Var@?0??update_havoc_threat_warning_system@@YGXXZ@4JA ; `update_havoc_threat_warning_system'::`1'::__LINE__Var
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f000000
PUBLIC	__real@3fc00000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z:PROC ; play_client_server_cpg_contact_message
EXTRN	?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z:PROC ; get_speech_heading_type
EXTRN	?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z:PROC ; get_speech_distance_type
EXTRN	?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z:PROC ; pause_local_entity_sound_type
EXTRN	?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z:PROC ; resume_local_entity_sound_type
EXTRN	?set_havoc_radar_jammer_auto@@YGXH@Z:PROC	; set_havoc_radar_jammer_auto
EXTRN	?set_havoc_infra_red_jammer_auto@@YGXH@Z:PROC	; set_havoc_infra_red_jammer_auto
EXTRN	?get_time_acceleration@@YGHXZ:PROC		; get_time_acceleration
EXTRN	?set_min_time_acceleration@@YGXPAUEVENT@@@Z:PROC ; set_min_time_acceleration
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A:DWORD	; havoc_damage
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?incoming_missile_sound_timer@@3MA DD 01H DUP (?)	; incoming_missile_sound_timer
?radar_locked_sound_timer@@3MA DD 01H DUP (?)		; radar_locked_sound_timer
_BSS	ENDS
;	COMDAT __real@3fc00000
CONST	SEGMENT
__real@3fc00000 DD 03fc00000r			; 1.5
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_havoc_threat_warning_system@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_havoc_threat_warning_system@@YGXXZ@4JA DD 014aH ; `update_havoc_threat_warning_system'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06BDLPPAPF@threat@
CONST	SEGMENT
??_C@_06BDLPPAPF@threat@ DB 'threat', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_t'
	DB	'hrt.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z@4JA DD 081H ; `activate_havoc_threat_warning_system'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_thrt.c
;	COMDAT ?reset_time_accel@@YGXXZ
_TEXT	SEGMENT
?reset_time_accel@@YGXXZ PROC				; reset_time_accel, COMDAT

; 117  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 118  : 	if (get_time_acceleration () != TIME_ACCELERATION_PAUSE)

  00009	e8 00 00 00 00	 call	 ?get_time_acceleration@@YGHXZ ; get_time_acceleration
  0000e	85 c0		 test	 eax, eax
  00010	74 07		 je	 SHORT $LN1@reset_time

; 119  : 	{
; 120  : 		set_min_time_acceleration (NULL);

  00012	6a 00		 push	 0
  00014	e8 00 00 00 00	 call	 ?set_min_time_acceleration@@YGXPAUEVENT@@@Z ; set_min_time_acceleration
$LN1@reset_time:

; 121  : 	}
; 122  : }

  00019	5f		 pop	 edi
  0001a	5e		 pop	 esi
  0001b	5b		 pop	 ebx
  0001c	8b e5		 mov	 esp, ebp
  0001e	5d		 pop	 ebp
  0001f	c3		 ret	 0
?reset_time_accel@@YGXXZ ENDP				; reset_time_accel
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_thrt.c
;	COMDAT ?update_havoc_threat_warning_system@@YGXXZ
_TEXT	SEGMENT
tv135 = -92						; size = 4
tv152 = -88						; size = 4
tv129 = -88						; size = 4
tv78 = -88						; size = 4
tv144 = -84						; size = 4
tv90 = -84						; size = 4
tv70 = -84						; size = 4
_threat$ = -16						; size = 4
_source$ = -12						; size = 4
_infra_red_jammer_on$ = -8				; size = 4
_radar_jammer_on$ = -4					; size = 4
?update_havoc_threat_warning_system@@YGXXZ PROC		; update_havoc_threat_warning_system, COMDAT

; 330  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 331  : 	int
; 332  : 		radar_jammer_on,
; 333  : 		infra_red_jammer_on;
; 334  : 
; 335  : 	entity
; 336  : 		*source,
; 337  : 		*threat;
; 338  : 
; 339  : 	source = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 f4	 mov	 DWORD PTR _source$[ebp], eax

; 340  : 
; 341  : 	radar_jammer_on = FALSE;

  00011	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 0

; 342  : 
; 343  : 	infra_red_jammer_on = FALSE;

  00018	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _infra_red_jammer_on$[ebp], 0

; 344  : 
; 345  : 	threat = get_local_entity_first_child (source, LIST_TYPE_TARGET);

  0001f	83 7d f4 00	 cmp	 DWORD PTR _source$[ebp], 0
  00023	74 0a		 je	 SHORT $LN17@update_hav
  00025	8b 45 f4	 mov	 eax, DWORD PTR _source$[ebp]
  00028	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002a	89 4d ac	 mov	 DWORD PTR tv70[ebp], ecx
  0002d	eb 21		 jmp	 SHORT $LN18@update_hav
$LN17@update_hav:
  0002f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_threat_warning_system@@YGXXZ@4JA
  00035	83 c2 0f	 add	 edx, 15			; 0000000fH
  00038	52		 push	 edx
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00043	50		 push	 eax
  00044	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00049	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv70[ebp], 0
$LN18@update_hav:
  00050	b9 01 00 00 00	 mov	 ecx, 1
  00055	85 c9		 test	 ecx, ecx
  00057	74 09		 je	 SHORT $LN19@update_hav
  00059	c7 45 a8 26 00
	00 00		 mov	 DWORD PTR tv78[ebp], 38	; 00000026H
  00060	eb 21		 jmp	 SHORT $LN20@update_hav
$LN19@update_hav:
  00062	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_threat_warning_system@@YGXXZ@4JA
  00068	83 c2 0f	 add	 edx, 15			; 0000000fH
  0006b	52		 push	 edx
  0006c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00071	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00076	50		 push	 eax
  00077	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007c	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv78[ebp], 0
$LN20@update_hav:
  00083	6a 26		 push	 38			; 00000026H
  00085	8b 4d f4	 mov	 ecx, DWORD PTR _source$[ebp]
  00088	51		 push	 ecx
  00089	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv70[ebp], 180
  00090	8b 45 a8	 mov	 eax, DWORD PTR tv78[ebp]
  00093	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  0009a	ff d1		 call	 ecx
  0009c	89 45 f0	 mov	 DWORD PTR _threat$[ebp], eax
$LN2@update_hav:

; 346  : 
; 347  : 	while (threat)

  0009f	83 7d f0 00	 cmp	 DWORD PTR _threat$[ebp], 0
  000a3	0f 84 36 01 00
	00		 je	 $LN3@update_hav

; 348  : 	{
; 349  : 		switch (get_local_entity_int_value (threat, INT_TYPE_THREAT_TYPE))

  000a9	83 7d f0 00	 cmp	 DWORD PTR _threat$[ebp], 0
  000ad	74 0a		 je	 SHORT $LN21@update_hav
  000af	8b 45 f0	 mov	 eax, DWORD PTR _threat$[ebp]
  000b2	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b4	89 4d ac	 mov	 DWORD PTR tv90[ebp], ecx
  000b7	eb 1d		 jmp	 SHORT $LN22@update_hav
$LN21@update_hav:
  000b9	68 5d 01 00 00	 push	 349			; 0000015dH
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c9	52		 push	 edx
  000ca	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000cf	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv90[ebp], 0
$LN22@update_hav:
  000d6	b8 01 00 00 00	 mov	 eax, 1
  000db	85 c0		 test	 eax, eax
  000dd	74 09		 je	 SHORT $LN23@update_hav
  000df	c7 45 a8 e9 00
	00 00		 mov	 DWORD PTR tv129[ebp], 233 ; 000000e9H
  000e6	eb 1d		 jmp	 SHORT $LN24@update_hav
$LN23@update_hav:
  000e8	68 5d 01 00 00	 push	 349			; 0000015dH
  000ed	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000f8	51		 push	 ecx
  000f9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000fe	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv129[ebp], 0
$LN24@update_hav:
  00105	68 e9 00 00 00	 push	 233			; 000000e9H
  0010a	8b 55 f0	 mov	 edx, DWORD PTR _threat$[ebp]
  0010d	52		 push	 edx
  0010e	69 45 ac 5c 04
	00 00		 imul	 eax, DWORD PTR tv90[ebp], 1116
  00115	8b 4d a8	 mov	 ecx, DWORD PTR tv129[ebp]
  00118	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0011f	ff d2		 call	 edx
  00121	89 45 a4	 mov	 DWORD PTR tv135[ebp], eax
  00124	8b 45 a4	 mov	 eax, DWORD PTR tv135[ebp]
  00127	83 e8 01	 sub	 eax, 1
  0012a	89 45 a4	 mov	 DWORD PTR tv135[ebp], eax
  0012d	83 7d a4 06	 cmp	 DWORD PTR tv135[ebp], 6
  00131	77 27		 ja	 SHORT $LN4@update_hav
  00133	8b 4d a4	 mov	 ecx, DWORD PTR tv135[ebp]
  00136	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN29@update_hav[ecx*4]

; 350  : 		{
; 351  : 			////////////////////////////////////////
; 352  : 			case THREAT_TYPE_INVALID:
; 353  : 			////////////////////////////////////////
; 354  : 			{
; 355  : 				break;

  0013d	eb 1b		 jmp	 SHORT $LN4@update_hav
$LN7@update_hav:

; 356  : 			}
; 357  : 			////////////////////////////////////////
; 358  : 			case THREAT_TYPE_RF_MISSILE:
; 359  : 			////////////////////////////////////////
; 360  : 			{
; 361  : 				radar_jammer_on = TRUE;

  0013f	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 1

; 362  : 
; 363  : 				break;

  00146	eb 12		 jmp	 SHORT $LN4@update_hav
$LN8@update_hav:

; 364  : 			}
; 365  : 			////////////////////////////////////////
; 366  : 			case THREAT_TYPE_IR_MISSILE:
; 367  : 			////////////////////////////////////////
; 368  : 			{
; 369  : 				infra_red_jammer_on = TRUE;

  00148	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _infra_red_jammer_on$[ebp], 1

; 370  : 
; 371  : 				break;

  0014f	eb 09		 jmp	 SHORT $LN4@update_hav

; 372  : 			}
; 373  : 			////////////////////////////////////////
; 374  : 			case THREAT_TYPE_LASER_MISSILE:
; 375  : 			////////////////////////////////////////
; 376  : 			{
; 377  : 				break;

  00151	eb 07		 jmp	 SHORT $LN4@update_hav
$LN10@update_hav:

; 378  : 			}
; 379  : 			////////////////////////////////////////
; 380  : 			case THREAT_TYPE_AIRBORNE_RADAR:
; 381  : 			case THREAT_TYPE_SAM:
; 382  : 			case THREAT_TYPE_AAA:
; 383  : 			case THREAT_TYPE_EARLY_WARNING_RADAR:
; 384  : 			////////////////////////////////////////
; 385  : 			{
; 386  : 				radar_jammer_on = TRUE;

  00153	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 1
$LN4@update_hav:

; 387  : 
; 388  : 				break;
; 389  : 			}
; 390  : 		}
; 391  : 
; 392  : 		threat = get_local_entity_child_succ (threat, LIST_TYPE_TARGET);

  0015a	83 7d f0 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0015e	74 0a		 je	 SHORT $LN25@update_hav
  00160	8b 45 f0	 mov	 eax, DWORD PTR _threat$[ebp]
  00163	8b 08		 mov	 ecx, DWORD PTR [eax]
  00165	89 4d ac	 mov	 DWORD PTR tv144[ebp], ecx
  00168	eb 21		 jmp	 SHORT $LN26@update_hav
$LN25@update_hav:
  0016a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_threat_warning_system@@YGXXZ@4JA
  00170	83 c2 3e	 add	 edx, 62			; 0000003eH
  00173	52		 push	 edx
  00174	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00179	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0017e	50		 push	 eax
  0017f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00184	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv144[ebp], 0
$LN26@update_hav:
  0018b	b9 01 00 00 00	 mov	 ecx, 1
  00190	85 c9		 test	 ecx, ecx
  00192	74 09		 je	 SHORT $LN27@update_hav
  00194	c7 45 a8 26 00
	00 00		 mov	 DWORD PTR tv152[ebp], 38 ; 00000026H
  0019b	eb 21		 jmp	 SHORT $LN28@update_hav
$LN27@update_hav:
  0019d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_havoc_threat_warning_system@@YGXXZ@4JA
  001a3	83 c2 3e	 add	 edx, 62			; 0000003eH
  001a6	52		 push	 edx
  001a7	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001b1	50		 push	 eax
  001b2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b7	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv152[ebp], 0
$LN28@update_hav:
  001be	6a 26		 push	 38			; 00000026H
  001c0	8b 4d f0	 mov	 ecx, DWORD PTR _threat$[ebp]
  001c3	51		 push	 ecx
  001c4	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv144[ebp], 180
  001cb	8b 45 a8	 mov	 eax, DWORD PTR tv152[ebp]
  001ce	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001d5	ff d1		 call	 ecx
  001d7	89 45 f0	 mov	 DWORD PTR _threat$[ebp], eax

; 393  : 	}

  001da	e9 c0 fe ff ff	 jmp	 $LN2@update_hav
$LN3@update_hav:

; 394  : 
; 395  : 	//
; 396  : 	// jammers
; 397  : 	//
; 398  : 
; 399  : 	if (havoc_damage.radar_warning_system)

  001df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  001e4	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  001e7	83 e0 01	 and	 eax, 1
  001ea	74 07		 je	 SHORT $LN11@update_hav

; 400  : 	{
; 401  : 		radar_jammer_on = FALSE;

  001ec	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _radar_jammer_on$[ebp], 0
$LN11@update_hav:

; 402  : 	}
; 403  : 
; 404  : 	set_havoc_radar_jammer_auto (radar_jammer_on);

  001f3	8b 45 fc	 mov	 eax, DWORD PTR _radar_jammer_on$[ebp]
  001f6	50		 push	 eax
  001f7	e8 00 00 00 00	 call	 ?set_havoc_radar_jammer_auto@@YGXH@Z ; set_havoc_radar_jammer_auto

; 405  : 
; 406  : 	set_havoc_infra_red_jammer_auto (infra_red_jammer_on);

  001fc	8b 45 f8	 mov	 eax, DWORD PTR _infra_red_jammer_on$[ebp]
  001ff	50		 push	 eax
  00200	e8 00 00 00 00	 call	 ?set_havoc_infra_red_jammer_auto@@YGXH@Z ; set_havoc_infra_red_jammer_auto

; 407  : 
; 408  : 	//
; 409  : 	// warning sounds
; 410  : 	//
; 411  : 
; 412  : 	if (incoming_missile_sound_timer > 0.0)

  00205	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?incoming_missile_sound_timer@@3MA
  0020d	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00215	76 42		 jbe	 SHORT $LN13@update_hav

; 413  : 	{
; 414  : 		incoming_missile_sound_timer -= get_delta_time ();

  00217	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?incoming_missile_sound_timer@@3MA
  0021f	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00227	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 415  : 
; 416  : 		if (incoming_missile_sound_timer <= 0.0)

  0022f	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?incoming_missile_sound_timer@@3MA
  00237	0f 57 c9	 xorps	 xmm1, xmm1
  0023a	66 0f 2f c8	 comisd	 xmm1, xmm0
  0023e	72 19		 jb	 SHORT $LN13@update_hav

; 417  : 		{
; 418  : 			pause_local_entity_sound_type (source, ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING, 0.5);

  00240	51		 push	 ecx
  00241	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00249	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024e	6a 17		 push	 23			; 00000017H
  00250	8b 45 f4	 mov	 eax, DWORD PTR _source$[ebp]
  00253	50		 push	 eax
  00254	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN13@update_hav:

; 419  : 		}
; 420  : 	}
; 421  : 
; 422  : 	if (radar_locked_sound_timer > 0.0)

  00259	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?radar_locked_sound_timer@@3MA
  00261	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@0000000000000000
  00269	76 42		 jbe	 SHORT $LN15@update_hav

; 423  : 	{
; 424  : 		radar_locked_sound_timer -= get_delta_time ();

  0026b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?radar_locked_sound_timer@@3MA
  00273	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  0027b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 425  : 
; 426  : 		if (radar_locked_sound_timer <= 0.0)

  00283	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?radar_locked_sound_timer@@3MA
  0028b	0f 57 c9	 xorps	 xmm1, xmm1
  0028e	66 0f 2f c8	 comisd	 xmm1, xmm0
  00292	72 19		 jb	 SHORT $LN15@update_hav

; 427  : 		{
; 428  : 			pause_local_entity_sound_type (source, ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED, 0.5);

  00294	51		 push	 ecx
  00295	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0029d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002a2	6a 1c		 push	 28			; 0000001cH
  002a4	8b 45 f4	 mov	 eax, DWORD PTR _source$[ebp]
  002a7	50		 push	 eax
  002a8	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN15@update_hav:

; 429  : 		}
; 430  : 	}
; 431  : }

  002ad	5f		 pop	 edi
  002ae	5e		 pop	 esi
  002af	5b		 pop	 ebx
  002b0	8b e5		 mov	 esp, ebp
  002b2	5d		 pop	 ebp
  002b3	c3		 ret	 0
$LN29@update_hav:
  002b4	00 00 00 00	 DD	 $LN7@update_hav
  002b8	00 00 00 00	 DD	 $LN8@update_hav
  002bc	00 00 00 00	 DD	 $LN4@update_hav
  002c0	00 00 00 00	 DD	 $LN10@update_hav
  002c4	00 00 00 00	 DD	 $LN10@update_hav
  002c8	00 00 00 00	 DD	 $LN10@update_hav
  002cc	00 00 00 00	 DD	 $LN10@update_hav
?update_havoc_threat_warning_system@@YGXXZ ENDP		; update_havoc_threat_warning_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_thrt.c
;	COMDAT ?activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv90 = -76						; size = 4
tv286 = -72						; size = 4
tv242 = -72						; size = 4
tv208 = -72						; size = 4
tv179 = -72						; size = 4
tv84 = -72						; size = 4
tv279 = -68						; size = 4
tv235 = -68						; size = 4
tv201 = -68						; size = 4
tv172 = -68						; size = 4
tv77 = -68						; size = 4
_threat$ = 8						; size = 4
?activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z PROC ; activate_havoc_threat_warning_system, COMDAT

; 129  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 130  : 	ASSERT (threat);

  00009	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@activate_h
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_06BDLPPAPF@threat@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@activate_h:

; 131  : 
; 132  : 	if (havoc_damage.threat_warning_display)

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  0002c	c1 e8 14	 shr	 eax, 20			; 00000014H
  0002f	83 e0 01	 and	 eax, 1
  00032	74 05		 je	 SHORT $LN5@activate_h

; 133  : 	{
; 134  : 		return;

  00034	e9 56 05 00 00	 jmp	 $LN1@activate_h
$LN5@activate_h:

; 135  : 	}
; 136  : 
; 137  : 	switch (get_local_entity_int_value (threat, INT_TYPE_THREAT_TYPE))

  00039	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0003d	74 0a		 je	 SHORT $LN26@activate_h
  0003f	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00042	8b 08		 mov	 ecx, DWORD PTR [eax]
  00044	89 4d bc	 mov	 DWORD PTR tv77[ebp], ecx
  00047	eb 1d		 jmp	 SHORT $LN27@activate_h
$LN26@activate_h:
  00049	68 89 00 00 00	 push	 137			; 00000089H
  0004e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00053	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00059	52		 push	 edx
  0005a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0005f	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv77[ebp], 0
$LN27@activate_h:
  00066	b8 01 00 00 00	 mov	 eax, 1
  0006b	85 c0		 test	 eax, eax
  0006d	74 09		 je	 SHORT $LN28@activate_h
  0006f	c7 45 b8 e9 00
	00 00		 mov	 DWORD PTR tv84[ebp], 233 ; 000000e9H
  00076	eb 1d		 jmp	 SHORT $LN29@activate_h
$LN28@activate_h:
  00078	68 89 00 00 00	 push	 137			; 00000089H
  0007d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00082	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00088	51		 push	 ecx
  00089	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008e	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN29@activate_h:
  00095	68 e9 00 00 00	 push	 233			; 000000e9H
  0009a	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0009d	52		 push	 edx
  0009e	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv77[ebp], 1116
  000a5	8b 4d b8	 mov	 ecx, DWORD PTR tv84[ebp]
  000a8	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  000af	ff d2		 call	 edx
  000b1	89 45 b4	 mov	 DWORD PTR tv90[ebp], eax
  000b4	8b 45 b4	 mov	 eax, DWORD PTR tv90[ebp]
  000b7	83 e8 01	 sub	 eax, 1
  000ba	89 45 b4	 mov	 DWORD PTR tv90[ebp], eax
  000bd	83 7d b4 05	 cmp	 DWORD PTR tv90[ebp], 5
  000c1	0f 87 c8 04 00
	00		 ja	 $LN2@activate_h
  000c7	8b 4d b4	 mov	 ecx, DWORD PTR tv90[ebp]
  000ca	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN46@activate_h[ecx*4]

; 138  : 	{
; 139  : 		////////////////////////////////////////
; 140  : 		case THREAT_TYPE_INVALID:
; 141  : 		////////////////////////////////////////
; 142  : 		{
; 143  : 			break;

  000d1	e9 b9 04 00 00	 jmp	 $LN2@activate_h
$LN7@activate_h:

; 144  : 		}
; 145  : 		////////////////////////////////////////
; 146  : 		case THREAT_TYPE_RF_MISSILE:
; 147  : 		////////////////////////////////////////
; 148  : 		{
; 149  : 			if (!havoc_damage.radar_warning_system)

  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  000db	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  000de	83 e0 01	 and	 eax, 1
  000e1	75 51		 jne	 SHORT $LN8@activate_h

; 150  : 			{
; 151  : 				reset_time_accel ();

  000e3	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 152  : 
; 153  : 				incoming_missile_sound_timer = INCOMING_MISSILE_SOUND_PERIOD;

  000e8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  000f0	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 154  : 
; 155  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING);

  000f8	6a 17		 push	 23			; 00000017H
  000fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000ff	50		 push	 eax
  00100	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 156  : 
; 157  : 				play_client_server_cpg_contact_message

  00105	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00108	50		 push	 eax
  00109	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0010f	51		 push	 ecx
  00110	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  00115	50		 push	 eax
  00116	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00119	52		 push	 edx
  0011a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  00125	50		 push	 eax
  00126	6a 69		 push	 105			; 00000069H
  00128	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0012e	51		 push	 ecx
  0012f	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN8@activate_h:

; 158  : 				(
; 159  : 					get_gunship_entity (),
; 160  : 					SPEECH_CPG_INCOMING_MISSILE,
; 161  : 					get_speech_heading_type (get_gunship_entity (), threat),
; 162  : 					get_speech_distance_type (get_gunship_entity (), threat)
; 163  : 				);
; 164  : 			}
; 165  : 
; 166  : 			break;

  00134	e9 56 04 00 00	 jmp	 $LN2@activate_h
$LN9@activate_h:

; 167  : 		}
; 168  : 		////////////////////////////////////////
; 169  : 		case THREAT_TYPE_IR_MISSILE:
; 170  : 		////////////////////////////////////////
; 171  : 		{
; 172  : 			reset_time_accel ();

  00139	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 173  : 
; 174  : 			incoming_missile_sound_timer = INCOMING_MISSILE_SOUND_PERIOD;

  0013e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  00146	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 175  : 
; 176  : 			resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING);

  0014e	6a 17		 push	 23			; 00000017H
  00150	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00155	50		 push	 eax
  00156	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 177  : 
; 178  : 			play_client_server_cpg_contact_message

  0015b	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  0015e	50		 push	 eax
  0015f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00165	51		 push	 ecx
  00166	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  0016b	50		 push	 eax
  0016c	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  0016f	52		 push	 edx
  00170	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00175	50		 push	 eax
  00176	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  0017b	50		 push	 eax
  0017c	6a 69		 push	 105			; 00000069H
  0017e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00184	51		 push	 ecx
  00185	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 179  : 			(
; 180  : 				get_gunship_entity (),
; 181  : 				SPEECH_CPG_INCOMING_MISSILE,
; 182  : 				get_speech_heading_type (get_gunship_entity (), threat),
; 183  : 				get_speech_distance_type (get_gunship_entity (), threat)
; 184  : 			);
; 185  : 
; 186  : 			break;

  0018a	e9 00 04 00 00	 jmp	 $LN2@activate_h
$LN10@activate_h:

; 187  : 		}
; 188  : 		////////////////////////////////////////
; 189  : 		case THREAT_TYPE_LASER_MISSILE:
; 190  : 		////////////////////////////////////////
; 191  : 		{
; 192  : 			reset_time_accel ();

  0018f	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 193  : 
; 194  : 			incoming_missile_sound_timer = INCOMING_MISSILE_SOUND_PERIOD;

  00194	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  0019c	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 195  : 
; 196  : 			resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING);

  001a4	6a 17		 push	 23			; 00000017H
  001a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001ab	50		 push	 eax
  001ac	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 197  : 
; 198  : 			play_client_server_cpg_contact_message

  001b1	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  001b4	50		 push	 eax
  001b5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001bb	51		 push	 ecx
  001bc	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  001c1	50		 push	 eax
  001c2	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  001c5	52		 push	 edx
  001c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001cb	50		 push	 eax
  001cc	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  001d1	50		 push	 eax
  001d2	6a 69		 push	 105			; 00000069H
  001d4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001da	51		 push	 ecx
  001db	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 199  : 			(
; 200  : 				get_gunship_entity (),
; 201  : 				SPEECH_CPG_INCOMING_MISSILE,
; 202  : 				get_speech_heading_type (get_gunship_entity (), threat),
; 203  : 				get_speech_distance_type (get_gunship_entity (), threat)
; 204  : 			);
; 205  : 
; 206  : 			break;

  001e0	e9 aa 03 00 00	 jmp	 $LN2@activate_h
$LN11@activate_h:

; 207  : 		}
; 208  : 		////////////////////////////////////////
; 209  : 		case THREAT_TYPE_AIRBORNE_RADAR:
; 210  : 		////////////////////////////////////////
; 211  : 		{
; 212  : 			if (!havoc_damage.radar_warning_system)

  001e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  001ea	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  001ed	83 e0 01	 and	 eax, 1
  001f0	0f 85 77 01 00
	00		 jne	 $LN15@activate_h

; 213  : 			{
; 214  : 				reset_time_accel ();

  001f6	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 215  : 
; 216  : 				radar_locked_sound_timer = RADAR_LOCKED_SOUND_PERIOD;

  001fb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  00203	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 217  : 
; 218  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED);

  0020b	6a 1c		 push	 28			; 0000001cH
  0020d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00212	50		 push	 eax
  00213	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 219  : 
; 220  : 				if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_HELICOPTER))

  00218	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  0021c	74 0a		 je	 SHORT $LN30@activate_h
  0021e	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00221	8b 08		 mov	 ecx, DWORD PTR [eax]
  00223	89 4d bc	 mov	 DWORD PTR tv172[ebp], ecx
  00226	eb 1d		 jmp	 SHORT $LN31@activate_h
$LN30@activate_h:
  00228	68 dc 00 00 00	 push	 220			; 000000dcH
  0022d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00232	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00238	52		 push	 edx
  00239	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0023e	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv172[ebp], 0
$LN31@activate_h:
  00245	b8 01 00 00 00	 mov	 eax, 1
  0024a	85 c0		 test	 eax, eax
  0024c	74 09		 je	 SHORT $LN32@activate_h
  0024e	c7 45 b8 5c 00
	00 00		 mov	 DWORD PTR tv179[ebp], 92 ; 0000005cH
  00255	eb 1d		 jmp	 SHORT $LN33@activate_h
$LN32@activate_h:
  00257	68 dc 00 00 00	 push	 220			; 000000dcH
  0025c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  00261	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00267	51		 push	 ecx
  00268	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0026d	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv179[ebp], 0
$LN33@activate_h:
  00274	6a 5c		 push	 92			; 0000005cH
  00276	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00279	52		 push	 edx
  0027a	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv172[ebp], 1116
  00281	8b 4d b8	 mov	 ecx, DWORD PTR tv179[ebp]
  00284	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0028b	ff d2		 call	 edx
  0028d	85 c0		 test	 eax, eax
  0028f	74 34		 je	 SHORT $LN13@activate_h

; 221  : 				{
; 222  : 					play_client_server_cpg_contact_message

  00291	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00294	50		 push	 eax
  00295	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0029b	51		 push	 ecx
  0029c	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  002a1	50		 push	 eax
  002a2	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  002a5	52		 push	 edx
  002a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002ab	50		 push	 eax
  002ac	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  002b1	50		 push	 eax
  002b2	6a 73		 push	 115			; 00000073H
  002b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002ba	51		 push	 ecx
  002bb	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
  002c0	e9 a8 00 00 00	 jmp	 $LN15@activate_h
$LN13@activate_h:

; 223  : 					(
; 224  : 						get_gunship_entity (),
; 225  : 						SPEECH_CPG_CHOPPERS,
; 226  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 227  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 228  : 					);
; 229  : 				}
; 230  : 				else if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_FIXED_WING))

  002c5	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  002c9	74 0a		 je	 SHORT $LN34@activate_h
  002cb	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  002ce	8b 08		 mov	 ecx, DWORD PTR [eax]
  002d0	89 4d bc	 mov	 DWORD PTR tv201[ebp], ecx
  002d3	eb 1d		 jmp	 SHORT $LN35@activate_h
$LN34@activate_h:
  002d5	68 e6 00 00 00	 push	 230			; 000000e6H
  002da	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  002df	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002e5	52		 push	 edx
  002e6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002eb	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv201[ebp], 0
$LN35@activate_h:
  002f2	b8 01 00 00 00	 mov	 eax, 1
  002f7	85 c0		 test	 eax, eax
  002f9	74 09		 je	 SHORT $LN36@activate_h
  002fb	c7 45 b8 5b 00
	00 00		 mov	 DWORD PTR tv208[ebp], 91 ; 0000005bH
  00302	eb 1d		 jmp	 SHORT $LN37@activate_h
$LN36@activate_h:
  00304	68 e6 00 00 00	 push	 230			; 000000e6H
  00309	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  0030e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00314	51		 push	 ecx
  00315	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0031a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv208[ebp], 0
$LN37@activate_h:
  00321	6a 5b		 push	 91			; 0000005bH
  00323	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00326	52		 push	 edx
  00327	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv201[ebp], 1116
  0032e	8b 4d b8	 mov	 ecx, DWORD PTR tv208[ebp]
  00331	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00338	ff d2		 call	 edx
  0033a	85 c0		 test	 eax, eax
  0033c	74 2f		 je	 SHORT $LN15@activate_h

; 231  : 				{
; 232  : 					play_client_server_cpg_contact_message

  0033e	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00341	50		 push	 eax
  00342	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00348	51		 push	 ecx
  00349	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  0034e	50		 push	 eax
  0034f	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00352	52		 push	 edx
  00353	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00358	50		 push	 eax
  00359	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  0035e	50		 push	 eax
  0035f	6a 74		 push	 116			; 00000074H
  00361	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00367	51		 push	 ecx
  00368	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN15@activate_h:

; 233  : 					(
; 234  : 						get_gunship_entity (),
; 235  : 						SPEECH_CPG_FAST_MOVERS,
; 236  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 237  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 238  : 					);
; 239  : 				}
; 240  : 			}
; 241  : 
; 242  : 			break;

  0036d	e9 1d 02 00 00	 jmp	 $LN2@activate_h
$LN16@activate_h:

; 243  : 		}
; 244  : 		////////////////////////////////////////
; 245  : 		case THREAT_TYPE_SAM:
; 246  : 		////////////////////////////////////////
; 247  : 		{
; 248  : 			if (!havoc_damage.radar_warning_system)

  00372	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00377	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  0037a	83 e0 01	 and	 eax, 1
  0037d	0f 85 fb 00 00
	00		 jne	 $LN19@activate_h

; 249  : 			{
; 250  : 				reset_time_accel ();

  00383	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 251  : 
; 252  : 				radar_locked_sound_timer = RADAR_LOCKED_SOUND_PERIOD;

  00388	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  00390	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 253  : 
; 254  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED);

  00398	6a 1c		 push	 28			; 0000001cH
  0039a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0039f	50		 push	 eax
  003a0	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 255  : 
; 256  : 				if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_SHIP_VEHICLE))

  003a5	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  003a9	74 0a		 je	 SHORT $LN38@activate_h
  003ab	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  003ae	8b 08		 mov	 ecx, DWORD PTR [eax]
  003b0	89 4d bc	 mov	 DWORD PTR tv235[ebp], ecx
  003b3	eb 1d		 jmp	 SHORT $LN39@activate_h
$LN38@activate_h:
  003b5	68 00 01 00 00	 push	 256			; 00000100H
  003ba	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  003bf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  003c5	52		 push	 edx
  003c6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003cb	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv235[ebp], 0
$LN39@activate_h:
  003d2	b8 01 00 00 00	 mov	 eax, 1
  003d7	85 c0		 test	 eax, eax
  003d9	74 09		 je	 SHORT $LN40@activate_h
  003db	c7 45 b8 5f 00
	00 00		 mov	 DWORD PTR tv242[ebp], 95 ; 0000005fH
  003e2	eb 1d		 jmp	 SHORT $LN41@activate_h
$LN40@activate_h:
  003e4	68 00 01 00 00	 push	 256			; 00000100H
  003e9	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  003ee	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  003f4	51		 push	 ecx
  003f5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003fa	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv242[ebp], 0
$LN41@activate_h:
  00401	6a 5f		 push	 95			; 0000005fH
  00403	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00406	52		 push	 edx
  00407	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv235[ebp], 1116
  0040e	8b 4d b8	 mov	 ecx, DWORD PTR tv242[ebp]
  00411	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00418	ff d2		 call	 edx
  0041a	85 c0		 test	 eax, eax
  0041c	74 31		 je	 SHORT $LN18@activate_h

; 257  : 				{
; 258  : 					play_client_server_cpg_contact_message

  0041e	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00421	50		 push	 eax
  00422	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00428	51		 push	 ecx
  00429	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  0042e	50		 push	 eax
  0042f	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00432	52		 push	 edx
  00433	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00438	50		 push	 eax
  00439	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  0043e	50		 push	 eax
  0043f	6a 7d		 push	 125			; 0000007dH
  00441	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00447	51		 push	 ecx
  00448	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 259  : 					(
; 260  : 						get_gunship_entity (),
; 261  : 						SPEECH_CPG_WARSHIPS,
; 262  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 263  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 264  : 					);
; 265  : 				}
; 266  : 				else

  0044d	eb 2f		 jmp	 SHORT $LN19@activate_h
$LN18@activate_h:

; 267  : 				{
; 268  : 					play_client_server_cpg_contact_message

  0044f	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00452	50		 push	 eax
  00453	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00459	51		 push	 ecx
  0045a	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  0045f	50		 push	 eax
  00460	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00463	52		 push	 edx
  00464	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00469	50		 push	 eax
  0046a	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  0046f	50		 push	 eax
  00470	6a 7b		 push	 123			; 0000007bH
  00472	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00478	51		 push	 ecx
  00479	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN19@activate_h:

; 269  : 					(
; 270  : 						get_gunship_entity (),
; 271  : 						SPEECH_CPG_SAM,
; 272  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 273  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 274  : 					);
; 275  : 				}
; 276  : 			}
; 277  : 
; 278  : 			break;

  0047e	e9 0c 01 00 00	 jmp	 $LN2@activate_h
$LN20@activate_h:

; 279  : 		}
; 280  : 		////////////////////////////////////////
; 281  : 		case THREAT_TYPE_AAA:
; 282  : 		////////////////////////////////////////
; 283  : 		{
; 284  : 			if (!havoc_damage.radar_warning_system)

  00483	a1 00 00 00 00	 mov	 eax, DWORD PTR ?havoc_damage@@3THAVOC_DAMAGE_FLAGS@@A ; havoc_damage
  00488	c1 e8 0d	 shr	 eax, 13			; 0000000dH
  0048b	83 e0 01	 and	 eax, 1
  0048e	0f 85 fb 00 00
	00		 jne	 $LN23@activate_h

; 285  : 			{
; 286  : 				reset_time_accel ();

  00494	e8 00 00 00 00	 call	 ?reset_time_accel@@YGXXZ ; reset_time_accel

; 287  : 
; 288  : 				radar_locked_sound_timer = RADAR_LOCKED_SOUND_PERIOD;

  00499	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fc00000
  004a1	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 289  : 
; 290  : 				resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED);

  004a9	6a 1c		 push	 28			; 0000001cH
  004ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  004b0	50		 push	 eax
  004b1	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 291  : 
; 292  : 				if (get_local_entity_int_value (threat, INT_TYPE_IDENTIFY_SHIP_VEHICLE))

  004b6	83 7d 08 00	 cmp	 DWORD PTR _threat$[ebp], 0
  004ba	74 0a		 je	 SHORT $LN42@activate_h
  004bc	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  004bf	8b 08		 mov	 ecx, DWORD PTR [eax]
  004c1	89 4d bc	 mov	 DWORD PTR tv279[ebp], ecx
  004c4	eb 1d		 jmp	 SHORT $LN43@activate_h
$LN42@activate_h:
  004c6	68 24 01 00 00	 push	 292			; 00000124H
  004cb	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  004d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  004d6	52		 push	 edx
  004d7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004dc	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv279[ebp], 0
$LN43@activate_h:
  004e3	b8 01 00 00 00	 mov	 eax, 1
  004e8	85 c0		 test	 eax, eax
  004ea	74 09		 je	 SHORT $LN44@activate_h
  004ec	c7 45 b8 5f 00
	00 00		 mov	 DWORD PTR tv286[ebp], 95 ; 0000005fH
  004f3	eb 1d		 jmp	 SHORT $LN45@activate_h
$LN44@activate_h:
  004f5	68 24 01 00 00	 push	 292			; 00000124H
  004fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@ODCBJIAD@c?3?2users?2nhv90?2projects?2eech?2ap@
  004ff	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00505	51		 push	 ecx
  00506	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0050b	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv286[ebp], 0
$LN45@activate_h:
  00512	6a 5f		 push	 95			; 0000005fH
  00514	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00517	52		 push	 edx
  00518	69 45 bc 5c 04
	00 00		 imul	 eax, DWORD PTR tv279[ebp], 1116
  0051f	8b 4d b8	 mov	 ecx, DWORD PTR tv286[ebp]
  00522	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00529	ff d2		 call	 edx
  0052b	85 c0		 test	 eax, eax
  0052d	74 31		 je	 SHORT $LN22@activate_h

; 293  : 				{
; 294  : 					play_client_server_cpg_contact_message

  0052f	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00532	50		 push	 eax
  00533	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00539	51		 push	 ecx
  0053a	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  0053f	50		 push	 eax
  00540	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00543	52		 push	 edx
  00544	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00549	50		 push	 eax
  0054a	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  0054f	50		 push	 eax
  00550	6a 7d		 push	 125			; 0000007dH
  00552	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00558	51		 push	 ecx
  00559	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message

; 295  : 					(
; 296  : 						get_gunship_entity (),
; 297  : 						SPEECH_CPG_WARSHIPS,
; 298  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 299  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 300  : 					);
; 301  : 				}
; 302  : 				else

  0055e	eb 2f		 jmp	 SHORT $LN23@activate_h
$LN22@activate_h:

; 303  : 				{
; 304  : 					play_client_server_cpg_contact_message

  00560	8b 45 08	 mov	 eax, DWORD PTR _threat$[ebp]
  00563	50		 push	 eax
  00564	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0056a	51		 push	 ecx
  0056b	e8 00 00 00 00	 call	 ?get_speech_distance_type@@YG?AW4speech_distance_types@@PAUENTITY@@0@Z ; get_speech_distance_type
  00570	50		 push	 eax
  00571	8b 55 08	 mov	 edx, DWORD PTR _threat$[ebp]
  00574	52		 push	 edx
  00575	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0057a	50		 push	 eax
  0057b	e8 00 00 00 00	 call	 ?get_speech_heading_type@@YG?AW4speech_heading_types@@PAUENTITY@@0@Z ; get_speech_heading_type
  00580	50		 push	 eax
  00581	6a 7c		 push	 124			; 0000007cH
  00583	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00589	51		 push	 ecx
  0058a	e8 00 00 00 00	 call	 ?play_client_server_cpg_contact_message@@YGHPAUENTITY@@HHH@Z ; play_client_server_cpg_contact_message
$LN23@activate_h:
$LN2@activate_h:
$LN1@activate_h:

; 305  : 					(
; 306  : 						get_gunship_entity (),
; 307  : 						SPEECH_CPG_TRIPLE_A,
; 308  : 						get_speech_heading_type (get_gunship_entity (), threat),
; 309  : 						get_speech_distance_type (get_gunship_entity (), threat)
; 310  : 					);
; 311  : 				}
; 312  : 			}
; 313  : 
; 314  : 			break;
; 315  : 		}
; 316  : 		////////////////////////////////////////
; 317  : 		case THREAT_TYPE_EARLY_WARNING_RADAR:
; 318  : 		////////////////////////////////////////
; 319  : 		{
; 320  : 			break;
; 321  : 		}
; 322  : 	}
; 323  : }

  0058f	5f		 pop	 edi
  00590	5e		 pop	 esi
  00591	5b		 pop	 ebx
  00592	8b e5		 mov	 esp, ebp
  00594	5d		 pop	 ebp
  00595	c2 04 00	 ret	 4
$LN46@activate_h:
  00598	00 00 00 00	 DD	 $LN7@activate_h
  0059c	00 00 00 00	 DD	 $LN9@activate_h
  005a0	00 00 00 00	 DD	 $LN10@activate_h
  005a4	00 00 00 00	 DD	 $LN11@activate_h
  005a8	00 00 00 00	 DD	 $LN16@activate_h
  005ac	00 00 00 00	 DD	 $LN20@activate_h
?activate_havoc_threat_warning_system@@YGXPAUENTITY@@@Z ENDP ; activate_havoc_threat_warning_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_thrt.c
;	COMDAT ?deinitialise_havoc_threat_warning_system@@YGXXZ
_TEXT	SEGMENT
?deinitialise_havoc_threat_warning_system@@YGXXZ PROC	; deinitialise_havoc_threat_warning_system, COMDAT

; 103  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 104  : 	if (get_gunship_entity ())

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	74 36		 je	 SHORT $LN2@deinitiali

; 105  : 	{
; 106  : 		pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_INCOMING_MISSILE_WARNING, 0.5);

  00012	51		 push	 ecx
  00013	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0001b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00020	6a 17		 push	 23			; 00000017H
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00027	50		 push	 eax
  00028	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type

; 107  : 
; 108  : 		pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_RADAR_LOCKED, 0.5);

  0002d	51		 push	 ecx
  0002e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00036	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0003b	6a 1c		 push	 28			; 0000001cH
  0003d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00042	50		 push	 eax
  00043	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN2@deinitiali:

; 109  : 	}
; 110  : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	8b e5		 mov	 esp, ebp
  0004d	5d		 pop	 ebp
  0004e	c3		 ret	 0
?deinitialise_havoc_threat_warning_system@@YGXXZ ENDP	; deinitialise_havoc_threat_warning_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\havoc\ha_thrt.c
;	COMDAT ?initialise_havoc_threat_warning_system@@YGXXZ
_TEXT	SEGMENT
?initialise_havoc_threat_warning_system@@YGXXZ PROC	; initialise_havoc_threat_warning_system, COMDAT

; 92   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 93   : 	incoming_missile_sound_timer = 0.0;

  00009	0f 57 c0	 xorps	 xmm0, xmm0
  0000c	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?incoming_missile_sound_timer@@3MA, xmm0

; 94   : 
; 95   : 	radar_locked_sound_timer = 0.0;

  00014	0f 57 c0	 xorps	 xmm0, xmm0
  00017	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?radar_locked_sound_timer@@3MA, xmm0

; 96   : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?initialise_havoc_threat_warning_system@@YGXXZ ENDP	; initialise_havoc_threat_warning_system
_TEXT	ENDS
END
