; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\common\co_nvs.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?night_vision_system_active@@3HA		; night_vision_system_active
_BSS	SEGMENT
?night_vision_system_active@@3HA DD 01H DUP (?)		; night_vision_system_active
_BSS	ENDS
PUBLIC	?night_vision_active@@YGHXZ			; night_vision_active
PUBLIC	?set_night_vision_system_active@@YGXH@Z		; set_night_vision_system_active
PUBLIC	?initialise_common_night_vision_system@@YGXXZ	; initialise_common_night_vision_system
PUBLIC	?deinitialise_common_night_vision_system@@YGXXZ	; deinitialise_common_night_vision_system
EXTRN	?apache_pnvs_active@@YGHXZ:PROC			; apache_pnvs_active
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_nvs.c
;	COMDAT ?deinitialise_common_night_vision_system@@YGXXZ
_TEXT	SEGMENT
?deinitialise_common_night_vision_system@@YGXXZ PROC	; deinitialise_common_night_vision_system, COMDAT

; 96   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 97   : }

  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?deinitialise_common_night_vision_system@@YGXXZ ENDP	; deinitialise_common_night_vision_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_nvs.c
;	COMDAT ?initialise_common_night_vision_system@@YGXXZ
_TEXT	SEGMENT
?initialise_common_night_vision_system@@YGXXZ PROC	; initialise_common_night_vision_system, COMDAT

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 88   : 	night_vision_system_active = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?night_vision_system_active@@3HA, 0 ; night_vision_system_active

; 89   : }

  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
?initialise_common_night_vision_system@@YGXXZ ENDP	; initialise_common_night_vision_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_nvs.c
;	COMDAT ?set_night_vision_system_active@@YGXH@Z
_TEXT	SEGMENT
_active$ = 8						; size = 4
?set_night_vision_system_active@@YGXH@Z PROC		; set_night_vision_system_active, COMDAT

; 115  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 116  : 	night_vision_system_active = active;

  00009	8b 45 08	 mov	 eax, DWORD PTR _active$[ebp]
  0000c	a3 00 00 00 00	 mov	 DWORD PTR ?night_vision_system_active@@3HA, eax ; night_vision_system_active

; 117  : }

  00011	5f		 pop	 edi
  00012	5e		 pop	 esi
  00013	5b		 pop	 ebx
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c2 04 00	 ret	 4
?set_night_vision_system_active@@YGXH@Z ENDP		; set_night_vision_system_active
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\common\co_nvs.c
;	COMDAT ?night_vision_active@@YGHXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?night_vision_active@@YGHXZ PROC			; night_vision_active, COMDAT

; 104  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 105  : 	switch (get_global_gunship_type ())

  00009	a1 0c 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+12
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	83 7d bc 00	 cmp	 DWORD PTR tv64[ebp], 0
  00015	74 02		 je	 SHORT $LN4@night_visi
  00017	eb 07		 jmp	 SHORT $LN2@night_visi
$LN4@night_visi:

; 106  : 	{
; 107  : 	case GUNSHIP_TYPE_APACHE:
; 108  : 		return apache_pnvs_active();

  00019	e8 00 00 00 00	 call	 ?apache_pnvs_active@@YGHXZ ; apache_pnvs_active
  0001e	eb 05		 jmp	 SHORT $LN1@night_visi
$LN2@night_visi:

; 109  : 	}
; 110  : 	
; 111  : 	return night_vision_system_active;

  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ?night_vision_system_active@@3HA ; night_vision_system_active
$LN1@night_visi:

; 112  : }

  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?night_vision_active@@YGHXZ ENDP			; night_vision_active
_TEXT	ENDS
END
