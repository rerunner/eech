; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\appsound\snd_init.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?application_sound_system_enabled@@3HA		; application_sound_system_enabled
_BSS	SEGMENT
?application_sound_system_enabled@@3HA DD 01H DUP (?)	; application_sound_system_enabled
_BSS	ENDS
PUBLIC	?initialise_application_sound_system@@YGXXZ	; initialise_application_sound_system
PUBLIC	?deinitialise_application_sound_system@@YGXXZ	; deinitialise_application_sound_system
PUBLIC	?get_application_sound_system_status@@YGHXZ	; get_application_sound_system_status
EXTRN	?initialise_sound_system@@YGHXZ:PROC		; initialise_sound_system
EXTRN	?deinitialise_sound_system@@YGXXZ:PROC		; deinitialise_sound_system
EXTRN	?load_application_sound_samples@@YGXXZ:PROC	; load_application_sound_samples
EXTRN	?destroy_application_sound_samples@@YGXXZ:PROC	; destroy_application_sound_samples
EXTRN	?initialise_application_sound_effects@@YGXXZ:PROC ; initialise_application_sound_effects
EXTRN	?command_line_no_sound@@3HA:DWORD		; command_line_no_sound
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\appsound\snd_init.c
;	COMDAT ?get_application_sound_system_status@@YGHXZ
_TEXT	SEGMENT
?get_application_sound_system_status@@YGHXZ PROC	; get_application_sound_system_status, COMDAT

; 150  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 151  : 
; 152  : 	return application_sound_system_enabled;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?application_sound_system_enabled@@3HA ; application_sound_system_enabled

; 153  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?get_application_sound_system_status@@YGHXZ ENDP	; get_application_sound_system_status
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\appsound\snd_init.c
;	COMDAT ?deinitialise_application_sound_system@@YGXXZ
_TEXT	SEGMENT
?deinitialise_application_sound_system@@YGXXZ PROC	; deinitialise_application_sound_system, COMDAT

; 120  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 121  : 
; 122  : 	if ( !command_line_no_sound )

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_no_sound@@3HA, 0 ; command_line_no_sound
  00010	75 1d		 jne	 SHORT $LN1@deinitiali

; 123  : 	{
; 124  : 	
; 125  : 		if ( application_sound_system_enabled )

  00012	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?application_sound_system_enabled@@3HA, 0 ; application_sound_system_enabled
  00019	74 14		 je	 SHORT $LN1@deinitiali

; 126  : 		{
; 127  : 		
; 128  : 			//
; 129  : 			// Remove all sound samples from the system
; 130  : 			//
; 131  : 		
; 132  : 			destroy_application_sound_samples ();

  0001b	e8 00 00 00 00	 call	 ?destroy_application_sound_samples@@YGXXZ ; destroy_application_sound_samples

; 133  : 		
; 134  : 			//
; 135  : 			// Uninstall the sound system
; 136  : 			//
; 137  : 		
; 138  : 			deinitialise_sound_system ();

  00020	e8 00 00 00 00	 call	 ?deinitialise_sound_system@@YGXXZ ; deinitialise_sound_system

; 139  : 
; 140  : 			application_sound_system_enabled = FALSE;

  00025	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?application_sound_system_enabled@@3HA, 0 ; application_sound_system_enabled
$LN1@deinitiali:

; 141  : 		}
; 142  : 	}
; 143  : }

  0002f	5f		 pop	 edi
  00030	5e		 pop	 esi
  00031	5b		 pop	 ebx
  00032	8b e5		 mov	 esp, ebp
  00034	5d		 pop	 ebp
  00035	c3		 ret	 0
?deinitialise_application_sound_system@@YGXXZ ENDP	; deinitialise_application_sound_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\appsound\snd_init.c
;	COMDAT ?initialise_application_sound_system@@YGXXZ
_TEXT	SEGMENT
?initialise_application_sound_system@@YGXXZ PROC	; initialise_application_sound_system, COMDAT

; 81   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 82   : 
; 83   : 	//
; 84   : 	// create effects database ( required even if no sound )
; 85   : 	//
; 86   : 	
; 87   : 	initialise_application_sound_effects ();

  00009	e8 00 00 00 00	 call	 ?initialise_application_sound_effects@@YGXXZ ; initialise_application_sound_effects

; 88   : 
; 89   : 	if ( !command_line_no_sound )

  0000e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?command_line_no_sound@@3HA, 0 ; command_line_no_sound
  00015	75 1a		 jne	 SHORT $LN2@initialise

; 90   : 	{
; 91   : 	
; 92   : 		//
; 93   : 		// Initialise the modules sound system
; 94   : 		//
; 95   : 
; 96   : 		application_sound_system_enabled = initialise_sound_system ();

  00017	e8 00 00 00 00	 call	 ?initialise_sound_system@@YGHXZ ; initialise_sound_system
  0001c	a3 00 00 00 00	 mov	 DWORD PTR ?application_sound_system_enabled@@3HA, eax ; application_sound_system_enabled

; 97   : 	
; 98   : 		if ( application_sound_system_enabled )

  00021	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?application_sound_system_enabled@@3HA, 0 ; application_sound_system_enabled
  00028	74 05		 je	 SHORT $LN4@initialise

; 99   : 		{
; 100  : 
; 101  : 			//
; 102  : 			// Load the sound effects up
; 103  : 			//
; 104  : 
; 105  : 			load_application_sound_samples ();

  0002a	e8 00 00 00 00	 call	 ?load_application_sound_samples@@YGXXZ ; load_application_sound_samples
$LN4@initialise:

; 106  : 		}
; 107  : 	}
; 108  : 	else

  0002f	eb 0a		 jmp	 SHORT $LN1@initialise
$LN2@initialise:

; 109  : 	{
; 110  : 
; 111  : 		application_sound_system_enabled = FALSE;

  00031	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?application_sound_system_enabled@@3HA, 0 ; application_sound_system_enabled
$LN1@initialise:

; 112  : 	}
; 113  : }

  0003b	5f		 pop	 edi
  0003c	5e		 pop	 esi
  0003d	5b		 pop	 ebx
  0003e	8b e5		 mov	 esp, ebp
  00040	5d		 pop	 ebp
  00041	c3		 ret	 0
?initialise_application_sound_system@@YGXXZ ENDP	; initialise_application_sound_system
_TEXT	ENDS
END
