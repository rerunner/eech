; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\effect\ef_pack.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z ; pack_effect_data
PUBLIC	?unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z ; unpack_effect_data
PUBLIC	?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA ; `pack_effect_data'::`1'::__LINE__Var
PUBLIC	??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@ ; `string'
PUBLIC	??_C@_0DF@DNCJPMHA@?$CBeffect_database?5?$FLraw?9?$DOsub_type@ ; `string'
PUBLIC	?__LINE__Var@?0??unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA ; `unpack_effect_data'::`1'::__LINE__Var
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?pack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z:PROC ; pack_list_link
EXTRN	?unpack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z:PROC ; unpack_list_link
EXTRN	?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z:PROC ; pack_int_value
EXTRN	?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z:PROC ; unpack_int_value
EXTRN	?pack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z:PROC ; pack_vec3d
EXTRN	?unpack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z:PROC ; unpack_vec3d
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_pred
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?effect_database@@3QBUEFFECT_DATA@@B:BYTE	; effect_database
;	COMDAT ?__LINE__Var@?0??unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA DD 0c3H ; `unpack_effect_data'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DF@DNCJPMHA@?$CBeffect_database?5?$FLraw?9?$DOsub_type@
CONST	SEGMENT
??_C@_0DF@DNCJPMHA@?$CBeffect_database?5?$FLraw?9?$DOsub_type@ DB '!effec'
	DB	't_database [raw->sub_type].constructed_locally', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@
CONST	SEGMENT
??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@ DB '('
	DB	'mode >= 0) && (mode < NUM_PACK_MODES)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nhv'
	DB	'90\projects\eech\aphavoc\source\entity\special\effect\ef_pack'
	DB	'.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA DD 050H ; `pack_effect_data'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\ef_pack.c
;	COMDAT ?unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
tv70 = -68						; size = 4
_en$ = 8						; size = 4
_raw$ = 12						; size = 4
_mode$ = 16						; size = 4
?unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z PROC ; unpack_effect_data, COMDAT

; 195  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 196  : 
; 197  : 	ASSERT ((mode >= 0) && (mode < NUM_PACK_MODES));

  00009	83 7d 10 00	 cmp	 DWORD PTR _mode$[ebp], 0
  0000d	7c 06		 jl	 SHORT $LN5@unpack_eff
  0000f	83 7d 10 04	 cmp	 DWORD PTR _mode$[ebp], 4
  00013	7c 18		 jl	 SHORT $LN4@unpack_eff
$LN5@unpack_eff:
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  0001a	83 c0 02	 add	 eax, 2
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@unpack_eff:

; 198  : 
; 199  : 	switch (mode)

  0002d	8b 45 10	 mov	 eax, DWORD PTR _mode$[ebp]
  00030	89 45 bc	 mov	 DWORD PTR tv70[ebp], eax
  00033	83 7d bc 00	 cmp	 DWORD PTR tv70[ebp], 0
  00037	7c 75		 jl	 SHORT $LN1@unpack_eff
  00039	83 7d bc 01	 cmp	 DWORD PTR tv70[ebp], 1
  0003d	7e 02		 jle	 SHORT $LN6@unpack_eff
  0003f	eb 6d		 jmp	 SHORT $LN1@unpack_eff
$LN6@unpack_eff:

; 200  : 	{
; 201  : 		////////////////////////////////////////
; 202  : 		case PACK_MODE_SERVER_SESSION:
; 203  : 		case PACK_MODE_CLIENT_SESSION:
; 204  : 		////////////////////////////////////////
; 205  : 		{
; 206  : 			raw->sub_type = unpack_int_value (en, INT_TYPE_ENTITY_SUB_TYPE);

  00041	6a 34		 push	 52			; 00000034H
  00043	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  0004c	8b 4d 0c	 mov	 ecx, DWORD PTR _raw$[ebp]
  0004f	89 01		 mov	 DWORD PTR [ecx], eax

; 207  : 
; 208  : 			//
; 209  : 			// some effects should never be packed up ( should be re-constructed when the vehicle is unpacked )
; 210  : 			//
; 211  : 
; 212  : 			ASSERT (!effect_database [raw->sub_type].constructed_locally);

  00051	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  00054	8b 08		 mov	 ecx, DWORD PTR [eax]
  00056	83 3c 8d 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[ecx*4], 0
  0005e	74 18		 je	 SHORT $LN7@unpack_eff
  00060	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  00065	83 c0 11	 add	 eax, 17			; 00000011H
  00068	50		 push	 eax
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006e	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@DNCJPMHA@?$CBeffect_database?5?$FLraw?9?$DOsub_type@
  00073	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@unpack_eff:

; 213  : 
; 214  : 			unpack_vec3d (en, VEC3D_TYPE_POSITION, &raw->position);

  00078	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0007b	83 c0 04	 add	 eax, 4
  0007e	50		 push	 eax
  0007f	6a 08		 push	 8
  00081	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00084	51		 push	 ecx
  00085	e8 00 00 00 00	 call	 ?unpack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z ; unpack_vec3d

; 215  : 
; 216  : 			/////////////////////////////////////////////////////////////////
; 217  : 			if (unpack_int_value (en, INT_TYPE_VALID))

  0008a	68 ef 00 00 00	 push	 239			; 000000efH
  0008f	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00092	50		 push	 eax
  00093	e8 00 00 00 00	 call	 ?unpack_int_value@@YGHPAUENTITY@@W4INT_TYPES@@@Z ; unpack_int_value
  00098	85 c0		 test	 eax, eax
  0009a	74 12		 je	 SHORT $LN1@unpack_eff

; 218  : 			{
; 219  : 
; 220  : 				unpack_list_link (en, LIST_TYPE_SPECIAL_EFFECT, &raw->special_effect_link);

  0009c	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0009f	83 c0 10	 add	 eax, 16			; 00000010H
  000a2	50		 push	 eax
  000a3	6a 24		 push	 36			; 00000024H
  000a5	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000a8	51		 push	 ecx
  000a9	e8 00 00 00 00	 call	 ?unpack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z ; unpack_list_link
$LN1@unpack_eff:

; 221  : 			}
; 222  : 			/////////////////////////////////////////////////////////////////
; 223  : 
; 224  : 			// update_link
; 225  : 
; 226  : 			break;
; 227  : 		}
; 228  : 		////////////////////////////////////////
; 229  : 		case PACK_MODE_BROWSE_SESSION:
; 230  : 		////////////////////////////////////////
; 231  : 		{
; 232  : 			break;
; 233  : 		}
; 234  : 		////////////////////////////////////////
; 235  : 		case PACK_MODE_UPDATE_ENTITY:
; 236  : 		////////////////////////////////////////
; 237  : 		{
; 238  : 			//
; 239  : 			// cannot update entity at this level as the update may not apply to all entity types below
; 240  : 			//
; 241  : 
; 242  : 			break;
; 243  : 		}
; 244  : 	}
; 245  : }

  000ae	5f		 pop	 edi
  000af	5e		 pop	 esi
  000b0	5b		 pop	 ebx
  000b1	8b e5		 mov	 esp, ebp
  000b3	5d		 pop	 ebp
  000b4	c2 0c 00	 ret	 12			; 0000000cH
?unpack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z ENDP ; unpack_effect_data
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\effect\ef_pack.c
;	COMDAT ?pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z
_TEXT	SEGMENT
tv250 = -88						; size = 4
tv226 = -88						; size = 4
tv206 = -88						; size = 4
tv186 = -88						; size = 4
tv162 = -88						; size = 4
tv142 = -88						; size = 4
tv242 = -84						; size = 4
tv219 = -84						; size = 4
tv198 = -84						; size = 4
tv178 = -84						; size = 4
tv155 = -84						; size = 4
tv134 = -84						; size = 4
tv70 = -84						; size = 4
_spec$1 = -16						; size = 4
_link$2 = -12						; size = 12
_en$ = 8						; size = 4
_raw$ = 12						; size = 4
_mode$ = 16						; size = 4
?pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z PROC ; pack_effect_data, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	ASSERT ((mode >= 0) && (mode < NUM_PACK_MODES));

  00009	83 7d 10 00	 cmp	 DWORD PTR _mode$[ebp], 0
  0000d	7c 06		 jl	 SHORT $LN9@pack_effec
  0000f	83 7d 10 04	 cmp	 DWORD PTR _mode$[ebp], 4
  00013	7c 18		 jl	 SHORT $LN8@pack_effec
$LN9@pack_effec:
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  0001a	83 c0 01	 add	 eax, 1
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@MMFDPOBJ@?$CImode?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CImode?5?$DM?5NUM_PACK@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN8@pack_effec:

; 82   : 
; 83   : 	switch (mode)

  0002d	8b 45 10	 mov	 eax, DWORD PTR _mode$[ebp]
  00030	89 45 ac	 mov	 DWORD PTR tv70[ebp], eax
  00033	83 7d ac 00	 cmp	 DWORD PTR tv70[ebp], 0
  00037	0f 8c e0 03 00
	00		 jl	 $LN1@pack_effec
  0003d	83 7d ac 01	 cmp	 DWORD PTR tv70[ebp], 1
  00041	7e 05		 jle	 SHORT $LN10@pack_effec
  00043	e9 d5 03 00 00	 jmp	 $LN1@pack_effec
$LN10@pack_effec:

; 84   : 	{
; 85   : 		////////////////////////////////////////
; 86   : 		case PACK_MODE_SERVER_SESSION:
; 87   : 		case PACK_MODE_CLIENT_SESSION:
; 88   : 		////////////////////////////////////////
; 89   : 		{
; 90   : 			//
; 91   : 			// some effects should never be packed up ( should be re-constructed when the vehicle is unpacked )
; 92   : 			//
; 93   : 
; 94   : 			ASSERT (!effect_database [raw->sub_type].constructed_locally);

  00048	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  0004b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0004d	83 3c 8d 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[ecx*4], 0
  00055	74 18		 je	 SHORT $LN11@pack_effec
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  0005c	83 c0 0e	 add	 eax, 14			; 0000000eH
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@DNCJPMHA@?$CBeffect_database?5?$FLraw?9?$DOsub_type@
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN11@pack_effec:

; 95   : 
; 96   : 			pack_int_value (en, INT_TYPE_ENTITY_SUB_TYPE, raw->sub_type);

  0006f	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  00072	8b 08		 mov	 ecx, DWORD PTR [eax]
  00074	51		 push	 ecx
  00075	6a 34		 push	 52			; 00000034H
  00077	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0007a	52		 push	 edx
  0007b	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 97   : 
; 98   : 			pack_vec3d (en, VEC3D_TYPE_POSITION, &raw->position);

  00080	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  00083	83 c0 04	 add	 eax, 4
  00086	50		 push	 eax
  00087	6a 08		 push	 8
  00089	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0008c	51		 push	 ecx
  0008d	e8 00 00 00 00	 call	 ?pack_vec3d@@YGXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@Z ; pack_vec3d

; 99   : 
; 100  : 			/////////////////////////////////////////////////////////////////
; 101  : 			//
; 102  : 			// Special effect packing, manually packing link data
; 103  : 			//
; 104  : 			if (raw->special_effect_link.parent)

  00092	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  00095	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  00099	0f 84 6e 03 00
	00		 je	 $LN12@pack_effec

; 105  : 			{
; 106  : 				list_link
; 107  : 					link;
; 108  : 
; 109  : 				entity
; 110  : 					*spec;
; 111  : 
; 112  : 				pack_int_value (en, INT_TYPE_VALID, TRUE);

  0009f	6a 01		 push	 1
  000a1	68 ef 00 00 00	 push	 239			; 000000efH
  000a6	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000a9	50		 push	 eax
  000aa	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value

; 113  : 
; 114  : 				//
; 115  : 				// parent
; 116  : 				//
; 117  : 
; 118  : 				link.parent = raw->special_effect_link.parent;

  000af	8b 45 0c	 mov	 eax, DWORD PTR _raw$[ebp]
  000b2	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  000b5	89 4d f4	 mov	 DWORD PTR _link$2[ebp], ecx

; 119  : 
; 120  : 				//
; 121  : 				// succ : search forwards through special effect list for valid child succ
; 122  : 				//
; 123  : 
; 124  : 				spec = get_local_entity_child_succ (en, LIST_TYPE_SPECIAL_EFFECT);

  000b8	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000bc	74 0a		 je	 SHORT $LN21@pack_effec
  000be	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000c1	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c3	89 4d ac	 mov	 DWORD PTR tv134[ebp], ecx
  000c6	eb 21		 jmp	 SHORT $LN22@pack_effec
$LN21@pack_effec:
  000c8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  000ce	83 c2 2c	 add	 edx, 44			; 0000002cH
  000d1	52		 push	 edx
  000d2	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000dc	50		 push	 eax
  000dd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000e2	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN22@pack_effec:
  000e9	b9 01 00 00 00	 mov	 ecx, 1
  000ee	85 c9		 test	 ecx, ecx
  000f0	74 09		 je	 SHORT $LN23@pack_effec
  000f2	c7 45 a8 24 00
	00 00		 mov	 DWORD PTR tv142[ebp], 36 ; 00000024H
  000f9	eb 21		 jmp	 SHORT $LN24@pack_effec
$LN23@pack_effec:
  000fb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  00101	83 c2 2c	 add	 edx, 44			; 0000002cH
  00104	52		 push	 edx
  00105	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0010a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0010f	50		 push	 eax
  00110	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00115	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv142[ebp], 0
$LN24@pack_effec:
  0011c	6a 24		 push	 36			; 00000024H
  0011e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00121	51		 push	 ecx
  00122	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv134[ebp], 180
  00129	8b 45 a8	 mov	 eax, DWORD PTR tv142[ebp]
  0012c	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00133	ff d1		 call	 ecx
  00135	89 45 f0	 mov	 DWORD PTR _spec$1[ebp], eax
$LN4@pack_effec:

; 125  : 
; 126  : 				while (TRUE)

  00138	b8 01 00 00 00	 mov	 eax, 1
  0013d	85 c0		 test	 eax, eax
  0013f	0f 84 15 01 00
	00		 je	 $LN5@pack_effec

; 127  : 				{
; 128  : 					if ((spec == NULL) ||

  00145	83 7d f0 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  00149	74 7f		 je	 SHORT $LN15@pack_effec
  0014b	83 7d f0 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  0014f	74 0a		 je	 SHORT $LN25@pack_effec
  00151	8b 45 f0	 mov	 eax, DWORD PTR _spec$1[ebp]
  00154	8b 08		 mov	 ecx, DWORD PTR [eax]
  00156	89 4d ac	 mov	 DWORD PTR tv155[ebp], ecx
  00159	eb 1d		 jmp	 SHORT $LN26@pack_effec
$LN25@pack_effec:
  0015b	68 81 00 00 00	 push	 129			; 00000081H
  00160	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00165	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0016b	52		 push	 edx
  0016c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00171	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN26@pack_effec:
  00178	b8 01 00 00 00	 mov	 eax, 1
  0017d	85 c0		 test	 eax, eax
  0017f	74 09		 je	 SHORT $LN27@pack_effec
  00181	c7 45 a8 34 00
	00 00		 mov	 DWORD PTR tv162[ebp], 52 ; 00000034H
  00188	eb 1d		 jmp	 SHORT $LN28@pack_effec
$LN27@pack_effec:
  0018a	68 81 00 00 00	 push	 129			; 00000081H
  0018f	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00194	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0019a	51		 push	 ecx
  0019b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001a0	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv162[ebp], 0
$LN28@pack_effec:
  001a7	6a 34		 push	 52			; 00000034H
  001a9	8b 55 f0	 mov	 edx, DWORD PTR _spec$1[ebp]
  001ac	52		 push	 edx
  001ad	69 45 ac 5c 04
	00 00		 imul	 eax, DWORD PTR tv155[ebp], 1116
  001b4	8b 4d a8	 mov	 ecx, DWORD PTR tv162[ebp]
  001b7	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  001be	ff d2		 call	 edx
  001c0	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[eax*4], 0
  001c8	75 0b		 jne	 SHORT $LN14@pack_effec
$LN15@pack_effec:

; 129  : 							(effect_database [get_local_entity_int_value (spec, INT_TYPE_ENTITY_SUB_TYPE)].constructed_locally == FALSE))
; 130  : 					{
; 131  : 						link.child_succ = spec;

  001ca	8b 45 f0	 mov	 eax, DWORD PTR _spec$1[ebp]
  001cd	89 45 f8	 mov	 DWORD PTR _link$2[ebp+4], eax

; 132  : 
; 133  : 						break;

  001d0	e9 85 00 00 00	 jmp	 $LN5@pack_effec
$LN14@pack_effec:

; 134  : 					}
; 135  : 
; 136  : 					spec = get_local_entity_child_succ (spec, LIST_TYPE_SPECIAL_EFFECT);

  001d5	83 7d f0 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  001d9	74 0a		 je	 SHORT $LN29@pack_effec
  001db	8b 45 f0	 mov	 eax, DWORD PTR _spec$1[ebp]
  001de	8b 08		 mov	 ecx, DWORD PTR [eax]
  001e0	89 4d ac	 mov	 DWORD PTR tv178[ebp], ecx
  001e3	eb 21		 jmp	 SHORT $LN30@pack_effec
$LN29@pack_effec:
  001e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  001eb	83 c2 38	 add	 edx, 56			; 00000038H
  001ee	52		 push	 edx
  001ef	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001f9	50		 push	 eax
  001fa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ff	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv178[ebp], 0
$LN30@pack_effec:
  00206	b9 01 00 00 00	 mov	 ecx, 1
  0020b	85 c9		 test	 ecx, ecx
  0020d	74 09		 je	 SHORT $LN31@pack_effec
  0020f	c7 45 a8 24 00
	00 00		 mov	 DWORD PTR tv186[ebp], 36 ; 00000024H
  00216	eb 21		 jmp	 SHORT $LN32@pack_effec
$LN31@pack_effec:
  00218	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  0021e	83 c2 38	 add	 edx, 56			; 00000038H
  00221	52		 push	 edx
  00222	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00227	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0022c	50		 push	 eax
  0022d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00232	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv186[ebp], 0
$LN32@pack_effec:
  00239	6a 24		 push	 36			; 00000024H
  0023b	8b 4d f0	 mov	 ecx, DWORD PTR _spec$1[ebp]
  0023e	51		 push	 ecx
  0023f	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv178[ebp], 180
  00246	8b 45 a8	 mov	 eax, DWORD PTR tv186[ebp]
  00249	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00250	ff d1		 call	 ecx
  00252	89 45 f0	 mov	 DWORD PTR _spec$1[ebp], eax

; 137  : 				}

  00255	e9 de fe ff ff	 jmp	 $LN4@pack_effec
$LN5@pack_effec:

; 138  : 
; 139  : 				//
; 140  : 				// pred : search backwards through special effect list for valid child pred
; 141  : 				//
; 142  : 
; 143  : 				spec = get_local_entity_child_pred (en, LIST_TYPE_SPECIAL_EFFECT);

  0025a	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0025e	74 0a		 je	 SHORT $LN33@pack_effec
  00260	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00263	8b 08		 mov	 ecx, DWORD PTR [eax]
  00265	89 4d ac	 mov	 DWORD PTR tv198[ebp], ecx
  00268	eb 21		 jmp	 SHORT $LN34@pack_effec
$LN33@pack_effec:
  0026a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  00270	83 c2 3f	 add	 edx, 63			; 0000003fH
  00273	52		 push	 edx
  00274	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00279	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0027e	50		 push	 eax
  0027f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00284	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$LN34@pack_effec:
  0028b	b9 01 00 00 00	 mov	 ecx, 1
  00290	85 c9		 test	 ecx, ecx
  00292	74 09		 je	 SHORT $LN35@pack_effec
  00294	c7 45 a8 24 00
	00 00		 mov	 DWORD PTR tv206[ebp], 36 ; 00000024H
  0029b	eb 21		 jmp	 SHORT $LN36@pack_effec
$LN35@pack_effec:
  0029d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  002a3	83 c2 3f	 add	 edx, 63			; 0000003fH
  002a6	52		 push	 edx
  002a7	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  002b1	50		 push	 eax
  002b2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b7	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv206[ebp], 0
$LN36@pack_effec:
  002be	6a 24		 push	 36			; 00000024H
  002c0	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  002c3	51		 push	 ecx
  002c4	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv198[ebp], 180
  002cb	8b 45 a8	 mov	 eax, DWORD PTR tv206[ebp]
  002ce	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  002d5	ff d1		 call	 ecx
  002d7	89 45 f0	 mov	 DWORD PTR _spec$1[ebp], eax
$LN6@pack_effec:

; 144  : 
; 145  : 				while (TRUE)

  002da	b8 01 00 00 00	 mov	 eax, 1
  002df	85 c0		 test	 eax, eax
  002e1	0f 84 15 01 00
	00		 je	 $LN7@pack_effec

; 146  : 				{
; 147  : 					if ((spec == NULL) ||

  002e7	83 7d f0 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  002eb	74 7f		 je	 SHORT $LN17@pack_effec
  002ed	83 7d f0 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  002f1	74 0a		 je	 SHORT $LN37@pack_effec
  002f3	8b 45 f0	 mov	 eax, DWORD PTR _spec$1[ebp]
  002f6	8b 08		 mov	 ecx, DWORD PTR [eax]
  002f8	89 4d ac	 mov	 DWORD PTR tv219[ebp], ecx
  002fb	eb 1d		 jmp	 SHORT $LN38@pack_effec
$LN37@pack_effec:
  002fd	68 94 00 00 00	 push	 148			; 00000094H
  00302	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00307	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0030d	52		 push	 edx
  0030e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00313	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv219[ebp], 0
$LN38@pack_effec:
  0031a	b8 01 00 00 00	 mov	 eax, 1
  0031f	85 c0		 test	 eax, eax
  00321	74 09		 je	 SHORT $LN39@pack_effec
  00323	c7 45 a8 34 00
	00 00		 mov	 DWORD PTR tv226[ebp], 52 ; 00000034H
  0032a	eb 1d		 jmp	 SHORT $LN40@pack_effec
$LN39@pack_effec:
  0032c	68 94 00 00 00	 push	 148			; 00000094H
  00331	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00336	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0033c	51		 push	 ecx
  0033d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00342	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv226[ebp], 0
$LN40@pack_effec:
  00349	6a 34		 push	 52			; 00000034H
  0034b	8b 55 f0	 mov	 edx, DWORD PTR _spec$1[ebp]
  0034e	52		 push	 edx
  0034f	69 45 ac 5c 04
	00 00		 imul	 eax, DWORD PTR tv219[ebp], 1116
  00356	8b 4d a8	 mov	 ecx, DWORD PTR tv226[ebp]
  00359	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00360	ff d2		 call	 edx
  00362	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?effect_database@@3QBUEFFECT_DATA@@B[eax*4], 0
  0036a	75 0b		 jne	 SHORT $LN16@pack_effec
$LN17@pack_effec:

; 148  : 							(effect_database [get_local_entity_int_value (spec, INT_TYPE_ENTITY_SUB_TYPE)].constructed_locally == FALSE))
; 149  : 					{
; 150  : 						link.child_pred = spec;

  0036c	8b 45 f0	 mov	 eax, DWORD PTR _spec$1[ebp]
  0036f	89 45 fc	 mov	 DWORD PTR _link$2[ebp+8], eax

; 151  : 
; 152  : 						break;

  00372	e9 85 00 00 00	 jmp	 $LN7@pack_effec
$LN16@pack_effec:

; 153  : 					}
; 154  : 
; 155  : 					spec = get_local_entity_child_pred (spec, LIST_TYPE_SPECIAL_EFFECT);

  00377	83 7d f0 00	 cmp	 DWORD PTR _spec$1[ebp], 0
  0037b	74 0a		 je	 SHORT $LN41@pack_effec
  0037d	8b 45 f0	 mov	 eax, DWORD PTR _spec$1[ebp]
  00380	8b 08		 mov	 ecx, DWORD PTR [eax]
  00382	89 4d ac	 mov	 DWORD PTR tv242[ebp], ecx
  00385	eb 21		 jmp	 SHORT $LN42@pack_effec
$LN41@pack_effec:
  00387	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  0038d	83 c2 4b	 add	 edx, 75			; 0000004bH
  00390	52		 push	 edx
  00391	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00396	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0039b	50		 push	 eax
  0039c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003a1	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv242[ebp], 0
$LN42@pack_effec:
  003a8	b9 01 00 00 00	 mov	 ecx, 1
  003ad	85 c9		 test	 ecx, ecx
  003af	74 09		 je	 SHORT $LN43@pack_effec
  003b1	c7 45 a8 24 00
	00 00		 mov	 DWORD PTR tv250[ebp], 36 ; 00000024H
  003b8	eb 21		 jmp	 SHORT $LN44@pack_effec
$LN43@pack_effec:
  003ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z@4JA
  003c0	83 c2 4b	 add	 edx, 75			; 0000004bH
  003c3	52		 push	 edx
  003c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@OFDDFLO@c?3?2users?2nhv90?2projects?2eech?2ap@
  003c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  003ce	50		 push	 eax
  003cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003d4	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv250[ebp], 0
$LN44@pack_effec:
  003db	6a 24		 push	 36			; 00000024H
  003dd	8b 4d f0	 mov	 ecx, DWORD PTR _spec$1[ebp]
  003e0	51		 push	 ecx
  003e1	69 55 ac b4 00
	00 00		 imul	 edx, DWORD PTR tv242[ebp], 180
  003e8	8b 45 a8	 mov	 eax, DWORD PTR tv250[ebp]
  003eb	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_pred@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  003f2	ff d1		 call	 ecx
  003f4	89 45 f0	 mov	 DWORD PTR _spec$1[ebp], eax

; 156  : 				}

  003f7	e9 de fe ff ff	 jmp	 $LN6@pack_effec
$LN7@pack_effec:

; 157  : 
; 158  : 				pack_list_link (en, LIST_TYPE_SPECIAL_EFFECT, &link);

  003fc	8d 45 f4	 lea	 eax, DWORD PTR _link$2[ebp]
  003ff	50		 push	 eax
  00400	6a 24		 push	 36			; 00000024H
  00402	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00405	51		 push	 ecx
  00406	e8 00 00 00 00	 call	 ?pack_list_link@@YGXPAUENTITY@@W4LIST_TYPES@@PAULIST_LINK@@@Z ; pack_list_link

; 159  : 			}
; 160  : 			else

  0040b	eb 10		 jmp	 SHORT $LN1@pack_effec
$LN12@pack_effec:

; 161  : 			{
; 162  : 
; 163  : 				pack_int_value (en, INT_TYPE_VALID, FALSE);

  0040d	6a 00		 push	 0
  0040f	68 ef 00 00 00	 push	 239			; 000000efH
  00414	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00417	50		 push	 eax
  00418	e8 00 00 00 00	 call	 ?pack_int_value@@YGXPAUENTITY@@W4INT_TYPES@@H@Z ; pack_int_value
$LN1@pack_effec:

; 164  : 			}
; 165  : 			/////////////////////////////////////////////////////////////////
; 166  : 
; 167  : 			// update_link
; 168  : 
; 169  : 			break;
; 170  : 		}
; 171  : 		////////////////////////////////////////
; 172  : 		case PACK_MODE_BROWSE_SESSION:
; 173  : 		////////////////////////////////////////
; 174  : 		{
; 175  : 			break;
; 176  : 		}
; 177  : 		////////////////////////////////////////
; 178  : 		case PACK_MODE_UPDATE_ENTITY:
; 179  : 		////////////////////////////////////////
; 180  : 		{
; 181  : 			//
; 182  : 			// cannot update entity at this level as the update may not apply to all entity types below
; 183  : 			//
; 184  : 
; 185  : 			break;
; 186  : 		}
; 187  : 	}
; 188  : }

  0041d	5f		 pop	 edi
  0041e	5e		 pop	 esi
  0041f	5b		 pop	 ebx
  00420	8b e5		 mov	 esp, ebp
  00422	5d		 pop	 ebp
  00423	c2 0c 00	 ret	 12			; 0000000cH
?pack_effect_data@@YGXPAUENTITY@@PAUEFFECT@@W4PACK_MODES@@@Z ENDP ; pack_effect_data
_TEXT	ENDS
END
