; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\system\filedir.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z ; get_first_directory_file
PUBLIC	?get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z ; get_next_directory_file
PUBLIC	?get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z ; get_directory_filename
PUBLIC	?get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z ; get_directory_file_filename
PUBLIC	?get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z ; get_directory_file_last_write_time
PUBLIC	?destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z ; destroy_directory_file_list
PUBLIC	?get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z ; get_directory_file_type
PUBLIC	?file_extension@@YGHPBD0@Z			; file_extension
PUBLIC	?__LINE__Var@?0??get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z@4JA ; `get_first_directory_file'::`1'::__LINE__Var
PUBLIC	??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@ ; `string'
PUBLIC	??_C@_0CF@EIHAGOBA@get_memory_block_system_install@ ; `string'
PUBLIC	?__LINE__Var@?0??get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z@4JA ; `get_next_directory_file'::`1'::__LINE__Var
PUBLIC	??_C@_04DONFEANM@list@				; `string'
PUBLIC	?__LINE__Var@?0??get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA ; `get_directory_filename'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA ; `get_directory_file_filename'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z@4JA ; `get_directory_file_last_write_time'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z@4JA ; `destroy_directory_file_list'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z@4JA ; `get_directory_file_type'::`1'::__LINE__Var
EXTRN	_strrchr:PROC
EXTRN	_strcpy:PROC
EXTRN	__imp___stricmp:PROC
EXTRN	__imp__FindClose@4:PROC
EXTRN	__imp__FindFirstFileA@8:PROC
EXTRN	__imp__FindNextFileA@8:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_memory_block_system_installed@@YGHXZ:PROC	; get_memory_block_system_installed
EXTRN	?malloc_fast_memory@@YGPAXI@Z:PROC		; malloc_fast_memory
EXTRN	?free_mem@@YGXPAX@Z:PROC			; free_mem
;	COMDAT ?__LINE__Var@?0??get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z@4JA DD 0b7H ; `get_directory_file_type'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z@4JA DD 0a9H ; `destroy_directory_file_list'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z@4JA DD 09dH ; `get_directory_file_last_write_time'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA DD 091H ; `get_directory_file_filename'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA DD 085H ; `get_directory_filename'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_04DONFEANM@list@
CONST	SEGMENT
??_C@_04DONFEANM@list@ DB 'list', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z@4JA DD 074H ; `get_next_directory_file'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CF@EIHAGOBA@get_memory_block_system_install@
CONST	SEGMENT
??_C@_0CF@EIHAGOBA@get_memory_block_system_install@ DB 'get_memory_block_'
	DB	'system_installed ()', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
CONST	SEGMENT
??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@ DB 'c:\users\nh'
	DB	'v90\projects\eech\modules\system\filedir.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z@4JA DD 04eH ; `get_first_directory_file'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?file_extension@@YGHPBD0@Z
_TEXT	SEGMENT
_ptr$ = -4						; size = 4
_filename$ = 8						; size = 4
_extension$ = 12					; size = 4
?file_extension@@YGHPBD0@Z PROC				; file_extension, COMDAT

; 204  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 205  : 	const char
; 206  : 		*ptr;
; 207  : 
; 208  : 	//
; 209  : 	// Search for the "."
; 210  : 	//
; 211  : 
; 212  : 	ptr = strrchr ( filename, '.' );

  00009	6a 2e		 push	 46			; 0000002eH
  0000b	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 _strrchr
  00014	83 c4 08	 add	 esp, 8
  00017	89 45 fc	 mov	 DWORD PTR _ptr$[ebp], eax

; 213  : 
; 214  : 	if ( ptr == NULL && *extension != '\0' )

  0001a	83 7d fc 00	 cmp	 DWORD PTR _ptr$[ebp], 0
  0001e	75 0e		 jne	 SHORT $LN2@file_exten
  00020	8b 45 0c	 mov	 eax, DWORD PTR _extension$[ebp]
  00023	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00026	85 c9		 test	 ecx, ecx
  00028	74 04		 je	 SHORT $LN2@file_exten

; 215  : 		return FALSE;

  0002a	33 c0		 xor	 eax, eax
  0002c	eb 14		 jmp	 SHORT $LN1@file_exten
$LN2@file_exten:

; 216  : 
; 217  : 	return stricmp ( ptr + 1, extension );

  0002e	8b 45 0c	 mov	 eax, DWORD PTR _extension$[ebp]
  00031	50		 push	 eax
  00032	8b 4d fc	 mov	 ecx, DWORD PTR _ptr$[ebp]
  00035	83 c1 01	 add	 ecx, 1
  00038	51		 push	 ecx
  00039	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___stricmp
  0003f	83 c4 08	 add	 esp, 8
$LN1@file_exten:

; 218  : }

  00042	5f		 pop	 edi
  00043	5e		 pop	 esi
  00044	5b		 pop	 ebx
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c2 08 00	 ret	 8
?file_extension@@YGHPBD0@Z ENDP				; file_extension
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z
_TEXT	SEGMENT
_list$ = 8						; size = 4
?get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z PROC ; get_directory_file_type, COMDAT

; 183  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 184  : 
; 185  : 	ASSERT ( list );

  00009	83 7d 08 00	 cmp	 DWORD PTR _list$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_direct
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z@4JA
  00014	83 c0 02	 add	 eax, 2
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_04DONFEANM@list@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_direct:

; 186  : 
; 187  : 	if ( list->find_data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY )

  00027	8b 45 08	 mov	 eax, DWORD PTR _list$[ebp]
  0002a	8b 88 04 01 00
	00		 mov	 ecx, DWORD PTR [eax+260]
  00030	83 e1 10	 and	 ecx, 16			; 00000010H
  00033	74 09		 je	 SHORT $LN3@get_direct

; 188  : 	{
; 189  : 
; 190  : 		return ( DIRECTORY_FILE_TYPE_DIRECTORY );

  00035	b8 01 00 00 00	 mov	 eax, 1
  0003a	eb 07		 jmp	 SHORT $LN1@get_direct

; 191  : 	}
; 192  : 	else

  0003c	eb 05		 jmp	 SHORT $LN1@get_direct
$LN3@get_direct:

; 193  : 	{
; 194  : 
; 195  : 		return ( DIRECTORY_FILE_TYPE_FILE );

  0003e	b8 02 00 00 00	 mov	 eax, 2
$LN1@get_direct:

; 196  : 	}
; 197  : }

  00043	5f		 pop	 edi
  00044	5e		 pop	 esi
  00045	5b		 pop	 ebx
  00046	8b e5		 mov	 esp, ebp
  00048	5d		 pop	 ebp
  00049	c2 04 00	 ret	 4
?get_directory_file_type@@YG?AW4DIRECTORY_FILE_TYPES@@PAUDIRECTORY_FILE_LIST@@@Z ENDP ; get_directory_file_type
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z
_TEXT	SEGMENT
_list$ = 8						; size = 4
?destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z PROC ; destroy_directory_file_list, COMDAT

; 169  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 170  : 
; 171  : 	ASSERT ( list );

  00009	83 7d 08 00	 cmp	 DWORD PTR _list$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@destroy_di
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z@4JA
  00014	83 c0 02	 add	 eax, 2
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_04DONFEANM@list@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@destroy_di:

; 172  : 
; 173  : 	FindClose ( list->search_handle );

  00027	8b 45 08	 mov	 eax, DWORD PTR _list$[ebp]
  0002a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0002c	51		 push	 ecx
  0002d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__FindClose@4

; 174  : 
; 175  : 	free_mem ( list );

  00033	8b 45 08	 mov	 eax, DWORD PTR _list$[ebp]
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ?free_mem@@YGXPAX@Z	; free_mem

; 176  : }

  0003c	5f		 pop	 edi
  0003d	5e		 pop	 esi
  0003e	5b		 pop	 ebx
  0003f	8b e5		 mov	 esp, ebp
  00041	5d		 pop	 ebp
  00042	c2 04 00	 ret	 4
?destroy_directory_file_list@@YGXPAUDIRECTORY_FILE_LIST@@@Z ENDP ; destroy_directory_file_list
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z
_TEXT	SEGMENT
_list$ = 8						; size = 4
?get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z PROC ; get_directory_file_last_write_time, COMDAT

; 157  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 158  : 
; 159  : 	ASSERT ( list );

  00009	83 7d 08 00	 cmp	 DWORD PTR _list$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_direct
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z@4JA
  00014	83 c0 02	 add	 eax, 2
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_04DONFEANM@list@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_direct:

; 160  : 
; 161  : 	return ( &list->find_data.ftLastWriteTime );

  00027	8b 45 08	 mov	 eax, DWORD PTR _list$[ebp]
  0002a	05 18 01 00 00	 add	 eax, 280		; 00000118H

; 162  : }

  0002f	5f		 pop	 edi
  00030	5e		 pop	 esi
  00031	5b		 pop	 ebx
  00032	8b e5		 mov	 esp, ebp
  00034	5d		 pop	 ebp
  00035	c2 04 00	 ret	 4
?get_directory_file_last_write_time@@YGPAU_FILETIME@@PAUDIRECTORY_FILE_LIST@@@Z ENDP ; get_directory_file_last_write_time
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z
_TEXT	SEGMENT
_list$ = 8						; size = 4
?get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z PROC ; get_directory_file_filename, COMDAT

; 145  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 146  : 
; 147  : 	ASSERT ( list );

  00009	83 7d 08 00	 cmp	 DWORD PTR _list$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_direct
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA
  00014	83 c0 02	 add	 eax, 2
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_04DONFEANM@list@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_direct:

; 148  : 
; 149  : 	return ( list->find_data.cFileName );

  00027	8b 45 08	 mov	 eax, DWORD PTR _list$[ebp]
  0002a	05 30 01 00 00	 add	 eax, 304		; 00000130H

; 150  : }

  0002f	5f		 pop	 edi
  00030	5e		 pop	 esi
  00031	5b		 pop	 ebx
  00032	8b e5		 mov	 esp, ebp
  00034	5d		 pop	 ebp
  00035	c2 04 00	 ret	 4
?get_directory_file_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z ENDP ; get_directory_file_filename
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z
_TEXT	SEGMENT
_list$ = 8						; size = 4
?get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z PROC ; get_directory_filename, COMDAT

; 133  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 134  : 
; 135  : 	ASSERT ( list );

  00009	83 7d 08 00	 cmp	 DWORD PTR _list$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_direct
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z@4JA
  00014	83 c0 02	 add	 eax, 2
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_04DONFEANM@list@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_direct:

; 136  : 
; 137  : 	return ( list->path );

  00027	8b 45 08	 mov	 eax, DWORD PTR _list$[ebp]
  0002a	83 c0 04	 add	 eax, 4

; 138  : }

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c2 04 00	 ret	 4
?get_directory_filename@@YGPBDPAUDIRECTORY_FILE_LIST@@@Z ENDP ; get_directory_filename
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z
_TEXT	SEGMENT
_return_value$ = -4					; size = 4
_list$ = 8						; size = 4
?get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z PROC ; get_next_directory_file, COMDAT

; 116  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 117  : 
; 118  : 	int
; 119  : 		return_value;
; 120  : 
; 121  : 	ASSERT ( list );

  00009	83 7d 08 00	 cmp	 DWORD PTR _list$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@get_next_d
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z@4JA
  00014	83 c0 05	 add	 eax, 5
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_04DONFEANM@list@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_next_d:

; 122  : 
; 123  : 	return_value = FindNextFile ( list->search_handle, &list->find_data );

  00027	8b 45 08	 mov	 eax, DWORD PTR _list$[ebp]
  0002a	05 04 01 00 00	 add	 eax, 260		; 00000104H
  0002f	50		 push	 eax
  00030	8b 4d 08	 mov	 ecx, DWORD PTR _list$[ebp]
  00033	8b 11		 mov	 edx, DWORD PTR [ecx]
  00035	52		 push	 edx
  00036	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__FindNextFileA@8
  0003c	89 45 fc	 mov	 DWORD PTR _return_value$[ebp], eax

; 124  : 
; 125  : 	return ( return_value );

  0003f	8b 45 fc	 mov	 eax, DWORD PTR _return_value$[ebp]

; 126  : }

  00042	5f		 pop	 edi
  00043	5e		 pop	 esi
  00044	5b		 pop	 ebx
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c2 04 00	 ret	 4
?get_next_directory_file@@YGHPAUDIRECTORY_FILE_LIST@@@Z ENDP ; get_next_directory_file
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\filedir.c
;	COMDAT ?get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z
_TEXT	SEGMENT
_first_file$ = -4					; size = 4
_path$ = 8						; size = 4
?get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z PROC ; get_first_directory_file, COMDAT

; 78   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 79   : 
; 80   : 	directory_file_list
; 81   : 		*first_file;
; 82   : 
; 83   : 	ASSERT ( get_memory_block_system_installed () );

  00009	e8 00 00 00 00	 call	 ?get_memory_block_system_installed@@YGHXZ ; get_memory_block_system_installed
  0000e	85 c0		 test	 eax, eax
  00010	75 18		 jne	 SHORT $LN2@get_first_
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z@4JA
  00017	83 c0 05	 add	 eax, 5
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@LJCKGEMP@c?3?2users?2nhv90?2projects?2eech?2mo@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@EIHAGOBA@get_memory_block_system_install@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_first_:

; 84   : 
; 85   : 	first_file = (directory_file_list*) malloc_fast_mem ( sizeof ( directory_file_list ) );

  0002a	68 44 02 00 00	 push	 580			; 00000244H
  0002f	e8 00 00 00 00	 call	 ?malloc_fast_memory@@YGPAXI@Z ; malloc_fast_memory
  00034	89 45 fc	 mov	 DWORD PTR _first_file$[ebp], eax

; 86   : 
; 87   : 	if ( first_file )

  00037	83 7d fc 00	 cmp	 DWORD PTR _first_file$[ebp], 0
  0003b	74 4a		 je	 SHORT $LN3@get_first_

; 88   : 	{
; 89   : 
; 90   : 		strcpy ( first_file->path, path );

  0003d	8b 45 08	 mov	 eax, DWORD PTR _path$[ebp]
  00040	50		 push	 eax
  00041	8b 4d fc	 mov	 ecx, DWORD PTR _first_file$[ebp]
  00044	83 c1 04	 add	 ecx, 4
  00047	51		 push	 ecx
  00048	e8 00 00 00 00	 call	 _strcpy
  0004d	83 c4 08	 add	 esp, 8

; 91   : 
; 92   : 		first_file->search_handle = FindFirstFile ( first_file->path, &first_file->find_data );

  00050	8b 45 fc	 mov	 eax, DWORD PTR _first_file$[ebp]
  00053	05 04 01 00 00	 add	 eax, 260		; 00000104H
  00058	50		 push	 eax
  00059	8b 4d fc	 mov	 ecx, DWORD PTR _first_file$[ebp]
  0005c	83 c1 04	 add	 ecx, 4
  0005f	51		 push	 ecx
  00060	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__FindFirstFileA@8
  00066	8b 55 fc	 mov	 edx, DWORD PTR _first_file$[ebp]
  00069	89 02		 mov	 DWORD PTR [edx], eax

; 93   : 
; 94   : 		if ( first_file->search_handle == INVALID_HANDLE_VALUE )

  0006b	8b 45 fc	 mov	 eax, DWORD PTR _first_file$[ebp]
  0006e	83 38 ff	 cmp	 DWORD PTR [eax], -1
  00071	75 0f		 jne	 SHORT $LN4@get_first_

; 95   : 		{
; 96   : 
; 97   : 			free_mem ( first_file );

  00073	8b 45 fc	 mov	 eax, DWORD PTR _first_file$[ebp]
  00076	50		 push	 eax
  00077	e8 00 00 00 00	 call	 ?free_mem@@YGXPAX@Z	; free_mem

; 98   : 
; 99   : 			return ( NULL );

  0007c	33 c0		 xor	 eax, eax
  0007e	eb 09		 jmp	 SHORT $LN1@get_first_

; 100  : 		}
; 101  : 		else

  00080	eb 05		 jmp	 SHORT $LN3@get_first_
$LN4@get_first_:

; 102  : 		{
; 103  : 
; 104  : 			return ( first_file );

  00082	8b 45 fc	 mov	 eax, DWORD PTR _first_file$[ebp]
  00085	eb 02		 jmp	 SHORT $LN1@get_first_
$LN3@get_first_:

; 105  : 		}
; 106  : 	}
; 107  : 
; 108  : 	return ( NULL );

  00087	33 c0		 xor	 eax, eax
$LN1@get_first_:

; 109  : }

  00089	5f		 pop	 edi
  0008a	5e		 pop	 esi
  0008b	5b		 pop	 ebx
  0008c	8b e5		 mov	 esp, ebp
  0008e	5d		 pop	 ebp
  0008f	c2 04 00	 ret	 4
?get_first_directory_file@@YGPAUDIRECTORY_FILE_LIST@@PBD@Z ENDP ; get_first_directory_file
_TEXT	ENDS
END
