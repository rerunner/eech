; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_ka50_virtual_cockpit@@YGXXZ		; initialise_ka50_virtual_cockpit
PUBLIC	?deinitialise_ka50_virtual_cockpit@@YGXXZ	; deinitialise_ka50_virtual_cockpit
PUBLIC	?update_ka50_virtual_cockpit@@YGXXZ		; update_ka50_virtual_cockpit
PUBLIC	?pre_render_ka50_virtual_cockpit_displays@@YGXXZ ; pre_render_ka50_virtual_cockpit_displays
PUBLIC	?draw_ka50_virtual_cockpit@@YGXXZ		; draw_ka50_virtual_cockpit
PUBLIC	?get_ka50_crew_viewpoint@@YGXXZ			; get_ka50_crew_viewpoint
PUBLIC	?get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z ; get_ka50_display_viewpoint
PUBLIC	?damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z ; damage_ka50_virtual_cockpit_main_rotors
PUBLIC	?restore_ka50_virtual_cockpit_main_rotors@@YGXXZ ; restore_ka50_virtual_cockpit_main_rotors
PUBLIC	??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??draw_ka50_virtual_cockpit@@YGXXZ@4JA ; `draw_ka50_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??get_ka50_crew_viewpoint@@YGXXZ@4JA ; `get_ka50_crew_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@ ; `string'
PUBLIC	??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@ ; `string'
PUBLIC	?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA ; `get_ka50_display_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ ; `string'
PUBLIC	??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@	; `string'
PUBLIC	??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ ; `string'
PUBLIC	??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ ; `string'
PUBLIC	?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA ; `damage_ka50_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	??_C@_0DA@PICDOBAJ@virtual_cockpit_inst3d_detail_l@ ; `string'
PUBLIC	??_C@_0DC@KMIHMCBF@virtual_cockpit_inst3d_detail_l@ ; `string'
PUBLIC	??_C@_0CP@MGKBEFMA@virtual_cockpit_inst3d_detail_l@ ; `string'
PUBLIC	??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@ ; `string'
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA ; `restore_ka50_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	__real@3c8efa35
PUBLIC	__real@3d4ccccd
PUBLIC	__real@3d886595
PUBLIC	__real@3dc8b439
PUBLIC	__real@3dcccccd
PUBLIC	__real@3dd0c43d
PUBLIC	__real@3de0ded3
PUBLIC	__real@3e800000
PUBLIC	__real@3ecccccd
PUBLIC	__real@3ef4f8b588e368f1
PUBLIC	__real@3f000000
PUBLIC	__real@3f00002000400080
PUBLIC	__real@3f24a234
PUBLIC	__real@3f800000
PUBLIC	__real@3f9999999999999a
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4000000000000000
PUBLIC	__real@4008000000000000
PUBLIC	__real@400921fb60000000
PUBLIC	__real@4014000000000000
PUBLIC	__real@4016cbe4
PUBLIC	__real@40cfff8000000000
PUBLIC	__real@41200000
PUBLIC	__real@461c4000
PUBLIC	__real@bff8000000000000
PUBLIC	__real@c008000000000000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?query_TIR_active@@YAHXZ:PROC			; query_TIR_active
EXTRN	?TIR_GetRoll@@YGMXZ:PROC			; TIR_GetRoll
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_transpose_matrix3x3_vec3d
EXTRN	?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z:PROC ; multiply_matrix3x3_matrix3x3
EXTRN	?get_inverse_matrix@@YGXQAY02MQAY02$$CBM@Z:PROC	; get_inverse_matrix
EXTRN	?clear_zbuffer_screen@@YGXXZ:PROC		; clear_zbuffer_screen
EXTRN	?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z:PROC ; recalculate_3d_environment_settings
EXTRN	?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z:PROC ; set_3d_view_distances
EXTRN	?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z:PROC	; realise_3d_clip_extents
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; destruct_3d_object
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z:PROC ; insert_zbiased_relative_object_into_3d_scene
EXTRN	?draw_3d_scene@@YGXXZ:PROC			; draw_3d_scene
EXTRN	?begin_3d_scene@@YGHXZ:PROC			; begin_3d_scene
EXTRN	?end_3d_scene@@YGXXZ:PROC			; end_3d_scene
EXTRN	?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z:PROC ; create_light_3d_source
EXTRN	?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z:PROC ; destroy_light_3d_source
EXTRN	?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z:PROC ; insert_light_3d_source_into_3d_scene
EXTRN	?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z:PROC ; remove_light_3d_source_from_3d_scene
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z:PROC ; animate_helicopter_main_rotors
EXTRN	?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z:PROC ; animate_damaged_helicopter_main_rotors
EXTRN	?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_helicopter_virtual_cockpit_main_rotors
EXTRN	?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; damage_helicopter_main_rotor_inst3d
EXTRN	?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z:PROC ; restore_helicopter_main_rotor_inst3d
EXTRN	?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z:PROC ; get_helicopter_main_rotors_blurred
EXTRN	?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z:PROC ; set_rotation_angle_of_helicopter_main_rotors
EXTRN	?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z:PROC ; get_rotation_angle_of_helicopter_main_rotors
EXTRN	?animate_ka50_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_ka50_virtual_cockpit_eo
EXTRN	?draw_ka50_hud@@YGXXZ:PROC			; draw_ka50_hud
EXTRN	?draw_external_ka50_hud@@YGXXZ:PROC		; draw_external_ka50_hud
EXTRN	?draw_ka50_mfd@@YGXXZ:PROC			; draw_ka50_mfd
EXTRN	?initialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; initialise_common_virtual_cockpit_cameras
EXTRN	?deinitialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; deinitialise_common_virtual_cockpit_cameras
EXTRN	?print_edit_wide_cockpit@@YGXXZ:PROC		; print_edit_wide_cockpit
EXTRN	?move_edit_wide_cockpit@@YGXXZ:PROC		; move_edit_wide_cockpit
EXTRN	?initialise_ka50_crew_animation@@YGXXZ:PROC	; initialise_ka50_crew_animation
EXTRN	?deinitialise_ka50_crew_animation@@YGXXZ:PROC	; deinitialise_ka50_crew_animation
EXTRN	?update_ka50_crew_animation@@YGXXZ:PROC		; update_ka50_crew_animation
EXTRN	?set_ka50_crew_head_positions@@YGXXZ:PROC	; set_ka50_crew_head_positions
EXTRN	?initialise_ka50_virtual_cockpit_canopy_doors@@YGXXZ:PROC ; initialise_ka50_virtual_cockpit_canopy_doors
EXTRN	?animate_ka50_virtual_cockpit_canopy_doors@@YGXXZ:PROC ; animate_ka50_virtual_cockpit_canopy_doors
EXTRN	?draw_ka50_virtual_cockpit_instruments@@YGXXZ:PROC ; draw_ka50_virtual_cockpit_instruments
EXTRN	?draw_ka50_virtual_cockpit_lamps@@YGXXZ:PROC	; draw_ka50_virtual_cockpit_lamps
EXTRN	?get_ka50_pilot_head_pitch_datum@@YGMXZ:PROC	; get_ka50_pilot_head_pitch_datum
EXTRN	?initialise_ka50_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; initialise_ka50_virtual_cockpit_wiper_and_rain_effect
EXTRN	?deinitialise_ka50_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; deinitialise_ka50_virtual_cockpit_wiper_and_rain_effect
EXTRN	?animate_ka50_wipers@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_ka50_wipers
EXTRN	?get_time_acceleration@@YGHXZ:PROC		; get_time_acceleration
EXTRN	?move_by_rate@@YGMMMM@Z:PROC			; move_by_rate
EXTRN	?random_number_seed@@3HA:DWORD			; random_number_seed
EXTRN	?command_line_TIR_6DOF@@3HA:DWORD		; command_line_TIR_6DOF
EXTRN	?command_line_g_force_head_movment_modifier@@3MA:DWORD ; command_line_g_force_head_movment_modifier
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?main_3d_env@@3PAUENV_3D@@A:DWORD		; main_3d_env
EXTRN	?main_vp@@3UVIEWPOINT@@A:BYTE			; main_vp
EXTRN	?view_mode@@3W4VIEW_MODES@@A:DWORD		; view_mode
EXTRN	?pilot_head_heading@@3MA:DWORD			; pilot_head_heading
EXTRN	?pilot_head_pitch@@3MA:DWORD			; pilot_head_pitch
EXTRN	?pilot_head_vp@@3UVIEWPOINT@@A:BYTE		; pilot_head_vp
EXTRN	?wide_cockpit@@3HA:DWORD			; wide_cockpit
EXTRN	?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A:BYTE ; wide_cockpit_position
EXTRN	?wide_cockpit_nr@@3HA:DWORD			; wide_cockpit_nr
EXTRN	?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A:BYTE ; current_custom_cockpit_viewpoint
EXTRN	?night_vision_system_active@@3HA:DWORD		; night_vision_system_active
EXTRN	?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A:DWORD ; virtual_cockpit_inst3d
EXTRN	?pilot_head_pitch_datum@@3MA:DWORD		; pilot_head_pitch_datum
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_inst3d_detail_level_high_inst3d
?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_inst3d_detail_level_medium_inst3d
?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_inst3d_detail_level_low_inst3d
?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_inst3d_detail_level_glass_inst3d
?x_head_g_movement@@3MA DD 01H DUP (?)			; x_head_g_movement
?y_head_g_movement@@3MA DD 01H DUP (?)			; y_head_g_movement
?random_vibration_x@@3MA DD 01H DUP (?)			; random_vibration_x
?random_vibration_y@@3MA DD 01H DUP (?)			; random_vibration_y
_BSS	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@c008000000000000
CONST	SEGMENT
__real@c008000000000000 DQ 0c008000000000000r	; -3
CONST	ENDS
;	COMDAT __real@bff8000000000000
CONST	SEGMENT
__real@bff8000000000000 DQ 0bff8000000000000r	; -1.5
CONST	ENDS
;	COMDAT __real@461c4000
CONST	SEGMENT
__real@461c4000 DD 0461c4000r			; 10000
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@40cfff8000000000
CONST	SEGMENT
__real@40cfff8000000000 DQ 040cfff8000000000r	; 16383
CONST	ENDS
;	COMDAT __real@4016cbe4
CONST	SEGMENT
__real@4016cbe4 DD 04016cbe4r			; 2.35619
CONST	ENDS
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@400921fb60000000
CONST	SEGMENT
__real@400921fb60000000 DQ 0400921fb60000000r	; 3.14159
CONST	ENDS
;	COMDAT __real@4008000000000000
CONST	SEGMENT
__real@4008000000000000 DQ 04008000000000000r	; 3
CONST	ENDS
;	COMDAT __real@4000000000000000
CONST	SEGMENT
__real@4000000000000000 DQ 04000000000000000r	; 2
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3f9999999999999a
CONST	SEGMENT
__real@3f9999999999999a DQ 03f9999999999999ar	; 0.025
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f24a234
CONST	SEGMENT
__real@3f24a234 DD 03f24a234r			; 0.6431
CONST	ENDS
;	COMDAT __real@3f00002000400080
CONST	SEGMENT
__real@3f00002000400080 DQ 03f00002000400080r	; 3.05185e-05
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3ef4f8b588e368f1
CONST	SEGMENT
__real@3ef4f8b588e368f1 DQ 03ef4f8b588e368f1r	; 2e-05
CONST	ENDS
;	COMDAT __real@3ecccccd
CONST	SEGMENT
__real@3ecccccd DD 03ecccccdr			; 0.4
CONST	ENDS
;	COMDAT __real@3e800000
CONST	SEGMENT
__real@3e800000 DD 03e800000r			; 0.25
CONST	ENDS
;	COMDAT __real@3de0ded3
CONST	SEGMENT
__real@3de0ded3 DD 03de0ded3r			; 0.1098
CONST	ENDS
;	COMDAT __real@3dd0c43d
CONST	SEGMENT
__real@3dd0c43d DD 03dd0c43dr			; 0.101937
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@3dc8b439
CONST	SEGMENT
__real@3dc8b439 DD 03dc8b439r			; 0.098
CONST	ENDS
;	COMDAT __real@3d886595
CONST	SEGMENT
__real@3d886595 DD 03d886595r			; 0.0666
CONST	ENDS
;	COMDAT __real@3d4ccccd
CONST	SEGMENT
__real@3d4ccccd DD 03d4ccccdr			; 0.05
CONST	ENDS
;	COMDAT __real@3c8efa35
CONST	SEGMENT
__real@3c8efa35 DD 03c8efa35r			; 0.0174533
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA DD 048bH ; `restore_ka50_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@
CONST	SEGMENT
??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@ DB 'virtual_cockpit_i'
	DB	'nst3d_detail_level_glass_inst3d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CP@MGKBEFMA@virtual_cockpit_inst3d_detail_l@
CONST	SEGMENT
??_C@_0CP@MGKBEFMA@virtual_cockpit_inst3d_detail_l@ DB 'virtual_cockpit_i'
	DB	'nst3d_detail_level_low_inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DC@KMIHMCBF@virtual_cockpit_inst3d_detail_l@
CONST	SEGMENT
??_C@_0DC@KMIHMCBF@virtual_cockpit_inst3d_detail_l@ DB 'virtual_cockpit_i'
	DB	'nst3d_detail_level_medium_inst3d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@PICDOBAJ@virtual_cockpit_inst3d_detail_l@
CONST	SEGMENT
??_C@_0DA@PICDOBAJ@virtual_cockpit_inst3d_detail_l@ DB 'virtual_cockpit_i'
	DB	'nst3d_detail_level_high_inst3d', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA DD 0462H ; `damage_ka50_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
CONST	SEGMENT
??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ DB 'Failed to loc'
	DB	'ate display viewpoint in virtual cockpit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ DB 'Invalid view mod'
	DB	'e = %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@
CONST	SEGMENT
??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@ DB 'virtual_cockpit_inst3d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ DB 'get_gunship_entity ('
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA DD 0403H ; `get_ka50_display_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@
CONST	SEGMENT
??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@ DB 'Failed to lo'
	DB	'cate crew''s viewpoint in virtual cockpit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@
CONST	SEGMENT
??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@ DB 'Failed to lo'
	DB	'cate crew''s head in virtual cockpit', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_ka50_crew_viewpoint@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_ka50_crew_viewpoint@@YGXXZ@4JA DD 038fH ; `get_ka50_crew_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??draw_ka50_virtual_cockpit@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_ka50_virtual_cockpit@@YGXXZ@4JA DD 0245H ; `draw_ka50_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vc'
	DB	'kpt.c', 00H					; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?restore_ka50_virtual_cockpit_main_rotors@@YGXXZ
_TEXT	SEGMENT
tv135 = -80						; size = 4
tv95 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
?restore_ka50_virtual_cockpit_main_rotors@@YGXXZ PROC	; restore_ka50_virtual_cockpit_main_rotors, COMDAT

; 1163 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1164 : 	float
; 1165 : 		theta;
; 1166 : 
; 1167 : 	object_3d_instance
; 1168 : 		*inst3d;
; 1169 : 
; 1170 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@restore_ka
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@restore_ka:

; 1171 : 
; 1172 : 	ASSERT (virtual_cockpit_inst3d_detail_level_high_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@restore_ka
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@PICDOBAJ@virtual_cockpit_inst3d_detail_l@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@restore_ka:

; 1173 : 	ASSERT (virtual_cockpit_inst3d_detail_level_medium_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@restore_ka
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0DC@KMIHMCBF@virtual_cockpit_inst3d_detail_l@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@restore_ka:

; 1174 : 	ASSERT (virtual_cockpit_inst3d_detail_level_low_inst3d);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00073	75 18		 jne	 SHORT $LN5@restore_ka
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  0007a	83 c0 0b	 add	 eax, 11			; 0000000bH
  0007d	50		 push	 eax
  0007e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00083	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@MGKBEFMA@virtual_cockpit_inst3d_detail_l@
  00088	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@restore_ka:

; 1175 : 	ASSERT (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  0008d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00094	75 18		 jne	 SHORT $LN6@restore_ka
  00096	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  0009b	83 c0 0c	 add	 eax, 12			; 0000000cH
  0009e	50		 push	 eax
  0009f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@
  000a9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@restore_ka:

; 1176 : 
; 1177 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  000ae	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000b5	74 0c		 je	 SHORT $LN9@restore_ka
  000b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000bc	8b 08		 mov	 ecx, DWORD PTR [eax]
  000be	89 4d b4	 mov	 DWORD PTR tv95[ebp], ecx
  000c1	eb 21		 jmp	 SHORT $LN10@restore_ka
$LN9@restore_ka:
  000c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000c9	83 c2 0e	 add	 edx, 14			; 0000000eH
  000cc	52		 push	 edx
  000cd	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000d7	50		 push	 eax
  000d8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000dd	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
$LN10@restore_ka:
  000e4	b9 01 00 00 00	 mov	 ecx, 1
  000e9	85 c9		 test	 ecx, ecx
  000eb	74 09		 je	 SHORT $LN11@restore_ka
  000ed	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv135[ebp], 2
  000f4	eb 21		 jmp	 SHORT $LN12@restore_ka
$LN11@restore_ka:
  000f6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000fc	83 c2 0e	 add	 edx, 14			; 0000000eH
  000ff	52		 push	 edx
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00110	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN12@restore_ka:
  00117	6a 02		 push	 2
  00119	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0011f	51		 push	 ecx
  00120	6b 55 b4 50	 imul	 edx, DWORD PTR tv95[ebp], 80
  00124	8b 45 b0	 mov	 eax, DWORD PTR tv135[ebp]
  00127	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  0012e	ff d1		 call	 ecx
  00130	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1178 : 
; 1179 : 	ASSERT (inst3d);

  00133	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00137	75 18		 jne	 SHORT $LN7@restore_ka
  00139	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_ka50_virtual_cockpit_main_rotors@@YGXXZ@4JA
  0013e	83 c0 10	 add	 eax, 16			; 00000010H
  00141	50		 push	 eax
  00142	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00147	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0014c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@restore_ka:

; 1180 : 
; 1181 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  00151	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00154	50		 push	 eax
  00155	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  0015a	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1182 : 
; 1183 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_high_inst3d, theta);

  0015d	51		 push	 ecx
  0015e	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00163	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00168	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0016d	50		 push	 eax
  0016e	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1184 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_medium_inst3d, theta);

  00173	51		 push	 ecx
  00174	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00179	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0017e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00183	50		 push	 eax
  00184	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1185 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_low_inst3d, theta);

  00189	51		 push	 ecx
  0018a	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  0018f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00194	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00199	50		 push	 eax
  0019a	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1186 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_glass_inst3d, theta);

  0019f	51		 push	 ecx
  001a0	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  001a5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001af	50		 push	 eax
  001b0	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1187 : 
; 1188 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_high_inst3d);

  001b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001ba	50		 push	 eax
  001bb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c1	51		 push	 ecx
  001c2	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1189 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_medium_inst3d);

  001c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001cc	50		 push	 eax
  001cd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001d3	51		 push	 ecx
  001d4	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1190 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_low_inst3d);

  001d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001de	50		 push	 eax
  001df	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001e5	51		 push	 ecx
  001e6	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1191 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_glass_inst3d);

  001eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001f0	50		 push	 eax
  001f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001f7	51		 push	 ecx
  001f8	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1192 : 
; 1193 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_high_inst3d);

  001fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00202	50		 push	 eax
  00203	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1194 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_medium_inst3d);

  00208	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0020d	50		 push	 eax
  0020e	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1195 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_low_inst3d);

  00213	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00218	50		 push	 eax
  00219	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1196 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  0021e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00223	50		 push	 eax
  00224	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1197 : }

  00229	5f		 pop	 edi
  0022a	5e		 pop	 esi
  0022b	5b		 pop	 ebx
  0022c	8b e5		 mov	 esp, ebp
  0022e	5d		 pop	 ebp
  0022f	c3		 ret	 0
?restore_ka50_virtual_cockpit_main_rotors@@YGXXZ ENDP	; restore_ka50_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z
_TEXT	SEGMENT
tv135 = -80						; size = 4
tv95 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
_seed$ = 8						; size = 4
?damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z PROC	; damage_ka50_virtual_cockpit_main_rotors, COMDAT

; 1122 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1123 : 	float
; 1124 : 		theta;
; 1125 : 
; 1126 : 	object_3d_instance
; 1127 : 		*inst3d;
; 1128 : 
; 1129 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@damage_ka5
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@damage_ka5:

; 1130 : 
; 1131 : 	ASSERT (virtual_cockpit_inst3d_detail_level_high_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@damage_ka5
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@PICDOBAJ@virtual_cockpit_inst3d_detail_l@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@damage_ka5:

; 1132 : 	ASSERT (virtual_cockpit_inst3d_detail_level_medium_inst3d);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00052	75 18		 jne	 SHORT $LN4@damage_ka5
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00059	83 c0 0a	 add	 eax, 10			; 0000000aH
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0DC@KMIHMCBF@virtual_cockpit_inst3d_detail_l@
  00067	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@damage_ka5:

; 1133 : 	ASSERT (virtual_cockpit_inst3d_detail_level_low_inst3d);

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00073	75 18		 jne	 SHORT $LN5@damage_ka5
  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  0007a	83 c0 0b	 add	 eax, 11			; 0000000bH
  0007d	50		 push	 eax
  0007e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00083	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@MGKBEFMA@virtual_cockpit_inst3d_detail_l@
  00088	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@damage_ka5:

; 1134 : 	ASSERT (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  0008d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00094	75 18		 jne	 SHORT $LN6@damage_ka5
  00096	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  0009b	83 c0 0c	 add	 eax, 12			; 0000000cH
  0009e	50		 push	 eax
  0009f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@HAAFKHLI@virtual_cockpit_inst3d_detail_l@
  000a9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN6@damage_ka5:

; 1135 : 
; 1136 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  000ae	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000b5	74 0c		 je	 SHORT $LN9@damage_ka5
  000b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000bc	8b 08		 mov	 ecx, DWORD PTR [eax]
  000be	89 4d b4	 mov	 DWORD PTR tv95[ebp], ecx
  000c1	eb 21		 jmp	 SHORT $LN10@damage_ka5
$LN9@damage_ka5:
  000c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000c9	83 c2 0e	 add	 edx, 14			; 0000000eH
  000cc	52		 push	 edx
  000cd	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  000d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000d7	50		 push	 eax
  000d8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000dd	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
$LN10@damage_ka5:
  000e4	b9 01 00 00 00	 mov	 ecx, 1
  000e9	85 c9		 test	 ecx, ecx
  000eb	74 09		 je	 SHORT $LN11@damage_ka5
  000ed	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv135[ebp], 2
  000f4	eb 21		 jmp	 SHORT $LN12@damage_ka5
$LN11@damage_ka5:
  000f6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000fc	83 c2 0e	 add	 edx, 14			; 0000000eH
  000ff	52		 push	 edx
  00100	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00110	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN12@damage_ka5:
  00117	6a 02		 push	 2
  00119	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0011f	51		 push	 ecx
  00120	6b 55 b4 50	 imul	 edx, DWORD PTR tv95[ebp], 80
  00124	8b 45 b0	 mov	 eax, DWORD PTR tv135[ebp]
  00127	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  0012e	ff d1		 call	 ecx
  00130	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1137 : 
; 1138 : 	ASSERT (inst3d);

  00133	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  00137	75 18		 jne	 SHORT $LN7@damage_ka5
  00139	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  0013e	83 c0 10	 add	 eax, 16			; 00000010H
  00141	50		 push	 eax
  00142	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00147	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  0014c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@damage_ka5:

; 1139 : 
; 1140 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  00151	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00154	50		 push	 eax
  00155	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  0015a	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1141 : 
; 1142 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_high_inst3d, theta);

  0015d	51		 push	 ecx
  0015e	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00163	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00168	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0016d	50		 push	 eax
  0016e	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1143 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_medium_inst3d, theta);

  00173	51		 push	 ecx
  00174	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00179	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0017e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00183	50		 push	 eax
  00184	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1144 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_low_inst3d, theta);

  00189	51		 push	 ecx
  0018a	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  0018f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00194	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00199	50		 push	 eax
  0019a	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1145 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d_detail_level_glass_inst3d, theta);

  0019f	51		 push	 ecx
  001a0	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  001a5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001af	50		 push	 eax
  001b0	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1146 : 
; 1147 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_high_inst3d);

  001b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001ba	50		 push	 eax
  001bb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c1	51		 push	 ecx
  001c2	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1148 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_medium_inst3d);

  001c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001cc	50		 push	 eax
  001cd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001d3	51		 push	 ecx
  001d4	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1149 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_low_inst3d);

  001d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001de	50		 push	 eax
  001df	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001e5	51		 push	 ecx
  001e6	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1150 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d_detail_level_glass_inst3d);

  001eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  001f0	50		 push	 eax
  001f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001f7	51		 push	 ecx
  001f8	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1151 : 
; 1152 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_high_inst3d, seed);

  001fd	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  00200	50		 push	 eax
  00201	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00207	51		 push	 ecx
  00208	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1153 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_medium_inst3d, seed);

  0020d	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  00210	50		 push	 eax
  00211	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00217	51		 push	 ecx
  00218	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1154 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_low_inst3d, seed);

  0021d	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  00220	50		 push	 eax
  00221	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00227	51		 push	 ecx
  00228	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1155 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_inst3d_detail_level_glass_inst3d, seed);

  0022d	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  00230	50		 push	 eax
  00231	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00237	51		 push	 ecx
  00238	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1156 : }

  0023d	5f		 pop	 edi
  0023e	5e		 pop	 esi
  0023f	5b		 pop	 ebx
  00240	8b e5		 mov	 esp, ebp
  00242	5d		 pop	 ebp
  00243	c2 04 00	 ret	 4
?damage_ka50_virtual_cockpit_main_rotors@@YGXH@Z ENDP	; damage_ka50_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z
_TEXT	SEGMENT
tv158 = -144						; size = 4
tv150 = -140						; size = 4
tv91 = -140						; size = 4
tv74 = -140						; size = 4
_position$ = -72					; size = 12
_search$ = -60						; size = 56
_index$ = -4						; size = 4
_mode$ = 8						; size = 4
?get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z PROC	; get_ka50_display_viewpoint, COMDAT

; 1027 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 00 00
	00		 sub	 esp, 144		; 00000090H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1028 : 	object_3d_sub_object_index_numbers
; 1029 : 		index;
; 1030 : 
; 1031 : 	object_3d_sub_object_search_data
; 1032 : 		search;
; 1033 : 
; 1034 : 	vec3d
; 1035 : 		position;
; 1036 : 
; 1037 : 	ASSERT (get_gunship_entity ());

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00013	75 18		 jne	 SHORT $LN4@get_ka50_d
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  0001a	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@get_ka50_d:

; 1038 : 
; 1039 : 	ASSERT (virtual_cockpit_inst3d);

  0002d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d
  00034	75 18		 jne	 SHORT $LN5@get_ka50_d
  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  0003b	83 c0 0c	 add	 eax, 12			; 0000000cH
  0003e	50		 push	 eax
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@OJOOJLIP@virtual_cockpit_inst3d@
  00049	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@get_ka50_d:

; 1040 : 
; 1041 : 	switch (mode)

  0004e	8b 45 08	 mov	 eax, DWORD PTR _mode$[ebp]
  00051	89 85 74 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], eax
  00057	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR tv74[ebp]
  0005d	83 e9 26	 sub	 ecx, 38			; 00000026H
  00060	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], ecx
  00066	83 bd 74 ff ff
	ff 03		 cmp	 DWORD PTR tv74[ebp], 3
  0006d	77 31		 ja	 SHORT $LN10@get_ka50_d
  0006f	8b 95 74 ff ff
	ff		 mov	 edx, DWORD PTR tv74[ebp]
  00075	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN20@get_ka50_d[edx*4]
$LN6@get_ka50_d:

; 1042 : 	{
; 1043 : 		////////////////////////////////////////
; 1044 : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 1045 : 		////////////////////////////////////////
; 1046 : 		{
; 1047 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_LHS_2;

  0007c	c7 45 fc ca 00
	00 00		 mov	 DWORD PTR _index$[ebp], 202 ; 000000caH

; 1048 : 
; 1049 : 			break;

  00083	eb 2c		 jmp	 SHORT $LN2@get_ka50_d
$LN7@get_ka50_d:

; 1050 : 		}
; 1051 : 		////////////////////////////////////////
; 1052 : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 1053 : 		////////////////////////////////////////
; 1054 : 		{
; 1055 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_LHS_1;

  00085	c7 45 fc c9 00
	00 00		 mov	 DWORD PTR _index$[ebp], 201 ; 000000c9H

; 1056 : 
; 1057 : 			break;

  0008c	eb 23		 jmp	 SHORT $LN2@get_ka50_d
$LN8@get_ka50_d:

; 1058 : 		}
; 1059 : 		////////////////////////////////////////
; 1060 : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 1061 : 		////////////////////////////////////////
; 1062 : 		{
; 1063 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_RHS_1;

  0008e	c7 45 fc cb 00
	00 00		 mov	 DWORD PTR _index$[ebp], 203 ; 000000cbH

; 1064 : 
; 1065 : 			break;

  00095	eb 1a		 jmp	 SHORT $LN2@get_ka50_d
$LN9@get_ka50_d:

; 1066 : 		}
; 1067 : 		////////////////////////////////////////
; 1068 : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 1069 : 		////////////////////////////////////////
; 1070 : 		{
; 1071 : 			index = OBJECT_3D_SUB_OBJECT_COCKPIT_VIEW_MFD_RHS_2;

  00097	c7 45 fc cc 00
	00 00		 mov	 DWORD PTR _index$[ebp], 204 ; 000000ccH

; 1072 : 
; 1073 : 			break;

  0009e	eb 11		 jmp	 SHORT $LN2@get_ka50_d
$LN10@get_ka50_d:

; 1074 : 		}
; 1075 : 		////////////////////////////////////////
; 1076 : 		default:
; 1077 : 		////////////////////////////////////////
; 1078 : 		{
; 1079 : 			debug_fatal ("Invalid view mode = %d", mode);

  000a0	8b 45 08	 mov	 eax, DWORD PTR _mode$[ebp]
  000a3	50		 push	 eax
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
  000a9	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000ae	83 c4 08	 add	 esp, 8
$LN2@get_ka50_d:

; 1080 : 
; 1081 : 			break;
; 1082 : 		}
; 1083 : 	}
; 1084 : 
; 1085 : 	virtual_cockpit_inst3d->vp.x = 0.0;

  000b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000b6	0f 57 c0	 xorps	 xmm0, xmm0
  000b9	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 1086 : 	virtual_cockpit_inst3d->vp.y = 0.0;

  000be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000c3	0f 57 c0	 xorps	 xmm0, xmm0
  000c6	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 1087 : 	virtual_cockpit_inst3d->vp.z = 0.0;

  000cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000d0	0f 57 c0	 xorps	 xmm0, xmm0
  000d3	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 1088 : 
; 1089 : 	get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  000d8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000df	74 0f		 je	 SHORT $LN14@get_ka50_d
  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000e6	8b 08		 mov	 ecx, DWORD PTR [eax]
  000e8	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv91[ebp], ecx
  000ee	eb 24		 jmp	 SHORT $LN15@get_ka50_d
$LN14@get_ka50_d:
  000f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  000f6	83 c2 3e	 add	 edx, 62			; 0000003eH
  000f9	52		 push	 edx
  000fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00104	50		 push	 eax
  00105	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0010a	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv91[ebp], 0
$LN15@get_ka50_d:
  00114	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0011a	83 c1 14	 add	 ecx, 20			; 00000014H
  0011d	51		 push	 ecx
  0011e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00124	52		 push	 edx
  00125	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR tv91[ebp]
  0012b	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  00132	ff d1		 call	 ecx

; 1090 : 
; 1091 : 	search.search_depth = 0;

  00134	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1092 : 	search.search_object = virtual_cockpit_inst3d;

  0013b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00140	89 45 c4	 mov	 DWORD PTR _search$[ebp], eax

; 1093 : 	search.sub_object_index = index;

  00143	8b 45 fc	 mov	 eax, DWORD PTR _index$[ebp]
  00146	89 45 d0	 mov	 DWORD PTR _search$[ebp+12], eax

; 1094 : 
; 1095 : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00149	8d 45 c4	 lea	 eax, DWORD PTR _search$[ebp]
  0014c	50		 push	 eax
  0014d	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00152	83 f8 01	 cmp	 eax, 1
  00155	75 10		 jne	 SHORT $LN11@get_ka50_d

; 1096 : 	{
; 1097 : 		get_3d_sub_object_world_viewpoint (search.result_sub_object, &main_vp);

  00157	68 00 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A ; main_vp
  0015c	8b 45 c8	 mov	 eax, DWORD PTR _search$[ebp+4]
  0015f	50		 push	 eax
  00160	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 1098 : 	}
; 1099 : 	else

  00165	eb 0d		 jmp	 SHORT $LN12@get_ka50_d
$LN11@get_ka50_d:

; 1100 : 	{
; 1101 : 		debug_fatal ("Failed to locate display viewpoint in virtual cockpit");

  00167	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
  0016c	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00171	83 c4 04	 add	 esp, 4
$LN12@get_ka50_d:

; 1102 : 	}
; 1103 : 
; 1104 : 	position.x = -main_vp.x;

  00174	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A
  0017c	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00183	f3 0f 11 45 b8	 movss	 DWORD PTR _position$[ebp], xmm0

; 1105 : 	position.y = -main_vp.y;

  00188	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4
  00190	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00197	f3 0f 11 45 bc	 movss	 DWORD PTR _position$[ebp+4], xmm0

; 1106 : 	position.z = -main_vp.z;

  0019c	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8
  001a4	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  001ab	f3 0f 11 45 c0	 movss	 DWORD PTR _position$[ebp+8], xmm0

; 1107 : 
; 1108 : 	multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, main_vp.attitude, &position);

  001b0	8d 45 b8	 lea	 eax, DWORD PTR _position$[ebp]
  001b3	50		 push	 eax
  001b4	68 0c 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A+12
  001b9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001bf	83 c1 08	 add	 ecx, 8
  001c2	51		 push	 ecx
  001c3	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 1109 : 
; 1110 : 	get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &position);

  001c8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001cf	74 0f		 je	 SHORT $LN16@get_ka50_d
  001d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001d6	8b 08		 mov	 ecx, DWORD PTR [eax]
  001d8	89 8d 74 ff ff
	ff		 mov	 DWORD PTR tv150[ebp], ecx
  001de	eb 24		 jmp	 SHORT $LN17@get_ka50_d
$LN16@get_ka50_d:
  001e0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  001e6	83 c2 53	 add	 edx, 83			; 00000053H
  001e9	52		 push	 edx
  001ea	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  001ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001f4	50		 push	 eax
  001f5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001fa	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv150[ebp], 0
$LN17@get_ka50_d:
  00204	b9 01 00 00 00	 mov	 ecx, 1
  00209	85 c9		 test	 ecx, ecx
  0020b	74 0c		 je	 SHORT $LN18@get_ka50_d
  0020d	c7 85 70 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv158[ebp], 8
  00217	eb 24		 jmp	 SHORT $LN19@get_ka50_d
$LN18@get_ka50_d:
  00219	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z@4JA
  0021f	83 c2 53	 add	 edx, 83			; 00000053H
  00222	52		 push	 edx
  00223	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00228	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0022d	50		 push	 eax
  0022e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00233	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv158[ebp], 0
$LN19@get_ka50_d:
  0023d	8d 4d b8	 lea	 ecx, DWORD PTR _position$[ebp]
  00240	51		 push	 ecx
  00241	6a 08		 push	 8
  00243	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00249	52		 push	 edx
  0024a	6b 85 74 ff ff
	ff 60		 imul	 eax, DWORD PTR tv150[ebp], 96
  00251	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR tv158[ebp]
  00257	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0025e	ff d2		 call	 edx

; 1111 : 
; 1112 : 	main_vp.x += position.x;

  00260	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A
  00268	f3 0f 58 45 b8	 addss	 xmm0, DWORD PTR _position$[ebp]
  0026d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A, xmm0

; 1113 : 	main_vp.y += position.y;

  00275	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4
  0027d	f3 0f 58 45 bc	 addss	 xmm0, DWORD PTR _position$[ebp+4]
  00282	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4, xmm0

; 1114 : 	main_vp.z += position.z;

  0028a	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8
  00292	f3 0f 58 45 c0	 addss	 xmm0, DWORD PTR _position$[ebp+8]
  00297	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8, xmm0

; 1115 : }

  0029f	5f		 pop	 edi
  002a0	5e		 pop	 esi
  002a1	5b		 pop	 ebx
  002a2	8b e5		 mov	 esp, ebp
  002a4	5d		 pop	 ebp
  002a5	c2 04 00	 ret	 4
$LN20@get_ka50_d:
  002a8	00 00 00 00	 DD	 $LN6@get_ka50_d
  002ac	00 00 00 00	 DD	 $LN7@get_ka50_d
  002b0	00 00 00 00	 DD	 $LN8@get_ka50_d
  002b4	00 00 00 00	 DD	 $LN9@get_ka50_d
?get_ka50_display_viewpoint@@YGXW4VIEW_MODES@@@Z ENDP	; get_ka50_display_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?get_ka50_crew_viewpoint@@YGXXZ
_TEXT	SEGMENT
tv248 = -296						; size = 8
tv153 = -296						; size = 4
tv145 = -292						; size = 4
tv130 = -292						; size = 4
_shiftWorld$1 = -224					; size = 12
_shiftVP$2 = -212					; size = 12
_invAttitude$3 = -200					; size = 36
_head_pitch_datum$ = -164				; size = 4
_vp$ = -160						; size = 48
_search_viewpoint$ = -112				; size = 56
_search_head$ = -56					; size = 56
?get_ka50_crew_viewpoint@@YGXXZ PROC			; get_ka50_crew_viewpoint, COMDAT

; 911  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 28 01 00
	00		 sub	 esp, 296		; 00000128H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 912  : 	object_3d_sub_object_search_data
; 913  : 		search_head,
; 914  : 		search_viewpoint;
; 915  : 
; 916  : 	viewpoint
; 917  : 		vp;
; 918  : 
; 919  : 	float
; 920  : 		head_pitch_datum;
; 921  : 
; 922  : 	//
; 923  : 	// select head
; 924  : 	//
; 925  : 
; 926  : 	search_head.sub_object_index = OBJECT_3D_SUB_OBJECT_PILOT_HEAD;

  0000c	c7 45 d4 bf 00
	00 00		 mov	 DWORD PTR _search_head$[ebp+12], 191 ; 000000bfH

; 927  : 
; 928  : 	search_viewpoint.sub_object_index = OBJECT_3D_SUB_OBJECT_PILOT_VIEWPOINT;

  00013	c7 45 9c c0 00
	00 00		 mov	 DWORD PTR _search_viewpoint$[ebp+12], 192 ; 000000c0H

; 929  : 
; 930  : 	head_pitch_datum = pilot_head_pitch_datum;

  0001a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch_datum@@3MA
  00022	f3 0f 11 85 5c
	ff ff ff	 movss	 DWORD PTR _head_pitch_datum$[ebp], xmm0

; 931  : 
; 932  : 	//
; 933  : 	// rotate head
; 934  : 	//
; 935  : 
; 936  : 	search_head.search_depth = 0;

  0002a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _search_head$[ebp+8], 0

; 937  : 	search_head.search_object = virtual_cockpit_inst3d;

  00031	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00036	89 45 c8	 mov	 DWORD PTR _search_head$[ebp], eax

; 938  : 
; 939  : 	if (find_object_3d_sub_object (&search_head) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00039	8d 45 c8	 lea	 eax, DWORD PTR _search_head$[ebp]
  0003c	50		 push	 eax
  0003d	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00042	83 f8 01	 cmp	 eax, 1
  00045	0f 85 88 00 00
	00		 jne	 $LN2@get_ka50_c

; 940  : 	{
; 941  : 		search_head.result_sub_object->relative_heading = -pilot_head_heading;

  0004b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_heading@@3MA
  00053	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0005a	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  0005d	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 942  : 		search_head.result_sub_object->relative_pitch = head_pitch_datum - pilot_head_pitch;

  00062	f3 0f 10 85 5c
	ff ff ff	 movss	 xmm0, DWORD PTR _head_pitch_datum$[ebp]
  0006a	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?pilot_head_pitch@@3MA
  00072	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  00075	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 943  : 
; 944  : 		if ((command_line_TIR_6DOF == TRUE)&&(query_TIR_active() == TRUE))	// Retro 6Feb2005

  0007a	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  00081	75 43		 jne	 SHORT $LN4@get_ka50_c
  00083	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  00088	83 f8 01	 cmp	 eax, 1
  0008b	75 39		 jne	 SHORT $LN4@get_ka50_c

; 945  : 			search_head.result_sub_object->relative_roll = TIR_GetRoll() / 16383. * PI / 2.;	// Retro 6Feb2005

  0008d	e8 00 00 00 00	 call	 ?TIR_GetRoll@@YGMXZ	; TIR_GetRoll
  00092	dd 9d d8 fe ff
	ff		 fstp	 QWORD PTR tv248[ebp]
  00098	f2 0f 10 85 d8
	fe ff ff	 movsd	 xmm0, QWORD PTR tv248[ebp]
  000a0	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@40cfff8000000000
  000a8	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@400921fb60000000
  000b0	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@4000000000000000
  000b8	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000bc	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  000bf	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0

; 946  : 		else

  000c4	eb 0b		 jmp	 SHORT $LN5@get_ka50_c
$LN4@get_ka50_c:

; 947  : 			search_head.result_sub_object->relative_roll = 0.0;

  000c6	8b 45 cc	 mov	 eax, DWORD PTR _search_head$[ebp+4]
  000c9	0f 57 c0	 xorps	 xmm0, xmm0
  000cc	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN5@get_ka50_c:

; 948  : 	}
; 949  : 	else

  000d1	eb 0d		 jmp	 SHORT $LN3@get_ka50_c
$LN2@get_ka50_c:

; 950  : 	{
; 951  : 		debug_fatal ("Failed to locate crew's head in virtual cockpit");

  000d3	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@EHJMLOA@Failed?5to?5locate?5crew?8s?5head?5in@
  000d8	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000dd	83 c4 04	 add	 esp, 4
$LN3@get_ka50_c:

; 952  : 	}
; 953  : 
; 954  : 	//
; 955  : 	// get viewpoint (avoid jitter)
; 956  : 	//
; 957  : 
; 958  : 	search_viewpoint.search_object = virtual_cockpit_inst3d;

  000e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000e5	89 45 90	 mov	 DWORD PTR _search_viewpoint$[ebp], eax

; 959  : 	search_viewpoint.search_depth = 0;

  000e8	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _search_viewpoint$[ebp+8], 0

; 960  : 
; 961  : 	if (find_object_3d_sub_object (&search_viewpoint) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  000ef	8d 45 90	 lea	 eax, DWORD PTR _search_viewpoint$[ebp]
  000f2	50		 push	 eax
  000f3	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  000f8	83 f8 01	 cmp	 eax, 1
  000fb	0f 85 16 03 00
	00		 jne	 $LN6@get_ka50_c

; 962  : 	{
; 963  : 		virtual_cockpit_inst3d->vp.x = 0.0;

  00101	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00106	0f 57 c0	 xorps	 xmm0, xmm0
  00109	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 964  : 		virtual_cockpit_inst3d->vp.y = 0.0;

  0010e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00113	0f 57 c0	 xorps	 xmm0, xmm0
  00116	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 965  : 		virtual_cockpit_inst3d->vp.z = 0.0;

  0011b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00120	0f 57 c0	 xorps	 xmm0, xmm0
  00123	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 966  : 
; 967  : 		get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  00128	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0012f	74 0f		 je	 SHORT $LN11@get_ka50_c
  00131	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00136	8b 08		 mov	 ecx, DWORD PTR [eax]
  00138	89 8d dc fe ff
	ff		 mov	 DWORD PTR tv130[ebp], ecx
  0013e	eb 24		 jmp	 SHORT $LN12@get_ka50_c
$LN11@get_ka50_c:
  00140	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_ka50_crew_viewpoint@@YGXXZ@4JA
  00146	83 c2 38	 add	 edx, 56			; 00000038H
  00149	52		 push	 edx
  0014a	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00154	50		 push	 eax
  00155	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0015a	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv130[ebp], 0
$LN12@get_ka50_c:
  00164	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0016a	83 c1 14	 add	 ecx, 20			; 00000014H
  0016d	51		 push	 ecx
  0016e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00174	52		 push	 edx
  00175	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR tv130[ebp]
  0017b	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  00182	ff d1		 call	 ecx

; 968  : 
; 969  : 		get_3d_sub_object_world_viewpoint (search_viewpoint.result_sub_object, &vp);

  00184	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp]
  0018a	50		 push	 eax
  0018b	8b 4d 94	 mov	 ecx, DWORD PTR _search_viewpoint$[ebp+4]
  0018e	51		 push	 ecx
  0018f	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 970  : 
; 971  : 		get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &pilot_head_vp.position);

  00194	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0019b	74 0f		 je	 SHORT $LN13@get_ka50_c
  0019d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001a2	8b 08		 mov	 ecx, DWORD PTR [eax]
  001a4	89 8d dc fe ff
	ff		 mov	 DWORD PTR tv145[ebp], ecx
  001aa	eb 24		 jmp	 SHORT $LN14@get_ka50_c
$LN13@get_ka50_c:
  001ac	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_ka50_crew_viewpoint@@YGXXZ@4JA
  001b2	83 c2 3c	 add	 edx, 60			; 0000003cH
  001b5	52		 push	 edx
  001b6	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  001bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001c0	50		 push	 eax
  001c1	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c6	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv145[ebp], 0
$LN14@get_ka50_c:
  001d0	b9 01 00 00 00	 mov	 ecx, 1
  001d5	85 c9		 test	 ecx, ecx
  001d7	74 0c		 je	 SHORT $LN15@get_ka50_c
  001d9	c7 85 d8 fe ff
	ff 08 00 00 00	 mov	 DWORD PTR tv153[ebp], 8
  001e3	eb 24		 jmp	 SHORT $LN16@get_ka50_c
$LN15@get_ka50_c:
  001e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_ka50_crew_viewpoint@@YGXXZ@4JA
  001eb	83 c2 3c	 add	 edx, 60			; 0000003cH
  001ee	52		 push	 edx
  001ef	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  001f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  001f9	50		 push	 eax
  001fa	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ff	c7 85 d8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv153[ebp], 0
$LN16@get_ka50_c:
  00209	68 00 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A ; pilot_head_vp
  0020e	6a 08		 push	 8
  00210	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00216	51		 push	 ecx
  00217	6b 95 dc fe ff
	ff 60		 imul	 edx, DWORD PTR tv145[ebp], 96
  0021e	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR tv153[ebp]
  00224	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[edx+eax*4]
  0022b	ff d1		 call	 ecx

; 972  : 
; 973  : 		pilot_head_vp.x += vp.x;

  0022d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A
  00235	f3 0f 58 85 60
	ff ff ff	 addss	 xmm0, DWORD PTR _vp$[ebp]
  0023d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A, xmm0

; 974  : 		pilot_head_vp.y += vp.y;

  00245	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4
  0024d	f3 0f 58 85 64
	ff ff ff	 addss	 xmm0, DWORD PTR _vp$[ebp+4]
  00255	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4, xmm0

; 975  : 		pilot_head_vp.z += vp.z;

  0025d	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8
  00265	f3 0f 58 85 68
	ff ff ff	 addss	 xmm0, DWORD PTR _vp$[ebp+8]
  0026d	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8, xmm0

; 976  : 
; 977  : 		if ((command_line_TIR_6DOF == TRUE)&&(query_TIR_active() == TRUE))	// Retro 6Feb2005 (whole block)

  00275	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  0027c	0f 85 b3 00 00
	00		 jne	 $LN8@get_ka50_c
  00282	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  00287	83 f8 01	 cmp	 eax, 1
  0028a	0f 85 a5 00 00
	00		 jne	 $LN8@get_ka50_c

; 978  : 		{
; 979  : 			matrix3x3 invAttitude;
; 980  : 			vec3d
; 981  : 				shiftVP, shiftWorld;
; 982  : 
; 983  : 			// First lets find out the displacement the user wants.. this is in the user's viewsystem coords !!
; 984  : 			// Now store this info in a temp vect3d..
; 985  : 			shiftVP.x = current_custom_cockpit_viewpoint.x;

  00290	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A
  00298	f3 0f 11 85 2c
	ff ff ff	 movss	 DWORD PTR _shiftVP$2[ebp], xmm0

; 986  : 			shiftVP.y = current_custom_cockpit_viewpoint.y;

  002a0	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+4
  002a8	f3 0f 11 85 30
	ff ff ff	 movss	 DWORD PTR _shiftVP$2[ebp+4], xmm0

; 987  : 			shiftVP.z = current_custom_cockpit_viewpoint.z;

  002b0	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+8
  002b8	f3 0f 11 85 34
	ff ff ff	 movss	 DWORD PTR _shiftVP$2[ebp+8], xmm0

; 988  : 
; 989  : 			// Now we need to convert our vec3d into world coords.. for this we need the inverse of the viewpoint attitude matrix..
; 990  : 			get_inverse_matrix (invAttitude, vp.attitude);

  002c0	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp+12]
  002c6	50		 push	 eax
  002c7	8d 8d 38 ff ff
	ff		 lea	 ecx, DWORD PTR _invAttitude$3[ebp]
  002cd	51		 push	 ecx
  002ce	e8 00 00 00 00	 call	 ?get_inverse_matrix@@YGXQAY02MQAY02$$CBM@Z ; get_inverse_matrix

; 991  : 			// And rotate ! Voila, the result vec3d is now in world coords..
; 992  : 			multiply_transpose_matrix3x3_vec3d (&shiftWorld, invAttitude, &shiftVP);

  002d3	8d 85 2c ff ff
	ff		 lea	 eax, DWORD PTR _shiftVP$2[ebp]
  002d9	50		 push	 eax
  002da	8d 8d 38 ff ff
	ff		 lea	 ecx, DWORD PTR _invAttitude$3[ebp]
  002e0	51		 push	 ecx
  002e1	8d 95 20 ff ff
	ff		 lea	 edx, DWORD PTR _shiftWorld$1[ebp]
  002e7	52		 push	 edx
  002e8	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 993  : 			// Now apply that displacement.. BUT ONLY TO THE HEAD !!
; 994  : 			pilot_head_vp.x -= shiftWorld.x;

  002ed	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A
  002f5	f3 0f 5c 85 20
	ff ff ff	 subss	 xmm0, DWORD PTR _shiftWorld$1[ebp]
  002fd	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A, xmm0

; 995  : 			pilot_head_vp.y -= shiftWorld.y;

  00305	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4
  0030d	f3 0f 5c 85 24
	ff ff ff	 subss	 xmm0, DWORD PTR _shiftWorld$1[ebp+4]
  00315	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+4, xmm0

; 996  : 			pilot_head_vp.z -= shiftWorld.z;

  0031d	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8
  00325	f3 0f 5c 85 28
	ff ff ff	 subss	 xmm0, DWORD PTR _shiftWorld$1[ebp+8]
  0032d	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?pilot_head_vp@@3UVIEWPOINT@@A+8, xmm0
$LN8@get_ka50_c:

; 997  : 		}
; 998  : 
; 999  : 		memcpy (pilot_head_vp.attitude, vp.attitude, sizeof (matrix3x3));

  00335	6a 24		 push	 36			; 00000024H
  00337	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp+12]
  0033d	50		 push	 eax
  0033e	68 0c 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A+12
  00343	e8 00 00 00 00	 call	 _memcpy
  00348	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1000 : 
; 1001 : 		vp.x = -vp.x;

  0034b	f3 0f 10 85 60
	ff ff ff	 movss	 xmm0, DWORD PTR _vp$[ebp]
  00353	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0035a	f3 0f 11 85 60
	ff ff ff	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1002 : 		vp.y = -vp.y;

  00362	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR _vp$[ebp+4]
  0036a	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00371	f3 0f 11 85 64
	ff ff ff	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1003 : 		vp.z = -vp.z;

  00379	f3 0f 10 85 68
	ff ff ff	 movss	 xmm0, DWORD PTR _vp$[ebp+8]
  00381	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00388	f3 0f 11 85 68
	ff ff ff	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1004 : 
; 1005 : 		multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, pilot_head_vp.attitude, &vp.position);

  00390	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _vp$[ebp]
  00396	50		 push	 eax
  00397	68 0c 00 00 00	 push	 OFFSET ?pilot_head_vp@@3UVIEWPOINT@@A+12
  0039c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003a2	83 c1 08	 add	 ecx, 8
  003a5	51		 push	 ecx
  003a6	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 1006 : 
; 1007 : 		if ((command_line_TIR_6DOF == TRUE)&&(query_TIR_active() == TRUE))	// Retro 6Feb2005 (whole block)

  003ab	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?command_line_TIR_6DOF@@3HA, 1 ; command_line_TIR_6DOF
  003b2	75 61		 jne	 SHORT $LN9@get_ka50_c
  003b4	e8 00 00 00 00	 call	 ?query_TIR_active@@YAHXZ ; query_TIR_active
  003b9	83 f8 01	 cmp	 eax, 1
  003bc	75 57		 jne	 SHORT $LN9@get_ka50_c

; 1008 : 		{
; 1009 : 			// Now shift the viewpoint (AND the model) by the positive displacement.. puts the cockpit back were it belongs..
; 1010 : 			// but the viewpoint (the head) is in another place.. fini
; 1011 : 			virtual_cockpit_inst3d->vp.x += current_custom_cockpit_viewpoint.x;

  003be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003c3	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  003c8	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A
  003d0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003d6	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 1012 : 			virtual_cockpit_inst3d->vp.y += current_custom_cockpit_viewpoint.y;

  003db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003e0	f3 0f 10 40 0c	 movss	 xmm0, DWORD PTR [eax+12]
  003e5	f3 0f 58 05 04
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+4
  003ed	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003f3	f3 0f 11 41 0c	 movss	 DWORD PTR [ecx+12], xmm0

; 1013 : 			virtual_cockpit_inst3d->vp.z += current_custom_cockpit_viewpoint.z;

  003f8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003fd	f3 0f 10 40 10	 movss	 xmm0, DWORD PTR [eax+16]
  00402	f3 0f 58 05 08
	00 00 00	 addss	 xmm0, DWORD PTR ?current_custom_cockpit_viewpoint@@3UCOCKPIT_VIEW@@A+8
  0040a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00410	f3 0f 11 41 10	 movss	 DWORD PTR [ecx+16], xmm0
$LN9@get_ka50_c:

; 1014 : 		}
; 1015 : 	}
; 1016 : 	else

  00415	eb 0d		 jmp	 SHORT $LN7@get_ka50_c
$LN6@get_ka50_c:

; 1017 : 	{
; 1018 : 		debug_fatal ("Failed to locate crew's viewpoint in virtual cockpit");

  00417	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@PBABBPHF@Failed?5to?5locate?5crew?8s?5viewpoi@
  0041c	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00421	83 c4 04	 add	 esp, 4
$LN7@get_ka50_c:

; 1019 : 	}
; 1020 : }

  00424	5f		 pop	 edi
  00425	5e		 pop	 esi
  00426	5b		 pop	 ebx
  00427	8b e5		 mov	 esp, ebp
  00429	5d		 pop	 ebp
  0042a	c3		 ret	 0
?get_ka50_crew_viewpoint@@YGXXZ ENDP			; get_ka50_crew_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?draw_ka50_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
tv303 = -240						; size = 8
tv277 = -240						; size = 8
tv334 = -232						; size = 4
tv304 = -232						; size = 8
tv278 = -232						; size = 8
tv138 = -232						; size = 4
tv80 = -232						; size = 4
tv327 = -228						; size = 4
tv130 = -228						; size = 4
tv73 = -228						; size = 4
tv64 = -228						; size = 4
_m2$1 = -160						; size = 36
_m1$2 = -124						; size = 36
_direction$3 = -88					; size = 12
_cockpit_light$4 = -76					; size = 4
_display_backlight$5 = -72				; size = 4
_search$ = -68						; size = 56
_inst3d$ = -12						; size = 4
_theta$ = -8						; size = 4
_draw_main_rotors$ = -4					; size = 4
?draw_ka50_virtual_cockpit@@YGXXZ PROC			; draw_ka50_virtual_cockpit, COMDAT

; 581  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 582  : 	int
; 583  : 		draw_main_rotors;
; 584  : 
; 585  : 	float
; 586  : 		theta;
; 587  : 
; 588  : 	object_3d_instance
; 589  : 		*inst3d;
; 590  : 
; 591  : 	object_3d_sub_object_search_data
; 592  : 		search;
; 593  : 
; 594  : 	switch (get_view_mode ())

  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  00011	89 85 1c ff ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  00017	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR tv64[ebp]
  0001d	83 e9 23	 sub	 ecx, 35			; 00000023H
  00020	89 8d 1c ff ff
	ff		 mov	 DWORD PTR tv64[ebp], ecx
  00026	83 bd 1c ff ff
	ff 06		 cmp	 DWORD PTR tv64[ebp], 6
  0002d	77 16		 ja	 SHORT $LN5@draw_ka50_
  0002f	8b 95 1c ff ff
	ff		 mov	 edx, DWORD PTR tv64[ebp]
  00035	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN48@draw_ka50_[edx]
  0003c	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN49@draw_ka50_[eax*4]
$LN4@draw_ka50_:

; 595  : 	{
; 596  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CREW:
; 597  : 		case VIEW_MODE_VIRTUAL_COCKPIT_HUD:
; 598  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 599  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 600  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 601  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 602  : 		{
; 603  : 			break;

  00043	eb 13		 jmp	 SHORT $LN2@draw_ka50_
$LN5@draw_ka50_:

; 604  : 		}
; 605  : 		default:
; 606  : 		{
; 607  : 			if (!get_global_draw_cockpit_graphics ())

  00045	83 3d b8 01 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+440, 0
  0004c	75 0a		 jne	 SHORT $LN6@draw_ka50_

; 608  : 			{
; 609  : 				draw_external_ka50_hud ();

  0004e	e8 00 00 00 00	 call	 ?draw_external_ka50_hud@@YGXXZ ; draw_external_ka50_hud

; 610  : 
; 611  : 				return;

  00053	e9 96 0b 00 00	 jmp	 $LN1@draw_ka50_
$LN6@draw_ka50_:
$LN2@draw_ka50_:

; 612  : 			}
; 613  : 
; 614  : 			break;
; 615  : 		}
; 616  : 	}
; 617  : 
; 618  : 	//
; 619  : 	// lamps and instruments
; 620  : 	//
; 621  : 
; 622  : 	draw_ka50_virtual_cockpit_lamps ();

  00058	e8 00 00 00 00	 call	 ?draw_ka50_virtual_cockpit_lamps@@YGXXZ ; draw_ka50_virtual_cockpit_lamps

; 623  : 
; 624  : 	draw_ka50_virtual_cockpit_instruments ();

  0005d	e8 00 00 00 00	 call	 ?draw_ka50_virtual_cockpit_instruments@@YGXXZ ; draw_ka50_virtual_cockpit_instruments

; 625  : 
; 626  : 	//
; 627  : 	// crew animation
; 628  : 	//
; 629  : 
; 630  : 	set_ka50_crew_head_positions ();

  00062	e8 00 00 00 00	 call	 ?set_ka50_crew_head_positions@@YGXXZ ; set_ka50_crew_head_positions

; 631  : 
; 632  : 	//
; 633  : 	// animate main rotors
; 634  : 	//
; 635  : 
; 636  : 	if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_MAIN_ROTOR_DAMAGED))

  00067	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0006e	74 0f		 je	 SHORT $LN28@draw_ka50_
  00070	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00075	8b 08		 mov	 ecx, DWORD PTR [eax]
  00077	89 8d 1c ff ff
	ff		 mov	 DWORD PTR tv73[ebp], ecx
  0007d	eb 20		 jmp	 SHORT $LN29@draw_ka50_
$LN28@draw_ka50_:
  0007f	68 7c 02 00 00	 push	 636			; 0000027cH
  00084	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00089	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0008f	52		 push	 edx
  00090	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00095	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv73[ebp], 0
$LN29@draw_ka50_:
  0009f	b8 01 00 00 00	 mov	 eax, 1
  000a4	85 c0		 test	 eax, eax
  000a6	74 0c		 je	 SHORT $LN30@draw_ka50_
  000a8	c7 85 18 ff ff
	ff 81 00 00 00	 mov	 DWORD PTR tv80[ebp], 129 ; 00000081H
  000b2	eb 20		 jmp	 SHORT $LN31@draw_ka50_
$LN30@draw_ka50_:
  000b4	68 7c 02 00 00	 push	 636			; 0000027cH
  000b9	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  000be	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000c4	51		 push	 ecx
  000c5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ca	c7 85 18 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN31@draw_ka50_:
  000d4	68 81 00 00 00	 push	 129			; 00000081H
  000d9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000df	52		 push	 edx
  000e0	69 85 1c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv73[ebp], 1116
  000ea	8b 8d 18 ff ff
	ff		 mov	 ecx, DWORD PTR tv80[ebp]
  000f0	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  000f7	ff d2		 call	 edx
  000f9	85 c0		 test	 eax, eax
  000fb	74 0f		 je	 SHORT $LN7@draw_ka50_

; 637  : 	{
; 638  : 		animate_damaged_helicopter_main_rotors (get_gunship_entity (), TRUE);

  000fd	6a 01		 push	 1
  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00104	50		 push	 eax
  00105	e8 00 00 00 00	 call	 ?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z ; animate_damaged_helicopter_main_rotors

; 639  : 	}
; 640  : 	else

  0010a	eb 0f		 jmp	 SHORT $LN8@draw_ka50_
$LN7@draw_ka50_:

; 641  : 	{
; 642  : 		animate_helicopter_main_rotors (get_gunship_entity (), TRUE, FALSE);

  0010c	6a 00		 push	 0
  0010e	6a 01		 push	 1
  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00115	50		 push	 eax
  00116	e8 00 00 00 00	 call	 ?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z ; animate_helicopter_main_rotors
$LN8@draw_ka50_:

; 643  : 	}
; 644  : 
; 645  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0011b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00122	74 0f		 je	 SHORT $LN32@draw_ka50_
  00124	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00129	8b 08		 mov	 ecx, DWORD PTR [eax]
  0012b	89 8d 1c ff ff
	ff		 mov	 DWORD PTR tv130[ebp], ecx
  00131	eb 24		 jmp	 SHORT $LN33@draw_ka50_
$LN32@draw_ka50_:
  00133	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_ka50_virtual_cockpit@@YGXXZ@4JA
  00139	83 c2 40	 add	 edx, 64			; 00000040H
  0013c	52		 push	 edx
  0013d	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00142	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00147	50		 push	 eax
  00148	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0014d	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv130[ebp], 0
$LN33@draw_ka50_:
  00157	b9 01 00 00 00	 mov	 ecx, 1
  0015c	85 c9		 test	 ecx, ecx
  0015e	74 0c		 je	 SHORT $LN34@draw_ka50_
  00160	c7 85 18 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv138[ebp], 2
  0016a	eb 24		 jmp	 SHORT $LN35@draw_ka50_
$LN34@draw_ka50_:
  0016c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_ka50_virtual_cockpit@@YGXXZ@4JA
  00172	83 c2 40	 add	 edx, 64			; 00000040H
  00175	52		 push	 edx
  00176	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  00180	50		 push	 eax
  00181	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00186	c7 85 18 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv138[ebp], 0
$LN35@draw_ka50_:
  00190	6a 02		 push	 2
  00192	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00198	51		 push	 ecx
  00199	6b 95 1c ff ff
	ff 50		 imul	 edx, DWORD PTR tv130[ebp], 80
  001a0	8b 85 18 ff ff
	ff		 mov	 eax, DWORD PTR tv138[ebp]
  001a6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  001ad	ff d1		 call	 ecx
  001af	89 45 f4	 mov	 DWORD PTR _inst3d$[ebp], eax

; 646  : 
; 647  : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  001b2	8b 45 f4	 mov	 eax, DWORD PTR _inst3d$[ebp]
  001b5	50		 push	 eax
  001b6	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  001bb	d9 5d f8	 fstp	 DWORD PTR _theta$[ebp]

; 648  : 
; 649  : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_inst3d, theta);

  001be	51		 push	 ecx
  001bf	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _theta$[ebp]
  001c4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001ce	50		 push	 eax
  001cf	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 650  : 
; 651  : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_inst3d);

  001d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  001d9	50		 push	 eax
  001da	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001e0	51		 push	 ecx
  001e1	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 652  : 
; 653  : 	draw_main_rotors = TRUE;

  001e6	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _draw_main_rotors$[ebp], 1

; 654  : 
; 655  : 	if (get_global_glass_cockpit ())

  001ed	83 3d 68 03 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+872, 0
  001f4	74 09		 je	 SHORT $LN9@draw_ka50_

; 656  : 	{
; 657  : 		draw_main_rotors = FALSE;

  001f6	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _draw_main_rotors$[ebp], 0

; 658  : 	}
; 659  : 	else

  001fd	eb 28		 jmp	 SHORT $LN13@draw_ka50_
$LN9@draw_ka50_:

; 660  : 	{
; 661  : 		if (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CREW)

  001ff	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  00206	74 1f		 je	 SHORT $LN13@draw_ka50_

; 662  : 		{
; 663  : 			if (get_helicopter_main_rotors_blurred (get_gunship_entity ()))

  00208	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0020d	50		 push	 eax
  0020e	e8 00 00 00 00	 call	 ?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z ; get_helicopter_main_rotors_blurred
  00213	85 c0		 test	 eax, eax
  00215	74 10		 je	 SHORT $LN13@draw_ka50_

; 664  : 			{
; 665  : 				if (!get_global_blurred_main_rotors_visible_from_cockpit ())

  00217	83 3d 1c 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+28, 0
  0021e	75 07		 jne	 SHORT $LN13@draw_ka50_

; 666  : 				{
; 667  : 					draw_main_rotors = FALSE;

  00220	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _draw_main_rotors$[ebp], 0
$LN13@draw_ka50_:

; 668  : 				}
; 669  : 			}
; 670  : 		}
; 671  : 	}
; 672  : 
; 673  : 	search.search_depth = 0;

  00227	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 674  : 	search.search_object = virtual_cockpit_inst3d;

  0022e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00233	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 675  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_MAIN_ROTOR_SHAFT;

  00236	c7 45 c8 02 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 2

; 676  : 
; 677  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0023d	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  00240	50		 push	 eax
  00241	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00246	83 f8 01	 cmp	 eax, 1
  00249	75 17		 jne	 SHORT $LN14@draw_ka50_

; 678  : 	{
; 679  : 		search.result_sub_object->visible_object = draw_main_rotors;

  0024b	8b 45 fc	 mov	 eax, DWORD PTR _draw_main_rotors$[ebp]
  0024e	83 e0 01	 and	 eax, 1
  00251	8b 4d c0	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00254	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00257	83 e2 fe	 and	 edx, -2			; fffffffeH
  0025a	0b d0		 or	 edx, eax
  0025c	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  0025f	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN14@draw_ka50_:

; 680  : 	}
; 681  : 
; 682  : 	search.search_depth = 1;

  00262	c7 45 c4 01 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 1

; 683  : 	search.search_object = virtual_cockpit_inst3d;

  00269	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0026e	89 45 bc	 mov	 DWORD PTR _search$[ebp], eax

; 684  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_MAIN_ROTOR_SHAFT;

  00271	c7 45 c8 02 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 2

; 685  : 
; 686  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00278	8d 45 bc	 lea	 eax, DWORD PTR _search$[ebp]
  0027b	50		 push	 eax
  0027c	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00281	83 f8 01	 cmp	 eax, 1
  00284	75 17		 jne	 SHORT $LN15@draw_ka50_

; 687  : 	{
; 688  : 		search.result_sub_object->visible_object = draw_main_rotors;

  00286	8b 45 fc	 mov	 eax, DWORD PTR _draw_main_rotors$[ebp]
  00289	83 e0 01	 and	 eax, 1
  0028c	8b 4d c0	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0028f	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00292	83 e2 fe	 and	 edx, -2			; fffffffeH
  00295	0b d0		 or	 edx, eax
  00297	8b 45 c0	 mov	 eax, DWORD PTR _search$[ebp+4]
  0029a	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN15@draw_ka50_:

; 689  : 	}
; 690  : 
; 691  : 	//
; 692  : 	// animate electro-optics
; 693  : 	//
; 694  : 
; 695  : 	animate_ka50_virtual_cockpit_eo (virtual_cockpit_inst3d);

  0029d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002a2	50		 push	 eax
  002a3	e8 00 00 00 00	 call	 ?animate_ka50_virtual_cockpit_eo@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; animate_ka50_virtual_cockpit_eo

; 696  : 
; 697  : 	//
; 698  : 	// animate wipers
; 699  : 	//
; 700  : 
; 701  : 	animate_ka50_wipers (virtual_cockpit_inst3d);

  002a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002ad	50		 push	 eax
  002ae	e8 00 00 00 00	 call	 ?animate_ka50_wipers@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; animate_ka50_wipers

; 702  : 
; 703  : 	//
; 704  : 	// draw 3D scene
; 705  : 	//
; 706  : 
; 707  : 	set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  002b3	51		 push	 ecx
  002b4	0f 57 c0	 xorps	 xmm0, xmm0
  002b7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002bc	51		 push	 ecx
  002bd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  002c5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002ca	51		 push	 ecx
  002cb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  002d3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002d8	51		 push	 ecx
  002d9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  002e1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  002eb	50		 push	 eax
  002ec	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 708  : 
; 709  : 	realise_3d_clip_extents (main_3d_env);

  002f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  002f6	50		 push	 eax
  002f7	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 710  : 
; 711  : 	recalculate_3d_environment_settings (main_3d_env);

  002fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00301	50		 push	 eax
  00302	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 712  : 
; 713  : 	clear_zbuffer_screen ();

  00307	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 714  : 
; 715  : 	if (begin_3d_scene ())

  0030c	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00311	85 c0		 test	 eax, eax
  00313	0f 84 87 08 00
	00		 je	 $LN22@draw_ka50_

; 716  : 	{
; 717  : 		//
; 718  : 		// light direction is in world coordinates
; 719  : 		//
; 720  : 
; 721  : 		light_3d_source
; 722  : 			*display_backlight,
; 723  : 			*cockpit_light;
; 724  : 
; 725  : 		vec3d
; 726  : 			direction;
; 727  : 
; 728  : 		matrix3x3
; 729  : 			m1,
; 730  : 			m2;
; 731  : 
; 732  : //VJ 050131 update on wideview mod, much better movement
; 733  : 		if (get_global_wide_cockpit () &&

  00319	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00320	0f 84 0e 01 00
	00		 je	 $LN17@draw_ka50_
  00326	83 3d 00 00 00
	00 26		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 38 ; view_mode, 00000026H
  0032d	0f 84 01 01 00
	00		 je	 $LN17@draw_ka50_
  00333	83 3d 00 00 00
	00 27		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 39 ; view_mode, 00000027H
  0033a	0f 84 f4 00 00
	00		 je	 $LN17@draw_ka50_
  00340	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 40 ; view_mode, 00000028H
  00347	0f 84 e7 00 00
	00		 je	 $LN17@draw_ka50_
  0034d	83 3d 00 00 00
	00 29		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 41 ; view_mode, 00000029H
  00354	0f 84 da 00 00
	00		 je	 $LN17@draw_ka50_

; 734  : 	    (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY &&
; 735  : 	     get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY &&
; 736  : 	     get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY &&
; 737  : 	     get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY)
; 738  : 	   )
; 739  : 		{
; 740  : 			get_ka50_crew_viewpoint ();

  0035a	e8 00 00 00 00	 call	 ?get_ka50_crew_viewpoint@@YGXXZ ; get_ka50_crew_viewpoint

; 741  : 
; 742  : 			virtual_cockpit_inst3d->vp.x += wide_cockpit_position[wide_cockpit_nr].c.x;

  0035f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00366	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0036c	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  00371	f3 0f 58 80 14
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+20]
  00379	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0037f	f3 0f 11 42 08	 movss	 DWORD PTR [edx+8], xmm0

; 743  : 			virtual_cockpit_inst3d->vp.y += wide_cockpit_position[wide_cockpit_nr].c.y;

  00384	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0038b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00391	f3 0f 10 41 0c	 movss	 xmm0, DWORD PTR [ecx+12]
  00396	f3 0f 58 80 18
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  0039e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003a4	f3 0f 11 42 0c	 movss	 DWORD PTR [edx+12], xmm0

; 744  : 			virtual_cockpit_inst3d->vp.z += wide_cockpit_position[wide_cockpit_nr].c.z;

  003a9	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  003b0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003b6	f3 0f 10 41 10	 movss	 xmm0, DWORD PTR [ecx+16]
  003bb	f3 0f 58 80 1c
	00 00 00	 addss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  003c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003c9	f3 0f 11 42 10	 movss	 DWORD PTR [edx+16], xmm0

; 745  : 
; 746  :       //ataribaby 27/12/2008
; 747  :       /*
; 748  : 			virtual_cockpit_inst3d->vp.x += bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 749  : 			if (!current_flight_dynamics->auto_hover)   // arneh - auto hover has some weird dynamics which cause lots of g-forces, so disable head movement when auto hover is enabled
; 750  : 				virtual_cockpit_inst3d->vp.y += bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier;
; 751  :       */
; 752  : 
; 753  : 			if (wide_cockpit_nr == WIDEVIEW_KA50_PILOT)

  003ce	83 3d 00 00 00
	00 0d		 cmp	 DWORD PTR ?wide_cockpit_nr@@3HA, 13 ; wide_cockpit_nr, 0000000dH
  003d5	75 1f		 jne	 SHORT $LN18@draw_ka50_

; 754  : 				pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  003d7	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  003de	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  003e6	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  003ee	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0
$LN18@draw_ka50_:

; 755  : 
; 756  : 		  	set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  003f6	51		 push	 ecx
  003f7	0f 57 c0	 xorps	 xmm0, xmm0
  003fa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003ff	51		 push	 ecx
  00400	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00408	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0040d	51		 push	 ecx
  0040e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00416	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0041b	51		 push	 ecx
  0041c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00424	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00429	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0042e	50		 push	 eax
  0042f	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances
$LN17@draw_ka50_:

; 757  : 		}
; 758  : 
; 759  : 		//ataribaby 27/12/2008 new head g-force movement and vibration from main rotor
; 760  : 		if (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY &&
; 761  :   	     get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY &&
; 762  :   	     get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY &&

  00434	83 3d 00 00 00
	00 26		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 38 ; view_mode, 00000026H
  0043b	0f 84 18 03 00
	00		 je	 $LN19@draw_ka50_
  00441	83 3d 00 00 00
	00 27		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 39 ; view_mode, 00000027H
  00448	0f 84 0b 03 00
	00		 je	 $LN19@draw_ka50_
  0044e	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 40 ; view_mode, 00000028H
  00455	0f 84 fe 02 00
	00		 je	 $LN19@draw_ka50_
  0045b	83 3d 00 00 00
	00 29		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 41 ; view_mode, 00000029H
  00462	0f 84 f1 02 00
	00		 je	 $LN19@draw_ka50_

; 763  :   	     get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY)
; 764  : 		{
; 765  : 		  if (get_time_acceleration() != TIME_ACCELERATION_PAUSE)

  00468	e8 00 00 00 00	 call	 ?get_time_acceleration@@YGHXZ ; get_time_acceleration
  0046d	85 c0		 test	 eax, eax
  0046f	0f 84 c2 00 00
	00		 je	 $LN20@draw_ka50_

; 766  :       {
; 767  :         random_vibration_x = (frand1() * (current_flight_dynamics->main_rotor_rpm.value * 0.00002)) * command_line_g_force_head_movment_modifier;

  00475	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  0047f	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  00484	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  00489	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  0048f	c1 f9 10	 sar	 ecx, 16			; 00000010H
  00492	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  00498	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  0049c	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  004a4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  004aa	f3 0f 5a 8a 14
	1e 00 00	 cvtss2sd xmm1, DWORD PTR [edx+7700]
  004b2	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ef4f8b588e368f1
  004ba	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  004be	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  004c6	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  004ca	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  004ce	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?random_vibration_x@@3MA, xmm0

; 768  :         random_vibration_y = (frand1() * (current_flight_dynamics->main_rotor_rpm.value * 0.00002)) * command_line_g_force_head_movment_modifier;

  004d6	69 05 00 00 00
	00 6d 4e c6 41	 imul	 eax, DWORD PTR ?random_number_seed@@3HA, 1103515245 ; random_number_seed
  004e0	05 39 30 00 00	 add	 eax, 12345		; 00003039H
  004e5	a3 00 00 00 00	 mov	 DWORD PTR ?random_number_seed@@3HA, eax ; random_number_seed
  004ea	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?random_number_seed@@3HA ; random_number_seed
  004f0	c1 f9 10	 sar	 ecx, 16			; 00000010H
  004f3	81 e1 ff 7f 00
	00		 and	 ecx, 32767		; 00007fffH
  004f9	f2 0f 2a c1	 cvtsi2sd xmm0, ecx
  004fd	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3f00002000400080
  00505	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0050b	f3 0f 5a 8a 14
	1e 00 00	 cvtss2sd xmm1, DWORD PTR [edx+7700]
  00513	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ef4f8b588e368f1
  0051b	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0051f	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  00527	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0052b	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0052f	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?random_vibration_y@@3MA, xmm0
$LN20@draw_ka50_:

; 769  :       }
; 770  :       x_head_g_movement = move_by_rate(x_head_g_movement, random_vibration_x + (bound(current_flight_dynamics->model_acceleration_vector.x * ONE_OVER_G, -3.0, 3.0) * 0.025 * command_line_g_force_head_movment_modifier), 0.05);

  00537	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0053c	f3 0f 10 80 48
	1c 00 00	 movss	 xmm0, DWORD PTR [eax+7240]
  00544	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  0054c	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00550	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@c008000000000000
  00558	66 0f 2f c8	 comisd	 xmm1, xmm0
  0055c	76 12		 jbe	 SHORT $LN38@draw_ka50_
  0055e	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@c008000000000000
  00566	f2 0f 11 85 18
	ff ff ff	 movsd	 QWORD PTR tv278[ebp], xmm0
  0056e	eb 68		 jmp	 SHORT $LN39@draw_ka50_
$LN38@draw_ka50_:
  00570	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00576	f3 0f 10 81 48
	1c 00 00	 movss	 xmm0, DWORD PTR [ecx+7240]
  0057e	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  00586	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0058a	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4008000000000000
  00592	76 12		 jbe	 SHORT $LN36@draw_ka50_
  00594	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4008000000000000
  0059c	f2 0f 11 85 10
	ff ff ff	 movsd	 QWORD PTR tv277[ebp], xmm0
  005a4	eb 22		 jmp	 SHORT $LN37@draw_ka50_
$LN36@draw_ka50_:
  005a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  005ac	f3 0f 10 82 48
	1c 00 00	 movss	 xmm0, DWORD PTR [edx+7240]
  005b4	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3dd0c43d
  005bc	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  005c0	f2 0f 11 85 10
	ff ff ff	 movsd	 QWORD PTR tv277[ebp], xmm0
$LN37@draw_ka50_:
  005c8	f2 0f 10 85 10
	ff ff ff	 movsd	 xmm0, QWORD PTR tv277[ebp]
  005d0	f2 0f 11 85 18
	ff ff ff	 movsd	 QWORD PTR tv278[ebp], xmm0
$LN39@draw_ka50_:
  005d8	51		 push	 ecx
  005d9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  005e1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005e6	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?random_vibration_x@@3MA
  005ee	f2 0f 10 8d 18
	ff ff ff	 movsd	 xmm1, QWORD PTR tv278[ebp]
  005f6	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3f9999999999999a
  005fe	f3 0f 5a 15 00
	00 00 00	 cvtss2sd xmm2, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  00606	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  0060a	f2 0f 58 c1	 addsd	 xmm0, xmm1
  0060e	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00612	51		 push	 ecx
  00613	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00618	51		 push	 ecx
  00619	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?x_head_g_movement@@3MA
  00621	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00626	e8 00 00 00 00	 call	 ?move_by_rate@@YGMMMM@Z	; move_by_rate
  0062b	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?x_head_g_movement@@3MA

; 771  :       y_head_g_movement = move_by_rate(y_head_g_movement, random_vibration_y + (bound(current_flight_dynamics->g_force.value - 1.0, -1.5, 5.0) * 0.025 * command_line_g_force_head_movment_modifier), 0.05);

  00631	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00636	f3 0f 5a 80 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [eax+9308]
  0063e	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  00646	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bff8000000000000
  0064e	66 0f 2f c8	 comisd	 xmm1, xmm0
  00652	76 12		 jbe	 SHORT $LN42@draw_ka50_
  00654	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bff8000000000000
  0065c	f2 0f 11 85 18
	ff ff ff	 movsd	 QWORD PTR tv304[ebp], xmm0
  00664	eb 60		 jmp	 SHORT $LN43@draw_ka50_
$LN42@draw_ka50_:
  00666	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0066c	f3 0f 5a 81 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [ecx+9308]
  00674	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  0067c	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4014000000000000
  00684	76 12		 jbe	 SHORT $LN40@draw_ka50_
  00686	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@4014000000000000
  0068e	f2 0f 11 85 10
	ff ff ff	 movsd	 QWORD PTR tv303[ebp], xmm0
  00696	eb 1e		 jmp	 SHORT $LN41@draw_ka50_
$LN40@draw_ka50_:
  00698	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0069e	f3 0f 5a 82 5c
	24 00 00	 cvtss2sd xmm0, DWORD PTR [edx+9308]
  006a6	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3ff0000000000000
  006ae	f2 0f 11 85 10
	ff ff ff	 movsd	 QWORD PTR tv303[ebp], xmm0
$LN41@draw_ka50_:
  006b6	f2 0f 10 85 10
	ff ff ff	 movsd	 xmm0, QWORD PTR tv303[ebp]
  006be	f2 0f 11 85 18
	ff ff ff	 movsd	 QWORD PTR tv304[ebp], xmm0
$LN43@draw_ka50_:
  006c6	51		 push	 ecx
  006c7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  006cf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006d4	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?random_vibration_y@@3MA
  006dc	f2 0f 10 8d 18
	ff ff ff	 movsd	 xmm1, QWORD PTR tv304[ebp]
  006e4	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3f9999999999999a
  006ec	f3 0f 5a 15 00
	00 00 00	 cvtss2sd xmm2, DWORD PTR ?command_line_g_force_head_movment_modifier@@3MA
  006f4	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  006f8	f2 0f 58 c1	 addsd	 xmm0, xmm1
  006fc	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00700	51		 push	 ecx
  00701	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00706	51		 push	 ecx
  00707	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?y_head_g_movement@@3MA
  0070f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00714	e8 00 00 00 00	 call	 ?move_by_rate@@YGMMMM@Z	; move_by_rate
  00719	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?y_head_g_movement@@3MA

; 772  : 
; 773  :       virtual_cockpit_inst3d->vp.x -= x_head_g_movement;

  0071f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00724	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00729	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?x_head_g_movement@@3MA
  00731	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00737	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 774  :   		//if (!current_flight_dynamics->auto_hover)   // arneh - auto hover has some weird dynamics which cause lots of g-forces, so disable head movement when auto hover is enabled
; 775  :   	  virtual_cockpit_inst3d->vp.y -= y_head_g_movement;

  0073c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00741	f3 0f 10 40 0c	 movss	 xmm0, DWORD PTR [eax+12]
  00746	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?y_head_g_movement@@3MA
  0074e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00754	f3 0f 11 41 0c	 movss	 DWORD PTR [ecx+12], xmm0
$LN19@draw_ka50_:

; 776  :     }
; 777  : 
; 778  : 		if (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE) == DAY_SEGMENT_TYPE_DAY)

  00759	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00760	74 0f		 je	 SHORT $LN44@draw_ka50_
  00762	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00767	8b 08		 mov	 ecx, DWORD PTR [eax]
  00769	89 8d 1c ff ff
	ff		 mov	 DWORD PTR tv327[ebp], ecx
  0076f	eb 20		 jmp	 SHORT $LN45@draw_ka50_
$LN44@draw_ka50_:
  00771	68 0a 03 00 00	 push	 778			; 0000030aH
  00776	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  0077b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00781	52		 push	 edx
  00782	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00787	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv327[ebp], 0
$LN45@draw_ka50_:
  00791	b8 01 00 00 00	 mov	 eax, 1
  00796	85 c0		 test	 eax, eax
  00798	74 0c		 je	 SHORT $LN46@draw_ka50_
  0079a	c7 85 18 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv334[ebp], 39 ; 00000027H
  007a4	eb 20		 jmp	 SHORT $LN47@draw_ka50_
$LN46@draw_ka50_:
  007a6	68 0a 03 00 00	 push	 778			; 0000030aH
  007ab	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  007b0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  007b6	51		 push	 ecx
  007b7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007bc	c7 85 18 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv334[ebp], 0
$LN47@draw_ka50_:
  007c6	6a 27		 push	 39			; 00000027H
  007c8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  007ce	52		 push	 edx
  007cf	69 85 1c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv327[ebp], 1116
  007d9	8b 8d 18 ff ff
	ff		 mov	 ecx, DWORD PTR tv334[ebp]
  007df	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  007e6	ff d2		 call	 edx
  007e8	83 f8 01	 cmp	 eax, 1
  007eb	0f 85 74 01 00
	00		 jne	 $LN21@draw_ka50_

; 779  : 		{
; 780  : 			////////////////////////////////////////
; 781  : 			//
; 782  : 			// DAY LIGHTING
; 783  : 			//
; 784  : 			////////////////////////////////////////
; 785  : 
; 786  : 			if (night_vision_system_active && (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CREW))

  007f1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?night_vision_system_active@@3HA, 0 ; night_vision_system_active
  007f8	0f 84 33 01 00
	00		 je	 $LN23@draw_ka50_
  007fe	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  00805	0f 84 26 01 00
	00		 je	 $LN23@draw_ka50_

; 787  : 			{
; 788  : 				//
; 789  : 				// active night vision system
; 790  : 				//
; 791  : 
; 792  : 				get_3d_transformation_matrix (m1, rad (0.0), rad (135.0), rad (0.0));

  0080b	51		 push	 ecx
  0080c	0f 57 c0	 xorps	 xmm0, xmm0
  0080f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00814	51		 push	 ecx
  00815	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4016cbe4
  0081d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00822	51		 push	 ecx
  00823	0f 57 c0	 xorps	 xmm0, xmm0
  00826	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0082b	8d 45 84	 lea	 eax, DWORD PTR _m1$2[ebp]
  0082e	50		 push	 eax
  0082f	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 793  : 
; 794  : 				multiply_matrix3x3_matrix3x3 (m2, m1, virtual_cockpit_inst3d->vp.attitude);

  00834	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00839	83 c0 14	 add	 eax, 20			; 00000014H
  0083c	50		 push	 eax
  0083d	8d 4d 84	 lea	 ecx, DWORD PTR _m1$2[ebp]
  00840	51		 push	 ecx
  00841	8d 95 60 ff ff
	ff		 lea	 edx, DWORD PTR _m2$1[ebp]
  00847	52		 push	 edx
  00848	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 795  : 
; 796  : 				direction.x = m2[2][0];

  0084d	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00852	d1 e0		 shl	 eax, 1
  00854	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$1[ebp+eax]
  0085b	ba 04 00 00 00	 mov	 edx, 4
  00860	6b c2 00	 imul	 eax, edx, 0
  00863	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  00868	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$3[ebp], xmm0

; 797  : 				direction.y = m2[2][1];

  0086d	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00872	d1 e0		 shl	 eax, 1
  00874	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$1[ebp+eax]
  0087b	ba 04 00 00 00	 mov	 edx, 4
  00880	c1 e2 00	 shl	 edx, 0
  00883	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00888	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$3[ebp+4], xmm0

; 798  : 				direction.z = m2[2][2];

  0088d	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00892	d1 e0		 shl	 eax, 1
  00894	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$1[ebp+eax]
  0089b	ba 04 00 00 00	 mov	 edx, 4
  008a0	d1 e2		 shl	 edx, 1
  008a2	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  008a7	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$3[ebp+8], xmm0

; 799  : 
; 800  : 				cockpit_light = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.5000, 0.4000, 0.0000);

  008ac	51		 push	 ecx
  008ad	0f 57 c0	 xorps	 xmm0, xmm0
  008b0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008b5	51		 push	 ecx
  008b6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  008be	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008c3	51		 push	 ecx
  008c4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  008cc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008d1	51		 push	 ecx
  008d2	0f 57 c0	 xorps	 xmm0, xmm0
  008d5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008da	8d 45 a8	 lea	 eax, DWORD PTR _direction$3[ebp]
  008dd	50		 push	 eax
  008de	6a 00		 push	 0
  008e0	6a 01		 push	 1
  008e2	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  008e7	89 45 b4	 mov	 DWORD PTR _cockpit_light$4[ebp], eax

; 801  : 
; 802  : 				insert_light_3d_source_into_3d_scene (cockpit_light);

  008ea	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$4[ebp]
  008ed	50		 push	 eax
  008ee	e8 00 00 00 00	 call	 ?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; insert_light_3d_source_into_3d_scene

; 803  : 
; 804  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  008f3	51		 push	 ecx
  008f4	0f 57 c0	 xorps	 xmm0, xmm0
  008f7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00901	50		 push	 eax
  00902	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00908	83 c1 08	 add	 ecx, 8
  0090b	51		 push	 ecx
  0090c	6a 02		 push	 2
  0090e	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 805  : 
; 806  : 				draw_3d_scene ();

  00913	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 807  : 
; 808  : 				end_3d_scene ();

  00918	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene

; 809  : 
; 810  : 				remove_light_3d_source_from_3d_scene (cockpit_light);

  0091d	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$4[ebp]
  00920	50		 push	 eax
  00921	e8 00 00 00 00	 call	 ?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; remove_light_3d_source_from_3d_scene

; 811  : 
; 812  : 				destroy_light_3d_source (cockpit_light);

  00926	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$4[ebp]
  00929	50		 push	 eax
  0092a	e8 00 00 00 00	 call	 ?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z ; destroy_light_3d_source

; 813  : 			}
; 814  : 			else

  0092f	eb 2f		 jmp	 SHORT $LN24@draw_ka50_
$LN23@draw_ka50_:

; 815  : 			{
; 816  : 				//
; 817  : 				// inactive night vision system
; 818  : 				//
; 819  : 
; 820  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00931	51		 push	 ecx
  00932	0f 57 c0	 xorps	 xmm0, xmm0
  00935	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0093a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0093f	50		 push	 eax
  00940	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00946	83 c1 08	 add	 ecx, 8
  00949	51		 push	 ecx
  0094a	6a 02		 push	 2
  0094c	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 821  : 
; 822  : 				draw_3d_scene ();

  00951	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 823  : 
; 824  : 				print_edit_wide_cockpit ();

  00956	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 825  : 
; 826  : 				end_3d_scene ();

  0095b	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN24@draw_ka50_:

; 827  : 			}
; 828  : 		}
; 829  : 		else

  00960	e9 3b 02 00 00	 jmp	 $LN22@draw_ka50_
$LN21@draw_ka50_:

; 830  : 		{
; 831  : 			////////////////////////////////////////
; 832  : 			//
; 833  : 			// NIGHT LIGHTING
; 834  : 			//
; 835  : 			////////////////////////////////////////
; 836  : 
; 837  : 			direction.x = virtual_cockpit_inst3d->vp.zv.x;

  00965	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0096a	f3 0f 10 40 2c	 movss	 xmm0, DWORD PTR [eax+44]
  0096f	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$3[ebp], xmm0

; 838  : 			direction.y = virtual_cockpit_inst3d->vp.zv.y;

  00974	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00979	f3 0f 10 40 30	 movss	 xmm0, DWORD PTR [eax+48]
  0097e	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$3[ebp+4], xmm0

; 839  : 			direction.z = virtual_cockpit_inst3d->vp.zv.z;

  00983	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00988	f3 0f 10 40 34	 movss	 xmm0, DWORD PTR [eax+52]
  0098d	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$3[ebp+8], xmm0

; 840  : 
; 841  : 			display_backlight = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.2500, 0.0980, 0.0000);

  00992	51		 push	 ecx
  00993	0f 57 c0	 xorps	 xmm0, xmm0
  00996	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0099b	51		 push	 ecx
  0099c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dc8b439
  009a4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009a9	51		 push	 ecx
  009aa	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e800000
  009b2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009b7	51		 push	 ecx
  009b8	0f 57 c0	 xorps	 xmm0, xmm0
  009bb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009c0	8d 45 a8	 lea	 eax, DWORD PTR _direction$3[ebp]
  009c3	50		 push	 eax
  009c4	6a 00		 push	 0
  009c6	6a 01		 push	 1
  009c8	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  009cd	89 45 b8	 mov	 DWORD PTR _display_backlight$5[ebp], eax

; 842  : 
; 843  : 			if (night_vision_system_active && (get_view_mode () != VIEW_MODE_VIRTUAL_COCKPIT_CREW))

  009d0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?night_vision_system_active@@3HA, 0 ; night_vision_system_active
  009d7	0f 84 ee 00 00
	00		 je	 $LN25@draw_ka50_
  009dd	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  009e4	0f 84 e1 00 00
	00		 je	 $LN25@draw_ka50_

; 844  : 			{
; 845  : 				//
; 846  : 				// active night vision system
; 847  : 				//
; 848  : 
; 849  : 				get_3d_transformation_matrix (m1, rad (0.0), rad (135.0), rad (0.0));

  009ea	51		 push	 ecx
  009eb	0f 57 c0	 xorps	 xmm0, xmm0
  009ee	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009f3	51		 push	 ecx
  009f4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@4016cbe4
  009fc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a01	51		 push	 ecx
  00a02	0f 57 c0	 xorps	 xmm0, xmm0
  00a05	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a0a	8d 45 84	 lea	 eax, DWORD PTR _m1$2[ebp]
  00a0d	50		 push	 eax
  00a0e	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 850  : 
; 851  : 				multiply_matrix3x3_matrix3x3 (m2, m1, virtual_cockpit_inst3d->vp.attitude);

  00a13	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00a18	83 c0 14	 add	 eax, 20			; 00000014H
  00a1b	50		 push	 eax
  00a1c	8d 4d 84	 lea	 ecx, DWORD PTR _m1$2[ebp]
  00a1f	51		 push	 ecx
  00a20	8d 95 60 ff ff
	ff		 lea	 edx, DWORD PTR _m2$1[ebp]
  00a26	52		 push	 edx
  00a27	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 852  : 
; 853  : 				direction.x = m2[2][0];

  00a2c	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00a31	d1 e0		 shl	 eax, 1
  00a33	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$1[ebp+eax]
  00a3a	ba 04 00 00 00	 mov	 edx, 4
  00a3f	6b c2 00	 imul	 eax, edx, 0
  00a42	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  00a47	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$3[ebp], xmm0

; 854  : 				direction.y = m2[2][1];

  00a4c	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00a51	d1 e0		 shl	 eax, 1
  00a53	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$1[ebp+eax]
  00a5a	ba 04 00 00 00	 mov	 edx, 4
  00a5f	c1 e2 00	 shl	 edx, 0
  00a62	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00a67	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$3[ebp+4], xmm0

; 855  : 				direction.z = m2[2][2];

  00a6c	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00a71	d1 e0		 shl	 eax, 1
  00a73	8d 8c 05 60 ff
	ff ff		 lea	 ecx, DWORD PTR _m2$1[ebp+eax]
  00a7a	ba 04 00 00 00	 mov	 edx, 4
  00a7f	d1 e2		 shl	 edx, 1
  00a81	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00a86	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$3[ebp+8], xmm0

; 856  : 
; 857  : 				cockpit_light = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.5000, 0.4000, 0.0000);

  00a8b	51		 push	 ecx
  00a8c	0f 57 c0	 xorps	 xmm0, xmm0
  00a8f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a94	51		 push	 ecx
  00a95	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  00a9d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00aa2	51		 push	 ecx
  00aa3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00aab	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00ab0	51		 push	 ecx
  00ab1	0f 57 c0	 xorps	 xmm0, xmm0
  00ab4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00ab9	8d 45 a8	 lea	 eax, DWORD PTR _direction$3[ebp]
  00abc	50		 push	 eax
  00abd	6a 00		 push	 0
  00abf	6a 01		 push	 1
  00ac1	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  00ac6	89 45 b4	 mov	 DWORD PTR _cockpit_light$4[ebp], eax

; 858  : 			}
; 859  : 			else

  00ac9	eb 70		 jmp	 SHORT $LN26@draw_ka50_
$LN25@draw_ka50_:

; 860  : 			{
; 861  : 				//
; 862  : 				// inactive night vision system
; 863  : 				//
; 864  : 
; 865  : 				direction.x = virtual_cockpit_inst3d->vp.yv.x;

  00acb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00ad0	f3 0f 10 40 20	 movss	 xmm0, DWORD PTR [eax+32]
  00ad5	f3 0f 11 45 a8	 movss	 DWORD PTR _direction$3[ebp], xmm0

; 866  : 				direction.y = virtual_cockpit_inst3d->vp.yv.y;

  00ada	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00adf	f3 0f 10 40 24	 movss	 xmm0, DWORD PTR [eax+36]
  00ae4	f3 0f 11 45 ac	 movss	 DWORD PTR _direction$3[ebp+4], xmm0

; 867  : 				direction.z = virtual_cockpit_inst3d->vp.yv.z;

  00ae9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00aee	f3 0f 10 40 28	 movss	 xmm0, DWORD PTR [eax+40]
  00af3	f3 0f 11 45 b0	 movss	 DWORD PTR _direction$3[ebp+8], xmm0

; 868  : 
; 869  : 				cockpit_light = create_light_3d_source (LIGHT_3D_TYPE_DIRECTIONAL, FALSE, &direction, 0, 0.0666, 0.1098, 0.6431);

  00af8	51		 push	 ecx
  00af9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f24a234
  00b01	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b06	51		 push	 ecx
  00b07	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3de0ded3
  00b0f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b14	51		 push	 ecx
  00b15	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d886595
  00b1d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b22	51		 push	 ecx
  00b23	0f 57 c0	 xorps	 xmm0, xmm0
  00b26	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b2b	8d 45 a8	 lea	 eax, DWORD PTR _direction$3[ebp]
  00b2e	50		 push	 eax
  00b2f	6a 00		 push	 0
  00b31	6a 01		 push	 1
  00b33	e8 00 00 00 00	 call	 ?create_light_3d_source@@YGPAULIGHT_3D_SOURCE@@W4LIGHT_3D_TYPE@@HPAUVEC3D@@MMMM@Z ; create_light_3d_source
  00b38	89 45 b4	 mov	 DWORD PTR _cockpit_light$4[ebp], eax
$LN26@draw_ka50_:

; 870  : 			}
; 871  : 
; 872  : 			insert_light_3d_source_into_3d_scene (display_backlight);

  00b3b	8b 45 b8	 mov	 eax, DWORD PTR _display_backlight$5[ebp]
  00b3e	50		 push	 eax
  00b3f	e8 00 00 00 00	 call	 ?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; insert_light_3d_source_into_3d_scene

; 873  : 
; 874  : 			insert_light_3d_source_into_3d_scene (cockpit_light);

  00b44	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$4[ebp]
  00b47	50		 push	 eax
  00b48	e8 00 00 00 00	 call	 ?insert_light_3d_source_into_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; insert_light_3d_source_into_3d_scene

; 875  : 
; 876  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00b4d	51		 push	 ecx
  00b4e	0f 57 c0	 xorps	 xmm0, xmm0
  00b51	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b56	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00b5b	50		 push	 eax
  00b5c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00b62	83 c1 08	 add	 ecx, 8
  00b65	51		 push	 ecx
  00b66	6a 02		 push	 2
  00b68	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 877  : 
; 878  : 			draw_3d_scene ();

  00b6d	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 879  : 
; 880  : 			print_edit_wide_cockpit ();

  00b72	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 881  : 
; 882  : 			end_3d_scene ();

  00b77	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene

; 883  : 
; 884  : 			remove_light_3d_source_from_3d_scene (display_backlight);

  00b7c	8b 45 b8	 mov	 eax, DWORD PTR _display_backlight$5[ebp]
  00b7f	50		 push	 eax
  00b80	e8 00 00 00 00	 call	 ?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; remove_light_3d_source_from_3d_scene

; 885  : 
; 886  : 			remove_light_3d_source_from_3d_scene (cockpit_light);

  00b85	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$4[ebp]
  00b88	50		 push	 eax
  00b89	e8 00 00 00 00	 call	 ?remove_light_3d_source_from_3d_scene@@YGXPAULIGHT_3D_SOURCE@@@Z ; remove_light_3d_source_from_3d_scene

; 887  : 
; 888  : 			destroy_light_3d_source (display_backlight);

  00b8e	8b 45 b8	 mov	 eax, DWORD PTR _display_backlight$5[ebp]
  00b91	50		 push	 eax
  00b92	e8 00 00 00 00	 call	 ?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z ; destroy_light_3d_source

; 889  : 
; 890  : 			destroy_light_3d_source (cockpit_light);

  00b97	8b 45 b4	 mov	 eax, DWORD PTR _cockpit_light$4[ebp]
  00b9a	50		 push	 eax
  00b9b	e8 00 00 00 00	 call	 ?destroy_light_3d_source@@YGXPAULIGHT_3D_SOURCE@@@Z ; destroy_light_3d_source
$LN22@draw_ka50_:

; 891  : 		}
; 892  : 	}
; 893  : 
; 894  : 	move_edit_wide_cockpit ();

  00ba0	e8 00 00 00 00	 call	 ?move_edit_wide_cockpit@@YGXXZ ; move_edit_wide_cockpit

; 895  : 
; 896  : 
; 897  : #if RECOGNITION_GUIDE
; 898  : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 899  : #else
; 900  : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00ba5	51		 push	 ecx
  00ba6	0f 57 c0	 xorps	 xmm0, xmm0
  00ba9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bae	51		 push	 ecx
  00baf	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00bb7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bbc	51		 push	 ecx
  00bbd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00bc5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bca	51		 push	 ecx
  00bcb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00bd3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00bd8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00bdd	50		 push	 eax
  00bde	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 901  : #endif
; 902  : 
; 903  : 	realise_3d_clip_extents (main_3d_env);

  00be3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00be8	50		 push	 eax
  00be9	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents
$LN1@draw_ka50_:

; 904  : }

  00bee	5f		 pop	 edi
  00bef	5e		 pop	 esi
  00bf0	5b		 pop	 ebx
  00bf1	8b e5		 mov	 esp, ebp
  00bf3	5d		 pop	 ebp
  00bf4	c3		 ret	 0
  00bf5	0f 1f 00	 npad	 3
$LN49@draw_ka50_:
  00bf8	00 00 00 00	 DD	 $LN4@draw_ka50_
  00bfc	00 00 00 00	 DD	 $LN5@draw_ka50_
$LN48@draw_ka50_:
  00c00	00		 DB	 0
  00c01	00		 DB	 0
  00c02	01		 DB	 1
  00c03	00		 DB	 0
  00c04	00		 DB	 0
  00c05	00		 DB	 0
  00c06	00		 DB	 0
?draw_ka50_virtual_cockpit@@YGXXZ ENDP			; draw_ka50_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?pre_render_ka50_virtual_cockpit_displays@@YGXXZ
_TEXT	SEGMENT
tv64 = -68						; size = 4
?pre_render_ka50_virtual_cockpit_displays@@YGXXZ PROC	; pre_render_ka50_virtual_cockpit_displays, COMDAT

; 548  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 549  : 	switch (get_view_mode ())

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  0000e	89 45 bc	 mov	 DWORD PTR tv64[ebp], eax
  00011	8b 4d bc	 mov	 ecx, DWORD PTR tv64[ebp]
  00014	83 e9 23	 sub	 ecx, 35			; 00000023H
  00017	89 4d bc	 mov	 DWORD PTR tv64[ebp], ecx
  0001a	83 7d bc 06	 cmp	 DWORD PTR tv64[ebp], 6
  0001e	77 13		 ja	 SHORT $LN5@pre_render
  00020	8b 55 bc	 mov	 edx, DWORD PTR tv64[ebp]
  00023	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $LN8@pre_render[edx]
  0002a	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN9@pre_render[eax*4]
$LN4@pre_render:

; 550  : 	{
; 551  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CREW:
; 552  : 		case VIEW_MODE_VIRTUAL_COCKPIT_HUD:
; 553  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 554  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 555  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 556  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 557  : 		{
; 558  : 			break;

  00031	eb 0b		 jmp	 SHORT $LN2@pre_render
$LN5@pre_render:

; 559  : 		}
; 560  : 		default:
; 561  : 		{
; 562  : 			if (!get_global_draw_cockpit_graphics ())

  00033	83 3d b8 01 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+440, 0
  0003a	75 02		 jne	 SHORT $LN2@pre_render

; 563  : 			{
; 564  : 				return;

  0003c	eb 0a		 jmp	 SHORT $LN1@pre_render
$LN2@pre_render:

; 565  : 			}
; 566  : 
; 567  : 			break;
; 568  : 		}
; 569  : 	}
; 570  : 
; 571  : 	draw_ka50_mfd ();

  0003e	e8 00 00 00 00	 call	 ?draw_ka50_mfd@@YGXXZ	; draw_ka50_mfd

; 572  : 
; 573  : 	draw_ka50_hud ();

  00043	e8 00 00 00 00	 call	 ?draw_ka50_hud@@YGXXZ	; draw_ka50_hud
$LN1@pre_render:

; 574  : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	8b e5		 mov	 esp, ebp
  0004d	5d		 pop	 ebp
  0004e	c3		 ret	 0
  0004f	90		 npad	 1
$LN9@pre_render:
  00050	00 00 00 00	 DD	 $LN4@pre_render
  00054	00 00 00 00	 DD	 $LN5@pre_render
$LN8@pre_render:
  00058	00		 DB	 0
  00059	00		 DB	 0
  0005a	01		 DB	 1
  0005b	00		 DB	 0
  0005c	00		 DB	 0
  0005d	00		 DB	 0
  0005e	00		 DB	 0
?pre_render_ka50_virtual_cockpit_displays@@YGXXZ ENDP	; pre_render_ka50_virtual_cockpit_displays
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?update_ka50_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
tv135 = -152						; size = 4
tv172 = -148						; size = 4
tv145 = -148						; size = 4
tv128 = -148						; size = 4
tv75 = -148						; size = 4
tv66 = -148						; size = 4
tv64 = -148						; size = 4
_search$ = -80						; size = 56
_cockpit_detail_level$ = -24				; size = 4
_draw_seats$ = -20					; size = 4
_draw_crew$ = -16					; size = 4
_tmp_draw_controls$ = -12				; size = 4
_draw_controls$ = -8					; size = 4
_draw_glass_cockpit$ = -4				; size = 4
?update_ka50_virtual_cockpit@@YGXXZ PROC		; update_ka50_virtual_cockpit, COMDAT

; 229  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 98 00 00
	00		 sub	 esp, 152		; 00000098H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 230  : 	int
; 231  : 		draw_glass_cockpit,
; 232  : 		draw_controls, tmp_draw_controls,
; 233  : 		draw_crew,
; 234  : 		draw_seats;
; 235  : 
; 236  : 	cockpit_detail_levels
; 237  : 		cockpit_detail_level;
; 238  : 
; 239  : 	object_3d_sub_object_search_data
; 240  : 		search;
; 241  : 
; 242  : 	////////////////////////////////////////
; 243  : 	//
; 244  : 	// sort out what to draw
; 245  : 	//
; 246  : 	////////////////////////////////////////
; 247  : 
; 248  : 	switch (get_view_mode ())

  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?view_mode@@3W4VIEW_MODES@@A ; view_mode
  00011	89 85 6c ff ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  00017	83 bd 6c ff ff
	ff 23		 cmp	 DWORD PTR tv64[ebp], 35	; 00000023H
  0001e	74 14		 je	 SHORT $LN6@update_ka5
  00020	83 bd 6c ff ff
	ff 25		 cmp	 DWORD PTR tv64[ebp], 37	; 00000025H
  00027	7e 39		 jle	 SHORT $LN8@update_ka5
  00029	83 bd 6c ff ff
	ff 29		 cmp	 DWORD PTR tv64[ebp], 41	; 00000029H
  00030	7e 19		 jle	 SHORT $LN7@update_ka5
  00032	eb 2e		 jmp	 SHORT $LN8@update_ka5
$LN6@update_ka5:

; 249  : 	{
; 250  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CREW:
; 251  : 		{
; 252  : 			cockpit_detail_level = COCKPIT_DETAIL_LEVEL_HIGH;

  00034	c7 45 e8 02 00
	00 00		 mov	 DWORD PTR _cockpit_detail_level$[ebp], 2

; 253  : 
; 254  : 			draw_glass_cockpit = FALSE;

  0003b	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _draw_glass_cockpit$[ebp], 0

; 255  : 
; 256  : 			draw_controls = TRUE;

  00042	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _draw_controls$[ebp], 1

; 257  : 
; 258  : 			break;

  00049	eb 4c		 jmp	 SHORT $LN2@update_ka5
$LN7@update_ka5:

; 259  : 		}
; 260  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_LHS_DISPLAY:
; 261  : 		case VIEW_MODE_VIRTUAL_COCKPIT_PILOT_RHS_DISPLAY:
; 262  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_LHS_DISPLAY:
; 263  : 		case VIEW_MODE_VIRTUAL_COCKPIT_CO_PILOT_RHS_DISPLAY:
; 264  : 		{
; 265  : 			cockpit_detail_level = COCKPIT_DETAIL_LEVEL_HIGH;

  0004b	c7 45 e8 02 00
	00 00		 mov	 DWORD PTR _cockpit_detail_level$[ebp], 2

; 266  : 
; 267  : 			draw_glass_cockpit = FALSE;

  00052	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _draw_glass_cockpit$[ebp], 0

; 268  : 
; 269  : 			draw_controls = FALSE;

  00059	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _draw_controls$[ebp], 0

; 270  : 
; 271  : 			break;

  00060	eb 35		 jmp	 SHORT $LN2@update_ka5
$LN8@update_ka5:

; 272  : 		}
; 273  : 		default:
; 274  : 		{
; 275  : 			cockpit_detail_level = get_global_cockpit_detail_level ();

  00062	a1 78 03 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+888
  00067	89 45 e8	 mov	 DWORD PTR _cockpit_detail_level$[ebp], eax

; 276  : 
; 277  : 			draw_glass_cockpit = get_global_glass_cockpit ();

  0006a	a1 68 03 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+872
  0006f	89 45 fc	 mov	 DWORD PTR _draw_glass_cockpit$[ebp], eax

; 278  : 
; 279  : 			draw_controls = !draw_glass_cockpit;

  00072	83 7d fc 00	 cmp	 DWORD PTR _draw_glass_cockpit$[ebp], 0
  00076	75 0c		 jne	 SHORT $LN36@update_ka5
  00078	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv66[ebp], 1
  00082	eb 0a		 jmp	 SHORT $LN37@update_ka5
$LN36@update_ka5:
  00084	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv66[ebp], 0
$LN37@update_ka5:
  0008e	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv66[ebp]
  00094	89 45 f8	 mov	 DWORD PTR _draw_controls$[ebp], eax
$LN2@update_ka5:

; 280  : 
; 281  : 			break;
; 282  : 		}
; 283  : 	}
; 284  : 
; 285  : 	//
; 286  : 	// select 3D instance
; 287  : 	//
; 288  : 
; 289  : 	if (draw_glass_cockpit)

  00097	83 7d fc 00	 cmp	 DWORD PTR _draw_glass_cockpit$[ebp], 0
  0009b	74 3c		 je	 SHORT $LN9@update_ka5

; 290  : 	{
; 291  : 		if (virtual_cockpit_inst3d != virtual_cockpit_inst3d_detail_level_glass_inst3d)

  0009d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000a2	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000a8	74 23		 je	 SHORT $LN11@update_ka5

; 292  : 		{
; 293  : 			virtual_cockpit_inst3d_detail_level_glass_inst3d->vp = virtual_cockpit_inst3d->vp;

  000aa	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  000b0	83 c6 08	 add	 esi, 8
  000b3	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000b9	83 c7 08	 add	 edi, 8
  000bc	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  000c1	f3 a5		 rep movsd

; 294  : 
; 295  : 			virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_glass_inst3d;

  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000c8	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d
$LN11@update_ka5:

; 296  : 		}
; 297  : 
; 298  : 		draw_crew = FALSE;

  000cd	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _draw_crew$[ebp], 0

; 299  : 	}
; 300  : 	else

  000d4	e9 d2 00 00 00	 jmp	 $LN10@update_ka5
$LN9@update_ka5:

; 301  : 	{
; 302  : 		switch (cockpit_detail_level)

  000d9	8b 45 e8	 mov	 eax, DWORD PTR _cockpit_detail_level$[ebp]
  000dc	89 85 6c ff ff
	ff		 mov	 DWORD PTR tv75[ebp], eax
  000e2	83 bd 6c ff ff
	ff 00		 cmp	 DWORD PTR tv75[ebp], 0
  000e9	74 17		 je	 SHORT $LN12@update_ka5
  000eb	83 bd 6c ff ff
	ff 01		 cmp	 DWORD PTR tv75[ebp], 1
  000f2	74 47		 je	 SHORT $LN14@update_ka5
  000f4	83 bd 6c ff ff
	ff 02		 cmp	 DWORD PTR tv75[ebp], 2
  000fb	74 77		 je	 SHORT $LN16@update_ka5
  000fd	e9 a9 00 00 00	 jmp	 $LN10@update_ka5
$LN12@update_ka5:

; 303  : 		{
; 304  : 			////////////////////////////////////////
; 305  : 			case COCKPIT_DETAIL_LEVEL_LOW:
; 306  : 			////////////////////////////////////////
; 307  : 			{
; 308  : 				if (virtual_cockpit_inst3d != virtual_cockpit_inst3d_detail_level_low_inst3d)

  00102	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00107	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0010d	74 23		 je	 SHORT $LN13@update_ka5

; 309  : 				{
; 310  : 					virtual_cockpit_inst3d_detail_level_low_inst3d->vp = virtual_cockpit_inst3d->vp;

  0010f	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00115	83 c6 08	 add	 esi, 8
  00118	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0011e	83 c7 08	 add	 edi, 8
  00121	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00126	f3 a5		 rep movsd

; 311  : 
; 312  : 					virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_low_inst3d;

  00128	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d
$LN13@update_ka5:

; 313  : 				}
; 314  : 
; 315  : 				draw_crew = FALSE;

  00132	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _draw_crew$[ebp], 0

; 316  : 
; 317  : 				break;

  00139	eb 70		 jmp	 SHORT $LN10@update_ka5
$LN14@update_ka5:

; 318  : 			}
; 319  : 			////////////////////////////////////////
; 320  : 			case COCKPIT_DETAIL_LEVEL_MEDIUM:
; 321  : 			////////////////////////////////////////
; 322  : 			{
; 323  : 				if (virtual_cockpit_inst3d != virtual_cockpit_inst3d_detail_level_medium_inst3d)

  0013b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00140	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00146	74 23		 je	 SHORT $LN15@update_ka5

; 324  : 				{
; 325  : 					virtual_cockpit_inst3d_detail_level_medium_inst3d->vp = virtual_cockpit_inst3d->vp;

  00148	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0014e	83 c6 08	 add	 esi, 8
  00151	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00157	83 c7 08	 add	 edi, 8
  0015a	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0015f	f3 a5		 rep movsd

; 326  : 
; 327  : 					virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_medium_inst3d;

  00161	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00166	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d
$LN15@update_ka5:

; 328  : 				}
; 329  : 
; 330  : 				draw_crew = TRUE;

  0016b	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _draw_crew$[ebp], 1

; 331  : 
; 332  : 				break;

  00172	eb 37		 jmp	 SHORT $LN10@update_ka5
$LN16@update_ka5:

; 333  : 			}
; 334  : 			////////////////////////////////////////
; 335  : 			case COCKPIT_DETAIL_LEVEL_HIGH:
; 336  : 			////////////////////////////////////////
; 337  : 			{
; 338  : 				if (virtual_cockpit_inst3d != virtual_cockpit_inst3d_detail_level_high_inst3d)

  00174	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00179	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0017f	74 23		 je	 SHORT $LN17@update_ka5

; 339  : 				{
; 340  : 					virtual_cockpit_inst3d_detail_level_high_inst3d->vp = virtual_cockpit_inst3d->vp;

  00181	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00187	83 c6 08	 add	 esi, 8
  0018a	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00190	83 c7 08	 add	 edi, 8
  00193	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00198	f3 a5		 rep movsd

; 341  : 
; 342  : 					virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_high_inst3d;

  0019a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0019f	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d
$LN17@update_ka5:

; 343  : 				}
; 344  : 
; 345  : 				draw_crew = TRUE;

  001a4	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _draw_crew$[ebp], 1
$LN10@update_ka5:

; 346  : 
; 347  : 				break;
; 348  : 			}
; 349  : 		}
; 350  : 	}
; 351  : 
; 352  : 	//
; 353  : 	// HUD view
; 354  : 	//
; 355  : 
; 356  : 	//
; 357  : 	// ejected
; 358  : 	//
; 359  : 
; 360  : 	draw_seats = TRUE;

  001ab	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _draw_seats$[ebp], 1

; 361  : 
; 362  : 	if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_EJECTED))

  001b2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001b9	74 0f		 je	 SHORT $LN38@update_ka5
  001bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c0	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c2	89 8d 6c ff ff
	ff		 mov	 DWORD PTR tv128[ebp], ecx
  001c8	eb 20		 jmp	 SHORT $LN39@update_ka5
$LN38@update_ka5:
  001ca	68 6a 01 00 00	 push	 362			; 0000016aH
  001cf	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  001d4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001da	52		 push	 edx
  001db	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e0	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv128[ebp], 0
$LN39@update_ka5:
  001ea	b8 01 00 00 00	 mov	 eax, 1
  001ef	85 c0		 test	 eax, eax
  001f1	74 0c		 je	 SHORT $LN40@update_ka5
  001f3	c7 85 68 ff ff
	ff 31 00 00 00	 mov	 DWORD PTR tv135[ebp], 49 ; 00000031H
  001fd	eb 20		 jmp	 SHORT $LN41@update_ka5
$LN40@update_ka5:
  001ff	68 6a 01 00 00	 push	 362			; 0000016aH
  00204	68 00 00 00 00	 push	 OFFSET ??_C@_0EO@FDPHAKKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00209	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0020f	51		 push	 ecx
  00210	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00215	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv135[ebp], 0
$LN41@update_ka5:
  0021f	6a 31		 push	 49			; 00000031H
  00221	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00227	52		 push	 edx
  00228	69 85 6c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv128[ebp], 1116
  00232	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR tv135[ebp]
  00238	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0023f	ff d2		 call	 edx
  00241	85 c0		 test	 eax, eax
  00243	74 20		 je	 SHORT $LN18@update_ka5

; 363  : 	{
; 364  : 		if (get_view_mode () == VIEW_MODE_VIRTUAL_COCKPIT_CREW)

  00245	83 3d 00 00 00
	00 23		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 35 ; view_mode, 00000023H
  0024c	75 09		 jne	 SHORT $LN19@update_ka5

; 365  : 		{
; 366  : 			draw_controls = FALSE;

  0024e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _draw_controls$[ebp], 0

; 367  : 		}
; 368  : 		else

  00255	eb 0e		 jmp	 SHORT $LN18@update_ka5
$LN19@update_ka5:

; 369  : 		{
; 370  : 			draw_crew = FALSE;

  00257	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _draw_crew$[ebp], 0

; 371  : 
; 372  : 			draw_seats = FALSE;

  0025e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _draw_seats$[ebp], 0
$LN18@update_ka5:

; 373  : 		}
; 374  : 	}
; 375  : 
; 376  : 	//
; 377  : 	// draw crew
; 378  : 	//
; 379  : 
; 380  : //VJ 050206: wideview improvement show other pilot when in wideview
; 381  : 	draw_crew = !(get_global_wide_cockpit () && wide_cockpit_nr == WIDEVIEW_KA50_PILOT);

  00265	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  0026c	74 15		 je	 SHORT $LN42@update_ka5
  0026e	83 3d 00 00 00
	00 0d		 cmp	 DWORD PTR ?wide_cockpit_nr@@3HA, 13 ; wide_cockpit_nr, 0000000dH
  00275	75 0c		 jne	 SHORT $LN42@update_ka5
  00277	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv145[ebp], 0
  00281	eb 0a		 jmp	 SHORT $LN43@update_ka5
$LN42@update_ka5:
  00283	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv145[ebp], 1
$LN43@update_ka5:
  0028d	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv145[ebp]
  00293	89 45 f0	 mov	 DWORD PTR _draw_crew$[ebp], eax

; 382  : 
; 383  : 	search.search_depth = 0;

  00296	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 384  : 	search.search_object = virtual_cockpit_inst3d;

  0029d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002a2	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 385  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_PILOT_POSITION;

  002a5	c7 45 bc 91 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 145 ; 00000091H

; 386  : 
; 387  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  002ac	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  002af	50		 push	 eax
  002b0	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  002b5	83 f8 01	 cmp	 eax, 1
  002b8	75 17		 jne	 SHORT $LN21@update_ka5

; 388  : 	{
; 389  : 		search.result_sub_object->visible_object = draw_crew;

  002ba	8b 45 f0	 mov	 eax, DWORD PTR _draw_crew$[ebp]
  002bd	83 e0 01	 and	 eax, 1
  002c0	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  002c3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  002c6	83 e2 fe	 and	 edx, -2			; fffffffeH
  002c9	0b d0		 or	 edx, eax
  002cb	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  002ce	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN21@update_ka5:

; 390  : 	}
; 391  : 
; 392  : 	//
; 393  : 	// draw seats
; 394  : 	//
; 395  : 
; 396  : 	search.search_depth = 0;

  002d1	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 397  : 	search.search_object = virtual_cockpit_inst3d;

  002d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002dd	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 398  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_EJECTOR_SEAT;

  002e0	c7 45 bc c4 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 196 ; 000000c4H

; 399  : 
; 400  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  002e7	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  002ea	50		 push	 eax
  002eb	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  002f0	83 f8 01	 cmp	 eax, 1
  002f3	75 17		 jne	 SHORT $LN22@update_ka5

; 401  : 	{
; 402  : 		search.result_sub_object->visible_object = draw_seats;

  002f5	8b 45 ec	 mov	 eax, DWORD PTR _draw_seats$[ebp]
  002f8	83 e0 01	 and	 eax, 1
  002fb	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  002fe	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00301	83 e2 fe	 and	 edx, -2			; fffffffeH
  00304	0b d0		 or	 edx, eax
  00306	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00309	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN22@update_ka5:

; 403  : 	}
; 404  : 
; 405  : 	search.search_depth = 1;

  0030c	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 1

; 406  : 	search.search_object = virtual_cockpit_inst3d;

  00313	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00318	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 407  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_KA52_EJECTOR_SEAT;

  0031b	c7 45 bc c4 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 196 ; 000000c4H

; 408  : 
; 409  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00322	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00325	50		 push	 eax
  00326	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0032b	83 f8 01	 cmp	 eax, 1
  0032e	75 17		 jne	 SHORT $LN23@update_ka5

; 410  : 	{
; 411  : 		search.result_sub_object->visible_object = draw_seats;

  00330	8b 45 ec	 mov	 eax, DWORD PTR _draw_seats$[ebp]
  00333	83 e0 01	 and	 eax, 1
  00336	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00339	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0033c	83 e2 fe	 and	 edx, -2			; fffffffeH
  0033f	0b d0		 or	 edx, eax
  00341	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00344	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN23@update_ka5:

; 412  : 	}
; 413  : 
; 414  : 	//
; 415  : 	// draw controls
; 416  : 	//
; 417  : 
; 418  : //VJ 050206 wideview improvement
; 419  : 	tmp_draw_controls = draw_controls;

  00347	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  0034a	89 45 f4	 mov	 DWORD PTR _tmp_draw_controls$[ebp], eax

; 420  : 	draw_controls = !(get_global_wide_cockpit () && wide_cockpit_nr == WIDEVIEW_KA50_PILOT);

  0034d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00354	74 15		 je	 SHORT $LN44@update_ka5
  00356	83 3d 00 00 00
	00 0d		 cmp	 DWORD PTR ?wide_cockpit_nr@@3HA, 13 ; wide_cockpit_nr, 0000000dH
  0035d	75 0c		 jne	 SHORT $LN44@update_ka5
  0035f	c7 85 6c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv172[ebp], 0
  00369	eb 0a		 jmp	 SHORT $LN45@update_ka5
$LN44@update_ka5:
  0036b	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv172[ebp], 1
$LN45@update_ka5:
  00375	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR tv172[ebp]
  0037b	89 45 f8	 mov	 DWORD PTR _draw_controls$[ebp], eax

; 421  : 
; 422  : 	search.search_depth = 0;

  0037e	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 423  : 	search.search_object = virtual_cockpit_inst3d;

  00385	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0038a	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 424  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_JOYSTICK;

  0038d	c7 45 bc 97 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 151 ; 00000097H

; 425  : 
; 426  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00394	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00397	50		 push	 eax
  00398	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0039d	83 f8 01	 cmp	 eax, 1
  003a0	75 17		 jne	 SHORT $LN24@update_ka5

; 427  : 	{
; 428  : 		search.result_sub_object->visible_object = draw_controls;

  003a2	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  003a5	83 e0 01	 and	 eax, 1
  003a8	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  003ab	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  003ae	83 e2 fe	 and	 edx, -2			; fffffffeH
  003b1	0b d0		 or	 edx, eax
  003b3	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  003b6	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN24@update_ka5:

; 429  : 	}
; 430  : 
; 431  : //VJ 050206 wideview improvement
; 432  : 	draw_controls = tmp_draw_controls;

  003b9	8b 45 f4	 mov	 eax, DWORD PTR _tmp_draw_controls$[ebp]
  003bc	89 45 f8	 mov	 DWORD PTR _draw_controls$[ebp], eax

; 433  : 
; 434  : 	search.search_depth = 0;

  003bf	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 435  : 	search.search_object = virtual_cockpit_inst3d;

  003c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  003cb	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 436  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_COLLECTIVE;

  003ce	c7 45 bc 99 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 153 ; 00000099H

; 437  : 
; 438  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  003d5	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  003d8	50		 push	 eax
  003d9	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  003de	83 f8 01	 cmp	 eax, 1
  003e1	75 17		 jne	 SHORT $LN25@update_ka5

; 439  : 	{
; 440  : 		search.result_sub_object->visible_object = draw_controls;

  003e3	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  003e6	83 e0 01	 and	 eax, 1
  003e9	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  003ec	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  003ef	83 e2 fe	 and	 edx, -2			; fffffffeH
  003f2	0b d0		 or	 edx, eax
  003f4	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  003f7	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN25@update_ka5:

; 441  : 	}
; 442  : 
; 443  : 	search.search_depth = 0;

  003fa	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 444  : 	search.search_object = virtual_cockpit_inst3d;

  00401	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00406	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 445  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_PEDAL;

  00409	c7 45 bc c7 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 199 ; 000000c7H

; 446  : 
; 447  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00410	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00413	50		 push	 eax
  00414	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00419	83 f8 01	 cmp	 eax, 1
  0041c	75 17		 jne	 SHORT $LN26@update_ka5

; 448  : 	{
; 449  : 		search.result_sub_object->visible_object = draw_controls;

  0041e	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  00421	83 e0 01	 and	 eax, 1
  00424	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00427	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0042a	83 e2 fe	 and	 edx, -2			; fffffffeH
  0042d	0b d0		 or	 edx, eax
  0042f	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00432	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN26@update_ka5:

; 450  : 	}
; 451  : 
; 452  : 	search.search_depth = 1;

  00435	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 1

; 453  : 	search.search_object = virtual_cockpit_inst3d;

  0043c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00441	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 454  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_PEDAL;

  00444	c7 45 bc c7 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 199 ; 000000c7H

; 455  : 
; 456  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0044b	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  0044e	50		 push	 eax
  0044f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00454	83 f8 01	 cmp	 eax, 1
  00457	75 17		 jne	 SHORT $LN27@update_ka5

; 457  : 	{
; 458  : 		search.result_sub_object->visible_object = draw_controls;

  00459	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  0045c	83 e0 01	 and	 eax, 1
  0045f	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00462	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00465	83 e2 fe	 and	 edx, -2			; fffffffeH
  00468	0b d0		 or	 edx, eax
  0046a	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  0046d	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN27@update_ka5:

; 459  : 	}
; 460  : 
; 461  : 	search.search_depth = 0;

  00470	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 462  : 	search.search_object = virtual_cockpit_inst3d;

  00477	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0047c	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 463  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_JOYSTICK;

  0047f	c7 45 bc 98 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 152 ; 00000098H

; 464  : 
; 465  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00486	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00489	50		 push	 eax
  0048a	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0048f	83 f8 01	 cmp	 eax, 1
  00492	75 17		 jne	 SHORT $LN28@update_ka5

; 466  : 	{
; 467  : 		search.result_sub_object->visible_object = draw_controls;

  00494	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  00497	83 e0 01	 and	 eax, 1
  0049a	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0049d	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  004a0	83 e2 fe	 and	 edx, -2			; fffffffeH
  004a3	0b d0		 or	 edx, eax
  004a5	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  004a8	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN28@update_ka5:

; 468  : 	}
; 469  : 
; 470  : 	search.search_depth = 0;

  004ab	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 471  : 	search.search_object = virtual_cockpit_inst3d;

  004b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  004b7	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 472  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_COLLECTIVE;

  004ba	c7 45 bc 9a 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 154 ; 0000009aH

; 473  : 
; 474  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004c1	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  004c4	50		 push	 eax
  004c5	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  004ca	83 f8 01	 cmp	 eax, 1
  004cd	75 17		 jne	 SHORT $LN29@update_ka5

; 475  : 	{
; 476  : 		search.result_sub_object->visible_object = draw_controls;

  004cf	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  004d2	83 e0 01	 and	 eax, 1
  004d5	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  004d8	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  004db	83 e2 fe	 and	 edx, -2			; fffffffeH
  004de	0b d0		 or	 edx, eax
  004e0	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  004e3	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN29@update_ka5:

; 477  : 	}
; 478  : 
; 479  : 	search.search_depth = 0;

  004e6	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 480  : 	search.search_object = virtual_cockpit_inst3d;

  004ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  004f2	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 481  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_PEDAL;

  004f5	c7 45 bc c8 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 200 ; 000000c8H

; 482  : 
; 483  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004fc	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  004ff	50		 push	 eax
  00500	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00505	83 f8 01	 cmp	 eax, 1
  00508	75 17		 jne	 SHORT $LN30@update_ka5

; 484  : 	{
; 485  : 		search.result_sub_object->visible_object = draw_controls;

  0050a	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  0050d	83 e0 01	 and	 eax, 1
  00510	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00513	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00516	83 e2 fe	 and	 edx, -2			; fffffffeH
  00519	0b d0		 or	 edx, eax
  0051b	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  0051e	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN30@update_ka5:

; 486  : 	}
; 487  : 
; 488  : 	search.search_depth = 1;

  00521	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 1

; 489  : 	search.search_object = virtual_cockpit_inst3d;

  00528	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0052d	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 490  : 	search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_PEDAL;

  00530	c7 45 bc c8 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 200 ; 000000c8H

; 491  : 
; 492  : 	if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00537	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  0053a	50		 push	 eax
  0053b	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00540	83 f8 01	 cmp	 eax, 1
  00543	75 17		 jne	 SHORT $LN31@update_ka5

; 493  : 	{
; 494  : 		search.result_sub_object->visible_object = draw_controls;

  00545	8b 45 f8	 mov	 eax, DWORD PTR _draw_controls$[ebp]
  00548	83 e0 01	 and	 eax, 1
  0054b	8b 4d b4	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0054e	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00551	83 e2 fe	 and	 edx, -2			; fffffffeH
  00554	0b d0		 or	 edx, eax
  00556	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00559	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN31@update_ka5:

; 495  : 	}
; 496  : 
; 497  : 	////////////////////////////////////////
; 498  : 	//
; 499  : 	// update animations
; 500  : 	//
; 501  : 	////////////////////////////////////////
; 502  : 
; 503  : 	//
; 504  : 	// crew animation
; 505  : 	//
; 506  : 
; 507  : 	update_ka50_crew_animation ();

  0055c	e8 00 00 00 00	 call	 ?update_ka50_crew_animation@@YGXXZ ; update_ka50_crew_animation

; 508  : 
; 509  : 	//
; 510  : 	// canopy doors
; 511  : 	//
; 512  : 
; 513  : 	animate_ka50_virtual_cockpit_canopy_doors ();

  00561	e8 00 00 00 00	 call	 ?animate_ka50_virtual_cockpit_canopy_doors@@YGXXZ ; animate_ka50_virtual_cockpit_canopy_doors

; 514  : 
; 515  : 	////////////////////////////////////////
; 516  : 	//
; 517  : 	// sort static hands
; 518  : 	//
; 519  : 	////////////////////////////////////////
; 520  : 
; 521  : 	if (!draw_crew)

  00566	83 7d f0 00	 cmp	 DWORD PTR _draw_crew$[ebp], 0
  0056a	75 66		 jne	 SHORT $LN1@update_ka5

; 522  : 	{
; 523  : 		search.search_depth = 0;

  0056c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 524  : 		search.search_object = virtual_cockpit_inst3d;

  00573	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00578	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 525  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_PILOT_HAND_STATIC;

  0057b	c7 45 bc 9e 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 158 ; 0000009eH

; 526  : 
; 527  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00582	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  00585	50		 push	 eax
  00586	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0058b	83 f8 01	 cmp	 eax, 1
  0058e	75 0f		 jne	 SHORT $LN33@update_ka5

; 528  : 		{
; 529  : 			search.result_sub_object->visible_object = FALSE;

  00590	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  00593	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00596	83 e1 fe	 and	 ecx, -2			; fffffffeH
  00599	8b 55 b4	 mov	 edx, DWORD PTR _search$[ebp+4]
  0059c	89 4a 08	 mov	 DWORD PTR [edx+8], ecx
$LN33@update_ka5:

; 530  : 		}
; 531  : 
; 532  : 		search.search_depth = 0;

  0059f	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 533  : 		search.search_object = virtual_cockpit_inst3d;

  005a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  005ab	89 45 b0	 mov	 DWORD PTR _search$[ebp], eax

; 534  : 		search.sub_object_index = OBJECT_3D_SUB_OBJECT_COCKPIT_WSO_HAND_STATIC;

  005ae	c7 45 bc d0 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 208 ; 000000d0H

; 535  : 
; 536  : 		if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  005b5	8d 45 b0	 lea	 eax, DWORD PTR _search$[ebp]
  005b8	50		 push	 eax
  005b9	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  005be	83 f8 01	 cmp	 eax, 1
  005c1	75 0f		 jne	 SHORT $LN1@update_ka5

; 537  : 		{
; 538  : 			search.result_sub_object->visible_object = FALSE;

  005c3	8b 45 b4	 mov	 eax, DWORD PTR _search$[ebp+4]
  005c6	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  005c9	83 e1 fe	 and	 ecx, -2			; fffffffeH
  005cc	8b 55 b4	 mov	 edx, DWORD PTR _search$[ebp+4]
  005cf	89 4a 08	 mov	 DWORD PTR [edx+8], ecx
$LN1@update_ka5:

; 539  : 		}
; 540  : 	}
; 541  : }

  005d2	5f		 pop	 edi
  005d3	5e		 pop	 esi
  005d4	5b		 pop	 ebx
  005d5	8b e5		 mov	 esp, ebp
  005d7	5d		 pop	 ebp
  005d8	c3		 ret	 0
?update_ka50_virtual_cockpit@@YGXXZ ENDP		; update_ka50_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?deinitialise_ka50_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?deinitialise_ka50_virtual_cockpit@@YGXXZ PROC		; deinitialise_ka50_virtual_cockpit, COMDAT

; 190  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 191  : 	//
; 192  : 	// 3D instances
; 193  : 	//
; 194  : 
; 195  : 	destruct_3d_object (virtual_cockpit_inst3d_detail_level_high_inst3d);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 196  : 
; 197  : 	destruct_3d_object (virtual_cockpit_inst3d_detail_level_medium_inst3d);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 198  : 
; 199  : 	destruct_3d_object (virtual_cockpit_inst3d_detail_level_low_inst3d);

  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 200  : 
; 201  : 	destruct_3d_object (virtual_cockpit_inst3d_detail_level_glass_inst3d);

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 202  : 
; 203  : 	virtual_cockpit_inst3d = NULL;

  00035	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d

; 204  : 
; 205  : 	//
; 206  : 	// wipers and rain
; 207  : 	//
; 208  : 
; 209  : 	deinitialise_ka50_virtual_cockpit_wiper_and_rain_effect ();

  0003f	e8 00 00 00 00	 call	 ?deinitialise_ka50_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; deinitialise_ka50_virtual_cockpit_wiper_and_rain_effect

; 210  : 
; 211  : 	//
; 212  : 	// crew animation
; 213  : 	//
; 214  : 
; 215  : 	deinitialise_ka50_crew_animation ();

  00044	e8 00 00 00 00	 call	 ?deinitialise_ka50_crew_animation@@YGXXZ ; deinitialise_ka50_crew_animation

; 216  : 
; 217  : 	//
; 218  : 	// virtual cockpit cameras
; 219  : 	//
; 220  : 
; 221  : 	deinitialise_common_virtual_cockpit_cameras ();

  00049	e8 00 00 00 00	 call	 ?deinitialise_common_virtual_cockpit_cameras@@YGXXZ ; deinitialise_common_virtual_cockpit_cameras

; 222  : }

  0004e	5f		 pop	 edi
  0004f	5e		 pop	 esi
  00050	5b		 pop	 ebx
  00051	8b e5		 mov	 esp, ebp
  00053	5d		 pop	 ebp
  00054	c3		 ret	 0
?deinitialise_ka50_virtual_cockpit@@YGXXZ ENDP		; deinitialise_ka50_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\ka50\hm_vckpt.c
;	COMDAT ?initialise_ka50_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?initialise_ka50_virtual_cockpit@@YGXXZ PROC		; initialise_ka50_virtual_cockpit, COMDAT

; 136  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 137  : 	//
; 138  : 	// 3D instances
; 139  : 	//
; 140  : 
; 141  : 	virtual_cockpit_inst3d_detail_level_high_inst3d = construct_3d_object (OBJECT_3D_KA50_COCKPIT);

  00009	68 e2 0a 00 00	 push	 2786			; 00000ae2H
  0000e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00013	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 142  : 
; 143  : 	virtual_cockpit_inst3d_detail_level_medium_inst3d = construct_3d_object (OBJECT_3D_KA50_COCKPIT);

  00018	68 e2 0a 00 00	 push	 2786			; 00000ae2H
  0001d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00022	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_medium_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 144  : 
; 145  : 	virtual_cockpit_inst3d_detail_level_low_inst3d = construct_3d_object (OBJECT_3D_KA50_COCKPIT);

  00027	68 e2 0a 00 00	 push	 2786			; 00000ae2H
  0002c	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00031	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_low_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 146  : 
; 147  : 	virtual_cockpit_inst3d_detail_level_glass_inst3d = construct_3d_object (OBJECT_3D_KA50_COCKPIT);

  00036	68 e2 0a 00 00	 push	 2786			; 00000ae2H
  0003b	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00040	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d_detail_level_glass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 148  : 
; 149  : 	virtual_cockpit_inst3d = virtual_cockpit_inst3d_detail_level_high_inst3d;

  00045	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d_detail_level_high_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0004a	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d

; 150  : 
; 151  : 	pilot_head_pitch_datum = get_ka50_pilot_head_pitch_datum ();

  0004f	e8 00 00 00 00	 call	 ?get_ka50_pilot_head_pitch_datum@@YGMXZ ; get_ka50_pilot_head_pitch_datum
  00054	d9 1d 00 00 00
	00		 fstp	 DWORD PTR ?pilot_head_pitch_datum@@3MA ; pilot_head_pitch_datum

; 152  : 
; 153  : 	//
; 154  : 	// wipers and rain
; 155  : 	//
; 156  : 
; 157  : 	initialise_ka50_virtual_cockpit_wiper_and_rain_effect ();

  0005a	e8 00 00 00 00	 call	 ?initialise_ka50_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; initialise_ka50_virtual_cockpit_wiper_and_rain_effect

; 158  : 
; 159  : 	//
; 160  : 	// crew animation
; 161  : 	//
; 162  : 
; 163  : 	initialise_ka50_crew_animation ();

  0005f	e8 00 00 00 00	 call	 ?initialise_ka50_crew_animation@@YGXXZ ; initialise_ka50_crew_animation

; 164  : 
; 165  : 	//
; 166  : 	// canopy doors
; 167  : 	//
; 168  : 
; 169  : 	initialise_ka50_virtual_cockpit_canopy_doors ();

  00064	e8 00 00 00 00	 call	 ?initialise_ka50_virtual_cockpit_canopy_doors@@YGXXZ ; initialise_ka50_virtual_cockpit_canopy_doors

; 170  : 
; 171  : 	//
; 172  : 	// virtual cockpit cameras
; 173  : 	//
; 174  : 
; 175  : 	initialise_common_virtual_cockpit_cameras ();

  00069	e8 00 00 00 00	 call	 ?initialise_common_virtual_cockpit_cameras@@YGXXZ ; initialise_common_virtual_cockpit_cameras

; 176  : 
; 177  : //VJ 050208 cleaing up wideview
; 178  : 	wide_cockpit_nr = WIDEVIEW_KA50_PILOT;

  0006e	c7 05 00 00 00
	00 0d 00 00 00	 mov	 DWORD PTR ?wide_cockpit_nr@@3HA, 13 ; wide_cockpit_nr, 0000000dH

; 179  : 
; 180  : //VJ wideview mod, date: 20-mar-03
; 181  : //start up in normal view because when you switch to wideview the parameters are read
; 182  : 	set_global_wide_cockpit (FALSE);

  00078	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 183  : }

  00082	5f		 pop	 edi
  00083	5e		 pop	 esi
  00084	5b		 pop	 ebx
  00085	8b e5		 mov	 esp, ebp
  00087	5d		 pop	 ebp
  00088	c3		 ret	 0
?initialise_ka50_virtual_cockpit@@YGXXZ ENDP		; initialise_ka50_virtual_cockpit
_TEXT	ENDS
END
