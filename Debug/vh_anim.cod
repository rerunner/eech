; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z ; animate_vehicle_loading_doors
PUBLIC	?update_vehicle_loading_doors@@YGXPAUENTITY@@@Z	; update_vehicle_loading_doors
PUBLIC	?animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z ; animate_vehicle_weapon_system_ready
PUBLIC	?update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z ; update_vehicle_weapon_system_ready
PUBLIC	?animate_vehicle_radar@@YGXPAUENTITY@@@Z	; animate_vehicle_radar
PUBLIC	?update_vehicle_radar@@YGXPAUENTITY@@@Z		; update_vehicle_radar
PUBLIC	?set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z	; set_vehicle_headlight_state
PUBLIC	?__LINE__Var@?0??animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA ; `animate_vehicle_loading_doors'::`1'::__LINE__Var
PUBLIC	??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_02LFNMGJAP@en@				; `string'
PUBLIC	?__LINE__Var@?0??update_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA ; `update_vehicle_loading_doors'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA ; `animate_vehicle_weapon_system_ready'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA ; `update_vehicle_weapon_system_ready'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??animate_vehicle_radar@@YGXPAUENTITY@@@Z@4JA ; `animate_vehicle_radar'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??update_vehicle_radar@@YGXPAUENTITY@@@Z@4JA ; `update_vehicle_radar'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA ; `set_vehicle_headlight_state'::`1'::__LINE__Var
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	__real@3e2aa8eb
PUBLIC	__real@3f000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?open_client_server_entity_loading_doors@@YGXPAUENTITY@@@Z:PROC ; open_client_server_entity_loading_doors
EXTRN	?close_client_server_entity_loading_doors@@YGXPAUENTITY@@@Z:PROC ; close_client_server_entity_loading_doors
EXTRN	?open_entity_weapon_system_ready@@YGXPAUENTITY@@@Z:PROC ; open_entity_weapon_system_ready
EXTRN	?close_entity_weapon_system_ready@@YGXPAUENTITY@@@Z:PROC ; close_entity_weapon_system_ready
EXTRN	?update_entity_reversable_keyframed_value@@YGHPAUENTITY@@PAMM@Z:PROC ; update_entity_reversable_keyframed_value
EXTRN	?update_entity_simple_keyframed_value@@YGHPAUENTITY@@PAMM@Z:PROC ; update_entity_simple_keyframed_value
EXTRN	?animate_entity_simple_keyframed_sub_objects@@YGXPAUOBJECT_3D_INSTANCE@@HM@Z:PROC ; animate_entity_simple_keyframed_sub_objects
EXTRN	?animate_entity_reversable_keyframed_sub_objects@@YGXPAUOBJECT_3D_INSTANCE@@HM@Z:PROC ; animate_entity_reversable_keyframed_sub_objects
EXTRN	?set_sub_object_type_visible_status@@YGHPAUOBJECT_3D_INSTANCE@@HH@Z:PROC ; set_sub_object_type_visible_status
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?in_flight_articulation_test@@3HA:DWORD		; in_flight_articulation_test
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_local_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	__fltused:DWORD
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3e2aa8eb
CONST	SEGMENT
__real@3e2aa8eb DD 03e2aa8ebr			; 0.16666
CONST	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA DD 014cH ; `set_vehicle_headlight_state'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??update_vehicle_radar@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_vehicle_radar@@YGXPAUENTITY@@@Z@4JA DD 0132H ; `update_vehicle_radar'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??animate_vehicle_radar@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??animate_vehicle_radar@@YGXPAUENTITY@@@Z@4JA DD 0119H ; `animate_vehicle_radar'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA DD 0e1H ; `update_vehicle_weapon_system_ready'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA DD 0c8H ; `animate_vehicle_weapon_system_ready'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??update_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA DD 088H ; `update_vehicle_loading_doors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02LFNMGJAP@en@
CONST	SEGMENT
??_C@_02LFNMGJAP@en@ DB 'en', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_ani'
	DB	'm.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA DD 066H ; `animate_vehicle_loading_doors'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
;	COMDAT ?set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z
_TEXT	SEGMENT
tv143 = -76						; size = 4
tv83 = -76						; size = 4
tv135 = -72						; size = 4
tv75 = -72						; size = 4
_inst3d$ = -4						; size = 4
_en$ = 8						; size = 4
_state$ = 12						; size = 4
?set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z PROC	; set_vehicle_headlight_state, COMDAT

; 332  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 333  : 	object_3d_instance
; 334  : 		*inst3d;
; 335  : 
; 336  : 	ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@set_vehicl
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_vehicl:

; 337  : 
; 338  : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (en, PTR_TYPE_INSTANCE_3D_OBJECT);

  00027	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN5@set_vehicl
  0002d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d b8	 mov	 DWORD PTR tv75[ebp], ecx
  00035	eb 21		 jmp	 SHORT $LN6@set_vehicl
$LN5@set_vehicl:
  00037	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA
  0003d	83 c2 06	 add	 edx, 6
  00040	52		 push	 edx
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00051	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN6@set_vehicl:
  00058	b9 01 00 00 00	 mov	 ecx, 1
  0005d	85 c9		 test	 ecx, ecx
  0005f	74 09		 je	 SHORT $LN7@set_vehicl
  00061	c7 45 b4 02 00
	00 00		 mov	 DWORD PTR tv83[ebp], 2
  00068	eb 21		 jmp	 SHORT $LN8@set_vehicl
$LN7@set_vehicl:
  0006a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA
  00070	83 c2 06	 add	 edx, 6
  00073	52		 push	 edx
  00074	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00084	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN8@set_vehicl:
  0008b	6a 02		 push	 2
  0008d	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00090	51		 push	 ecx
  00091	6b 55 b8 50	 imul	 edx, DWORD PTR tv75[ebp], 80
  00095	8b 45 b4	 mov	 eax, DWORD PTR tv83[ebp]
  00098	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  0009f	ff d1		 call	 ecx
  000a1	89 45 fc	 mov	 DWORD PTR _inst3d$[ebp], eax

; 339  : 
; 340  : 	ASSERT (inst3d);

  000a4	83 7d fc 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000a8	75 18		 jne	 SHORT $LN3@set_vehicl
  000aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA
  000af	83 c0 08	 add	 eax, 8
  000b2	50		 push	 eax
  000b3	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b8	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  000bd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@set_vehicl:

; 341  : 
; 342  : 	set_sub_object_type_visible_status (inst3d, OBJECT_3D_SUB_OBJECT_EFFECT_HEADLIGHTS, state);

  000c2	8b 45 0c	 mov	 eax, DWORD PTR _state$[ebp]
  000c5	50		 push	 eax
  000c6	68 19 01 00 00	 push	 281			; 00000119H
  000cb	8b 4d fc	 mov	 ecx, DWORD PTR _inst3d$[ebp]
  000ce	51		 push	 ecx
  000cf	e8 00 00 00 00	 call	 ?set_sub_object_type_visible_status@@YGHPAUOBJECT_3D_INSTANCE@@HH@Z ; set_sub_object_type_visible_status

; 343  : 
; 344  : 	set_local_entity_int_value (en, INT_TYPE_LIGHTS_ON, state);

  000d4	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000d8	74 0a		 je	 SHORT $LN9@set_vehicl
  000da	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000dd	8b 08		 mov	 ecx, DWORD PTR [eax]
  000df	89 4d b8	 mov	 DWORD PTR tv135[ebp], ecx
  000e2	eb 21		 jmp	 SHORT $LN10@set_vehicl
$LN9@set_vehicl:
  000e4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA
  000ea	83 c2 0c	 add	 edx, 12			; 0000000cH
  000ed	52		 push	 edx
  000ee	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000f8	50		 push	 eax
  000f9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000fe	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv135[ebp], 0
$LN10@set_vehicl:
  00105	b9 01 00 00 00	 mov	 ecx, 1
  0010a	85 c9		 test	 ecx, ecx
  0010c	74 09		 je	 SHORT $LN11@set_vehicl
  0010e	c7 45 b4 7a 00
	00 00		 mov	 DWORD PTR tv143[ebp], 122 ; 0000007aH
  00115	eb 21		 jmp	 SHORT $LN12@set_vehicl
$LN11@set_vehicl:
  00117	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z@4JA
  0011d	83 c2 0c	 add	 edx, 12			; 0000000cH
  00120	52		 push	 edx
  00121	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00126	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0012b	50		 push	 eax
  0012c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00131	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv143[ebp], 0
$LN12@set_vehicl:
  00138	8b 4d 0c	 mov	 ecx, DWORD PTR _state$[ebp]
  0013b	51		 push	 ecx
  0013c	6a 7a		 push	 122			; 0000007aH
  0013e	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00141	52		 push	 edx
  00142	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv135[ebp], 1116
  00149	8b 4d b4	 mov	 ecx, DWORD PTR tv143[ebp]
  0014c	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*4]
  00153	ff d2		 call	 edx

; 345  : }

  00155	5f		 pop	 edi
  00156	5e		 pop	 esi
  00157	5b		 pop	 ebx
  00158	8b e5		 mov	 esp, ebp
  0015a	5d		 pop	 ebp
  0015b	c2 08 00	 ret	 8
?set_vehicle_headlight_state@@YGXPAUENTITY@@H@Z ENDP	; set_vehicle_headlight_state
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
;	COMDAT ?update_vehicle_radar@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_vehicle_radar@@YGXPAUENTITY@@@Z PROC		; update_vehicle_radar, COMDAT

; 306  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 307  : 	vehicle
; 308  : 		*raw;
; 309  : 
; 310  : 	//
; 311  : 	// updates the radar rotation ( regardless of whether the vehicle is drawn or not )
; 312  : 	//
; 313  : 
; 314  : 	ASSERT( en );

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@update_veh
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_vehicle_radar@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 08	 add	 eax, 8
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@update_veh:

; 315  : 
; 316  : 	raw = (vehicle *) get_local_entity_data( en );

  00027	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0002d	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 317  : 
; 318  : 	update_entity_simple_keyframed_value( en, &raw->radar_rotation_state, 0.16666 );

  00030	51		 push	 ecx
  00031	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e2aa8eb
  00039	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0003e	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00041	05 f4 00 00 00	 add	 eax, 244		; 000000f4H
  00046	50		 push	 eax
  00047	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0004a	51		 push	 ecx
  0004b	e8 00 00 00 00	 call	 ?update_entity_simple_keyframed_value@@YGHPAUENTITY@@PAMM@Z ; update_entity_simple_keyframed_value

; 319  : }

  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	8b e5		 mov	 esp, ebp
  00055	5d		 pop	 ebp
  00056	c2 04 00	 ret	 4
?update_vehicle_radar@@YGXPAUENTITY@@@Z ENDP		; update_vehicle_radar
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
;	COMDAT ?animate_vehicle_radar@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv81 = -76						; size = 4
tv74 = -72						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?animate_vehicle_radar@@YGXPAUENTITY@@@Z PROC		; animate_vehicle_radar, COMDAT

; 281  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 282  : 	vehicle
; 283  : 		*raw;
; 284  : 
; 285  : 	//
; 286  : 	// articulate the radar on the 3d objects
; 287  : 	//
; 288  : 
; 289  : 	ASSERT( en );

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@animate_ve
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??animate_vehicle_radar@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 08	 add	 eax, 8
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@animate_ve:

; 290  : 
; 291  : 	if (get_local_entity_int_value (en, INT_TYPE_OBJECT_DRAWN_ONCE_THIS_FRAME))

  00027	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN5@animate_ve
  0002d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d b8	 mov	 DWORD PTR tv74[ebp], ecx
  00035	eb 1d		 jmp	 SHORT $LN6@animate_ve
$LN5@animate_ve:
  00037	68 23 01 00 00	 push	 291			; 00000123H
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00047	52		 push	 edx
  00048	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004d	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN6@animate_ve:
  00054	b8 01 00 00 00	 mov	 eax, 1
  00059	85 c0		 test	 eax, eax
  0005b	74 09		 je	 SHORT $LN7@animate_ve
  0005d	c7 45 b4 93 00
	00 00		 mov	 DWORD PTR tv81[ebp], 147 ; 00000093H
  00064	eb 1d		 jmp	 SHORT $LN8@animate_ve
$LN7@animate_ve:
  00066	68 23 01 00 00	 push	 291			; 00000123H
  0006b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00070	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00076	51		 push	 ecx
  00077	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN8@animate_ve:
  00083	68 93 00 00 00	 push	 147			; 00000093H
  00088	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0008b	52		 push	 edx
  0008c	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv74[ebp], 1116
  00093	8b 4d b4	 mov	 ecx, DWORD PTR tv81[ebp]
  00096	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0009d	ff d2		 call	 edx
  0009f	85 c0		 test	 eax, eax
  000a1	74 02		 je	 SHORT $LN3@animate_ve

; 292  : 	{
; 293  : 		return;

  000a3	eb 2b		 jmp	 SHORT $LN1@animate_ve
$LN3@animate_ve:

; 294  : 	}
; 295  : 
; 296  : 	raw = (vehicle *) get_local_entity_data( en );

  000a5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000a8	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000ab	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 297  : 
; 298  : 	animate_entity_simple_keyframed_sub_objects( raw->inst3d, OBJECT_3D_SUB_OBJECT_RADAR, raw->radar_rotation_state );

  000ae	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000b1	51		 push	 ecx
  000b2	f3 0f 10 80 f4
	00 00 00	 movss	 xmm0, DWORD PTR [eax+244]
  000ba	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000bf	6a 67		 push	 103			; 00000067H
  000c1	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  000c4	8b 91 84 00 00
	00		 mov	 edx, DWORD PTR [ecx+132]
  000ca	52		 push	 edx
  000cb	e8 00 00 00 00	 call	 ?animate_entity_simple_keyframed_sub_objects@@YGXPAUOBJECT_3D_INSTANCE@@HM@Z ; animate_entity_simple_keyframed_sub_objects
$LN1@animate_ve:

; 299  : }

  000d0	5f		 pop	 edi
  000d1	5e		 pop	 esi
  000d2	5b		 pop	 ebx
  000d3	8b e5		 mov	 esp, ebp
  000d5	5d		 pop	 ebp
  000d6	c2 04 00	 ret	 4
?animate_vehicle_radar@@YGXPAUENTITY@@@Z ENDP		; animate_vehicle_radar
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
;	COMDAT ?update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv76 = -76						; size = 4
_wsr_state$ = -8					; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z PROC ; update_vehicle_weapon_system_ready, COMDAT

; 225  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 226  : 	vehicle
; 227  : 		*raw;
; 228  : 
; 229  : 	int
; 230  : 		wsr_state;
; 231  : 
; 232  : 	//
; 233  : 	// updates the weapon system ready status ( regardless of whether the vehicle is drawn or not )
; 234  : 	//
; 235  : 
; 236  : 	ASSERT( en );

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@update_veh
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 0b	 add	 eax, 11			; 0000000bH
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@update_veh:

; 237  : 
; 238  : 	raw = (vehicle *) get_local_entity_data( en );

  00027	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0002d	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 239  : 
; 240  : 	wsr_state = update_entity_reversable_keyframed_value( en, &raw->weapon_system_ready_state, 0.5 );

  00030	51		 push	 ecx
  00031	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00039	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0003e	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00041	05 08 01 00 00	 add	 eax, 264		; 00000108H
  00046	50		 push	 eax
  00047	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0004a	51		 push	 ecx
  0004b	e8 00 00 00 00	 call	 ?update_entity_reversable_keyframed_value@@YGHPAUENTITY@@PAMM@Z ; update_entity_reversable_keyframed_value
  00050	89 45 f8	 mov	 DWORD PTR _wsr_state$[ebp], eax

; 241  : 
; 242  : 	if ( in_flight_articulation_test )

  00053	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?in_flight_articulation_test@@3HA, 0 ; in_flight_articulation_test
  0005a	74 28		 je	 SHORT $LN2@update_veh

; 243  : 	{
; 244  : 		switch ( wsr_state )

  0005c	8b 45 f8	 mov	 eax, DWORD PTR _wsr_state$[ebp]
  0005f	89 45 b4	 mov	 DWORD PTR tv76[ebp], eax
  00062	83 7d b4 00	 cmp	 DWORD PTR tv76[ebp], 0
  00066	74 08		 je	 SHORT $LN6@update_veh
  00068	83 7d b4 02	 cmp	 DWORD PTR tv76[ebp], 2
  0006c	74 0d		 je	 SHORT $LN7@update_veh
  0006e	eb 14		 jmp	 SHORT $LN2@update_veh
$LN6@update_veh:

; 245  : 		{
; 246  : 			//////////////////////////////////////////////////
; 247  : 			case 0:
; 248  : 			//////////////////////////////////////////////////
; 249  : 			{
; 250  : 				open_entity_weapon_system_ready( en );

  00070	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00073	50		 push	 eax
  00074	e8 00 00 00 00	 call	 ?open_entity_weapon_system_ready@@YGXPAUENTITY@@@Z ; open_entity_weapon_system_ready

; 251  : 
; 252  : 				break;

  00079	eb 09		 jmp	 SHORT $LN2@update_veh
$LN7@update_veh:

; 253  : 			}
; 254  : 			//////////////////////////////////////////////////
; 255  : 			case 2:
; 256  : 			//////////////////////////////////////////////////
; 257  : 			{
; 258  : 				close_entity_weapon_system_ready( en );

  0007b	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?close_entity_weapon_system_ready@@YGXPAUENTITY@@@Z ; close_entity_weapon_system_ready
$LN2@update_veh:

; 259  : 
; 260  : 				break;
; 261  : 			}
; 262  : 		}
; 263  : 	}
; 264  : }

  00084	5f		 pop	 edi
  00085	5e		 pop	 esi
  00086	5b		 pop	 ebx
  00087	8b e5		 mov	 esp, ebp
  00089	5d		 pop	 ebp
  0008a	c2 04 00	 ret	 4
?update_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z ENDP ; update_vehicle_weapon_system_ready
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
;	COMDAT ?animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv81 = -76						; size = 4
tv74 = -72						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z PROC ; animate_vehicle_weapon_system_ready, COMDAT

; 200  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 201  : 	vehicle
; 202  : 		*raw;
; 203  : 
; 204  : 	//
; 205  : 	// articulate the "weapon system readies" on the 3d objects
; 206  : 	//
; 207  : 
; 208  : 	ASSERT( en );

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@animate_ve
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 08	 add	 eax, 8
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@animate_ve:

; 209  : 
; 210  : 	if (get_local_entity_int_value (en, INT_TYPE_OBJECT_DRAWN_ONCE_THIS_FRAME))

  00027	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN5@animate_ve
  0002d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d b8	 mov	 DWORD PTR tv74[ebp], ecx
  00035	eb 1d		 jmp	 SHORT $LN6@animate_ve
$LN5@animate_ve:
  00037	68 d2 00 00 00	 push	 210			; 000000d2H
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00047	52		 push	 edx
  00048	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004d	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN6@animate_ve:
  00054	b8 01 00 00 00	 mov	 eax, 1
  00059	85 c0		 test	 eax, eax
  0005b	74 09		 je	 SHORT $LN7@animate_ve
  0005d	c7 45 b4 93 00
	00 00		 mov	 DWORD PTR tv81[ebp], 147 ; 00000093H
  00064	eb 1d		 jmp	 SHORT $LN8@animate_ve
$LN7@animate_ve:
  00066	68 d2 00 00 00	 push	 210			; 000000d2H
  0006b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00070	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00076	51		 push	 ecx
  00077	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN8@animate_ve:
  00083	68 93 00 00 00	 push	 147			; 00000093H
  00088	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  0008b	52		 push	 edx
  0008c	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv74[ebp], 1116
  00093	8b 4d b4	 mov	 ecx, DWORD PTR tv81[ebp]
  00096	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0009d	ff d2		 call	 edx
  0009f	85 c0		 test	 eax, eax
  000a1	74 02		 je	 SHORT $LN3@animate_ve

; 211  : 	{
; 212  : 		return;

  000a3	eb 2e		 jmp	 SHORT $LN1@animate_ve
$LN3@animate_ve:

; 213  : 	}
; 214  : 
; 215  : 	raw = (vehicle *) get_local_entity_data( en );

  000a5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000a8	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000ab	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 216  : 
; 217  : 	animate_entity_reversable_keyframed_sub_objects( raw->inst3d, OBJECT_3D_SUB_OBJECT_WEAPON_SYSTEM_READY, raw->weapon_system_ready_state );

  000ae	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000b1	51		 push	 ecx
  000b2	f3 0f 10 80 08
	01 00 00	 movss	 xmm0, DWORD PTR [eax+264]
  000ba	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000bf	68 e3 00 00 00	 push	 227			; 000000e3H
  000c4	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  000c7	8b 91 84 00 00
	00		 mov	 edx, DWORD PTR [ecx+132]
  000cd	52		 push	 edx
  000ce	e8 00 00 00 00	 call	 ?animate_entity_reversable_keyframed_sub_objects@@YGXPAUOBJECT_3D_INSTANCE@@HM@Z ; animate_entity_reversable_keyframed_sub_objects
$LN1@animate_ve:

; 218  : }

  000d3	5f		 pop	 edi
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 04 00	 ret	 4
?animate_vehicle_weapon_system_ready@@YGXPAUENTITY@@@Z ENDP ; animate_vehicle_weapon_system_ready
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
;	COMDAT ?update_vehicle_loading_doors@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv77 = -76						; size = 4
_door_state$ = -8					; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_vehicle_loading_doors@@YGXPAUENTITY@@@Z PROC	; update_vehicle_loading_doors, COMDAT

; 136  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 137  : 	vehicle
; 138  : 		*raw;
; 139  : 
; 140  : 	int
; 141  : 		door_state;
; 142  : 
; 143  : 	//
; 144  : 	// updates the doors status ( regardless of whether the vehicle is drawn or not )
; 145  : 	//
; 146  : 
; 147  : 	ASSERT( en );

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@update_veh
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 0b	 add	 eax, 11			; 0000000bH
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@update_veh:

; 148  : 
; 149  : 	raw = (vehicle *) get_local_entity_data( en );

  00027	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0002d	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 150  : 
; 151  : 	door_state = update_entity_reversable_keyframed_value( en, &raw->loading_door_state, 0.5 );

  00030	51		 push	 ecx
  00031	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00039	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0003e	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00041	05 f0 00 00 00	 add	 eax, 240		; 000000f0H
  00046	50		 push	 eax
  00047	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0004a	51		 push	 ecx
  0004b	e8 00 00 00 00	 call	 ?update_entity_reversable_keyframed_value@@YGHPAUENTITY@@PAMM@Z ; update_entity_reversable_keyframed_value
  00050	89 45 f8	 mov	 DWORD PTR _door_state$[ebp], eax

; 152  : 
; 153  : 	if ( ( in_flight_articulation_test ) && ( get_comms_model() == COMMS_MODEL_SERVER ) )

  00053	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?in_flight_articulation_test@@3HA, 0 ; in_flight_articulation_test
  0005a	74 31		 je	 SHORT $LN2@update_veh
  0005c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A, 0 ; system_comms_model
  00063	75 28		 jne	 SHORT $LN2@update_veh

; 154  : 	{
; 155  : 		switch ( door_state )

  00065	8b 45 f8	 mov	 eax, DWORD PTR _door_state$[ebp]
  00068	89 45 b4	 mov	 DWORD PTR tv77[ebp], eax
  0006b	83 7d b4 00	 cmp	 DWORD PTR tv77[ebp], 0
  0006f	74 08		 je	 SHORT $LN6@update_veh
  00071	83 7d b4 02	 cmp	 DWORD PTR tv77[ebp], 2
  00075	74 0d		 je	 SHORT $LN7@update_veh
  00077	eb 14		 jmp	 SHORT $LN2@update_veh
$LN6@update_veh:

; 156  : 		{
; 157  : 			//////////////////////////////////////////////////
; 158  : 			case 0:
; 159  : 			//////////////////////////////////////////////////
; 160  : 			{
; 161  : 				open_client_server_entity_loading_doors( en );

  00079	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0007c	50		 push	 eax
  0007d	e8 00 00 00 00	 call	 ?open_client_server_entity_loading_doors@@YGXPAUENTITY@@@Z ; open_client_server_entity_loading_doors

; 162  : 
; 163  : 				break;

  00082	eb 09		 jmp	 SHORT $LN2@update_veh
$LN7@update_veh:

; 164  : 			}
; 165  : 			//////////////////////////////////////////////////
; 166  : 			case 2:
; 167  : 			//////////////////////////////////////////////////
; 168  : 			{
; 169  : 				close_client_server_entity_loading_doors( en );

  00084	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?close_client_server_entity_loading_doors@@YGXPAUENTITY@@@Z ; close_client_server_entity_loading_doors
$LN2@update_veh:

; 170  : 
; 171  : 				break;
; 172  : 			}
; 173  : 		}
; 174  : 	}
; 175  : }

  0008d	5f		 pop	 edi
  0008e	5e		 pop	 esi
  0008f	5b		 pop	 ebx
  00090	8b e5		 mov	 esp, ebp
  00092	5d		 pop	 ebp
  00093	c2 04 00	 ret	 4
?update_vehicle_loading_doors@@YGXPAUENTITY@@@Z ENDP	; update_vehicle_loading_doors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\vehicle\vh_anim.c
;	COMDAT ?animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv81 = -76						; size = 4
tv93 = -72						; size = 4
tv74 = -72						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z PROC	; animate_vehicle_loading_doors, COMDAT

; 102  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 103  : 	vehicle
; 104  : 		*raw;
; 105  : 
; 106  : 	//
; 107  : 	// articulate the doors on the 3d objects
; 108  : 	//
; 109  : 
; 110  : 	ASSERT( en );

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@animate_ve
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 08	 add	 eax, 8
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@animate_ve:

; 111  : 
; 112  : 	if (get_local_entity_int_value (en, INT_TYPE_OBJECT_DRAWN_ONCE_THIS_FRAME))

  00027	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN6@animate_ve
  0002d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d b8	 mov	 DWORD PTR tv74[ebp], ecx
  00035	eb 1a		 jmp	 SHORT $LN7@animate_ve
$LN6@animate_ve:
  00037	6a 70		 push	 112			; 00000070H
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00044	52		 push	 edx
  00045	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004a	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN7@animate_ve:
  00051	b8 01 00 00 00	 mov	 eax, 1
  00056	85 c0		 test	 eax, eax
  00058	74 09		 je	 SHORT $LN8@animate_ve
  0005a	c7 45 b4 93 00
	00 00		 mov	 DWORD PTR tv81[ebp], 147 ; 00000093H
  00061	eb 1a		 jmp	 SHORT $LN9@animate_ve
$LN8@animate_ve:
  00063	6a 70		 push	 112			; 00000070H
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00070	51		 push	 ecx
  00071	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00076	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN9@animate_ve:
  0007d	68 93 00 00 00	 push	 147			; 00000093H
  00082	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00085	52		 push	 edx
  00086	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv74[ebp], 1116
  0008d	8b 4d b4	 mov	 ecx, DWORD PTR tv81[ebp]
  00090	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00097	ff d2		 call	 edx
  00099	85 c0		 test	 eax, eax
  0009b	74 02		 je	 SHORT $LN3@animate_ve

; 113  : 	{
; 114  : 		return;

  0009d	eb 5d		 jmp	 SHORT $LN1@animate_ve
$LN3@animate_ve:

; 115  : 	}
; 116  : 
; 117  : 	if (get_local_entity_type (en) != ENTITY_TYPE_SHIP_VEHICLE)

  0009f	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000a3	74 0a		 je	 SHORT $LN10@animate_ve
  000a5	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000a8	8b 08		 mov	 ecx, DWORD PTR [eax]
  000aa	89 4d b8	 mov	 DWORD PTR tv93[ebp], ecx
  000ad	eb 1a		 jmp	 SHORT $LN11@animate_ve
$LN10@animate_ve:
  000af	6a 75		 push	 117			; 00000075H
  000b1	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@LCPBDLEL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000bc	52		 push	 edx
  000bd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c2	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv93[ebp], 0
$LN11@animate_ve:
  000c9	83 7d b8 1c	 cmp	 DWORD PTR tv93[ebp], 28	; 0000001cH
  000cd	74 02		 je	 SHORT $LN4@animate_ve

; 118  : 	{
; 119  : 		//
; 120  : 		// Don't animate ship doors until we've sorted out what's happening with them
; 121  : 		//
; 122  : 
; 123  : 		return;

  000cf	eb 2b		 jmp	 SHORT $LN1@animate_ve
$LN4@animate_ve:

; 124  : 	}
; 125  : 
; 126  : 	raw = (vehicle *) get_local_entity_data( en );

  000d1	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000d4	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000d7	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 127  : 
; 128  : 	animate_entity_reversable_keyframed_sub_objects( raw->inst3d, OBJECT_3D_SUB_OBJECT_LOADING_DOOR, raw->loading_door_state );

  000da	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000dd	51		 push	 ecx
  000de	f3 0f 10 80 f0
	00 00 00	 movss	 xmm0, DWORD PTR [eax+240]
  000e6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000eb	6a 31		 push	 49			; 00000031H
  000ed	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  000f0	8b 91 84 00 00
	00		 mov	 edx, DWORD PTR [ecx+132]
  000f6	52		 push	 edx
  000f7	e8 00 00 00 00	 call	 ?animate_entity_reversable_keyframed_sub_objects@@YGXPAUOBJECT_3D_INSTANCE@@HM@Z ; animate_entity_reversable_keyframed_sub_objects
$LN1@animate_ve:

; 129  : }

  000fc	5f		 pop	 edi
  000fd	5e		 pop	 esi
  000fe	5b		 pop	 ebx
  000ff	8b e5		 mov	 esp, ebp
  00101	5d		 pop	 ebp
  00102	c2 04 00	 ret	 4
?animate_vehicle_loading_doors@@YGXPAUENTITY@@@Z ENDP	; animate_vehicle_loading_doors
_TEXT	ENDS
END
