; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\system\sysinput.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?direct_input@@3PAUIDirectInput7A@@A		; direct_input
PUBLIC	?input_system_type@@3W4INPUT_TYPES@@A		; input_system_type
PUBLIC	??_C@_0P@CNAPMOHC@DI_NOTATTACHED@		; `string'
PUBLIC	??_C@_0BC@HMFIHLG@DI_BUFFEROVERFLOW@		; `string'
PUBLIC	??_C@_0BA@PPNOJAHJ@DI_PROPNOEFFECT@		; `string'
PUBLIC	??_C@_0M@KMPIFKOE@DI_NOEFFECT@			; `string'
PUBLIC	??_C@_0BA@EPCKILLH@DI_POLLEDDEVICE@		; `string'
PUBLIC	??_C@_0BD@IGKCMNM@DI_DOWNLOADSKIPPED@		; `string'
PUBLIC	??_C@_0BD@GAMCJALA@DI_EFFECTRESTARTED@		; `string'
PUBLIC	??_C@_0N@GEOOAOGD@DI_TRUNCATED@			; `string'
PUBLIC	??_C@_0BJ@PPONAPDI@DI_TRUNCATEDANDRESTARTED@	; `string'
PUBLIC	??_C@_0BM@FGIBEKPK@DIERR_OLDDIRECTINPUTVERSION@	; `string'
PUBLIC	??_C@_0BN@FFKALFMN@DIERR_BETADIRECTINPUTVERSION@ ; `string'
PUBLIC	??_C@_0BD@NCNAKIOE@DIERR_BADDRIVERVER@		; `string'
PUBLIC	??_C@_0BD@FMHOIMKN@DIERR_DEVICENOTREG@		; `string'
PUBLIC	??_C@_0P@LPHMIDHO@DIERR_NOTFOUND@		; `string'
PUBLIC	??_C@_0BF@GBLDAIGK@DIERR_OBJECTNOTFOUND@	; `string'
PUBLIC	??_C@_0BD@PCBHGFBD@DIERR_INVALIDPARAM@		; `string'
PUBLIC	??_C@_0BC@OKFLIMII@DIERR_NOINTERFACE@		; `string'
PUBLIC	??_C@_0O@IBGAFJOJ@DIERR_GENERIC@		; `string'
PUBLIC	??_C@_0BC@IHLCNKJJ@DIERR_OUTOFMEMORY@		; `string'
PUBLIC	??_C@_0BC@KJJDKAPN@DIERR_UNSUPPORTED@		; `string'
PUBLIC	??_C@_0BF@INBHFIBN@DIERR_NOTINITIALIZED@	; `string'
PUBLIC	??_C@_0BJ@IKGGGNFD@DIERR_ALREADYINITIALIZED@	; `string'
PUBLIC	??_C@_0BE@DDAOAFOB@DIERR_NOAGGREGATION@		; `string'
PUBLIC	??_C@_0BG@BPEDDOHL@DIERR_OTHERAPPHASPRIO@	; `string'
PUBLIC	??_C@_0BA@OLDKOKEA@DIERR_INPUTLOST@		; `string'
PUBLIC	??_C@_0P@PONCCEIK@DIERR_ACQUIRED@		; `string'
PUBLIC	??_C@_0BC@MCDCNLAF@DIERR_NOTACQUIRED@		; `string'
PUBLIC	??_C@_0P@GHJGFEFN@DIERR_READONLY@		; `string'
PUBLIC	??_C@_0BD@PEOCCDFL@DIERR_HANDLEEXISTS@		; `string'
PUBLIC	??_C@_0BI@FNBGCMJK@DIERR_INSUFFICIENTPRIVS@	; `string'
PUBLIC	??_C@_0BB@POLJKMIA@DIERR_DEVICEFULL@		; `string'
PUBLIC	??_C@_0P@KHNINLBF@DIERR_MOREDATA@		; `string'
PUBLIC	??_C@_0BE@KPGCHIBI@DIERR_NOTDOWNLOADED@		; `string'
PUBLIC	??_C@_0BB@NJGBBNPB@DIERR_HASEFFECTS@		; `string'
PUBLIC	??_C@_0BL@PDLDPEOA@DIERR_NOTEXCLUSIVEACQUIRED@	; `string'
PUBLIC	??_C@_0BH@IEOHCKK@DIERR_INCOMPLETEEFFECT@	; `string'
PUBLIC	??_C@_0BC@KDKAOABI@DIERR_NOTBUFFERED@		; `string'
PUBLIC	??_C@_0BE@LDGKMDCA@DIERR_EFFECTPLAYING@		; `string'
PUBLIC	??_C@_05HEDCGPNJ@DI_OK@				; `string'
_BSS	SEGMENT
?direct_input@@3PAUIDirectInput7A@@A DD 01H DUP (?)	; direct_input
?input_system_type@@3W4INPUT_TYPES@@A DD 01H DUP (?)	; input_system_type
_BSS	ENDS
;	COMDAT ??_C@_05HEDCGPNJ@DI_OK@
CONST	SEGMENT
??_C@_05HEDCGPNJ@DI_OK@ DB 'DI_OK', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@LDGKMDCA@DIERR_EFFECTPLAYING@
CONST	SEGMENT
??_C@_0BE@LDGKMDCA@DIERR_EFFECTPLAYING@ DB 'DIERR_EFFECTPLAYING', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@KDKAOABI@DIERR_NOTBUFFERED@
CONST	SEGMENT
??_C@_0BC@KDKAOABI@DIERR_NOTBUFFERED@ DB 'DIERR_NOTBUFFERED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@IEOHCKK@DIERR_INCOMPLETEEFFECT@
CONST	SEGMENT
??_C@_0BH@IEOHCKK@DIERR_INCOMPLETEEFFECT@ DB 'DIERR_INCOMPLETEEFFECT', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@PDLDPEOA@DIERR_NOTEXCLUSIVEACQUIRED@
CONST	SEGMENT
??_C@_0BL@PDLDPEOA@DIERR_NOTEXCLUSIVEACQUIRED@ DB 'DIERR_NOTEXCLUSIVEACQU'
	DB	'IRED', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@NJGBBNPB@DIERR_HASEFFECTS@
CONST	SEGMENT
??_C@_0BB@NJGBBNPB@DIERR_HASEFFECTS@ DB 'DIERR_HASEFFECTS', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@KPGCHIBI@DIERR_NOTDOWNLOADED@
CONST	SEGMENT
??_C@_0BE@KPGCHIBI@DIERR_NOTDOWNLOADED@ DB 'DIERR_NOTDOWNLOADED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@KHNINLBF@DIERR_MOREDATA@
CONST	SEGMENT
??_C@_0P@KHNINLBF@DIERR_MOREDATA@ DB 'DIERR_MOREDATA', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@POLJKMIA@DIERR_DEVICEFULL@
CONST	SEGMENT
??_C@_0BB@POLJKMIA@DIERR_DEVICEFULL@ DB 'DIERR_DEVICEFULL', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@FNBGCMJK@DIERR_INSUFFICIENTPRIVS@
CONST	SEGMENT
??_C@_0BI@FNBGCMJK@DIERR_INSUFFICIENTPRIVS@ DB 'DIERR_INSUFFICIENTPRIVS', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@PEOCCDFL@DIERR_HANDLEEXISTS@
CONST	SEGMENT
??_C@_0BD@PEOCCDFL@DIERR_HANDLEEXISTS@ DB 'DIERR_HANDLEEXISTS', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@GHJGFEFN@DIERR_READONLY@
CONST	SEGMENT
??_C@_0P@GHJGFEFN@DIERR_READONLY@ DB 'DIERR_READONLY', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@MCDCNLAF@DIERR_NOTACQUIRED@
CONST	SEGMENT
??_C@_0BC@MCDCNLAF@DIERR_NOTACQUIRED@ DB 'DIERR_NOTACQUIRED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@PONCCEIK@DIERR_ACQUIRED@
CONST	SEGMENT
??_C@_0P@PONCCEIK@DIERR_ACQUIRED@ DB 'DIERR_ACQUIRED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@OLDKOKEA@DIERR_INPUTLOST@
CONST	SEGMENT
??_C@_0BA@OLDKOKEA@DIERR_INPUTLOST@ DB 'DIERR_INPUTLOST', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@BPEDDOHL@DIERR_OTHERAPPHASPRIO@
CONST	SEGMENT
??_C@_0BG@BPEDDOHL@DIERR_OTHERAPPHASPRIO@ DB 'DIERR_OTHERAPPHASPRIO', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@DDAOAFOB@DIERR_NOAGGREGATION@
CONST	SEGMENT
??_C@_0BE@DDAOAFOB@DIERR_NOAGGREGATION@ DB 'DIERR_NOAGGREGATION', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@IKGGGNFD@DIERR_ALREADYINITIALIZED@
CONST	SEGMENT
??_C@_0BJ@IKGGGNFD@DIERR_ALREADYINITIALIZED@ DB 'DIERR_ALREADYINITIALIZED'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@INBHFIBN@DIERR_NOTINITIALIZED@
CONST	SEGMENT
??_C@_0BF@INBHFIBN@DIERR_NOTINITIALIZED@ DB 'DIERR_NOTINITIALIZED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@KJJDKAPN@DIERR_UNSUPPORTED@
CONST	SEGMENT
??_C@_0BC@KJJDKAPN@DIERR_UNSUPPORTED@ DB 'DIERR_UNSUPPORTED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@IHLCNKJJ@DIERR_OUTOFMEMORY@
CONST	SEGMENT
??_C@_0BC@IHLCNKJJ@DIERR_OUTOFMEMORY@ DB 'DIERR_OUTOFMEMORY', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@IBGAFJOJ@DIERR_GENERIC@
CONST	SEGMENT
??_C@_0O@IBGAFJOJ@DIERR_GENERIC@ DB 'DIERR_GENERIC', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@OKFLIMII@DIERR_NOINTERFACE@
CONST	SEGMENT
??_C@_0BC@OKFLIMII@DIERR_NOINTERFACE@ DB 'DIERR_NOINTERFACE', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@PCBHGFBD@DIERR_INVALIDPARAM@
CONST	SEGMENT
??_C@_0BD@PCBHGFBD@DIERR_INVALIDPARAM@ DB 'DIERR_INVALIDPARAM', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@GBLDAIGK@DIERR_OBJECTNOTFOUND@
CONST	SEGMENT
??_C@_0BF@GBLDAIGK@DIERR_OBJECTNOTFOUND@ DB 'DIERR_OBJECTNOTFOUND', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@LPHMIDHO@DIERR_NOTFOUND@
CONST	SEGMENT
??_C@_0P@LPHMIDHO@DIERR_NOTFOUND@ DB 'DIERR_NOTFOUND', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FMHOIMKN@DIERR_DEVICENOTREG@
CONST	SEGMENT
??_C@_0BD@FMHOIMKN@DIERR_DEVICENOTREG@ DB 'DIERR_DEVICENOTREG', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@NCNAKIOE@DIERR_BADDRIVERVER@
CONST	SEGMENT
??_C@_0BD@NCNAKIOE@DIERR_BADDRIVERVER@ DB 'DIERR_BADDRIVERVER', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@FFKALFMN@DIERR_BETADIRECTINPUTVERSION@
CONST	SEGMENT
??_C@_0BN@FFKALFMN@DIERR_BETADIRECTINPUTVERSION@ DB 'DIERR_BETADIRECTINPU'
	DB	'TVERSION', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@FGIBEKPK@DIERR_OLDDIRECTINPUTVERSION@
CONST	SEGMENT
??_C@_0BM@FGIBEKPK@DIERR_OLDDIRECTINPUTVERSION@ DB 'DIERR_OLDDIRECTINPUTV'
	DB	'ERSION', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@PPONAPDI@DI_TRUNCATEDANDRESTARTED@
CONST	SEGMENT
??_C@_0BJ@PPONAPDI@DI_TRUNCATEDANDRESTARTED@ DB 'DI_TRUNCATEDANDRESTARTED'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@GEOOAOGD@DI_TRUNCATED@
CONST	SEGMENT
??_C@_0N@GEOOAOGD@DI_TRUNCATED@ DB 'DI_TRUNCATED', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@GAMCJALA@DI_EFFECTRESTARTED@
CONST	SEGMENT
??_C@_0BD@GAMCJALA@DI_EFFECTRESTARTED@ DB 'DI_EFFECTRESTARTED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@IGKCMNM@DI_DOWNLOADSKIPPED@
CONST	SEGMENT
??_C@_0BD@IGKCMNM@DI_DOWNLOADSKIPPED@ DB 'DI_DOWNLOADSKIPPED', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@EPCKILLH@DI_POLLEDDEVICE@
CONST	SEGMENT
??_C@_0BA@EPCKILLH@DI_POLLEDDEVICE@ DB 'DI_POLLEDDEVICE', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@KMPIFKOE@DI_NOEFFECT@
CONST	SEGMENT
??_C@_0M@KMPIFKOE@DI_NOEFFECT@ DB 'DI_NOEFFECT', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@PPNOJAHJ@DI_PROPNOEFFECT@
CONST	SEGMENT
??_C@_0BA@PPNOJAHJ@DI_PROPNOEFFECT@ DB 'DI_PROPNOEFFECT', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@HMFIHLG@DI_BUFFEROVERFLOW@
CONST	SEGMENT
??_C@_0BC@HMFIHLG@DI_BUFFEROVERFLOW@ DB 'DI_BUFFEROVERFLOW', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@CNAPMOHC@DI_NOTATTACHED@
CONST	SEGMENT
??_C@_0P@CNAPMOHC@DI_NOTATTACHED@ DB 'DI_NOTATTACHED', 00H ; `string'
CONST	ENDS
PUBLIC	?initialise_input_system@@YGXW4INPUT_TYPES@@@Z	; initialise_input_system
PUBLIC	?deinitialise_input_system@@YGXXZ		; deinitialise_input_system
PUBLIC	?get_dinput_error_message@@YGPBDJ@Z		; get_dinput_error_message
PUBLIC	??_C@_0BN@MEAFPJEB@Unable?5to?5create?5DirectInput@ ; `string'
EXTRN	_DirectInputCreateEx@20:PROC
EXTRN	?register_exit_function@@YGXP6GXXZ@Z:PROC	; register_exit_function
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?initialise_keyboard@@YGXXZ:PROC		; initialise_keyboard
EXTRN	?deinitialise_keyboard@@YGXXZ:PROC		; deinitialise_keyboard
EXTRN	?initialise_mouse@@YGXXZ:PROC			; initialise_mouse
EXTRN	?deinitialise_mouse@@YGXXZ:PROC			; deinitialise_mouse
EXTRN	_IID_IDirectInput7A:BYTE
EXTRN	?application_instance@@3PAUHINSTANCE__@@A:DWORD	; application_instance
_DATA	SEGMENT
?dinput_error_table@@3PAUDINPUT_ERROR_MESSAGE@@A DD 01H	; dinput_error_table
	DD	FLAT:??_C@_0P@CNAPMOHC@DI_NOTATTACHED@
	DD	01H
	DD	FLAT:??_C@_0BC@HMFIHLG@DI_BUFFEROVERFLOW@
	DD	01H
	DD	FLAT:??_C@_0BA@PPNOJAHJ@DI_PROPNOEFFECT@
	DD	01H
	DD	FLAT:??_C@_0M@KMPIFKOE@DI_NOEFFECT@
	DD	02H
	DD	FLAT:??_C@_0BA@EPCKILLH@DI_POLLEDDEVICE@
	DD	03H
	DD	FLAT:??_C@_0BD@IGKCMNM@DI_DOWNLOADSKIPPED@
	DD	04H
	DD	FLAT:??_C@_0BD@GAMCJALA@DI_EFFECTRESTARTED@
	DD	08H
	DD	FLAT:??_C@_0N@GEOOAOGD@DI_TRUNCATED@
	DD	0cH
	DD	FLAT:??_C@_0BJ@PPONAPDI@DI_TRUNCATEDANDRESTARTED@
	DD	08007047eH
	DD	FLAT:??_C@_0BM@FGIBEKPK@DIERR_OLDDIRECTINPUTVERSION@
	DD	080070481H
	DD	FLAT:??_C@_0BN@FFKALFMN@DIERR_BETADIRECTINPUTVERSION@
	DD	080070077H
	DD	FLAT:??_C@_0BD@NCNAKIOE@DIERR_BADDRIVERVER@
	DD	080040154H
	DD	FLAT:??_C@_0BD@FMHOIMKN@DIERR_DEVICENOTREG@
	DD	080070002H
	DD	FLAT:??_C@_0P@LPHMIDHO@DIERR_NOTFOUND@
	DD	080070002H
	DD	FLAT:??_C@_0BF@GBLDAIGK@DIERR_OBJECTNOTFOUND@
	DD	080070057H
	DD	FLAT:??_C@_0BD@PCBHGFBD@DIERR_INVALIDPARAM@
	DD	080004002H
	DD	FLAT:??_C@_0BC@OKFLIMII@DIERR_NOINTERFACE@
	DD	080004005H
	DD	FLAT:??_C@_0O@IBGAFJOJ@DIERR_GENERIC@
	DD	08007000eH
	DD	FLAT:??_C@_0BC@IHLCNKJJ@DIERR_OUTOFMEMORY@
	DD	080004001H
	DD	FLAT:??_C@_0BC@KJJDKAPN@DIERR_UNSUPPORTED@
	DD	080070015H
	DD	FLAT:??_C@_0BF@INBHFIBN@DIERR_NOTINITIALIZED@
	DD	0800704dfH
	DD	FLAT:??_C@_0BJ@IKGGGNFD@DIERR_ALREADYINITIALIZED@
	DD	080040110H
	DD	FLAT:??_C@_0BE@DDAOAFOB@DIERR_NOAGGREGATION@
	DD	080070005H
	DD	FLAT:??_C@_0BG@BPEDDOHL@DIERR_OTHERAPPHASPRIO@
	DD	08007001eH
	DD	FLAT:??_C@_0BA@OLDKOKEA@DIERR_INPUTLOST@
	DD	0800700aaH
	DD	FLAT:??_C@_0P@PONCCEIK@DIERR_ACQUIRED@
	DD	08007000cH
	DD	FLAT:??_C@_0BC@MCDCNLAF@DIERR_NOTACQUIRED@
	DD	080070005H
	DD	FLAT:??_C@_0P@GHJGFEFN@DIERR_READONLY@
	DD	080070005H
	DD	FLAT:??_C@_0BD@PEOCCDFL@DIERR_HANDLEEXISTS@
	DD	080040200H
	DD	FLAT:??_C@_0BI@FNBGCMJK@DIERR_INSUFFICIENTPRIVS@
	DD	080040201H
	DD	FLAT:??_C@_0BB@POLJKMIA@DIERR_DEVICEFULL@
	DD	080040202H
	DD	FLAT:??_C@_0P@KHNINLBF@DIERR_MOREDATA@
	DD	080040203H
	DD	FLAT:??_C@_0BE@KPGCHIBI@DIERR_NOTDOWNLOADED@
	DD	080040204H
	DD	FLAT:??_C@_0BB@NJGBBNPB@DIERR_HASEFFECTS@
	DD	080040205H
	DD	FLAT:??_C@_0BL@PDLDPEOA@DIERR_NOTEXCLUSIVEACQUIRED@
	DD	080040206H
	DD	FLAT:??_C@_0BH@IEOHCKK@DIERR_INCOMPLETEEFFECT@
	DD	080040207H
	DD	FLAT:??_C@_0BC@KDKAOABI@DIERR_NOTBUFFERED@
	DD	080040208H
	DD	FLAT:??_C@_0BE@LDGKMDCA@DIERR_EFFECTPLAYING@
	DD	00H
	DD	FLAT:??_C@_05HEDCGPNJ@DI_OK@
_DATA	ENDS
;	COMDAT ??_C@_0BN@MEAFPJEB@Unable?5to?5create?5DirectInput@
CONST	SEGMENT
??_C@_0BN@MEAFPJEB@Unable?5to?5create?5DirectInput@ DB 'Unable to create '
	DB	'DirectInput', 00H				; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\sysinput.c
;	COMDAT ?internal_initialise_input_system@@YGXXZ
_TEXT	SEGMENT
_ret$ = -4						; size = 4
?internal_initialise_input_system@@YGXXZ PROC		; internal_initialise_input_system, COMDAT

; 104  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 105  : 
; 106  : 	HRESULT
; 107  : 		ret;
; 108  : 
; 109  : 	//
; 110  : 	// We always need to create the DirectInput device - the joystick always uses it.
; 111  : 	//
; 112  : 
; 113  : 	ret = DirectInputCreateEx ( application_instance, DIRECTINPUT_VERSION, GUID_PREFIX IID_IDirectInput7, ( LPVOID * ) &direct_input, NULL );

  00009	6a 00		 push	 0
  0000b	68 00 00 00 00	 push	 OFFSET ?direct_input@@3PAUIDirectInput7A@@A ; direct_input
  00010	68 00 00 00 00	 push	 OFFSET _IID_IDirectInput7A
  00015	68 00 07 00 00	 push	 1792			; 00000700H
  0001a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?application_instance@@3PAUHINSTANCE__@@A ; application_instance
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 _DirectInputCreateEx@20
  00025	89 45 fc	 mov	 DWORD PTR _ret$[ebp], eax

; 114  : 
; 115  : 	if ( ret != DI_OK )

  00028	83 7d fc 00	 cmp	 DWORD PTR _ret$[ebp], 0
  0002c	74 0d		 je	 SHORT $LN2@internal_i

; 116  : 	{
; 117  : 
; 118  : 		debug_fatal ( "Unable to create DirectInput" );

  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@MEAFPJEB@Unable?5to?5create?5DirectInput@
  00033	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00038	83 c4 04	 add	 esp, 4
$LN2@internal_i:

; 119  : 	}
; 120  : 	
; 121  : 	initialise_keyboard ();

  0003b	e8 00 00 00 00	 call	 ?initialise_keyboard@@YGXXZ ; initialise_keyboard

; 122  : 
; 123  : 	initialise_mouse ();

  00040	e8 00 00 00 00	 call	 ?initialise_mouse@@YGXXZ ; initialise_mouse

; 124  : 
; 125  : 	register_exit_function ( deinitialise_input_system );

  00045	68 00 00 00 00	 push	 OFFSET ?deinitialise_input_system@@YGXXZ ; deinitialise_input_system
  0004a	e8 00 00 00 00	 call	 ?register_exit_function@@YGXP6GXXZ@Z ; register_exit_function

; 126  : }

  0004f	5f		 pop	 edi
  00050	5e		 pop	 esi
  00051	5b		 pop	 ebx
  00052	8b e5		 mov	 esp, ebp
  00054	5d		 pop	 ebp
  00055	c3		 ret	 0
?internal_initialise_input_system@@YGXXZ ENDP		; internal_initialise_input_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\sysinput.c
;	COMDAT ?get_dinput_error_message@@YGPBDJ@Z
_TEXT	SEGMENT
_count$ = -4						; size = 4
_error$ = 8						; size = 4
?get_dinput_error_message@@YGPBDJ@Z PROC		; get_dinput_error_message, COMDAT

; 215  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 216  : 
; 217  : 	int
; 218  : 		count;
; 219  : 
; 220  : 	count = 0;

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
$LN2@get_dinput:

; 221  : 
; 222  : 	while ( ( dinput_error_table[count].error != 0 ) && ( dinput_error_table[count].error != error ) )

  00010	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00013	83 3c c5 00 00
	00 00 00	 cmp	 DWORD PTR ?dinput_error_table@@3PAUDINPUT_ERROR_MESSAGE@@A[eax*8], 0
  0001b	74 1a		 je	 SHORT $LN3@get_dinput
  0001d	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00020	8b 0c c5 00 00
	00 00		 mov	 ecx, DWORD PTR ?dinput_error_table@@3PAUDINPUT_ERROR_MESSAGE@@A[eax*8]
  00027	3b 4d 08	 cmp	 ecx, DWORD PTR _error$[ebp]
  0002a	74 0b		 je	 SHORT $LN3@get_dinput

; 223  : 	{
; 224  : 
; 225  : 		count ++;

  0002c	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0002f	83 c0 01	 add	 eax, 1
  00032	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax

; 226  : 	}

  00035	eb d9		 jmp	 SHORT $LN2@get_dinput
$LN3@get_dinput:

; 227  : 
; 228  : 	return ( dinput_error_table[count].error_string );

  00037	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0003a	8b 04 c5 04 00
	00 00		 mov	 eax, DWORD PTR ?dinput_error_table@@3PAUDINPUT_ERROR_MESSAGE@@A[eax*8+4]

; 229  : }

  00041	5f		 pop	 edi
  00042	5e		 pop	 esi
  00043	5b		 pop	 ebx
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c2 04 00	 ret	 4
?get_dinput_error_message@@YGPBDJ@Z ENDP		; get_dinput_error_message
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\sysinput.c
;	COMDAT ?deinitialise_input_system@@YGXXZ
_TEXT	SEGMENT
?deinitialise_input_system@@YGXXZ PROC			; deinitialise_input_system, COMDAT

; 133  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 134  : 
; 135  : 	if ( direct_input )

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?direct_input@@3PAUIDirectInput7A@@A, 0 ; direct_input
  00010	74 27		 je	 SHORT $LN1@deinitiali

; 136  : 	{
; 137  : 
; 138  : 		deinitialise_keyboard ();

  00012	e8 00 00 00 00	 call	 ?deinitialise_keyboard@@YGXXZ ; deinitialise_keyboard

; 139  : 
; 140  : 		deinitialise_mouse ();

  00017	e8 00 00 00 00	 call	 ?deinitialise_mouse@@YGXXZ ; deinitialise_mouse

; 141  : 
; 142  : 		IDirectInput7_Release ( direct_input );

  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?direct_input@@3PAUIDirectInput7A@@A ; direct_input
  00021	8b 08		 mov	 ecx, DWORD PTR [eax]
  00023	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?direct_input@@3PAUIDirectInput7A@@A ; direct_input
  00029	52		 push	 edx
  0002a	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  0002d	ff d0		 call	 eax

; 143  : 
; 144  : 		direct_input = NULL;

  0002f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?direct_input@@3PAUIDirectInput7A@@A, 0 ; direct_input
$LN1@deinitiali:

; 145  : 	}
; 146  : }

  00039	5f		 pop	 edi
  0003a	5e		 pop	 esi
  0003b	5b		 pop	 ebx
  0003c	8b e5		 mov	 esp, ebp
  0003e	5d		 pop	 ebp
  0003f	c3		 ret	 0
?deinitialise_input_system@@YGXXZ ENDP			; deinitialise_input_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\sysinput.c
;	COMDAT ?initialise_input_system@@YGXW4INPUT_TYPES@@@Z
_TEXT	SEGMENT
_type$ = 8						; size = 4
?initialise_input_system@@YGXW4INPUT_TYPES@@@Z PROC	; initialise_input_system, COMDAT

; 92   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 93   : 
; 94   : 	input_system_type = type;

  00009	8b 45 08	 mov	 eax, DWORD PTR _type$[ebp]
  0000c	a3 00 00 00 00	 mov	 DWORD PTR ?input_system_type@@3W4INPUT_TYPES@@A, eax ; input_system_type

; 95   : 
; 96   : 	internal_initialise_input_system ();

  00011	e8 00 00 00 00	 call	 ?internal_initialise_input_system@@YGXXZ ; internal_initialise_input_system

; 97   : }

  00016	5f		 pop	 edi
  00017	5e		 pop	 esi
  00018	5b		 pop	 ebx
  00019	8b e5		 mov	 esp, ebp
  0001b	5d		 pop	 ebp
  0001c	c2 04 00	 ret	 4
?initialise_input_system@@YGXW4INPUT_TYPES@@@Z ENDP	; initialise_input_system
_TEXT	ENDS
END
