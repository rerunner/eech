; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?initialise_blackhawk_virtual_cockpit@@YGXXZ	; initialise_blackhawk_virtual_cockpit
PUBLIC	?deinitialise_blackhawk_virtual_cockpit@@YGXXZ	; deinitialise_blackhawk_virtual_cockpit
PUBLIC	?update_blackhawk_virtual_cockpit@@YGXXZ	; update_blackhawk_virtual_cockpit
PUBLIC	?draw_blackhawk_internal_virtual_cockpit@@YGXI@Z ; draw_blackhawk_internal_virtual_cockpit
PUBLIC	?draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z ; draw_blackhawk_external_virtual_cockpit
PUBLIC	?damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z ; damage_blackhawk_virtual_cockpit_main_rotors
PUBLIC	?restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ ; restore_blackhawk_virtual_cockpit_main_rotors
PUBLIC	??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA ; `get_display_viewpoint'::`1'::__LINE__Var
PUBLIC	??_C@_0BC@FEOJCDHO@display_viewpoint@		; `string'
PUBLIC	??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ ; `string'
PUBLIC	??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ ; `string'
PUBLIC	?__LINE__Var@?0??draw_blackhawk_internal_virtual_cockpit@@YGXI@Z@4JA ; `draw_blackhawk_internal_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z@4JA ; `draw_blackhawk_external_virtual_cockpit'::`1'::__LINE__Var
PUBLIC	??_C@_0BC@ENKILJCA@wiper_rle_graphic@		; `string'
PUBLIC	?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA ; `damage_blackhawk_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ ; `string'
PUBLIC	??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@ ; `string'
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA ; `restore_blackhawk_virtual_cockpit_main_rotors'::`1'::__LINE__Var
PUBLIC	__real@3c8efa35
PUBLIC	__real@3dcccccd
PUBLIC	__real@3f747ae147ae147b
PUBLIC	__real@3f800000
PUBLIC	__real@3f80624dd2f1a9fc
PUBLIC	__real@3f847ae147ae147b
PUBLIC	__real@3f947ae147ae147b
PUBLIC	__real@3f9eb851eb851eb8
PUBLIC	__real@4024000000000000
PUBLIC	__real@41200000
PUBLIC	__real@461c4000
PUBLIC	__real@be860a92
PUBLIC	__real@bf32b8c2
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memcpy:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?get_3d_transformation_matrix@@YGXQAY02MMMM@Z:PROC ; get_3d_transformation_matrix
EXTRN	?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z:PROC ; multiply_transpose_matrix3x3_vec3d
EXTRN	?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z:PROC ; multiply_matrix3x3_matrix3x3
EXTRN	?lock_screen@@YGHPAUSCREEN@@@Z:PROC		; lock_screen
EXTRN	?unlock_screen@@YGHPAUSCREEN@@@Z:PROC		; unlock_screen
EXTRN	?blit_rle_graphic@@YGXPBEHH@Z:PROC		; blit_rle_graphic
EXTRN	?clear_zbuffer_screen@@YGXXZ:PROC		; clear_zbuffer_screen
EXTRN	?set_3d_active_environment@@YGXPAUENV_3D@@@Z:PROC ; set_3d_active_environment
EXTRN	?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z:PROC ; set_3d_main_light_source
EXTRN	?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z:PROC ; set_3d_ambient_light
EXTRN	?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z:PROC ; recalculate_3d_environment_settings
EXTRN	?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z:PROC ; set_3d_view_distances
EXTRN	?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z:PROC	; realise_3d_clip_extents
EXTRN	?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; construct_3d_object
EXTRN	?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z:PROC ; destruct_3d_object
EXTRN	?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z:PROC ; get_3d_sub_object_world_viewpoint
EXTRN	?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z:PROC ; insert_zbiased_relative_object_into_3d_scene
EXTRN	?draw_3d_scene@@YGXXZ:PROC			; draw_3d_scene
EXTRN	?begin_3d_scene@@YGHXZ:PROC			; begin_3d_scene
EXTRN	?end_3d_scene@@YGXXZ:PROC			; end_3d_scene
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z:PROC ; animate_helicopter_main_rotors
EXTRN	?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z:PROC ; animate_damaged_helicopter_main_rotors
EXTRN	?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z:PROC ; animate_helicopter_virtual_cockpit_main_rotors
EXTRN	?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z:PROC ; damage_helicopter_main_rotor_inst3d
EXTRN	?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z:PROC ; restore_helicopter_main_rotor_inst3d
EXTRN	?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z:PROC ; get_helicopter_main_rotors_blurred
EXTRN	?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z:PROC ; set_rotation_angle_of_helicopter_main_rotors
EXTRN	?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z:PROC ; get_rotation_angle_of_helicopter_main_rotors
EXTRN	?draw_blackhawk_upfront_display_on_texture@@YGXXZ:PROC ; draw_blackhawk_upfront_display_on_texture
EXTRN	?draw_blackhawk_mfd_on_texture@@YGXW4MFD_LOCATIONS@@@Z:PROC ; draw_blackhawk_mfd_on_texture
EXTRN	?initialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; initialise_common_virtual_cockpit_cameras
EXTRN	?deinitialise_common_virtual_cockpit_cameras@@YGXXZ:PROC ; deinitialise_common_virtual_cockpit_cameras
EXTRN	?print_edit_wide_cockpit@@YGXXZ:PROC		; print_edit_wide_cockpit
EXTRN	?move_edit_wide_cockpit@@YGXXZ:PROC		; move_edit_wide_cockpit
EXTRN	?get_blackhawk_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z:PROC ; get_blackhawk_virtual_cockpit_adi_angles
EXTRN	?get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ:PROC ; get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value
EXTRN	?get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ:PROC ; get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value
EXTRN	?get_blackhawk_virtual_cockpit_barometric_altimeter_needle_value@@YGMXZ:PROC ; get_blackhawk_virtual_cockpit_barometric_altimeter_needle_value
EXTRN	?get_blackhawk_virtual_cockpit_clock_hand_values@@YGXPAM00@Z:PROC ; get_blackhawk_virtual_cockpit_clock_hand_values
EXTRN	?initialise_blackhawk_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; initialise_blackhawk_virtual_cockpit_wiper_and_rain_effect
EXTRN	?deinitialise_blackhawk_virtual_cockpit_wiper_and_rain_effect@@YGXXZ:PROC ; deinitialise_blackhawk_virtual_cockpit_wiper_and_rain_effect
EXTRN	?draw_blackhawk_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z:PROC ; draw_blackhawk_virtual_cockpit_wiper
EXTRN	?draw_blackhawk_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z:PROC ; draw_blackhawk_virtual_cockpit_rain_effect
EXTRN	?application_video_colourdepth@@3HA:DWORD	; application_video_colourdepth
EXTRN	?d3d_can_render_to_texture@@3HA:DWORD		; d3d_can_render_to_texture
EXTRN	?active_screen@@3PAUSCREEN@@A:DWORD		; active_screen
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA:BYTE ; fn_get_local_entity_attitude_matrix
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?session_entity@@3PAUENTITY@@A:DWORD		; session_entity
EXTRN	?ix_640_480@@3HA:DWORD				; ix_640_480
EXTRN	?iy_640_480@@3HA:DWORD				; iy_640_480
EXTRN	?full_screen_hi_res@@3HA:DWORD			; full_screen_hi_res
EXTRN	?main_3d_env@@3PAUENV_3D@@A:DWORD		; main_3d_env
EXTRN	?main_3d_single_light_env@@3PAUENV_3D@@A:DWORD	; main_3d_single_light_env
EXTRN	?main_vp@@3UVIEWPOINT@@A:BYTE			; main_vp
EXTRN	?view_mode@@3W4VIEW_MODES@@A:DWORD		; view_mode
EXTRN	?pilot_head_pitch@@3MA:DWORD			; pilot_head_pitch
EXTRN	?wide_cockpit@@3HA:DWORD			; wide_cockpit
EXTRN	?edit_wide_cockpit@@3HA:DWORD			; edit_wide_cockpit
EXTRN	?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A:BYTE ; wide_cockpit_position
EXTRN	?wide_cockpit_nr@@3HA:DWORD			; wide_cockpit_nr
EXTRN	?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA:DWORD ; draw_virtual_cockpit_needles_on_fixed_cockpits
EXTRN	?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A:DWORD ; virtual_cockpit_inst3d
EXTRN	?pilot_head_pitch_datum@@3MA:DWORD		; pilot_head_pitch_datum
EXTRN	?co_pilot_head_pitch_datum@@3MA:DWORD		; co_pilot_head_pitch_datum
EXTRN	?wiper_mode@@3W4WIPER_MODES@@A:DWORD		; wiper_mode
EXTRN	?rain_mode@@3W4RAIN_MODES@@A:DWORD		; rain_mode
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level1_inst3d
?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level2_inst3d
?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_level3_inst3d
?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level1_inst3d
?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level2_inst3d
?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_fillet_level3_inst3d
?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_main_rotor_inst3d
?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_adi_inst3d
?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_large_adi_inst3d
?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_compass_inst3d
?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_instrument_needles_inst3d
?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_instrument_large_needles_inst3d
?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_upfront_display_inst3d
?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_lhs_mfd_inst3d
?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_rhs_mfd_inst3d
?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A DD 01H DUP (?) ; virtual_cockpit_display_view_mfd_inst3d
?clipx@@3MA DD	01H DUP (?)				; clipx
_BSS	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@bf32b8c2
CONST	SEGMENT
__real@bf32b8c2 DD 0bf32b8c2r			; -0.698132
CONST	ENDS
;	COMDAT __real@be860a92
CONST	SEGMENT
__real@be860a92 DD 0be860a92r			; -0.261799
CONST	ENDS
;	COMDAT __real@461c4000
CONST	SEGMENT
__real@461c4000 DD 0461c4000r			; 10000
CONST	ENDS
;	COMDAT __real@41200000
CONST	SEGMENT
__real@41200000 DD 041200000r			; 10
CONST	ENDS
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT __real@3f9eb851eb851eb8
CONST	SEGMENT
__real@3f9eb851eb851eb8 DQ 03f9eb851eb851eb8r	; 0.03
CONST	ENDS
;	COMDAT __real@3f947ae147ae147b
CONST	SEGMENT
__real@3f947ae147ae147b DQ 03f947ae147ae147br	; 0.02
CONST	ENDS
;	COMDAT __real@3f847ae147ae147b
CONST	SEGMENT
__real@3f847ae147ae147b DQ 03f847ae147ae147br	; 0.01
CONST	ENDS
;	COMDAT __real@3f80624dd2f1a9fc
CONST	SEGMENT
__real@3f80624dd2f1a9fc DQ 03f80624dd2f1a9fcr	; 0.008
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f747ae147ae147b
CONST	SEGMENT
__real@3f747ae147ae147b DQ 03f747ae147ae147br	; 0.005
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@3c8efa35
CONST	SEGMENT
__real@3c8efa35 DD 03c8efa35r			; 0.0174533
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA DD 0587H ; `restore_blackhawk_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
CONST	SEGMENT
??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@ DB 'virtual_cockpit_m'
	DB	'ain_rotor_inst3d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@ DB 'get_gunship_entity ('
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA DD 056aH ; `damage_blackhawk_virtual_cockpit_main_rotors'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BC@ENKILJCA@wiper_rle_graphic@
CONST	SEGMENT
??_C@_0BC@ENKILJCA@wiper_rle_graphic@ DB 'wiper_rle_graphic', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z@4JA DD 042cH ; `draw_blackhawk_external_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??draw_blackhawk_internal_virtual_cockpit@@YGXI@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??draw_blackhawk_internal_virtual_cockpit@@YGXI@Z@4JA DD 01e9H ; `draw_blackhawk_internal_virtual_cockpit'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
CONST	SEGMENT
??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@ DB 'Failed to loc'
	DB	'ate display viewpoint in virtual cockpit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
CONST	SEGMENT
??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@ DB 'Invalid view mod'
	DB	'e = %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@FEOJCDHO@display_viewpoint@
CONST	SEGMENT
??_C@_0BC@FEOJCDHO@display_viewpoint@ DB 'display_viewpoint', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA DD 019cH ; `get_display_viewpoint'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\'
	DB	'bh_vckpt.c', 00H				; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z
_TEXT	SEGMENT
tv161 = -180						; size = 4
tv153 = -176						; size = 4
tv138 = -176						; size = 4
tv80 = -176						; size = 4
_vp$ = -108						; size = 48
_search$ = -60						; size = 56
_index$ = -4						; size = 4
_mode$ = 8						; size = 4
_display_viewpoint$ = 12				; size = 4
?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z PROC ; get_display_viewpoint, COMDAT

; 412  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b4 00 00
	00		 sub	 esp, 180		; 000000b4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 413  : 	object_3d_sub_object_index_numbers
; 414  : 		index;
; 415  : 
; 416  : 	object_3d_sub_object_search_data
; 417  : 		search;
; 418  : 
; 419  : 	viewpoint
; 420  : 		vp;
; 421  : 
; 422  : 	ASSERT (display_viewpoint);

  0000c	83 7d 0c 00	 cmp	 DWORD PTR _display_viewpoint$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@get_displa
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  00017	83 c0 0a	 add	 eax, 10			; 0000000aH
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@FEOJCDHO@display_viewpoint@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@get_displa:

; 423  : 
; 424  : 	if ((!full_screen_hi_res) && (application_video_colourdepth == 16))

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?full_screen_hi_res@@3HA, 0 ; full_screen_hi_res
  00031	0f 85 87 00 00
	00		 jne	 $LN3@get_displa
  00037	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?application_video_colourdepth@@3HA, 16 ; application_video_colourdepth, 00000010H
  0003e	75 7e		 jne	 SHORT $LN3@get_displa

; 425  : 	{
; 426  : 		display_viewpoint->x = 0.0;

  00040	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  00043	0f 57 c0	 xorps	 xmm0, xmm0
  00046	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 427  : 		display_viewpoint->y = 0.0;

  0004a	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  0004d	0f 57 c0	 xorps	 xmm0, xmm0
  00050	f3 0f 11 40 04	 movss	 DWORD PTR [eax+4], xmm0

; 428  : 		display_viewpoint->z = 0.0;

  00055	8b 45 0c	 mov	 eax, DWORD PTR _display_viewpoint$[ebp]
  00058	0f 57 c0	 xorps	 xmm0, xmm0
  0005b	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 429  : 
; 430  : 		get_local_entity_attitude_matrix (get_gunship_entity (), display_viewpoint->attitude);

  00060	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00067	74 0f		 je	 SHORT $LN10@get_displa
  00069	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0006e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00070	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv80[ebp], ecx
  00076	eb 24		 jmp	 SHORT $LN11@get_displa
$LN10@get_displa:
  00078	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0007e	83 c2 12	 add	 edx, 18			; 00000012H
  00081	52		 push	 edx
  00082	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00087	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00092	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv80[ebp], 0
$LN11@get_displa:
  0009c	8b 4d 0c	 mov	 ecx, DWORD PTR _display_viewpoint$[ebp]
  0009f	83 c1 0c	 add	 ecx, 12			; 0000000cH
  000a2	51		 push	 ecx
  000a3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000a9	52		 push	 edx
  000aa	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv80[ebp]
  000b0	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  000b7	ff d1		 call	 ecx

; 431  : 
; 432  : 		return;

  000b9	e9 45 02 00 00	 jmp	 $LN1@get_displa
$LN3@get_displa:

; 433  : 	}
; 434  : 
; 435  : 	if (mode == VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_LHS_MFD)

  000be	83 7d 08 1c	 cmp	 DWORD PTR _mode$[ebp], 28 ; 0000001cH
  000c2	75 09		 jne	 SHORT $LN4@get_displa

; 436  : 	{
; 437  : 		index = OBJECT_3D_SUB_OBJECT_APACHE_COCKPIT_LHS_MFD_CAMERA;

  000c4	c7 45 fc 70 00
	00 00		 mov	 DWORD PTR _index$[ebp], 112 ; 00000070H
  000cb	eb 20		 jmp	 SHORT $LN7@get_displa
$LN4@get_displa:

; 438  : 	}
; 439  : 	else if (mode == VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_RHS_MFD)

  000cd	83 7d 08 1d	 cmp	 DWORD PTR _mode$[ebp], 29 ; 0000001dH
  000d1	75 09		 jne	 SHORT $LN6@get_displa

; 440  : 	{
; 441  : 		index = OBJECT_3D_SUB_OBJECT_APACHE_COCKPIT_RHS_MFD_CAMERA;

  000d3	c7 45 fc 71 00
	00 00		 mov	 DWORD PTR _index$[ebp], 113 ; 00000071H

; 442  : 	}
; 443  : 	else

  000da	eb 11		 jmp	 SHORT $LN7@get_displa
$LN6@get_displa:

; 444  : 	{
; 445  : 		debug_fatal ("Invalid view mode = %d", mode);

  000dc	8b 45 08	 mov	 eax, DWORD PTR _mode$[ebp]
  000df	50		 push	 eax
  000e0	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@KFJLEDAI@Invalid?5view?5mode?5?$DN?5?$CFd@
  000e5	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000ea	83 c4 08	 add	 esp, 8
$LN7@get_displa:

; 446  : 	}
; 447  : 
; 448  : 	virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;

  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000f2	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax ; virtual_cockpit_inst3d

; 449  : 
; 450  : 	search.search_depth = 0;

  000f7	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 451  : 	search.search_object = virtual_cockpit_inst3d;

  000fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00103	89 45 c4	 mov	 DWORD PTR _search$[ebp], eax

; 452  : 	search.sub_object_index = index;

  00106	8b 45 fc	 mov	 eax, DWORD PTR _index$[ebp]
  00109	89 45 d0	 mov	 DWORD PTR _search$[ebp+12], eax

; 453  : 
; 454  : 	if (find_object_3d_sub_object (&search) != SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0010c	8d 45 c4	 lea	 eax, DWORD PTR _search$[ebp]
  0010f	50		 push	 eax
  00110	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00115	83 f8 01	 cmp	 eax, 1
  00118	74 0d		 je	 SHORT $LN8@get_displa

; 455  : 	{
; 456  : 		debug_fatal ("Failed to locate display viewpoint in virtual cockpit");

  0011a	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@OCDOFANO@Failed?5to?5locate?5display?5viewpo@
  0011f	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  00124	83 c4 04	 add	 esp, 4
$LN8@get_displa:

; 457  : 	}
; 458  : 
; 459  : 	virtual_cockpit_inst3d->vp.x = 0.0;

  00127	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  0012c	0f 57 c0	 xorps	 xmm0, xmm0
  0012f	f3 0f 11 40 08	 movss	 DWORD PTR [eax+8], xmm0

; 460  : 	virtual_cockpit_inst3d->vp.y = 0.0;

  00134	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00139	0f 57 c0	 xorps	 xmm0, xmm0
  0013c	f3 0f 11 40 0c	 movss	 DWORD PTR [eax+12], xmm0

; 461  : 	virtual_cockpit_inst3d->vp.z = 0.0;

  00141	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00146	0f 57 c0	 xorps	 xmm0, xmm0
  00149	f3 0f 11 40 10	 movss	 DWORD PTR [eax+16], xmm0

; 462  : 
; 463  : 	get_local_entity_attitude_matrix (get_gunship_entity (), virtual_cockpit_inst3d->vp.attitude);

  0014e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00155	74 0f		 je	 SHORT $LN12@get_displa
  00157	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0015c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0015e	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv138[ebp], ecx
  00164	eb 24		 jmp	 SHORT $LN13@get_displa
$LN12@get_displa:
  00166	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0016c	83 c2 33	 add	 edx, 51			; 00000033H
  0016f	52		 push	 edx
  00170	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00175	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0017a	50		 push	 eax
  0017b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00180	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv138[ebp], 0
$LN13@get_displa:
  0018a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  00190	83 c1 14	 add	 ecx, 20			; 00000014H
  00193	51		 push	 ecx
  00194	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0019a	52		 push	 edx
  0019b	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR tv138[ebp]
  001a1	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  001a8	ff d1		 call	 ecx

; 464  : 
; 465  : 	get_3d_sub_object_world_viewpoint (search.result_sub_object, &vp);

  001aa	8d 45 94	 lea	 eax, DWORD PTR _vp$[ebp]
  001ad	50		 push	 eax
  001ae	8b 4d c8	 mov	 ecx, DWORD PTR _search$[ebp+4]
  001b1	51		 push	 ecx
  001b2	e8 00 00 00 00	 call	 ?get_3d_sub_object_world_viewpoint@@YGXPAUOBJECT_3D_SUB_INSTANCE@@PAUVIEWPOINT@@@Z ; get_3d_sub_object_world_viewpoint

; 466  : 
; 467  : 	get_local_entity_vec3d (get_gunship_entity (), VEC3D_TYPE_POSITION, &main_vp.position);

  001b7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  001be	74 0f		 je	 SHORT $LN14@get_displa
  001c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001c5	8b 08		 mov	 ecx, DWORD PTR [eax]
  001c7	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv153[ebp], ecx
  001cd	eb 24		 jmp	 SHORT $LN15@get_displa
$LN14@get_displa:
  001cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  001d5	83 c2 37	 add	 edx, 55			; 00000037H
  001d8	52		 push	 edx
  001d9	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001e9	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv153[ebp], 0
$LN15@get_displa:
  001f3	b9 01 00 00 00	 mov	 ecx, 1
  001f8	85 c9		 test	 ecx, ecx
  001fa	74 0c		 je	 SHORT $LN16@get_displa
  001fc	c7 85 4c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv161[ebp], 8
  00206	eb 24		 jmp	 SHORT $LN17@get_displa
$LN16@get_displa:
  00208	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z@4JA
  0020e	83 c2 37	 add	 edx, 55			; 00000037H
  00211	52		 push	 edx
  00212	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00217	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0021c	50		 push	 eax
  0021d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00222	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv161[ebp], 0
$LN17@get_displa:
  0022c	68 00 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A ; main_vp
  00231	6a 08		 push	 8
  00233	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00239	51		 push	 ecx
  0023a	6b 95 50 ff ff
	ff 60		 imul	 edx, DWORD PTR tv153[ebp], 96
  00241	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR tv161[ebp]
  00247	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[edx+eax*4]
  0024e	ff d1		 call	 ecx

; 468  : 
; 469  : 	main_vp.x += vp.x;

  00250	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A
  00258	f3 0f 58 45 94	 addss	 xmm0, DWORD PTR _vp$[ebp]
  0025d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A, xmm0

; 470  : 	main_vp.y += vp.y;

  00265	f3 0f 10 05 04
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4
  0026d	f3 0f 58 45 98	 addss	 xmm0, DWORD PTR _vp$[ebp+4]
  00272	f3 0f 11 05 04
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+4, xmm0

; 471  : 	main_vp.z += vp.z;

  0027a	f3 0f 10 05 08
	00 00 00	 movss	 xmm0, DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8
  00282	f3 0f 58 45 9c	 addss	 xmm0, DWORD PTR _vp$[ebp+8]
  00287	f3 0f 11 05 08
	00 00 00	 movss	 DWORD PTR ?main_vp@@3UVIEWPOINT@@A+8, xmm0

; 472  : 
; 473  : 	memcpy (main_vp.attitude, vp.attitude, sizeof (matrix3x3));

  0028f	6a 24		 push	 36			; 00000024H
  00291	8d 45 a0	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00294	50		 push	 eax
  00295	68 0c 00 00 00	 push	 OFFSET ?main_vp@@3UVIEWPOINT@@A+12
  0029a	e8 00 00 00 00	 call	 _memcpy
  0029f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 474  : 
; 475  : 	vp.x = -vp.x;

  002a2	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _vp$[ebp]
  002a7	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002ae	f3 0f 11 45 94	 movss	 DWORD PTR _vp$[ebp], xmm0

; 476  : 	vp.y = -vp.y;

  002b3	f3 0f 10 45 98	 movss	 xmm0, DWORD PTR _vp$[ebp+4]
  002b8	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002bf	f3 0f 11 45 98	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 477  : 	vp.z = -vp.z;

  002c4	f3 0f 10 45 9c	 movss	 xmm0, DWORD PTR _vp$[ebp+8]
  002c9	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002d0	f3 0f 11 45 9c	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 478  : 
; 479  : 	multiply_transpose_matrix3x3_vec3d (&virtual_cockpit_inst3d->vp.position, vp.attitude, &vp.position);

  002d5	8d 45 94	 lea	 eax, DWORD PTR _vp$[ebp]
  002d8	50		 push	 eax
  002d9	8d 4d a0	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  002dc	51		 push	 ecx
  002dd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002e3	83 c2 08	 add	 edx, 8
  002e6	52		 push	 edx
  002e7	e8 00 00 00 00	 call	 ?multiply_transpose_matrix3x3_vec3d@@YGXPAUVEC3D@@QAY02$$CBMPBU1@@Z ; multiply_transpose_matrix3x3_vec3d

; 480  : 
; 481  : 	memcpy (display_viewpoint, &virtual_cockpit_inst3d->vp, sizeof (viewpoint));

  002ec	6a 30		 push	 48			; 00000030H
  002ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A ; virtual_cockpit_inst3d
  002f3	83 c0 08	 add	 eax, 8
  002f6	50		 push	 eax
  002f7	8b 4d 0c	 mov	 ecx, DWORD PTR _display_viewpoint$[ebp]
  002fa	51		 push	 ecx
  002fb	e8 00 00 00 00	 call	 _memcpy
  00300	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@get_displa:

; 482  : }

  00303	5f		 pop	 edi
  00304	5e		 pop	 esi
  00305	5b		 pop	 ebx
  00306	8b e5		 mov	 esp, ebp
  00308	5d		 pop	 ebp
  00309	c2 08 00	 ret	 8
?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ENDP ; get_display_viewpoint
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?set_cockpit_white_lighting@@YGXQAY02M@Z
_TEXT	SEGMENT
_directional_light_roll$ = -128				; size = 4
_directional_light_pitch$ = -124			; size = 4
_directional_light_heading$ = -120			; size = 4
_directional_light_colour$ = -116			; size = 16
_ambient_light_colour$ = -100				; size = 16
_directional_light_direction$ = -84			; size = 12
_result$ = -72						; size = 36
_directional_light_rotation$ = -36			; size = 36
_attitude$ = 8						; size = 4
?set_cockpit_white_lighting@@YGXQAY02M@Z PROC		; set_cockpit_white_lighting, COMDAT

; 365  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 366  : 	matrix3x3
; 367  : 		directional_light_rotation,
; 368  : 		result;
; 369  : 
; 370  : 	vec3d
; 371  : 		directional_light_direction;
; 372  : 
; 373  : 	light_colour
; 374  : 		ambient_light_colour,
; 375  : 		directional_light_colour;
; 376  : 
; 377  : 	float
; 378  : 		directional_light_heading,
; 379  : 		directional_light_pitch,
; 380  : 		directional_light_roll;
; 381  : 
; 382  : 	ambient_light_colour.red		 	= 0.0;

  0000c	0f 57 c0	 xorps	 xmm0, xmm0
  0000f	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 383  : 	ambient_light_colour.green		  	= 0.0;

  00014	0f 57 c0	 xorps	 xmm0, xmm0
  00017	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 384  : 	ambient_light_colour.blue		  	= 0.0;

  0001c	0f 57 c0	 xorps	 xmm0, xmm0
  0001f	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 385  : 
; 386  : 	directional_light_colour.red		= 1.0;

  00024	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0002c	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 387  : 	directional_light_colour.green	= 1.0;

  00031	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00039	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 388  : 	directional_light_colour.blue		= 1.0;

  0003e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00046	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 389  : 
; 390  : 	directional_light_heading 			= rad (0.0);

  0004b	0f 57 c0	 xorps	 xmm0, xmm0
  0004e	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 391  : 	directional_light_pitch 			= rad (-40.0);

  00053	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf32b8c2
  0005b	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 392  : 	directional_light_roll 				= rad (0.0);

  00060	0f 57 c0	 xorps	 xmm0, xmm0
  00063	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 393  : 
; 394  : 	set_3d_ambient_light (main_3d_single_light_env, &ambient_light_colour);

  00068	8d 45 9c	 lea	 eax, DWORD PTR _ambient_light_colour$[ebp]
  0006b	50		 push	 eax
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00072	51		 push	 ecx
  00073	e8 00 00 00 00	 call	 ?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z ; set_3d_ambient_light

; 395  : 
; 396  : 	get_3d_transformation_matrix (directional_light_rotation, directional_light_heading, directional_light_pitch, directional_light_roll);

  00078	51		 push	 ecx
  00079	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _directional_light_roll$[ebp]
  0007e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00083	51		 push	 ecx
  00084	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _directional_light_pitch$[ebp]
  00089	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0008e	51		 push	 ecx
  0008f	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _directional_light_heading$[ebp]
  00094	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00099	8d 45 dc	 lea	 eax, DWORD PTR _directional_light_rotation$[ebp]
  0009c	50		 push	 eax
  0009d	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 397  : 
; 398  : 	multiply_matrix3x3_matrix3x3 (result, directional_light_rotation, attitude);

  000a2	8b 45 08	 mov	 eax, DWORD PTR _attitude$[ebp]
  000a5	50		 push	 eax
  000a6	8d 4d dc	 lea	 ecx, DWORD PTR _directional_light_rotation$[ebp]
  000a9	51		 push	 ecx
  000aa	8d 55 b8	 lea	 edx, DWORD PTR _result$[ebp]
  000ad	52		 push	 edx
  000ae	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 399  : 
; 400  : 	directional_light_direction.x = -result[2][0];

  000b3	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  000b8	d1 e0		 shl	 eax, 1
  000ba	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  000be	ba 04 00 00 00	 mov	 edx, 4
  000c3	6b c2 00	 imul	 eax, edx, 0
  000c6	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  000cb	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  000d2	f3 0f 11 45 ac	 movss	 DWORD PTR _directional_light_direction$[ebp], xmm0

; 401  : 	directional_light_direction.y = -result[2][1];

  000d7	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  000dc	d1 e0		 shl	 eax, 1
  000de	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  000e2	ba 04 00 00 00	 mov	 edx, 4
  000e7	c1 e2 00	 shl	 edx, 0
  000ea	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  000ef	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  000f6	f3 0f 11 45 b0	 movss	 DWORD PTR _directional_light_direction$[ebp+4], xmm0

; 402  : 	directional_light_direction.z = -result[2][2];

  000fb	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00100	d1 e0		 shl	 eax, 1
  00102	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  00106	ba 04 00 00 00	 mov	 edx, 4
  0010b	d1 e2		 shl	 edx, 1
  0010d	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  00112	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00119	f3 0f 11 45 b4	 movss	 DWORD PTR _directional_light_direction$[ebp+8], xmm0

; 403  : 
; 404  : 	set_3d_main_light_source (main_3d_single_light_env, &directional_light_colour, &directional_light_direction, FALSE);

  0011e	6a 00		 push	 0
  00120	8d 45 ac	 lea	 eax, DWORD PTR _directional_light_direction$[ebp]
  00123	50		 push	 eax
  00124	8d 4d 8c	 lea	 ecx, DWORD PTR _directional_light_colour$[ebp]
  00127	51		 push	 ecx
  00128	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0012e	52		 push	 edx
  0012f	e8 00 00 00 00	 call	 ?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z ; set_3d_main_light_source

; 405  : }

  00134	5f		 pop	 edi
  00135	5e		 pop	 esi
  00136	5b		 pop	 ebx
  00137	8b e5		 mov	 esp, ebp
  00139	5d		 pop	 ebp
  0013a	c2 04 00	 ret	 4
?set_cockpit_white_lighting@@YGXQAY02M@Z ENDP		; set_cockpit_white_lighting
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?set_cockpit_lighting@@YGXQAY02M@Z
_TEXT	SEGMENT
tv82 = -204						; size = 4
tv76 = -200						; size = 4
tv69 = -196						; size = 4
_directional_light_roll$ = -128				; size = 4
_directional_light_pitch$ = -124			; size = 4
_directional_light_heading$ = -120			; size = 4
_directional_light_colour$ = -116			; size = 16
_ambient_light_colour$ = -100				; size = 16
_directional_light_direction$ = -84			; size = 12
_result$ = -72						; size = 36
_directional_light_rotation$ = -36			; size = 36
_attitude$ = 8						; size = 4
?set_cockpit_lighting@@YGXQAY02M@Z PROC			; set_cockpit_lighting, COMDAT

; 238  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 239  : 	matrix3x3
; 240  : 		directional_light_rotation,
; 241  : 		result;
; 242  : 
; 243  : 	vec3d
; 244  : 		directional_light_direction;
; 245  : 
; 246  : 	light_colour
; 247  : 		ambient_light_colour,
; 248  : 		directional_light_colour;
; 249  : 
; 250  : 	float
; 251  : 		directional_light_heading,
; 252  : 		directional_light_pitch,
; 253  : 		directional_light_roll;
; 254  : 
; 255  : 	switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00013	74 0f		 je	 SHORT $LN9@set_cockpi
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  0001a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0001c	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv69[ebp], ecx
  00022	eb 20		 jmp	 SHORT $LN10@set_cockpi
$LN9@set_cockpi:
  00024	68 ff 00 00 00	 push	 255			; 000000ffH
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00034	52		 push	 edx
  00035	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0003a	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv69[ebp], 0
$LN10@set_cockpi:
  00044	b8 01 00 00 00	 mov	 eax, 1
  00049	85 c0		 test	 eax, eax
  0004b	74 0c		 je	 SHORT $LN11@set_cockpi
  0004d	c7 85 38 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv76[ebp], 39	; 00000027H
  00057	eb 20		 jmp	 SHORT $LN12@set_cockpi
$LN11@set_cockpi:
  00059	68 ff 00 00 00	 push	 255			; 000000ffH
  0005e	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00063	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00069	51		 push	 ecx
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0006f	c7 85 38 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv76[ebp], 0
$LN12@set_cockpi:
  00079	6a 27		 push	 39			; 00000027H
  0007b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00081	52		 push	 edx
  00082	69 85 3c ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv69[ebp], 1116
  0008c	8b 8d 38 ff ff
	ff		 mov	 ecx, DWORD PTR tv76[ebp]
  00092	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00099	ff d2		 call	 edx
  0009b	89 85 34 ff ff
	ff		 mov	 DWORD PTR tv82[ebp], eax
  000a1	83 bd 34 ff ff
	ff 03		 cmp	 DWORD PTR tv82[ebp], 3
  000a8	0f 87 6b 01 00
	00		 ja	 $LN2@set_cockpi
  000ae	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv82[ebp]
  000b4	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN13@set_cockpi[eax*4]
$LN4@set_cockpi:

; 256  : 	{
; 257  : 		////////////////////////////////////////
; 258  : 		case DAY_SEGMENT_TYPE_DAWN:
; 259  : 		////////////////////////////////////////
; 260  : 		{
; 261  : 			ambient_light_colour.red		 		= 0.0;

  000bb	0f 57 c0	 xorps	 xmm0, xmm0
  000be	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 262  : 			ambient_light_colour.green		  		= 0.0;

  000c3	0f 57 c0	 xorps	 xmm0, xmm0
  000c6	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 263  : 			ambient_light_colour.blue		  		= 0.0;

  000cb	0f 57 c0	 xorps	 xmm0, xmm0
  000ce	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 264  : 
; 265  : 			directional_light_colour.red			= 1.0;

  000d3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000db	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 266  : 			directional_light_colour.green		= 0.0;

  000e0	0f 57 c0	 xorps	 xmm0, xmm0
  000e3	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 267  : 			directional_light_colour.blue			= 0.0;

  000e8	0f 57 c0	 xorps	 xmm0, xmm0
  000eb	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 268  : 
; 269  : 			directional_light_heading 				= rad (0.0);

  000f0	0f 57 c0	 xorps	 xmm0, xmm0
  000f3	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 270  : 			directional_light_pitch 				= rad (-15.0);

  000f8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  00100	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 271  : 			directional_light_roll 					= rad (0.0);

  00105	0f 57 c0	 xorps	 xmm0, xmm0
  00108	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 272  : 
; 273  : 			break;

  0010d	e9 07 01 00 00	 jmp	 $LN2@set_cockpi
$LN5@set_cockpi:

; 274  : 		}
; 275  : 		////////////////////////////////////////
; 276  : 		case DAY_SEGMENT_TYPE_DAY:
; 277  : 		////////////////////////////////////////
; 278  : 		{
; 279  : 			ambient_light_colour.red		 		= 0.0;

  00112	0f 57 c0	 xorps	 xmm0, xmm0
  00115	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 280  : 			ambient_light_colour.green		  		= 0.0;

  0011a	0f 57 c0	 xorps	 xmm0, xmm0
  0011d	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 281  : 			ambient_light_colour.blue		  		= 0.0;

  00122	0f 57 c0	 xorps	 xmm0, xmm0
  00125	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 282  : 
; 283  : 			directional_light_colour.red			= 1.0;

  0012a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00132	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 284  : 			directional_light_colour.green		= 1.0;

  00137	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0013f	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 285  : 			directional_light_colour.blue			= 1.0;

  00144	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0014c	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 286  : 
; 287  : 			directional_light_heading 				= rad (0.0);

  00151	0f 57 c0	 xorps	 xmm0, xmm0
  00154	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 288  : 			directional_light_pitch 				= rad (-40.0);

  00159	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf32b8c2
  00161	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 289  : 			directional_light_roll 					= rad (0.0);

  00166	0f 57 c0	 xorps	 xmm0, xmm0
  00169	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 290  : 
; 291  : 			break;

  0016e	e9 a6 00 00 00	 jmp	 $LN2@set_cockpi
$LN6@set_cockpi:

; 292  : 		}
; 293  : 		////////////////////////////////////////
; 294  : 		case DAY_SEGMENT_TYPE_DUSK:
; 295  : 		////////////////////////////////////////
; 296  : 		{
; 297  : 			ambient_light_colour.red		 		= 0.0;

  00173	0f 57 c0	 xorps	 xmm0, xmm0
  00176	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 298  : 			ambient_light_colour.green		  		= 0.0;

  0017b	0f 57 c0	 xorps	 xmm0, xmm0
  0017e	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 299  : 			ambient_light_colour.blue		  		= 0.0;

  00183	0f 57 c0	 xorps	 xmm0, xmm0
  00186	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 300  : 
; 301  : 			directional_light_colour.red			= 1.0;

  0018b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00193	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 302  : 			directional_light_colour.green		= 0.0;

  00198	0f 57 c0	 xorps	 xmm0, xmm0
  0019b	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 303  : 			directional_light_colour.blue			= 0.0;

  001a0	0f 57 c0	 xorps	 xmm0, xmm0
  001a3	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 304  : 
; 305  : 			directional_light_heading 				= rad (0.0);

  001a8	0f 57 c0	 xorps	 xmm0, xmm0
  001ab	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 306  : 			directional_light_pitch 				= rad (-15.0);

  001b0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  001b8	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 307  : 			directional_light_roll 					= rad (0.0);

  001bd	0f 57 c0	 xorps	 xmm0, xmm0
  001c0	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0

; 308  : 
; 309  : 			break;

  001c5	eb 52		 jmp	 SHORT $LN2@set_cockpi
$LN7@set_cockpi:

; 310  : 		}
; 311  : 		////////////////////////////////////////
; 312  : 		case DAY_SEGMENT_TYPE_NIGHT:
; 313  : 		////////////////////////////////////////
; 314  : 		{
; 315  : 			ambient_light_colour.red		 		= 0.0;

  001c7	0f 57 c0	 xorps	 xmm0, xmm0
  001ca	f3 0f 11 45 9c	 movss	 DWORD PTR _ambient_light_colour$[ebp], xmm0

; 316  : 			ambient_light_colour.green		  		= 0.0;

  001cf	0f 57 c0	 xorps	 xmm0, xmm0
  001d2	f3 0f 11 45 a0	 movss	 DWORD PTR _ambient_light_colour$[ebp+4], xmm0

; 317  : 			ambient_light_colour.blue		  		= 0.0;

  001d7	0f 57 c0	 xorps	 xmm0, xmm0
  001da	f3 0f 11 45 a4	 movss	 DWORD PTR _ambient_light_colour$[ebp+8], xmm0

; 318  : 
; 319  : 			directional_light_colour.red			= 1.0;

  001df	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001e7	f3 0f 11 45 8c	 movss	 DWORD PTR _directional_light_colour$[ebp], xmm0

; 320  : 			directional_light_colour.green		= 0.0;

  001ec	0f 57 c0	 xorps	 xmm0, xmm0
  001ef	f3 0f 11 45 90	 movss	 DWORD PTR _directional_light_colour$[ebp+4], xmm0

; 321  : 			directional_light_colour.blue			= 0.0;

  001f4	0f 57 c0	 xorps	 xmm0, xmm0
  001f7	f3 0f 11 45 94	 movss	 DWORD PTR _directional_light_colour$[ebp+8], xmm0

; 322  : 
; 323  : 			directional_light_heading 				= rad (0.0);

  001fc	0f 57 c0	 xorps	 xmm0, xmm0
  001ff	f3 0f 11 45 88	 movss	 DWORD PTR _directional_light_heading$[ebp], xmm0

; 324  : 			directional_light_pitch 				= rad (-15.0);

  00204	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@be860a92
  0020c	f3 0f 11 45 84	 movss	 DWORD PTR _directional_light_pitch$[ebp], xmm0

; 325  : 			directional_light_roll 					= rad (0.0);

  00211	0f 57 c0	 xorps	 xmm0, xmm0
  00214	f3 0f 11 45 80	 movss	 DWORD PTR _directional_light_roll$[ebp], xmm0
$LN2@set_cockpi:

; 326  : 
; 327  : 			break;
; 328  : 		}
; 329  : 	}
; 330  : 
; 331  : 	#if DEMO_VERSION
; 332  : 
; 333  : 	ambient_light_colour.red		 		= 0.0;
; 334  : 	ambient_light_colour.green		  		= 0.0;
; 335  : 	ambient_light_colour.blue		  		= 0.0;
; 336  : 
; 337  : 	directional_light_colour.red			= 1.0;
; 338  : 	directional_light_colour.green		= 1.0;
; 339  : 	directional_light_colour.blue			= 1.0;
; 340  : 
; 341  : 	directional_light_heading 				= rad (0.0);
; 342  : 	directional_light_pitch 				= rad (-40.0);
; 343  : 	directional_light_roll 					= rad (0.0);
; 344  : 
; 345  : 	#endif
; 346  : 
; 347  : 	set_3d_ambient_light (main_3d_single_light_env, &ambient_light_colour);

  00219	8d 45 9c	 lea	 eax, DWORD PTR _ambient_light_colour$[ebp]
  0021c	50		 push	 eax
  0021d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00223	51		 push	 ecx
  00224	e8 00 00 00 00	 call	 ?set_3d_ambient_light@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@@Z ; set_3d_ambient_light

; 348  : 
; 349  : 	get_3d_transformation_matrix (directional_light_rotation, directional_light_heading, directional_light_pitch, directional_light_roll);

  00229	51		 push	 ecx
  0022a	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _directional_light_roll$[ebp]
  0022f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00234	51		 push	 ecx
  00235	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _directional_light_pitch$[ebp]
  0023a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0023f	51		 push	 ecx
  00240	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _directional_light_heading$[ebp]
  00245	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024a	8d 45 dc	 lea	 eax, DWORD PTR _directional_light_rotation$[ebp]
  0024d	50		 push	 eax
  0024e	e8 00 00 00 00	 call	 ?get_3d_transformation_matrix@@YGXQAY02MMMM@Z ; get_3d_transformation_matrix

; 350  : 
; 351  : 	multiply_matrix3x3_matrix3x3 (result, directional_light_rotation, attitude);

  00253	8b 45 08	 mov	 eax, DWORD PTR _attitude$[ebp]
  00256	50		 push	 eax
  00257	8d 4d dc	 lea	 ecx, DWORD PTR _directional_light_rotation$[ebp]
  0025a	51		 push	 ecx
  0025b	8d 55 b8	 lea	 edx, DWORD PTR _result$[ebp]
  0025e	52		 push	 edx
  0025f	e8 00 00 00 00	 call	 ?multiply_matrix3x3_matrix3x3@@YGXQAY02MQAY02$$CBM1@Z ; multiply_matrix3x3_matrix3x3

; 352  : 
; 353  : 	directional_light_direction.x = -result[2][0];

  00264	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  00269	d1 e0		 shl	 eax, 1
  0026b	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  0026f	ba 04 00 00 00	 mov	 edx, 4
  00274	6b c2 00	 imul	 eax, edx, 0
  00277	f3 0f 10 04 01	 movss	 xmm0, DWORD PTR [ecx+eax]
  0027c	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00283	f3 0f 11 45 ac	 movss	 DWORD PTR _directional_light_direction$[ebp], xmm0

; 354  : 	directional_light_direction.y = -result[2][1];

  00288	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0028d	d1 e0		 shl	 eax, 1
  0028f	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  00293	ba 04 00 00 00	 mov	 edx, 4
  00298	c1 e2 00	 shl	 edx, 0
  0029b	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002a0	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002a7	f3 0f 11 45 b0	 movss	 DWORD PTR _directional_light_direction$[ebp+4], xmm0

; 355  : 	directional_light_direction.z = -result[2][2];

  002ac	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  002b1	d1 e0		 shl	 eax, 1
  002b3	8d 4c 05 b8	 lea	 ecx, DWORD PTR _result$[ebp+eax]
  002b7	ba 04 00 00 00	 mov	 edx, 4
  002bc	d1 e2		 shl	 edx, 1
  002be	f3 0f 10 04 11	 movss	 xmm0, DWORD PTR [ecx+edx]
  002c3	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  002ca	f3 0f 11 45 b4	 movss	 DWORD PTR _directional_light_direction$[ebp+8], xmm0

; 356  : 
; 357  : 	set_3d_main_light_source (main_3d_single_light_env, &directional_light_colour, &directional_light_direction, FALSE);

  002cf	6a 00		 push	 0
  002d1	8d 45 ac	 lea	 eax, DWORD PTR _directional_light_direction$[ebp]
  002d4	50		 push	 eax
  002d5	8d 4d 8c	 lea	 ecx, DWORD PTR _directional_light_colour$[ebp]
  002d8	51		 push	 ecx
  002d9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  002df	52		 push	 edx
  002e0	e8 00 00 00 00	 call	 ?set_3d_main_light_source@@YGXPAUENV_3D@@PAULIGHT_COLOUR@@PAUVEC3D@@H@Z ; set_3d_main_light_source

; 358  : }

  002e5	5f		 pop	 edi
  002e6	5e		 pop	 esi
  002e7	5b		 pop	 ebx
  002e8	8b e5		 mov	 esp, ebp
  002ea	5d		 pop	 ebp
  002eb	c2 04 00	 ret	 4
  002ee	66 90		 npad	 2
$LN13@set_cockpi:
  002f0	00 00 00 00	 DD	 $LN4@set_cockpi
  002f4	00 00 00 00	 DD	 $LN5@set_cockpi
  002f8	00 00 00 00	 DD	 $LN6@set_cockpi
  002fc	00 00 00 00	 DD	 $LN7@set_cockpi
?set_cockpit_lighting@@YGXQAY02M@Z ENDP			; set_cockpit_lighting
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ
_TEXT	SEGMENT
tv88 = -80						; size = 4
tv80 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
?restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ PROC ; restore_blackhawk_virtual_cockpit_main_rotors, COMDAT

; 1415 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1416 : 	float
; 1417 : 		theta;
; 1418 : 
; 1419 : 	object_3d_instance
; 1420 : 		*inst3d;
; 1421 : 
; 1422 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@restore_bl
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@restore_bl:

; 1423 : 
; 1424 : 	ASSERT (virtual_cockpit_main_rotor_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@restore_bl
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@restore_bl:

; 1425 : 
; 1426 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00052	74 0c		 je	 SHORT $LN6@restore_bl
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00059	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005b	89 4d b4	 mov	 DWORD PTR tv80[ebp], ecx
  0005e	eb 21		 jmp	 SHORT $LN7@restore_bl
$LN6@restore_bl:
  00060	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00066	83 c2 0b	 add	 edx, 11			; 0000000bH
  00069	52		 push	 edx
  0006a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00074	50		 push	 eax
  00075	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007a	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN7@restore_bl:
  00081	b9 01 00 00 00	 mov	 ecx, 1
  00086	85 c9		 test	 ecx, ecx
  00088	74 09		 je	 SHORT $LN8@restore_bl
  0008a	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv88[ebp], 2
  00091	eb 21		 jmp	 SHORT $LN9@restore_bl
$LN8@restore_bl:
  00093	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA
  00099	83 c2 0b	 add	 edx, 11			; 0000000bH
  0009c	52		 push	 edx
  0009d	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000a7	50		 push	 eax
  000a8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ad	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv88[ebp], 0
$LN9@restore_bl:
  000b4	6a 02		 push	 2
  000b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000bc	51		 push	 ecx
  000bd	6b 55 b4 50	 imul	 edx, DWORD PTR tv80[ebp], 80
  000c1	8b 45 b0	 mov	 eax, DWORD PTR tv88[ebp]
  000c4	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000cb	ff d1		 call	 ecx
  000cd	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1427 : 
; 1428 : 	ASSERT (inst3d);

  000d0	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000d4	75 18		 jne	 SHORT $LN4@restore_bl
  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ@4JA
  000db	83 c0 0d	 add	 eax, 13			; 0000000dH
  000de	50		 push	 eax
  000df	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e4	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  000e9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@restore_bl:

; 1429 : 
; 1430 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  000ee	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000f1	50		 push	 eax
  000f2	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  000f7	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1431 : 
; 1432 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  000fa	51		 push	 ecx
  000fb	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00100	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1433 : 
; 1434 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00115	50		 push	 eax
  00116	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0011c	51		 push	 ecx
  0011d	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1435 : 
; 1436 : 	restore_helicopter_main_rotor_inst3d (virtual_cockpit_main_rotor_inst3d);

  00122	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00127	50		 push	 eax
  00128	e8 00 00 00 00	 call	 ?restore_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@@Z ; restore_helicopter_main_rotor_inst3d

; 1437 : }

  0012d	5f		 pop	 edi
  0012e	5e		 pop	 esi
  0012f	5b		 pop	 ebx
  00130	8b e5		 mov	 esp, ebp
  00132	5d		 pop	 ebp
  00133	c3		 ret	 0
?restore_blackhawk_virtual_cockpit_main_rotors@@YGXXZ ENDP ; restore_blackhawk_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z
_TEXT	SEGMENT
tv88 = -80						; size = 4
tv80 = -76						; size = 4
_inst3d$ = -8						; size = 4
_theta$ = -4						; size = 4
_seed$ = 8						; size = 4
?damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z PROC ; damage_blackhawk_virtual_cockpit_main_rotors, COMDAT

; 1386 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1387 : 	float
; 1388 : 		theta;
; 1389 : 
; 1390 : 	object_3d_instance
; 1391 : 		*inst3d;
; 1392 : 
; 1393 : 	ASSERT (get_gunship_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	75 18		 jne	 SHORT $LN2@damage_bla
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@EANNPEON@get_gunship_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@damage_bla:

; 1394 : 
; 1395 : 	ASSERT (virtual_cockpit_main_rotor_inst3d);

  0002a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0
  00031	75 18		 jne	 SHORT $LN3@damage_bla
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00038	83 c0 09	 add	 eax, 9
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MKOBILCB@virtual_cockpit_main_rotor_inst@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@damage_bla:

; 1396 : 
; 1397 : 	inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00052	74 0c		 je	 SHORT $LN6@damage_bla
  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00059	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005b	89 4d b4	 mov	 DWORD PTR tv80[ebp], ecx
  0005e	eb 21		 jmp	 SHORT $LN7@damage_bla
$LN6@damage_bla:
  00060	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00066	83 c2 0b	 add	 edx, 11			; 0000000bH
  00069	52		 push	 edx
  0006a	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00074	50		 push	 eax
  00075	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0007a	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
$LN7@damage_bla:
  00081	b9 01 00 00 00	 mov	 ecx, 1
  00086	85 c9		 test	 ecx, ecx
  00088	74 09		 je	 SHORT $LN8@damage_bla
  0008a	c7 45 b0 02 00
	00 00		 mov	 DWORD PTR tv88[ebp], 2
  00091	eb 21		 jmp	 SHORT $LN9@damage_bla
$LN8@damage_bla:
  00093	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  00099	83 c2 0b	 add	 edx, 11			; 0000000bH
  0009c	52		 push	 edx
  0009d	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  000a7	50		 push	 eax
  000a8	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ad	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv88[ebp], 0
$LN9@damage_bla:
  000b4	6a 02		 push	 2
  000b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000bc	51		 push	 ecx
  000bd	6b 55 b4 50	 imul	 edx, DWORD PTR tv80[ebp], 80
  000c1	8b 45 b0	 mov	 eax, DWORD PTR tv88[ebp]
  000c4	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  000cb	ff d1		 call	 ecx
  000cd	89 45 f8	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1398 : 
; 1399 : 	ASSERT (inst3d);

  000d0	83 7d f8 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  000d4	75 18		 jne	 SHORT $LN4@damage_bla
  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z@4JA
  000db	83 c0 0d	 add	 eax, 13			; 0000000dH
  000de	50		 push	 eax
  000df	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e4	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  000e9	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@damage_bla:

; 1400 : 
; 1401 : 	theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  000ee	8b 45 f8	 mov	 eax, DWORD PTR _inst3d$[ebp]
  000f1	50		 push	 eax
  000f2	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  000f7	d9 5d fc	 fstp	 DWORD PTR _theta$[ebp]

; 1402 : 
; 1403 : 	set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  000fa	51		 push	 ecx
  000fb	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _theta$[ebp]
  00100	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1404 : 
; 1405 : 	animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00115	50		 push	 eax
  00116	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0011c	51		 push	 ecx
  0011d	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1406 : 
; 1407 : 	damage_helicopter_main_rotor_inst3d (virtual_cockpit_main_rotor_inst3d, seed);

  00122	8b 45 08	 mov	 eax, DWORD PTR _seed$[ebp]
  00125	50		 push	 eax
  00126	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0012c	51		 push	 ecx
  0012d	e8 00 00 00 00	 call	 ?damage_helicopter_main_rotor_inst3d@@YGHPAUOBJECT_3D_INSTANCE@@H@Z ; damage_helicopter_main_rotor_inst3d

; 1408 : }

  00132	5f		 pop	 edi
  00133	5e		 pop	 esi
  00134	5b		 pop	 ebx
  00135	8b e5		 mov	 esp, ebp
  00137	5d		 pop	 ebp
  00138	c2 04 00	 ret	 4
?damage_blackhawk_virtual_cockpit_main_rotors@@YGXH@Z ENDP ; damage_blackhawk_virtual_cockpit_main_rotors
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z
_TEXT	SEGMENT
tv181 = -208						; size = 4
tv155 = -208						; size = 4
tv173 = -204						; size = 4
tv148 = -204						; size = 4
tv85 = -204						; size = 4
_roll$1 = -136						; size = 4
_pitch$2 = -132						; size = 4
_heading$3 = -128					; size = 4
_roll$4 = -124						; size = 4
_pitch$5 = -120						; size = 4
_heading$6 = -116					; size = 4
_inst3d$ = -112						; size = 4
_theta$ = -108						; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
_wiper_rle_graphic$ = 12				; size = 4
?draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z PROC ; draw_blackhawk_external_virtual_cockpit, COMDAT

; 1068 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1069 : 	viewpoint
; 1070 : 		vp;
; 1071 : 
; 1072 : 	object_3d_sub_object_search_data
; 1073 : 		search;
; 1074 : 
; 1075 : 	float
; 1076 : 		theta;
; 1077 : 
; 1078 : 	object_3d_instance
; 1079 : 		*inst3d;
; 1080 : 
; 1081 : 	////////////////////////////////////////
; 1082 : 	//
; 1083 : 	// virtual cockpit viewpoint is placed at the main object origin
; 1084 : 	//
; 1085 : 	////////////////////////////////////////
; 1086 : 
; 1087 : 	if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_LHS_MFD)

  0000c	83 3d 00 00 00
	00 1c		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 28 ; view_mode, 0000001cH
  00013	75 10		 jne	 SHORT $LN2@draw_black

; 1088 : 	{
; 1089 : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_LHS_MFD, &vp);

  00015	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00018	50		 push	 eax
  00019	6a 1c		 push	 28			; 0000001cH
  0001b	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint
  00020	e9 b8 00 00 00	 jmp	 $LN5@draw_black
$LN2@draw_black:

; 1090 : 	}
; 1091 : 	else if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_RHS_MFD)

  00025	83 3d 00 00 00
	00 1d		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 29 ; view_mode, 0000001dH
  0002c	75 10		 jne	 SHORT $LN4@draw_black

; 1092 : 	{
; 1093 : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_RHS_MFD, &vp);

  0002e	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00031	50		 push	 eax
  00032	6a 1d		 push	 29			; 0000001dH
  00034	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint

; 1094 : 	}
; 1095 : 	else

  00039	e9 9f 00 00 00	 jmp	 $LN5@draw_black
$LN4@draw_black:

; 1096 : 	{
; 1097 : 		vp.x = 0.0;

  0003e	0f 57 c0	 xorps	 xmm0, xmm0
  00041	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 1098 : 		vp.y = 0.0;

  00046	0f 57 c0	 xorps	 xmm0, xmm0
  00049	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1099 : 		vp.z = 0.0;

  0004e	0f 57 c0	 xorps	 xmm0, xmm0
  00051	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 1100 : 
; 1101 : 		if (get_global_wide_cockpit ())

  00056	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  0005d	74 28		 je	 SHORT $LN6@draw_black

; 1102 : 		{
; 1103 : 			vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  0005f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00066	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  0006e	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 1104 : 			vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00073	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0007a	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00082	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN6@draw_black:

; 1105 : 		}
; 1106 : 
; 1107 : 		get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  00087	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0008e	74 0f		 je	 SHORT $LN38@draw_black
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00095	8b 08		 mov	 ecx, DWORD PTR [eax]
  00097	89 8d 34 ff ff
	ff		 mov	 DWORD PTR tv85[ebp], ecx
  0009d	eb 24		 jmp	 SHORT $LN39@draw_black
$LN38@draw_black:
  0009f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z@4JA
  000a5	83 c2 27	 add	 edx, 39			; 00000027H
  000a8	52		 push	 edx
  000a9	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000b3	50		 push	 eax
  000b4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000b9	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv85[ebp], 0
$LN39@draw_black:
  000c3	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  000c6	51		 push	 ecx
  000c7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000cd	52		 push	 edx
  000ce	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR tv85[ebp]
  000d4	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  000db	ff d1		 call	 ecx
$LN5@draw_black:

; 1108 : 	}
; 1109 : 
; 1110 : 	////////////////////////////////////////
; 1111 : 	//
; 1112 : 	// draw 3D scene without lighting
; 1113 : 	//
; 1114 : 	////////////////////////////////////////
; 1115 : 
; 1116 : 	if (flags & (VIRTUAL_COCKPIT_MAIN_ROTOR | VIRTUAL_COCKPIT_STOWED_WIPER | VIRTUAL_COCKPIT_MOVING_WIPER))

  000dd	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  000e0	25 00 d0 00 00	 and	 eax, 53248		; 0000d000H
  000e5	0f 84 99 02 00
	00		 je	 $LN8@draw_black

; 1117 : 	{
; 1118 : 		set_3d_active_environment (main_3d_env);

  000eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1119 : 
; 1120 : //VJ 050108 wideview x coord used to clip apache cockpit
; 1121 : 		set_3d_view_distances (main_3d_env, 10.0 + clipx, 0.1, 1.0, 0.0);

  000f6	51		 push	 ecx
  000f7	0f 57 c0	 xorps	 xmm0, xmm0
  000fa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ff	51		 push	 ecx
  00100	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00108	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010d	51		 push	 ecx
  0010e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00116	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0011b	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?clipx@@3MA
  00123	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  0012b	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0012f	51		 push	 ecx
  00130	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00135	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0013a	50		 push	 eax
  0013b	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1122 : 
; 1123 : 		realise_3d_clip_extents (main_3d_env);

  00140	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00145	50		 push	 eax
  00146	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1124 : 
; 1125 : 		recalculate_3d_environment_settings (main_3d_env);

  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1126 : 
; 1127 : 		clear_zbuffer_screen ();

  00156	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1128 : 
; 1129 : 		if (begin_3d_scene ())

  0015b	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00160	85 c0		 test	 eax, eax
  00162	0f 84 1c 02 00
	00		 je	 $LN8@draw_black

; 1130 : 		{
; 1131 : 			//
; 1132 : 			// main rotor
; 1133 : 			//
; 1134 : 
; 1135 : 			if (flags & VIRTUAL_COCKPIT_MAIN_ROTOR)

  00168	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0016b	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  00170	0f 84 d3 01 00
	00		 je	 $LN10@draw_black

; 1136 : 			{
; 1137 : 				if (!(get_helicopter_main_rotors_blurred (get_gunship_entity ()) && (!get_global_blurred_main_rotors_visible_from_cockpit ())))

  00176	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0017b	50		 push	 eax
  0017c	e8 00 00 00 00	 call	 ?get_helicopter_main_rotors_blurred@@YGHPAUENTITY@@@Z ; get_helicopter_main_rotors_blurred
  00181	85 c0		 test	 eax, eax
  00183	74 0d		 je	 SHORT $LN11@draw_black
  00185	83 3d 1c 00 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+28, 0
  0018c	0f 84 b7 01 00
	00		 je	 $LN10@draw_black
$LN11@draw_black:

; 1138 : 				{
; 1139 : 					if (get_local_entity_int_value (get_gunship_entity (), INT_TYPE_MAIN_ROTOR_DAMAGED))

  00192	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00199	74 0f		 je	 SHORT $LN40@draw_black
  0019b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  001a0	8b 08		 mov	 ecx, DWORD PTR [eax]
  001a2	89 8d 34 ff ff
	ff		 mov	 DWORD PTR tv148[ebp], ecx
  001a8	eb 20		 jmp	 SHORT $LN41@draw_black
$LN40@draw_black:
  001aa	68 73 04 00 00	 push	 1139			; 00000473H
  001af	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001ba	52		 push	 edx
  001bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c0	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv148[ebp], 0
$LN41@draw_black:
  001ca	b8 01 00 00 00	 mov	 eax, 1
  001cf	85 c0		 test	 eax, eax
  001d1	74 0c		 je	 SHORT $LN42@draw_black
  001d3	c7 85 30 ff ff
	ff 81 00 00 00	 mov	 DWORD PTR tv155[ebp], 129 ; 00000081H
  001dd	eb 20		 jmp	 SHORT $LN43@draw_black
$LN42@draw_black:
  001df	68 73 04 00 00	 push	 1139			; 00000473H
  001e4	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001ef	51		 push	 ecx
  001f0	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001f5	c7 85 30 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv155[ebp], 0
$LN43@draw_black:
  001ff	68 81 00 00 00	 push	 129			; 00000081H
  00204	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0020a	52		 push	 edx
  0020b	69 85 34 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv148[ebp], 1116
  00215	8b 8d 30 ff ff
	ff		 mov	 ecx, DWORD PTR tv155[ebp]
  0021b	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00222	ff d2		 call	 edx
  00224	85 c0		 test	 eax, eax
  00226	74 0f		 je	 SHORT $LN12@draw_black

; 1140 : 					{
; 1141 : 						animate_damaged_helicopter_main_rotors (get_gunship_entity (), TRUE);

  00228	6a 01		 push	 1
  0022a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0022f	50		 push	 eax
  00230	e8 00 00 00 00	 call	 ?animate_damaged_helicopter_main_rotors@@YGXPAUENTITY@@H@Z ; animate_damaged_helicopter_main_rotors

; 1142 : 					}
; 1143 : 					else

  00235	eb 0f		 jmp	 SHORT $LN13@draw_black
$LN12@draw_black:

; 1144 : 					{
; 1145 : 						animate_helicopter_main_rotors (get_gunship_entity (), TRUE, FALSE);

  00237	6a 00		 push	 0
  00239	6a 01		 push	 1
  0023b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00240	50		 push	 eax
  00241	e8 00 00 00 00	 call	 ?animate_helicopter_main_rotors@@YGXPAUENTITY@@HH@Z ; animate_helicopter_main_rotors
$LN13@draw_black:

; 1146 : 					}
; 1147 : 
; 1148 : 					inst3d = (object_3d_instance *) get_local_entity_ptr_value (get_gunship_entity (), PTR_TYPE_INSTANCE_3D_OBJECT);

  00246	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  0024d	74 0f		 je	 SHORT $LN44@draw_black
  0024f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00254	8b 08		 mov	 ecx, DWORD PTR [eax]
  00256	89 8d 34 ff ff
	ff		 mov	 DWORD PTR tv173[ebp], ecx
  0025c	eb 24		 jmp	 SHORT $LN45@draw_black
$LN44@draw_black:
  0025e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z@4JA
  00264	83 c2 50	 add	 edx, 80			; 00000050H
  00267	52		 push	 edx
  00268	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00272	50		 push	 eax
  00273	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00278	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv173[ebp], 0
$LN45@draw_black:
  00282	b9 01 00 00 00	 mov	 ecx, 1
  00287	85 c9		 test	 ecx, ecx
  00289	74 0c		 je	 SHORT $LN46@draw_black
  0028b	c7 85 30 ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv181[ebp], 2
  00295	eb 24		 jmp	 SHORT $LN47@draw_black
$LN46@draw_black:
  00297	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z@4JA
  0029d	83 c2 50	 add	 edx, 80			; 00000050H
  002a0	52		 push	 edx
  002a1	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  002a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  002ab	50		 push	 eax
  002ac	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002b1	c7 85 30 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv181[ebp], 0
$LN47@draw_black:
  002bb	6a 02		 push	 2
  002bd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  002c3	51		 push	 ecx
  002c4	6b 95 34 ff ff
	ff 50		 imul	 edx, DWORD PTR tv173[ebp], 80
  002cb	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv181[ebp]
  002d1	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  002d8	ff d1		 call	 ecx
  002da	89 45 90	 mov	 DWORD PTR _inst3d$[ebp], eax

; 1149 : 
; 1150 : 					theta = get_rotation_angle_of_helicopter_main_rotors (inst3d);

  002dd	8b 45 90	 mov	 eax, DWORD PTR _inst3d$[ebp]
  002e0	50		 push	 eax
  002e1	e8 00 00 00 00	 call	 ?get_rotation_angle_of_helicopter_main_rotors@@YGMPAUOBJECT_3D_INSTANCE@@@Z ; get_rotation_angle_of_helicopter_main_rotors
  002e6	d9 5d 94	 fstp	 DWORD PTR _theta$[ebp]

; 1151 : 
; 1152 : 					set_rotation_angle_of_helicopter_main_rotors (virtual_cockpit_main_rotor_inst3d, theta);

  002e9	51		 push	 ecx
  002ea	f3 0f 10 45 94	 movss	 xmm0, DWORD PTR _theta$[ebp]
  002ef	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002f9	50		 push	 eax
  002fa	e8 00 00 00 00	 call	 ?set_rotation_angle_of_helicopter_main_rotors@@YGXPAUOBJECT_3D_INSTANCE@@M@Z ; set_rotation_angle_of_helicopter_main_rotors

; 1153 : 
; 1154 : 					animate_helicopter_virtual_cockpit_main_rotors (get_gunship_entity (), virtual_cockpit_main_rotor_inst3d);

  002ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00304	50		 push	 eax
  00305	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0030b	51		 push	 ecx
  0030c	e8 00 00 00 00	 call	 ?animate_helicopter_virtual_cockpit_main_rotors@@YGXPAUENTITY@@PAUOBJECT_3D_INSTANCE@@@Z ; animate_helicopter_virtual_cockpit_main_rotors

; 1155 : 
; 1156 : 					memcpy (&virtual_cockpit_main_rotor_inst3d->vp, &vp, sizeof (viewpoint));

  00311	6a 30		 push	 48			; 00000030H
  00313	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00316	50		 push	 eax
  00317	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0031d	83 c1 08	 add	 ecx, 8
  00320	51		 push	 ecx
  00321	e8 00 00 00 00	 call	 _memcpy
  00326	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1157 : 
; 1158 : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_main_rotor_inst3d->vp.position, virtual_cockpit_main_rotor_inst3d);

  00329	51		 push	 ecx
  0032a	0f 57 c0	 xorps	 xmm0, xmm0
  0032d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00332	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00337	50		 push	 eax
  00338	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0033e	83 c1 08	 add	 ecx, 8
  00341	51		 push	 ecx
  00342	6a 02		 push	 2
  00344	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN10@draw_black:

; 1159 : 				}
; 1160 : 			}
; 1161 : 
; 1162 : 			//
; 1163 : 			// wiper
; 1164 : 			//
; 1165 : 
; 1166 : 			if (wiper_mode == WIPER_MODE_STOWED)

  00349	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wiper_mode@@3W4WIPER_MODES@@A, 0 ; wiper_mode
  00350	75 15		 jne	 SHORT $LN14@draw_black

; 1167 : 			{
; 1168 : 				if (flags & VIRTUAL_COCKPIT_STOWED_WIPER)

  00352	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00355	25 00 40 00 00	 and	 eax, 16384		; 00004000H
  0035a	74 09		 je	 SHORT $LN16@draw_black

; 1169 : 				{
; 1170 : 					draw_blackhawk_virtual_cockpit_wiper (&vp);

  0035c	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0035f	50		 push	 eax
  00360	e8 00 00 00 00	 call	 ?draw_blackhawk_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z ; draw_blackhawk_virtual_cockpit_wiper
$LN16@draw_black:

; 1171 : 				}
; 1172 : 			}
; 1173 : 			else

  00365	eb 13		 jmp	 SHORT $LN17@draw_black
$LN14@draw_black:

; 1174 : 			{
; 1175 : 				if (flags & VIRTUAL_COCKPIT_MOVING_WIPER)

  00367	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0036a	25 00 80 00 00	 and	 eax, 32768		; 00008000H
  0036f	74 09		 je	 SHORT $LN17@draw_black

; 1176 : 				{
; 1177 : 					draw_blackhawk_virtual_cockpit_wiper (&vp);

  00371	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00374	50		 push	 eax
  00375	e8 00 00 00 00	 call	 ?draw_blackhawk_virtual_cockpit_wiper@@YGXPAUVIEWPOINT@@@Z ; draw_blackhawk_virtual_cockpit_wiper
$LN17@draw_black:

; 1178 : 				}
; 1179 : 			}
; 1180 : 
; 1181 : 			draw_3d_scene ();

  0037a	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1182 : 
; 1183 : 			end_3d_scene ();

  0037f	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN8@draw_black:

; 1184 : 		}
; 1185 : 	}
; 1186 : 
; 1187 : 	////////////////////////////////////////
; 1188 : 	//
; 1189 : 	// draw 3D scene with lighting
; 1190 : 	//
; 1191 : 	////////////////////////////////////////
; 1192 : 
; 1193 : 	if (flags & (VIRTUAL_COCKPIT_COMPASS | VIRTUAL_COCKPIT_ADI | VIRTUAL_COCKPIT_LARGE_ADI))

  00384	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00387	25 80 05 00 00	 and	 eax, 1408		; 00000580H
  0038c	0f 84 ff 02 00
	00		 je	 $LN19@draw_black

; 1194 : 	{
; 1195 : 		set_cockpit_lighting (vp.attitude);

  00392	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00395	50		 push	 eax
  00396	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 1196 : 
; 1197 : 		set_3d_active_environment (main_3d_single_light_env);

  0039b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  003a0	50		 push	 eax
  003a1	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1198 : 
; 1199 : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  003a6	51		 push	 ecx
  003a7	0f 57 c0	 xorps	 xmm0, xmm0
  003aa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003af	51		 push	 ecx
  003b0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  003b8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003bd	51		 push	 ecx
  003be	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  003c6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003cb	51		 push	 ecx
  003cc	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  003d4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  003de	50		 push	 eax
  003df	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1200 : 
; 1201 : 		realise_3d_clip_extents (main_3d_single_light_env);

  003e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  003e9	50		 push	 eax
  003ea	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1202 : 
; 1203 : 		clear_zbuffer_screen ();

  003ef	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1204 : 
; 1205 : 		if (begin_3d_scene ())

  003f4	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  003f9	85 c0		 test	 eax, eax
  003fb	0f 84 90 02 00
	00		 je	 $LN19@draw_black

; 1206 : 		{
; 1207 : 			//
; 1208 : 			// compass
; 1209 : 			//
; 1210 : 
; 1211 : 			if (flags & VIRTUAL_COCKPIT_COMPASS)

  00401	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00404	25 00 04 00 00	 and	 eax, 1024		; 00000400H
  00409	0f 84 be 00 00
	00		 je	 $LN20@draw_black

; 1212 : 			{
; 1213 : 				search.search_depth = 0;

  0040f	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1214 : 				search.search_object = virtual_cockpit_compass_inst3d;

  00416	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0041b	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1215 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_COMPASS_HEADING_NULL;

  0041e	c7 45 a4 6e 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 110 ; 0000006eH

; 1216 : 
; 1217 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00425	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00428	50		 push	 eax
  00429	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0042e	83 f8 01	 cmp	 eax, 1
  00431	75 1c		 jne	 SHORT $LN21@draw_black

; 1218 : 				{
; 1219 : 					search.result_sub_object->relative_heading = -current_flight_dynamics->heading.value;

  00433	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00438	f3 0f 10 80 8c
	21 00 00	 movss	 xmm0, DWORD PTR [eax+8588]
  00440	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00447	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  0044a	f3 0f 11 41 18	 movss	 DWORD PTR [ecx+24], xmm0
$LN21@draw_black:

; 1220 : 				}
; 1221 : 
; 1222 : //VJ wideview mod, date: 18-mar-03
; 1223 : 				if (get_global_wide_cockpit ())

  0044f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00456	74 20		 je	 SHORT $LN22@draw_black

; 1224 : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y + 0.01;

  00458	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0045f	f3 0f 5a 80 18
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  00467	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  0046f	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00473	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0
$LN22@draw_black:

; 1225 : 
; 1226 : 				memcpy (&virtual_cockpit_compass_inst3d->vp, &vp, sizeof (viewpoint));

  00478	6a 30		 push	 48			; 00000030H
  0047a	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0047d	50		 push	 eax
  0047e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00484	83 c1 08	 add	 ecx, 8
  00487	51		 push	 ecx
  00488	e8 00 00 00 00	 call	 _memcpy
  0048d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1227 : 
; 1228 : //VJ wideview mod, date: 18-mar-03
; 1229 : 				if (get_global_wide_cockpit ())

  00490	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00497	74 14		 je	 SHORT $LN23@draw_black

; 1230 : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  00499	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  004a0	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  004a8	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0
$LN23@draw_black:

; 1231 : 
; 1232 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_compass_inst3d->vp.position, virtual_cockpit_compass_inst3d);

  004ad	51		 push	 ecx
  004ae	0f 57 c0	 xorps	 xmm0, xmm0
  004b1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004bb	50		 push	 eax
  004bc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004c2	83 c1 08	 add	 ecx, 8
  004c5	51		 push	 ecx
  004c6	6a 02		 push	 2
  004c8	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN20@draw_black:

; 1233 : 			}
; 1234 : 
; 1235 : 			//
; 1236 : 			// ADI
; 1237 : 			//
; 1238 : 
; 1239 : 			if (flags & VIRTUAL_COCKPIT_ADI)

  004cd	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  004d0	25 80 00 00 00	 and	 eax, 128		; 00000080H
  004d5	0f 84 ec 00 00
	00		 je	 $LN24@draw_black

; 1240 : 			{
; 1241 : 				search.search_depth = 0;

  004db	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1242 : 				search.search_object = virtual_cockpit_adi_inst3d;

  004e2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004e7	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1243 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI;

  004ea	c7 45 a4 6c 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 108 ; 0000006cH

; 1244 : 
; 1245 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004f1	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  004f4	50		 push	 eax
  004f5	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  004fa	83 f8 01	 cmp	 eax, 1
  004fd	75 4a		 jne	 SHORT $LN25@draw_black

; 1246 : 				{
; 1247 : 					float
; 1248 : 						heading,
; 1249 : 						pitch,
; 1250 : 						roll;
; 1251 : 
; 1252 : 					get_blackhawk_virtual_cockpit_adi_angles (vp.attitude, &heading, &pitch, &roll);

  004ff	8d 45 84	 lea	 eax, DWORD PTR _roll$4[ebp]
  00502	50		 push	 eax
  00503	8d 4d 88	 lea	 ecx, DWORD PTR _pitch$5[ebp]
  00506	51		 push	 ecx
  00507	8d 55 8c	 lea	 edx, DWORD PTR _heading$6[ebp]
  0050a	52		 push	 edx
  0050b	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  0050e	50		 push	 eax
  0050f	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z ; get_blackhawk_virtual_cockpit_adi_angles

; 1253 : 
; 1254 : 					search.result_sub_object->relative_heading = -heading;

  00514	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _heading$6[ebp]
  00519	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00520	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00523	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 1255 : 
; 1256 : 					search.result_sub_object->relative_pitch = pitch;

  00528	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0052b	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _pitch$5[ebp]
  00530	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 1257 : 
; 1258 : 					search.result_sub_object->relative_roll = -roll;

  00535	f3 0f 10 45 84	 movss	 xmm0, DWORD PTR _roll$4[ebp]
  0053a	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00541	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00544	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN25@draw_black:

; 1259 : 				}
; 1260 : //VJ wideview mod, date: 18-mar-03
; 1261 : 				if (get_global_wide_cockpit ())

  00549	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00550	74 20		 je	 SHORT $LN26@draw_black

; 1262 : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y+0.02;

  00552	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00559	f3 0f 5a 80 18
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  00561	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f947ae147ae147b
  00569	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0056d	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0
$LN26@draw_black:

; 1263 : 
; 1264 : 				memcpy (&virtual_cockpit_adi_inst3d->vp, &vp, sizeof (viewpoint));

  00572	6a 30		 push	 48			; 00000030H
  00574	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00577	50		 push	 eax
  00578	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0057e	83 c1 08	 add	 ecx, 8
  00581	51		 push	 ecx
  00582	e8 00 00 00 00	 call	 _memcpy
  00587	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1265 : 
; 1266 : //VJ wideview mod, date: 18-mar-03
; 1267 : 				if (get_global_wide_cockpit ())

  0058a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00591	74 14		 je	 SHORT $LN27@draw_black

; 1268 : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  00593	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0059a	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  005a2	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0
$LN27@draw_black:

; 1269 : 
; 1270 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_adi_inst3d->vp.position, virtual_cockpit_adi_inst3d);

  005a7	51		 push	 ecx
  005a8	0f 57 c0	 xorps	 xmm0, xmm0
  005ab	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005b5	50		 push	 eax
  005b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005bc	83 c1 08	 add	 ecx, 8
  005bf	51		 push	 ecx
  005c0	6a 02		 push	 2
  005c2	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN24@draw_black:

; 1271 : 			}
; 1272 : 
; 1273 : 			//
; 1274 : 			// large ADI
; 1275 : 			//
; 1276 : 
; 1277 : 			if (flags & VIRTUAL_COCKPIT_LARGE_ADI)

  005c7	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  005ca	25 00 01 00 00	 and	 eax, 256		; 00000100H
  005cf	0f 84 b2 00 00
	00		 je	 $LN28@draw_black

; 1278 : 			{
; 1279 : 				search.search_depth = 0;

  005d5	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 1280 : 				search.search_object = virtual_cockpit_large_adi_inst3d;

  005dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005e1	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 1281 : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI;

  005e4	c7 45 a4 6c 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 108 ; 0000006cH

; 1282 : 
; 1283 : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  005eb	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  005ee	50		 push	 eax
  005ef	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  005f4	83 f8 01	 cmp	 eax, 1
  005f7	75 56		 jne	 SHORT $LN29@draw_black

; 1284 : 				{
; 1285 : 					float
; 1286 : 						heading,
; 1287 : 						pitch,
; 1288 : 						roll;
; 1289 : 
; 1290 : 					get_blackhawk_virtual_cockpit_adi_angles (vp.attitude, &heading, &pitch, &roll);

  005f9	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _roll$1[ebp]
  005ff	50		 push	 eax
  00600	8d 8d 7c ff ff
	ff		 lea	 ecx, DWORD PTR _pitch$2[ebp]
  00606	51		 push	 ecx
  00607	8d 55 80	 lea	 edx, DWORD PTR _heading$3[ebp]
  0060a	52		 push	 edx
  0060b	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  0060e	50		 push	 eax
  0060f	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_adi_angles@@YGXQAY02MPAM11@Z ; get_blackhawk_virtual_cockpit_adi_angles

; 1291 : 
; 1292 : 					search.result_sub_object->relative_heading = -heading;

  00614	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _heading$3[ebp]
  00619	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00620	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00623	f3 0f 11 40 18	 movss	 DWORD PTR [eax+24], xmm0

; 1293 : 
; 1294 : 					search.result_sub_object->relative_pitch = pitch;

  00628	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0062b	f3 0f 10 85 7c
	ff ff ff	 movss	 xmm0, DWORD PTR _pitch$2[ebp]
  00633	f3 0f 11 40 1c	 movss	 DWORD PTR [eax+28], xmm0

; 1295 : 
; 1296 : 					search.result_sub_object->relative_roll = -roll;

  00638	f3 0f 10 85 78
	ff ff ff	 movss	 xmm0, DWORD PTR _roll$1[ebp]
  00640	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00647	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0064a	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN29@draw_black:

; 1297 : 				}
; 1298 : 
; 1299 : 				memcpy (&virtual_cockpit_large_adi_inst3d->vp, &vp, sizeof (viewpoint));

  0064f	6a 30		 push	 48			; 00000030H
  00651	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00654	50		 push	 eax
  00655	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0065b	83 c1 08	 add	 ecx, 8
  0065e	51		 push	 ecx
  0065f	e8 00 00 00 00	 call	 _memcpy
  00664	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1300 : 
; 1301 : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_large_adi_inst3d->vp.position, virtual_cockpit_large_adi_inst3d);

  00667	51		 push	 ecx
  00668	0f 57 c0	 xorps	 xmm0, xmm0
  0066b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00670	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00675	50		 push	 eax
  00676	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0067c	83 c1 08	 add	 ecx, 8
  0067f	51		 push	 ecx
  00680	6a 02		 push	 2
  00682	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN28@draw_black:

; 1302 : 			}
; 1303 : 
; 1304 : 			draw_3d_scene ();

  00687	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1305 : 
; 1306 : 			end_3d_scene ();

  0068c	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN19@draw_black:

; 1307 : 		}
; 1308 : 	}
; 1309 : 
; 1310 : 	////////////////////////////////////////
; 1311 : 	//
; 1312 : 	// rendered wiper
; 1313 : 	//
; 1314 : 	////////////////////////////////////////
; 1315 : 
; 1316 : 	if (flags & VIRTUAL_COCKPIT_RENDERED_WIPER)

  00691	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00694	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  00699	74 59		 je	 SHORT $LN33@draw_black

; 1317 : 	{
; 1318 : 		if (wiper_mode == WIPER_MODE_STOWED)

  0069b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wiper_mode@@3W4WIPER_MODES@@A, 0 ; wiper_mode
  006a2	75 50		 jne	 SHORT $LN33@draw_black

; 1319 : 		{
; 1320 : 			ASSERT (wiper_rle_graphic);

  006a4	83 7d 0c 00	 cmp	 DWORD PTR _wiper_rle_graphic$[ebp], 0
  006a8	75 1a		 jne	 SHORT $LN32@draw_black
  006aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z@4JA
  006af	05 fc 00 00 00	 add	 eax, 252		; 000000fcH
  006b4	50		 push	 eax
  006b5	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  006ba	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@ENKILJCA@wiper_rle_graphic@
  006bf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN32@draw_black:

; 1321 : 
; 1322 : 			if (lock_screen (active_screen))

  006c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  006c9	50		 push	 eax
  006ca	e8 00 00 00 00	 call	 ?lock_screen@@YGHPAUSCREEN@@@Z ; lock_screen
  006cf	85 c0		 test	 eax, eax
  006d1	74 21		 je	 SHORT $LN33@draw_black

; 1323 : 			{
; 1324 : 				blit_rle_graphic (wiper_rle_graphic, ix_640_480, iy_640_480);

  006d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?iy_640_480@@3HA ; iy_640_480
  006d8	50		 push	 eax
  006d9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ix_640_480@@3HA ; ix_640_480
  006df	51		 push	 ecx
  006e0	8b 55 0c	 mov	 edx, DWORD PTR _wiper_rle_graphic$[ebp]
  006e3	52		 push	 edx
  006e4	e8 00 00 00 00	 call	 ?blit_rle_graphic@@YGXPBEHH@Z ; blit_rle_graphic

; 1325 : 
; 1326 : 				unlock_screen (active_screen);

  006e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  006ee	50		 push	 eax
  006ef	e8 00 00 00 00	 call	 ?unlock_screen@@YGHPAUSCREEN@@@Z ; unlock_screen
$LN33@draw_black:

; 1327 : 			}
; 1328 : 		}
; 1329 : 	}
; 1330 : 
; 1331 : 	////////////////////////////////////////
; 1332 : 	//
; 1333 : 	// rain effect
; 1334 : 	//
; 1335 : 	////////////////////////////////////////
; 1336 : 
; 1337 : 	if (flags & VIRTUAL_COCKPIT_RAIN_EFFECT)

  006f4	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  006f7	25 00 00 01 00	 and	 eax, 65536		; 00010000H
  006fc	0f 84 8d 00 00
	00		 je	 $LN36@draw_black

; 1338 : 	{
; 1339 : 		if (rain_mode != RAIN_MODE_DRY)

  00702	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?rain_mode@@3W4RAIN_MODES@@A, 0 ; rain_mode
  00709	0f 84 80 00 00
	00		 je	 $LN36@draw_black

; 1340 : 		{
; 1341 : 			set_3d_active_environment (main_3d_env);

  0070f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00714	50		 push	 eax
  00715	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 1342 : 
; 1343 : 			set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  0071a	51		 push	 ecx
  0071b	0f 57 c0	 xorps	 xmm0, xmm0
  0071e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00723	51		 push	 ecx
  00724	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0072c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00731	51		 push	 ecx
  00732	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  0073a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0073f	51		 push	 ecx
  00740	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00748	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0074d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00752	50		 push	 eax
  00753	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1344 : 
; 1345 : 			realise_3d_clip_extents (main_3d_env);

  00758	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0075d	50		 push	 eax
  0075e	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1346 : 
; 1347 : 			recalculate_3d_environment_settings (main_3d_env);

  00763	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00768	50		 push	 eax
  00769	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 1348 : 
; 1349 : 			clear_zbuffer_screen ();

  0076e	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 1350 : 
; 1351 : 			if (begin_3d_scene ())

  00773	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00778	85 c0		 test	 eax, eax
  0077a	74 13		 je	 SHORT $LN36@draw_black

; 1352 : 			{
; 1353 : 				draw_blackhawk_virtual_cockpit_rain_effect (&vp);

  0077c	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0077f	50		 push	 eax
  00780	e8 00 00 00 00	 call	 ?draw_blackhawk_virtual_cockpit_rain_effect@@YGXPAUVIEWPOINT@@@Z ; draw_blackhawk_virtual_cockpit_rain_effect

; 1354 : 
; 1355 : 				draw_3d_scene ();

  00785	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1356 : 
; 1357 : 				end_3d_scene ();

  0078a	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN36@draw_black:

; 1358 : 			}
; 1359 : 		}
; 1360 : 	}
; 1361 : 
; 1362 : 	////////////////////////////////////////
; 1363 : 	//
; 1364 : 	// tidy up
; 1365 : 	//
; 1366 : 	////////////////////////////////////////
; 1367 : 
; 1368 : 	#if RECOGNITION_GUIDE
; 1369 : 
; 1370 : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 1371 : 
; 1372 : 	#else
; 1373 : 
; 1374 : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  0078f	51		 push	 ecx
  00790	0f 57 c0	 xorps	 xmm0, xmm0
  00793	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00798	51		 push	 ecx
  00799	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  007a1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007a6	51		 push	 ecx
  007a7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  007af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007b4	51		 push	 ecx
  007b5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  007bd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  007c7	50		 push	 eax
  007c8	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1375 : 
; 1376 : 	#endif
; 1377 : 
; 1378 : 	realise_3d_clip_extents (main_3d_env);

  007cd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  007d2	50		 push	 eax
  007d3	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1379 : }

  007d8	5f		 pop	 edi
  007d9	5e		 pop	 esi
  007da	5b		 pop	 ebx
  007db	8b e5		 mov	 esp, ebp
  007dd	5d		 pop	 ebp
  007de	c2 08 00	 ret	 8
?draw_blackhawk_external_virtual_cockpit@@YGXIPAE@Z ENDP ; draw_blackhawk_external_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?draw_blackhawk_internal_virtual_cockpit@@YGXI@Z
_TEXT	SEGMENT
tv457 = -196						; size = 4
tv176 = -196						; size = 4
tv451 = -192						; size = 4
tv170 = -192						; size = 4
tv444 = -188						; size = 4
tv163 = -188						; size = 4
tv91 = -188						; size = 4
_seconds$1 = -120					; size = 4
_minutes$2 = -116					; size = 4
_hours$3 = -112						; size = 4
_virtual_cockpit_inst3d$ = -108				; size = 4
_search$ = -104						; size = 56
_vp$ = -48						; size = 48
_flags$ = 8						; size = 4
?draw_blackhawk_internal_virtual_cockpit@@YGXI@Z PROC	; draw_blackhawk_internal_virtual_cockpit, COMDAT

; 489  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 490  : 	viewpoint
; 491  : 		vp;
; 492  : 
; 493  : 	object_3d_sub_object_search_data
; 494  : 		search;
; 495  : 
; 496  : 	object_3d_instance
; 497  : 		*virtual_cockpit_inst3d;
; 498  : 
; 499  : 	////////////////////////////////////////
; 500  : 	//
; 501  : 	// virtual cockpit viewpoint is placed at the main object origin
; 502  : 	//
; 503  : 	////////////////////////////////////////
; 504  : 
; 505  : 	if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_LHS_MFD)

  0000c	83 3d 00 00 00
	00 1c		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 28 ; view_mode, 0000001cH
  00013	75 10		 jne	 SHORT $LN6@draw_black

; 506  : 	{
; 507  : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_LHS_MFD, &vp);

  00015	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00018	50		 push	 eax
  00019	6a 1c		 push	 28			; 0000001cH
  0001b	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint
  00020	e9 f0 00 00 00	 jmp	 $LN9@draw_black
$LN6@draw_black:

; 508  : 	}
; 509  : 	else if (get_view_mode () == VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_RHS_MFD)

  00025	83 3d 00 00 00
	00 1d		 cmp	 DWORD PTR ?view_mode@@3W4VIEW_MODES@@A, 29 ; view_mode, 0000001dH
  0002c	75 10		 jne	 SHORT $LN8@draw_black

; 510  : 	{
; 511  : 		get_display_viewpoint (VIEW_MODE_COCKPIT_PANEL_SPECIAL_APACHE_RHS_MFD, &vp);

  0002e	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00031	50		 push	 eax
  00032	6a 1d		 push	 29			; 0000001dH
  00034	e8 00 00 00 00	 call	 ?get_display_viewpoint@@YGXW4VIEW_MODES@@PAUVIEWPOINT@@@Z ; get_display_viewpoint

; 512  : 	}
; 513  : 	else

  00039	e9 d7 00 00 00	 jmp	 $LN9@draw_black
$LN8@draw_black:

; 514  : 	{
; 515  : 		vp.x = 0.0;

  0003e	0f 57 c0	 xorps	 xmm0, xmm0
  00041	f3 0f 11 45 d0	 movss	 DWORD PTR _vp$[ebp], xmm0

; 516  : 		vp.y = 0.0;

  00046	0f 57 c0	 xorps	 xmm0, xmm0
  00049	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 517  : 		vp.z = 0.0;

  0004e	0f 57 c0	 xorps	 xmm0, xmm0
  00051	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 518  : 
; 519  : //VJ wideview mod, date: 18-mar-03
; 520  : 		if (get_global_wide_cockpit ())

  00056	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  0005d	74 60		 je	 SHORT $LN11@draw_black

; 521  : 		{
; 522  : 			vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  0005f	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00066	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  0006e	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 523  : 			vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00073	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0007a	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00082	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 524  : 			//VJ 050207 included head pitch in fixed view setting
; 525  : 			pilot_head_pitch_datum = rad ( wide_cockpit_position[wide_cockpit_nr].c.p );

  00087	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0008e	f3 0f 10 80 20
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+32]
  00096	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3c8efa35
  0009e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 526  : 			if (edit_wide_cockpit)

  000a6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?edit_wide_cockpit@@3HA, 0 ; edit_wide_cockpit
  000ad	74 10		 je	 SHORT $LN11@draw_black

; 527  : 				pilot_head_pitch = pilot_head_pitch_datum;

  000af	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?pilot_head_pitch_datum@@3MA
  000b7	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch@@3MA, xmm0
$LN11@draw_black:

; 528  : 		}
; 529  : 
; 530  : 		get_local_entity_attitude_matrix (get_gunship_entity (), vp.attitude);

  000bf	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  000c6	74 0f		 je	 SHORT $LN57@draw_black
  000c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  000cd	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cf	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv91[ebp], ecx
  000d5	eb 24		 jmp	 SHORT $LN58@draw_black
$LN57@draw_black:
  000d7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??draw_blackhawk_internal_virtual_cockpit@@YGXI@Z@4JA
  000dd	83 c2 29	 add	 edx, 41			; 00000029H
  000e0	52		 push	 edx
  000e1	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000eb	50		 push	 eax
  000ec	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000f1	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv91[ebp], 0
$LN58@draw_black:
  000fb	8d 4d dc	 lea	 ecx, DWORD PTR _vp$[ebp+12]
  000fe	51		 push	 ecx
  000ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00105	52		 push	 edx
  00106	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR tv91[ebp]
  0010c	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_attitude_matrix@@3PAP6GXPAUENTITY@@QAY02M@ZA[eax*4]
  00113	ff d1		 call	 ecx
$LN9@draw_black:

; 531  : 	}
; 532  : 
; 533  : 	////////////////////////////////////////
; 534  : 	//
; 535  : 	// render displays onto textures (before draw 3D scenes)
; 536  : 	//
; 537  : 	////////////////////////////////////////
; 538  : 
; 539  : 	if (flags & VIRTUAL_COCKPIT_UPFRONT_DISPLAY)

  00115	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00118	25 00 00 08 00	 and	 eax, 524288		; 00080000H
  0011d	74 05		 je	 SHORT $LN12@draw_black

; 540  : 	{
; 541  : 		draw_blackhawk_upfront_display_on_texture ();

  0011f	e8 00 00 00 00	 call	 ?draw_blackhawk_upfront_display_on_texture@@YGXXZ ; draw_blackhawk_upfront_display_on_texture
$LN12@draw_black:

; 542  : 	}
; 543  : 
; 544  : 	if (flags & VIRTUAL_COCKPIT_LHS_MFD_DISPLAY)

  00124	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00127	83 e0 20	 and	 eax, 32			; 00000020H
  0012a	74 07		 je	 SHORT $LN13@draw_black

; 545  : 	{
; 546  : 		draw_blackhawk_mfd_on_texture (MFD_LOCATION_LHS);

  0012c	6a 00		 push	 0
  0012e	e8 00 00 00 00	 call	 ?draw_blackhawk_mfd_on_texture@@YGXW4MFD_LOCATIONS@@@Z ; draw_blackhawk_mfd_on_texture
$LN13@draw_black:

; 547  : 	}
; 548  : 
; 549  : 	if (flags & VIRTUAL_COCKPIT_RHS_MFD_DISPLAY)

  00133	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00136	83 e0 40	 and	 eax, 64			; 00000040H
  00139	74 07		 je	 SHORT $LN14@draw_black

; 550  : 	{
; 551  : 		draw_blackhawk_mfd_on_texture (MFD_LOCATION_RHS);

  0013b	6a 01		 push	 1
  0013d	e8 00 00 00 00	 call	 ?draw_blackhawk_mfd_on_texture@@YGXW4MFD_LOCATIONS@@@Z ; draw_blackhawk_mfd_on_texture
$LN14@draw_black:

; 552  : 	}
; 553  : 
; 554  : 	////////////////////////////////////////
; 555  : 	//
; 556  : 	// draw 3D scene with lighting
; 557  : 	//
; 558  : 	////////////////////////////////////////
; 559  : 
; 560  : 	if (flags & (VIRTUAL_COCKPIT_COCKPIT))

  00142	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00145	83 e0 01	 and	 eax, 1
  00148	0f 84 c4 01 00
	00		 je	 $LN18@draw_black

; 561  : 	{
; 562  : 		set_cockpit_white_lighting (vp.attitude);

  0014e	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00151	50		 push	 eax
  00152	e8 00 00 00 00	 call	 ?set_cockpit_white_lighting@@YGXQAY02M@Z ; set_cockpit_white_lighting

; 563  : 
; 564  : 		set_3d_active_environment (main_3d_single_light_env);

  00157	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0015c	50		 push	 eax
  0015d	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 565  : 
; 566  : //VJ 050108 wideview x coord used to clip apache cockpit
; 567  : 		if (get_global_wide_cockpit ())

  00162	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00169	74 19		 je	 SHORT $LN16@draw_black

; 568  : 			clipx = wide_cockpit_position[wide_cockpit_nr].c.x;

  0016b	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  00172	f3 0f 10 80 14
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+20]
  0017a	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?clipx@@3MA, xmm0

; 569  : 		else

  00182	eb 0b		 jmp	 SHORT $LN17@draw_black
$LN16@draw_black:

; 570  : 			clipx = 0;

  00184	0f 57 c0	 xorps	 xmm0, xmm0
  00187	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?clipx@@3MA, xmm0
$LN17@draw_black:

; 571  : 
; 572  : 		set_3d_view_distances (main_3d_single_light_env, 10.0+clipx, 0.1, 1.0, 0.0);

  0018f	51		 push	 ecx
  00190	0f 57 c0	 xorps	 xmm0, xmm0
  00193	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00198	51		 push	 ecx
  00199	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001a1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a6	51		 push	 ecx
  001a7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  001af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001b4	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?clipx@@3MA
  001bc	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@4024000000000000
  001c4	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001c8	51		 push	 ecx
  001c9	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  001d3	50		 push	 eax
  001d4	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 573  : 
; 574  : 		realise_3d_clip_extents (main_3d_single_light_env);

  001d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  001de	50		 push	 eax
  001df	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 575  : 
; 576  : 		clear_zbuffer_screen ();

  001e4	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 577  : 
; 578  : 		if (begin_3d_scene ())

  001e9	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  001ee	85 c0		 test	 eax, eax
  001f0	0f 84 1c 01 00
	00		 je	 $LN18@draw_black

; 579  : 		{
; 580  : 			//
; 581  : 			// virtual cockpit
; 582  : 			//
; 583  : 
; 584  : 			if (flags & VIRTUAL_COCKPIT_COCKPIT)

  001f6	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  001f9	83 e0 01	 and	 eax, 1
  001fc	0f 84 01 01 00
	00		 je	 $LN19@draw_black

; 585  : 			{
; 586  : 				switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00202	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00209	74 0f		 je	 SHORT $LN59@draw_black
  0020b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00210	8b 08		 mov	 ecx, DWORD PTR [eax]
  00212	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv163[ebp], ecx
  00218	eb 20		 jmp	 SHORT $LN60@draw_black
$LN59@draw_black:
  0021a	68 4a 02 00 00	 push	 586			; 0000024aH
  0021f	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00224	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0022a	52		 push	 edx
  0022b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00230	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv163[ebp], 0
$LN60@draw_black:
  0023a	b8 01 00 00 00	 mov	 eax, 1
  0023f	85 c0		 test	 eax, eax
  00241	74 0c		 je	 SHORT $LN61@draw_black
  00243	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv170[ebp], 39 ; 00000027H
  0024d	eb 20		 jmp	 SHORT $LN62@draw_black
$LN61@draw_black:
  0024f	68 4a 02 00 00	 push	 586			; 0000024aH
  00254	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00259	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0025f	51		 push	 ecx
  00260	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00265	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv170[ebp], 0
$LN62@draw_black:
  0026f	6a 27		 push	 39			; 00000027H
  00271	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00277	52		 push	 edx
  00278	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv163[ebp], 1116
  00282	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv170[ebp]
  00288	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0028f	ff d2		 call	 edx
  00291	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv176[ebp], eax
  00297	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv176[ebp], 3
  0029e	77 33		 ja	 SHORT $LN2@draw_black
  002a0	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv176[ebp]
  002a6	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN67@draw_black[eax*4]
$LN20@draw_black:

; 587  : 				{
; 588  : 					////////////////////////////////////////
; 589  : 					case DAY_SEGMENT_TYPE_DAWN:
; 590  : 					////////////////////////////////////////
; 591  : 					{
; 592  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  002ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002b2	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 593  : 
; 594  : 						break;

  002b5	eb 1c		 jmp	 SHORT $LN2@draw_black
$LN21@draw_black:

; 595  : 					}
; 596  : 					////////////////////////////////////////
; 597  : 					case DAY_SEGMENT_TYPE_DAY:
; 598  : 					////////////////////////////////////////
; 599  : 					{
; 600  : 						virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;

  002b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002bc	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 601  : 
; 602  : 						break;

  002bf	eb 12		 jmp	 SHORT $LN2@draw_black
$LN22@draw_black:

; 603  : 					}
; 604  : 					////////////////////////////////////////
; 605  : 					case DAY_SEGMENT_TYPE_DUSK:
; 606  : 					////////////////////////////////////////
; 607  : 					{
; 608  : 						virtual_cockpit_inst3d = virtual_cockpit_level2_inst3d;

  002c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002c6	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 609  : 
; 610  : 						break;

  002c9	eb 08		 jmp	 SHORT $LN2@draw_black
$LN23@draw_black:

; 611  : 					}
; 612  : 					////////////////////////////////////////
; 613  : 					case DAY_SEGMENT_TYPE_NIGHT:
; 614  : 					////////////////////////////////////////
; 615  : 					{
; 616  : 						virtual_cockpit_inst3d = virtual_cockpit_level3_inst3d;

  002cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  002d0	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN2@draw_black:

; 617  : 
; 618  : 						break;
; 619  : 					}
; 620  : 				}
; 621  : 
; 622  : 				#if DEMO_VERSION
; 623  : 
; 624  : 				virtual_cockpit_inst3d = virtual_cockpit_level1_inst3d;
; 625  : 
; 626  : 				#endif
; 627  : 
; 628  : 				memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));

  002d3	6a 30		 push	 48			; 00000030H
  002d5	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  002d8	50		 push	 eax
  002d9	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002dc	83 c1 08	 add	 ecx, 8
  002df	51		 push	 ecx
  002e0	e8 00 00 00 00	 call	 _memcpy
  002e5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 629  : 
; 630  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  002e8	51		 push	 ecx
  002e9	0f 57 c0	 xorps	 xmm0, xmm0
  002ec	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002f1	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002f4	50		 push	 eax
  002f5	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  002f8	83 c1 08	 add	 ecx, 8
  002fb	51		 push	 ecx
  002fc	6a 02		 push	 2
  002fe	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN19@draw_black:

; 631  : 			}
; 632  : 
; 633  : 			draw_3d_scene ();

  00303	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 634  : 
; 635  : 			print_edit_wide_cockpit ();

  00308	e8 00 00 00 00	 call	 ?print_edit_wide_cockpit@@YGXXZ ; print_edit_wide_cockpit

; 636  : 
; 637  : 			end_3d_scene ();

  0030d	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN18@draw_black:

; 638  : 		}
; 639  : 	}
; 640  : 
; 641  : 	////////////////////////////////////////
; 642  : 	//
; 643  : 	// draw 3D scene with lighting
; 644  : 	//
; 645  : 	////////////////////////////////////////
; 646  : 
; 647  : 	if (flags & (VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES | VIRTUAL_COCKPIT_INSTRUMENT_LARGE_NEEDLES))

  00312	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00315	25 00 00 06 00	 and	 eax, 393216		; 00060000H
  0031a	0f 84 ae 03 00
	00		 je	 $LN25@draw_black

; 648  : 	{
; 649  : 		set_cockpit_lighting (vp.attitude);

  00320	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  00323	50		 push	 eax
  00324	e8 00 00 00 00	 call	 ?set_cockpit_lighting@@YGXQAY02M@Z ; set_cockpit_lighting

; 650  : 
; 651  : 		set_3d_active_environment (main_3d_single_light_env);

  00329	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0032e	50		 push	 eax
  0032f	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 652  : 
; 653  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  00334	51		 push	 ecx
  00335	0f 57 c0	 xorps	 xmm0, xmm0
  00338	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0033d	51		 push	 ecx
  0033e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00346	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0034b	51		 push	 ecx
  0034c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00354	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00359	51		 push	 ecx
  0035a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00362	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00367	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  0036c	50		 push	 eax
  0036d	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 654  : 
; 655  : 		realise_3d_clip_extents (main_3d_single_light_env);

  00372	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00377	50		 push	 eax
  00378	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 656  : 
; 657  : 		clear_zbuffer_screen ();

  0037d	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 658  : 
; 659  : 		if (begin_3d_scene ())

  00382	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00387	85 c0		 test	 eax, eax
  00389	0f 84 3f 03 00
	00		 je	 $LN25@draw_black

; 660  : 		{
; 661  : 			//
; 662  : 			// instrument needles
; 663  : 			//
; 664  : 
; 665  : 			if (flags & VIRTUAL_COCKPIT_INSTRUMENT_NEEDLES)

  0038f	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00392	25 00 00 02 00	 and	 eax, 131072		; 00020000H
  00397	0f 84 83 02 00
	00		 je	 $LN26@draw_black

; 666  : 			{
; 667  : 				//
; 668  : 				// ADI slip
; 669  : 				//
; 670  : 
; 671  : 				search.search_depth = 0;

  0039d	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 672  : 				search.search_object = virtual_cockpit_instrument_needles_inst3d;

  003a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003a9	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 673  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI_SIDE_SLIP;

  003ac	c7 45 a4 73 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 115 ; 00000073H

; 674  : 
; 675  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  003b3	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  003b6	50		 push	 eax
  003b7	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  003bc	83 f8 01	 cmp	 eax, 1
  003bf	75 0b		 jne	 SHORT $LN27@draw_black

; 676  : 				{
; 677  : 					search.result_sub_object->relative_roll = get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value ();

  003c1	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ ; get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value
  003c6	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  003c9	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN27@draw_black:

; 678  : 				}
; 679  : 
; 680  : 				//
; 681  : 				// airspeed
; 682  : 				//
; 683  : 
; 684  : 				search.search_depth = 0;

  003cc	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 685  : 				search.search_object = virtual_cockpit_instrument_needles_inst3d;

  003d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  003d8	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 686  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_AIRSPEED;

  003db	c7 45 a4 72 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 114 ; 00000072H

; 687  : 
; 688  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  003e2	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  003e5	50		 push	 eax
  003e6	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  003eb	83 f8 01	 cmp	 eax, 1
  003ee	75 24		 jne	 SHORT $LN28@draw_black

; 689  : 				{
; 690  : 					search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  003f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  003f5	83 e0 01	 and	 eax, 1
  003f8	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  003fb	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  003fe	83 e2 fe	 and	 edx, -2			; fffffffeH
  00401	0b d0		 or	 edx, eax
  00403	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00406	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 691  : 
; 692  : 					search.result_sub_object->relative_roll = get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value ();

  00409	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ ; get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value
  0040e	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00411	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN28@draw_black:

; 693  : 				}
; 694  : 
; 695  : 				//
; 696  : 				// altimeter
; 697  : 				//
; 698  : 
; 699  : 				search.search_depth = 0;

  00414	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 700  : 				search.search_object = virtual_cockpit_instrument_needles_inst3d;

  0041b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00420	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 701  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ALTIMETER;

  00423	c7 45 a4 74 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 116 ; 00000074H

; 702  : 
; 703  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0042a	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0042d	50		 push	 eax
  0042e	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00433	83 f8 01	 cmp	 eax, 1
  00436	75 24		 jne	 SHORT $LN29@draw_black

; 704  : 				{
; 705  : 					search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  00438	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  0043d	83 e0 01	 and	 eax, 1
  00440	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00443	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00446	83 e2 fe	 and	 edx, -2			; fffffffeH
  00449	0b d0		 or	 edx, eax
  0044b	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0044e	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 706  : 
; 707  : 					search.result_sub_object->relative_roll = get_blackhawk_virtual_cockpit_barometric_altimeter_needle_value ();

  00451	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_barometric_altimeter_needle_value@@YGMXZ ; get_blackhawk_virtual_cockpit_barometric_altimeter_needle_value
  00456	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00459	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN29@draw_black:

; 708  : 				}
; 709  : 
; 710  : 				//
; 711  : 				// clock
; 712  : 				//
; 713  : 
; 714  : 				{
; 715  : 					float
; 716  : 						hours,
; 717  : 						minutes,
; 718  : 						seconds;
; 719  : 
; 720  : 					//
; 721  : 					// only read clock values if drawing virtual cockpit needles to prevent speeding up clock debug values
; 722  : 					//
; 723  : 
; 724  : 					if (draw_virtual_cockpit_needles_on_fixed_cockpits)

  0045c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA, 0 ; draw_virtual_cockpit_needles_on_fixed_cockpits
  00463	74 13		 je	 SHORT $LN30@draw_black

; 725  : 					{
; 726  : 						get_blackhawk_virtual_cockpit_clock_hand_values (&hours, &minutes, &seconds);

  00465	8d 45 88	 lea	 eax, DWORD PTR _seconds$1[ebp]
  00468	50		 push	 eax
  00469	8d 4d 8c	 lea	 ecx, DWORD PTR _minutes$2[ebp]
  0046c	51		 push	 ecx
  0046d	8d 55 90	 lea	 edx, DWORD PTR _hours$3[ebp]
  00470	52		 push	 edx
  00471	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_clock_hand_values@@YGXPAM00@Z ; get_blackhawk_virtual_cockpit_clock_hand_values

; 727  : 					}
; 728  : 					else

  00476	eb 18		 jmp	 SHORT $LN31@draw_black
$LN30@draw_black:

; 729  : 					{
; 730  : 						hours = 0.0;

  00478	0f 57 c0	 xorps	 xmm0, xmm0
  0047b	f3 0f 11 45 90	 movss	 DWORD PTR _hours$3[ebp], xmm0

; 731  : 						minutes = 0.0;

  00480	0f 57 c0	 xorps	 xmm0, xmm0
  00483	f3 0f 11 45 8c	 movss	 DWORD PTR _minutes$2[ebp], xmm0

; 732  : 						seconds = 0.0;

  00488	0f 57 c0	 xorps	 xmm0, xmm0
  0048b	f3 0f 11 45 88	 movss	 DWORD PTR _seconds$1[ebp], xmm0
$LN31@draw_black:

; 733  : 					}
; 734  : 
; 735  : 					//
; 736  : 					// hour hand
; 737  : 					//
; 738  : 
; 739  : 					search.search_depth = 0;

  00490	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 740  : 					search.search_object = virtual_cockpit_instrument_needles_inst3d;

  00497	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0049c	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 741  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_HOUR_HAND;

  0049f	c7 45 a4 75 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 117 ; 00000075H

; 742  : 
; 743  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004a6	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  004a9	50		 push	 eax
  004aa	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  004af	83 f8 01	 cmp	 eax, 1
  004b2	75 26		 jne	 SHORT $LN32@draw_black

; 744  : 					{
; 745  : 						search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  004b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  004b9	83 e0 01	 and	 eax, 1
  004bc	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  004bf	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  004c2	83 e2 fe	 and	 edx, -2			; fffffffeH
  004c5	0b d0		 or	 edx, eax
  004c7	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004ca	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 746  : 
; 747  : 						search.result_sub_object->relative_roll = hours;

  004cd	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  004d0	f3 0f 10 45 90	 movss	 xmm0, DWORD PTR _hours$3[ebp]
  004d5	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN32@draw_black:

; 748  : 					}
; 749  : 
; 750  : 					//
; 751  : 					// minute hand
; 752  : 					//
; 753  : 
; 754  : 					search.search_depth = 0;

  004da	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 755  : 					search.search_object = virtual_cockpit_instrument_needles_inst3d;

  004e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  004e6	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 756  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_MINUTE_HAND;

  004e9	c7 45 a4 77 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 119 ; 00000077H

; 757  : 
; 758  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004f0	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  004f3	50		 push	 eax
  004f4	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  004f9	83 f8 01	 cmp	 eax, 1
  004fc	75 26		 jne	 SHORT $LN33@draw_black

; 759  : 					{
; 760  : 						search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  004fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  00503	83 e0 01	 and	 eax, 1
  00506	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00509	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0050c	83 e2 fe	 and	 edx, -2			; fffffffeH
  0050f	0b d0		 or	 edx, eax
  00511	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00514	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 761  : 
; 762  : 						search.result_sub_object->relative_roll = minutes;

  00517	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0051a	f3 0f 10 45 8c	 movss	 xmm0, DWORD PTR _minutes$2[ebp]
  0051f	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN33@draw_black:

; 763  : 					}
; 764  : 
; 765  : 					//
; 766  : 					// second hand
; 767  : 					//
; 768  : 
; 769  : 					search.search_depth = 0;

  00524	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 770  : 					search.search_object = virtual_cockpit_instrument_needles_inst3d;

  0052b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00530	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 771  : 					search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_CLOCK_SECOND_HAND;

  00533	c7 45 a4 76 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 118 ; 00000076H

; 772  : 
; 773  : 					if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0053a	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  0053d	50		 push	 eax
  0053e	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00543	83 f8 01	 cmp	 eax, 1
  00546	75 26		 jne	 SHORT $LN34@draw_black

; 774  : 					{
; 775  : 						search.result_sub_object->visible_object = draw_virtual_cockpit_needles_on_fixed_cockpits;

  00548	a1 00 00 00 00	 mov	 eax, DWORD PTR ?draw_virtual_cockpit_needles_on_fixed_cockpits@@3HA ; draw_virtual_cockpit_needles_on_fixed_cockpits
  0054d	83 e0 01	 and	 eax, 1
  00550	8b 4d 9c	 mov	 ecx, DWORD PTR _search$[ebp+4]
  00553	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00556	83 e2 fe	 and	 edx, -2			; fffffffeH
  00559	0b d0		 or	 edx, eax
  0055b	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0055e	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 776  : 
; 777  : 						search.result_sub_object->relative_roll = seconds;

  00561	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00564	f3 0f 10 45 88	 movss	 xmm0, DWORD PTR _seconds$1[ebp]
  00569	f3 0f 11 40 20	 movss	 DWORD PTR [eax+32], xmm0
$LN34@draw_black:

; 778  : 					}
; 779  : 				}
; 780  : 
; 781  : 
; 782  : //VJ wideview mod, date: 18-mar-03
; 783  : 				if (get_global_wide_cockpit ())

  0056e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00575	74 40		 je	 SHORT $LN35@draw_black

; 784  : 				{
; 785  : 					vp.z = wide_cockpit_position[wide_cockpit_nr].c.z + 0.03;

  00577	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0057e	f3 0f 5a 80 1c
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00586	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f9eb851eb851eb8
  0058e	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00592	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0

; 786  : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y + 0.01;

  00597	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0059e	f3 0f 5a 80 18
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  005a6	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f847ae147ae147b
  005ae	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  005b2	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0
$LN35@draw_black:

; 787  : 				}
; 788  : 				memcpy (&virtual_cockpit_instrument_needles_inst3d->vp, &vp, sizeof (viewpoint));

  005b7	6a 30		 push	 48			; 00000030H
  005b9	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  005bc	50		 push	 eax
  005bd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  005c3	83 c1 08	 add	 ecx, 8
  005c6	51		 push	 ecx
  005c7	e8 00 00 00 00	 call	 _memcpy
  005cc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 789  : 
; 790  : 				if (get_global_wide_cockpit ())

  005cf	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  005d6	74 28		 je	 SHORT $LN36@draw_black

; 791  : 				{
; 792  : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  005d8	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  005df	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  005e7	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 793  : 					vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  005ec	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  005f3	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  005fb	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN36@draw_black:

; 794  : 				}
; 795  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_instrument_needles_inst3d->vp.position, virtual_cockpit_instrument_needles_inst3d);

  00600	51		 push	 ecx
  00601	0f 57 c0	 xorps	 xmm0, xmm0
  00604	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00609	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0060e	50		 push	 eax
  0060f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00615	83 c1 08	 add	 ecx, 8
  00618	51		 push	 ecx
  00619	6a 02		 push	 2
  0061b	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN26@draw_black:

; 796  : 			}
; 797  : 
; 798  : 			//
; 799  : 			// instrument large needles
; 800  : 			//
; 801  : 
; 802  : 			if (flags & VIRTUAL_COCKPIT_INSTRUMENT_LARGE_NEEDLES)

  00620	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00623	25 00 00 04 00	 and	 eax, 262144		; 00040000H
  00628	0f 84 96 00 00
	00		 je	 $LN37@draw_black

; 803  : 			{
; 804  : 				//
; 805  : 				// ADI slip
; 806  : 				//
; 807  : 
; 808  : 				search.search_depth = 0;

  0062e	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 809  : 				search.search_object = virtual_cockpit_instrument_large_needles_inst3d;

  00635	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0063a	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 810  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_ADI_SIDE_SLIP;

  0063d	c7 45 a4 73 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 115 ; 00000073H

; 811  : 
; 812  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00644	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00647	50		 push	 eax
  00648	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0064d	83 f8 01	 cmp	 eax, 1
  00650	75 0b		 jne	 SHORT $LN38@draw_black

; 813  : 				{
; 814  : 					search.result_sub_object->relative_roll = get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value ();

  00652	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value@@YGMXZ ; get_blackhawk_virtual_cockpit_adi_slip_indicator_needle_value
  00657	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  0065a	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN38@draw_black:

; 815  : 				}
; 816  : 
; 817  : 				//
; 818  : 				// airspeed
; 819  : 				//
; 820  : 
; 821  : 				search.search_depth = 0;

  0065d	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _search$[ebp+8], 0

; 822  : 				search.search_object = virtual_cockpit_instrument_large_needles_inst3d;

  00664	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00669	89 45 98	 mov	 DWORD PTR _search$[ebp], eax

; 823  : 				search.sub_object_index = OBJECT_3D_SUB_OBJECT_APACHE_VIRTUAL_COCKPIT_AIRSPEED;

  0066c	c7 45 a4 72 00
	00 00		 mov	 DWORD PTR _search$[ebp+12], 114 ; 00000072H

; 824  : 
; 825  : 				if (find_object_3d_sub_object (&search) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00673	8d 45 98	 lea	 eax, DWORD PTR _search$[ebp]
  00676	50		 push	 eax
  00677	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  0067c	83 f8 01	 cmp	 eax, 1
  0067f	75 0b		 jne	 SHORT $LN39@draw_black

; 826  : 				{
; 827  : 					search.result_sub_object->relative_roll = get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value ();

  00681	e8 00 00 00 00	 call	 ?get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value@@YGMXZ ; get_blackhawk_virtual_cockpit_airspeed_indicator_needle_value
  00686	8b 45 9c	 mov	 eax, DWORD PTR _search$[ebp+4]
  00689	d9 58 20	 fstp	 DWORD PTR [eax+32]
$LN39@draw_black:

; 828  : 				}
; 829  : 
; 830  : 				memcpy (&virtual_cockpit_instrument_large_needles_inst3d->vp, &vp, sizeof (viewpoint));

  0068c	6a 30		 push	 48			; 00000030H
  0068e	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00691	50		 push	 eax
  00692	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00698	83 c1 08	 add	 ecx, 8
  0069b	51		 push	 ecx
  0069c	e8 00 00 00 00	 call	 _memcpy
  006a1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 831  : 
; 832  : 				insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_instrument_large_needles_inst3d->vp.position, virtual_cockpit_instrument_large_needles_inst3d);

  006a4	51		 push	 ecx
  006a5	0f 57 c0	 xorps	 xmm0, xmm0
  006a8	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  006b2	50		 push	 eax
  006b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  006b9	83 c1 08	 add	 ecx, 8
  006bc	51		 push	 ecx
  006bd	6a 02		 push	 2
  006bf	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN37@draw_black:

; 833  : 			}
; 834  : 
; 835  : 			draw_3d_scene ();

  006c4	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 836  : 
; 837  : 			end_3d_scene ();

  006c9	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN25@draw_black:

; 838  : 		}
; 839  : 	}
; 840  : 
; 841  : 	////////////////////////////////////////
; 842  : 	//
; 843  : 	// draw 3D scene without lighting
; 844  : 	//
; 845  : 	////////////////////////////////////////
; 846  : 
; 847  : 	if
; 848  : 	(
; 849  : 		(flags & VIRTUAL_COCKPIT_DISPLAY_VIEW) &&
; 850  : 		(flags & VIRTUAL_COCKPIT_LHS_MFD_DISPLAY) &&

  006ce	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  006d1	25 00 00 10 00	 and	 eax, 1048576		; 00100000H
  006d6	0f 84 04 01 00
	00		 je	 $LN40@draw_black
  006dc	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  006df	83 e0 20	 and	 eax, 32			; 00000020H
  006e2	0f 84 f8 00 00
	00		 je	 $LN40@draw_black
  006e8	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  006eb	83 e0 40	 and	 eax, 64			; 00000040H
  006ee	0f 84 ec 00 00
	00		 je	 $LN40@draw_black

; 851  : 		(flags & VIRTUAL_COCKPIT_RHS_MFD_DISPLAY)
; 852  : 	)
; 853  : 	{
; 854  : 		set_3d_active_environment (main_3d_env);

  006f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  006f9	50		 push	 eax
  006fa	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 855  : 
; 856  : 		set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  006ff	51		 push	 ecx
  00700	0f 57 c0	 xorps	 xmm0, xmm0
  00703	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00708	51		 push	 ecx
  00709	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00711	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00716	51		 push	 ecx
  00717	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  0071f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00724	51		 push	 ecx
  00725	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  0072d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00732	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00737	50		 push	 eax
  00738	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 857  : 
; 858  : 		realise_3d_clip_extents (main_3d_env);

  0073d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00742	50		 push	 eax
  00743	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 859  : 
; 860  : 		recalculate_3d_environment_settings (main_3d_env);

  00748	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0074d	50		 push	 eax
  0074e	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 861  : 
; 862  : 		clear_zbuffer_screen ();

  00753	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 863  : 
; 864  : 		if (begin_3d_scene ())

  00758	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  0075d	85 c0		 test	 eax, eax
  0075f	74 7a		 je	 SHORT $LN42@draw_black

; 865  : 		{
; 866  : 			//
; 867  : 			// lhs mfd
; 868  : 			//
; 869  : 
; 870  : 			memcpy (&virtual_cockpit_display_view_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  00761	6a 30		 push	 48			; 00000030H
  00763	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00766	50		 push	 eax
  00767	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0076d	83 c1 08	 add	 ecx, 8
  00770	51		 push	 ecx
  00771	e8 00 00 00 00	 call	 _memcpy
  00776	83 c4 0c	 add	 esp, 12			; 0000000cH

; 871  : 
; 872  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_display_view_mfd_inst3d->vp.position, virtual_cockpit_display_view_mfd_inst3d);

  00779	51		 push	 ecx
  0077a	0f 57 c0	 xorps	 xmm0, xmm0
  0077d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00782	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00787	50		 push	 eax
  00788	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0078e	83 c1 08	 add	 ecx, 8
  00791	51		 push	 ecx
  00792	6a 02		 push	 2
  00794	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 873  : 
; 874  : 			//
; 875  : 			// rhs mfd
; 876  : 			//
; 877  : 
; 878  : 			memcpy (&virtual_cockpit_display_view_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  00799	6a 30		 push	 48			; 00000030H
  0079b	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0079e	50		 push	 eax
  0079f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007a5	83 c1 08	 add	 ecx, 8
  007a8	51		 push	 ecx
  007a9	e8 00 00 00 00	 call	 _memcpy
  007ae	83 c4 0c	 add	 esp, 12			; 0000000cH

; 879  : 
; 880  : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_display_view_mfd_inst3d->vp.position, virtual_cockpit_display_view_mfd_inst3d);

  007b1	51		 push	 ecx
  007b2	0f 57 c0	 xorps	 xmm0, xmm0
  007b5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007bf	50		 push	 eax
  007c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  007c6	83 c1 08	 add	 ecx, 8
  007c9	51		 push	 ecx
  007ca	6a 02		 push	 2
  007cc	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 881  : 
; 882  : 			draw_3d_scene ();

  007d1	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 883  : 
; 884  : 			end_3d_scene ();

  007d6	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN42@draw_black:

; 885  : 		}
; 886  : 	}
; 887  : 	else

  007db	e9 c5 01 00 00	 jmp	 $LN44@draw_black
$LN40@draw_black:

; 888  : 	{
; 889  : 		if (flags & (VIRTUAL_COCKPIT_UPFRONT_DISPLAY | VIRTUAL_COCKPIT_LHS_MFD_DISPLAY | VIRTUAL_COCKPIT_RHS_MFD_DISPLAY))

  007e0	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  007e3	25 60 00 08 00	 and	 eax, 524384		; 00080060H
  007e8	0f 84 b7 01 00
	00		 je	 $LN44@draw_black

; 890  : 		{
; 891  : 			set_3d_active_environment (main_3d_env);

  007ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  007f3	50		 push	 eax
  007f4	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 892  : 
; 893  : 			set_3d_view_distances (main_3d_env, 10.0, 0.1, 1.0, 0.0);

  007f9	51		 push	 ecx
  007fa	0f 57 c0	 xorps	 xmm0, xmm0
  007fd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00802	51		 push	 ecx
  00803	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0080b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00810	51		 push	 ecx
  00811	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00819	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0081e	51		 push	 ecx
  0081f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00827	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0082c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00831	50		 push	 eax
  00832	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 894  : 
; 895  : 			realise_3d_clip_extents (main_3d_env);

  00837	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0083c	50		 push	 eax
  0083d	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 896  : 
; 897  : 			recalculate_3d_environment_settings (main_3d_env);

  00842	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00847	50		 push	 eax
  00848	e8 00 00 00 00	 call	 ?recalculate_3d_environment_settings@@YGXPAUENV_3D@@@Z ; recalculate_3d_environment_settings

; 898  : 
; 899  : 			clear_zbuffer_screen ();

  0084d	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 900  : 
; 901  : 			if (begin_3d_scene ())

  00852	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00857	85 c0		 test	 eax, eax
  00859	0f 84 46 01 00
	00		 je	 $LN44@draw_black

; 902  : 			{
; 903  : 				//
; 904  : 				// up-front display
; 905  : 				//
; 906  : 
; 907  : 				if (flags & VIRTUAL_COCKPIT_UPFRONT_DISPLAY)

  0085f	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  00862	25 00 00 08 00	 and	 eax, 524288		; 00080000H
  00867	74 38		 je	 SHORT $LN45@draw_black

; 908  : 				{
; 909  : 					memcpy (&virtual_cockpit_upfront_display_inst3d->vp, &vp, sizeof (viewpoint));

  00869	6a 30		 push	 48			; 00000030H
  0086b	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  0086e	50		 push	 eax
  0086f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00875	83 c1 08	 add	 ecx, 8
  00878	51		 push	 ecx
  00879	e8 00 00 00 00	 call	 _memcpy
  0087e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 910  : 
; 911  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_upfront_display_inst3d->vp.position, virtual_cockpit_upfront_display_inst3d);

  00881	51		 push	 ecx
  00882	0f 57 c0	 xorps	 xmm0, xmm0
  00885	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0088a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0088f	50		 push	 eax
  00890	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00896	83 c1 08	 add	 ecx, 8
  00899	51		 push	 ecx
  0089a	6a 02		 push	 2
  0089c	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN45@draw_black:

; 912  : 				}
; 913  : 
; 914  : //VJ wideview mod, date: 18-mar-03, 050123
; 915  : 				if (get_global_wide_cockpit ())

  008a1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  008a8	74 40		 je	 SHORT $LN46@draw_black

; 916  : 				{
; 917  : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y + 0.008;

  008aa	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  008b1	f3 0f 5a 80 18
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  008b9	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f80624dd2f1a9fc
  008c1	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  008c5	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 918  : 					vp.z = wide_cockpit_position[wide_cockpit_nr].c.z + 0.005;

  008ca	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  008d1	f3 0f 5a 80 1c
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  008d9	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3f747ae147ae147b
  008e1	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  008e5	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN46@draw_black:

; 919  : 				}
; 920  : 
; 921  : 				//
; 922  : 				// lhs mfd
; 923  : 				//
; 924  : 
; 925  : 				if (flags & VIRTUAL_COCKPIT_LHS_MFD_DISPLAY)

  008ea	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  008ed	83 e0 20	 and	 eax, 32			; 00000020H
  008f0	74 38		 je	 SHORT $LN47@draw_black

; 926  : 				{
; 927  : 					memcpy (&virtual_cockpit_lhs_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  008f2	6a 30		 push	 48			; 00000030H
  008f4	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  008f7	50		 push	 eax
  008f8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  008fe	83 c1 08	 add	 ecx, 8
  00901	51		 push	 ecx
  00902	e8 00 00 00 00	 call	 _memcpy
  00907	83 c4 0c	 add	 esp, 12			; 0000000cH

; 928  : 
; 929  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_lhs_mfd_inst3d->vp.position, virtual_cockpit_lhs_mfd_inst3d);

  0090a	51		 push	 ecx
  0090b	0f 57 c0	 xorps	 xmm0, xmm0
  0090e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00913	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00918	50		 push	 eax
  00919	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0091f	83 c1 08	 add	 ecx, 8
  00922	51		 push	 ecx
  00923	6a 02		 push	 2
  00925	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN47@draw_black:

; 930  : 				}
; 931  : 
; 932  : 				//
; 933  : 				// rhs mfd
; 934  : 				//
; 935  : 
; 936  : 				if (flags & VIRTUAL_COCKPIT_RHS_MFD_DISPLAY)

  0092a	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  0092d	83 e0 40	 and	 eax, 64			; 00000040H
  00930	74 38		 je	 SHORT $LN48@draw_black

; 937  : 				{
; 938  : 					memcpy (&virtual_cockpit_rhs_mfd_inst3d->vp, &vp, sizeof (viewpoint));

  00932	6a 30		 push	 48			; 00000030H
  00934	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00937	50		 push	 eax
  00938	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0093e	83 c1 08	 add	 ecx, 8
  00941	51		 push	 ecx
  00942	e8 00 00 00 00	 call	 _memcpy
  00947	83 c4 0c	 add	 esp, 12			; 0000000cH

; 939  : 
; 940  : 					insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_rhs_mfd_inst3d->vp.position, virtual_cockpit_rhs_mfd_inst3d);

  0094a	51		 push	 ecx
  0094b	0f 57 c0	 xorps	 xmm0, xmm0
  0094e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00953	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00958	50		 push	 eax
  00959	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0095f	83 c1 08	 add	 ecx, 8
  00962	51		 push	 ecx
  00963	6a 02		 push	 2
  00965	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene
$LN48@draw_black:

; 941  : 				}
; 942  : 
; 943  : //VJ wideview mod, date: 18-mar-03, 050123
; 944  : 				if (get_global_wide_cockpit ())

  0096a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit
  00971	74 28		 je	 SHORT $LN49@draw_black

; 945  : 				{
; 946  : 					vp.y = wide_cockpit_position[wide_cockpit_nr].c.y;

  00973	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0097a	f3 0f 10 80 18
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+24]
  00982	f3 0f 11 45 d4	 movss	 DWORD PTR _vp$[ebp+4], xmm0

; 947  : 					vp.z = wide_cockpit_position[wide_cockpit_nr].c.z;

  00987	6b 05 00 00 00
	00 24		 imul	 eax, DWORD PTR ?wide_cockpit_nr@@3HA, 36 ; wide_cockpit_nr
  0098e	f3 0f 10 80 1c
	00 00 00	 movss	 xmm0, DWORD PTR ?wide_cockpit_position@@3PAUCOCKPIT_POSITION@@A[eax+28]
  00996	f3 0f 11 45 d8	 movss	 DWORD PTR _vp$[ebp+8], xmm0
$LN49@draw_black:

; 948  : 				}
; 949  : 
; 950  : 				draw_3d_scene ();

  0099b	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 951  : 
; 952  : 				end_3d_scene ();

  009a0	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN44@draw_black:

; 953  : 			}
; 954  : 		}
; 955  : 	}
; 956  : 
; 957  : 	////////////////////////////////////////
; 958  : 	//
; 959  : 	// draw 3D scene with lighting
; 960  : 	//
; 961  : 	////////////////////////////////////////
; 962  : 
; 963  : 	//
; 964  : 	// draw fillet to mask TADS display
; 965  : 	//
; 966  : 
; 967  : 	if
; 968  : 	(
; 969  : 		(d3d_can_render_to_texture) &&
; 970  : 		//always draw fillet not only with tads
; 971  : 		//(get_blackhawk_tads_display_visible ()) &&
; 972  : 		(flags & (VIRTUAL_COCKPIT_COCKPIT)) &&
; 973  : 		(flags & (VIRTUAL_COCKPIT_LHS_MFD_DISPLAY)) &&

  009a5	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?d3d_can_render_to_texture@@3HA, 0 ; d3d_can_render_to_texture
  009ac	0f 84 9e 01 00
	00		 je	 $LN51@draw_black
  009b2	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  009b5	83 e0 01	 and	 eax, 1
  009b8	0f 84 92 01 00
	00		 je	 $LN51@draw_black
  009be	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  009c1	83 e0 20	 and	 eax, 32			; 00000020H
  009c4	0f 84 86 01 00
	00		 je	 $LN51@draw_black
  009ca	8b 45 08	 mov	 eax, DWORD PTR _flags$[ebp]
  009cd	83 e0 40	 and	 eax, 64			; 00000040H
  009d0	0f 84 7a 01 00
	00		 je	 $LN51@draw_black

; 974  : 		(flags & (VIRTUAL_COCKPIT_RHS_MFD_DISPLAY))
; 975  : 	)
; 976  : 	{
; 977  : 		set_cockpit_white_lighting (vp.attitude);

  009d6	8d 45 dc	 lea	 eax, DWORD PTR _vp$[ebp+12]
  009d9	50		 push	 eax
  009da	e8 00 00 00 00	 call	 ?set_cockpit_white_lighting@@YGXQAY02M@Z ; set_cockpit_white_lighting

; 978  : 
; 979  : 		set_3d_active_environment (main_3d_single_light_env);

  009df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  009e4	50		 push	 eax
  009e5	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 980  : 
; 981  : 		set_3d_view_distances (main_3d_single_light_env, 10.0, 0.1, 1.0, 0.0);

  009ea	51		 push	 ecx
  009eb	0f 57 c0	 xorps	 xmm0, xmm0
  009ee	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009f3	51		 push	 ecx
  009f4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  009fc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a01	51		 push	 ecx
  00a02	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00a0a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a0f	51		 push	 ecx
  00a10	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41200000
  00a18	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a1d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00a22	50		 push	 eax
  00a23	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 982  : 
; 983  : 		realise_3d_clip_extents (main_3d_single_light_env);

  00a28	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_single_light_env@@3PAUENV_3D@@A ; main_3d_single_light_env
  00a2d	50		 push	 eax
  00a2e	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 984  : 
; 985  : 		clear_zbuffer_screen ();

  00a33	e8 00 00 00 00	 call	 ?clear_zbuffer_screen@@YGXXZ ; clear_zbuffer_screen

; 986  : 
; 987  : 		if (begin_3d_scene ())

  00a38	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00a3d	85 c0		 test	 eax, eax
  00a3f	0f 84 0b 01 00
	00		 je	 $LN51@draw_black

; 988  : 		{
; 989  : 			switch (get_local_entity_int_value (get_session_entity (), INT_TYPE_DAY_SEGMENT_TYPE))

  00a45	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?session_entity@@3PAUENTITY@@A, 0 ; session_entity
  00a4c	74 0f		 je	 SHORT $LN63@draw_black
  00a4e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00a53	8b 08		 mov	 ecx, DWORD PTR [eax]
  00a55	89 8d 44 ff ff
	ff		 mov	 DWORD PTR tv444[ebp], ecx
  00a5b	eb 20		 jmp	 SHORT $LN64@draw_black
$LN63@draw_black:
  00a5d	68 dd 03 00 00	 push	 989			; 000003ddH
  00a62	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a67	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00a6d	52		 push	 edx
  00a6e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00a73	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv444[ebp], 0
$LN64@draw_black:
  00a7d	b8 01 00 00 00	 mov	 eax, 1
  00a82	85 c0		 test	 eax, eax
  00a84	74 0c		 je	 SHORT $LN65@draw_black
  00a86	c7 85 40 ff ff
	ff 27 00 00 00	 mov	 DWORD PTR tv451[ebp], 39 ; 00000027H
  00a90	eb 20		 jmp	 SHORT $LN66@draw_black
$LN65@draw_black:
  00a92	68 dd 03 00 00	 push	 989			; 000003ddH
  00a97	68 00 00 00 00	 push	 OFFSET ??_C@_0FD@DGNGPPPO@c?3?2users?2nhv90?2projects?2eech?2ap@
  00a9c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00aa2	51		 push	 ecx
  00aa3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00aa8	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv451[ebp], 0
$LN66@draw_black:
  00ab2	6a 27		 push	 39			; 00000027H
  00ab4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?session_entity@@3PAUENTITY@@A ; session_entity
  00aba	52		 push	 edx
  00abb	69 85 44 ff ff
	ff 5c 04 00 00	 imul	 eax, DWORD PTR tv444[ebp], 1116
  00ac5	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR tv451[ebp]
  00acb	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00ad2	ff d2		 call	 edx
  00ad4	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv457[ebp], eax
  00ada	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv457[ebp], 3
  00ae1	77 33		 ja	 SHORT $LN4@draw_black
  00ae3	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR tv457[ebp]
  00ae9	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN68@draw_black[eax*4]
$LN52@draw_black:

; 990  : 			{
; 991  : 				////////////////////////////////////////
; 992  : 				case DAY_SEGMENT_TYPE_DAWN:
; 993  : 				////////////////////////////////////////
; 994  : 				{
; 995  : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  00af0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00af5	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 996  : 
; 997  : 					break;

  00af8	eb 1c		 jmp	 SHORT $LN4@draw_black
$LN53@draw_black:

; 998  : 				}
; 999  : 				////////////////////////////////////////
; 1000 : 				case DAY_SEGMENT_TYPE_DAY:
; 1001 : 				////////////////////////////////////////
; 1002 : 				{
; 1003 : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;

  00afa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00aff	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 1004 : 
; 1005 : 					break;

  00b02	eb 12		 jmp	 SHORT $LN4@draw_black
$LN54@draw_black:

; 1006 : 				}
; 1007 : 				////////////////////////////////////////
; 1008 : 				case DAY_SEGMENT_TYPE_DUSK:
; 1009 : 				////////////////////////////////////////
; 1010 : 				{
; 1011 : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level2_inst3d;

  00b04	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b09	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax

; 1012 : 
; 1013 : 					break;

  00b0c	eb 08		 jmp	 SHORT $LN4@draw_black
$LN55@draw_black:

; 1014 : 				}
; 1015 : 				////////////////////////////////////////
; 1016 : 				case DAY_SEGMENT_TYPE_NIGHT:
; 1017 : 				////////////////////////////////////////
; 1018 : 				{
; 1019 : 					virtual_cockpit_inst3d = virtual_cockpit_fillet_level3_inst3d;

  00b0e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00b13	89 45 94	 mov	 DWORD PTR _virtual_cockpit_inst3d$[ebp], eax
$LN4@draw_black:

; 1020 : 
; 1021 : 					break;
; 1022 : 				}
; 1023 : 			}
; 1024 : 
; 1025 : 			#if DEMO_VERSION
; 1026 : 
; 1027 : 			virtual_cockpit_inst3d = virtual_cockpit_fillet_level1_inst3d;
; 1028 : 
; 1029 : 			#endif
; 1030 : 
; 1031 : 			memcpy (&virtual_cockpit_inst3d->vp, &vp, sizeof (viewpoint));

  00b16	6a 30		 push	 48			; 00000030H
  00b18	8d 45 d0	 lea	 eax, DWORD PTR _vp$[ebp]
  00b1b	50		 push	 eax
  00b1c	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00b1f	83 c1 08	 add	 ecx, 8
  00b22	51		 push	 ecx
  00b23	e8 00 00 00 00	 call	 _memcpy
  00b28	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1032 : 
; 1033 : 			insert_relative_object_into_3d_scene (OBJECT_3D_DRAW_TYPE_ZBUFFERED_OBJECT, &virtual_cockpit_inst3d->vp.position, virtual_cockpit_inst3d);

  00b2b	51		 push	 ecx
  00b2c	0f 57 c0	 xorps	 xmm0, xmm0
  00b2f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b34	8b 45 94	 mov	 eax, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00b37	50		 push	 eax
  00b38	8b 4d 94	 mov	 ecx, DWORD PTR _virtual_cockpit_inst3d$[ebp]
  00b3b	83 c1 08	 add	 ecx, 8
  00b3e	51		 push	 ecx
  00b3f	6a 02		 push	 2
  00b41	e8 00 00 00 00	 call	 ?insert_zbiased_relative_object_into_3d_scene@@YGXW4OBJECT_3D_DRAWING_TYPES@@PAUVEC3D@@PAXM@Z ; insert_zbiased_relative_object_into_3d_scene

; 1034 : 
; 1035 : 			draw_3d_scene ();

  00b46	e8 00 00 00 00	 call	 ?draw_3d_scene@@YGXXZ	; draw_3d_scene

; 1036 : 
; 1037 : 			end_3d_scene ();

  00b4b	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN51@draw_black:

; 1038 : 		}
; 1039 : 	}
; 1040 : 
; 1041 : //VJ wideview mod, date: 18-mar-03
; 1042 : 	move_edit_wide_cockpit ();

  00b50	e8 00 00 00 00	 call	 ?move_edit_wide_cockpit@@YGXXZ ; move_edit_wide_cockpit

; 1043 : 
; 1044 : 	////////////////////////////////////////
; 1045 : 	//
; 1046 : 	// tidy up
; 1047 : 	//
; 1048 : 	////////////////////////////////////////
; 1049 : 
; 1050 : 	#if RECOGNITION_GUIDE
; 1051 : 
; 1052 : 	set_3d_view_distances (main_3d_env, 10000.0, 100.0, 1.0, 0.0);
; 1053 : 
; 1054 : 	#else
; 1055 : 
; 1056 : 	set_3d_view_distances (main_3d_env, 10000.0, 1.0, 1.0, 0.0);

  00b55	51		 push	 ecx
  00b56	0f 57 c0	 xorps	 xmm0, xmm0
  00b59	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b5e	51		 push	 ecx
  00b5f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00b67	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b6c	51		 push	 ecx
  00b6d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00b75	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b7a	51		 push	 ecx
  00b7b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@461c4000
  00b83	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00b88	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00b8d	50		 push	 eax
  00b8e	e8 00 00 00 00	 call	 ?set_3d_view_distances@@YGXPAUENV_3D@@MMMM@Z ; set_3d_view_distances

; 1057 : 
; 1058 : 	#endif
; 1059 : 
; 1060 : 	realise_3d_clip_extents (main_3d_env);

  00b93	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00b98	50		 push	 eax
  00b99	e8 00 00 00 00	 call	 ?realise_3d_clip_extents@@YGXPAUENV_3D@@@Z ; realise_3d_clip_extents

; 1061 : }

  00b9e	5f		 pop	 edi
  00b9f	5e		 pop	 esi
  00ba0	5b		 pop	 ebx
  00ba1	8b e5		 mov	 esp, ebp
  00ba3	5d		 pop	 ebp
  00ba4	c2 04 00	 ret	 4
  00ba7	90		 npad	 1
$LN67@draw_black:
  00ba8	00 00 00 00	 DD	 $LN20@draw_black
  00bac	00 00 00 00	 DD	 $LN21@draw_black
  00bb0	00 00 00 00	 DD	 $LN22@draw_black
  00bb4	00 00 00 00	 DD	 $LN23@draw_black
$LN68@draw_black:
  00bb8	00 00 00 00	 DD	 $LN52@draw_black
  00bbc	00 00 00 00	 DD	 $LN53@draw_black
  00bc0	00 00 00 00	 DD	 $LN54@draw_black
  00bc4	00 00 00 00	 DD	 $LN55@draw_black
?draw_blackhawk_internal_virtual_cockpit@@YGXI@Z ENDP	; draw_blackhawk_internal_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?update_blackhawk_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?update_blackhawk_virtual_cockpit@@YGXXZ PROC		; update_blackhawk_virtual_cockpit, COMDAT

; 230  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 231  : }

  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?update_blackhawk_virtual_cockpit@@YGXXZ ENDP		; update_blackhawk_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?deinitialise_blackhawk_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?deinitialise_blackhawk_virtual_cockpit@@YGXXZ PROC	; deinitialise_blackhawk_virtual_cockpit, COMDAT

; 175  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 176  : 	//
; 177  : 	// 3D instances
; 178  : 	//
; 179  : 
; 180  : 	destruct_3d_object (virtual_cockpit_level1_inst3d);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 181  : 
; 182  : 	destruct_3d_object (virtual_cockpit_level2_inst3d);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 183  : 
; 184  : 	destruct_3d_object (virtual_cockpit_level3_inst3d);

  0001f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 185  : 
; 186  : 	destruct_3d_object (virtual_cockpit_fillet_level1_inst3d);

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 187  : 
; 188  : 	destruct_3d_object (virtual_cockpit_fillet_level2_inst3d);

  00035	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0003a	50		 push	 eax
  0003b	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 189  : 
; 190  : 	destruct_3d_object (virtual_cockpit_fillet_level3_inst3d);

  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 191  : 
; 192  : 	destruct_3d_object (virtual_cockpit_main_rotor_inst3d);

  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00050	50		 push	 eax
  00051	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 193  : 
; 194  : 	destruct_3d_object (virtual_cockpit_adi_inst3d);

  00056	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0005b	50		 push	 eax
  0005c	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 195  : 
; 196  : 	destruct_3d_object (virtual_cockpit_large_adi_inst3d);

  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00066	50		 push	 eax
  00067	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 197  : 
; 198  : 	destruct_3d_object (virtual_cockpit_compass_inst3d);

  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 199  : 
; 200  : 	destruct_3d_object (virtual_cockpit_instrument_needles_inst3d);

  00077	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0007c	50		 push	 eax
  0007d	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 201  : 
; 202  : 	destruct_3d_object (virtual_cockpit_instrument_large_needles_inst3d);

  00082	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 203  : 
; 204  : 	destruct_3d_object (virtual_cockpit_upfront_display_inst3d);

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  00092	50		 push	 eax
  00093	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 205  : 
; 206  : 	destruct_3d_object (virtual_cockpit_lhs_mfd_inst3d);

  00098	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  0009d	50		 push	 eax
  0009e	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 207  : 
; 208  : 	destruct_3d_object (virtual_cockpit_rhs_mfd_inst3d);

  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000a8	50		 push	 eax
  000a9	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 209  : 
; 210  : 	destruct_3d_object (virtual_cockpit_display_view_mfd_inst3d);

  000ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A
  000b3	50		 push	 eax
  000b4	e8 00 00 00 00	 call	 ?destruct_3d_object@@YGXPAUOBJECT_3D_INSTANCE@@@Z ; destruct_3d_object

; 211  : 
; 212  : 	//
; 213  : 	// wipers and rain
; 214  : 	//
; 215  : 
; 216  : 	deinitialise_blackhawk_virtual_cockpit_wiper_and_rain_effect ();

  000b9	e8 00 00 00 00	 call	 ?deinitialise_blackhawk_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; deinitialise_blackhawk_virtual_cockpit_wiper_and_rain_effect

; 217  : 
; 218  : 	//
; 219  : 	// virtual cockpit cameras
; 220  : 	//
; 221  : 
; 222  : 	deinitialise_common_virtual_cockpit_cameras ();

  000be	e8 00 00 00 00	 call	 ?deinitialise_common_virtual_cockpit_cameras@@YGXXZ ; deinitialise_common_virtual_cockpit_cameras

; 223  : }

  000c3	5f		 pop	 edi
  000c4	5e		 pop	 esi
  000c5	5b		 pop	 ebx
  000c6	8b e5		 mov	 esp, ebp
  000c8	5d		 pop	 ebp
  000c9	c3		 ret	 0
?deinitialise_blackhawk_virtual_cockpit@@YGXXZ ENDP	; deinitialise_blackhawk_virtual_cockpit
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\cockpits\blackhawk\bh_vckpt.c
;	COMDAT ?initialise_blackhawk_virtual_cockpit@@YGXXZ
_TEXT	SEGMENT
?initialise_blackhawk_virtual_cockpit@@YGXXZ PROC	; initialise_blackhawk_virtual_cockpit, COMDAT

; 107  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 108  : 	//
; 109  : 	// 3D instances
; 110  : 	//
; 111  : 
; 112  : 	virtual_cockpit_inst3d = NULL;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, 0 ; virtual_cockpit_inst3d

; 113  : 
; 114  : 	pilot_head_pitch_datum = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?pilot_head_pitch_datum@@3MA, xmm0

; 115  : 
; 116  : 	co_pilot_head_pitch_datum = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?co_pilot_head_pitch_datum@@3MA, xmm0

; 117  : 
; 118  : 	virtual_cockpit_level1_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL1);

  00029	68 e0 04 00 00	 push	 1248			; 000004e0H
  0002e	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00033	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 119  : 
; 120  : 	virtual_cockpit_level2_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL2);

  00038	68 eb 04 00 00	 push	 1259			; 000004ebH
  0003d	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00042	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 121  : 
; 122  : 	virtual_cockpit_level3_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL3);

  00047	68 e7 04 00 00	 push	 1255			; 000004e7H
  0004c	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00051	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 123  : 
; 124  : 	virtual_cockpit_fillet_level1_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL1_FILLET);

  00056	68 e1 04 00 00	 push	 1249			; 000004e1H
  0005b	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00060	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level1_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 125  : 
; 126  : 	virtual_cockpit_fillet_level2_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL2_FILLET);

  00065	68 ec 04 00 00	 push	 1260			; 000004ecH
  0006a	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0006f	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level2_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 127  : 
; 128  : 	virtual_cockpit_fillet_level3_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_LEVEL3_FILLET);

  00074	68 e8 04 00 00	 push	 1256			; 000004e8H
  00079	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0007e	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_fillet_level3_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 129  : 
; 130  : 	virtual_cockpit_main_rotor_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_MAIN_ROTOR);

  00083	68 ea 04 00 00	 push	 1258			; 000004eaH
  00088	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0008d	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_main_rotor_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 131  : 
; 132  : 	virtual_cockpit_adi_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_ADI);

  00092	68 de 04 00 00	 push	 1246			; 000004deH
  00097	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  0009c	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 133  : 
; 134  : 	virtual_cockpit_large_adi_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_LARGE_ADI);

  000a1	68 e2 04 00 00	 push	 1250			; 000004e2H
  000a6	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000ab	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_large_adi_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 135  : 
; 136  : 	virtual_cockpit_compass_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_COMPASS);

  000b0	68 df 04 00 00	 push	 1247			; 000004dfH
  000b5	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000ba	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_compass_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 137  : 
; 138  : 	virtual_cockpit_instrument_needles_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_NEEDLES);

  000bf	68 e6 04 00 00	 push	 1254			; 000004e6H
  000c4	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000c9	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_instrument_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 139  : 
; 140  : 	virtual_cockpit_instrument_large_needles_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_INSTRUMENTS_LARGE_NEEDLES);

  000ce	68 e3 04 00 00	 push	 1251			; 000004e3H
  000d3	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000d8	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_instrument_large_needles_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 141  : 
; 142  : 	virtual_cockpit_upfront_display_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_DISPLAYS_UPFRONT);

  000dd	68 ed 04 00 00	 push	 1261			; 000004edH
  000e2	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000e7	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_upfront_display_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 143  : 
; 144  : 	virtual_cockpit_lhs_mfd_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_DISPLAYS_LHS_MFD);

  000ec	68 e4 04 00 00	 push	 1252			; 000004e4H
  000f1	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  000f6	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_lhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 145  : 
; 146  : 	virtual_cockpit_rhs_mfd_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_DISPLAYS_RHS_MFD);

  000fb	68 e9 04 00 00	 push	 1257			; 000004e9H
  00100	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00105	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_rhs_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 147  : 
; 148  : 	virtual_cockpit_display_view_mfd_inst3d = construct_3d_object (OBJECT_3D_APACHE_VIRTUAL_COCKPIT_MFD_DISPLAYS_NEW);

  0010a	68 e5 04 00 00	 push	 1253			; 000004e5H
  0010f	e8 00 00 00 00	 call	 ?construct_3d_object@@YGPAUOBJECT_3D_INSTANCE@@H@Z ; construct_3d_object
  00114	a3 00 00 00 00	 mov	 DWORD PTR ?virtual_cockpit_display_view_mfd_inst3d@@3PAUOBJECT_3D_INSTANCE@@A, eax

; 149  : 
; 150  : 	//
; 151  : 	// wipers and rain
; 152  : 	//
; 153  : 
; 154  : 	initialise_blackhawk_virtual_cockpit_wiper_and_rain_effect ();

  00119	e8 00 00 00 00	 call	 ?initialise_blackhawk_virtual_cockpit_wiper_and_rain_effect@@YGXXZ ; initialise_blackhawk_virtual_cockpit_wiper_and_rain_effect

; 155  : 
; 156  : 	//
; 157  : 	// virtual cockpit cameras
; 158  : 	//
; 159  : 
; 160  : 	initialise_common_virtual_cockpit_cameras ();

  0011e	e8 00 00 00 00	 call	 ?initialise_common_virtual_cockpit_cameras@@YGXXZ ; initialise_common_virtual_cockpit_cameras

; 161  : 
; 162  : //VJ 050208 cleaing up wideview
; 163  : 	wide_cockpit_nr = WIDEVIEW_APACHE_PILOT;

  00123	c7 05 00 00 00
	00 04 00 00 00	 mov	 DWORD PTR ?wide_cockpit_nr@@3HA, 4 ; wide_cockpit_nr

; 164  : //VJ wideview mod, date: 20-mar-03
; 165  : //start up in normal view because when you switch to wideview the parameters are read
; 166  : 	set_global_wide_cockpit(FALSE);

  0012d	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?wide_cockpit@@3HA, 0 ; wide_cockpit

; 167  : 
; 168  : }

  00137	5f		 pop	 edi
  00138	5e		 pop	 esi
  00139	5b		 pop	 ebx
  0013a	8b e5		 mov	 esp, ebp
  0013c	5d		 pop	 ebp
  0013d	c3		 ret	 0
?initialise_blackhawk_virtual_cockpit@@YGXXZ ENDP	; initialise_blackhawk_virtual_cockpit
_TEXT	ENDS
END
