; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\userint2\ui_draw\uifont.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?ui_default_colour@@3UREAL_COLOUR@@A		; ui_default_colour
PUBLIC	?current_font@@3PAUUI_FONT_TYPE@@A		; current_font
PUBLIC	?font_character_table@@3PAEA			; font_character_table
PUBLIC	?unicode_character_table@@3PAIA			; unicode_character_table
PUBLIC	?ui_fonts@@3PAUUI_FONT_TYPE@@A			; ui_fonts
PUBLIC	?ui_white_colour@@3UREAL_COLOUR@@A		; ui_white_colour
PUBLIC	?ui_black_colour@@3UREAL_COLOUR@@A		; ui_black_colour
PUBLIC	?ui_grey_colour@@3UREAL_COLOUR@@A		; ui_grey_colour
PUBLIC	?ui_blue_colour@@3UREAL_COLOUR@@A		; ui_blue_colour
PUBLIC	?ui_green_colour@@3UREAL_COLOUR@@A		; ui_green_colour
PUBLIC	?ui_orange_colour@@3UREAL_COLOUR@@A		; ui_orange_colour
PUBLIC	?ui_red_colour@@3UREAL_COLOUR@@A		; ui_red_colour
PUBLIC	?ui_yellow_colour@@3UREAL_COLOUR@@A		; ui_yellow_colour
_BSS	SEGMENT
?ui_default_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_default_colour
?current_font@@3PAUUI_FONT_TYPE@@A DD 01H DUP (?)	; current_font
?ui_fonts@@3PAUUI_FONT_TYPE@@A DB 01fb80H DUP (?)	; ui_fonts
?ui_white_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_white_colour
?ui_black_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_black_colour
?ui_grey_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_grey_colour
?ui_blue_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_blue_colour
?ui_green_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_green_colour
?ui_orange_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_orange_colour
?ui_red_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)		; ui_red_colour
?ui_yellow_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; ui_yellow_colour
_BSS	ENDS
_DATA	SEGMENT
?font_character_table@@3PAEA DB 041H			; font_character_table
	DB	042H
	DB	043H
	DB	044H
	DB	045H
	DB	046H
	DB	047H
	DB	048H
	DB	049H
	DB	04aH
	DB	04bH
	DB	04cH
	DB	04dH
	DB	04eH
	DB	04fH
	DB	050H
	DB	051H
	DB	052H
	DB	053H
	DB	054H
	DB	055H
	DB	056H
	DB	057H
	DB	058H
	DB	059H
	DB	05aH
	DB	061H
	DB	062H
	DB	063H
	DB	064H
	DB	065H
	DB	066H
	DB	067H
	DB	068H
	DB	069H
	DB	06aH
	DB	06bH
	DB	06cH
	DB	06dH
	DB	06eH
	DB	06fH
	DB	070H
	DB	071H
	DB	072H
	DB	073H
	DB	074H
	DB	075H
	DB	076H
	DB	077H
	DB	078H
	DB	079H
	DB	07aH
	DB	031H
	DB	032H
	DB	033H
	DB	034H
	DB	035H
	DB	036H
	DB	037H
	DB	038H
	DB	039H
	DB	030H
	DB	02eH
	DB	02cH
	DB	03aH
	DB	03bH
	DB	05cH
	DB	02fH
	DB	05fH
	DB	02dH
	DB	02bH
	DB	02aH
	DB	025H
	DB	021H
	DB	028H
	DB	029H
	DB	027H
	DB	03fH
	DB	0c4H
	DB	0d6H
	DB	0dcH
	DB	0dfH
	DB	0e4H
	DB	0f6H
	DB	0fcH
	DB	03eH
	DB	03cH
	DB	020H
	DB	0bfH
	DB	0c0H
	DB	0c1H
	DB	0c2H
	DB	0c3H
	DB	0c7H
	DB	0c8H
	DB	0c9H
	DB	0caH
	DB	0ccH
	DB	0cdH
	DB	0ceH
	DB	0d1H
	DB	0d2H
	DB	0d3H
	DB	0d4H
	DB	0d5H
	DB	0d9H
	DB	0daH
	DB	0dbH
	DB	0ddH
	DB	0e0H
	DB	0e1H
	DB	0e2H
	DB	0e3H
	DB	0e7H
	DB	0e8H
	DB	0e9H
	DB	0eaH
	DB	0ebH
	DB	0ecH
	DB	0edH
	DB	0eeH
	DB	0efH
	DB	0f1H
	DB	0f2H
	DB	0f3H
	DB	0f4H
	DB	0f5H
	DB	0f9H
	DB	0faH
	DB	0fbH
	DB	0fdH
	DB	023H
	DB	05bH
	DB	05dH
	DB	03dH
	DB	09cH
	DB	022H
	DB	0a3H
	DB	024H
	DB	05eH
	DB	026H
	DB	07bH
	DB	07dH
	DB	0deH
	DB	0ffH
	DB	07eH
	DB	07fH
	DB	080H
	DB	081H
	DB	082H
	DB	083H
	DB	084H
	DB	085H
	DB	086H
	DB	087H
	DB	088H
	DB	089H
	DB	08aH
	DB	08bH
	DB	08cH
	DB	08dH
	DB	08eH
	DB	08fH
	DB	090H
	DB	091H
	DB	092H
	DB	093H
	DB	094H
	DB	095H
	DB	096H
	DB	097H
	DB	098H
	DB	099H
	DB	09aH
	DB	09bH
	DB	09cH
	DB	09dH
	DB	09eH
	DB	09fH
	DB	0a0H
	DB	0a1H
	DB	0a2H
	DB	0a3H
	DB	0a4H
	DB	0a5H
	DB	0a6H
	DB	0a7H
	DB	0a8H
	DB	0a9H
	DB	0aaH
	DB	0abH
	DB	0acH
	DB	0adH
	DB	0aeH
	DB	0afH
	DB	0b0H
	DB	0b1H
	DB	0b2H
	DB	0b3H
	DB	0b4H
	DB	0b5H
	DB	0b6H
	DB	0b7H
	DB	0b8H
	DB	0b9H
	DB	0baH
	DB	0bbH
	DB	0bcH
	DB	0bdH
	DB	0beH
	ORG $+6
?unicode_character_table@@3PAIA DD 0425H		; unicode_character_table
	DD	0427H
	DD	044aH
	DD	0426H
	DD	0428H
	DD	0424H
	DD	042dH
	DD	0419H
	DD	042bH
	DD	042fH
	DD	0416H
	DD	044dH
	DD	0449H
	DD	0448H
	DD	0445H
	DD	0423H
	DD	0420H
	DD	0415H
	DD	042cH
	DD	0422H
	DD	0410H
	DD	041bH
	DD	041aH
	DD	041cH
	DD	041fH
	DD	0411H
	DD	044eH
	DD	0446H
	DD	0418H
	DD	043cH
	DD	0421H
	DD	0431H
	DD	041eH
	DD	0439H
	DD	0436H
	DD	0414H
	DD	044bH
	DD	0413H
	DD	0444H
	DD	0432H
	DD	0442H
	DD	0434H
	DD	043eH
	DD	043fH
	DD	043dH
	DD	044cH
	DD	043bH
	DD	0447H
	DD	041dH
	DD	044fH
	DD	0438H
	DD	0441H
	DD	0435H
	DD	0412H
	DD	043aH
	DD	0437H
	DD	0443H
	DD	0440H
	DD	0433H
	DD	0430H
	DD	0417H
	DD	02026H
	DD	0feffH
	DD	042eH
	DD	0451H
_DATA	ENDS
PUBLIC	?set_ui_font_resolution@@YGXHH@Z		; set_ui_font_resolution
PUBLIC	?initialise_ui_font@@YGXXZ			; initialise_ui_font
PUBLIC	?reinitialise_ui_fonts@@YGXXZ			; reinitialise_ui_fonts
PUBLIC	?deinitialise_ui_font@@YGXXZ			; deinitialise_ui_font
PUBLIC	?ui_display_text@@YGMPBDMM@Z			; ui_display_text
PUBLIC	?ui_get_string_length@@YGMPBD@Z			; ui_get_string_length
PUBLIC	?ui_display_centred_text@@YGHPBDMMMM@Z		; ui_display_centred_text
PUBLIC	?set_ui_font_type@@YGXW4FONT_TYPES@@@Z		; set_ui_font_type
PUBLIC	?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z	; set_ui_font_colour
PUBLIC	?get_ui_font_type@@YG?AW4FONT_TYPES@@XZ		; get_ui_font_type
PUBLIC	?get_ui_font_colour@@YG?AUREAL_COLOUR@@XZ	; get_ui_font_colour
PUBLIC	?ui_save_current_font@@YGXXZ			; ui_save_current_font
PUBLIC	?ui_restore_current_font@@YGXXZ			; ui_restore_current_font
PUBLIC	?ui_set_object_font@@YGXPAUUI_OBJECT@@@Z	; ui_set_object_font
PUBLIC	??$max@H@std@@YGABHABH0@Z			; std::max<int>
PUBLIC	??_C@_02DKCKIIND@?$CFs@				; `string'
PUBLIC	??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@	; `string'
PUBLIC	??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@	; `string'
PUBLIC	??_C@_05MPFIAJAP@Arial@				; `string'
PUBLIC	??_C@_06MHCPICBN@ArBold@			; `string'
PUBLIC	??_C@_07HNLOADG@SteelAb@			; `string'
PUBLIC	?__LINE__Var@?0??load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z@4JA ; `load_windows_ui_font'::`1'::__LINE__Var
PUBLIC	??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@ ; `string'
PUBLIC	??_C@_0CH@IADIMHIO@?$CIfont?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIfont?5?$DM?5NUM_FONT@ ; `string'
PUBLIC	??_C@_0BC@LHONCDPF@?$CBnew_font?9?$DOloaded@	; `string'
PUBLIC	??_C@_02BOGAIONP@ab@				; `string'
PUBLIC	??_C@_02GMLFBBN@wb@				; `string'
PUBLIC	??_C@_0CB@PPDFBHB@Create?5Font?5returned?5NULL?5?$CI?5?$CFd?5@ ; `string'
PUBLIC	??_C@_0BI@POCGMBBF@Creating?5font?5?$CFs?5?$CI?5?$CFd?5?$CJ@ ; `string'
PUBLIC	??_C@_0P@GBDEEMIF@Using?5font?3?5?$CFs@		; `string'
PUBLIC	??_C@_0BF@EOCDPJKO@Failed?5to?5get?5widths@	; `string'
PUBLIC	??_C@_02JDPG@rb@				; `string'
PUBLIC	??_C@_0FH@KLPMEIAC@new_font?9?$DOkerning_pairs?$FLkerning@ ; `string'
PUBLIC	?__LINE__Var@?0??ui_display_text@@YGMPBDMM@Z@4JA ; `ui_display_text'::`1'::__LINE__Var
PUBLIC	??_C@_0BO@KHBEEGFH@active_screen?5?$DN?$DN?5video_screen@ ; `string'
PUBLIC	?__LINE__Var@?0??set_ui_font_type@@YGXW4FONT_TYPES@@@Z@4JA ; `set_ui_font_type'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??ui_set_object_font@@YGXPAUUI_OBJECT@@@Z@4JA ; `ui_set_object_font'::`1'::__LINE__Var
PUBLIC	??_C@_03GJLPFLNF@obj@				; `string'
PUBLIC	??_C@_0BD@FEEMDEPI@invalid?5comparator@		; `string'
PUBLIC	??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ ; `string'
PUBLIC	??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ ; `string'
PUBLIC	??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ ; `string'
PUBLIC	??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ ; `string'
PUBLIC	__real@00000000
PUBLIC	__real@0000000000000000
PUBLIC	__real@3dcccccd
PUBLIC	__real@3ecccccd
PUBLIC	__real@3f19999a
PUBLIC	__real@3f666666
PUBLIC	__real@3f800000
PUBLIC	__real@3fd55555
PUBLIC	__real@3fe0000000000000
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@400f627627627627
PUBLIC	__real@4020666666666666
PUBLIC	__real@4021000000000000
PUBLIC	__real@407e000000000000
PUBLIC	__real@4084000000000000
PUBLIC	__real@408f400000000000
PUBLIC	__real@40c00000
PUBLIC	__real@40e00000
PUBLIC	__real@41000000
PUBLIC	__real@41300000
PUBLIC	__real@41600000
PUBLIC	__real@41a80000
PUBLIC	__real@42c80000
EXTRN	__imp___invalid_parameter:PROC
EXTRN	__imp__fflush:PROC
EXTRN	__imp__fread:PROC
EXTRN	__imp__fseek:PROC
EXTRN	__imp__fwrite:PROC
EXTRN	__imp___unlink:PROC
EXTRN	_memset:PROC
EXTRN	_strcpy:PROC
EXTRN	__imp___stricmp:PROC
EXTRN	_strlen:PROC
EXTRN	__imp___CrtDbgReport:PROC
EXTRN	__imp__floor:PROC
EXTRN	__imp__GetLastError@0:PROC
EXTRN	__imp__CreateFontW@56:PROC
EXTRN	__imp__DeleteObject@4:PROC
EXTRN	__imp__GetCharABCWidthsW@16:PROC
EXTRN	__imp__GetGlyphOutlineW@28:PROC
EXTRN	__imp__GetStockObject@4:PROC
EXTRN	__imp__SelectObject@8:PROC
EXTRN	__imp__GetTextMetricsW@8:PROC
EXTRN	__imp__GetTextFaceW@12:PROC
EXTRN	__imp__GetKerningPairsW@12:PROC
EXTRN	__imp__GetDC@4:PROC
EXTRN	__imp__ReleaseDC@8:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?convert_float_to_int@@YGXMPAH@Z:PROC		; convert_float_to_int
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?debug_log@@YAXPBDZZ:PROC			; debug_log
EXTRN	?safe_malloc_memory@@YGPAXI@Z:PROC		; safe_malloc_memory
EXTRN	?safe_free@@YGXPAX@Z:PROC			; safe_free
EXTRN	?file_exist@@YGHPBD@Z:PROC			; file_exist
EXTRN	?file_size@@YGHPBD@Z:PROC			; file_size
EXTRN	?safe_mopen@@YGPAXPBD@Z:PROC			; safe_mopen
EXTRN	?safe_mclose@@YGHPAX@Z:PROC			; safe_mclose
EXTRN	?safe_fopen@@YGPAU_iobuf@@PBD0@Z:PROC		; safe_fopen
EXTRN	?safe_fclose@@YGHPAU_iobuf@@@Z:PROC		; safe_fclose
EXTRN	?safe_fread@@YGXPAXHHPAU_iobuf@@@Z:PROC		; safe_fread
EXTRN	?set_viewport@@YGXMMMM@Z:PROC			; set_viewport
EXTRN	?clip_3d_polygon@@YGPAUVERTEX@@PAU1@H@Z:PROC	; clip_3d_polygon
EXTRN	?create_user_texture_screen@@YGPAUSCREEN@@HHHH@Z:PROC ; create_user_texture_screen
EXTRN	?destroy_screen@@YGHPAUSCREEN@@@Z:PROC		; destroy_screen
EXTRN	?lock_screen@@YGHPAUSCREEN@@@Z:PROC		; lock_screen
EXTRN	?unlock_screen@@YGHPAUSCREEN@@@Z:PROC		; unlock_screen
EXTRN	?set_active_screen@@YGHPAUSCREEN@@@Z:PROC	; set_active_screen
EXTRN	?get_active_screen@@YGPAUSCREEN@@XZ:PROC	; get_active_screen
EXTRN	?set_block@@YGXHHHHUREAL_COLOUR@@@Z:PROC	; set_block
EXTRN	?generate_outcode@@YGHMM@Z:PROC			; generate_outcode
EXTRN	?set_pixel@@YGXHHUREAL_COLOUR@@@Z:PROC		; set_pixel
EXTRN	?flush_triangle_primitives@@YGXXZ:PROC		; flush_triangle_primitives
EXTRN	?set_d3d_alpha_fog_zbuffer@@YGXHHHH@Z:PROC	; set_d3d_alpha_fog_zbuffer
EXTRN	?set_d3d_gouraud_shaded_textured_renderstate@@YGXPAUSCREEN@@@Z:PROC ; set_d3d_gouraud_shaded_textured_renderstate
EXTRN	?set_d3d_int_state@@YGXW4_D3DRENDERSTATETYPE@@K@Z:PROC ; set_d3d_int_state
EXTRN	?set_d3d_texture_stage_state_immediate@@YGXHHH@Z:PROC ; set_d3d_texture_stage_state_immediate
EXTRN	?draw_wbuffered_flat_shaded_textured_polygon@@YGXPAUVERTEX@@UREAL_COLOUR@@1@Z:PROC ; draw_wbuffered_flat_shaded_textured_polygon
EXTRN	?get_screen_texture@@YGPAUSCREEN@@PAU1@@Z:PROC	; get_screen_texture
EXTRN	?ui_set_origin@@YGXMM@Z:PROC			; ui_set_origin
EXTRN	?ui_get_clip_area@@YGXPAM000@Z:PROC		; ui_get_clip_area
EXTRN	__ftol2_sse:PROC
EXTRN	?application_window@@3PAUHWND__@@A:DWORD	; application_window
EXTRN	?d3d_in_3d_scene@@3HA:DWORD			; d3d_in_3d_scene
EXTRN	?d3d_maximum_texture_width@@3HA:DWORD		; d3d_maximum_texture_width
EXTRN	?d3d_maximum_texture_height@@3HA:DWORD		; d3d_maximum_texture_height
EXTRN	?active_viewport@@3UVIEWPORT@@A:BYTE		; active_viewport
EXTRN	?active_int_viewport@@3UINT_VIEWPORT@@A:BYTE	; active_int_viewport
EXTRN	?clip_3d_coord@@3HA:DWORD			; clip_3d_coord
EXTRN	?video_screen@@3PAUSCREEN@@A:DWORD		; video_screen
EXTRN	?active_screen@@3PAUSCREEN@@A:DWORD		; active_screen
EXTRN	?fn_get_ui_object_state@@3PAP6GHPAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_state
EXTRN	?fn_get_ui_object_highlighted@@3PAP6GHPAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_highlighted
EXTRN	?fn_get_ui_object_font_type@@3PAP6G?AW4FONT_TYPES@@PAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_font_type
EXTRN	?fn_get_ui_object_font_colour@@3PAP6G?AUREAL_COLOUR@@PAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_font_colour
EXTRN	?fn_get_ui_object_highlighted_font_type@@3PAP6G?AW4FONT_TYPES@@PAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_highlighted_font_type
EXTRN	?fn_get_ui_object_highlighted_font_colour@@3PAP6G?AUREAL_COLOUR@@PAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_highlighted_font_colour
EXTRN	?fn_get_ui_object_selected_font_type@@3PAP6G?AW4FONT_TYPES@@PAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_selected_font_type
EXTRN	?fn_get_ui_object_selected_font_colour@@3PAP6G?AUREAL_COLOUR@@PAUUI_OBJECT@@@ZA:BYTE ; fn_get_ui_object_selected_font_colour
EXTRN	?ui_x_origin@@3MA:DWORD				; ui_x_origin
EXTRN	?ui_y_origin@@3MA:DWORD				; ui_y_origin
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?store_font@@3W4FONT_TYPES@@A DD 01H DUP (?)		; store_font
?store_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)		; store_colour
?current_font_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; current_font_colour
_BSS	ENDS
;	COMDAT __real@42c80000
CONST	SEGMENT
__real@42c80000 DD 042c80000r			; 100
CONST	ENDS
;	COMDAT __real@41a80000
CONST	SEGMENT
__real@41a80000 DD 041a80000r			; 21
CONST	ENDS
;	COMDAT __real@41600000
CONST	SEGMENT
__real@41600000 DD 041600000r			; 14
CONST	ENDS
;	COMDAT __real@41300000
CONST	SEGMENT
__real@41300000 DD 041300000r			; 11
CONST	ENDS
;	COMDAT __real@41000000
CONST	SEGMENT
__real@41000000 DD 041000000r			; 8
CONST	ENDS
;	COMDAT __real@40e00000
CONST	SEGMENT
__real@40e00000 DD 040e00000r			; 7
CONST	ENDS
;	COMDAT __real@40c00000
CONST	SEGMENT
__real@40c00000 DD 040c00000r			; 6
CONST	ENDS
;	COMDAT __real@408f400000000000
CONST	SEGMENT
__real@408f400000000000 DQ 0408f400000000000r	; 1000
CONST	ENDS
;	COMDAT __real@4084000000000000
CONST	SEGMENT
__real@4084000000000000 DQ 04084000000000000r	; 640
CONST	ENDS
;	COMDAT __real@407e000000000000
CONST	SEGMENT
__real@407e000000000000 DQ 0407e000000000000r	; 480
CONST	ENDS
;	COMDAT __real@4021000000000000
CONST	SEGMENT
__real@4021000000000000 DQ 04021000000000000r	; 8.5
CONST	ENDS
;	COMDAT __real@4020666666666666
CONST	SEGMENT
__real@4020666666666666 DQ 04020666666666666r	; 8.2
CONST	ENDS
;	COMDAT __real@400f627627627627
CONST	SEGMENT
__real@400f627627627627 DQ 0400f627627627627r	; 3.92308
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT __real@3fd55555
CONST	SEGMENT
__real@3fd55555 DD 03fd55555r			; 1.66667
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f666666
CONST	SEGMENT
__real@3f666666 DD 03f666666r			; 0.9
CONST	ENDS
;	COMDAT __real@3f19999a
CONST	SEGMENT
__real@3f19999a DD 03f19999ar			; 0.6
CONST	ENDS
;	COMDAT __real@3ecccccd
CONST	SEGMENT
__real@3ecccccd DD 03ecccccdr			; 0.4
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
CONST	SEGMENT
??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ DB '"'
	DB	00H, 'i', 00H, 'n', 00H, 'v', 00H, 'a', 00H, 'l', 00H, 'i', 00H
	DB	'd', 00H, ' ', 00H, 'c', 00H, 'o', 00H, 'm', 00H, 'p', 00H, 'a'
	DB	00H, 'r', 00H, 'a', 00H, 't', 00H, 'o', 00H, 'r', 00H, '"', 00H
	DB	00H, 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
CONST	SEGMENT
??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ DB 's', 00H
	DB	't', 00H, 'd', 00H, ':', 00H, ':', 00H, 'm', 00H, 'a', 00H, 'x'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
CONST	SEGMENT
??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ DB 'c'
	DB	00H, ':', 00H, '\', 00H, 'p', 00H, 'r', 00H, 'o', 00H, 'g', 00H
	DB	'r', 00H, 'a', 00H, 'm', 00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l'
	DB	00H, 'e', 00H, 's', 00H, ' ', 00H, '(', 00H, 'x', 00H, '8', 00H
	DB	'6', 00H, ')', 00H, '\', 00H, 'm', 00H, 'i', 00H, 'c', 00H, 'r'
	DB	00H, 'o', 00H, 's', 00H, 'o', 00H, 'f', 00H, 't', 00H, ' ', 00H
	DB	'v', 00H, 'i', 00H, 's', 00H, 'u', 00H, 'a', 00H, 'l', 00H, ' '
	DB	00H, 's', 00H, 't', 00H, 'u', 00H, 'd', 00H, 'i', 00H, 'o', 00H
	DB	'\', 00H, '2', 00H, '0', 00H, '1', 00H, '7', 00H, '\', 00H, 'c'
	DB	00H, 'o', 00H, 'm', 00H, 'm', 00H, 'u', 00H, 'n', 00H, 'i', 00H
	DB	't', 00H, 'y', 00H, '\', 00H, 'v', 00H, 'c', 00H, '\', 00H, 't'
	DB	00H, 'o', 00H, 'o', 00H, 'l', 00H, 's', 00H, '\', 00H, 'm', 00H
	DB	's', 00H, 'v', 00H, 'c', 00H, '\', 00H, '1', 00H, '4', 00H, '.'
	DB	00H, '1', 00H, '6', 00H, '.', 00H, '2', 00H, '7', 00H, '0', 00H
	DB	'2', 00H, '3', 00H, '\', 00H, 'i', 00H, 'n', 00H, 'c', 00H, 'l'
	DB	00H, 'u', 00H, 'd', 00H, 'e', 00H, '\', 00H, 'a', 00H, 'l', 00H
	DB	'g', 00H, 'o', 00H, 'r', 00H, 'i', 00H, 't', 00H, 'h', 00H, 'm'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
CONST	SEGMENT
??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ DB 'c:\pro'
	DB	'gram files (x86)\microsoft visual studio\2017\community\vc\to'
	DB	'ols\msvc\14.16.27023\include\algorithm', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FEEMDEPI@invalid?5comparator@
CONST	SEGMENT
??_C@_0BD@FEEMDEPI@invalid?5comparator@ DB 'invalid comparator', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_03GJLPFLNF@obj@
CONST	SEGMENT
??_C@_03GJLPFLNF@obj@ DB 'obj', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??ui_set_object_font@@YGXPAUUI_OBJECT@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??ui_set_object_font@@YGXPAUUI_OBJECT@@@Z@4JA DD 0780H ; `ui_set_object_font'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??set_ui_font_type@@YGXW4FONT_TYPES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??set_ui_font_type@@YGXW4FONT_TYPES@@@Z@4JA DD 073fH ; `set_ui_font_type'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BO@KHBEEGFH@active_screen?5?$DN?$DN?5video_screen@
CONST	SEGMENT
??_C@_0BO@KHBEEGFH@active_screen?5?$DN?$DN?5video_screen@ DB 'active_scre'
	DB	'en == video_screen', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??ui_display_text@@YGMPBDMM@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??ui_display_text@@YGMPBDMM@Z@4JA DD 0523H ; `ui_display_text'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0FH@KLPMEIAC@new_font?9?$DOkerning_pairs?$FLkerning@
CONST	SEGMENT
??_C@_0FH@KLPMEIAC@new_font?9?$DOkerning_pairs?$FLkerning@ DB 'new_font->'
	DB	'kerning_pairs[kerning_count].wFirst != font_character_table[c'
	DB	'haracter_count]', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_02JDPG@rb@
CONST	SEGMENT
??_C@_02JDPG@rb@ DB 'rb', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@EOCDPJKO@Failed?5to?5get?5widths@
CONST	SEGMENT
??_C@_0BF@EOCDPJKO@Failed?5to?5get?5widths@ DB 'Failed to get widths', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@GBDEEMIF@Using?5font?3?5?$CFs@
CONST	SEGMENT
??_C@_0P@GBDEEMIF@Using?5font?3?5?$CFs@ DB 'Using font: %s', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@POCGMBBF@Creating?5font?5?$CFs?5?$CI?5?$CFd?5?$CJ@
CONST	SEGMENT
??_C@_0BI@POCGMBBF@Creating?5font?5?$CFs?5?$CI?5?$CFd?5?$CJ@ DB 'Creating'
	DB	' font %s ( %d )', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@PPDFBHB@Create?5Font?5returned?5NULL?5?$CI?5?$CFd?5@
CONST	SEGMENT
??_C@_0CB@PPDFBHB@Create?5Font?5returned?5NULL?5?$CI?5?$CFd?5@ DB 'Create'
	DB	' Font returned NULL ( %d )', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_02GMLFBBN@wb@
CONST	SEGMENT
??_C@_02GMLFBBN@wb@ DB 'wb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_02BOGAIONP@ab@
CONST	SEGMENT
??_C@_02BOGAIONP@ab@ DB 'ab', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@LHONCDPF@?$CBnew_font?9?$DOloaded@
CONST	SEGMENT
??_C@_0BC@LHONCDPF@?$CBnew_font?9?$DOloaded@ DB '!new_font->loaded', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@IADIMHIO@?$CIfont?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIfont?5?$DM?5NUM_FONT@
CONST	SEGMENT
??_C@_0CH@IADIMHIO@?$CIfont?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIfont?5?$DM?5NUM_FONT@ DB '('
	DB	'font >= 0) && (font < NUM_FONT_TYPES)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@
CONST	SEGMENT
??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@ DB 'c:\users\nh'
	DB	'v90\projects\eech\modules\userint2\ui_draw\uifont.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z@4JA DD 01c1H ; `load_windows_ui_font'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_07HNLOADG@SteelAb@
CONST	SEGMENT
??_C@_07HNLOADG@SteelAb@ DB 'SteelAb', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06MHCPICBN@ArBold@
CONST	SEGMENT
??_C@_06MHCPICBN@ArBold@ DB 'ArBold', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05MPFIAJAP@Arial@
CONST	SEGMENT
??_C@_05MPFIAJAP@Arial@ DB 'Arial', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@
CONST	SEGMENT
??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@ DB 'fonts\fontdata.dat', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
CONST	SEGMENT
??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@ DB 'fonts\fontbase.dat', 00H ; `string'
CONST	ENDS
_DATA	SEGMENT
?current_font_type@@3W4FONT_TYPES@@A DD 0eH		; current_font_type
?current_font_resolution_width@@3HA DD 0280H		; current_font_resolution_width
?current_font_resolution_height@@3HA DD 01e0H		; current_font_resolution_height
_DATA	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs@ DB '%s', 00H			; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\algorithm
;	COMDAT ??$max@H@std@@YGABHABH0@Z
_TEXT	SEGMENT
__Left$ = 8						; size = 4
__Right$ = 12						; size = 4
??$max@H@std@@YGABHABH0@Z PROC				; std::max<int>, COMDAT

; 5387 : 	{	// return larger of _Left and _Right

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 5388 : 	if (_Left < _Right)

  00009	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
  0000c	8b 4d 0c	 mov	 ecx, DWORD PTR __Right$[ebp]
  0000f	8b 10		 mov	 edx, DWORD PTR [eax]
  00011	3b 11		 cmp	 edx, DWORD PTR [ecx]
  00013	7d 61		 jge	 SHORT $LN8@max
$LN4@max:

; 5389 : 		{
; 5390 : 		_STL_ASSERT(!(_Right < _Left), "invalid comparator");

  00015	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  00018	8b 4d 08	 mov	 ecx, DWORD PTR __Left$[ebp]
  0001b	8b 10		 mov	 edx, DWORD PTR [eax]
  0001d	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0001f	7c 02		 jl	 SHORT $LN7@max
  00021	eb 4a		 jmp	 SHORT $LN2@max
$LN7@max:
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FEEMDEPI@invalid?5comparator@
  00028	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs@
  0002d	6a 00		 push	 0
  0002f	68 0e 15 00 00	 push	 5390			; 0000150eH
  00034	68 00 00 00 00	 push	 OFFSET ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
  00039	6a 02		 push	 2
  0003b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00041	83 c4 18	 add	 esp, 24			; 00000018H
  00044	83 f8 01	 cmp	 eax, 1
  00047	75 01		 jne	 SHORT $LN12@max
  00049	cc		 int	 3
$LN12@max:
  0004a	6a 00		 push	 0
  0004c	68 0e 15 00 00	 push	 5390			; 0000150eH
  00051	68 00 00 00 00	 push	 OFFSET ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
  00060	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter
  00066	83 c4 14	 add	 esp, 20			; 00000014H
  00069	33 c0		 xor	 eax, eax
  0006b	75 b6		 jne	 SHORT $LN7@max
$LN2@max:
  0006d	33 c0		 xor	 eax, eax
  0006f	75 a4		 jne	 SHORT $LN4@max

; 5391 : 		return (_Right);

  00071	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  00074	eb 03		 jmp	 SHORT $LN11@max
$LN8@max:

; 5392 : 		}
; 5393 : 
; 5394 : 	return (_Left);

  00076	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
$LN11@max:

; 5395 : 	}

  00079	5f		 pop	 edi
  0007a	5e		 pop	 esi
  0007b	5b		 pop	 ebx
  0007c	8b e5		 mov	 esp, ebp
  0007e	5d		 pop	 ebp
  0007f	c2 08 00	 ret	 8
??$max@H@std@@YGABHABH0@Z ENDP				; std::max<int>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?get_kerning_offset@@YGHPBD@Z
_TEXT	SEGMENT
_character$ = -8					; size = 4
_count$ = -4						; size = 4
_ptr$ = 8						; size = 4
?get_kerning_offset@@YGHPBD@Z PROC			; get_kerning_offset, COMDAT

; 1710 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1711 : 
; 1712 : 	int
; 1713 : 		count;
; 1714 : 
; 1715 : 	font_character
; 1716 : 		*character;
; 1717 : 
; 1718 : 	character = &current_font->characters[(int)ptr[0]];

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 55 08	 mov	 edx, DWORD PTR _ptr$[ebp]
  00014	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00018	6b c8 24	 imul	 ecx, eax, 36
  0001b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  00021	8d 44 0a 3c	 lea	 eax, DWORD PTR [edx+ecx+60]
  00025	89 45 f8	 mov	 DWORD PTR _character$[ebp], eax

; 1719 : 
; 1720 : 	if ( character->kerning_pairs )

  00028	8b 45 f8	 mov	 eax, DWORD PTR _character$[ebp]
  0002b	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  0002f	74 71		 je	 SHORT $LN4@get_kernin

; 1721 : 	{
; 1722 : 
; 1723 : 		count = 0;

  00031	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
$LN2@get_kernin:

; 1724 : 
; 1725 : 		while ( TRUE )

  00038	b8 01 00 00 00	 mov	 eax, 1
  0003d	85 c0		 test	 eax, eax
  0003f	74 61		 je	 SHORT $LN4@get_kernin

; 1726 : 		{
; 1727 : 
; 1728 : 			if ( character->kerning_pairs[count].wFirst != ptr[0] )

  00041	8b 45 f8	 mov	 eax, DWORD PTR _character$[ebp]
  00044	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00047	8b 55 fc	 mov	 edx, DWORD PTR _count$[ebp]
  0004a	0f b7 04 d1	 movzx	 eax, WORD PTR [ecx+edx*8]
  0004e	b9 01 00 00 00	 mov	 ecx, 1
  00053	6b d1 00	 imul	 edx, ecx, 0
  00056	8b 4d 08	 mov	 ecx, DWORD PTR _ptr$[ebp]
  00059	0f b6 14 11	 movzx	 edx, BYTE PTR [ecx+edx]
  0005d	3b c2		 cmp	 eax, edx
  0005f	74 06		 je	 SHORT $LN5@get_kernin

; 1729 : 			{
; 1730 : 
; 1731 : 				return ( 0 );

  00061	33 c0		 xor	 eax, eax
  00063	eb 3f		 jmp	 SHORT $LN1@get_kernin

; 1732 : 			}
; 1733 : 			else

  00065	eb 30		 jmp	 SHORT $LN6@get_kernin
$LN5@get_kernin:

; 1734 : 			{
; 1735 : 
; 1736 : 				if ( character->kerning_pairs[count].wSecond == ptr[1] )

  00067	8b 45 f8	 mov	 eax, DWORD PTR _character$[ebp]
  0006a	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0006d	8b 55 fc	 mov	 edx, DWORD PTR _count$[ebp]
  00070	0f b7 44 d1 02	 movzx	 eax, WORD PTR [ecx+edx*8+2]
  00075	b9 01 00 00 00	 mov	 ecx, 1
  0007a	c1 e1 00	 shl	 ecx, 0
  0007d	8b 55 08	 mov	 edx, DWORD PTR _ptr$[ebp]
  00080	0f b6 0c 0a	 movzx	 ecx, BYTE PTR [edx+ecx]
  00084	3b c1		 cmp	 eax, ecx
  00086	75 0f		 jne	 SHORT $LN6@get_kernin

; 1737 : 				{
; 1738 : 
; 1739 : 					return ( character->kerning_pairs[count].iKernAmount );

  00088	8b 45 f8	 mov	 eax, DWORD PTR _character$[ebp]
  0008b	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0008e	8b 55 fc	 mov	 edx, DWORD PTR _count$[ebp]
  00091	8b 44 d1 04	 mov	 eax, DWORD PTR [ecx+edx*8+4]
  00095	eb 0d		 jmp	 SHORT $LN1@get_kernin
$LN6@get_kernin:

; 1740 : 				}
; 1741 : 			}
; 1742 : 
; 1743 : 			count++;

  00097	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0009a	83 c0 01	 add	 eax, 1
  0009d	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax

; 1744 : 		}

  000a0	eb 96		 jmp	 SHORT $LN2@get_kernin
$LN4@get_kernin:

; 1745 : 	}
; 1746 : 
; 1747 : 	return ( 0 );

  000a2	33 c0		 xor	 eax, eax
$LN1@get_kernin:

; 1748 : }

  000a4	5f		 pop	 edi
  000a5	5e		 pop	 esi
  000a6	5b		 pop	 ebx
  000a7	8b e5		 mov	 esp, ebp
  000a9	5d		 pop	 ebp
  000aa	c2 04 00	 ret	 4
?get_kerning_offset@@YGHPBD@Z ENDP			; get_kerning_offset
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z
_TEXT	SEGMENT
tv616 = -752						; size = 4
tv612 = -752						; size = 4
tv617 = -748						; size = 4
tv613 = -748						; size = 4
_kerning_count$1 = -616					; size = 4
_found$2 = -612						; size = 4
_v$3 = -608						; size = 4
_u$4 = -604						; size = 4
_character_height$5 = -600				; size = 4
_character_width$6 = -596				; size = 4
_font_headers$7 = -592					; size = 4
_abcC$8 = -588						; size = 4
_abcB$9 = -584						; size = 4
_abcA$10 = -580						; size = 4
_abcC$11 = -576						; size = 4
_abcB$12 = -572						; size = 4
_abcA$13 = -568						; size = 4
_ival$14 = -564						; size = 4
_fval$15 = -560						; size = 4
_actual_character$16 = -556				; size = 4
_widths$17 = -552					; size = 12
_size$18 = -540						; size = 4
_y_adjust$19 = -536					; size = 4
_x_adjust$20 = -532					; size = 4
_ptr$21 = -528						; size = 4
_metric$22 = -524					; size = 60
_character_height$23 = -464				; size = 4
_character_width$24 = -460				; size = 4
_finished$25 = -456					; size = 4
_pairs$26 = -452					; size = 4
_count$27 = -448					; size = 4
_real_type_name$28 = -444				; size = 32
_buf$29 = -412						; size = 64
_font_header$30 = -348					; size = 164
_fonts_data_file$31 = -184				; size = 4
_fonts_header_file$32 = -180				; size = 4
_font_character_maximum_height$33 = -176		; size = 4
_font_character_maximum_width$34 = -172			; size = 4
_number_of_kerning_pairs$35 = -168			; size = 4
_font_headers$36 = -164					; size = 4
_number_of_fonts$37 = -160				; size = 4
_count$38 = -156					; size = 4
_fp$ = -152						; size = 4
_hdc$ = -148						; size = 4
_mat2$ = -144						; size = 16
_metrics$ = -128					; size = 20
_font_screens$ = -108					; size = 4
_new_font$ = -104					; size = 4
_colour$ = -100						; size = 4
_rect$ = -96						; size = 16
_character_y$ = -80					; size = 4
_character_x$ = -76					; size = 4
_characters_high$ = -72					; size = 4
_characters_wide$ = -68					; size = 4
_texture_height$ = -64					; size = 4
_texture_width$ = -60					; size = 4
_finished$ = -56					; size = 4
_number_of_screens$ = -52				; size = 4
_font_offset$ = -48					; size = 4
_found$ = -44						; size = 4
_count$ = -40						; size = 4
_ithickness$ = -36					; size = 4
_glyph_character$ = -32					; size = 4
_aliased_character$ = -28				; size = 4
_y$ = -24						; size = 4
_x$ = -20						; size = 4
_character_count$ = -16					; size = 4
_screen_index$ = -12					; size = 4
_old_active_screen$ = -8				; size = 4
_my_font$ = -4						; size = 4
_font$ = 8						; size = 4
_type_name$ = 12					; size = 4
_width$ = 16						; size = 4
_height$ = 20						; size = 4
_weight$ = 24						; size = 4
_italics$ = 28						; size = 4
_dropshadow$ = 32					; size = 4
?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z PROC	; load_windows_ui_font, COMDAT

; 449  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 02 00
	00		 sub	 esp, 752		; 000002f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 450  : 
; 451  : 	HFONT
; 452  : 		my_font;
; 453  : 
; 454  : 	screen
; 455  : 		*old_active_screen;
; 456  : 
; 457  : 	int
; 458  : 		screen_index,
; 459  : 		character_count,
; 460  : 		x,
; 461  : 		y;
; 462  : 
; 463  : 	unsigned char
; 464  : 		*aliased_character,
; 465  : 		*glyph_character;
; 466  : 
; 467  : 	int
; 468  : 		ithickness,
; 469  : 		count,
; 470  : 		found,
; 471  : 		font_offset,
; 472  : 		number_of_screens,
; 473  : 		finished,
; 474  : 		texture_width,
; 475  : 		texture_height,
; 476  : 		characters_wide,
; 477  : 		characters_high,
; 478  : 		character_x,
; 479  : 		character_y;
; 480  : 
; 481  : 	RECT
; 482  : 		rect;
; 483  : 
; 484  : 	rgb_colour
; 485  : 		colour;
; 486  : 
; 487  : 	ui_font_type
; 488  : 		*new_font;
; 489  : 
; 490  : 	screen
; 491  : 		**font_screens;
; 492  : 
; 493  : 	GLYPHMETRICS
; 494  : 		metrics;
; 495  : 
; 496  : 	MAT2
; 497  : 		mat2;
; 498  : 
; 499  : 	HDC
; 500  : 		hdc;
; 501  : 
; 502  : 	FILE
; 503  : 		*fp;
; 504  : 
; 505  : 	ASSERT ((font >= 0) && (font < NUM_FONT_TYPES));

  0000c	83 7d 08 00	 cmp	 DWORD PTR _font$[ebp], 0
  00010	7c 06		 jl	 SHORT $LN56@load_windo
  00012	83 7d 08 0e	 cmp	 DWORD PTR _font$[ebp], 14 ; 0000000eH
  00016	7c 18		 jl	 SHORT $LN55@load_windo
$LN56@load_windo:
  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z@4JA
  0001d	83 c0 38	 add	 eax, 56			; 00000038H
  00020	50		 push	 eax
  00021	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@
  00026	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@IADIMHIO@?$CIfont?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIfont?5?$DM?5NUM_FONT@
  0002b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN55@load_windo:

; 506  : 
; 507  : 	new_font = &ui_fonts[font];

  00030	69 45 08 40 24
	00 00		 imul	 eax, DWORD PTR _font$[ebp], 9280
  00037	05 00 00 00 00	 add	 eax, OFFSET ?ui_fonts@@3PAUUI_FONT_TYPE@@A ; ui_fonts
  0003c	89 45 98	 mov	 DWORD PTR _new_font$[ebp], eax

; 508  : 
; 509  : 	ASSERT ( !new_font->loaded );

  0003f	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  00042	83 38 00	 cmp	 DWORD PTR [eax], 0
  00045	74 18		 je	 SHORT $LN57@load_windo
  00047	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z@4JA
  0004c	83 c0 3c	 add	 eax, 60			; 0000003cH
  0004f	50		 push	 eax
  00050	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@
  00055	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@LHONCDPF@?$CBnew_font?9?$DOloaded@
  0005a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN57@load_windo:

; 510  : 
; 511  : 	memset ( new_font, 0, sizeof ( ui_font_type ) );

  0005f	68 40 24 00 00	 push	 9280			; 00002440H
  00064	6a 00		 push	 0
  00066	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 _memset
  0006f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 512  : 
; 513  : 	new_font->loaded = TRUE;

  00072	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  00075	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 514  : 
; 515  : 	new_font->type_name = ( char * ) safe_malloc ( strlen ( type_name ) + 1 );

  0007b	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 _strlen
  00084	83 c4 04	 add	 esp, 4
  00087	83 c0 01	 add	 eax, 1
  0008a	50		 push	 eax
  0008b	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00090	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00093	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 516  : 
; 517  : 	strcpy ( new_font->type_name, type_name );

  00096	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  00099	50		 push	 eax
  0009a	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  0009d	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  000a0	52		 push	 edx
  000a1	e8 00 00 00 00	 call	 _strcpy
  000a6	83 c4 08	 add	 esp, 8

; 518  : 
; 519  : 	new_font->font_source_height = height;

  000a9	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  000ac	8b 4d 14	 mov	 ecx, DWORD PTR _height$[ebp]
  000af	89 48 1c	 mov	 DWORD PTR [eax+28], ecx

; 520  : 	new_font->font_source_width = width;

  000b2	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  000b5	8b 4d 10	 mov	 ecx, DWORD PTR _width$[ebp]
  000b8	89 48 20	 mov	 DWORD PTR [eax+32], ecx

; 521  : 	new_font->font_source_weight = weight;

  000bb	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  000be	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _weight$[ebp]
  000c3	f3 0f 11 40 2c	 movss	 DWORD PTR [eax+44], xmm0

; 522  : 	new_font->font_italics = italics;

  000c8	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  000cb	8b 4d 1c	 mov	 ecx, DWORD PTR _italics$[ebp]
  000ce	89 48 24	 mov	 DWORD PTR [eax+36], ecx

; 523  : 	new_font->font_dropshadow = dropshadow;

  000d1	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  000d4	8b 4d 20	 mov	 ecx, DWORD PTR _dropshadow$[ebp]
  000d7	89 48 28	 mov	 DWORD PTR [eax+40], ecx

; 524  : 
; 525  : 	ithickness = ( int ) ( weight * 1000.0 );

  000da	f3 0f 5a 45 18	 cvtss2sd xmm0, DWORD PTR _weight$[ebp]
  000df	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@408f400000000000
  000e7	f2 0f 2c c0	 cvttsd2si eax, xmm0
  000eb	89 45 dc	 mov	 DWORD PTR _ithickness$[ebp], eax

; 526  : 
; 527  : 	//
; 528  : 	// Attempt to load font from disk
; 529  : 	//
; 530  : 
; 531  : 	found = FALSE;

  000ee	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _found$[ebp], 0

; 532  : 
; 533  : 	font_offset = -1;

  000f5	c7 45 d0 ff ff
	ff ff		 mov	 DWORD PTR _font_offset$[ebp], -1

; 534  : 
; 535  : 	if ( file_exist ( UI_FONT_HEADER_FILE ) )

  000fc	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  00101	e8 00 00 00 00	 call	 ?file_exist@@YGHPBD@Z	; file_exist
  00106	85 c0		 test	 eax, eax
  00108	0f 84 2c 01 00
	00		 je	 $LN58@load_windo

; 536  : 	{
; 537  : 
; 538  : 		int
; 539  : 			count,
; 540  : 			number_of_fonts;
; 541  : 
; 542  : 		font_database_header
; 543  : 			*font_headers;
; 544  : 
; 545  : 		number_of_fonts = file_size ( UI_FONT_HEADER_FILE );

  0010e	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  00113	e8 00 00 00 00	 call	 ?file_size@@YGHPBD@Z	; file_size
  00118	89 85 60 ff ff
	ff		 mov	 DWORD PTR _number_of_fonts$37[ebp], eax

; 546  : 
; 547  : 		number_of_fonts /= sizeof ( font_database_header );

  0011e	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _number_of_fonts$37[ebp]
  00124	33 d2		 xor	 edx, edx
  00126	b9 a4 00 00 00	 mov	 ecx, 164		; 000000a4H
  0012b	f7 f1		 div	 ecx
  0012d	89 85 60 ff ff
	ff		 mov	 DWORD PTR _number_of_fonts$37[ebp], eax

; 548  : 
; 549  : 		font_headers = ( font_database_header * ) safe_mopen ( UI_FONT_HEADER_FILE );

  00133	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  00138	e8 00 00 00 00	 call	 ?safe_mopen@@YGPAXPBD@Z	; safe_mopen
  0013d	89 85 5c ff ff
	ff		 mov	 DWORD PTR _font_headers$36[ebp], eax

; 550  : 
; 551  : 		for ( count = 0; count < number_of_fonts; count++ )

  00143	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _count$38[ebp], 0
  0014d	eb 0f		 jmp	 SHORT $LN4@load_windo
$LN2@load_windo:
  0014f	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _count$38[ebp]
  00155	83 c0 01	 add	 eax, 1
  00158	89 85 64 ff ff
	ff		 mov	 DWORD PTR _count$38[ebp], eax
$LN4@load_windo:
  0015e	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _count$38[ebp]
  00164	3b 85 60 ff ff
	ff		 cmp	 eax, DWORD PTR _number_of_fonts$37[ebp]
  0016a	0f 8d b4 00 00
	00		 jge	 $LN3@load_windo

; 552  : 		{
; 553  : 
; 554  : 			if ( stricmp ( font_headers[count].type_name, type_name ) == 0 )

  00170	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  00173	50		 push	 eax
  00174	69 8d 64 ff ff
	ff a4 00 00 00	 imul	 ecx, DWORD PTR _count$38[ebp], 164
  0017e	03 8d 5c ff ff
	ff		 add	 ecx, DWORD PTR _font_headers$36[ebp]
  00184	51		 push	 ecx
  00185	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___stricmp
  0018b	83 c4 08	 add	 esp, 8
  0018e	85 c0		 test	 eax, eax
  00190	0f 85 89 00 00
	00		 jne	 $LN60@load_windo

; 555  : 			{
; 556  : 
; 557  : 				if (	( font_headers[count].font_source_height == height ) &&
; 558  : 						( font_headers[count].font_source_width == width ) &&
; 559  : 						( font_headers[count].font_source_weight == weight ) &&

  00196	69 85 64 ff ff
	ff a4 00 00 00	 imul	 eax, DWORD PTR _count$38[ebp], 164
  001a0	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _font_headers$36[ebp]
  001a6	8b 94 01 88 00
	00 00		 mov	 edx, DWORD PTR [ecx+eax+136]
  001ad	3b 55 14	 cmp	 edx, DWORD PTR _height$[ebp]
  001b0	75 6d		 jne	 SHORT $LN60@load_windo
  001b2	69 85 64 ff ff
	ff a4 00 00 00	 imul	 eax, DWORD PTR _count$38[ebp], 164
  001bc	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _font_headers$36[ebp]
  001c2	8b 94 01 8c 00
	00 00		 mov	 edx, DWORD PTR [ecx+eax+140]
  001c9	3b 55 10	 cmp	 edx, DWORD PTR _width$[ebp]
  001cc	75 51		 jne	 SHORT $LN60@load_windo
  001ce	69 85 64 ff ff
	ff a4 00 00 00	 imul	 eax, DWORD PTR _count$38[ebp], 164
  001d8	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _font_headers$36[ebp]
  001de	f3 0f 10 84 01
	98 00 00 00	 movss	 xmm0, DWORD PTR [ecx+eax+152]
  001e7	0f 2e 45 18	 ucomiss xmm0, DWORD PTR _weight$[ebp]
  001eb	9f		 lahf
  001ec	f6 c4 44	 test	 ah, 68			; 00000044H
  001ef	7a 2e		 jp	 SHORT $LN60@load_windo
  001f1	69 85 64 ff ff
	ff a4 00 00 00	 imul	 eax, DWORD PTR _count$38[ebp], 164
  001fb	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _font_headers$36[ebp]
  00201	8b 94 01 90 00
	00 00		 mov	 edx, DWORD PTR [ecx+eax+144]
  00208	3b 55 1c	 cmp	 edx, DWORD PTR _italics$[ebp]
  0020b	75 12		 jne	 SHORT $LN60@load_windo

; 560  : 						( font_headers[count].font_italics == italics ) )
; 561  : 				{
; 562  : 
; 563  : 					found = TRUE;

  0020d	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _found$[ebp], 1

; 564  : 
; 565  : 					font_offset = count;

  00214	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _count$38[ebp]
  0021a	89 45 d0	 mov	 DWORD PTR _font_offset$[ebp], eax

; 566  : 
; 567  : 					break;

  0021d	eb 05		 jmp	 SHORT $LN3@load_windo
$LN60@load_windo:

; 568  : 				}
; 569  : 			}
; 570  : 		}

  0021f	e9 2b ff ff ff	 jmp	 $LN2@load_windo
$LN3@load_windo:

; 571  : 
; 572  : 		safe_mclose ( font_headers );

  00224	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR _font_headers$36[ebp]
  0022a	50		 push	 eax
  0022b	e8 00 00 00 00	 call	 ?safe_mclose@@YGHPAX@Z	; safe_mclose

; 573  : 
; 574  : 		font_headers = NULL;

  00230	c7 85 5c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _font_headers$36[ebp], 0
$LN58@load_windo:

; 575  : 	}
; 576  : 
; 577  : 	if ( !found )

  0023a	83 7d d4 00	 cmp	 DWORD PTR _found$[ebp], 0
  0023e	0f 85 01 0b 00
	00		 jne	 $LN61@load_windo

; 578  : 	{
; 579  : 
; 580  : 		int
; 581  : 			number_of_kerning_pairs,
; 582  : 			font_character_maximum_width,
; 583  : 			font_character_maximum_height;
; 584  : 
; 585  : 		FILE
; 586  : 			*fonts_header_file,
; 587  : 			*fonts_data_file;
; 588  : 
; 589  : 		font_database_header
; 590  : 			font_header;
; 591  : 
; 592  : 		wchar_t
; 593  : 			buf[32];
; 594  : 
; 595  : 		char
; 596  : 			real_type_name[32];
; 597  : 
; 598  : 		unsigned
; 599  : 			count;
; 600  : 
; 601  : 		for ( count = 0; count < strlen ( type_name ); count++ )

  00244	c7 85 40 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _count$27[ebp], 0
  0024e	eb 0f		 jmp	 SHORT $LN7@load_windo
$LN5@load_windo:
  00250	8b 85 40 fe ff
	ff		 mov	 eax, DWORD PTR _count$27[ebp]
  00256	83 c0 01	 add	 eax, 1
  00259	89 85 40 fe ff
	ff		 mov	 DWORD PTR _count$27[ebp], eax
$LN7@load_windo:
  0025f	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  00262	50		 push	 eax
  00263	e8 00 00 00 00	 call	 _strlen
  00268	83 c4 04	 add	 esp, 4
  0026b	39 85 40 fe ff
	ff		 cmp	 DWORD PTR _count$27[ebp], eax
  00271	73 1d		 jae	 SHORT $LN6@load_windo

; 602  : 		{
; 603  : 
; 604  : 			buf[count] = type_name[count];

  00273	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  00276	03 85 40 fe ff
	ff		 add	 eax, DWORD PTR _count$27[ebp]
  0027c	66 0f b6 08	 movzx	 cx, BYTE PTR [eax]
  00280	8b 95 40 fe ff
	ff		 mov	 edx, DWORD PTR _count$27[ebp]
  00286	66 89 8c 55 64
	fe ff ff	 mov	 WORD PTR _buf$29[ebp+edx*2], cx

; 605  : 		}

  0028e	eb c0		 jmp	 SHORT $LN5@load_windo
$LN6@load_windo:

; 606  : 
; 607  : 		buf[count] = 0;

  00290	33 c0		 xor	 eax, eax
  00292	8b 8d 40 fe ff
	ff		 mov	 ecx, DWORD PTR _count$27[ebp]
  00298	66 89 84 4d 64
	fe ff ff	 mov	 WORD PTR _buf$29[ebp+ecx*2], ax

; 608  : 
; 609  : 		strcpy ( font_header.type_name, type_name );

  002a0	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  002a3	50		 push	 eax
  002a4	8d 8d a4 fe ff
	ff		 lea	 ecx, DWORD PTR _font_header$30[ebp]
  002aa	51		 push	 ecx
  002ab	e8 00 00 00 00	 call	 _strcpy
  002b0	83 c4 08	 add	 esp, 8

; 610  : 		font_header.font_source_width = width;

  002b3	8b 45 10	 mov	 eax, DWORD PTR _width$[ebp]
  002b6	89 85 30 ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+140], eax

; 611  : 		font_header.font_source_height = height;

  002bc	8b 45 14	 mov	 eax, DWORD PTR _height$[ebp]
  002bf	89 85 2c ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+136], eax

; 612  : 		font_header.font_source_weight = weight;

  002c5	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _weight$[ebp]
  002ca	f3 0f 11 85 3c
	ff ff ff	 movss	 DWORD PTR _font_header$30[ebp+152], xmm0

; 613  : 		font_header.font_italics = italics;

  002d2	8b 45 1c	 mov	 eax, DWORD PTR _italics$[ebp]
  002d5	89 85 34 ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+144], eax

; 614  : 
; 615  : 		if ( file_exist ( UI_FONT_HEADER_FILE ) )

  002db	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  002e0	e8 00 00 00 00	 call	 ?file_exist@@YGHPBD@Z	; file_exist
  002e5	85 c0		 test	 eax, eax
  002e7	74 52		 je	 SHORT $LN62@load_windo

; 616  : 		{
; 617  : 
; 618  : 			font_offset = file_size ( UI_FONT_HEADER_FILE ) / sizeof ( font_database_header );

  002e9	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  002ee	e8 00 00 00 00	 call	 ?file_size@@YGHPBD@Z	; file_size
  002f3	33 d2		 xor	 edx, edx
  002f5	b9 a4 00 00 00	 mov	 ecx, 164		; 000000a4H
  002fa	f7 f1		 div	 ecx
  002fc	89 45 d0	 mov	 DWORD PTR _font_offset$[ebp], eax

; 619  : 			font_header.kerning_data_offset = file_size ( UI_FONT_DATA_FILE );

  002ff	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@
  00304	e8 00 00 00 00	 call	 ?file_size@@YGHPBD@Z	; file_size
  00309	89 85 40 ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+156], eax

; 620  : 			fonts_header_file = safe_fopen ( UI_FONT_HEADER_FILE, "ab") ;

  0030f	68 00 00 00 00	 push	 OFFSET ??_C@_02BOGAIONP@ab@
  00314	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  00319	e8 00 00 00 00	 call	 ?safe_fopen@@YGPAU_iobuf@@PBD0@Z ; safe_fopen
  0031e	89 85 4c ff ff
	ff		 mov	 DWORD PTR _fonts_header_file$32[ebp], eax

; 621  : 			fonts_data_file = safe_fopen ( UI_FONT_DATA_FILE, "ab" );

  00324	68 00 00 00 00	 push	 OFFSET ??_C@_02BOGAIONP@ab@
  00329	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@
  0032e	e8 00 00 00 00	 call	 ?safe_fopen@@YGPAU_iobuf@@PBD0@Z ; safe_fopen
  00333	89 85 48 ff ff
	ff		 mov	 DWORD PTR _fonts_data_file$31[ebp], eax

; 622  : 		}
; 623  : 		else

  00339	eb 3b		 jmp	 SHORT $LN63@load_windo
$LN62@load_windo:

; 624  : 		{
; 625  : 
; 626  : 			font_offset = 0;

  0033b	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _font_offset$[ebp], 0

; 627  : 			font_header.kerning_data_offset = 0;

  00342	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _font_header$30[ebp+156], 0

; 628  : 			fonts_header_file = safe_fopen ( UI_FONT_HEADER_FILE, "wb") ;

  0034c	68 00 00 00 00	 push	 OFFSET ??_C@_02GMLFBBN@wb@
  00351	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  00356	e8 00 00 00 00	 call	 ?safe_fopen@@YGPAU_iobuf@@PBD0@Z ; safe_fopen
  0035b	89 85 4c ff ff
	ff		 mov	 DWORD PTR _fonts_header_file$32[ebp], eax

; 629  : 			fonts_data_file = safe_fopen ( UI_FONT_DATA_FILE, "wb" );

  00361	68 00 00 00 00	 push	 OFFSET ??_C@_02GMLFBBN@wb@
  00366	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@
  0036b	e8 00 00 00 00	 call	 ?safe_fopen@@YGPAU_iobuf@@PBD0@Z ; safe_fopen
  00370	89 85 48 ff ff
	ff		 mov	 DWORD PTR _fonts_data_file$31[ebp], eax
$LN63@load_windo:

; 630  : 		}
; 631  : 
; 632  : 		aliased_character = ( unsigned char * ) safe_malloc ( 128 * 128 );

  00376	68 00 40 00 00	 push	 16384			; 00004000H
  0037b	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00380	89 45 e4	 mov	 DWORD PTR _aliased_character$[ebp], eax

; 633  : 
; 634  : 		old_active_screen = get_active_screen ();

  00383	e8 00 00 00 00	 call	 ?get_active_screen@@YGPAUSCREEN@@XZ ; get_active_screen
  00388	89 45 f8	 mov	 DWORD PTR _old_active_screen$[ebp], eax

; 635  : 
; 636  : 		rect.top = 0;

  0038b	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _rect$[ebp+4], 0

; 637  : 		rect.left = 0;

  00392	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _rect$[ebp], 0

; 638  : 		rect.right = 128;

  00399	c7 45 a8 80 00
	00 00		 mov	 DWORD PTR _rect$[ebp+8], 128 ; 00000080H

; 639  : 		rect.bottom = 128;

  003a0	c7 45 ac 80 00
	00 00		 mov	 DWORD PTR _rect$[ebp+12], 128 ; 00000080H

; 640  : 
; 641  : 		my_font = CreateFontW ( 	height, 							// Height

  003a7	8d 85 64 fe ff
	ff		 lea	 eax, DWORD PTR _buf$29[ebp]
  003ad	50		 push	 eax
  003ae	6a 42		 push	 66			; 00000042H
  003b0	6a 00		 push	 0
  003b2	6a 00		 push	 0
  003b4	6a 04		 push	 4
  003b6	6a 01		 push	 1
  003b8	6a 00		 push	 0
  003ba	6a 00		 push	 0
  003bc	8b 4d 1c	 mov	 ecx, DWORD PTR _italics$[ebp]
  003bf	51		 push	 ecx
  003c0	8b 55 dc	 mov	 edx, DWORD PTR _ithickness$[ebp]
  003c3	52		 push	 edx
  003c4	6a 00		 push	 0
  003c6	6a 00		 push	 0
  003c8	8b 45 10	 mov	 eax, DWORD PTR _width$[ebp]
  003cb	50		 push	 eax
  003cc	8b 4d 14	 mov	 ecx, DWORD PTR _height$[ebp]
  003cf	51		 push	 ecx
  003d0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFontW@56
  003d6	89 45 fc	 mov	 DWORD PTR _my_font$[ebp], eax

; 642  : 											width,							// Width ( 0 = don't care )
; 643  : 											0,									// Escapement
; 644  : 											0,									// Orientation
; 645  : 											ithickness,						// FW_HEAVY,	//FW_DONTCARE,	// Weight ( [thin] 0->1000 [bold )
; 646  : 											italics,								// Italics
; 647  : 											FALSE,							// Underline
; 648  : 											FALSE,							// Strikeout
; 649  : 											DEFAULT_CHARSET,					// Character set
; 650  : 											OUT_TT_PRECIS,					// How to choose the font?
; 651  : 											CLIP_DEFAULT_PRECIS,			// How to clip the font!!!!
; 652  : 											DEFAULT_QUALITY,				// ANTIALIASED_QUALITY,	//DEFAULT_QUALITY,		// quality
; 653  : 											VARIABLE_PITCH | FF_SCRIPT,
; 654  : 											buf );	//type_name );
; 655  : 
; 656  : 
; 657  : 		if ( !my_font )

  003d9	83 7d fc 00	 cmp	 DWORD PTR _my_font$[ebp], 0
  003dd	75 14		 jne	 SHORT $LN64@load_windo

; 658  : 		{
; 659  : 
; 660  : 			debug_fatal  ( "Create Font returned NULL ( %d )", GetLastError () );

  003df	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetLastError@0
  003e5	50		 push	 eax
  003e6	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@PPDFBHB@Create?5Font?5returned?5NULL?5?$CI?5?$CFd?5@
  003eb	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  003f0	83 c4 08	 add	 esp, 8
$LN64@load_windo:

; 661  : 		}
; 662  : 
; 663  : 		//
; 664  : 		// Get Kerning information
; 665  : 		//
; 666  : 
; 667  : 		debug_log ( "Creating font %s ( %d )", type_name, height );

  003f3	8b 45 14	 mov	 eax, DWORD PTR _height$[ebp]
  003f6	50		 push	 eax
  003f7	8b 4d 0c	 mov	 ecx, DWORD PTR _type_name$[ebp]
  003fa	51		 push	 ecx
  003fb	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@POCGMBBF@Creating?5font?5?$CFs?5?$CI?5?$CFd?5?$CJ@
  00400	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00405	83 c4 0c	 add	 esp, 12			; 0000000cH

; 668  : 
; 669  : 		hdc = GetDC ( application_window );

  00408	a1 00 00 00 00	 mov	 eax, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  0040d	50		 push	 eax
  0040e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  00414	89 85 6c ff ff
	ff		 mov	 DWORD PTR _hdc$[ebp], eax

; 670  : 
; 671  : 		SelectObject ( hdc, my_font );

  0041a	8b 45 fc	 mov	 eax, DWORD PTR _my_font$[ebp]
  0041d	50		 push	 eax
  0041e	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _hdc$[ebp]
  00424	51		 push	 ecx
  00425	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8

; 672  : 
; 673  : 		GetTextFace ( hdc, 32, buf );

  0042b	8d 85 64 fe ff
	ff		 lea	 eax, DWORD PTR _buf$29[ebp]
  00431	50		 push	 eax
  00432	6a 20		 push	 32			; 00000020H
  00434	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _hdc$[ebp]
  0043a	51		 push	 ecx
  0043b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTextFaceW@12

; 674  : 
; 675  : 		ReleaseDC ( application_window, hdc );

  00441	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _hdc$[ebp]
  00447	50		 push	 eax
  00448	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  0044e	51		 push	 ecx
  0044f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8

; 676  : 
; 677  : 		for ( count = 0; count < strlen ( type_name ); count++ )

  00455	c7 85 40 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _count$27[ebp], 0
  0045f	eb 0f		 jmp	 SHORT $LN10@load_windo
$LN8@load_windo:
  00461	8b 85 40 fe ff
	ff		 mov	 eax, DWORD PTR _count$27[ebp]
  00467	83 c0 01	 add	 eax, 1
  0046a	89 85 40 fe ff
	ff		 mov	 DWORD PTR _count$27[ebp], eax
$LN10@load_windo:
  00470	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  00473	50		 push	 eax
  00474	e8 00 00 00 00	 call	 _strlen
  00479	83 c4 04	 add	 esp, 4
  0047c	39 85 40 fe ff
	ff		 cmp	 DWORD PTR _count$27[ebp], eax
  00482	73 1a		 jae	 SHORT $LN9@load_windo

; 678  : 		{
; 679  : 
; 680  : 			real_type_name[count] = type_name[count];

  00484	8b 45 0c	 mov	 eax, DWORD PTR _type_name$[ebp]
  00487	03 85 40 fe ff
	ff		 add	 eax, DWORD PTR _count$27[ebp]
  0048d	8b 8d 40 fe ff
	ff		 mov	 ecx, DWORD PTR _count$27[ebp]
  00493	8a 10		 mov	 dl, BYTE PTR [eax]
  00495	88 94 0d 44 fe
	ff ff		 mov	 BYTE PTR _real_type_name$28[ebp+ecx], dl

; 681  : 		}

  0049c	eb c3		 jmp	 SHORT $LN8@load_windo
$LN9@load_windo:

; 682  : 
; 683  : 		debug_log ( "Using font: %s", real_type_name );

  0049e	8d 85 44 fe ff
	ff		 lea	 eax, DWORD PTR _real_type_name$28[ebp]
  004a4	50		 push	 eax
  004a5	68 00 00 00 00	 push	 OFFSET ??_C@_0P@GBDEEMIF@Using?5font?3?5?$CFs@
  004aa	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  004af	83 c4 08	 add	 esp, 8

; 684  : 
; 685  : 		number_of_kerning_pairs = GetKerningPairs ( hdc, 0, 0 );

  004b2	6a 00		 push	 0
  004b4	6a 00		 push	 0
  004b6	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _hdc$[ebp]
  004bc	50		 push	 eax
  004bd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetKerningPairsW@12
  004c3	89 85 58 ff ff
	ff		 mov	 DWORD PTR _number_of_kerning_pairs$35[ebp], eax

; 686  : 
; 687  : 		font_header.number_of_kerning_pairs = number_of_kerning_pairs;

  004c9	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _number_of_kerning_pairs$35[ebp]
  004cf	89 85 38 ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+148], eax

; 688  : 
; 689  : 		if ( number_of_kerning_pairs )

  004d5	83 bd 58 ff ff
	ff 00		 cmp	 DWORD PTR _number_of_kerning_pairs$35[ebp], 0
  004dc	74 5c		 je	 SHORT $LN65@load_windo

; 690  : 		{
; 691  : 
; 692  : 			KERNINGPAIR
; 693  : 				*pairs;
; 694  : 
; 695  : 			pairs = ( KERNINGPAIR * ) safe_malloc ( number_of_kerning_pairs * sizeof ( KERNINGPAIR ) );

  004de	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _number_of_kerning_pairs$35[ebp]
  004e4	c1 e0 03	 shl	 eax, 3
  004e7	50		 push	 eax
  004e8	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  004ed	89 85 3c fe ff
	ff		 mov	 DWORD PTR _pairs$26[ebp], eax

; 696  : 
; 697  : 			GetKerningPairs ( hdc, number_of_kerning_pairs, pairs );

  004f3	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _pairs$26[ebp]
  004f9	50		 push	 eax
  004fa	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _number_of_kerning_pairs$35[ebp]
  00500	51		 push	 ecx
  00501	8b 95 6c ff ff
	ff		 mov	 edx, DWORD PTR _hdc$[ebp]
  00507	52		 push	 edx
  00508	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetKerningPairsW@12

; 698  : 
; 699  : 			fwrite ( pairs, sizeof ( KERNINGPAIR ), number_of_kerning_pairs, fonts_data_file );

  0050e	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00514	50		 push	 eax
  00515	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _number_of_kerning_pairs$35[ebp]
  0051b	51		 push	 ecx
  0051c	6a 08		 push	 8
  0051e	8b 95 3c fe ff
	ff		 mov	 edx, DWORD PTR _pairs$26[ebp]
  00524	52		 push	 edx
  00525	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  0052b	83 c4 10	 add	 esp, 16			; 00000010H

; 700  : 
; 701  : 			safe_free ( pairs );

  0052e	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _pairs$26[ebp]
  00534	50		 push	 eax
  00535	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free
$LN65@load_windo:

; 702  : 		}
; 703  : 
; 704  : 		font_character_maximum_width = 0;

  0053a	c7 85 54 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _font_character_maximum_width$34[ebp], 0

; 705  : 		font_character_maximum_height = 0;

  00544	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _font_character_maximum_height$33[ebp], 0

; 706  : 
; 707  : 		for ( character_count = 0; character_count < sizeof ( font_character_table ); character_count++ )

  0054e	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _character_count$[ebp], 0
  00555	eb 09		 jmp	 SHORT $LN13@load_windo
$LN11@load_windo:
  00557	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  0055a	83 c0 01	 add	 eax, 1
  0055d	89 45 f0	 mov	 DWORD PTR _character_count$[ebp], eax
$LN13@load_windo:
  00560	81 7d f0 d2 00
	00 00		 cmp	 DWORD PTR _character_count$[ebp], 210 ; 000000d2H
  00567	0f 83 00 07 00
	00		 jae	 $LN12@load_windo

; 708  : 		{
; 709  : 
; 710  : 			int
; 711  : 				finished,
; 712  : 				character_width,
; 713  : 				character_height;
; 714  : 
; 715  : 			TEXTMETRIC
; 716  : 				metric;
; 717  : 
; 718  : 			unsigned char
; 719  : 				*ptr;
; 720  : 
; 721  : 			int
; 722  : 				x_adjust,
; 723  : 				y_adjust,
; 724  : 				size;
; 725  : 
; 726  : 			ABC
; 727  : 				widths;
; 728  : 
; 729  : 			memset ( aliased_character, 0, 128*128 );

  0056d	68 00 40 00 00	 push	 16384			; 00004000H
  00572	6a 00		 push	 0
  00574	8b 45 e4	 mov	 eax, DWORD PTR _aliased_character$[ebp]
  00577	50		 push	 eax
  00578	e8 00 00 00 00	 call	 _memset
  0057d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 730  : 
; 731  : 			if ( font_character_table[character_count] != ' ' )

  00580	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  00583	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  0058a	83 f9 20	 cmp	 ecx, 32			; 00000020H
  0058d	0f 84 b5 04 00
	00		 je	 $LN66@load_windo

; 732  : 			{
; 733  : 
; 734  : 				unsigned int
; 735  : 					actual_character;
; 736  : 
; 737  : 				actual_character = font_character_table[character_count];

  00593	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  00596	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  0059d	89 8d d4 fd ff
	ff		 mov	 DWORD PTR _actual_character$16[ebp], ecx

; 738  : 
; 739  : 				if ( ( actual_character >= 126 ) && ( actual_character <= 190 ) )

  005a3	83 bd d4 fd ff
	ff 7e		 cmp	 DWORD PTR _actual_character$16[ebp], 126 ; 0000007eH
  005aa	72 21		 jb	 SHORT $LN68@load_windo
  005ac	81 bd d4 fd ff
	ff be 00 00 00	 cmp	 DWORD PTR _actual_character$16[ebp], 190 ; 000000beH
  005b6	77 15		 ja	 SHORT $LN68@load_windo

; 740  : 				{
; 741  : 
; 742  : 					actual_character = unicode_character_table[actual_character-126];

  005b8	8b 85 d4 fd ff
	ff		 mov	 eax, DWORD PTR _actual_character$16[ebp]
  005be	8b 0c 85 08 fe
	ff ff		 mov	 ecx, DWORD PTR ?unicode_character_table@@3PAIA[eax*4-504]
  005c5	89 8d d4 fd ff
	ff		 mov	 DWORD PTR _actual_character$16[ebp], ecx
  005cb	eb 16		 jmp	 SHORT $LN70@load_windo
$LN68@load_windo:

; 743  : 				}
; 744  : 				else if ( actual_character == 255 )

  005cd	81 bd d4 fd ff
	ff ff 00 00 00	 cmp	 DWORD PTR _actual_character$16[ebp], 255 ; 000000ffH
  005d7	75 0a		 jne	 SHORT $LN70@load_windo

; 745  : 				{
; 746  : 
; 747  : 					actual_character = '';

  005d9	c7 85 d4 fd ff
	ff a9 00 00 00	 mov	 DWORD PTR _actual_character$16[ebp], 169 ; 000000a9H
$LN70@load_windo:

; 748  : 				}
; 749  : 
; 750  : 				hdc = GetDC ( application_window );

  005e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  005e8	50		 push	 eax
  005e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  005ef	89 85 6c ff ff
	ff		 mov	 DWORD PTR _hdc$[ebp], eax

; 751  : 
; 752  : 				SelectObject ( hdc, my_font );

  005f5	8b 45 fc	 mov	 eax, DWORD PTR _my_font$[ebp]
  005f8	50		 push	 eax
  005f9	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _hdc$[ebp]
  005ff	51		 push	 ecx
  00600	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8

; 753  : 
; 754  : 				GetTextMetrics ( hdc, &metric );

  00606	8d 85 f4 fd ff
	ff		 lea	 eax, DWORD PTR _metric$22[ebp]
  0060c	50		 push	 eax
  0060d	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _hdc$[ebp]
  00613	51		 push	 ecx
  00614	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTextMetricsW@8

; 755  : 
; 756  : 				if ( !GetCharABCWidthsW ( hdc, actual_character, actual_character, &widths ) )

  0061a	8d 85 d8 fd ff
	ff		 lea	 eax, DWORD PTR _widths$17[ebp]
  00620	50		 push	 eax
  00621	8b 8d d4 fd ff
	ff		 mov	 ecx, DWORD PTR _actual_character$16[ebp]
  00627	51		 push	 ecx
  00628	8b 95 d4 fd ff
	ff		 mov	 edx, DWORD PTR _actual_character$16[ebp]
  0062e	52		 push	 edx
  0062f	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _hdc$[ebp]
  00635	50		 push	 eax
  00636	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetCharABCWidthsW@16
  0063c	85 c0		 test	 eax, eax
  0063e	75 0d		 jne	 SHORT $LN71@load_windo

; 757  : 				{
; 758  : 
; 759  : 					debug_log ( "Failed to get widths" );

  00640	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@EOCDPJKO@Failed?5to?5get?5widths@
  00645	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  0064a	83 c4 04	 add	 esp, 4
$LN71@load_windo:

; 760  : 				}
; 761  : 
; 762  : 				mat2.eM11.fract = 0; mat2.eM11.value = 1; mat2.eM12.fract = 0; mat2.eM12.value = 0;

  0064d	33 c0		 xor	 eax, eax
  0064f	66 89 85 70 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp], ax
  00656	b8 01 00 00 00	 mov	 eax, 1
  0065b	66 89 85 72 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+2], ax
  00662	33 c0		 xor	 eax, eax
  00664	66 89 85 74 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+4], ax
  0066b	33 c0		 xor	 eax, eax
  0066d	66 89 85 76 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+6], ax

; 763  : 				mat2.eM21.fract = 0; mat2.eM21.value = 0; mat2.eM22.fract = 0; mat2.eM22.value = 1;

  00674	33 c0		 xor	 eax, eax
  00676	66 89 85 78 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+8], ax
  0067d	33 c0		 xor	 eax, eax
  0067f	66 89 85 7a ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+10], ax
  00686	33 c0		 xor	 eax, eax
  00688	66 89 85 7c ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+12], ax
  0068f	b8 01 00 00 00	 mov	 eax, 1
  00694	66 89 85 7e ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+14], ax

; 764  : 
; 765  : 				memset ( &metrics, 0, sizeof ( metrics ) );

  0069b	6a 14		 push	 20			; 00000014H
  0069d	6a 00		 push	 0
  0069f	8d 45 80	 lea	 eax, DWORD PTR _metrics$[ebp]
  006a2	50		 push	 eax
  006a3	e8 00 00 00 00	 call	 _memset
  006a8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 766  : 
; 767  : 				size = 128 * 128;

  006ab	c7 85 e4 fd ff
	ff 00 40 00 00	 mov	 DWORD PTR _size$18[ebp], 16384 ; 00004000H

; 768  : 
; 769  : 				glyph_character = ( unsigned char * ) safe_malloc ( size );

  006b5	8b 85 e4 fd ff
	ff		 mov	 eax, DWORD PTR _size$18[ebp]
  006bb	50		 push	 eax
  006bc	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  006c1	89 45 e0	 mov	 DWORD PTR _glyph_character$[ebp], eax

; 770  : 
; 771  : 				GetGlyphOutlineW ( hdc, actual_character, GGO_GRAY8_BITMAP, &metrics, size, glyph_character, &mat2 );

  006c4	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _mat2$[ebp]
  006ca	50		 push	 eax
  006cb	8b 4d e0	 mov	 ecx, DWORD PTR _glyph_character$[ebp]
  006ce	51		 push	 ecx
  006cf	8b 95 e4 fd ff
	ff		 mov	 edx, DWORD PTR _size$18[ebp]
  006d5	52		 push	 edx
  006d6	8d 45 80	 lea	 eax, DWORD PTR _metrics$[ebp]
  006d9	50		 push	 eax
  006da	6a 06		 push	 6
  006dc	8b 8d d4 fd ff
	ff		 mov	 ecx, DWORD PTR _actual_character$16[ebp]
  006e2	51		 push	 ecx
  006e3	8b 95 6c ff ff
	ff		 mov	 edx, DWORD PTR _hdc$[ebp]
  006e9	52		 push	 edx
  006ea	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetGlyphOutlineW@28

; 772  : 
; 773  : 				ReleaseDC ( application_window, hdc );

  006f0	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _hdc$[ebp]
  006f6	50		 push	 eax
  006f7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  006fd	51		 push	 ecx
  006fe	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8

; 774  : 
; 775  : 				character_width = metrics.gmBlackBoxX;

  00704	8b 45 80	 mov	 eax, DWORD PTR _metrics$[ebp]
  00707	89 85 34 fe ff
	ff		 mov	 DWORD PTR _character_width$24[ebp], eax

; 776  : 				character_height = metrics.gmBlackBoxY;

  0070d	8b 45 84	 mov	 eax, DWORD PTR _metrics$[ebp+4]
  00710	89 85 30 fe ff
	ff		 mov	 DWORD PTR _character_height$23[ebp], eax

; 777  : 
; 778  : 				if ( character_width & 3 )

  00716	8b 85 34 fe ff
	ff		 mov	 eax, DWORD PTR _character_width$24[ebp]
  0071c	83 e0 03	 and	 eax, 3
  0071f	74 1e		 je	 SHORT $LN72@load_windo

; 779  : 				{
; 780  : 
; 781  : 					character_width &= 0xfffffffc;

  00721	8b 85 34 fe ff
	ff		 mov	 eax, DWORD PTR _character_width$24[ebp]
  00727	83 e0 fc	 and	 eax, -4			; fffffffcH
  0072a	89 85 34 fe ff
	ff		 mov	 DWORD PTR _character_width$24[ebp], eax

; 782  : 					character_width += 4;

  00730	8b 85 34 fe ff
	ff		 mov	 eax, DWORD PTR _character_width$24[ebp]
  00736	83 c0 04	 add	 eax, 4
  00739	89 85 34 fe ff
	ff		 mov	 DWORD PTR _character_width$24[ebp], eax
$LN72@load_windo:

; 783  : 				}
; 784  : 
; 785  : 				ptr = glyph_character;

  0073f	8b 45 e0	 mov	 eax, DWORD PTR _glyph_character$[ebp]
  00742	89 85 f0 fd ff
	ff		 mov	 DWORD PTR _ptr$21[ebp], eax

; 786  : 
; 787  : 				y_adjust = metric.tmAscent - metrics.gmptGlyphOrigin.y;

  00748	8b 85 f8 fd ff
	ff		 mov	 eax, DWORD PTR _metric$22[ebp+4]
  0074e	2b 45 8c	 sub	 eax, DWORD PTR _metrics$[ebp+12]
  00751	89 85 e8 fd ff
	ff		 mov	 DWORD PTR _y_adjust$19[ebp], eax

; 788  : 
; 789  : 				if ( y_adjust < 0 )

  00757	79 0a		 jns	 SHORT $LN73@load_windo

; 790  : 				{
; 791  : 
; 792  : 					y_adjust = 0;

  00759	c7 85 e8 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _y_adjust$19[ebp], 0
$LN73@load_windo:

; 793  : 				}
; 794  : 
; 795  : 				finished = FALSE;

  00763	c7 85 38 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _finished$25[ebp], 0

; 796  : 
; 797  : 				for ( x_adjust = 0; !finished; x_adjust++ )

  0076d	c7 85 ec fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _x_adjust$20[ebp], 0
  00777	eb 0f		 jmp	 SHORT $LN16@load_windo
$LN14@load_windo:
  00779	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _x_adjust$20[ebp]
  0077f	83 c0 01	 add	 eax, 1
  00782	89 85 ec fd ff
	ff		 mov	 DWORD PTR _x_adjust$20[ebp], eax
$LN16@load_windo:
  00788	83 bd 38 fe ff
	ff 00		 cmp	 DWORD PTR _finished$25[ebp], 0
  0078f	75 6f		 jne	 SHORT $LN15@load_windo

; 798  : 				{
; 799  : 
; 800  : 					for ( y = 0; y < character_height; y++ )

  00791	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _y$[ebp], 0
  00798	eb 09		 jmp	 SHORT $LN19@load_windo
$LN17@load_windo:
  0079a	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  0079d	83 c0 01	 add	 eax, 1
  007a0	89 45 e8	 mov	 DWORD PTR _y$[ebp], eax
$LN19@load_windo:
  007a3	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  007a6	3b 85 30 fe ff
	ff		 cmp	 eax, DWORD PTR _character_height$23[ebp]
  007ac	7d 29		 jge	 SHORT $LN18@load_windo

; 801  : 					{
; 802  : 
; 803  : 						if ( glyph_character[ (y*character_width)+x_adjust ] != 0 )

  007ae	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  007b1	0f af 85 34 fe
	ff ff		 imul	 eax, DWORD PTR _character_width$24[ebp]
  007b8	03 85 ec fd ff
	ff		 add	 eax, DWORD PTR _x_adjust$20[ebp]
  007be	8b 4d e0	 mov	 ecx, DWORD PTR _glyph_character$[ebp]
  007c1	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  007c5	85 d2		 test	 edx, edx
  007c7	74 0c		 je	 SHORT $LN74@load_windo

; 804  : 						{
; 805  : 
; 806  : 							finished = TRUE;

  007c9	c7 85 38 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _finished$25[ebp], 1

; 807  : 
; 808  : 							break;

  007d3	eb 02		 jmp	 SHORT $LN18@load_windo
$LN74@load_windo:

; 809  : 						}
; 810  : 					}

  007d5	eb c3		 jmp	 SHORT $LN17@load_windo
$LN18@load_windo:

; 811  : 
; 812  : 					if ( x_adjust >= character_width )

  007d7	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _x_adjust$20[ebp]
  007dd	3b 85 34 fe ff
	ff		 cmp	 eax, DWORD PTR _character_width$24[ebp]
  007e3	7c 16		 jl	 SHORT $LN75@load_windo

; 813  : 					{
; 814  : 
; 815  : 						x_adjust = 1;

  007e5	c7 85 ec fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _x_adjust$20[ebp], 1

; 816  : 
; 817  : 						finished = TRUE;

  007ef	c7 85 38 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _finished$25[ebp], 1

; 818  : 
; 819  : 						break;

  007f9	eb 05		 jmp	 SHORT $LN15@load_windo
$LN75@load_windo:

; 820  : 					}
; 821  : 				}

  007fb	e9 79 ff ff ff	 jmp	 $LN14@load_windo
$LN15@load_windo:

; 822  : 
; 823  : 				x_adjust -= 1;

  00800	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _x_adjust$20[ebp]
  00806	83 e8 01	 sub	 eax, 1
  00809	89 85 ec fd ff
	ff		 mov	 DWORD PTR _x_adjust$20[ebp], eax

; 824  : 
; 825  : 				x_adjust = -x_adjust;	//metrics.gmptGlyphOrigin.x;

  0080f	8b 85 ec fd ff
	ff		 mov	 eax, DWORD PTR _x_adjust$20[ebp]
  00815	f7 d8		 neg	 eax
  00817	89 85 ec fd ff
	ff		 mov	 DWORD PTR _x_adjust$20[ebp], eax

; 826  : 
; 827  : 				for ( y = 0; y < character_height; y++ )

  0081d	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _y$[ebp], 0
  00824	eb 09		 jmp	 SHORT $LN22@load_windo
$LN20@load_windo:
  00826	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  00829	83 c0 01	 add	 eax, 1
  0082c	89 45 e8	 mov	 DWORD PTR _y$[ebp], eax
$LN22@load_windo:
  0082f	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  00832	3b 85 30 fe ff
	ff		 cmp	 eax, DWORD PTR _character_height$23[ebp]
  00838	0f 8d a6 00 00
	00		 jge	 $LN21@load_windo

; 828  : 				{
; 829  : 
; 830  : 					for ( x = 0; x < character_width; x++ )

  0083e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _x$[ebp], 0
  00845	eb 09		 jmp	 SHORT $LN25@load_windo
$LN23@load_windo:
  00847	8b 45 ec	 mov	 eax, DWORD PTR _x$[ebp]
  0084a	83 c0 01	 add	 eax, 1
  0084d	89 45 ec	 mov	 DWORD PTR _x$[ebp], eax
$LN25@load_windo:
  00850	8b 45 ec	 mov	 eax, DWORD PTR _x$[ebp]
  00853	3b 85 34 fe ff
	ff		 cmp	 eax, DWORD PTR _character_width$24[ebp]
  00859	0f 8d 80 00 00
	00		 jge	 $LN24@load_windo

; 831  : 					{
; 832  : 
; 833  : 						float
; 834  : 							fval;
; 835  : 
; 836  : 						int
; 837  : 							ival;
; 838  : 
; 839  : 						fval = *ptr++;

  0085f	8b 85 f0 fd ff
	ff		 mov	 eax, DWORD PTR _ptr$21[ebp]
  00865	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00868	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  0086c	f3 0f 11 85 d0
	fd ff ff	 movss	 DWORD PTR _fval$15[ebp], xmm0
  00874	8b 95 f0 fd ff
	ff		 mov	 edx, DWORD PTR _ptr$21[ebp]
  0087a	83 c2 01	 add	 edx, 1
  0087d	89 95 f0 fd ff
	ff		 mov	 DWORD PTR _ptr$21[ebp], edx

; 840  : 
; 841  : 						fval *= 255.0 / 65.0;

  00883	f3 0f 5a 85 d0
	fd ff ff	 cvtss2sd xmm0, DWORD PTR _fval$15[ebp]
  0088b	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@400f627627627627
  00893	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00897	f3 0f 11 85 d0
	fd ff ff	 movss	 DWORD PTR _fval$15[ebp], xmm0

; 842  : 
; 843  : 						convert_float_to_int ( fval, &ival );

  0089f	8d 85 cc fd ff
	ff		 lea	 eax, DWORD PTR _ival$14[ebp]
  008a5	50		 push	 eax
  008a6	51		 push	 ecx
  008a7	f3 0f 10 85 d0
	fd ff ff	 movss	 xmm0, DWORD PTR _fval$15[ebp]
  008af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  008b4	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int

; 844  : 
; 845  : 						aliased_character[((y+y_adjust)*128)+(x+x_adjust)] = ival;

  008b9	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  008bc	03 85 e8 fd ff
	ff		 add	 eax, DWORD PTR _y_adjust$19[ebp]
  008c2	c1 e0 07	 shl	 eax, 7
  008c5	8b 4d ec	 mov	 ecx, DWORD PTR _x$[ebp]
  008c8	03 8d ec fd ff
	ff		 add	 ecx, DWORD PTR _x_adjust$20[ebp]
  008ce	03 4d e4	 add	 ecx, DWORD PTR _aliased_character$[ebp]
  008d1	8a 95 cc fd ff
	ff		 mov	 dl, BYTE PTR _ival$14[ebp]
  008d7	88 14 01	 mov	 BYTE PTR [ecx+eax], dl

; 846  : 					}

  008da	e9 68 ff ff ff	 jmp	 $LN23@load_windo
$LN24@load_windo:

; 847  : 				}

  008df	e9 42 ff ff ff	 jmp	 $LN20@load_windo
$LN21@load_windo:

; 848  : 
; 849  : 				//
; 850  : 				// Re-assess character width, as we want the proper width, not dword aligned width! :)
; 851  : 				//
; 852  : 
; 853  : //				character_width = metrics.gmBlackBoxX + x_adjust + UI_FONT_WINDOWS_TEXTURE_WIDTH_GAP;
; 854  : 				character_width = metrics.gmBlackBoxX;

  008e4	8b 45 80	 mov	 eax, DWORD PTR _metrics$[ebp]
  008e7	89 85 34 fe ff
	ff		 mov	 DWORD PTR _character_width$24[ebp], eax

; 855  : 
; 856  : 				character_height += y_adjust + UI_FONT_WINDOWS_TEXTURE_HEIGHT_GAP;

  008ed	8b 85 e8 fd ff
	ff		 mov	 eax, DWORD PTR _y_adjust$19[ebp]
  008f3	8b 8d 30 fe ff
	ff		 mov	 ecx, DWORD PTR _character_height$23[ebp]
  008f9	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  008fd	89 95 30 fe ff
	ff		 mov	 DWORD PTR _character_height$23[ebp], edx

; 857  : 
; 858  : 				fwrite ( &character_width, sizeof ( int ), 1, fonts_data_file );

  00903	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00909	50		 push	 eax
  0090a	6a 01		 push	 1
  0090c	6a 04		 push	 4
  0090e	8d 8d 34 fe ff
	ff		 lea	 ecx, DWORD PTR _character_width$24[ebp]
  00914	51		 push	 ecx
  00915	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  0091b	83 c4 10	 add	 esp, 16			; 00000010H

; 859  : 				fwrite ( &character_height, sizeof ( int ), 1, fonts_data_file );

  0091e	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00924	50		 push	 eax
  00925	6a 01		 push	 1
  00927	6a 04		 push	 4
  00929	8d 8d 30 fe ff
	ff		 lea	 ecx, DWORD PTR _character_height$23[ebp]
  0092f	51		 push	 ecx
  00930	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00936	83 c4 10	 add	 esp, 16			; 00000010H

; 860  : 
; 861  : 				{
; 862  : 
; 863  : 					int
; 864  : 						abcA,
; 865  : 						abcB,
; 866  : 						abcC;
; 867  : 
; 868  : 					abcA = widths.abcA;

  00939	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _widths$17[ebp]
  0093f	89 85 c8 fd ff
	ff		 mov	 DWORD PTR _abcA$13[ebp], eax

; 869  : 					abcB = widths.abcB;

  00945	8b 85 dc fd ff
	ff		 mov	 eax, DWORD PTR _widths$17[ebp+4]
  0094b	89 85 c4 fd ff
	ff		 mov	 DWORD PTR _abcB$12[ebp], eax

; 870  : 					abcC = widths.abcC;

  00951	8b 85 e0 fd ff
	ff		 mov	 eax, DWORD PTR _widths$17[ebp+8]
  00957	89 85 c0 fd ff
	ff		 mov	 DWORD PTR _abcC$11[ebp], eax

; 871  : 
; 872  : 					fwrite ( &abcA, sizeof ( int ), 1, fonts_data_file );

  0095d	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00963	50		 push	 eax
  00964	6a 01		 push	 1
  00966	6a 04		 push	 4
  00968	8d 8d c8 fd ff
	ff		 lea	 ecx, DWORD PTR _abcA$13[ebp]
  0096e	51		 push	 ecx
  0096f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00975	83 c4 10	 add	 esp, 16			; 00000010H

; 873  : 					fwrite ( &abcB, sizeof ( int ), 1, fonts_data_file );

  00978	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  0097e	50		 push	 eax
  0097f	6a 01		 push	 1
  00981	6a 04		 push	 4
  00983	8d 8d c4 fd ff
	ff		 lea	 ecx, DWORD PTR _abcB$12[ebp]
  00989	51		 push	 ecx
  0098a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00990	83 c4 10	 add	 esp, 16			; 00000010H

; 874  : 					fwrite ( &abcC, sizeof ( int ), 1, fonts_data_file );

  00993	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00999	50		 push	 eax
  0099a	6a 01		 push	 1
  0099c	6a 04		 push	 4
  0099e	8d 8d c0 fd ff
	ff		 lea	 ecx, DWORD PTR _abcC$11[ebp]
  009a4	51		 push	 ecx
  009a5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  009ab	83 c4 10	 add	 esp, 16			; 00000010H

; 875  : 				}
; 876  : 
; 877  : 				font_character_maximum_width = max ( font_character_maximum_width, character_width );

  009ae	8d 85 34 fe ff
	ff		 lea	 eax, DWORD PTR _character_width$24[ebp]
  009b4	50		 push	 eax
  009b5	8d 8d 54 ff ff
	ff		 lea	 ecx, DWORD PTR _font_character_maximum_width$34[ebp]
  009bb	51		 push	 ecx
  009bc	e8 00 00 00 00	 call	 ??$max@H@std@@YGABHABH0@Z ; std::max<int>
  009c1	8b 10		 mov	 edx, DWORD PTR [eax]
  009c3	89 95 54 ff ff
	ff		 mov	 DWORD PTR _font_character_maximum_width$34[ebp], edx

; 878  : 				font_character_maximum_height = max ( font_character_maximum_height, character_height );

  009c9	8d 85 30 fe ff
	ff		 lea	 eax, DWORD PTR _character_height$23[ebp]
  009cf	50		 push	 eax
  009d0	8d 8d 50 ff ff
	ff		 lea	 ecx, DWORD PTR _font_character_maximum_height$33[ebp]
  009d6	51		 push	 ecx
  009d7	e8 00 00 00 00	 call	 ??$max@H@std@@YGABHABH0@Z ; std::max<int>
  009dc	8b 10		 mov	 edx, DWORD PTR [eax]
  009de	89 95 50 ff ff
	ff		 mov	 DWORD PTR _font_character_maximum_height$33[ebp], edx

; 879  : 
; 880  : 				for ( y = 0; y < character_height; y++ )

  009e4	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _y$[ebp], 0
  009eb	eb 09		 jmp	 SHORT $LN28@load_windo
$LN26@load_windo:
  009ed	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  009f0	83 c0 01	 add	 eax, 1
  009f3	89 45 e8	 mov	 DWORD PTR _y$[ebp], eax
$LN28@load_windo:
  009f6	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  009f9	3b 85 30 fe ff
	ff		 cmp	 eax, DWORD PTR _character_height$23[ebp]
  009ff	7d 42		 jge	 SHORT $LN27@load_windo

; 881  : 				{
; 882  : 
; 883  : 					for ( x = 0; x < character_width; x++ )

  00a01	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _x$[ebp], 0
  00a08	eb 09		 jmp	 SHORT $LN31@load_windo
$LN29@load_windo:
  00a0a	8b 45 ec	 mov	 eax, DWORD PTR _x$[ebp]
  00a0d	83 c0 01	 add	 eax, 1
  00a10	89 45 ec	 mov	 DWORD PTR _x$[ebp], eax
$LN31@load_windo:
  00a13	8b 45 ec	 mov	 eax, DWORD PTR _x$[ebp]
  00a16	3b 85 34 fe ff
	ff		 cmp	 eax, DWORD PTR _character_width$24[ebp]
  00a1c	7d 23		 jge	 SHORT $LN30@load_windo

; 884  : 					{
; 885  : 
; 886  : 						fwrite ( &aliased_character[y*128+x], 1, 1, fonts_data_file );

  00a1e	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00a24	50		 push	 eax
  00a25	6a 01		 push	 1
  00a27	6a 01		 push	 1
  00a29	8b 4d e8	 mov	 ecx, DWORD PTR _y$[ebp]
  00a2c	c1 e1 07	 shl	 ecx, 7
  00a2f	03 4d ec	 add	 ecx, DWORD PTR _x$[ebp]
  00a32	03 4d e4	 add	 ecx, DWORD PTR _aliased_character$[ebp]
  00a35	51		 push	 ecx
  00a36	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00a3c	83 c4 10	 add	 esp, 16			; 00000010H

; 887  : 					}

  00a3f	eb c9		 jmp	 SHORT $LN29@load_windo
$LN30@load_windo:

; 888  : 				}

  00a41	eb aa		 jmp	 SHORT $LN26@load_windo
$LN27@load_windo:

; 889  : 			}
; 890  : 			else

  00a43	e9 17 02 00 00	 jmp	 $LN67@load_windo
$LN66@load_windo:

; 891  : 			{
; 892  : 
; 893  : 				//
; 894  : 				// Special case the space character
; 895  : 				//
; 896  : 
; 897  : 				hdc = GetDC ( application_window );

  00a48	a1 00 00 00 00	 mov	 eax, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  00a4d	50		 push	 eax
  00a4e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  00a54	89 85 6c ff ff
	ff		 mov	 DWORD PTR _hdc$[ebp], eax

; 898  : 
; 899  : 				SelectObject ( hdc, my_font );

  00a5a	8b 45 fc	 mov	 eax, DWORD PTR _my_font$[ebp]
  00a5d	50		 push	 eax
  00a5e	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _hdc$[ebp]
  00a64	51		 push	 ecx
  00a65	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8

; 900  : 
; 901  : 				GetTextMetrics ( hdc, &metric );

  00a6b	8d 85 f4 fd ff
	ff		 lea	 eax, DWORD PTR _metric$22[ebp]
  00a71	50		 push	 eax
  00a72	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _hdc$[ebp]
  00a78	51		 push	 ecx
  00a79	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTextMetricsW@8

; 902  : 
; 903  : 				if ( !GetCharABCWidths ( hdc, font_character_table[character_count], font_character_table[character_count], &widths ) )

  00a7f	8d 85 d8 fd ff
	ff		 lea	 eax, DWORD PTR _widths$17[ebp]
  00a85	50		 push	 eax
  00a86	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  00a89	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  00a90	52		 push	 edx
  00a91	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  00a94	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  00a9b	51		 push	 ecx
  00a9c	8b 95 6c ff ff
	ff		 mov	 edx, DWORD PTR _hdc$[ebp]
  00aa2	52		 push	 edx
  00aa3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetCharABCWidthsW@16
  00aa9	85 c0		 test	 eax, eax
  00aab	75 0d		 jne	 SHORT $LN76@load_windo

; 904  : 				{
; 905  : 
; 906  : 					debug_log ( "Failed to get widths" );

  00aad	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@EOCDPJKO@Failed?5to?5get?5widths@
  00ab2	e8 00 00 00 00	 call	 ?debug_log@@YAXPBDZZ	; debug_log
  00ab7	83 c4 04	 add	 esp, 4
$LN76@load_windo:

; 907  : 				}
; 908  : 
; 909  : 				mat2.eM11.fract = 0;

  00aba	33 c0		 xor	 eax, eax
  00abc	66 89 85 70 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp], ax

; 910  : 				mat2.eM11.value = 1;

  00ac3	b8 01 00 00 00	 mov	 eax, 1
  00ac8	66 89 85 72 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+2], ax

; 911  : 
; 912  : 				mat2.eM12.fract = 0;

  00acf	33 c0		 xor	 eax, eax
  00ad1	66 89 85 74 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+4], ax

; 913  : 				mat2.eM12.value = 0;

  00ad8	33 c0		 xor	 eax, eax
  00ada	66 89 85 76 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+6], ax

; 914  : 
; 915  : 				mat2.eM21.fract = 0;

  00ae1	33 c0		 xor	 eax, eax
  00ae3	66 89 85 78 ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+8], ax

; 916  : 				mat2.eM21.value = 0;

  00aea	33 c0		 xor	 eax, eax
  00aec	66 89 85 7a ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+10], ax

; 917  : 
; 918  : 				mat2.eM22.fract = 0;

  00af3	33 c0		 xor	 eax, eax
  00af5	66 89 85 7c ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+12], ax

; 919  : 				mat2.eM22.value = 1;

  00afc	b8 01 00 00 00	 mov	 eax, 1
  00b01	66 89 85 7e ff
	ff ff		 mov	 WORD PTR _mat2$[ebp+14], ax

; 920  : 
; 921  : 				memset ( &metrics, 0, sizeof ( metrics ) );

  00b08	6a 14		 push	 20			; 00000014H
  00b0a	6a 00		 push	 0
  00b0c	8d 45 80	 lea	 eax, DWORD PTR _metrics$[ebp]
  00b0f	50		 push	 eax
  00b10	e8 00 00 00 00	 call	 _memset
  00b15	83 c4 0c	 add	 esp, 12			; 0000000cH

; 922  : 
; 923  : 				size = 128 * 128;

  00b18	c7 85 e4 fd ff
	ff 00 40 00 00	 mov	 DWORD PTR _size$18[ebp], 16384 ; 00004000H

; 924  : 
; 925  : 				glyph_character = ( unsigned char * ) safe_malloc ( size );

  00b22	8b 85 e4 fd ff
	ff		 mov	 eax, DWORD PTR _size$18[ebp]
  00b28	50		 push	 eax
  00b29	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00b2e	89 45 e0	 mov	 DWORD PTR _glyph_character$[ebp], eax

; 926  : 
; 927  : 				GetGlyphOutlineW ( hdc, 'o', GGO_METRICS, &metrics, size, glyph_character, &mat2 );

  00b31	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _mat2$[ebp]
  00b37	50		 push	 eax
  00b38	8b 4d e0	 mov	 ecx, DWORD PTR _glyph_character$[ebp]
  00b3b	51		 push	 ecx
  00b3c	8b 95 e4 fd ff
	ff		 mov	 edx, DWORD PTR _size$18[ebp]
  00b42	52		 push	 edx
  00b43	8d 45 80	 lea	 eax, DWORD PTR _metrics$[ebp]
  00b46	50		 push	 eax
  00b47	6a 00		 push	 0
  00b49	6a 6f		 push	 111			; 0000006fH
  00b4b	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _hdc$[ebp]
  00b51	51		 push	 ecx
  00b52	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetGlyphOutlineW@28

; 928  : 
; 929  : 				ReleaseDC ( application_window, hdc );

  00b58	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _hdc$[ebp]
  00b5e	50		 push	 eax
  00b5f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  00b65	51		 push	 ecx
  00b66	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8

; 930  : 
; 931  : 				character_width = metrics.gmBlackBoxX;

  00b6c	8b 45 80	 mov	 eax, DWORD PTR _metrics$[ebp]
  00b6f	89 85 34 fe ff
	ff		 mov	 DWORD PTR _character_width$24[ebp], eax

; 932  : 				character_height = metrics.gmBlackBoxY;

  00b75	8b 45 84	 mov	 eax, DWORD PTR _metrics$[ebp+4]
  00b78	89 85 30 fe ff
	ff		 mov	 DWORD PTR _character_height$23[ebp], eax

; 933  : 
; 934  : 				fwrite ( &character_width, sizeof ( int ), 1, fonts_data_file );

  00b7e	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00b84	50		 push	 eax
  00b85	6a 01		 push	 1
  00b87	6a 04		 push	 4
  00b89	8d 8d 34 fe ff
	ff		 lea	 ecx, DWORD PTR _character_width$24[ebp]
  00b8f	51		 push	 ecx
  00b90	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00b96	83 c4 10	 add	 esp, 16			; 00000010H

; 935  : 				fwrite ( &character_height, sizeof ( int ), 1, fonts_data_file );

  00b99	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00b9f	50		 push	 eax
  00ba0	6a 01		 push	 1
  00ba2	6a 04		 push	 4
  00ba4	8d 8d 30 fe ff
	ff		 lea	 ecx, DWORD PTR _character_height$23[ebp]
  00baa	51		 push	 ecx
  00bab	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00bb1	83 c4 10	 add	 esp, 16			; 00000010H

; 936  : 
; 937  : 				{
; 938  : 
; 939  : 					int
; 940  : 						abcA,
; 941  : 						abcB,
; 942  : 						abcC;
; 943  : 
; 944  : 					abcA = widths.abcA;

  00bb4	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _widths$17[ebp]
  00bba	89 85 bc fd ff
	ff		 mov	 DWORD PTR _abcA$10[ebp], eax

; 945  : 					abcB = widths.abcB;

  00bc0	8b 85 dc fd ff
	ff		 mov	 eax, DWORD PTR _widths$17[ebp+4]
  00bc6	89 85 b8 fd ff
	ff		 mov	 DWORD PTR _abcB$9[ebp], eax

; 946  : 					abcC = widths.abcC;

  00bcc	8b 85 e0 fd ff
	ff		 mov	 eax, DWORD PTR _widths$17[ebp+8]
  00bd2	89 85 b4 fd ff
	ff		 mov	 DWORD PTR _abcC$8[ebp], eax

; 947  : 
; 948  : 					fwrite ( &abcA, sizeof ( int ), 1, fonts_data_file );

  00bd8	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00bde	50		 push	 eax
  00bdf	6a 01		 push	 1
  00be1	6a 04		 push	 4
  00be3	8d 8d bc fd ff
	ff		 lea	 ecx, DWORD PTR _abcA$10[ebp]
  00be9	51		 push	 ecx
  00bea	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00bf0	83 c4 10	 add	 esp, 16			; 00000010H

; 949  : 					fwrite ( &abcB, sizeof ( int ), 1, fonts_data_file );

  00bf3	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00bf9	50		 push	 eax
  00bfa	6a 01		 push	 1
  00bfc	6a 04		 push	 4
  00bfe	8d 8d b8 fd ff
	ff		 lea	 ecx, DWORD PTR _abcB$9[ebp]
  00c04	51		 push	 ecx
  00c05	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00c0b	83 c4 10	 add	 esp, 16			; 00000010H

; 950  : 					fwrite ( &abcC, sizeof ( int ), 1, fonts_data_file );

  00c0e	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00c14	50		 push	 eax
  00c15	6a 01		 push	 1
  00c17	6a 04		 push	 4
  00c19	8d 8d b4 fd ff
	ff		 lea	 ecx, DWORD PTR _abcC$8[ebp]
  00c1f	51		 push	 ecx
  00c20	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00c26	83 c4 10	 add	 esp, 16			; 00000010H

; 951  : 				}
; 952  : 
; 953  : 				font_character_maximum_width = max ( font_character_maximum_width, character_width );

  00c29	8d 85 34 fe ff
	ff		 lea	 eax, DWORD PTR _character_width$24[ebp]
  00c2f	50		 push	 eax
  00c30	8d 8d 54 ff ff
	ff		 lea	 ecx, DWORD PTR _font_character_maximum_width$34[ebp]
  00c36	51		 push	 ecx
  00c37	e8 00 00 00 00	 call	 ??$max@H@std@@YGABHABH0@Z ; std::max<int>
  00c3c	8b 10		 mov	 edx, DWORD PTR [eax]
  00c3e	89 95 54 ff ff
	ff		 mov	 DWORD PTR _font_character_maximum_width$34[ebp], edx

; 954  : 				font_character_maximum_height = max ( font_character_maximum_height, character_height );

  00c44	8d 85 30 fe ff
	ff		 lea	 eax, DWORD PTR _character_height$23[ebp]
  00c4a	50		 push	 eax
  00c4b	8d 8d 50 ff ff
	ff		 lea	 ecx, DWORD PTR _font_character_maximum_height$33[ebp]
  00c51	51		 push	 ecx
  00c52	e8 00 00 00 00	 call	 ??$max@H@std@@YGABHABH0@Z ; std::max<int>
  00c57	8b 10		 mov	 edx, DWORD PTR [eax]
  00c59	89 95 50 ff ff
	ff		 mov	 DWORD PTR _font_character_maximum_height$33[ebp], edx
$LN67@load_windo:

; 955  : 			}
; 956  : 
; 957  : 			safe_free ( glyph_character );

  00c5f	8b 45 e0	 mov	 eax, DWORD PTR _glyph_character$[ebp]
  00c62	50		 push	 eax
  00c63	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 958  : 		}

  00c68	e9 ea f8 ff ff	 jmp	 $LN11@load_windo
$LN12@load_windo:

; 959  : 
; 960  : 		//
; 961  : 		// Put a 2 pixel surround for each character
; 962  : 		//
; 963  : 
; 964  : //		font_character_maximum_width += UI_FONT_WINDOWS_TEXTURE_WIDTH_GAP;
; 965  : //		font_character_maximum_height += UI_FONT_WINDOWS_TEXTURE_HEIGHT_GAP;
; 966  : 
; 967  : 		font_header.font_character_maximum_width = font_character_maximum_width + 1;

  00c6d	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _font_character_maximum_width$34[ebp]
  00c73	83 c0 01	 add	 eax, 1
  00c76	89 85 24 ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+128], eax

; 968  : 		font_header.font_character_maximum_height = font_character_maximum_height + 1;

  00c7c	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _font_character_maximum_height$33[ebp]
  00c82	83 c0 01	 add	 eax, 1
  00c85	89 85 28 ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+132], eax

; 969  : 
; 970  : 		font_header.graphic_data_offset = font_header.kerning_data_offset + ( number_of_kerning_pairs * sizeof ( KERNINGPAIR ) );

  00c8b	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _number_of_kerning_pairs$35[ebp]
  00c91	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR _font_header$30[ebp+156]
  00c97	8d 14 c1	 lea	 edx, DWORD PTR [ecx+eax*8]
  00c9a	89 95 44 ff ff
	ff		 mov	 DWORD PTR _font_header$30[ebp+160], edx

; 971  : 
; 972  : 		fwrite ( &font_header, sizeof ( font_database_header ), 1, fonts_header_file );

  00ca0	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _fonts_header_file$32[ebp]
  00ca6	50		 push	 eax
  00ca7	6a 01		 push	 1
  00ca9	68 a4 00 00 00	 push	 164			; 000000a4H
  00cae	8d 8d a4 fe ff
	ff		 lea	 ecx, DWORD PTR _font_header$30[ebp]
  00cb4	51		 push	 ecx
  00cb5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00cbb	83 c4 10	 add	 esp, 16			; 00000010H

; 973  : 
; 974  : 
; 975  : 		fflush ( fonts_header_file );

  00cbe	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _fonts_header_file$32[ebp]
  00cc4	50		 push	 eax
  00cc5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fflush
  00ccb	83 c4 04	 add	 esp, 4

; 976  : 
; 977  : 		fflush ( fonts_data_file );

  00cce	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00cd4	50		 push	 eax
  00cd5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fflush
  00cdb	83 c4 04	 add	 esp, 4

; 978  : 
; 979  : 		safe_fclose ( fonts_header_file );

  00cde	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _fonts_header_file$32[ebp]
  00ce4	50		 push	 eax
  00ce5	e8 00 00 00 00	 call	 ?safe_fclose@@YGHPAU_iobuf@@@Z ; safe_fclose

; 980  : 
; 981  : 		safe_fclose ( fonts_data_file );

  00cea	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _fonts_data_file$31[ebp]
  00cf0	50		 push	 eax
  00cf1	e8 00 00 00 00	 call	 ?safe_fclose@@YGHPAU_iobuf@@@Z ; safe_fclose

; 982  : 
; 983  : 		set_active_screen ( old_active_screen );

  00cf6	8b 45 f8	 mov	 eax, DWORD PTR _old_active_screen$[ebp]
  00cf9	50		 push	 eax
  00cfa	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 984  : 
; 985  : 		hdc = GetDC ( application_window );

  00cff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  00d04	50		 push	 eax
  00d05	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  00d0b	89 85 6c ff ff
	ff		 mov	 DWORD PTR _hdc$[ebp], eax

; 986  : 
; 987  : 		SelectObject ( hdc, GetStockObject ( DEFAULT_GUI_FONT ) );

  00d11	6a 11		 push	 17			; 00000011H
  00d13	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetStockObject@4
  00d19	50		 push	 eax
  00d1a	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _hdc$[ebp]
  00d20	50		 push	 eax
  00d21	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8

; 988  : 
; 989  : 		ReleaseDC ( application_window, hdc );

  00d27	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _hdc$[ebp]
  00d2d	50		 push	 eax
  00d2e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?application_window@@3PAUHWND__@@A ; application_window
  00d34	51		 push	 ecx
  00d35	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8

; 990  : 
; 991  : 		DeleteObject ( my_font );

  00d3b	8b 45 fc	 mov	 eax, DWORD PTR _my_font$[ebp]
  00d3e	50		 push	 eax
  00d3f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
$LN61@load_windo:

; 992  : 	}
; 993  : 
; 994  : 	//
; 995  : 	// Now load the font
; 996  : 	//
; 997  : 
; 998  : 	{
; 999  : 
; 1000 : 		font_database_header
; 1001 : 			*font_headers;
; 1002 : 
; 1003 : 		font_headers = ( font_database_header * ) safe_mopen ( UI_FONT_HEADER_FILE );

  00d45	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  00d4a	e8 00 00 00 00	 call	 ?safe_mopen@@YGPAXPBD@Z	; safe_mopen
  00d4f	89 85 b0 fd ff
	ff		 mov	 DWORD PTR _font_headers$7[ebp], eax

; 1004 : 
; 1005 : 		fp = safe_fopen ( UI_FONT_DATA_FILE, "rb" );

  00d55	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb@
  00d5a	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@
  00d5f	e8 00 00 00 00	 call	 ?safe_fopen@@YGPAU_iobuf@@PBD0@Z ; safe_fopen
  00d64	89 85 68 ff ff
	ff		 mov	 DWORD PTR _fp$[ebp], eax

; 1006 : 
; 1007 : 		old_active_screen = get_active_screen ();

  00d6a	e8 00 00 00 00	 call	 ?get_active_screen@@YGPAUSCREEN@@XZ ; get_active_screen
  00d6f	89 45 f8	 mov	 DWORD PTR _old_active_screen$[ebp], eax

; 1008 : 
; 1009 : 		//
; 1010 : 		// Detect font maximum extents
; 1011 : 		//
; 1012 : 
; 1013 : 		new_font->font_width = font_headers[font_offset].font_character_maximum_width;

  00d72	69 45 d0 a4 00
	00 00		 imul	 eax, DWORD PTR _font_offset$[ebp], 164
  00d79	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00d7c	8b 95 b0 fd ff
	ff		 mov	 edx, DWORD PTR _font_headers$7[ebp]
  00d82	8b 84 02 80 00
	00 00		 mov	 eax, DWORD PTR [edx+eax+128]
  00d89	89 41 14	 mov	 DWORD PTR [ecx+20], eax

; 1014 : 		new_font->font_height = font_headers[font_offset].font_character_maximum_height;

  00d8c	69 45 d0 a4 00
	00 00		 imul	 eax, DWORD PTR _font_offset$[ebp], 164
  00d93	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00d96	8b 95 b0 fd ff
	ff		 mov	 edx, DWORD PTR _font_headers$7[ebp]
  00d9c	8b 84 02 84 00
	00 00		 mov	 eax, DWORD PTR [edx+eax+132]
  00da3	89 41 10	 mov	 DWORD PTR [ecx+16], eax

; 1015 : 
; 1016 : 		//
; 1017 : 		// Get Kerning information
; 1018 : 		//
; 1019 : 
; 1020 : 		new_font->number_of_kerning_pairs = font_headers[font_offset].number_of_kerning_pairs;

  00da6	69 45 d0 a4 00
	00 00		 imul	 eax, DWORD PTR _font_offset$[ebp], 164
  00dad	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00db0	8b 95 b0 fd ff
	ff		 mov	 edx, DWORD PTR _font_headers$7[ebp]
  00db6	8b 84 02 94 00
	00 00		 mov	 eax, DWORD PTR [edx+eax+148]
  00dbd	89 41 38	 mov	 DWORD PTR [ecx+56], eax

; 1021 : 
; 1022 : 		new_font->kerning_pairs = NULL;

  00dc0	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  00dc3	c7 80 3c 24 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+9276], 0

; 1023 : 
; 1024 : 		if ( new_font->number_of_kerning_pairs )

  00dcd	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  00dd0	83 78 38 00	 cmp	 DWORD PTR [eax+56], 0
  00dd4	74 5e		 je	 SHORT $LN77@load_windo

; 1025 : 		{
; 1026 : 
; 1027 : 			new_font->kerning_pairs = ( KERNINGPAIR * ) safe_malloc ( sizeof ( KERNINGPAIR ) * new_font->number_of_kerning_pairs );

  00dd6	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  00dd9	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00ddc	c1 e1 03	 shl	 ecx, 3
  00ddf	51		 push	 ecx
  00de0	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00de5	8b 55 98	 mov	 edx, DWORD PTR _new_font$[ebp]
  00de8	89 82 3c 24 00
	00		 mov	 DWORD PTR [edx+9276], eax

; 1028 : 
; 1029 : 			fseek ( fp, font_headers[font_offset].kerning_data_offset, SEEK_SET );

  00dee	6a 00		 push	 0
  00df0	69 45 d0 a4 00
	00 00		 imul	 eax, DWORD PTR _font_offset$[ebp], 164
  00df7	8b 8d b0 fd ff
	ff		 mov	 ecx, DWORD PTR _font_headers$7[ebp]
  00dfd	8b 94 01 9c 00
	00 00		 mov	 edx, DWORD PTR [ecx+eax+156]
  00e04	52		 push	 edx
  00e05	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  00e0b	50		 push	 eax
  00e0c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00e12	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1030 : 
; 1031 : 			safe_fread ( new_font->kerning_pairs, sizeof ( KERNINGPAIR ), new_font->number_of_kerning_pairs, fp );

  00e15	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  00e1b	50		 push	 eax
  00e1c	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00e1f	8b 51 38	 mov	 edx, DWORD PTR [ecx+56]
  00e22	52		 push	 edx
  00e23	6a 08		 push	 8
  00e25	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  00e28	8b 88 3c 24 00
	00		 mov	 ecx, DWORD PTR [eax+9276]
  00e2e	51		 push	 ecx
  00e2f	e8 00 00 00 00	 call	 ?safe_fread@@YGXPAXHHPAU_iobuf@@@Z ; safe_fread
$LN77@load_windo:

; 1032 : 		}
; 1033 : 
; 1034 : 		//
; 1035 : 		// Start off at 16x16 texture, working upwards
; 1036 : 		//
; 1037 : 
; 1038 : 		texture_width = 16;

  00e34	c7 45 c4 10 00
	00 00		 mov	 DWORD PTR _texture_width$[ebp], 16 ; 00000010H

; 1039 : 		texture_height = 16;

  00e3b	c7 45 c0 10 00
	00 00		 mov	 DWORD PTR _texture_height$[ebp], 16 ; 00000010H

; 1040 : 		finished = FALSE;

  00e42	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _finished$[ebp], 0
$LN32@load_windo:

; 1041 : 
; 1042 : 		while ( !finished )

  00e49	83 7d c8 00	 cmp	 DWORD PTR _finished$[ebp], 0
  00e4d	75 4d		 jne	 SHORT $LN33@load_windo

; 1043 : 		{
; 1044 : 
; 1045 : 			characters_wide = texture_width / new_font->font_width;

  00e4f	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00e52	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  00e55	99		 cdq
  00e56	f7 79 14	 idiv	 DWORD PTR [ecx+20]
  00e59	89 45 bc	 mov	 DWORD PTR _characters_wide$[ebp], eax

; 1046 : 			characters_high = texture_height / new_font->font_height;

  00e5c	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00e5f	8b 45 c0	 mov	 eax, DWORD PTR _texture_height$[ebp]
  00e62	99		 cdq
  00e63	f7 79 10	 idiv	 DWORD PTR [ecx+16]
  00e66	89 45 b8	 mov	 DWORD PTR _characters_high$[ebp], eax

; 1047 : 
; 1048 : 			if ( ( characters_wide * characters_high ) >= sizeof ( font_character_table ) )

  00e69	8b 45 bc	 mov	 eax, DWORD PTR _characters_wide$[ebp]
  00e6c	0f af 45 b8	 imul	 eax, DWORD PTR _characters_high$[ebp]
  00e70	3d d2 00 00 00	 cmp	 eax, 210		; 000000d2H
  00e75	72 09		 jb	 SHORT $LN78@load_windo

; 1049 : 			{
; 1050 : 
; 1051 : 				finished = TRUE;

  00e77	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _finished$[ebp], 1

; 1052 : 			}
; 1053 : 			else

  00e7e	eb 1a		 jmp	 SHORT $LN81@load_windo
$LN78@load_windo:

; 1054 : 			{
; 1055 : 
; 1056 : 				if ( texture_width > texture_height )

  00e80	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  00e83	3b 45 c0	 cmp	 eax, DWORD PTR _texture_height$[ebp]
  00e86	7e 0a		 jle	 SHORT $LN80@load_windo

; 1057 : 				{
; 1058 : 
; 1059 : 					texture_height *= 2;

  00e88	8b 45 c0	 mov	 eax, DWORD PTR _texture_height$[ebp]
  00e8b	d1 e0		 shl	 eax, 1
  00e8d	89 45 c0	 mov	 DWORD PTR _texture_height$[ebp], eax

; 1060 : 				}
; 1061 : 				else

  00e90	eb 08		 jmp	 SHORT $LN81@load_windo
$LN80@load_windo:

; 1062 : 				{
; 1063 : 
; 1064 : 					texture_width *= 2;

  00e92	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  00e95	d1 e0		 shl	 eax, 1
  00e97	89 45 c4	 mov	 DWORD PTR _texture_width$[ebp], eax
$LN81@load_windo:

; 1065 : 				}
; 1066 : 			}
; 1067 : 		}

  00e9a	eb ad		 jmp	 SHORT $LN32@load_windo
$LN33@load_windo:

; 1068 : 
; 1069 : 		//
; 1070 : 		// Check maximum texture sizes
; 1071 : 		//
; 1072 : 
; 1073 : 		finished = FALSE;

  00e9c	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _finished$[ebp], 0

; 1074 : 		number_of_screens = 1;

  00ea3	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _number_of_screens$[ebp], 1

; 1075 : 		font_screens = NULL;

  00eaa	c7 45 94 00 00
	00 00		 mov	 DWORD PTR _font_screens$[ebp], 0

; 1076 : 
; 1077 : 		if ( ( texture_width > d3d_maximum_texture_width ) || ( texture_height > d3d_maximum_texture_height ) )

  00eb1	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  00eb4	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?d3d_maximum_texture_width@@3HA ; d3d_maximum_texture_width
  00eba	7f 0f		 jg	 SHORT $LN83@load_windo
  00ebc	8b 45 c0	 mov	 eax, DWORD PTR _texture_height$[ebp]
  00ebf	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?d3d_maximum_texture_height@@3HA ; d3d_maximum_texture_height
  00ec5	0f 8e c2 00 00
	00		 jle	 $LN82@load_windo
$LN83@load_windo:

; 1078 : 		{
; 1079 : 
; 1080 : 			texture_width = bound ( texture_width, 0, d3d_maximum_texture_width );

  00ecb	83 7d c4 00	 cmp	 DWORD PTR _texture_width$[ebp], 0
  00ecf	7d 0c		 jge	 SHORT $LN94@load_windo
  00ed1	c7 85 14 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv613[ebp], 0
  00edb	eb 2e		 jmp	 SHORT $LN95@load_windo
$LN94@load_windo:
  00edd	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  00ee0	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?d3d_maximum_texture_width@@3HA ; d3d_maximum_texture_width
  00ee6	7e 0e		 jle	 SHORT $LN92@load_windo
  00ee8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?d3d_maximum_texture_width@@3HA ; d3d_maximum_texture_width
  00eee	89 8d 10 fd ff
	ff		 mov	 DWORD PTR tv612[ebp], ecx
  00ef4	eb 09		 jmp	 SHORT $LN93@load_windo
$LN92@load_windo:
  00ef6	8b 55 c4	 mov	 edx, DWORD PTR _texture_width$[ebp]
  00ef9	89 95 10 fd ff
	ff		 mov	 DWORD PTR tv612[ebp], edx
$LN93@load_windo:
  00eff	8b 85 10 fd ff
	ff		 mov	 eax, DWORD PTR tv612[ebp]
  00f05	89 85 14 fd ff
	ff		 mov	 DWORD PTR tv613[ebp], eax
$LN95@load_windo:
  00f0b	8b 8d 14 fd ff
	ff		 mov	 ecx, DWORD PTR tv613[ebp]
  00f11	89 4d c4	 mov	 DWORD PTR _texture_width$[ebp], ecx

; 1081 : 			texture_height = bound ( texture_height, 0, d3d_maximum_texture_height );

  00f14	83 7d c0 00	 cmp	 DWORD PTR _texture_height$[ebp], 0
  00f18	7d 0c		 jge	 SHORT $LN98@load_windo
  00f1a	c7 85 14 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR tv617[ebp], 0
  00f24	eb 2e		 jmp	 SHORT $LN99@load_windo
$LN98@load_windo:
  00f26	8b 45 c0	 mov	 eax, DWORD PTR _texture_height$[ebp]
  00f29	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?d3d_maximum_texture_height@@3HA ; d3d_maximum_texture_height
  00f2f	7e 0e		 jle	 SHORT $LN96@load_windo
  00f31	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?d3d_maximum_texture_height@@3HA ; d3d_maximum_texture_height
  00f37	89 8d 10 fd ff
	ff		 mov	 DWORD PTR tv616[ebp], ecx
  00f3d	eb 09		 jmp	 SHORT $LN97@load_windo
$LN96@load_windo:
  00f3f	8b 55 c0	 mov	 edx, DWORD PTR _texture_height$[ebp]
  00f42	89 95 10 fd ff
	ff		 mov	 DWORD PTR tv616[ebp], edx
$LN97@load_windo:
  00f48	8b 85 10 fd ff
	ff		 mov	 eax, DWORD PTR tv616[ebp]
  00f4e	89 85 14 fd ff
	ff		 mov	 DWORD PTR tv617[ebp], eax
$LN99@load_windo:
  00f54	8b 8d 14 fd ff
	ff		 mov	 ecx, DWORD PTR tv617[ebp]
  00f5a	89 4d c0	 mov	 DWORD PTR _texture_height$[ebp], ecx

; 1082 : 
; 1083 : 			//
; 1084 : 			// Recalculate the number of screens
; 1085 : 			//
; 1086 : 
; 1087 : 			characters_wide = texture_width / new_font->font_width;

  00f5d	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00f60	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  00f63	99		 cdq
  00f64	f7 79 14	 idiv	 DWORD PTR [ecx+20]
  00f67	89 45 bc	 mov	 DWORD PTR _characters_wide$[ebp], eax

; 1088 : 			characters_high = texture_height / new_font->font_height;

  00f6a	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00f6d	8b 45 c0	 mov	 eax, DWORD PTR _texture_height$[ebp]
  00f70	99		 cdq
  00f71	f7 79 10	 idiv	 DWORD PTR [ecx+16]
  00f74	89 45 b8	 mov	 DWORD PTR _characters_high$[ebp], eax

; 1089 : 			number_of_screens = ( sizeof ( font_character_table ) / ( characters_wide * characters_high ) ) + 1;

  00f77	8b 4d bc	 mov	 ecx, DWORD PTR _characters_wide$[ebp]
  00f7a	0f af 4d b8	 imul	 ecx, DWORD PTR _characters_high$[ebp]
  00f7e	b8 d2 00 00 00	 mov	 eax, 210		; 000000d2H
  00f83	33 d2		 xor	 edx, edx
  00f85	f7 f1		 div	 ecx
  00f87	83 c0 01	 add	 eax, 1
  00f8a	89 45 cc	 mov	 DWORD PTR _number_of_screens$[ebp], eax
$LN82@load_windo:

; 1090 : 		}
; 1091 : 
; 1092 : 		new_font->screens = ( screen * * ) safe_malloc ( sizeof ( screen * ) * number_of_screens );

  00f8d	8b 45 cc	 mov	 eax, DWORD PTR _number_of_screens$[ebp]
  00f90	c1 e0 02	 shl	 eax, 2
  00f93	50		 push	 eax
  00f94	e8 00 00 00 00	 call	 ?safe_malloc_memory@@YGPAXI@Z ; safe_malloc_memory
  00f99	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00f9c	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 1093 : 
; 1094 : 		memset ( new_font->screens, 0, sizeof ( screen * ) * number_of_screens );

  00f9f	8b 45 cc	 mov	 eax, DWORD PTR _number_of_screens$[ebp]
  00fa2	c1 e0 02	 shl	 eax, 2
  00fa5	50		 push	 eax
  00fa6	6a 00		 push	 0
  00fa8	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  00fab	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00fae	52		 push	 edx
  00faf	e8 00 00 00 00	 call	 _memset
  00fb4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1095 : 
; 1096 : 		colour.r = 255;

  00fb7	c6 45 9e ff	 mov	 BYTE PTR _colour$[ebp+2], 255 ; 000000ffH

; 1097 : 		colour.g = 255;

  00fbb	c6 45 9d ff	 mov	 BYTE PTR _colour$[ebp+1], 255 ; 000000ffH

; 1098 : 		colour.b = 255;

  00fbf	c6 45 9c ff	 mov	 BYTE PTR _colour$[ebp], 255 ; 000000ffH

; 1099 : 		colour.a = 0;

  00fc3	c6 45 9f 00	 mov	 BYTE PTR _colour$[ebp+3], 0

; 1100 : 
; 1101 : 		for ( count = 0; count < number_of_screens; count++ )

  00fc7	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00fce	eb 09		 jmp	 SHORT $LN36@load_windo
$LN34@load_windo:
  00fd0	8b 45 d8	 mov	 eax, DWORD PTR _count$[ebp]
  00fd3	83 c0 01	 add	 eax, 1
  00fd6	89 45 d8	 mov	 DWORD PTR _count$[ebp], eax
$LN36@load_windo:
  00fd9	8b 45 d8	 mov	 eax, DWORD PTR _count$[ebp]
  00fdc	3b 45 cc	 cmp	 eax, DWORD PTR _number_of_screens$[ebp]
  00fdf	7d 4c		 jge	 SHORT $LN35@load_windo

; 1102 : 		{
; 1103 : 
; 1104 : 			new_font->screens[count] = create_user_texture_screen ( texture_width, texture_height, TEXTURE_TYPE_MULTIPLEALPHA, 0 );

  00fe1	6a 00		 push	 0
  00fe3	6a 03		 push	 3
  00fe5	8b 45 c0	 mov	 eax, DWORD PTR _texture_height$[ebp]
  00fe8	50		 push	 eax
  00fe9	8b 4d c4	 mov	 ecx, DWORD PTR _texture_width$[ebp]
  00fec	51		 push	 ecx
  00fed	e8 00 00 00 00	 call	 ?create_user_texture_screen@@YGPAUSCREEN@@HHHH@Z ; create_user_texture_screen
  00ff2	8b 55 98	 mov	 edx, DWORD PTR _new_font$[ebp]
  00ff5	8b 4a 08	 mov	 ecx, DWORD PTR [edx+8]
  00ff8	8b 55 d8	 mov	 edx, DWORD PTR _count$[ebp]
  00ffb	89 04 91	 mov	 DWORD PTR [ecx+edx*4], eax

; 1105 : 
; 1106 : 			set_active_screen ( new_font->screens[count] );

  00ffe	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01001	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  01004	8b 55 d8	 mov	 edx, DWORD PTR _count$[ebp]
  01007	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  0100a	50		 push	 eax
  0100b	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 1107 : 
; 1108 : 			set_block ( 0, 0, texture_width - 1, texture_height - 1, colour );

  01010	8b 45 9c	 mov	 eax, DWORD PTR _colour$[ebp]
  01013	50		 push	 eax
  01014	8b 4d c0	 mov	 ecx, DWORD PTR _texture_height$[ebp]
  01017	83 e9 01	 sub	 ecx, 1
  0101a	51		 push	 ecx
  0101b	8b 55 c4	 mov	 edx, DWORD PTR _texture_width$[ebp]
  0101e	83 ea 01	 sub	 edx, 1
  01021	52		 push	 edx
  01022	6a 00		 push	 0
  01024	6a 00		 push	 0
  01026	e8 00 00 00 00	 call	 ?set_block@@YGXHHHHUREAL_COLOUR@@@Z ; set_block

; 1109 : 		}

  0102b	eb a3		 jmp	 SHORT $LN34@load_windo
$LN35@load_windo:

; 1110 : 
; 1111 : 		character_x = 0;

  0102d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _character_x$[ebp], 0

; 1112 : 		character_y = 0;

  01034	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _character_y$[ebp], 0

; 1113 : 		screen_index = 0;

  0103b	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _screen_index$[ebp], 0

; 1114 : 
; 1115 : 		fseek ( fp, font_headers[font_offset].graphic_data_offset, SEEK_SET );

  01042	6a 00		 push	 0
  01044	69 45 d0 a4 00
	00 00		 imul	 eax, DWORD PTR _font_offset$[ebp], 164
  0104b	8b 8d b0 fd ff
	ff		 mov	 ecx, DWORD PTR _font_headers$7[ebp]
  01051	8b 94 01 a0 00
	00 00		 mov	 edx, DWORD PTR [ecx+eax+160]
  01058	52		 push	 edx
  01059	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  0105f	50		 push	 eax
  01060	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  01066	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1116 : 
; 1117 : 		for ( character_count = 0; character_count < sizeof ( font_character_table ); character_count++ )

  01069	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _character_count$[ebp], 0
  01070	eb 09		 jmp	 SHORT $LN39@load_windo
$LN37@load_windo:
  01072	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  01075	83 c0 01	 add	 eax, 1
  01078	89 45 f0	 mov	 DWORD PTR _character_count$[ebp], eax
$LN39@load_windo:
  0107b	81 7d f0 d2 00
	00 00		 cmp	 DWORD PTR _character_count$[ebp], 210 ; 000000d2H
  01082	0f 83 9e 04 00
	00		 jae	 $LN38@load_windo

; 1118 : 		{
; 1119 : 
; 1120 : 			int
; 1121 : 				character_width,
; 1122 : 				character_height;
; 1123 : 
; 1124 : 			float
; 1125 : 				u,
; 1126 : 				v;
; 1127 : 
; 1128 : 			safe_fread ( &character_width, sizeof ( int ), 1, fp );

  01088	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  0108e	50		 push	 eax
  0108f	6a 01		 push	 1
  01091	6a 04		 push	 4
  01093	8d 8d ac fd ff
	ff		 lea	 ecx, DWORD PTR _character_width$6[ebp]
  01099	51		 push	 ecx
  0109a	e8 00 00 00 00	 call	 ?safe_fread@@YGXPAXHHPAU_iobuf@@@Z ; safe_fread

; 1129 : 			safe_fread ( &character_height, sizeof ( int ), 1, fp );

  0109f	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  010a5	50		 push	 eax
  010a6	6a 01		 push	 1
  010a8	6a 04		 push	 4
  010aa	8d 8d a8 fd ff
	ff		 lea	 ecx, DWORD PTR _character_height$5[ebp]
  010b0	51		 push	 ecx
  010b1	e8 00 00 00 00	 call	 ?safe_fread@@YGXPAXHHPAU_iobuf@@@Z ; safe_fread

; 1130 : 
; 1131 : 			safe_fread ( &new_font->characters[ font_character_table[character_count] ].abcA, sizeof ( int ), 1, fp );

  010b6	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  010bc	50		 push	 eax
  010bd	6a 01		 push	 1
  010bf	6a 04		 push	 4
  010c1	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  010c4	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  010cb	6b c2 24	 imul	 eax, edx, 36
  010ce	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  010d1	8d 54 01 40	 lea	 edx, DWORD PTR [ecx+eax+64]
  010d5	52		 push	 edx
  010d6	e8 00 00 00 00	 call	 ?safe_fread@@YGXPAXHHPAU_iobuf@@@Z ; safe_fread

; 1132 : 			safe_fread ( &new_font->characters[ font_character_table[character_count] ].abcB, sizeof ( int ), 1, fp );

  010db	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  010e1	50		 push	 eax
  010e2	6a 01		 push	 1
  010e4	6a 04		 push	 4
  010e6	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  010e9	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  010f0	6b c2 24	 imul	 eax, edx, 36
  010f3	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  010f6	8d 54 01 44	 lea	 edx, DWORD PTR [ecx+eax+68]
  010fa	52		 push	 edx
  010fb	e8 00 00 00 00	 call	 ?safe_fread@@YGXPAXHHPAU_iobuf@@@Z ; safe_fread

; 1133 : 			safe_fread ( &new_font->characters[ font_character_table[character_count] ].abcC, sizeof ( int ), 1, fp );

  01100	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  01106	50		 push	 eax
  01107	6a 01		 push	 1
  01109	6a 04		 push	 4
  0110b	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  0110e	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  01115	6b c2 24	 imul	 eax, edx, 36
  01118	8b 4d 98	 mov	 ecx, DWORD PTR _new_font$[ebp]
  0111b	8d 54 01 48	 lea	 edx, DWORD PTR [ecx+eax+72]
  0111f	52		 push	 edx
  01120	e8 00 00 00 00	 call	 ?safe_fread@@YGXPAXHHPAU_iobuf@@@Z ; safe_fread

; 1134 : 
; 1135 : 			//
; 1136 : 			// Put a pointer to the kerning pairs for this character
; 1137 : 			//
; 1138 : 
; 1139 : 			new_font->characters[ font_character_table[character_count] ].kerning_pairs = NULL;

  01125	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  01128	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  0112f	6b d1 24	 imul	 edx, ecx, 36
  01132	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01135	c7 44 10 5c 00
	00 00 00	 mov	 DWORD PTR [eax+edx+92], 0

; 1140 : 
; 1141 : 			{
; 1142 : 
; 1143 : 				int
; 1144 : 					found,
; 1145 : 					kerning_count;
; 1146 : 
; 1147 : 				found = FALSE;

  0113d	c7 85 9c fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _found$2[ebp], 0

; 1148 : 
; 1149 : 				for ( kerning_count = 0; kerning_count < new_font->number_of_kerning_pairs; kerning_count++ )

  01147	c7 85 98 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _kerning_count$1[ebp], 0
  01151	eb 0f		 jmp	 SHORT $LN42@load_windo
$LN40@load_windo:
  01153	8b 85 98 fd ff
	ff		 mov	 eax, DWORD PTR _kerning_count$1[ebp]
  01159	83 c0 01	 add	 eax, 1
  0115c	89 85 98 fd ff
	ff		 mov	 DWORD PTR _kerning_count$1[ebp], eax
$LN42@load_windo:
  01162	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01165	8b 8d 98 fd ff
	ff		 mov	 ecx, DWORD PTR _kerning_count$1[ebp]
  0116b	3b 48 38	 cmp	 ecx, DWORD PTR [eax+56]
  0116e	7d 55		 jge	 SHORT $LN41@load_windo

; 1150 : 				{
; 1151 : 
; 1152 : 					if ( new_font->kerning_pairs[kerning_count].wFirst == font_character_table[character_count] )

  01170	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01173	8b 88 3c 24 00
	00		 mov	 ecx, DWORD PTR [eax+9276]
  01179	8b 95 98 fd ff
	ff		 mov	 edx, DWORD PTR _kerning_count$1[ebp]
  0117f	0f b7 04 d1	 movzx	 eax, WORD PTR [ecx+edx*8]
  01183	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  01186	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  0118d	3b c2		 cmp	 eax, edx
  0118f	75 32		 jne	 SHORT $LN84@load_windo

; 1153 : 					{
; 1154 : 
; 1155 : 						new_font->characters[ font_character_table[character_count] ].kerning_pairs = &new_font->kerning_pairs[kerning_count];

  01191	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01194	8b 88 3c 24 00
	00		 mov	 ecx, DWORD PTR [eax+9276]
  0119a	8b 95 98 fd ff
	ff		 mov	 edx, DWORD PTR _kerning_count$1[ebp]
  011a0	8d 04 d1	 lea	 eax, DWORD PTR [ecx+edx*8]
  011a3	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  011a6	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  011ad	6b ca 24	 imul	 ecx, edx, 36
  011b0	8b 55 98	 mov	 edx, DWORD PTR _new_font$[ebp]
  011b3	89 44 0a 5c	 mov	 DWORD PTR [edx+ecx+92], eax

; 1156 : 
; 1157 : 						found = TRUE;

  011b7	c7 85 9c fd ff
	ff 01 00 00 00	 mov	 DWORD PTR _found$2[ebp], 1

; 1158 : 
; 1159 : 						break;

  011c1	eb 02		 jmp	 SHORT $LN41@load_windo
$LN84@load_windo:

; 1160 : 					}
; 1161 : 				}

  011c3	eb 8e		 jmp	 SHORT $LN40@load_windo
$LN41@load_windo:

; 1162 : 
; 1163 : 				if ( found )

  011c5	83 bd 9c fd ff
	ff 00		 cmp	 DWORD PTR _found$2[ebp], 0
  011cc	0f 84 a0 00 00
	00		 je	 $LN47@load_windo

; 1164 : 				{
; 1165 : 
; 1166 : 					for ( ; kerning_count < new_font->number_of_kerning_pairs; kerning_count++ )

  011d2	eb 0f		 jmp	 SHORT $LN45@load_windo
$LN43@load_windo:
  011d4	8b 85 98 fd ff
	ff		 mov	 eax, DWORD PTR _kerning_count$1[ebp]
  011da	83 c0 01	 add	 eax, 1
  011dd	89 85 98 fd ff
	ff		 mov	 DWORD PTR _kerning_count$1[ebp], eax
$LN45@load_windo:
  011e3	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  011e6	8b 8d 98 fd ff
	ff		 mov	 ecx, DWORD PTR _kerning_count$1[ebp]
  011ec	3b 48 38	 cmp	 ecx, DWORD PTR [eax+56]
  011ef	7d 25		 jge	 SHORT $LN44@load_windo

; 1167 : 					{
; 1168 : 
; 1169 : 						if ( new_font->kerning_pairs[kerning_count].wFirst != font_character_table[character_count] )

  011f1	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  011f4	8b 88 3c 24 00
	00		 mov	 ecx, DWORD PTR [eax+9276]
  011fa	8b 95 98 fd ff
	ff		 mov	 edx, DWORD PTR _kerning_count$1[ebp]
  01200	0f b7 04 d1	 movzx	 eax, WORD PTR [ecx+edx*8]
  01204	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  01207	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  0120e	3b c2		 cmp	 eax, edx
  01210	74 02		 je	 SHORT $LN86@load_windo

; 1170 : 						{
; 1171 : 
; 1172 : 							break;

  01212	eb 02		 jmp	 SHORT $LN44@load_windo
$LN86@load_windo:

; 1173 : 						}
; 1174 : 					}

  01214	eb be		 jmp	 SHORT $LN43@load_windo
$LN44@load_windo:

; 1175 : 
; 1176 : 					for ( ; kerning_count < new_font->number_of_kerning_pairs; kerning_count++ )

  01216	eb 0f		 jmp	 SHORT $LN48@load_windo
$LN46@load_windo:
  01218	8b 85 98 fd ff
	ff		 mov	 eax, DWORD PTR _kerning_count$1[ebp]
  0121e	83 c0 01	 add	 eax, 1
  01221	89 85 98 fd ff
	ff		 mov	 DWORD PTR _kerning_count$1[ebp], eax
$LN48@load_windo:
  01227	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  0122a	8b 8d 98 fd ff
	ff		 mov	 ecx, DWORD PTR _kerning_count$1[ebp]
  01230	3b 48 38	 cmp	 ecx, DWORD PTR [eax+56]
  01233	7d 3d		 jge	 SHORT $LN47@load_windo

; 1177 : 					{
; 1178 : 
; 1179 : 						ASSERT ( new_font->kerning_pairs[kerning_count].wFirst != font_character_table[character_count] );

  01235	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01238	8b 88 3c 24 00
	00		 mov	 ecx, DWORD PTR [eax+9276]
  0123e	8b 95 98 fd ff
	ff		 mov	 edx, DWORD PTR _kerning_count$1[ebp]
  01244	0f b7 04 d1	 movzx	 eax, WORD PTR [ecx+edx*8]
  01248	8b 4d f0	 mov	 ecx, DWORD PTR _character_count$[ebp]
  0124b	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?font_character_table@@3PAEA[ecx]
  01252	3b c2		 cmp	 eax, edx
  01254	75 1a		 jne	 SHORT $LN87@load_windo
  01256	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z@4JA
  0125b	05 da 02 00 00	 add	 eax, 730		; 000002daH
  01260	50		 push	 eax
  01261	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@
  01266	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@KLPMEIAC@new_font?9?$DOkerning_pairs?$FLkerning@
  0126b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN87@load_windo:

; 1180 : 					}

  01270	eb a6		 jmp	 SHORT $LN46@load_windo
$LN47@load_windo:

; 1181 : 				}
; 1182 : 			}
; 1183 : 
; 1184 : 			if ( font_character_table[character_count] != ' ' )

  01272	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  01275	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  0127c	83 f9 20	 cmp	 ecx, 32			; 00000020H
  0127f	0f 84 a1 00 00
	00		 je	 $LN88@load_windo

; 1185 : 			{
; 1186 : 
; 1187 : 				//
; 1188 : 				// Figure out the coordinates in the texture to put the character
; 1189 : 				//
; 1190 : 
; 1191 : 				set_active_screen ( new_font->screens[screen_index] );

  01285	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01288	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0128b	8b 55 f4	 mov	 edx, DWORD PTR _screen_index$[ebp]
  0128e	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  01291	50		 push	 eax
  01292	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 1192 : 
; 1193 : #if 1
; 1194 : 				lock_screen ( active_screen );

  01297	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  0129c	50		 push	 eax
  0129d	e8 00 00 00 00	 call	 ?lock_screen@@YGHPAUSCREEN@@@Z ; lock_screen

; 1195 : 
; 1196 : 				for ( y = 0; y < character_height; y++ )

  012a2	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _y$[ebp], 0
  012a9	eb 09		 jmp	 SHORT $LN51@load_windo
$LN49@load_windo:
  012ab	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  012ae	83 c0 01	 add	 eax, 1
  012b1	89 45 e8	 mov	 DWORD PTR _y$[ebp], eax
$LN51@load_windo:
  012b4	8b 45 e8	 mov	 eax, DWORD PTR _y$[ebp]
  012b7	3b 85 a8 fd ff
	ff		 cmp	 eax, DWORD PTR _character_height$5[ebp]
  012bd	7d 5c		 jge	 SHORT $LN50@load_windo

; 1197 : 				{
; 1198 : 
; 1199 : 					for ( x = 0; x < character_width; x++ )

  012bf	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _x$[ebp], 0
  012c6	eb 09		 jmp	 SHORT $LN54@load_windo
$LN52@load_windo:
  012c8	8b 45 ec	 mov	 eax, DWORD PTR _x$[ebp]
  012cb	83 c0 01	 add	 eax, 1
  012ce	89 45 ec	 mov	 DWORD PTR _x$[ebp], eax
$LN54@load_windo:
  012d1	8b 45 ec	 mov	 eax, DWORD PTR _x$[ebp]
  012d4	3b 85 ac fd ff
	ff		 cmp	 eax, DWORD PTR _character_width$6[ebp]
  012da	7d 3d		 jge	 SHORT $LN53@load_windo

; 1200 : 					{
; 1201 : 
; 1202 : 						colour.r = 255;

  012dc	c6 45 9e ff	 mov	 BYTE PTR _colour$[ebp+2], 255 ; 000000ffH

; 1203 : 						colour.g = 255;

  012e0	c6 45 9d ff	 mov	 BYTE PTR _colour$[ebp+1], 255 ; 000000ffH

; 1204 : 						colour.b = 255;

  012e4	c6 45 9c ff	 mov	 BYTE PTR _colour$[ebp], 255 ; 000000ffH

; 1205 : 						fread ( &colour.a, 1, 1, fp );

  012e8	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  012ee	50		 push	 eax
  012ef	6a 01		 push	 1
  012f1	6a 01		 push	 1
  012f3	8d 4d 9f	 lea	 ecx, DWORD PTR _colour$[ebp+3]
  012f6	51		 push	 ecx
  012f7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  012fd	83 c4 10	 add	 esp, 16			; 00000010H

; 1206 : 
; 1207 : 						set_pixel ( character_x + x, character_y + y, colour );

  01300	8b 45 9c	 mov	 eax, DWORD PTR _colour$[ebp]
  01303	50		 push	 eax
  01304	8b 4d b0	 mov	 ecx, DWORD PTR _character_y$[ebp]
  01307	03 4d e8	 add	 ecx, DWORD PTR _y$[ebp]
  0130a	51		 push	 ecx
  0130b	8b 55 b4	 mov	 edx, DWORD PTR _character_x$[ebp]
  0130e	03 55 ec	 add	 edx, DWORD PTR _x$[ebp]
  01311	52		 push	 edx
  01312	e8 00 00 00 00	 call	 ?set_pixel@@YGXHHUREAL_COLOUR@@@Z ; set_pixel

; 1208 : 					}

  01317	eb af		 jmp	 SHORT $LN52@load_windo
$LN53@load_windo:

; 1209 : 				}

  01319	eb 90		 jmp	 SHORT $LN49@load_windo
$LN50@load_windo:

; 1210 : 
; 1211 : 				unlock_screen ( active_screen );

  0131b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  01320	50		 push	 eax
  01321	e8 00 00 00 00	 call	 ?unlock_screen@@YGHPAUSCREEN@@@Z ; unlock_screen
$LN88@load_windo:

; 1212 : #endif
; 1213 : 			}
; 1214 : 
; 1215 : 			//
; 1216 : 			// Now put the information into the character itself
; 1217 : 			//
; 1218 : 
; 1219 : 			u = ( float ) character_x / ( float ) texture_width;

  01326	f3 0f 2a 45 b4	 cvtsi2ss xmm0, DWORD PTR _character_x$[ebp]
  0132b	f3 0f 2a 4d c4	 cvtsi2ss xmm1, DWORD PTR _texture_width$[ebp]
  01330	f3 0f 5e c1	 divss	 xmm0, xmm1
  01334	f3 0f 11 85 a4
	fd ff ff	 movss	 DWORD PTR _u$4[ebp], xmm0

; 1220 : 			v = ( float ) character_y / ( float ) texture_height;

  0133c	f3 0f 2a 45 b0	 cvtsi2ss xmm0, DWORD PTR _character_y$[ebp]
  01341	f3 0f 2a 4d c0	 cvtsi2ss xmm1, DWORD PTR _texture_height$[ebp]
  01346	f3 0f 5e c1	 divss	 xmm0, xmm1
  0134a	f3 0f 11 85 a0
	fd ff ff	 movss	 DWORD PTR _v$3[ebp], xmm0

; 1221 : 
; 1222 : 			u -= ( 1.0 / ( texture_width * 2 ) );

  01352	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  01355	d1 e0		 shl	 eax, 1
  01357	f2 0f 2a c0	 cvtsi2sd xmm0, eax
  0135b	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3ff0000000000000
  01363	f2 0f 5e c8	 divsd	 xmm1, xmm0
  01367	f3 0f 5a 85 a4
	fd ff ff	 cvtss2sd xmm0, DWORD PTR _u$4[ebp]
  0136f	f2 0f 5c c1	 subsd	 xmm0, xmm1
  01373	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  01377	f3 0f 11 85 a4
	fd ff ff	 movss	 DWORD PTR _u$4[ebp], xmm0

; 1223 : 			v -= ( 1.0 / ( texture_width * 2 ) );

  0137f	8b 45 c4	 mov	 eax, DWORD PTR _texture_width$[ebp]
  01382	d1 e0		 shl	 eax, 1
  01384	f2 0f 2a c0	 cvtsi2sd xmm0, eax
  01388	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3ff0000000000000
  01390	f2 0f 5e c8	 divsd	 xmm1, xmm0
  01394	f3 0f 5a 85 a0
	fd ff ff	 cvtss2sd xmm0, DWORD PTR _v$3[ebp]
  0139c	f2 0f 5c c1	 subsd	 xmm0, xmm1
  013a0	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  013a4	f3 0f 11 85 a0
	fd ff ff	 movss	 DWORD PTR _v$3[ebp], xmm0

; 1224 : 
; 1225 : 			new_font->characters[ font_character_table[character_count] ].width = character_width;

  013ac	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  013af	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  013b6	6b d1 24	 imul	 edx, ecx, 36
  013b9	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  013bc	8a 8d ac fd ff
	ff		 mov	 cl, BYTE PTR _character_width$6[ebp]
  013c2	88 4c 10 3c	 mov	 BYTE PTR [eax+edx+60], cl

; 1226 : 			new_font->characters[ font_character_table[character_count] ].height = character_height;

  013c6	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  013c9	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  013d0	6b d1 24	 imul	 edx, ecx, 36
  013d3	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  013d6	8a 8d a8 fd ff
	ff		 mov	 cl, BYTE PTR _character_height$5[ebp]
  013dc	88 4c 10 3d	 mov	 BYTE PTR [eax+edx+61], cl

; 1227 : 			new_font->characters[ font_character_table[character_count] ].screen_index = screen_index;

  013e0	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  013e3	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  013ea	6b d1 24	 imul	 edx, ecx, 36
  013ed	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  013f0	8a 4d f4	 mov	 cl, BYTE PTR _screen_index$[ebp]
  013f3	88 4c 10 3e	 mov	 BYTE PTR [eax+edx+62], cl

; 1228 : 			new_font->characters[ font_character_table[character_count] ].valid = TRUE;

  013f7	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  013fa	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  01401	6b d1 24	 imul	 edx, ecx, 36
  01404	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01407	c6 44 10 3f 01	 mov	 BYTE PTR [eax+edx+63], 1

; 1229 : 			new_font->characters[ font_character_table[character_count] ].u1 = u;

  0140c	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  0140f	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  01416	6b d1 24	 imul	 edx, ecx, 36
  01419	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  0141c	f3 0f 10 85 a4
	fd ff ff	 movss	 xmm0, DWORD PTR _u$4[ebp]
  01424	f3 0f 11 44 10
	4c		 movss	 DWORD PTR [eax+edx+76], xmm0

; 1230 : 			new_font->characters[ font_character_table[character_count] ].v1 = v;

  0142a	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  0142d	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  01434	6b d1 24	 imul	 edx, ecx, 36
  01437	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  0143a	f3 0f 10 85 a0
	fd ff ff	 movss	 xmm0, DWORD PTR _v$3[ebp]
  01442	f3 0f 11 44 10
	50		 movss	 DWORD PTR [eax+edx+80], xmm0

; 1231 : 
; 1232 : 			/*if ( d3d_using_permedia2_chipset )
; 1233 : 			{
; 1234 : 
; 1235 : 				new_font->characters[ font_character_table[character_count] ].u2 = u + ( ( ( float ) character_width + 0.0 ) / ( float ) texture_width );
; 1236 : 				new_font->characters[ font_character_table[character_count] ].v2 = v + ( ( ( float ) character_height + 0.0 ) / ( float ) texture_height );
; 1237 : 			}
; 1238 : 			else*/
; 1239 : 			{
; 1240 : 
; 1241 : 				new_font->characters[ font_character_table[character_count] ].u2 = u + ( ( ( float ) character_width + 1.0 ) / ( float ) texture_width );

  01448	f3 0f 5a 85 a4
	fd ff ff	 cvtss2sd xmm0, DWORD PTR _u$4[ebp]
  01450	f3 0f 2a 8d ac
	fd ff ff	 cvtsi2ss xmm1, DWORD PTR _character_width$6[ebp]
  01458	f3 0f 5a c9	 cvtss2sd xmm1, xmm1
  0145c	f2 0f 58 0d 00
	00 00 00	 addsd	 xmm1, QWORD PTR __real@3ff0000000000000
  01464	f3 0f 2a 55 c4	 cvtsi2ss xmm2, DWORD PTR _texture_width$[ebp]
  01469	f3 0f 5a d2	 cvtss2sd xmm2, xmm2
  0146d	f2 0f 5e ca	 divsd	 xmm1, xmm2
  01471	f2 0f 58 c1	 addsd	 xmm0, xmm1
  01475	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  01479	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  0147c	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  01483	6b d1 24	 imul	 edx, ecx, 36
  01486	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01489	f3 0f 11 44 10
	54		 movss	 DWORD PTR [eax+edx+84], xmm0

; 1242 : 				new_font->characters[ font_character_table[character_count] ].v2 = v + ( ( ( float ) character_height + 0.0 ) / ( float ) texture_height );

  0148f	f3 0f 5a 85 a0
	fd ff ff	 cvtss2sd xmm0, DWORD PTR _v$3[ebp]
  01497	f3 0f 2a 8d a8
	fd ff ff	 cvtsi2ss xmm1, DWORD PTR _character_height$5[ebp]
  0149f	f3 0f 5a c9	 cvtss2sd xmm1, xmm1
  014a3	f2 0f 58 0d 00
	00 00 00	 addsd	 xmm1, QWORD PTR __real@0000000000000000
  014ab	f3 0f 2a 55 c0	 cvtsi2ss xmm2, DWORD PTR _texture_height$[ebp]
  014b0	f3 0f 5a d2	 cvtss2sd xmm2, xmm2
  014b4	f2 0f 5e ca	 divsd	 xmm1, xmm2
  014b8	f2 0f 58 c1	 addsd	 xmm0, xmm1
  014bc	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  014c0	8b 45 f0	 mov	 eax, DWORD PTR _character_count$[ebp]
  014c3	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?font_character_table@@3PAEA[eax]
  014ca	6b d1 24	 imul	 edx, ecx, 36
  014cd	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  014d0	f3 0f 11 44 10
	58		 movss	 DWORD PTR [eax+edx+88], xmm0

; 1243 : 			}
; 1244 : 
; 1245 : 			character_x += new_font->font_width;

  014d6	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  014d9	8b 4d b4	 mov	 ecx, DWORD PTR _character_x$[ebp]
  014dc	03 48 14	 add	 ecx, DWORD PTR [eax+20]
  014df	89 4d b4	 mov	 DWORD PTR _character_x$[ebp], ecx

; 1246 : 
; 1247 : 			if ( ( character_x + new_font->font_width ) > texture_width )

  014e2	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  014e5	8b 4d b4	 mov	 ecx, DWORD PTR _character_x$[ebp]
  014e8	03 48 14	 add	 ecx, DWORD PTR [eax+20]
  014eb	3b 4d c4	 cmp	 ecx, DWORD PTR _texture_width$[ebp]
  014ee	7e 31		 jle	 SHORT $LN90@load_windo

; 1248 : 			{
; 1249 : 
; 1250 : 				character_x = 0;

  014f0	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _character_x$[ebp], 0

; 1251 : 
; 1252 : 				character_y += new_font->font_height;

  014f7	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  014fa	8b 4d b0	 mov	 ecx, DWORD PTR _character_y$[ebp]
  014fd	03 48 10	 add	 ecx, DWORD PTR [eax+16]
  01500	89 4d b0	 mov	 DWORD PTR _character_y$[ebp], ecx

; 1253 : 
; 1254 : 				if ( ( character_y + new_font->font_height ) > texture_height )

  01503	8b 45 98	 mov	 eax, DWORD PTR _new_font$[ebp]
  01506	8b 4d b0	 mov	 ecx, DWORD PTR _character_y$[ebp]
  01509	03 48 10	 add	 ecx, DWORD PTR [eax+16]
  0150c	3b 4d c0	 cmp	 ecx, DWORD PTR _texture_height$[ebp]
  0150f	7e 10		 jle	 SHORT $LN90@load_windo

; 1255 : 				{
; 1256 : 
; 1257 : 					character_y = 0;

  01511	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _character_y$[ebp], 0

; 1258 : 
; 1259 : 					screen_index++;

  01518	8b 45 f4	 mov	 eax, DWORD PTR _screen_index$[ebp]
  0151b	83 c0 01	 add	 eax, 1
  0151e	89 45 f4	 mov	 DWORD PTR _screen_index$[ebp], eax
$LN90@load_windo:

; 1260 : 				}
; 1261 : 			}
; 1262 : 		}

  01521	e9 4c fb ff ff	 jmp	 $LN37@load_windo
$LN38@load_windo:

; 1263 : 
; 1264 : 		set_active_screen ( old_active_screen );

  01526	8b 45 f8	 mov	 eax, DWORD PTR _old_active_screen$[ebp]
  01529	50		 push	 eax
  0152a	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 1265 : 
; 1266 : 		safe_mclose ( font_headers );

  0152f	8b 85 b0 fd ff
	ff		 mov	 eax, DWORD PTR _font_headers$7[ebp]
  01535	50		 push	 eax
  01536	e8 00 00 00 00	 call	 ?safe_mclose@@YGHPAX@Z	; safe_mclose

; 1267 : 
; 1268 : 		safe_fclose ( fp );

  0153b	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  01541	50		 push	 eax
  01542	e8 00 00 00 00	 call	 ?safe_fclose@@YGHPAU_iobuf@@@Z ; safe_fclose

; 1269 : 	}
; 1270 : }

  01547	5f		 pop	 edi
  01548	5e		 pop	 esi
  01549	5b		 pop	 ebx
  0154a	8b e5		 mov	 esp, ebp
  0154c	5d		 pop	 ebp
  0154d	c2 1c 00	 ret	 28			; 0000001cH
?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ENDP	; load_windows_ui_font
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?ui_set_object_font@@YGXPAUUI_OBJECT@@@Z
_TEXT	SEGMENT
$T1 = -88						; size = 4
$T2 = -84						; size = 4
$T3 = -80						; size = 4
$T4 = -76						; size = 4
_col$5 = -8						; size = 4
_state$ = -4						; size = 4
_obj$ = 8						; size = 4
?ui_set_object_font@@YGXPAUUI_OBJECT@@@Z PROC		; ui_set_object_font, COMDAT

; 1920 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1921 : 
; 1922 : 	int
; 1923 : 		state;
; 1924 : 
; 1925 : 	ASSERT (obj);

  00009	83 7d 08 00	 cmp	 DWORD PTR _obj$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@ui_set_obj
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??ui_set_object_font@@YGXPAUUI_OBJECT@@@Z@4JA
  00014	83 c0 05	 add	 eax, 5
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_03GJLPFLNF@obj@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@ui_set_obj:

; 1926 : 
; 1927 : 	state = get_ui_object_state (obj);

  00027	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  0002a	50		 push	 eax
  0002b	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  0002e	8b 11		 mov	 edx, DWORD PTR [ecx]
  00030	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_state@@3PAP6GHPAUUI_OBJECT@@@ZA[edx*4]
  00037	ff d0		 call	 eax
  00039	89 45 fc	 mov	 DWORD PTR _state$[ebp], eax

; 1928 : 
; 1929 : 	if (state == UI_OBJECT_STATE_ON)

  0003c	83 7d fc 01	 cmp	 DWORD PTR _state$[ebp], 1
  00040	75 3b		 jne	 SHORT $LN3@ui_set_obj

; 1930 : 	{
; 1931 : 
; 1932 : 		set_ui_font_type (get_ui_object_selected_font_type (obj));

  00042	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  00045	50		 push	 eax
  00046	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  00049	8b 11		 mov	 edx, DWORD PTR [ecx]
  0004b	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_selected_font_type@@3PAP6G?AW4FONT_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  00052	ff d0		 call	 eax
  00054	50		 push	 eax
  00055	e8 00 00 00 00	 call	 ?set_ui_font_type@@YGXW4FONT_TYPES@@@Z ; set_ui_font_type

; 1933 : 
; 1934 : 		set_ui_font_colour (get_ui_object_selected_font_colour (obj));

  0005a	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  0005d	50		 push	 eax
  0005e	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  00061	8b 11		 mov	 edx, DWORD PTR [ecx]
  00063	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_selected_font_colour@@3PAP6G?AUREAL_COLOUR@@PAUUI_OBJECT@@@ZA[edx*4]
  0006a	ff d0		 call	 eax
  0006c	89 45 b4	 mov	 DWORD PTR $T4[ebp], eax
  0006f	8b 4d b4	 mov	 ecx, DWORD PTR $T4[ebp]
  00072	51		 push	 ecx
  00073	e8 00 00 00 00	 call	 ?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z ; set_ui_font_colour

; 1935 : 	}
; 1936 : 	else

  00078	e9 9f 00 00 00	 jmp	 $LN1@ui_set_obj
$LN3@ui_set_obj:

; 1937 : 	{
; 1938 : 
; 1939 : 		if (get_ui_object_highlighted(obj))

  0007d	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  00080	50		 push	 eax
  00081	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  00084	8b 11		 mov	 edx, DWORD PTR [ecx]
  00086	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_highlighted@@3PAP6GHPAUUI_OBJECT@@@ZA[edx*4]
  0008d	ff d0		 call	 eax
  0008f	85 c0		 test	 eax, eax
  00091	74 53		 je	 SHORT $LN5@ui_set_obj

; 1940 : 		{
; 1941 : 
; 1942 : 			rgb_colour
; 1943 : 				col;
; 1944 : 
; 1945 : 			col = get_ui_object_highlighted_font_colour (obj);

  00093	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  00096	50		 push	 eax
  00097	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  0009a	8b 11		 mov	 edx, DWORD PTR [ecx]
  0009c	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_highlighted_font_colour@@3PAP6G?AUREAL_COLOUR@@PAUUI_OBJECT@@@ZA[edx*4]
  000a3	ff d0		 call	 eax
  000a5	89 45 b0	 mov	 DWORD PTR $T3[ebp], eax
  000a8	8b 4d b0	 mov	 ecx, DWORD PTR $T3[ebp]
  000ab	89 4d f8	 mov	 DWORD PTR _col$5[ebp], ecx

; 1946 : 
; 1947 : 			set_ui_font_type (get_ui_object_highlighted_font_type (obj));

  000ae	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  000b1	50		 push	 eax
  000b2	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  000b5	8b 11		 mov	 edx, DWORD PTR [ecx]
  000b7	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_highlighted_font_type@@3PAP6G?AW4FONT_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  000be	ff d0		 call	 eax
  000c0	50		 push	 eax
  000c1	e8 00 00 00 00	 call	 ?set_ui_font_type@@YGXW4FONT_TYPES@@@Z ; set_ui_font_type

; 1948 : 
; 1949 : 			set_ui_font_colour (get_ui_object_highlighted_font_colour (obj));

  000c6	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  000c9	50		 push	 eax
  000ca	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  000cd	8b 11		 mov	 edx, DWORD PTR [ecx]
  000cf	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_highlighted_font_colour@@3PAP6G?AUREAL_COLOUR@@PAUUI_OBJECT@@@ZA[edx*4]
  000d6	ff d0		 call	 eax
  000d8	89 45 ac	 mov	 DWORD PTR $T2[ebp], eax
  000db	8b 4d ac	 mov	 ecx, DWORD PTR $T2[ebp]
  000de	51		 push	 ecx
  000df	e8 00 00 00 00	 call	 ?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z ; set_ui_font_colour

; 1950 : 		}
; 1951 : 		else

  000e4	eb 36		 jmp	 SHORT $LN1@ui_set_obj
$LN5@ui_set_obj:

; 1952 : 		{
; 1953 : 
; 1954 : 			set_ui_font_type (get_ui_object_font_type (obj));

  000e6	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  000e9	50		 push	 eax
  000ea	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  000ed	8b 11		 mov	 edx, DWORD PTR [ecx]
  000ef	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_font_type@@3PAP6G?AW4FONT_TYPES@@PAUUI_OBJECT@@@ZA[edx*4]
  000f6	ff d0		 call	 eax
  000f8	50		 push	 eax
  000f9	e8 00 00 00 00	 call	 ?set_ui_font_type@@YGXW4FONT_TYPES@@@Z ; set_ui_font_type

; 1955 : 
; 1956 : 			set_ui_font_colour (get_ui_object_font_colour (obj));

  000fe	8b 45 08	 mov	 eax, DWORD PTR _obj$[ebp]
  00101	50		 push	 eax
  00102	8b 4d 08	 mov	 ecx, DWORD PTR _obj$[ebp]
  00105	8b 11		 mov	 edx, DWORD PTR [ecx]
  00107	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_get_ui_object_font_colour@@3PAP6G?AUREAL_COLOUR@@PAUUI_OBJECT@@@ZA[edx*4]
  0010e	ff d0		 call	 eax
  00110	89 45 a8	 mov	 DWORD PTR $T1[ebp], eax
  00113	8b 4d a8	 mov	 ecx, DWORD PTR $T1[ebp]
  00116	51		 push	 ecx
  00117	e8 00 00 00 00	 call	 ?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z ; set_ui_font_colour
$LN1@ui_set_obj:

; 1957 : 		}
; 1958 : 	}
; 1959 : }

  0011c	5f		 pop	 edi
  0011d	5e		 pop	 esi
  0011e	5b		 pop	 ebx
  0011f	8b e5		 mov	 esp, ebp
  00121	5d		 pop	 ebp
  00122	c2 04 00	 ret	 4
?ui_set_object_font@@YGXPAUUI_OBJECT@@@Z ENDP		; ui_set_object_font
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?ui_restore_current_font@@YGXXZ
_TEXT	SEGMENT
?ui_restore_current_font@@YGXXZ PROC			; ui_restore_current_font, COMDAT

; 1909 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1910 : 	set_ui_font_type (store_font);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?store_font@@3W4FONT_TYPES@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?set_ui_font_type@@YGXW4FONT_TYPES@@@Z ; set_ui_font_type

; 1911 : 
; 1912 : 	set_ui_font_colour (store_colour);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?store_colour@@3UREAL_COLOUR@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z ; set_ui_font_colour

; 1913 : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?ui_restore_current_font@@YGXXZ ENDP			; ui_restore_current_font
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?ui_save_current_font@@YGXXZ
_TEXT	SEGMENT
$T1 = -68						; size = 4
?ui_save_current_font@@YGXXZ PROC			; ui_save_current_font, COMDAT

; 1898 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1899 : 	store_font = get_ui_font_type ();

  00009	e8 00 00 00 00	 call	 ?get_ui_font_type@@YG?AW4FONT_TYPES@@XZ ; get_ui_font_type
  0000e	a3 00 00 00 00	 mov	 DWORD PTR ?store_font@@3W4FONT_TYPES@@A, eax

; 1900 : 
; 1901 : 	store_colour = get_ui_font_colour ();

  00013	e8 00 00 00 00	 call	 ?get_ui_font_colour@@YG?AUREAL_COLOUR@@XZ ; get_ui_font_colour
  00018	89 45 bc	 mov	 DWORD PTR $T1[ebp], eax
  0001b	8b 45 bc	 mov	 eax, DWORD PTR $T1[ebp]
  0001e	a3 00 00 00 00	 mov	 DWORD PTR ?store_colour@@3UREAL_COLOUR@@A, eax

; 1902 : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
?ui_save_current_font@@YGXXZ ENDP			; ui_save_current_font
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?get_ui_font_colour@@YG?AUREAL_COLOUR@@XZ
_TEXT	SEGMENT
?get_ui_font_colour@@YG?AUREAL_COLOUR@@XZ PROC		; get_ui_font_colour, COMDAT

; 1888 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1889 : 
; 1890 : 	return current_font_colour;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_font_colour@@3UREAL_COLOUR@@A

; 1891 : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?get_ui_font_colour@@YG?AUREAL_COLOUR@@XZ ENDP		; get_ui_font_colour
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?get_ui_font_type@@YG?AW4FONT_TYPES@@XZ
_TEXT	SEGMENT
?get_ui_font_type@@YG?AW4FONT_TYPES@@XZ PROC		; get_ui_font_type, COMDAT

; 1878 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1879 : 
; 1880 : 	return current_font_type;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_font_type@@3W4FONT_TYPES@@A

; 1881 : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?get_ui_font_type@@YG?AW4FONT_TYPES@@XZ ENDP		; get_ui_font_type
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z
_TEXT	SEGMENT
_colour$ = 8						; size = 4
?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z PROC		; set_ui_font_colour, COMDAT

; 1868 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1869 : 
; 1870 : 	current_font_colour = colour;

  00009	8b 45 08	 mov	 eax, DWORD PTR _colour$[ebp]
  0000c	a3 00 00 00 00	 mov	 DWORD PTR ?current_font_colour@@3UREAL_COLOUR@@A, eax

; 1871 : }

  00011	5f		 pop	 edi
  00012	5e		 pop	 esi
  00013	5b		 pop	 ebx
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c2 04 00	 ret	 4
?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z ENDP		; set_ui_font_colour
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?set_ui_font_type@@YGXW4FONT_TYPES@@@Z
_TEXT	SEGMENT
_font$ = 8						; size = 4
?set_ui_font_type@@YGXW4FONT_TYPES@@@Z PROC		; set_ui_font_type, COMDAT

; 1855 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1856 : 	ASSERT ((font >= 0) && (font < NUM_FONT_TYPES));

  00009	83 7d 08 00	 cmp	 DWORD PTR _font$[ebp], 0
  0000d	7c 06		 jl	 SHORT $LN3@set_ui_fon
  0000f	83 7d 08 0e	 cmp	 DWORD PTR _font$[ebp], 14 ; 0000000eH
  00013	7c 18		 jl	 SHORT $LN2@set_ui_fon
$LN3@set_ui_fon:
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??set_ui_font_type@@YGXW4FONT_TYPES@@@Z@4JA
  0001a	83 c0 01	 add	 eax, 1
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@IADIMHIO@?$CIfont?5?$DO?$DN?50?$CJ?5?$CG?$CG?5?$CIfont?5?$DM?5NUM_FONT@
  00028	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@set_ui_fon:

; 1857 : 
; 1858 : 	current_font_type = font;

  0002d	8b 45 08	 mov	 eax, DWORD PTR _font$[ebp]
  00030	a3 00 00 00 00	 mov	 DWORD PTR ?current_font_type@@3W4FONT_TYPES@@A, eax

; 1859 : 
; 1860 : 	current_font = &ui_fonts [font];

  00035	69 45 08 40 24
	00 00		 imul	 eax, DWORD PTR _font$[ebp], 9280
  0003c	05 00 00 00 00	 add	 eax, OFFSET ?ui_fonts@@3PAUUI_FONT_TYPE@@A ; ui_fonts
  00041	a3 00 00 00 00	 mov	 DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A, eax ; current_font

; 1861 : }

  00046	5f		 pop	 edi
  00047	5e		 pop	 esi
  00048	5b		 pop	 ebx
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c2 04 00	 ret	 4
?set_ui_font_type@@YGXW4FONT_TYPES@@@Z ENDP		; set_ui_font_type
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?ui_display_centred_text@@YGHPBDMMMM@Z
_TEXT	SEGMENT
_x_end_int$ = -20					; size = 4
_x_start_int$ = -16					; size = 4
_y_centre$ = -12					; size = 4
_height$ = -8						; size = 4
_length$ = -4						; size = 4
_text$ = 8						; size = 4
_x1$ = 12						; size = 4
_x2$ = 16						; size = 4
_y1$ = 20						; size = 4
_y2$ = 24						; size = 4
?ui_display_centred_text@@YGHPBDMMMM@Z PROC		; ui_display_centred_text, COMDAT

; 1812 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1813 : 
; 1814 : 	float
; 1815 : 		length;
; 1816 : 
; 1817 : 	int
; 1818 : 		height,
; 1819 : 		y_centre,
; 1820 : 		x_start_int,
; 1821 : 		x_end_int;
; 1822 : 
; 1823 : 	length = ui_get_string_length (text);

  00009	8b 45 08	 mov	 eax, DWORD PTR _text$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?ui_get_string_length@@YGMPBD@Z ; ui_get_string_length
  00012	d9 5d fc	 fstp	 DWORD PTR _length$[ebp]

; 1824 : 
; 1825 : 	height = ui_get_font_height ();

  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  0001a	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0001d	89 4d f8	 mov	 DWORD PTR _height$[ebp], ecx

; 1826 : 
; 1827 : 	convert_float_to_int ((x2 - x1 - length), &x_start_int);

  00020	8d 45 f0	 lea	 eax, DWORD PTR _x_start_int$[ebp]
  00023	50		 push	 eax
  00024	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _x2$[ebp]
  00029	f3 0f 5c 45 0c	 subss	 xmm0, DWORD PTR _x1$[ebp]
  0002e	f3 0f 5c 45 fc	 subss	 xmm0, DWORD PTR _length$[ebp]
  00033	51		 push	 ecx
  00034	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00039	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int

; 1828 : 
; 1829 : 	x_start_int = x_start_int >> 1;

  0003e	8b 45 f0	 mov	 eax, DWORD PTR _x_start_int$[ebp]
  00041	d1 f8		 sar	 eax, 1
  00043	89 45 f0	 mov	 DWORD PTR _x_start_int$[ebp], eax

; 1830 : 
; 1831 : 	convert_float_to_int ((x2 - x1 + length), &x_end_int);

  00046	8d 45 ec	 lea	 eax, DWORD PTR _x_end_int$[ebp]
  00049	50		 push	 eax
  0004a	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _x2$[ebp]
  0004f	f3 0f 5c 45 0c	 subss	 xmm0, DWORD PTR _x1$[ebp]
  00054	f3 0f 58 45 fc	 addss	 xmm0, DWORD PTR _length$[ebp]
  00059	51		 push	 ecx
  0005a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0005f	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int

; 1832 : 
; 1833 : 	x_end_int = x_end_int >> 1;

  00064	8b 45 ec	 mov	 eax, DWORD PTR _x_end_int$[ebp]
  00067	d1 f8		 sar	 eax, 1
  00069	89 45 ec	 mov	 DWORD PTR _x_end_int$[ebp], eax

; 1834 : 
; 1835 : 	x_start_int += x1;

  0006c	f3 0f 2a 45 f0	 cvtsi2ss xmm0, DWORD PTR _x_start_int$[ebp]
  00071	f3 0f 58 45 0c	 addss	 xmm0, DWORD PTR _x1$[ebp]
  00076	f3 0f 2c c0	 cvttss2si eax, xmm0
  0007a	89 45 f0	 mov	 DWORD PTR _x_start_int$[ebp], eax

; 1836 : 
; 1837 : 	x_end_int += x1;

  0007d	f3 0f 2a 45 ec	 cvtsi2ss xmm0, DWORD PTR _x_end_int$[ebp]
  00082	f3 0f 58 45 0c	 addss	 xmm0, DWORD PTR _x1$[ebp]
  00087	f3 0f 2c c0	 cvttss2si eax, xmm0
  0008b	89 45 ec	 mov	 DWORD PTR _x_end_int$[ebp], eax

; 1838 : 
; 1839 : 	convert_float_to_int ((y2 - y1 - height), &y_centre);

  0008e	8d 45 f4	 lea	 eax, DWORD PTR _y_centre$[ebp]
  00091	50		 push	 eax
  00092	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _y2$[ebp]
  00097	f3 0f 5c 45 14	 subss	 xmm0, DWORD PTR _y1$[ebp]
  0009c	f3 0f 2a 4d f8	 cvtsi2ss xmm1, DWORD PTR _height$[ebp]
  000a1	f3 0f 5c c1	 subss	 xmm0, xmm1
  000a5	51		 push	 ecx
  000a6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000ab	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int

; 1840 : 
; 1841 : 	y_centre = y_centre >> 1;

  000b0	8b 45 f4	 mov	 eax, DWORD PTR _y_centre$[ebp]
  000b3	d1 f8		 sar	 eax, 1
  000b5	89 45 f4	 mov	 DWORD PTR _y_centre$[ebp], eax

; 1842 : 
; 1843 : 	y_centre += y1;

  000b8	f3 0f 2a 45 f4	 cvtsi2ss xmm0, DWORD PTR _y_centre$[ebp]
  000bd	f3 0f 58 45 14	 addss	 xmm0, DWORD PTR _y1$[ebp]
  000c2	f3 0f 2c c0	 cvttss2si eax, xmm0
  000c6	89 45 f4	 mov	 DWORD PTR _y_centre$[ebp], eax

; 1844 : 
; 1845 : 	ui_display_text (text, x_start_int, y_centre);

  000c9	f3 0f 2a 45 f4	 cvtsi2ss xmm0, DWORD PTR _y_centre$[ebp]
  000ce	51		 push	 ecx
  000cf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d4	f3 0f 2a 45 f0	 cvtsi2ss xmm0, DWORD PTR _x_start_int$[ebp]
  000d9	51		 push	 ecx
  000da	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000df	8b 45 08	 mov	 eax, DWORD PTR _text$[ebp]
  000e2	50		 push	 eax
  000e3	e8 00 00 00 00	 call	 ?ui_display_text@@YGMPBDMM@Z ; ui_display_text
  000e8	dd d8		 fstp	 ST(0)

; 1846 : 
; 1847 : 	return (x_end_int);

  000ea	8b 45 ec	 mov	 eax, DWORD PTR _x_end_int$[ebp]

; 1848 : }

  000ed	5f		 pop	 edi
  000ee	5e		 pop	 esi
  000ef	5b		 pop	 ebx
  000f0	8b e5		 mov	 esp, ebp
  000f2	5d		 pop	 ebp
  000f3	c2 14 00	 ret	 20			; 00000014H
?ui_display_centred_text@@YGHPBDMMMM@Z ENDP		; ui_display_centred_text
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?ui_get_string_length@@YGMPBD@Z
_TEXT	SEGMENT
tv132 = -80						; size = 4
_character$ = -12					; size = 4
_current_char$ = -8					; size = 4
_length$ = -4						; size = 4
_string$ = 8						; size = 4
?ui_get_string_length@@YGMPBD@Z PROC			; ui_get_string_length, COMDAT

; 1755 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1756 : 
; 1757 : 	int
; 1758 : 		length;
; 1759 : 
; 1760 : 	const char
; 1761 : 		*current_char;
; 1762 : 
; 1763 : 	font_character
; 1764 : 		*character;
; 1765 : 
; 1766 : 	if (!string)

  00009	83 7d 08 00	 cmp	 DWORD PTR _string$[ebp], 0
  0000d	75 04		 jne	 SHORT $LN4@ui_get_str

; 1767 : 	{
; 1768 : 
; 1769 : 		return 0;

  0000f	d9 ee		 fldz
  00011	eb 74		 jmp	 SHORT $LN1@ui_get_str
$LN4@ui_get_str:

; 1770 : 	}
; 1771 : 
; 1772 : 	current_char = string;

  00013	8b 45 08	 mov	 eax, DWORD PTR _string$[ebp]
  00016	89 45 f8	 mov	 DWORD PTR _current_char$[ebp], eax

; 1773 : 
; 1774 : 	length = 0;

  00019	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _length$[ebp], 0
$LN2@ui_get_str:

; 1775 : 
; 1776 : 	//
; 1777 : 	// spin along string adding up length in pixels
; 1778 : 	//
; 1779 : 
; 1780 : 	while (*current_char)

  00020	8b 45 f8	 mov	 eax, DWORD PTR _current_char$[ebp]
  00023	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00026	85 c9		 test	 ecx, ecx
  00028	74 54		 je	 SHORT $LN3@ui_get_str

; 1781 : 	{
; 1782 : 
; 1783 : 		character = &current_font->characters[(int)*current_char];

  0002a	8b 45 f8	 mov	 eax, DWORD PTR _current_char$[ebp]
  0002d	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00030	6b d1 24	 imul	 edx, ecx, 36
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  00038	8d 4c 10 3c	 lea	 ecx, DWORD PTR [eax+edx+60]
  0003c	89 4d f4	 mov	 DWORD PTR _character$[ebp], ecx

; 1784 : 
; 1785 : 		if (!character->valid)

  0003f	8b 45 f4	 mov	 eax, DWORD PTR _character$[ebp]
  00042	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  00046	85 c9		 test	 ecx, ecx
  00048	75 02		 jne	 SHORT $LN5@ui_get_str

; 1786 : 		{
; 1787 : 
; 1788 : 			//current_char ++;
; 1789 : 
; 1790 : 			//continue;
; 1791 : 
; 1792 : 			break;

  0004a	eb 32		 jmp	 SHORT $LN3@ui_get_str
$LN5@ui_get_str:

; 1793 : 		}
; 1794 : 
; 1795 : //		length += character->width;
; 1796 : 
; 1797 : 		length += character->abcA + character->abcB + character->abcC;

  0004c	8b 45 f4	 mov	 eax, DWORD PTR _character$[ebp]
  0004f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00052	8b 55 f4	 mov	 edx, DWORD PTR _character$[ebp]
  00055	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  00058	8b 45 f4	 mov	 eax, DWORD PTR _character$[ebp]
  0005b	03 48 0c	 add	 ecx, DWORD PTR [eax+12]
  0005e	03 4d fc	 add	 ecx, DWORD PTR _length$[ebp]
  00061	89 4d fc	 mov	 DWORD PTR _length$[ebp], ecx

; 1798 : 
; 1799 : 		length += get_kerning_offset ( current_char );

  00064	8b 45 f8	 mov	 eax, DWORD PTR _current_char$[ebp]
  00067	50		 push	 eax
  00068	e8 00 00 00 00	 call	 ?get_kerning_offset@@YGHPBD@Z ; get_kerning_offset
  0006d	03 45 fc	 add	 eax, DWORD PTR _length$[ebp]
  00070	89 45 fc	 mov	 DWORD PTR _length$[ebp], eax

; 1800 : 
; 1801 : 		current_char ++;

  00073	8b 45 f8	 mov	 eax, DWORD PTR _current_char$[ebp]
  00076	83 c0 01	 add	 eax, 1
  00079	89 45 f8	 mov	 DWORD PTR _current_char$[ebp], eax

; 1802 : 	}

  0007c	eb a2		 jmp	 SHORT $LN2@ui_get_str
$LN3@ui_get_str:

; 1803 : 
; 1804 : 	return length;

  0007e	db 45 fc	 fild	 DWORD PTR _length$[ebp]
  00081	d9 5d b0	 fstp	 DWORD PTR tv132[ebp]
  00084	d9 45 b0	 fld	 DWORD PTR tv132[ebp]
$LN1@ui_get_str:

; 1805 : }

  00087	5f		 pop	 edi
  00088	5e		 pop	 esi
  00089	5b		 pop	 ebx
  0008a	8b e5		 mov	 esp, ebp
  0008c	5d		 pop	 ebp
  0008d	c2 04 00	 ret	 4
?ui_get_string_length@@YGMPBD@Z ENDP			; ui_get_string_length
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?ui_display_text@@YGMPBDMM@Z
_TEXT	SEGMENT
tv925 = -452						; size = 4
_poly$1 = -384						; size = 4
_poly$2 = -380						; size = 4
_outcode2$3 = -376					; size = 4
_outcode$4 = -372					; size = 4
_quad$5 = -368						; size = 256
_texture$6 = -112					; size = 4
_specular$7 = -108					; size = 4
_shadow_colour$8 = -104					; size = 4
_colour$9 = -100					; size = 4
_old_active_int_viewport$10 = -96			; size = 16
_new_viewport$11 = -80					; size = 16
_old_active_viewport$12 = -64				; size = 16
_text_ptr$13 = -48					; size = 4
_original_x_position$14 = -44				; size = 4
_char_start_y$15 = -40					; size = 4
_char_start_x$16 = -36					; size = 4
_char_end_y$17 = -32					; size = 4
_char_end_x$18 = -28					; size = 4
_character$19 = -24					; size = 4
_loop_string$20 = -20					; size = 4
_iy$21 = -16						; size = 4
_ix$22 = -12						; size = 4
_oy$23 = -8						; size = 4
_ox$24 = -4						; size = 4
_text$ = 8						; size = 4
_x$ = 12						; size = 4
_y$ = 16						; size = 4
?ui_display_text@@YGMPBDMM@Z PROC			; ui_display_text, COMDAT

; 1315 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 01 00
	00		 sub	 esp, 452		; 000001c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1316 : 
; 1317 : 	if ( d3d_in_3d_scene )

  0000c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?d3d_in_3d_scene@@3HA, 0 ; d3d_in_3d_scene
  00013	0f 84 0f 0c 00
	00		 je	 $LN5@ui_display

; 1318 : 	{
; 1319 : 
; 1320 : 		float
; 1321 : 			ox,
; 1322 : 			oy;
; 1323 : 
; 1324 : 		int
; 1325 : 			ix,
; 1326 : 			iy,
; 1327 : 			loop_string;
; 1328 : 
; 1329 : 		font_character
; 1330 : 			*character;
; 1331 : 
; 1332 : 		float
; 1333 : 			char_end_x,
; 1334 : 			char_end_y,
; 1335 : 			char_start_x,
; 1336 : 			char_start_y,
; 1337 : 			original_x_position;
; 1338 : 
; 1339 : 		const char
; 1340 : 			*text_ptr;
; 1341 : 
; 1342 : 		viewport
; 1343 : 			old_active_viewport,
; 1344 : 			new_viewport;
; 1345 : 
; 1346 : 		int_viewport
; 1347 : 			old_active_int_viewport;
; 1348 : 
; 1349 : 		real_colour
; 1350 : 			colour,
; 1351 : 			shadow_colour,
; 1352 : 			specular;
; 1353 : 
; 1354 : 		screen
; 1355 : 			*texture;
; 1356 : 
; 1357 : 		//
; 1358 : 		// Always have to render text to the video screen
; 1359 : 		//
; 1360 : 
; 1361 : 		ASSERT ( active_screen == video_screen );

  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_screen@@3PAUSCREEN@@A ; active_screen
  0001e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?video_screen@@3PAUSCREEN@@A ; video_screen
  00024	74 18		 je	 SHORT $LN7@ui_display
  00026	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??ui_display_text@@YGMPBDMM@Z@4JA
  0002b	83 c0 2e	 add	 eax, 46			; 0000002eH
  0002e	50		 push	 eax
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@KMIKILIP@c?3?2users?2nhv90?2projects?2eech?2mo@
  00034	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@KHBEEGFH@active_screen?5?$DN?$DN?5video_screen@
  00039	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN7@ui_display:

; 1362 : 
; 1363 : 	//	if ( begin_3d_scene () )
; 1364 : 		{
; 1365 : 
; 1366 : 			if (!text)

  0003e	83 7d 08 00	 cmp	 DWORD PTR _text$[ebp], 0
  00042	75 07		 jne	 SHORT $LN8@ui_display

; 1367 : 			{
; 1368 : 
; 1369 : 				return 0;

  00044	d9 ee		 fldz
  00046	e9 df 0b 00 00	 jmp	 $LN6@ui_display
$LN8@ui_display:

; 1370 : 			}
; 1371 : 
; 1372 : 			//
; 1373 : 			// setup stuff
; 1374 : 			//
; 1375 : 
; 1376 : 			x += ui_x_origin;

  0004b	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _x$[ebp]
  00050	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?ui_x_origin@@3MA
  00058	f3 0f 11 45 0c	 movss	 DWORD PTR _x$[ebp], xmm0

; 1377 : 
; 1378 : 			y += ui_y_origin;

  0005d	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _y$[ebp]
  00062	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?ui_y_origin@@3MA
  0006a	f3 0f 11 45 10	 movss	 DWORD PTR _y$[ebp], xmm0

; 1379 : 
; 1380 : 			convert_float_to_int ( x, &ix );

  0006f	8d 45 f4	 lea	 eax, DWORD PTR _ix$22[ebp]
  00072	50		 push	 eax
  00073	51		 push	 ecx
  00074	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _x$[ebp]
  00079	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0007e	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int

; 1381 : 			convert_float_to_int ( y, &iy );

  00083	8d 45 f0	 lea	 eax, DWORD PTR _iy$21[ebp]
  00086	50		 push	 eax
  00087	51		 push	 ecx
  00088	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _y$[ebp]
  0008d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00092	e8 00 00 00 00	 call	 ?convert_float_to_int@@YGXMPAH@Z ; convert_float_to_int

; 1382 : 
; 1383 : 			x = ix;

  00097	f3 0f 2a 45 f4	 cvtsi2ss xmm0, DWORD PTR _ix$22[ebp]
  0009c	f3 0f 11 45 0c	 movss	 DWORD PTR _x$[ebp], xmm0

; 1384 : 			y = iy;

  000a1	f3 0f 2a 45 f0	 cvtsi2ss xmm0, DWORD PTR _iy$21[ebp]
  000a6	f3 0f 11 45 10	 movss	 DWORD PTR _y$[ebp], xmm0

; 1385 : 
; 1386 : 			original_x_position = x;

  000ab	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _x$[ebp]
  000b0	f3 0f 11 45 d4	 movss	 DWORD PTR _original_x_position$14[ebp], xmm0

; 1387 : 
; 1388 : 			text_ptr = text;

  000b5	8b 45 08	 mov	 eax, DWORD PTR _text$[ebp]
  000b8	89 45 d0	 mov	 DWORD PTR _text_ptr$13[ebp], eax

; 1389 : 
; 1390 : 			colour.red = current_font_colour.r;

  000bb	a0 02 00 00 00	 mov	 al, BYTE PTR ?current_font_colour@@3UREAL_COLOUR@@A+2
  000c0	88 45 9e	 mov	 BYTE PTR _colour$9[ebp+2], al

; 1391 : 			colour.green = current_font_colour.g;

  000c3	a0 01 00 00 00	 mov	 al, BYTE PTR ?current_font_colour@@3UREAL_COLOUR@@A+1
  000c8	88 45 9d	 mov	 BYTE PTR _colour$9[ebp+1], al

; 1392 : 			colour.blue = current_font_colour.b;

  000cb	a0 00 00 00 00	 mov	 al, BYTE PTR ?current_font_colour@@3UREAL_COLOUR@@A
  000d0	88 45 9c	 mov	 BYTE PTR _colour$9[ebp], al

; 1393 : 			colour.alpha = current_font_colour.a;

  000d3	a0 03 00 00 00	 mov	 al, BYTE PTR ?current_font_colour@@3UREAL_COLOUR@@A+3
  000d8	88 45 9f	 mov	 BYTE PTR _colour$9[ebp+3], al

; 1394 : 
; 1395 : 			shadow_colour.red = 0;

  000db	c6 45 9a 00	 mov	 BYTE PTR _shadow_colour$8[ebp+2], 0

; 1396 : 			shadow_colour.green = 0;

  000df	c6 45 99 00	 mov	 BYTE PTR _shadow_colour$8[ebp+1], 0

; 1397 : 			shadow_colour.blue = 0;

  000e3	c6 45 98 00	 mov	 BYTE PTR _shadow_colour$8[ebp], 0

; 1398 : 			shadow_colour.alpha = current_font_colour.a / 2;

  000e7	0f b6 05 03 00
	00 00		 movzx	 eax, BYTE PTR ?current_font_colour@@3UREAL_COLOUR@@A+3
  000ee	99		 cdq
  000ef	2b c2		 sub	 eax, edx
  000f1	d1 f8		 sar	 eax, 1
  000f3	88 45 9b	 mov	 BYTE PTR _shadow_colour$8[ebp+3], al

; 1399 : 
; 1400 : 			specular.red = 0;

  000f6	c6 45 96 00	 mov	 BYTE PTR _specular$7[ebp+2], 0

; 1401 : 			specular.green = 0;

  000fa	c6 45 95 00	 mov	 BYTE PTR _specular$7[ebp+1], 0

; 1402 : 			specular.blue = 0;

  000fe	c6 45 94 00	 mov	 BYTE PTR _specular$7[ebp], 0

; 1403 : 			specular.alpha = 255;

  00102	c6 45 97 ff	 mov	 BYTE PTR _specular$7[ebp+3], 255 ; 000000ffH

; 1404 : 
; 1405 : 			//
; 1406 : 			// Save old viewport values
; 1407 : 			//
; 1408 : 
; 1409 : 			old_active_viewport = active_viewport;

  00106	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_viewport@@3UVIEWPORT@@A
  0010b	89 45 c0	 mov	 DWORD PTR _old_active_viewport$12[ebp], eax
  0010e	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?active_viewport@@3UVIEWPORT@@A+4
  00114	89 4d c4	 mov	 DWORD PTR _old_active_viewport$12[ebp+4], ecx
  00117	8b 15 08 00 00
	00		 mov	 edx, DWORD PTR ?active_viewport@@3UVIEWPORT@@A+8
  0011d	89 55 c8	 mov	 DWORD PTR _old_active_viewport$12[ebp+8], edx
  00120	a1 0c 00 00 00	 mov	 eax, DWORD PTR ?active_viewport@@3UVIEWPORT@@A+12
  00125	89 45 cc	 mov	 DWORD PTR _old_active_viewport$12[ebp+12], eax

; 1410 : 
; 1411 : 			old_active_int_viewport = active_int_viewport;

  00128	a1 00 00 00 00	 mov	 eax, DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A
  0012d	89 45 a0	 mov	 DWORD PTR _old_active_int_viewport$10[ebp], eax
  00130	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A+4
  00136	89 4d a4	 mov	 DWORD PTR _old_active_int_viewport$10[ebp+4], ecx
  00139	8b 15 08 00 00
	00		 mov	 edx, DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A+8
  0013f	89 55 a8	 mov	 DWORD PTR _old_active_int_viewport$10[ebp+8], edx
  00142	a1 0c 00 00 00	 mov	 eax, DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A+12
  00147	89 45 ac	 mov	 DWORD PTR _old_active_int_viewport$10[ebp+12], eax

; 1412 : 
; 1413 : 			//
; 1414 : 			// Calculate new viewport settings
; 1415 : 			//
; 1416 : 
; 1417 : 			ox = ui_x_origin;

  0014a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?ui_x_origin@@3MA
  00152	f3 0f 11 45 fc	 movss	 DWORD PTR _ox$24[ebp], xmm0

; 1418 : 
; 1419 : 			oy = ui_y_origin;

  00157	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?ui_y_origin@@3MA
  0015f	f3 0f 11 45 f8	 movss	 DWORD PTR _oy$23[ebp], xmm0

; 1420 : 
; 1421 : 			ui_set_origin (0, 0);

  00164	51		 push	 ecx
  00165	0f 57 c0	 xorps	 xmm0, xmm0
  00168	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0016d	51		 push	 ecx
  0016e	0f 57 c0	 xorps	 xmm0, xmm0
  00171	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00176	e8 00 00 00 00	 call	 ?ui_set_origin@@YGXMM@Z	; ui_set_origin

; 1422 : 
; 1423 : 			ui_get_clip_area ( &new_viewport.x_min, &new_viewport.y_min, &new_viewport.x_max, &new_viewport.y_max );

  0017b	8d 45 bc	 lea	 eax, DWORD PTR _new_viewport$11[ebp+12]
  0017e	50		 push	 eax
  0017f	8d 4d b8	 lea	 ecx, DWORD PTR _new_viewport$11[ebp+8]
  00182	51		 push	 ecx
  00183	8d 55 b4	 lea	 edx, DWORD PTR _new_viewport$11[ebp+4]
  00186	52		 push	 edx
  00187	8d 45 b0	 lea	 eax, DWORD PTR _new_viewport$11[ebp]
  0018a	50		 push	 eax
  0018b	e8 00 00 00 00	 call	 ?ui_get_clip_area@@YGXPAM000@Z ; ui_get_clip_area

; 1424 : 
; 1425 : 			set_viewport ( new_viewport.x_min, new_viewport.y_min, new_viewport.x_max, new_viewport.y_max );

  00190	51		 push	 ecx
  00191	f3 0f 10 45 bc	 movss	 xmm0, DWORD PTR _new_viewport$11[ebp+12]
  00196	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0019b	51		 push	 ecx
  0019c	f3 0f 10 45 b8	 movss	 xmm0, DWORD PTR _new_viewport$11[ebp+8]
  001a1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a6	51		 push	 ecx
  001a7	f3 0f 10 45 b4	 movss	 xmm0, DWORD PTR _new_viewport$11[ebp+4]
  001ac	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001b1	51		 push	 ecx
  001b2	f3 0f 10 45 b0	 movss	 xmm0, DWORD PTR _new_viewport$11[ebp]
  001b7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001bc	e8 00 00 00 00	 call	 ?set_viewport@@YGXMMMM@Z ; set_viewport

; 1426 : 
; 1427 : 			ui_set_origin (ox, oy);

  001c1	51		 push	 ecx
  001c2	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _oy$23[ebp]
  001c7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001cc	51		 push	 ecx
  001cd	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _ox$24[ebp]
  001d2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001d7	e8 00 00 00 00	 call	 ?ui_set_origin@@YGXMM@Z	; ui_set_origin

; 1428 : 
; 1429 : 			//
; 1430 : 			// Set renderstates
; 1431 : 			//
; 1432 : 
; 1433 : 			texture = get_screen_texture ( current_font->screens[0] );

  001dc	b8 04 00 00 00	 mov	 eax, 4
  001e1	6b c8 00	 imul	 ecx, eax, 0
  001e4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  001ea	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  001ed	8b 0c 08	 mov	 ecx, DWORD PTR [eax+ecx]
  001f0	51		 push	 ecx
  001f1	e8 00 00 00 00	 call	 ?get_screen_texture@@YGPAUSCREEN@@PAU1@@Z ; get_screen_texture
  001f6	89 45 90	 mov	 DWORD PTR _texture$6[ebp], eax

; 1434 : 
; 1435 : 			set_d3d_gouraud_shaded_textured_renderstate ( texture );

  001f9	8b 45 90	 mov	 eax, DWORD PTR _texture$6[ebp]
  001fc	50		 push	 eax
  001fd	e8 00 00 00 00	 call	 ?set_d3d_gouraud_shaded_textured_renderstate@@YGXPAUSCREEN@@@Z ; set_d3d_gouraud_shaded_textured_renderstate

; 1436 : 
; 1437 : 			set_d3d_alpha_fog_zbuffer ( TRUE, FALSE, FALSE, FALSE );

  00202	6a 00		 push	 0
  00204	6a 00		 push	 0
  00206	6a 00		 push	 0
  00208	6a 01		 push	 1
  0020a	e8 00 00 00 00	 call	 ?set_d3d_alpha_fog_zbuffer@@YGXHHHH@Z ; set_d3d_alpha_fog_zbuffer

; 1438 : 
; 1439 : 			set_d3d_int_state ( D3DRENDERSTATE_SRCBLEND, D3DBLEND_SRCALPHA );

  0020f	6a 05		 push	 5
  00211	6a 13		 push	 19			; 00000013H
  00213	e8 00 00 00 00	 call	 ?set_d3d_int_state@@YGXW4_D3DRENDERSTATETYPE@@K@Z ; set_d3d_int_state

; 1440 : 			set_d3d_int_state ( D3DRENDERSTATE_DESTBLEND, D3DBLEND_INVSRCALPHA );

  00218	6a 06		 push	 6
  0021a	6a 14		 push	 20			; 00000014H
  0021c	e8 00 00 00 00	 call	 ?set_d3d_int_state@@YGXW4_D3DRENDERSTATETYPE@@K@Z ; set_d3d_int_state

; 1441 : 
; 1442 : 			set_d3d_int_state ( D3DRENDERSTATE_ZFUNC, D3DCMP_ALWAYS );

  00221	6a 08		 push	 8
  00223	6a 17		 push	 23			; 00000017H
  00225	e8 00 00 00 00	 call	 ?set_d3d_int_state@@YGXW4_D3DRENDERSTATETYPE@@K@Z ; set_d3d_int_state

; 1443 : 
; 1444 : 			set_d3d_texture_stage_state_immediate ( 0, D3DTSS_ADDRESSU, D3DTADDRESS_WRAP );

  0022a	6a 01		 push	 1
  0022c	6a 0d		 push	 13			; 0000000dH
  0022e	6a 00		 push	 0
  00230	e8 00 00 00 00	 call	 ?set_d3d_texture_stage_state_immediate@@YGXHHH@Z ; set_d3d_texture_stage_state_immediate

; 1445 : 			set_d3d_texture_stage_state_immediate ( 0, D3DTSS_ADDRESSV, D3DTADDRESS_WRAP );

  00235	6a 01		 push	 1
  00237	6a 0e		 push	 14			; 0000000eH
  00239	6a 00		 push	 0
  0023b	e8 00 00 00 00	 call	 ?set_d3d_texture_stage_state_immediate@@YGXHHH@Z ; set_d3d_texture_stage_state_immediate

; 1446 : 
; 1447 : 			set_d3d_texture_stage_state_immediate ( 0, D3DTSS_MAGFILTER, D3DTFG_POINT );

  00240	6a 01		 push	 1
  00242	6a 10		 push	 16			; 00000010H
  00244	6a 00		 push	 0
  00246	e8 00 00 00 00	 call	 ?set_d3d_texture_stage_state_immediate@@YGXHHH@Z ; set_d3d_texture_stage_state_immediate

; 1448 : 			set_d3d_texture_stage_state_immediate ( 0, D3DTSS_MINFILTER, D3DTFN_POINT );

  0024b	6a 01		 push	 1
  0024d	6a 11		 push	 17			; 00000011H
  0024f	6a 00		 push	 0
  00251	e8 00 00 00 00	 call	 ?set_d3d_texture_stage_state_immediate@@YGXHHH@Z ; set_d3d_texture_stage_state_immediate

; 1449 : 			set_d3d_texture_stage_state_immediate ( 0, D3DTSS_MIPFILTER, D3DTFP_NONE );

  00256	6a 01		 push	 1
  00258	6a 12		 push	 18			; 00000012H
  0025a	6a 00		 push	 0
  0025c	e8 00 00 00 00	 call	 ?set_d3d_texture_stage_state_immediate@@YGXHHH@Z ; set_d3d_texture_stage_state_immediate

; 1450 : 
; 1451 : 			//
; 1452 : 			// loop the whole string
; 1453 : 			//
; 1454 : 
; 1455 : 			for (loop_string = strlen (text); loop_string > 0; loop_string --)

  00261	8b 45 08	 mov	 eax, DWORD PTR _text$[ebp]
  00264	50		 push	 eax
  00265	e8 00 00 00 00	 call	 _strlen
  0026a	83 c4 04	 add	 esp, 4
  0026d	89 45 ec	 mov	 DWORD PTR _loop_string$20[ebp], eax
  00270	eb 09		 jmp	 SHORT $LN4@ui_display
$LN2@ui_display:
  00272	8b 45 ec	 mov	 eax, DWORD PTR _loop_string$20[ebp]
  00275	83 e8 01	 sub	 eax, 1
  00278	89 45 ec	 mov	 DWORD PTR _loop_string$20[ebp], eax
$LN4@ui_display:
  0027b	83 7d ec 00	 cmp	 DWORD PTR _loop_string$20[ebp], 0
  0027f	0f 8e 3e 09 00
	00		 jle	 $LN3@ui_display

; 1456 : 			{
; 1457 : 
; 1458 : 				vertex
; 1459 : 					quad[4];
; 1460 : 
; 1461 : 				int
; 1462 : 					outcode,
; 1463 : 					outcode2;
; 1464 : 
; 1465 : 				//
; 1466 : 				// work out what char
; 1467 : 				//
; 1468 : 
; 1469 : 				character = &current_font->characters[(int)*text_ptr];

  00285	8b 45 d0	 mov	 eax, DWORD PTR _text_ptr$13[ebp]
  00288	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  0028b	6b d1 24	 imul	 edx, ecx, 36
  0028e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  00293	8d 4c 10 3c	 lea	 ecx, DWORD PTR [eax+edx+60]
  00297	89 4d e8	 mov	 DWORD PTR _character$19[ebp], ecx

; 1470 : 
; 1471 : 				if ( !character->valid )

  0029a	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  0029d	0f b6 48 03	 movzx	 ecx, BYTE PTR [eax+3]
  002a1	85 c9		 test	 ecx, ecx
  002a3	75 05		 jne	 SHORT $LN9@ui_display

; 1472 : 				{
; 1473 : 
; 1474 : 					break;

  002a5	e9 19 09 00 00	 jmp	 $LN3@ui_display
$LN9@ui_display:

; 1475 : 	/*
; 1476 : 					if (*text_ptr == 10)
; 1477 : 					{
; 1478 : 
; 1479 : 						y += ui_get_font_height ();
; 1480 : 
; 1481 : 						x = original_x_position;
; 1482 : 					}
; 1483 : 
; 1484 : 					text_ptr ++;
; 1485 : 
; 1486 : 					continue;
; 1487 : 					*/
; 1488 : 				}
; 1489 : 
; 1490 : 				//
; 1491 : 				// starting position for char in viewport coords
; 1492 : 				//
; 1493 : 
; 1494 : 				char_start_x = x + character->abcA;

  002aa	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  002ad	f3 0f 2a 40 04	 cvtsi2ss xmm0, DWORD PTR [eax+4]
  002b2	f3 0f 58 45 0c	 addss	 xmm0, DWORD PTR _x$[ebp]
  002b7	f3 0f 11 45 dc	 movss	 DWORD PTR _char_start_x$16[ebp], xmm0

; 1495 : 
; 1496 : 				char_start_y = y;

  002bc	f3 0f 10 45 10	 movss	 xmm0, DWORD PTR _y$[ebp]
  002c1	f3 0f 11 45 d8	 movss	 DWORD PTR _char_start_y$15[ebp], xmm0

; 1497 : 
; 1498 : 				//
; 1499 : 				// calculate end of char in viewport coords
; 1500 : 				//
; 1501 : 
; 1502 : 				char_end_x = char_start_x + character->width+1;	//current_font->letter_data [index].width;

  002c6	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  002c9	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  002cc	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  002d0	f3 0f 58 45 dc	 addss	 xmm0, DWORD PTR _char_start_x$16[ebp]
  002d5	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  002dd	f3 0f 11 45 e4	 movss	 DWORD PTR _char_end_x$18[ebp], xmm0

; 1503 : //				char_end_x = char_start_x + character->width;	//current_font->letter_data [index].width;
; 1504 : 
; 1505 : 				char_end_y = char_start_y + character->height;	//current_font->font_height;

  002e2	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  002e5	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  002e9	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  002ed	f3 0f 58 45 d8	 addss	 xmm0, DWORD PTR _char_start_y$15[ebp]
  002f2	f3 0f 11 45 e0	 movss	 DWORD PTR _char_end_y$17[ebp], xmm0

; 1506 : 
; 1507 : 				quad[0].u = character->u1;

  002f7	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002fc	6b c8 00	 imul	 ecx, eax, 0
  002ff	8b 55 e8	 mov	 edx, DWORD PTR _character$19[ebp]
  00302	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00305	89 84 0d a8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+ecx+24], eax

; 1508 : 				quad[0].v = character->v1;

  0030c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00311	6b c8 00	 imul	 ecx, eax, 0
  00314	8b 55 e8	 mov	 edx, DWORD PTR _character$19[ebp]
  00317	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  0031a	89 84 0d ac fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+ecx+28], eax

; 1509 : 				quad[0].q = 0.1;

  00321	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00326	6b c8 00	 imul	 ecx, eax, 0
  00329	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00331	f3 0f 11 84 0d
	9c fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+12], xmm0

; 1510 : 				quad[0].z = 100;

  0033a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0033f	6b c8 00	 imul	 ecx, eax, 0
  00342	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42c80000
  0034a	f3 0f 11 84 0d
	98 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+8], xmm0

; 1511 : 
; 1512 : 				quad[1].u = character->u2;

  00353	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00358	c1 e0 00	 shl	 eax, 0
  0035b	8b 4d e8	 mov	 ecx, DWORD PTR _character$19[ebp]
  0035e	8b 51 18	 mov	 edx, DWORD PTR [ecx+24]
  00361	89 94 05 a8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+24], edx

; 1513 : 				quad[1].v = character->v1;

  00368	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0036d	c1 e0 00	 shl	 eax, 0
  00370	8b 4d e8	 mov	 ecx, DWORD PTR _character$19[ebp]
  00373	8b 51 14	 mov	 edx, DWORD PTR [ecx+20]
  00376	89 94 05 ac fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+28], edx

; 1514 : 				quad[1].q = 0.1;

  0037d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00382	c1 e0 00	 shl	 eax, 0
  00385	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  0038d	f3 0f 11 84 05
	9c fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+12], xmm0

; 1515 : 				quad[1].z = 100;

  00396	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0039b	c1 e0 00	 shl	 eax, 0
  0039e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42c80000
  003a6	f3 0f 11 84 05
	98 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+8], xmm0

; 1516 : 
; 1517 : 				quad[2].u = character->u2;

  003af	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003b4	d1 e0		 shl	 eax, 1
  003b6	8b 4d e8	 mov	 ecx, DWORD PTR _character$19[ebp]
  003b9	8b 51 18	 mov	 edx, DWORD PTR [ecx+24]
  003bc	89 94 05 a8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+24], edx

; 1518 : 				quad[2].v = character->v2;

  003c3	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003c8	d1 e0		 shl	 eax, 1
  003ca	8b 4d e8	 mov	 ecx, DWORD PTR _character$19[ebp]
  003cd	8b 51 1c	 mov	 edx, DWORD PTR [ecx+28]
  003d0	89 94 05 ac fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+28], edx

; 1519 : 				quad[2].q = 0.1;

  003d7	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003dc	d1 e0		 shl	 eax, 1
  003de	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  003e6	f3 0f 11 84 05
	9c fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+12], xmm0

; 1520 : 				quad[2].z = 100;

  003ef	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003f4	d1 e0		 shl	 eax, 1
  003f6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42c80000
  003fe	f3 0f 11 84 05
	98 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+8], xmm0

; 1521 : 
; 1522 : 				quad[3].u = character->u1;

  00407	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0040c	6b c8 03	 imul	 ecx, eax, 3
  0040f	8b 55 e8	 mov	 edx, DWORD PTR _character$19[ebp]
  00412	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00415	89 84 0d a8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+ecx+24], eax

; 1523 : 				quad[3].v = character->v2;

  0041c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00421	6b c8 03	 imul	 ecx, eax, 3
  00424	8b 55 e8	 mov	 edx, DWORD PTR _character$19[ebp]
  00427	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0042a	89 84 0d ac fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+ecx+28], eax

; 1524 : 				quad[3].q = 0.1;

  00431	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00436	6b c8 03	 imul	 ecx, eax, 3
  00439	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  00441	f3 0f 11 84 0d
	9c fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+12], xmm0

; 1525 : 				quad[3].z = 100;

  0044a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0044f	6b c8 03	 imul	 ecx, eax, 3
  00452	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42c80000
  0045a	f3 0f 11 84 0d
	98 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+8], xmm0

; 1526 : 
; 1527 : 				if ( current_font->font_dropshadow )

  00463	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  00468	83 78 28 00	 cmp	 DWORD PTR [eax+40], 0
  0046c	0f 84 a6 03 00
	00		 je	 $LN13@ui_display

; 1528 : 				{
; 1529 : 
; 1530 : 					quad[0].i = char_start_x + 1;

  00472	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _char_start_x$16[ebp]
  00477	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  0047f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00484	6b c8 00	 imul	 ecx, eax, 0
  00487	f3 0f 11 84 0d
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+16], xmm0

; 1531 : 					quad[0].j = char_start_y + 1;

  00490	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _char_start_y$15[ebp]
  00495	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  0049d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004a2	6b c8 00	 imul	 ecx, eax, 0
  004a5	f3 0f 11 84 0d
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+20], xmm0

; 1532 : 					quad[0].next_vertex = &quad[1];

  004ae	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004b3	c1 e0 00	 shl	 eax, 0
  004b6	8d 8c 05 90 fe
	ff ff		 lea	 ecx, DWORD PTR _quad$5[ebp+eax]
  004bd	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  004c2	6b c2 00	 imul	 eax, edx, 0
  004c5	89 8c 05 b8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+40], ecx

; 1533 : 
; 1534 : 					quad[1].i = char_end_x + 1;

  004cc	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _char_end_x$18[ebp]
  004d1	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  004d9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004de	c1 e0 00	 shl	 eax, 0
  004e1	f3 0f 11 84 05
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+16], xmm0

; 1535 : 					quad[1].j = char_start_y + 1;

  004ea	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _char_start_y$15[ebp]
  004ef	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  004f7	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004fc	c1 e0 00	 shl	 eax, 0
  004ff	f3 0f 11 84 05
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+20], xmm0

; 1536 : 					quad[1].next_vertex = &quad[2];

  00508	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0050d	d1 e0		 shl	 eax, 1
  0050f	8d 8c 05 90 fe
	ff ff		 lea	 ecx, DWORD PTR _quad$5[ebp+eax]
  00516	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  0051b	c1 e2 00	 shl	 edx, 0
  0051e	89 8c 15 b8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+edx+40], ecx

; 1537 : 
; 1538 : 					quad[2].i = char_end_x + 1;

  00525	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _char_end_x$18[ebp]
  0052a	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  00532	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00537	d1 e0		 shl	 eax, 1
  00539	f3 0f 11 84 05
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+16], xmm0

; 1539 : 					quad[2].j = char_end_y + 1;

  00542	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _char_end_y$17[ebp]
  00547	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  0054f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00554	d1 e0		 shl	 eax, 1
  00556	f3 0f 11 84 05
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+20], xmm0

; 1540 : 					quad[2].next_vertex = &quad[3];

  0055f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00564	6b c8 03	 imul	 ecx, eax, 3
  00567	8d 94 0d 90 fe
	ff ff		 lea	 edx, DWORD PTR _quad$5[ebp+ecx]
  0056e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00573	d1 e0		 shl	 eax, 1
  00575	89 94 05 b8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+40], edx

; 1541 : 
; 1542 : 					quad[3].i = char_start_x + 1;

  0057c	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _char_start_x$16[ebp]
  00581	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  00589	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0058e	6b c8 03	 imul	 ecx, eax, 3
  00591	f3 0f 11 84 0d
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+16], xmm0

; 1543 : 					quad[3].j = char_end_y + 1;

  0059a	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _char_end_y$17[ebp]
  0059f	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  005a7	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  005ac	6b c8 03	 imul	 ecx, eax, 3
  005af	f3 0f 11 84 0d
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+20], xmm0

; 1544 : 					quad[3].next_vertex = NULL;

  005b8	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  005bd	6b c8 03	 imul	 ecx, eax, 3
  005c0	c7 84 0d b8 fe
	ff ff 00 00 00
	00		 mov	 DWORD PTR _quad$5[ebp+ecx+40], 0

; 1545 : 
; 1546 : 					quad[0].outcode = generate_outcode ( quad[0].i, quad[0].j );

  005cb	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  005d0	6b c8 00	 imul	 ecx, eax, 0
  005d3	51		 push	 ecx
  005d4	f3 0f 10 84 0d
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+20]
  005dd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005e2	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  005e7	6b c2 00	 imul	 eax, edx, 0
  005ea	51		 push	 ecx
  005eb	f3 0f 10 84 05
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+16]
  005f4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005f9	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  005fe	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00603	6b d1 00	 imul	 edx, ecx, 0
  00606	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1547 : 					quad[1].outcode = generate_outcode ( quad[1].i, quad[1].j );

  0060d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00612	c1 e0 00	 shl	 eax, 0
  00615	51		 push	 ecx
  00616	f3 0f 10 84 05
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+20]
  0061f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00624	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00629	c1 e1 00	 shl	 ecx, 0
  0062c	51		 push	 ecx
  0062d	f3 0f 10 84 0d
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+16]
  00636	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0063b	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  00640	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  00645	c1 e2 00	 shl	 edx, 0
  00648	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1548 : 					quad[2].outcode = generate_outcode ( quad[2].i, quad[2].j );

  0064f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00654	d1 e0		 shl	 eax, 1
  00656	51		 push	 ecx
  00657	f3 0f 10 84 05
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+20]
  00660	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00665	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0066a	d1 e1		 shl	 ecx, 1
  0066c	51		 push	 ecx
  0066d	f3 0f 10 84 0d
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+16]
  00676	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0067b	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  00680	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  00685	d1 e2		 shl	 edx, 1
  00687	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1549 : 					quad[3].outcode = generate_outcode ( quad[3].i, quad[3].j );

  0068e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00693	6b c8 03	 imul	 ecx, eax, 3
  00696	51		 push	 ecx
  00697	f3 0f 10 84 0d
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+20]
  006a0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006a5	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  006aa	6b c2 03	 imul	 eax, edx, 3
  006ad	51		 push	 ecx
  006ae	f3 0f 10 84 05
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+16]
  006b7	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006bc	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  006c1	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  006c6	6b d1 03	 imul	 edx, ecx, 3
  006c9	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1550 : 
; 1551 : 					//
; 1552 : 					// Draw the character
; 1553 : 					//
; 1554 : 
; 1555 : 					outcode = quad[0].outcode;

  006d0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  006d5	6b c8 00	 imul	 ecx, eax, 0
  006d8	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  006e0	89 95 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], edx

; 1556 : 					outcode2 = quad[0].outcode;

  006e6	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  006eb	6b c8 00	 imul	 ecx, eax, 0
  006ee	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  006f6	89 95 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], edx

; 1557 : 
; 1558 : 					outcode |= quad[1].outcode;

  006fc	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00701	c1 e0 00	 shl	 eax, 0
  00704	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  0070c	0b 8d 8c fe ff
	ff		 or	 ecx, DWORD PTR _outcode$4[ebp]
  00712	89 8d 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], ecx

; 1559 : 					outcode2 &= quad[1].outcode;

  00718	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0071d	c1 e0 00	 shl	 eax, 0
  00720	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  00728	23 8d 88 fe ff
	ff		 and	 ecx, DWORD PTR _outcode2$3[ebp]
  0072e	89 8d 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], ecx

; 1560 : 
; 1561 : 					outcode |= quad[2].outcode;

  00734	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00739	d1 e0		 shl	 eax, 1
  0073b	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  00743	0b 8d 8c fe ff
	ff		 or	 ecx, DWORD PTR _outcode$4[ebp]
  00749	89 8d 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], ecx

; 1562 : 					outcode2 &= quad[2].outcode;

  0074f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00754	d1 e0		 shl	 eax, 1
  00756	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  0075e	23 8d 88 fe ff
	ff		 and	 ecx, DWORD PTR _outcode2$3[ebp]
  00764	89 8d 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], ecx

; 1563 : 
; 1564 : 					outcode |= quad[3].outcode;

  0076a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0076f	6b c8 03	 imul	 ecx, eax, 3
  00772	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  0077a	0b 95 8c fe ff
	ff		 or	 edx, DWORD PTR _outcode$4[ebp]
  00780	89 95 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], edx

; 1565 : 					outcode2 &= quad[3].outcode;

  00786	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0078b	6b c8 03	 imul	 ecx, eax, 3
  0078e	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  00796	23 95 88 fe ff
	ff		 and	 edx, DWORD PTR _outcode2$3[ebp]
  0079c	89 95 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], edx

; 1566 : 
; 1567 : 					if ( outcode2 == 0 )

  007a2	75 74		 jne	 SHORT $LN13@ui_display

; 1568 : 					{
; 1569 : 
; 1570 : 						vertex
; 1571 : 							*poly;
; 1572 : 
; 1573 : 						clip_3d_coord = 0;

  007a4	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 1574 : 
; 1575 : 						poly = quad;

  007ae	8d 85 90 fe ff
	ff		 lea	 eax, DWORD PTR _quad$5[ebp]
  007b4	89 85 84 fe ff
	ff		 mov	 DWORD PTR _poly$2[ebp], eax

; 1576 : 
; 1577 : 						if ( outcode )

  007ba	83 bd 8c fe ff
	ff 00		 cmp	 DWORD PTR _outcode$4[ebp], 0
  007c1	74 19		 je	 SHORT $LN12@ui_display

; 1578 : 						{
; 1579 : 
; 1580 : 							poly = clip_3d_polygon ( poly, outcode );

  007c3	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _outcode$4[ebp]
  007c9	50		 push	 eax
  007ca	8b 8d 84 fe ff
	ff		 mov	 ecx, DWORD PTR _poly$2[ebp]
  007d0	51		 push	 ecx
  007d1	e8 00 00 00 00	 call	 ?clip_3d_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_polygon
  007d6	89 85 84 fe ff
	ff		 mov	 DWORD PTR _poly$2[ebp], eax
$LN12@ui_display:

; 1581 : 						}
; 1582 : 
; 1583 : 						if ( poly )

  007dc	83 bd 84 fe ff
	ff 00		 cmp	 DWORD PTR _poly$2[ebp], 0
  007e3	74 33		 je	 SHORT $LN13@ui_display

; 1584 : 						{
; 1585 : 
; 1586 : 							set_d3d_gouraud_shaded_textured_renderstate ( get_screen_texture ( current_font->screens[character->screen_index] ) );

  007e5	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  007e8	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  007ec	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  007f2	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  007f5	8b 0c 88	 mov	 ecx, DWORD PTR [eax+ecx*4]
  007f8	51		 push	 ecx
  007f9	e8 00 00 00 00	 call	 ?get_screen_texture@@YGPAUSCREEN@@PAU1@@Z ; get_screen_texture
  007fe	50		 push	 eax
  007ff	e8 00 00 00 00	 call	 ?set_d3d_gouraud_shaded_textured_renderstate@@YGXPAUSCREEN@@@Z ; set_d3d_gouraud_shaded_textured_renderstate

; 1587 : 
; 1588 : 							draw_wbuffered_flat_shaded_textured_polygon ( poly, shadow_colour, specular );	//, colour, specular );

  00804	8b 45 94	 mov	 eax, DWORD PTR _specular$7[ebp]
  00807	50		 push	 eax
  00808	8b 4d 98	 mov	 ecx, DWORD PTR _shadow_colour$8[ebp]
  0080b	51		 push	 ecx
  0080c	8b 95 84 fe ff
	ff		 mov	 edx, DWORD PTR _poly$2[ebp]
  00812	52		 push	 edx
  00813	e8 00 00 00 00	 call	 ?draw_wbuffered_flat_shaded_textured_polygon@@YGXPAUVERTEX@@UREAL_COLOUR@@1@Z ; draw_wbuffered_flat_shaded_textured_polygon
$LN13@ui_display:

; 1589 : 						}
; 1590 : 					}
; 1591 : 				}
; 1592 : 				//
; 1593 : 				// Set up quad vertices
; 1594 : 				//
; 1595 : 
; 1596 : 				quad[0].i = char_start_x;

  00818	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0081d	6b c8 00	 imul	 ecx, eax, 0
  00820	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _char_start_x$16[ebp]
  00825	f3 0f 11 84 0d
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+16], xmm0

; 1597 : 				quad[0].j = char_start_y;

  0082e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00833	6b c8 00	 imul	 ecx, eax, 0
  00836	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _char_start_y$15[ebp]
  0083b	f3 0f 11 84 0d
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+20], xmm0

; 1598 : 				quad[0].next_vertex = &quad[1];

  00844	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00849	c1 e0 00	 shl	 eax, 0
  0084c	8d 8c 05 90 fe
	ff ff		 lea	 ecx, DWORD PTR _quad$5[ebp+eax]
  00853	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  00858	6b c2 00	 imul	 eax, edx, 0
  0085b	89 8c 05 b8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+40], ecx

; 1599 : 
; 1600 : 				quad[1].i = char_end_x;

  00862	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00867	c1 e0 00	 shl	 eax, 0
  0086a	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _char_end_x$18[ebp]
  0086f	f3 0f 11 84 05
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+16], xmm0

; 1601 : 				quad[1].j = char_start_y;

  00878	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0087d	c1 e0 00	 shl	 eax, 0
  00880	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _char_start_y$15[ebp]
  00885	f3 0f 11 84 05
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+20], xmm0

; 1602 : 				quad[1].next_vertex = &quad[2];

  0088e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00893	d1 e0		 shl	 eax, 1
  00895	8d 8c 05 90 fe
	ff ff		 lea	 ecx, DWORD PTR _quad$5[ebp+eax]
  0089c	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  008a1	c1 e2 00	 shl	 edx, 0
  008a4	89 8c 15 b8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+edx+40], ecx

; 1603 : 
; 1604 : 				quad[2].i = char_end_x;

  008ab	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  008b0	d1 e0		 shl	 eax, 1
  008b2	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _char_end_x$18[ebp]
  008b7	f3 0f 11 84 05
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+16], xmm0

; 1605 : 				quad[2].j = char_end_y;

  008c0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  008c5	d1 e0		 shl	 eax, 1
  008c7	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _char_end_y$17[ebp]
  008cc	f3 0f 11 84 05
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+eax+20], xmm0

; 1606 : 				quad[2].next_vertex = &quad[3];

  008d5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  008da	6b c8 03	 imul	 ecx, eax, 3
  008dd	8d 94 0d 90 fe
	ff ff		 lea	 edx, DWORD PTR _quad$5[ebp+ecx]
  008e4	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  008e9	d1 e0		 shl	 eax, 1
  008eb	89 94 05 b8 fe
	ff ff		 mov	 DWORD PTR _quad$5[ebp+eax+40], edx

; 1607 : 
; 1608 : 				quad[3].i = char_start_x;

  008f2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  008f7	6b c8 03	 imul	 ecx, eax, 3
  008fa	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _char_start_x$16[ebp]
  008ff	f3 0f 11 84 0d
	a0 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+16], xmm0

; 1609 : 				quad[3].j = char_end_y;

  00908	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0090d	6b c8 03	 imul	 ecx, eax, 3
  00910	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _char_end_y$17[ebp]
  00915	f3 0f 11 84 0d
	a4 fe ff ff	 movss	 DWORD PTR _quad$5[ebp+ecx+20], xmm0

; 1610 : 				quad[3].next_vertex = NULL;

  0091e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00923	6b c8 03	 imul	 ecx, eax, 3
  00926	c7 84 0d b8 fe
	ff ff 00 00 00
	00		 mov	 DWORD PTR _quad$5[ebp+ecx+40], 0

; 1611 : 
; 1612 : 				quad[0].outcode = generate_outcode ( quad[0].i, quad[0].j );

  00931	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00936	6b c8 00	 imul	 ecx, eax, 0
  00939	51		 push	 ecx
  0093a	f3 0f 10 84 0d
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+20]
  00943	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00948	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  0094d	6b c2 00	 imul	 eax, edx, 0
  00950	51		 push	 ecx
  00951	f3 0f 10 84 05
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+16]
  0095a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0095f	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  00964	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00969	6b d1 00	 imul	 edx, ecx, 0
  0096c	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1613 : 				quad[1].outcode = generate_outcode ( quad[1].i, quad[1].j );

  00973	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00978	c1 e0 00	 shl	 eax, 0
  0097b	51		 push	 ecx
  0097c	f3 0f 10 84 05
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+20]
  00985	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0098a	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0098f	c1 e1 00	 shl	 ecx, 0
  00992	51		 push	 ecx
  00993	f3 0f 10 84 0d
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+16]
  0099c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009a1	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  009a6	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  009ab	c1 e2 00	 shl	 edx, 0
  009ae	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1614 : 				quad[2].outcode = generate_outcode ( quad[2].i, quad[2].j );

  009b5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  009ba	d1 e0		 shl	 eax, 1
  009bc	51		 push	 ecx
  009bd	f3 0f 10 84 05
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+20]
  009c6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009cb	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  009d0	d1 e1		 shl	 ecx, 1
  009d2	51		 push	 ecx
  009d3	f3 0f 10 84 0d
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+16]
  009dc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  009e1	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  009e6	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  009eb	d1 e2		 shl	 edx, 1
  009ed	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1615 : 				quad[3].outcode = generate_outcode ( quad[3].i, quad[3].j );

  009f4	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  009f9	6b c8 03	 imul	 ecx, eax, 3
  009fc	51		 push	 ecx
  009fd	f3 0f 10 84 0d
	a4 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+ecx+20]
  00a06	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a0b	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  00a10	6b c2 03	 imul	 eax, edx, 3
  00a13	51		 push	 ecx
  00a14	f3 0f 10 84 05
	a0 fe ff ff	 movss	 xmm0, DWORD PTR _quad$5[ebp+eax+16]
  00a1d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00a22	e8 00 00 00 00	 call	 ?generate_outcode@@YGHMM@Z ; generate_outcode
  00a27	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00a2c	6b d1 03	 imul	 edx, ecx, 3
  00a2f	88 84 15 bc fe
	ff ff		 mov	 BYTE PTR _quad$5[ebp+edx+44], al

; 1616 : 
; 1617 : 				//
; 1618 : 				// Draw the character
; 1619 : 				//
; 1620 : 
; 1621 : 				outcode = quad[0].outcode;

  00a36	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00a3b	6b c8 00	 imul	 ecx, eax, 0
  00a3e	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  00a46	89 95 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], edx

; 1622 : 				outcode2 = quad[0].outcode;

  00a4c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00a51	6b c8 00	 imul	 ecx, eax, 0
  00a54	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  00a5c	89 95 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], edx

; 1623 : 
; 1624 : 				outcode |= quad[1].outcode;

  00a62	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00a67	c1 e0 00	 shl	 eax, 0
  00a6a	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  00a72	0b 8d 8c fe ff
	ff		 or	 ecx, DWORD PTR _outcode$4[ebp]
  00a78	89 8d 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], ecx

; 1625 : 				outcode2 &= quad[1].outcode;

  00a7e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00a83	c1 e0 00	 shl	 eax, 0
  00a86	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  00a8e	23 8d 88 fe ff
	ff		 and	 ecx, DWORD PTR _outcode2$3[ebp]
  00a94	89 8d 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], ecx

; 1626 : 
; 1627 : 				outcode |= quad[2].outcode;

  00a9a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00a9f	d1 e0		 shl	 eax, 1
  00aa1	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  00aa9	0b 8d 8c fe ff
	ff		 or	 ecx, DWORD PTR _outcode$4[ebp]
  00aaf	89 8d 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], ecx

; 1628 : 				outcode2 &= quad[2].outcode;

  00ab5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00aba	d1 e0		 shl	 eax, 1
  00abc	0f b6 8c 05 bc
	fe ff ff	 movzx	 ecx, BYTE PTR _quad$5[ebp+eax+44]
  00ac4	23 8d 88 fe ff
	ff		 and	 ecx, DWORD PTR _outcode2$3[ebp]
  00aca	89 8d 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], ecx

; 1629 : 
; 1630 : 				outcode |= quad[3].outcode;

  00ad0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00ad5	6b c8 03	 imul	 ecx, eax, 3
  00ad8	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  00ae0	0b 95 8c fe ff
	ff		 or	 edx, DWORD PTR _outcode$4[ebp]
  00ae6	89 95 8c fe ff
	ff		 mov	 DWORD PTR _outcode$4[ebp], edx

; 1631 : 				outcode2 &= quad[3].outcode;

  00aec	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00af1	6b c8 03	 imul	 ecx, eax, 3
  00af4	0f b6 94 0d bc
	fe ff ff	 movzx	 edx, BYTE PTR _quad$5[ebp+ecx+44]
  00afc	23 95 88 fe ff
	ff		 and	 edx, DWORD PTR _outcode2$3[ebp]
  00b02	89 95 88 fe ff
	ff		 mov	 DWORD PTR _outcode2$3[ebp], edx

; 1632 : 
; 1633 : 				if ( outcode2 == 0 )

  00b08	75 74		 jne	 SHORT $LN16@ui_display

; 1634 : 				{
; 1635 : 
; 1636 : 					vertex
; 1637 : 						*poly;
; 1638 : 
; 1639 : 					clip_3d_coord = 0;

  00b0a	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?clip_3d_coord@@3HA, 0 ; clip_3d_coord

; 1640 : 
; 1641 : 					poly = quad;

  00b14	8d 85 90 fe ff
	ff		 lea	 eax, DWORD PTR _quad$5[ebp]
  00b1a	89 85 80 fe ff
	ff		 mov	 DWORD PTR _poly$1[ebp], eax

; 1642 : 
; 1643 : 					if ( outcode )

  00b20	83 bd 8c fe ff
	ff 00		 cmp	 DWORD PTR _outcode$4[ebp], 0
  00b27	74 19		 je	 SHORT $LN15@ui_display

; 1644 : 					{
; 1645 : 
; 1646 : 						poly = clip_3d_polygon ( poly, outcode );

  00b29	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _outcode$4[ebp]
  00b2f	50		 push	 eax
  00b30	8b 8d 80 fe ff
	ff		 mov	 ecx, DWORD PTR _poly$1[ebp]
  00b36	51		 push	 ecx
  00b37	e8 00 00 00 00	 call	 ?clip_3d_polygon@@YGPAUVERTEX@@PAU1@H@Z ; clip_3d_polygon
  00b3c	89 85 80 fe ff
	ff		 mov	 DWORD PTR _poly$1[ebp], eax
$LN15@ui_display:

; 1647 : 					}
; 1648 : 
; 1649 : 					if ( poly )

  00b42	83 bd 80 fe ff
	ff 00		 cmp	 DWORD PTR _poly$1[ebp], 0
  00b49	74 33		 je	 SHORT $LN16@ui_display

; 1650 : 					{
; 1651 : 
; 1652 : 						set_d3d_gouraud_shaded_textured_renderstate ( get_screen_texture ( current_font->screens[character->screen_index] ) );

  00b4b	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  00b4e	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00b52	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_font@@3PAUUI_FONT_TYPE@@A ; current_font
  00b58	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00b5b	8b 0c 88	 mov	 ecx, DWORD PTR [eax+ecx*4]
  00b5e	51		 push	 ecx
  00b5f	e8 00 00 00 00	 call	 ?get_screen_texture@@YGPAUSCREEN@@PAU1@@Z ; get_screen_texture
  00b64	50		 push	 eax
  00b65	e8 00 00 00 00	 call	 ?set_d3d_gouraud_shaded_textured_renderstate@@YGXPAUSCREEN@@@Z ; set_d3d_gouraud_shaded_textured_renderstate

; 1653 : 
; 1654 : 						draw_wbuffered_flat_shaded_textured_polygon ( poly, colour, specular );	//, colour, specular );

  00b6a	8b 45 94	 mov	 eax, DWORD PTR _specular$7[ebp]
  00b6d	50		 push	 eax
  00b6e	8b 4d 9c	 mov	 ecx, DWORD PTR _colour$9[ebp]
  00b71	51		 push	 ecx
  00b72	8b 95 80 fe ff
	ff		 mov	 edx, DWORD PTR _poly$1[ebp]
  00b78	52		 push	 edx
  00b79	e8 00 00 00 00	 call	 ?draw_wbuffered_flat_shaded_textured_polygon@@YGXPAUVERTEX@@UREAL_COLOUR@@1@Z ; draw_wbuffered_flat_shaded_textured_polygon
$LN16@ui_display:

; 1655 : 					}
; 1656 : 				}
; 1657 : 
; 1658 : 
; 1659 : 				//
; 1660 : 				// Go onto the next character
; 1661 : 				//
; 1662 : 
; 1663 : 				x += character->abcA + character->abcB + character->abcC;	//character->width;	//float_font_width;

  00b7e	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  00b81	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00b84	8b 55 e8	 mov	 edx, DWORD PTR _character$19[ebp]
  00b87	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  00b8a	8b 45 e8	 mov	 eax, DWORD PTR _character$19[ebp]
  00b8d	03 48 0c	 add	 ecx, DWORD PTR [eax+12]
  00b90	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  00b94	f3 0f 58 45 0c	 addss	 xmm0, DWORD PTR _x$[ebp]
  00b99	f3 0f 11 45 0c	 movss	 DWORD PTR _x$[ebp], xmm0

; 1664 : 
; 1665 : 				x += get_kerning_offset ( text_ptr );

  00b9e	8b 45 d0	 mov	 eax, DWORD PTR _text_ptr$13[ebp]
  00ba1	50		 push	 eax
  00ba2	e8 00 00 00 00	 call	 ?get_kerning_offset@@YGHPBD@Z ; get_kerning_offset
  00ba7	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00bab	f3 0f 58 45 0c	 addss	 xmm0, DWORD PTR _x$[ebp]
  00bb0	f3 0f 11 45 0c	 movss	 DWORD PTR _x$[ebp], xmm0

; 1666 : 
; 1667 : 				text_ptr ++;

  00bb5	8b 45 d0	 mov	 eax, DWORD PTR _text_ptr$13[ebp]
  00bb8	83 c0 01	 add	 eax, 1
  00bbb	89 45 d0	 mov	 DWORD PTR _text_ptr$13[ebp], eax

; 1668 : 			}

  00bbe	e9 af f6 ff ff	 jmp	 $LN2@ui_display
$LN3@ui_display:

; 1669 : 
; 1670 : 			//
; 1671 : 			// Reset some renderstates
; 1672 : 			//
; 1673 : 
; 1674 : 			flush_triangle_primitives ();

  00bc3	e8 00 00 00 00	 call	 ?flush_triangle_primitives@@YGXXZ ; flush_triangle_primitives

; 1675 : 
; 1676 : 			//
; 1677 : 			// Restore the old viewport settings
; 1678 : 			//
; 1679 : 
; 1680 : 			active_viewport = old_active_viewport;

  00bc8	8b 45 c0	 mov	 eax, DWORD PTR _old_active_viewport$12[ebp]
  00bcb	a3 00 00 00 00	 mov	 DWORD PTR ?active_viewport@@3UVIEWPORT@@A, eax
  00bd0	8b 4d c4	 mov	 ecx, DWORD PTR _old_active_viewport$12[ebp+4]
  00bd3	89 0d 04 00 00
	00		 mov	 DWORD PTR ?active_viewport@@3UVIEWPORT@@A+4, ecx
  00bd9	8b 55 c8	 mov	 edx, DWORD PTR _old_active_viewport$12[ebp+8]
  00bdc	89 15 08 00 00
	00		 mov	 DWORD PTR ?active_viewport@@3UVIEWPORT@@A+8, edx
  00be2	8b 45 cc	 mov	 eax, DWORD PTR _old_active_viewport$12[ebp+12]
  00be5	a3 0c 00 00 00	 mov	 DWORD PTR ?active_viewport@@3UVIEWPORT@@A+12, eax

; 1681 : 
; 1682 : 			active_int_viewport = old_active_int_viewport;

  00bea	8b 45 a0	 mov	 eax, DWORD PTR _old_active_int_viewport$10[ebp]
  00bed	a3 00 00 00 00	 mov	 DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A, eax
  00bf2	8b 4d a4	 mov	 ecx, DWORD PTR _old_active_int_viewport$10[ebp+4]
  00bf5	89 0d 04 00 00
	00		 mov	 DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A+4, ecx
  00bfb	8b 55 a8	 mov	 edx, DWORD PTR _old_active_int_viewport$10[ebp+8]
  00bfe	89 15 08 00 00
	00		 mov	 DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A+8, edx
  00c04	8b 45 ac	 mov	 eax, DWORD PTR _old_active_int_viewport$10[ebp+12]
  00c07	a3 0c 00 00 00	 mov	 DWORD PTR ?active_int_viewport@@3UINT_VIEWPORT@@A+12, eax

; 1683 : 
; 1684 : 	//		end_3d_scene ();
; 1685 : 
; 1686 : 			//
; 1687 : 			// return the length in pixels of the text written to screen
; 1688 : 			//
; 1689 : 
; 1690 : 			return (x - original_x_position);

  00c0c	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _x$[ebp]
  00c11	f3 0f 5c 45 d4	 subss	 xmm0, DWORD PTR _original_x_position$14[ebp]
  00c16	f3 0f 11 85 3c
	fe ff ff	 movss	 DWORD PTR tv925[ebp], xmm0
  00c1e	d9 85 3c fe ff
	ff		 fld	 DWORD PTR tv925[ebp]
  00c24	eb 04		 jmp	 SHORT $LN6@ui_display

; 1691 : 		}
; 1692 : 	//	else
; 1693 : 		{
; 1694 : 
; 1695 : 	//		return ( 0 );
; 1696 : 		}
; 1697 : 	}
; 1698 : 	else

  00c26	eb 02		 jmp	 SHORT $LN6@ui_display
$LN5@ui_display:

; 1699 : 	{
; 1700 : 
; 1701 : 		return ( 0 );

  00c28	d9 ee		 fldz
$LN6@ui_display:

; 1702 : 	}
; 1703 : }

  00c2a	5f		 pop	 edi
  00c2b	5e		 pop	 esi
  00c2c	5b		 pop	 ebx
  00c2d	8b e5		 mov	 esp, ebp
  00c2f	5d		 pop	 ebp
  00c30	c2 0c 00	 ret	 12			; 0000000cH
?ui_display_text@@YGMPBDMM@Z ENDP			; ui_display_text
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?deinitialise_ui_font@@YGXXZ
_TEXT	SEGMENT
_screen_index$1 = -8					; size = 4
_count$ = -4						; size = 4
?deinitialise_ui_font@@YGXXZ PROC			; deinitialise_ui_font, COMDAT

; 1277 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1278 : 
; 1279 : 	int
; 1280 : 		count;
; 1281 : 
; 1282 : 	for ( count = 0; count < NUM_FONT_TYPES; count++ )

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00010	eb 09		 jmp	 SHORT $LN4@deinitiali
$LN2@deinitiali:
  00012	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@deinitiali:
  0001b	83 7d fc 0e	 cmp	 DWORD PTR _count$[ebp], 14 ; 0000000eH
  0001f	7d 78		 jge	 SHORT $LN3@deinitiali

; 1283 : 	{
; 1284 : 
; 1285 : 		if (ui_fonts [count].loaded)

  00021	69 45 fc 40 24
	00 00		 imul	 eax, DWORD PTR _count$[ebp], 9280
  00028	83 b8 00 00 00
	00 00		 cmp	 DWORD PTR ?ui_fonts@@3PAUUI_FONT_TYPE@@A[eax], 0
  0002f	74 63		 je	 SHORT $LN8@deinitiali

; 1286 : 		{
; 1287 : 
; 1288 : 			int
; 1289 : 				screen_index;
; 1290 : 
; 1291 : 			//
; 1292 : 			// Free up the screens etc
; 1293 : 			//
; 1294 : 
; 1295 : 			for ( screen_index = 0; screen_index < ui_fonts[count].number_of_screens; screen_index++ )

  00031	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _screen_index$1[ebp], 0
  00038	eb 09		 jmp	 SHORT $LN7@deinitiali
$LN5@deinitiali:
  0003a	8b 45 f8	 mov	 eax, DWORD PTR _screen_index$1[ebp]
  0003d	83 c0 01	 add	 eax, 1
  00040	89 45 f8	 mov	 DWORD PTR _screen_index$1[ebp], eax
$LN7@deinitiali:
  00043	69 45 fc 40 24
	00 00		 imul	 eax, DWORD PTR _count$[ebp], 9280
  0004a	8b 4d f8	 mov	 ecx, DWORD PTR _screen_index$1[ebp]
  0004d	3b 88 04 00 00
	00		 cmp	 ecx, DWORD PTR ?ui_fonts@@3PAUUI_FONT_TYPE@@A[eax+4]
  00053	7d 1b		 jge	 SHORT $LN6@deinitiali

; 1296 : 			{
; 1297 : 
; 1298 : 				destroy_screen ( ui_fonts[count].screens[screen_index] );

  00055	69 45 fc 40 24
	00 00		 imul	 eax, DWORD PTR _count$[ebp], 9280
  0005c	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?ui_fonts@@3PAUUI_FONT_TYPE@@A[eax+8]
  00062	8b 55 f8	 mov	 edx, DWORD PTR _screen_index$1[ebp]
  00065	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 ?destroy_screen@@YGHPAUSCREEN@@@Z ; destroy_screen

; 1299 : 			}

  0006e	eb ca		 jmp	 SHORT $LN5@deinitiali
$LN6@deinitiali:

; 1300 : 
; 1301 : 			safe_free ( ui_fonts[count].screens );

  00070	69 45 fc 40 24
	00 00		 imul	 eax, DWORD PTR _count$[ebp], 9280
  00077	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?ui_fonts@@3PAUUI_FONT_TYPE@@A[eax+8]
  0007d	51		 push	 ecx
  0007e	e8 00 00 00 00	 call	 ?safe_free@@YGXPAX@Z	; safe_free

; 1302 : 
; 1303 : 			ui_fonts[count].screens = NULL;

  00083	69 45 fc 40 24
	00 00		 imul	 eax, DWORD PTR _count$[ebp], 9280
  0008a	c7 80 08 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ui_fonts@@3PAUUI_FONT_TYPE@@A[eax+8], 0
$LN8@deinitiali:

; 1304 : 		}
; 1305 : 	}

  00094	e9 79 ff ff ff	 jmp	 $LN2@deinitiali
$LN3@deinitiali:

; 1306 : 
; 1307 : 	memset ( ui_fonts, 0, sizeof ( ui_fonts ) );

  00099	68 80 fb 01 00	 push	 129920			; 0001fb80H
  0009e	6a 00		 push	 0
  000a0	68 00 00 00 00	 push	 OFFSET ?ui_fonts@@3PAUUI_FONT_TYPE@@A ; ui_fonts
  000a5	e8 00 00 00 00	 call	 _memset
  000aa	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1308 : }

  000ad	5f		 pop	 edi
  000ae	5e		 pop	 esi
  000af	5b		 pop	 ebx
  000b0	8b e5		 mov	 esp, ebp
  000b2	5d		 pop	 ebp
  000b3	c3		 ret	 0
?deinitialise_ui_font@@YGXXZ ENDP			; deinitialise_ui_font
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?reinitialise_ui_fonts@@YGXXZ
_TEXT	SEGMENT
?reinitialise_ui_fonts@@YGXXZ PROC			; reinitialise_ui_fonts, COMDAT

; 256  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 257  : 		deinitialise_ui_font ();

  00009	e8 00 00 00 00	 call	 ?deinitialise_ui_font@@YGXXZ ; deinitialise_ui_font

; 258  : 
; 259  : 		initialise_ui_font ();

  0000e	e8 00 00 00 00	 call	 ?initialise_ui_font@@YGXXZ ; initialise_ui_font

; 260  : }

  00013	5f		 pop	 edi
  00014	5e		 pop	 esi
  00015	5b		 pop	 ebx
  00016	8b e5		 mov	 esp, ebp
  00018	5d		 pop	 ebp
  00019	c3		 ret	 0
?reinitialise_ui_fonts@@YGXXZ ENDP			; reinitialise_ui_fonts
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?initialise_ui_font@@YGXXZ
_TEXT	SEGMENT
_unscalable_factor$ = -32				; size = 4
_res_factor_y$ = -28					; size = 4
_res_factor_x$ = -24					; size = 4
_impact_factor_y$ = -20					; size = 4
_arial_factor_y$ = -16					; size = 4
_arial_factor_x$ = -12					; size = 4
_y_size$ = -8						; size = 4
_x_size$ = -4						; size = 4
?initialise_ui_font@@YGXXZ PROC				; initialise_ui_font, COMDAT

; 267  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 268  : 	int
; 269  : 		x_size,
; 270  : 		y_size;
; 271  : 
; 272  : 	float
; 273  : 		arial_factor_x,
; 274  : 		arial_factor_y,
; 275  : 		impact_factor_y,
; 276  : 		res_factor_x,
; 277  : 		res_factor_y,
; 278  : 		unscalable_factor;
; 279  : 
; 280  : 	#if DEBUG_MODULE
; 281  : 		debug_log ("UI_FONT: %d %d", current_font_resolution_width, current_font_resolution_height );
; 282  : 	#endif
; 283  : 
; 284  : 	unlink ( UI_FONT_HEADER_FILE );

  00009	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MLBEKOEO@fonts?2fontbase?4dat@
  0000e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___unlink
  00014	83 c4 04	 add	 esp, 4

; 285  : 	unlink ( UI_FONT_DATA_FILE );

  00017	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@OGDIKLFM@fonts?2fontdata?4dat@
  0001c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___unlink
  00022	83 c4 04	 add	 esp, 4

; 286  : 
; 287  : 	memset ( ui_fonts, 0, sizeof ( ui_fonts ) );

  00025	68 80 fb 01 00	 push	 129920			; 0001fb80H
  0002a	6a 00		 push	 0
  0002c	68 00 00 00 00	 push	 OFFSET ?ui_fonts@@3PAUUI_FONT_TYPE@@A ; ui_fonts
  00031	e8 00 00 00 00	 call	 _memset
  00036	83 c4 0c	 add	 esp, 12			; 0000000cH

; 288  : 
; 289  : 	//
; 290  : 	// Initialise the standard font colours
; 291  : 	//
; 292  : 
; 293  : 	ui_white_colour.r = 255;

  00039	c6 05 02 00 00
	00 ff		 mov	 BYTE PTR ?ui_white_colour@@3UREAL_COLOUR@@A+2, 255 ; 000000ffH

; 294  : 	ui_white_colour.g = 255;

  00040	c6 05 01 00 00
	00 ff		 mov	 BYTE PTR ?ui_white_colour@@3UREAL_COLOUR@@A+1, 255 ; 000000ffH

; 295  : 	ui_white_colour.b = 255;

  00047	c6 05 00 00 00
	00 ff		 mov	 BYTE PTR ?ui_white_colour@@3UREAL_COLOUR@@A, 255 ; 000000ffH

; 296  : 	ui_white_colour.a = 255;

  0004e	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_white_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 297  : 
; 298  : 	ui_black_colour.r = 0;

  00055	c6 05 02 00 00
	00 00		 mov	 BYTE PTR ?ui_black_colour@@3UREAL_COLOUR@@A+2, 0

; 299  : 	ui_black_colour.g = 0;

  0005c	c6 05 01 00 00
	00 00		 mov	 BYTE PTR ?ui_black_colour@@3UREAL_COLOUR@@A+1, 0

; 300  : 	ui_black_colour.b = 0;

  00063	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?ui_black_colour@@3UREAL_COLOUR@@A, 0

; 301  : 	ui_black_colour.a = 255;

  0006a	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_black_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 302  : 
; 303  : 	ui_grey_colour.r = 148;

  00071	c6 05 02 00 00
	00 94		 mov	 BYTE PTR ?ui_grey_colour@@3UREAL_COLOUR@@A+2, 148 ; 00000094H

; 304  : 	ui_grey_colour.g = 148;

  00078	c6 05 01 00 00
	00 94		 mov	 BYTE PTR ?ui_grey_colour@@3UREAL_COLOUR@@A+1, 148 ; 00000094H

; 305  : 	ui_grey_colour.b = 148;

  0007f	c6 05 00 00 00
	00 94		 mov	 BYTE PTR ?ui_grey_colour@@3UREAL_COLOUR@@A, 148 ; 00000094H

; 306  : 	ui_grey_colour.a = 255;

  00086	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_grey_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 307  : 
; 308  : 	ui_blue_colour.r = 0;

  0008d	c6 05 02 00 00
	00 00		 mov	 BYTE PTR ?ui_blue_colour@@3UREAL_COLOUR@@A+2, 0

; 309  : 	ui_blue_colour.g = 0;

  00094	c6 05 01 00 00
	00 00		 mov	 BYTE PTR ?ui_blue_colour@@3UREAL_COLOUR@@A+1, 0

; 310  : 	ui_blue_colour.b = 255;

  0009b	c6 05 00 00 00
	00 ff		 mov	 BYTE PTR ?ui_blue_colour@@3UREAL_COLOUR@@A, 255 ; 000000ffH

; 311  : 	ui_blue_colour.a = 255;

  000a2	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_blue_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 312  : 
; 313  : 	ui_green_colour.r = 0;

  000a9	c6 05 02 00 00
	00 00		 mov	 BYTE PTR ?ui_green_colour@@3UREAL_COLOUR@@A+2, 0

; 314  : 	ui_green_colour.g = 255;

  000b0	c6 05 01 00 00
	00 ff		 mov	 BYTE PTR ?ui_green_colour@@3UREAL_COLOUR@@A+1, 255 ; 000000ffH

; 315  : 	ui_green_colour.b = 0;

  000b7	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?ui_green_colour@@3UREAL_COLOUR@@A, 0

; 316  : 	ui_green_colour.a = 255;

  000be	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_green_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 317  : 
; 318  : 	ui_orange_colour.r = 255;

  000c5	c6 05 02 00 00
	00 ff		 mov	 BYTE PTR ?ui_orange_colour@@3UREAL_COLOUR@@A+2, 255 ; 000000ffH

; 319  : 	ui_orange_colour.g = 128;

  000cc	c6 05 01 00 00
	00 80		 mov	 BYTE PTR ?ui_orange_colour@@3UREAL_COLOUR@@A+1, 128 ; 00000080H

; 320  : 	ui_orange_colour.b = 0;

  000d3	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?ui_orange_colour@@3UREAL_COLOUR@@A, 0

; 321  : 	ui_orange_colour.a = 255;

  000da	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_orange_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 322  : 
; 323  : 	ui_red_colour.r = 255;

  000e1	c6 05 02 00 00
	00 ff		 mov	 BYTE PTR ?ui_red_colour@@3UREAL_COLOUR@@A+2, 255 ; 000000ffH

; 324  : 	ui_red_colour.g = 0;

  000e8	c6 05 01 00 00
	00 00		 mov	 BYTE PTR ?ui_red_colour@@3UREAL_COLOUR@@A+1, 0

; 325  : 	ui_red_colour.b = 0;

  000ef	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?ui_red_colour@@3UREAL_COLOUR@@A, 0

; 326  : 	ui_red_colour.a = 255;

  000f6	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_red_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 327  : 
; 328  : 	ui_yellow_colour.r = 255;

  000fd	c6 05 02 00 00
	00 ff		 mov	 BYTE PTR ?ui_yellow_colour@@3UREAL_COLOUR@@A+2, 255 ; 000000ffH

; 329  : 	ui_yellow_colour.g = 255;

  00104	c6 05 01 00 00
	00 ff		 mov	 BYTE PTR ?ui_yellow_colour@@3UREAL_COLOUR@@A+1, 255 ; 000000ffH

; 330  : 	ui_yellow_colour.b = 0;

  0010b	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?ui_yellow_colour@@3UREAL_COLOUR@@A, 0

; 331  : 	ui_yellow_colour.a = 255;

  00112	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?ui_yellow_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 332  : 
; 333  : 	// Load the arial fonts
; 334  : 
; 335  : // size = p * rf / af
; 336  : 
; 337  : // size = size request to pass to windows
; 338  : // p = pixel size of font at 640 x 480 resolution
; 339  : // rf = res factor = new_res width / 640
; 340  : // af = arial factors are constants for arial typeface - I presume
; 341  : 
; 342  : // to improve:
; 343  : // find pixel resolution required at high resolution & use to get most accurate size request
; 344  : 
; 345  : // original font scale factors
; 346  : 
; 347  : 	arial_factor_x = 0.4;

  00119	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  00121	f3 0f 11 45 f4	 movss	 DWORD PTR _arial_factor_x$[ebp], xmm0

; 348  : 
; 349  : 	arial_factor_y = 0.6;

  00126	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f19999a
  0012e	f3 0f 11 45 f0	 movss	 DWORD PTR _arial_factor_y$[ebp], xmm0

; 350  : 
; 351  : 	impact_factor_y = 0.6;

  00133	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f19999a
  0013b	f3 0f 11 45 ec	 movss	 DWORD PTR _impact_factor_y$[ebp], xmm0

; 352  : 
; 353  : // resolution factor
; 354  : 
; 355  : 	res_factor_x = ((float) current_font_resolution_width) / 640.0;

  00140	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?current_font_resolution_width@@3HA
  00148	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0014c	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@4084000000000000
  00154	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00158	f3 0f 11 45 e8	 movss	 DWORD PTR _res_factor_x$[ebp], xmm0

; 356  : 
; 357  : 	res_factor_y = ((float) current_font_resolution_height) / 480.0;

  0015d	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?current_font_resolution_height@@3HA
  00165	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00169	f2 0f 5e 05 00
	00 00 00	 divsd	 xmm0, QWORD PTR __real@407e000000000000
  00171	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00175	f3 0f 11 45 e4	 movss	 DWORD PTR _res_factor_y$[ebp], xmm0

; 358  : 
; 359  : 	arial_factor_x = res_factor_x / arial_factor_x;

  0017a	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _res_factor_x$[ebp]
  0017f	f3 0f 5e 45 f4	 divss	 xmm0, DWORD PTR _arial_factor_x$[ebp]
  00184	f3 0f 11 45 f4	 movss	 DWORD PTR _arial_factor_x$[ebp], xmm0

; 360  : 
; 361  : 	arial_factor_y = res_factor_y / arial_factor_y;

  00189	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _res_factor_y$[ebp]
  0018e	f3 0f 5e 45 f0	 divss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  00193	f3 0f 11 45 f0	 movss	 DWORD PTR _arial_factor_y$[ebp], xmm0

; 362  : 
; 363  : 	impact_factor_y = res_factor_y / impact_factor_y;

  00198	f3 0f 10 45 e4	 movss	 xmm0, DWORD PTR _res_factor_y$[ebp]
  0019d	f3 0f 5e 45 ec	 divss	 xmm0, DWORD PTR _impact_factor_y$[ebp]
  001a2	f3 0f 11 45 ec	 movss	 DWORD PTR _impact_factor_y$[ebp], xmm0

; 364  : 
; 365  : 	unscalable_factor = 1.0 / 0.6;

  001a7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fd55555
  001af	f3 0f 11 45 e0	 movss	 DWORD PTR _unscalable_factor$[ebp], xmm0

; 366  : 
; 367  : 	y_size = (int) round (7 * arial_factor_y);

  001b4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40e00000
  001bc	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  001c1	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001c5	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001cd	83 ec 08	 sub	 esp, 8
  001d0	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  001d5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  001db	83 c4 08	 add	 esp, 8
  001de	e8 00 00 00 00	 call	 __ftol2_sse
  001e3	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 368  : 
; 369  : 	load_windows_ui_font ( UI_FONT_ARIAL_10, "Arial", 0, y_size, 0.4, FALSE, TRUE );

  001e6	6a 01		 push	 1
  001e8	6a 00		 push	 0
  001ea	51		 push	 ecx
  001eb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  001f3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001f8	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  001fb	50		 push	 eax
  001fc	6a 00		 push	 0
  001fe	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  00203	6a 00		 push	 0
  00205	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 370  : 
; 371  : 	y_size = (int) round (8 * arial_factor_y);

  0020a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41000000
  00212	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  00217	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0021b	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00223	83 ec 08	 sub	 esp, 8
  00226	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0022b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  00231	83 c4 08	 add	 esp, 8
  00234	e8 00 00 00 00	 call	 __ftol2_sse
  00239	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 372  : 
; 373  : 	load_windows_ui_font ( UI_FONT_ARIAL_14, "Arial", 0, y_size, 0.4, FALSE, TRUE );

  0023c	6a 01		 push	 1
  0023e	6a 00		 push	 0
  00240	51		 push	 ecx
  00241	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  00249	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0024e	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  00251	50		 push	 eax
  00252	6a 00		 push	 0
  00254	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  00259	6a 01		 push	 1
  0025b	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 374  : 
; 375  : 	y_size = (int) round (8 * arial_factor_y);

  00260	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41000000
  00268	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  0026d	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00271	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00279	83 ec 08	 sub	 esp, 8
  0027c	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00281	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  00287	83 c4 08	 add	 esp, 8
  0028a	e8 00 00 00 00	 call	 __ftol2_sse
  0028f	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 376  : 
; 377  : 	load_windows_ui_font ( UI_FONT_ITALIC_ARIAL_14, "Arial", 0, y_size, 0.4, TRUE, TRUE );

  00292	6a 01		 push	 1
  00294	6a 01		 push	 1
  00296	51		 push	 ecx
  00297	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  0029f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002a4	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  002a7	50		 push	 eax
  002a8	6a 00		 push	 0
  002aa	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  002af	6a 02		 push	 2
  002b1	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 378  : 
; 379  : 	y_size = (int) round (8.5 * arial_factor_y);

  002b6	f3 0f 5a 45 f0	 cvtss2sd xmm0, DWORD PTR _arial_factor_y$[ebp]
  002bb	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4021000000000000
  002c3	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  002cb	83 ec 08	 sub	 esp, 8
  002ce	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  002d3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  002d9	83 c4 08	 add	 esp, 8
  002dc	e8 00 00 00 00	 call	 __ftol2_sse
  002e1	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 380  : 
; 381  : 	load_windows_ui_font ( UI_FONT_ARIAL_16, "Arial", 0, y_size, 0.4, FALSE, TRUE );

  002e4	6a 01		 push	 1
  002e6	6a 00		 push	 0
  002e8	51		 push	 ecx
  002e9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  002f1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002f6	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  002f9	50		 push	 eax
  002fa	6a 00		 push	 0
  002fc	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  00301	6a 03		 push	 3
  00303	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 382  : 
; 383  : 	y_size = (int) round (8.5 * arial_factor_y);

  00308	f3 0f 5a 45 f0	 cvtss2sd xmm0, DWORD PTR _arial_factor_y$[ebp]
  0030d	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4021000000000000
  00315	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  0031d	83 ec 08	 sub	 esp, 8
  00320	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00325	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  0032b	83 c4 08	 add	 esp, 8
  0032e	e8 00 00 00 00	 call	 __ftol2_sse
  00333	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 384  : 
; 385  : 	load_windows_ui_font ( UI_FONT_ITALIC_ARIAL_16, "Arial", 0, y_size, 0.4, TRUE, TRUE );

  00336	6a 01		 push	 1
  00338	6a 01		 push	 1
  0033a	51		 push	 ecx
  0033b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  00343	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00348	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  0034b	50		 push	 eax
  0034c	6a 00		 push	 0
  0034e	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  00353	6a 04		 push	 4
  00355	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 386  : 
; 387  : 	y_size = (int) round (11 * arial_factor_y);

  0035a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41300000
  00362	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  00367	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0036b	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00373	83 ec 08	 sub	 esp, 8
  00376	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0037b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  00381	83 c4 08	 add	 esp, 8
  00384	e8 00 00 00 00	 call	 __ftol2_sse
  00389	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 388  : 
; 389  : 	load_windows_ui_font ( UI_FONT_ARIAL_18, "Arial", 0, y_size, 0.6, FALSE, TRUE );

  0038c	6a 01		 push	 1
  0038e	6a 00		 push	 0
  00390	51		 push	 ecx
  00391	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f19999a
  00399	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0039e	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  003a1	50		 push	 eax
  003a2	6a 00		 push	 0
  003a4	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  003a9	6a 05		 push	 5
  003ab	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 390  : 
; 391  : 	y_size = (int) round (11 * arial_factor_y);

  003b0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41300000
  003b8	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  003bd	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  003c1	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  003c9	83 ec 08	 sub	 esp, 8
  003cc	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  003d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  003d7	83 c4 08	 add	 esp, 8
  003da	e8 00 00 00 00	 call	 __ftol2_sse
  003df	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 392  : 
; 393  : 	load_windows_ui_font ( UI_FONT_THICK_ARIAL_18, "Arial", 0, y_size, 1.0, FALSE, TRUE );

  003e2	6a 01		 push	 1
  003e4	6a 00		 push	 0
  003e6	51		 push	 ecx
  003e7	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  003ef	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003f4	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  003f7	50		 push	 eax
  003f8	6a 00		 push	 0
  003fa	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  003ff	6a 06		 push	 6
  00401	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 394  : 
; 395  : 	y_size = (int) round (11 * arial_factor_y);

  00406	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41300000
  0040e	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  00413	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00417	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  0041f	83 ec 08	 sub	 esp, 8
  00422	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00427	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  0042d	83 c4 08	 add	 esp, 8
  00430	e8 00 00 00 00	 call	 __ftol2_sse
  00435	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 396  : 
; 397  : 	load_windows_ui_font ( UI_FONT_ITALIC_ARIAL_18, "Arial", 0, y_size, UI_FONT_DEFAULT_WEIGHT, TRUE, TRUE );

  00438	6a 01		 push	 1
  0043a	6a 01		 push	 1
  0043c	51		 push	 ecx
  0043d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f19999a
  00445	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0044a	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  0044d	50		 push	 eax
  0044e	6a 00		 push	 0
  00450	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  00455	6a 07		 push	 7
  00457	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 398  : 
; 399  : 	y_size = (int) round (11 * arial_factor_y);

  0045c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41300000
  00464	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  00469	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0046d	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00475	83 ec 08	 sub	 esp, 8
  00478	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0047d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  00483	83 c4 08	 add	 esp, 8
  00486	e8 00 00 00 00	 call	 __ftol2_sse
  0048b	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 400  : 
; 401  : 	load_windows_ui_font ( UI_FONT_THICK_ITALIC_ARIAL_18, "Arial", 0.0, y_size, 1.0, TRUE, TRUE );

  0048e	6a 01		 push	 1
  00490	6a 01		 push	 1
  00492	51		 push	 ecx
  00493	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0049b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004a0	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  004a3	50		 push	 eax
  004a4	6a 00		 push	 0
  004a6	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  004ab	6a 08		 push	 8
  004ad	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 402  : 
; 403  : 	x_size = (int) round (6 * arial_factor_x);

  004b2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40c00000
  004ba	f3 0f 59 45 f4	 mulss	 xmm0, DWORD PTR _arial_factor_x$[ebp]
  004bf	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  004c3	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  004cb	83 ec 08	 sub	 esp, 8
  004ce	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  004d3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  004d9	83 c4 08	 add	 esp, 8
  004dc	e8 00 00 00 00	 call	 __ftol2_sse
  004e1	89 45 fc	 mov	 DWORD PTR _x_size$[ebp], eax

; 404  : 
; 405  : 	y_size = (int) round (11 * arial_factor_y);

  004e4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41300000
  004ec	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  004f1	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  004f5	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  004fd	83 ec 08	 sub	 esp, 8
  00500	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00505	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  0050b	83 c4 08	 add	 esp, 8
  0050e	e8 00 00 00 00	 call	 __ftol2_sse
  00513	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 406  : 
; 407  : 	load_windows_ui_font ( UI_FONT_STRETCH_ITALIC_ARIAL_18, "Arial", x_size, y_size, 1.0, TRUE, TRUE );

  00516	6a 01		 push	 1
  00518	6a 01		 push	 1
  0051a	51		 push	 ecx
  0051b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00523	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00528	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  0052b	50		 push	 eax
  0052c	8b 4d fc	 mov	 ecx, DWORD PTR _x_size$[ebp]
  0052f	51		 push	 ecx
  00530	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  00535	6a 09		 push	 9
  00537	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 408  : 
; 409  : 	y_size = (int) round (14 * arial_factor_y);

  0053c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41600000
  00544	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  00549	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0054d	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00555	83 ec 08	 sub	 esp, 8
  00558	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0055d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  00563	83 c4 08	 add	 esp, 8
  00566	e8 00 00 00 00	 call	 __ftol2_sse
  0056b	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 410  : 
; 411  : 	load_windows_ui_font ( UI_FONT_ARIAL_22, "Arial", 0, y_size, UI_FONT_DEFAULT_WEIGHT, FALSE, TRUE );

  0056e	6a 01		 push	 1
  00570	6a 00		 push	 0
  00572	51		 push	 ecx
  00573	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f19999a
  0057b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00580	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  00583	50		 push	 eax
  00584	6a 00		 push	 0
  00586	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  0058b	6a 0a		 push	 10			; 0000000aH
  0058d	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 412  : 
; 413  : 	x_size = (int) round (7 * arial_factor_x);

  00592	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40e00000
  0059a	f3 0f 59 45 f4	 mulss	 xmm0, DWORD PTR _arial_factor_x$[ebp]
  0059f	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  005a3	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  005ab	83 ec 08	 sub	 esp, 8
  005ae	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  005b3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  005b9	83 c4 08	 add	 esp, 8
  005bc	e8 00 00 00 00	 call	 __ftol2_sse
  005c1	89 45 fc	 mov	 DWORD PTR _x_size$[ebp], eax

; 414  : 
; 415  : 	y_size = (int) round (14 * arial_factor_y);

  005c4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41600000
  005cc	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  005d1	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  005d5	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  005dd	83 ec 08	 sub	 esp, 8
  005e0	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  005e5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  005eb	83 c4 08	 add	 esp, 8
  005ee	e8 00 00 00 00	 call	 __ftol2_sse
  005f3	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 416  : 
; 417  : 	load_windows_ui_font ( UI_FONT_THICK_ARIAL_22, "ArBold", x_size, y_size, UI_FONT_DEFAULT_WEIGHT, TRUE, TRUE );

  005f6	6a 01		 push	 1
  005f8	6a 01		 push	 1
  005fa	51		 push	 ecx
  005fb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f19999a
  00603	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00608	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  0060b	50		 push	 eax
  0060c	8b 4d fc	 mov	 ecx, DWORD PTR _x_size$[ebp]
  0060f	51		 push	 ecx
  00610	68 00 00 00 00	 push	 OFFSET ??_C@_06MHCPICBN@ArBold@
  00615	6a 0b		 push	 11			; 0000000bH
  00617	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 418  : 
; 419  : 	y_size = (int) round (21 * arial_factor_y);

  0061c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41a80000
  00624	f3 0f 59 45 f0	 mulss	 xmm0, DWORD PTR _arial_factor_y$[ebp]
  00629	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0062d	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00635	83 ec 08	 sub	 esp, 8
  00638	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0063d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  00643	83 c4 08	 add	 esp, 8
  00646	e8 00 00 00 00	 call	 __ftol2_sse
  0064b	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 420  : 
; 421  : // warning - this will cause the game to crash if the wrong font files are installed...
; 422  : 
; 423  : #if ( ( RUSSIAN_VERSION ) || ( POLISH_VERSION ) )
; 424  : 	// russian - use arial
; 425  : 	load_windows_ui_font ( UI_FONT_IMPACT_22, "Arial", 0.0, y_size, 0.9, FALSE, TRUE );
; 426  : #else
; 427  : 	// normal title typeface
; 428  : 	load_windows_ui_font ( UI_FONT_IMPACT_22, "SteelAb", 0.0, y_size, 0.9, FALSE, TRUE );

  0064e	6a 01		 push	 1
  00650	6a 00		 push	 0
  00652	51		 push	 ecx
  00653	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f666666
  0065b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00660	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  00663	50		 push	 eax
  00664	6a 00		 push	 0
  00666	68 00 00 00 00	 push	 OFFSET ??_C@_07HNLOADG@SteelAb@
  0066b	6a 0c		 push	 12			; 0000000cH
  0066d	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 429  : #endif
; 430  : 
; 431  : 	y_size = (int) round (8.2 * unscalable_factor);

  00672	f3 0f 5a 45 e0	 cvtss2sd xmm0, DWORD PTR _unscalable_factor$[ebp]
  00677	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4020666666666666
  0067f	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00687	83 ec 08	 sub	 esp, 8
  0068a	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  0068f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__floor
  00695	83 c4 08	 add	 esp, 8
  00698	e8 00 00 00 00	 call	 __ftol2_sse
  0069d	89 45 f8	 mov	 DWORD PTR _y_size$[ebp], eax

; 432  : 
; 433  : 	load_windows_ui_font ( UI_FONT_UNSCALABLE_10, "Arial", 0, y_size, 0.4, FALSE, TRUE );

  006a0	6a 01		 push	 1
  006a2	6a 00		 push	 0
  006a4	51		 push	 ecx
  006a5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  006ad	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  006b2	8b 45 f8	 mov	 eax, DWORD PTR _y_size$[ebp]
  006b5	50		 push	 eax
  006b6	6a 00		 push	 0
  006b8	68 00 00 00 00	 push	 OFFSET ??_C@_05MPFIAJAP@Arial@
  006bd	6a 0d		 push	 13			; 0000000dH
  006bf	e8 00 00 00 00	 call	 ?load_windows_ui_font@@YGXW4FONT_TYPES@@PBDHHMHH@Z ; load_windows_ui_font

; 434  : 
; 435  : 	//
; 436  : 	// Set the current font to default
; 437  : 	//
; 438  : 
; 439  : 	set_ui_font_type ( UI_FONT_ARIAL_10 );

  006c4	6a 00		 push	 0
  006c6	e8 00 00 00 00	 call	 ?set_ui_font_type@@YGXW4FONT_TYPES@@@Z ; set_ui_font_type

; 440  : 
; 441  : 	set_ui_font_colour ( ui_white_colour );

  006cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ui_white_colour@@3UREAL_COLOUR@@A ; ui_white_colour
  006d0	50		 push	 eax
  006d1	e8 00 00 00 00	 call	 ?set_ui_font_colour@@YGXUREAL_COLOUR@@@Z ; set_ui_font_colour

; 442  : }

  006d6	5f		 pop	 edi
  006d7	5e		 pop	 esi
  006d8	5b		 pop	 ebx
  006d9	8b e5		 mov	 esp, ebp
  006db	5d		 pop	 ebp
  006dc	c3		 ret	 0
?initialise_ui_font@@YGXXZ ENDP				; initialise_ui_font
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\userint2\ui_draw\uifont.c
;	COMDAT ?set_ui_font_resolution@@YGXHH@Z
_TEXT	SEGMENT
_width$ = 8						; size = 4
_height$ = 12						; size = 4
?set_ui_font_resolution@@YGXHH@Z PROC			; set_ui_font_resolution, COMDAT

; 244  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 245  : 
; 246  : 	current_font_resolution_width = width;

  00009	8b 45 08	 mov	 eax, DWORD PTR _width$[ebp]
  0000c	a3 00 00 00 00	 mov	 DWORD PTR ?current_font_resolution_width@@3HA, eax

; 247  : 
; 248  : 	current_font_resolution_height = height;

  00011	8b 45 0c	 mov	 eax, DWORD PTR _height$[ebp]
  00014	a3 00 00 00 00	 mov	 DWORD PTR ?current_font_resolution_height@@3HA, eax

; 249  : }

  00019	5f		 pop	 edi
  0001a	5e		 pop	 esi
  0001b	5b		 pop	 ebx
  0001c	8b e5		 mov	 esp, ebp
  0001e	5d		 pop	 ebp
  0001f	c2 08 00	 ret	 8
?set_ui_font_resolution@@YGXHH@Z ENDP			; set_ui_font_resolution
_TEXT	ENDS
END
