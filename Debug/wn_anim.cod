; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\mobile\weapon\wn_anim.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z ; reset_entity_weapon_config_animation
PUBLIC	?update_weapon_animation@@YGXPAUENTITY@@@Z	; update_weapon_animation
PUBLIC	?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA ; `reset_entity_weapon_config_animation'::`1'::__LINE__Var
PUBLIC	??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0CH@EBNCOBJM@weapon_config_type_valid?5?$CIconfi@ ; `string'
PUBLIC	??_C@_06DDNABPCD@inst3d@			; `string'
PUBLIC	??_C@_0FG@GEBDIPMM@package_status?$FLpackage?$FN?4number?5@ ; `string'
PUBLIC	?__LINE__Var@?0??update_weapon_animation@@YGXPAUENTITY@@@Z@4JA ; `update_weapon_animation'::`1'::__LINE__Var
PUBLIC	??_C@_02LFNMGJAP@en@				; `string'
PUBLIC	??_C@_0DB@CIDEJCNI@entity_sub_type_weapon_valid?5?$CIr@ ; `string'
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z:PROC ; find_object_3d_sub_object
EXTRN	?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z:PROC ; find_object_3d_sub_object_from_sub_object
EXTRN	?update_weapon_ejector_seat_animation@@YGXPAUWEAPON@@@Z:PROC ; update_weapon_ejector_seat_animation
EXTRN	?update_weapon_crate_animation@@YGXPAUWEAPON@@@Z:PROC ; update_weapon_crate_animation
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_ptr_type_message@@3PBDB:DWORD	; overload_invalid_ptr_type_message
EXTRN	?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA:BYTE ; fn_get_local_entity_ptr_value
EXTRN	?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A:BYTE ; weapon_config_database
EXTRN	__fltused:DWORD
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT ??_C@_0DB@CIDEJCNI@entity_sub_type_weapon_valid?5?$CIr@
CONST	SEGMENT
??_C@_0DB@CIDEJCNI@entity_sub_type_weapon_valid?5?$CIr@ DB 'entity_sub_ty'
	DB	'pe_weapon_valid (raw->mob.sub_type)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_02LFNMGJAP@en@
CONST	SEGMENT
??_C@_02LFNMGJAP@en@ DB 'en', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_weapon_animation@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_weapon_animation@@YGXPAUENTITY@@@Z@4JA DD 0f2H ; `update_weapon_animation'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0FG@GEBDIPMM@package_status?$FLpackage?$FN?4number?5@
CONST	SEGMENT
??_C@_0FG@GEBDIPMM@package_status?$FLpackage?$FN?4number?5@ DB 'package_s'
	DB	'tatus[package].number <= weapon_config_database[config_type]['
	DB	'package].number', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06DDNABPCD@inst3d@
CONST	SEGMENT
??_C@_06DDNABPCD@inst3d@ DB 'inst3d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@EBNCOBJM@weapon_config_type_valid?5?$CIconfi@
CONST	SEGMENT
??_C@_0CH@EBNCOBJM@weapon_config_type_valid?5?$CIconfi@ DB 'weapon_config'
	DB	'_type_valid (config_type)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_anim'
	DB	'.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA DD 050H ; `reset_entity_weapon_config_animation'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_anim.c
;	COMDAT ?update_weapon_animation@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv82 = -72						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
?update_weapon_animation@@YGXPAUENTITY@@@Z PROC		; update_weapon_animation, COMDAT

; 242  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 243  : 	weapon
; 244  : 		*raw;
; 245  : 
; 246  : 	ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@update_wea
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_weapon_animation@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@update_wea:

; 247  : 
; 248  : 	raw = (weapon *) get_local_entity_data (en);

  00027	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0002a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0002d	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 249  : 
; 250  : 	ASSERT (entity_sub_type_weapon_valid (raw->mob.sub_type));

  00030	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00033	83 38 00	 cmp	 DWORD PTR [eax], 0
  00036	7c 08		 jl	 SHORT $LN6@update_wea
  00038	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0003b	83 38 4c	 cmp	 DWORD PTR [eax], 76	; 0000004cH
  0003e	7c 18		 jl	 SHORT $LN5@update_wea
$LN6@update_wea:
  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_weapon_animation@@YGXPAUENTITY@@@Z@4JA
  00045	83 c0 08	 add	 eax, 8
  00048	50		 push	 eax
  00049	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004e	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@CIDEJCNI@entity_sub_type_weapon_valid?5?$CIr@
  00053	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@update_wea:

; 251  : 
; 252  : 	switch (raw->mob.sub_type)

  00058	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0005b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005d	89 4d b8	 mov	 DWORD PTR tv82[ebp], ecx
  00060	83 7d b8 46	 cmp	 DWORD PTR tv82[ebp], 70	; 00000046H
  00064	74 19		 je	 SHORT $LN8@update_wea
  00066	83 7d b8 47	 cmp	 DWORD PTR tv82[ebp], 71	; 00000047H
  0006a	7e 1c		 jle	 SHORT $LN1@update_wea
  0006c	83 7d b8 49	 cmp	 DWORD PTR tv82[ebp], 73	; 00000049H
  00070	7e 02		 jle	 SHORT $LN7@update_wea
  00072	eb 14		 jmp	 SHORT $LN1@update_wea
$LN7@update_wea:

; 253  : 	{
; 254  : 		case ENTITY_SUB_TYPE_WEAPON_HOKUM_PILOT:
; 255  : 		case ENTITY_SUB_TYPE_WEAPON_HOKUM_CO_PILOT:
; 256  : 		{
; 257  : 			update_weapon_ejector_seat_animation (raw);

  00074	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00077	50		 push	 eax
  00078	e8 00 00 00 00	 call	 ?update_weapon_ejector_seat_animation@@YGXPAUWEAPON@@@Z ; update_weapon_ejector_seat_animation

; 258  : 
; 259  : 			break;

  0007d	eb 09		 jmp	 SHORT $LN1@update_wea
$LN8@update_wea:

; 260  : 		}
; 261  : 		case ENTITY_SUB_TYPE_WEAPON_CRATE:
; 262  : 		{
; 263  : 			update_weapon_crate_animation (raw);

  0007f	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00082	50		 push	 eax
  00083	e8 00 00 00 00	 call	 ?update_weapon_crate_animation@@YGXPAUWEAPON@@@Z ; update_weapon_crate_animation
$LN1@update_wea:

; 264  : 
; 265  : 			break;
; 266  : 		}
; 267  : 	}
; 268  : }

  00088	5f		 pop	 edi
  00089	5e		 pop	 esi
  0008a	5b		 pop	 ebx
  0008b	8b e5		 mov	 esp, ebp
  0008d	5d		 pop	 ebp
  0008e	c2 04 00	 ret	 4
?update_weapon_animation@@YGXPAUENTITY@@@Z ENDP		; update_weapon_animation
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\mobile\weapon\wn_anim.c
;	COMDAT ?reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv157 = -268						; size = 4
tv131 = -268						; size = 4
tv78 = -268						; size = 4
tv149 = -264						; size = 4
tv91 = -264						; size = 4
tv70 = -264						; size = 4
_package$ = -196					; size = 4
_search_weapon_system_weapon_depth$ = -192		; size = 4
_search_weapon_system_pitch_depth$ = -188		; size = 4
_search_weapon_system_heading_depth$ = -184		; size = 4
_search_weapon_system_weapon$ = -180			; size = 56
_search_weapon_system_pitch$ = -124			; size = 56
_search_weapon_system_heading$ = -68			; size = 56
_inst3d$ = -12						; size = 4
_config_type$ = -8					; size = 4
_package_status$ = -4					; size = 4
_en$ = 8						; size = 4
?reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z PROC ; reset_entity_weapon_config_animation, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 0c 01 00
	00		 sub	 esp, 268		; 0000010cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 81   : 	weapon_package_status
; 82   : 		*package_status;
; 83   : 
; 84   : 	weapon_config_types
; 85   : 		config_type;
; 86   : 
; 87   : 	object_3d_instance
; 88   : 		*inst3d;
; 89   : 
; 90   : 	object_3d_sub_object_search_data
; 91   : 		search_weapon_system_heading,
; 92   : 		search_weapon_system_pitch,
; 93   : 		search_weapon_system_weapon;
; 94   : 
; 95   : 	int
; 96   : 		search_weapon_system_heading_depth,
; 97   : 		search_weapon_system_pitch_depth,
; 98   : 		search_weapon_system_weapon_depth,
; 99   : 		package;
; 100  : 
; 101  : 	package_status = (weapon_package_status *) get_local_entity_ptr_value (en, PTR_TYPE_WEAPON_PACKAGE_STATUS_ARRAY);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00010	74 0d		 je	 SHORT $LN32@reset_enti
  00012	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	89 8d f8 fe ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0001d	eb 24		 jmp	 SHORT $LN33@reset_enti
$LN32@reset_enti:
  0001f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  00025	83 c2 15	 add	 edx, 21			; 00000015H
  00028	52		 push	 edx
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00033	50		 push	 eax
  00034	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00039	c7 85 f8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
$LN33@reset_enti:
  00043	b9 01 00 00 00	 mov	 ecx, 1
  00048	85 c9		 test	 ecx, ecx
  0004a	74 0c		 je	 SHORT $LN34@reset_enti
  0004c	c7 85 f4 fe ff
	ff 13 00 00 00	 mov	 DWORD PTR tv78[ebp], 19	; 00000013H
  00056	eb 24		 jmp	 SHORT $LN35@reset_enti
$LN34@reset_enti:
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  0005e	83 c2 15	 add	 edx, 21			; 00000015H
  00061	52		 push	 edx
  00062	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00072	c7 85 f4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv78[ebp], 0
$LN35@reset_enti:
  0007c	6a 13		 push	 19			; 00000013H
  0007e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00081	51		 push	 ecx
  00082	6b 95 f8 fe ff
	ff 50		 imul	 edx, DWORD PTR tv70[ebp], 80
  00089	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR tv78[ebp]
  0008f	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  00096	ff d1		 call	 ecx
  00098	89 45 fc	 mov	 DWORD PTR _package_status$[ebp], eax

; 102  : 
; 103  : 	if (package_status)

  0009b	83 7d fc 00	 cmp	 DWORD PTR _package_status$[ebp], 0
  0009f	0f 84 7e 04 00
	00		 je	 $LN9@reset_enti

; 104  : 	{
; 105  : 		config_type = (weapon_config_types) get_local_entity_int_value (en, INT_TYPE_WEAPON_CONFIG_TYPE);

  000a5	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000a9	74 0d		 je	 SHORT $LN36@reset_enti
  000ab	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000ae	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b0	89 8d f8 fe ff
	ff		 mov	 DWORD PTR tv91[ebp], ecx
  000b6	eb 24		 jmp	 SHORT $LN37@reset_enti
$LN36@reset_enti:
  000b8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  000be	83 c2 19	 add	 edx, 25			; 00000019H
  000c1	52		 push	 edx
  000c2	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000cc	50		 push	 eax
  000cd	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d2	c7 85 f8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv91[ebp], 0
$LN37@reset_enti:
  000dc	b9 01 00 00 00	 mov	 ecx, 1
  000e1	85 c9		 test	 ecx, ecx
  000e3	74 0c		 je	 SHORT $LN38@reset_enti
  000e5	c7 85 f4 fe ff
	ff 05 01 00 00	 mov	 DWORD PTR tv131[ebp], 261 ; 00000105H
  000ef	eb 24		 jmp	 SHORT $LN39@reset_enti
$LN38@reset_enti:
  000f1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  000f7	83 c2 19	 add	 edx, 25			; 00000019H
  000fa	52		 push	 edx
  000fb	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00100	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00105	50		 push	 eax
  00106	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0010b	c7 85 f4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv131[ebp], 0
$LN39@reset_enti:
  00115	68 05 01 00 00	 push	 261			; 00000105H
  0011a	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0011d	51		 push	 ecx
  0011e	69 95 f8 fe ff
	ff 5c 04 00 00	 imul	 edx, DWORD PTR tv91[ebp], 1116
  00128	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR tv131[ebp]
  0012e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00135	ff d1		 call	 ecx
  00137	89 45 f8	 mov	 DWORD PTR _config_type$[ebp], eax

; 106  : 
; 107  : 		ASSERT (weapon_config_type_valid (config_type));

  0013a	83 7d f8 00	 cmp	 DWORD PTR _config_type$[ebp], 0
  0013e	7c 09		 jl	 SHORT $LN15@reset_enti
  00140	81 7d f8 cc 02
	00 00		 cmp	 DWORD PTR _config_type$[ebp], 716 ; 000002ccH
  00147	7c 18		 jl	 SHORT $LN14@reset_enti
$LN15@reset_enti:
  00149	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  0014e	83 c0 1b	 add	 eax, 27			; 0000001bH
  00151	50		 push	 eax
  00152	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00157	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@EBNCOBJM@weapon_config_type_valid?5?$CIconfi@
  0015c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN14@reset_enti:

; 108  : 
; 109  : 		inst3d = (object_3d_instance *) get_local_entity_ptr_value (en, PTR_TYPE_INSTANCE_3D_OBJECT);

  00161	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00165	74 0d		 je	 SHORT $LN40@reset_enti
  00167	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0016a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0016c	89 8d f8 fe ff
	ff		 mov	 DWORD PTR tv149[ebp], ecx
  00172	eb 24		 jmp	 SHORT $LN41@reset_enti
$LN40@reset_enti:
  00174	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  0017a	83 c2 1d	 add	 edx, 29			; 0000001dH
  0017d	52		 push	 edx
  0017e	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00183	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00188	50		 push	 eax
  00189	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0018e	c7 85 f8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv149[ebp], 0
$LN41@reset_enti:
  00198	b9 01 00 00 00	 mov	 ecx, 1
  0019d	85 c9		 test	 ecx, ecx
  0019f	74 0c		 je	 SHORT $LN42@reset_enti
  001a1	c7 85 f4 fe ff
	ff 02 00 00 00	 mov	 DWORD PTR tv157[ebp], 2
  001ab	eb 24		 jmp	 SHORT $LN43@reset_enti
$LN42@reset_enti:
  001ad	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  001b3	83 c2 1d	 add	 edx, 29			; 0000001dH
  001b6	52		 push	 edx
  001b7	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  001bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_ptr_type_message@@3PBDB ; overload_invalid_ptr_type_message
  001c1	50		 push	 eax
  001c2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001c7	c7 85 f4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv157[ebp], 0
$LN43@reset_enti:
  001d1	6a 02		 push	 2
  001d3	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001d6	51		 push	 ecx
  001d7	6b 95 f8 fe ff
	ff 50		 imul	 edx, DWORD PTR tv149[ebp], 80
  001de	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR tv157[ebp]
  001e4	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_ptr_value@@3PAY0BE@P6GPAXPAUENTITY@@W4PTR_TYPES@@@ZA[edx+eax*4]
  001eb	ff d1		 call	 ecx
  001ed	89 45 f4	 mov	 DWORD PTR _inst3d$[ebp], eax

; 110  : 
; 111  : 		ASSERT (inst3d);

  001f0	83 7d f4 00	 cmp	 DWORD PTR _inst3d$[ebp], 0
  001f4	75 18		 jne	 SHORT $LN16@reset_enti
  001f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  001fb	83 c0 1f	 add	 eax, 31			; 0000001fH
  001fe	50		 push	 eax
  001ff	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00204	68 00 00 00 00	 push	 OFFSET ??_C@_06DDNABPCD@inst3d@
  00209	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN16@reset_enti:

; 112  : 
; 113  : 		////////////////////////////////////////
; 114  : 		//
; 115  : 		// disable all weapons
; 116  : 		//
; 117  : 		////////////////////////////////////////
; 118  : 
; 119  : 		search_weapon_system_heading_depth = 0;

  0020e	c7 85 48 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _search_weapon_system_heading_depth$[ebp], 0
$LN2@reset_enti:

; 120  : 
; 121  : 		while (TRUE)

  00218	b8 01 00 00 00	 mov	 eax, 1
  0021d	85 c0		 test	 eax, eax
  0021f	0f 84 08 01 00
	00		 je	 $LN3@reset_enti

; 122  : 		{
; 123  : 			search_weapon_system_heading.search_depth = search_weapon_system_heading_depth;

  00225	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_heading_depth$[ebp]
  0022b	89 45 c4	 mov	 DWORD PTR _search_weapon_system_heading$[ebp+8], eax

; 124  : 			search_weapon_system_heading.search_object = inst3d;

  0022e	8b 45 f4	 mov	 eax, DWORD PTR _inst3d$[ebp]
  00231	89 45 bc	 mov	 DWORD PTR _search_weapon_system_heading$[ebp], eax

; 125  : 			search_weapon_system_heading.sub_object_index = OBJECT_3D_SUB_OBJECT_WEAPON_SYSTEM_HEADING;

  00234	c7 45 c8 03 00
	00 00		 mov	 DWORD PTR _search_weapon_system_heading$[ebp+12], 3

; 126  : 
; 127  : 			if (find_object_3d_sub_object (&search_weapon_system_heading) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  0023b	8d 45 bc	 lea	 eax, DWORD PTR _search_weapon_system_heading$[ebp]
  0023e	50		 push	 eax
  0023f	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  00244	83 f8 01	 cmp	 eax, 1
  00247	0f 85 ca 00 00
	00		 jne	 $LN17@reset_enti

; 128  : 			{
; 129  : 				search_weapon_system_pitch_depth = 0;

  0024d	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _search_weapon_system_pitch_depth$[ebp], 0
$LN4@reset_enti:

; 130  : 
; 131  : 				while (TRUE)

  00257	b8 01 00 00 00	 mov	 eax, 1
  0025c	85 c0		 test	 eax, eax
  0025e	0f 84 b1 00 00
	00		 je	 $LN5@reset_enti

; 132  : 				{
; 133  : 					search_weapon_system_pitch.search_depth = search_weapon_system_pitch_depth;

  00264	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_pitch_depth$[ebp]
  0026a	89 45 8c	 mov	 DWORD PTR _search_weapon_system_pitch$[ebp+8], eax

; 134  : 					search_weapon_system_pitch.sub_object_index = OBJECT_3D_SUB_OBJECT_WEAPON_SYSTEM_PITCH;

  0026d	c7 45 90 1c 00
	00 00		 mov	 DWORD PTR _search_weapon_system_pitch$[ebp+12], 28 ; 0000001cH

; 135  : 
; 136  : 					if (find_object_3d_sub_object_from_sub_object (&search_weapon_system_heading, &search_weapon_system_pitch) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00274	8d 45 84	 lea	 eax, DWORD PTR _search_weapon_system_pitch$[ebp]
  00277	50		 push	 eax
  00278	8d 4d bc	 lea	 ecx, DWORD PTR _search_weapon_system_heading$[ebp]
  0027b	51		 push	 ecx
  0027c	e8 00 00 00 00	 call	 ?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z ; find_object_3d_sub_object_from_sub_object
  00281	83 f8 01	 cmp	 eax, 1
  00284	75 79		 jne	 SHORT $LN19@reset_enti

; 137  : 					{
; 138  : 						search_weapon_system_pitch.result_sub_object->visible_object = FALSE;

  00286	8b 45 88	 mov	 eax, DWORD PTR _search_weapon_system_pitch$[ebp+4]
  00289	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0028c	83 e1 fe	 and	 ecx, -2			; fffffffeH
  0028f	8b 55 88	 mov	 edx, DWORD PTR _search_weapon_system_pitch$[ebp+4]
  00292	89 4a 08	 mov	 DWORD PTR [edx+8], ecx

; 139  : 
; 140  : 						search_weapon_system_weapon_depth = 0;

  00295	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _search_weapon_system_weapon_depth$[ebp], 0
$LN6@reset_enti:

; 141  : 
; 142  : 						while (TRUE)

  0029f	b8 01 00 00 00	 mov	 eax, 1
  002a4	85 c0		 test	 eax, eax
  002a6	74 55		 je	 SHORT $LN7@reset_enti

; 143  : 						{
; 144  : 							search_weapon_system_weapon.search_depth = search_weapon_system_weapon_depth;

  002a8	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_weapon_depth$[ebp]
  002ae	89 85 54 ff ff
	ff		 mov	 DWORD PTR _search_weapon_system_weapon$[ebp+8], eax

; 145  : 							search_weapon_system_weapon.sub_object_index = OBJECT_3D_SUB_OBJECT_WEAPON_SYSTEM_WEAPON;

  002b4	c7 85 58 ff ff
	ff 1d 00 00 00	 mov	 DWORD PTR _search_weapon_system_weapon$[ebp+12], 29 ; 0000001dH

; 146  : 
; 147  : 							if (find_object_3d_sub_object_from_sub_object (&search_weapon_system_pitch, &search_weapon_system_weapon) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  002be	8d 85 4c ff ff
	ff		 lea	 eax, DWORD PTR _search_weapon_system_weapon$[ebp]
  002c4	50		 push	 eax
  002c5	8d 4d 84	 lea	 ecx, DWORD PTR _search_weapon_system_pitch$[ebp]
  002c8	51		 push	 ecx
  002c9	e8 00 00 00 00	 call	 ?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z ; find_object_3d_sub_object_from_sub_object
  002ce	83 f8 01	 cmp	 eax, 1
  002d1	75 17		 jne	 SHORT $LN21@reset_enti

; 148  : 							{
; 149  : 								search_weapon_system_weapon.result_sub_object->visible_object = FALSE;

  002d3	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_weapon$[ebp+4]
  002d9	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  002dc	83 e1 fe	 and	 ecx, -2			; fffffffeH
  002df	8b 95 50 ff ff
	ff		 mov	 edx, DWORD PTR _search_weapon_system_weapon$[ebp+4]
  002e5	89 4a 08	 mov	 DWORD PTR [edx+8], ecx

; 150  : 							}
; 151  : 							else

  002e8	eb 02		 jmp	 SHORT $LN22@reset_enti
$LN21@reset_enti:

; 152  : 							{
; 153  : 								break;

  002ea	eb 11		 jmp	 SHORT $LN7@reset_enti
$LN22@reset_enti:

; 154  : 							}
; 155  : 
; 156  : 							search_weapon_system_weapon_depth++;

  002ec	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_weapon_depth$[ebp]
  002f2	83 c0 01	 add	 eax, 1
  002f5	89 85 40 ff ff
	ff		 mov	 DWORD PTR _search_weapon_system_weapon_depth$[ebp], eax

; 157  : 						}

  002fb	eb a2		 jmp	 SHORT $LN6@reset_enti
$LN7@reset_enti:

; 158  : 					}
; 159  : 					else

  002fd	eb 02		 jmp	 SHORT $LN20@reset_enti
$LN19@reset_enti:

; 160  : 					{
; 161  : 						break;

  002ff	eb 14		 jmp	 SHORT $LN5@reset_enti
$LN20@reset_enti:

; 162  : 					}
; 163  : 
; 164  : 					search_weapon_system_pitch_depth++;

  00301	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_pitch_depth$[ebp]
  00307	83 c0 01	 add	 eax, 1
  0030a	89 85 44 ff ff
	ff		 mov	 DWORD PTR _search_weapon_system_pitch_depth$[ebp], eax

; 165  : 				}

  00310	e9 42 ff ff ff	 jmp	 $LN4@reset_enti
$LN5@reset_enti:

; 166  : 			}
; 167  : 			else

  00315	eb 02		 jmp	 SHORT $LN18@reset_enti
$LN17@reset_enti:

; 168  : 			{
; 169  : 				break;

  00317	eb 14		 jmp	 SHORT $LN3@reset_enti
$LN18@reset_enti:

; 170  : 			}
; 171  : 
; 172  : 			search_weapon_system_heading_depth++;

  00319	8b 85 48 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_heading_depth$[ebp]
  0031f	83 c0 01	 add	 eax, 1
  00322	89 85 48 ff ff
	ff		 mov	 DWORD PTR _search_weapon_system_heading_depth$[ebp], eax

; 173  : 		}

  00328	e9 eb fe ff ff	 jmp	 $LN2@reset_enti
$LN3@reset_enti:

; 174  : 
; 175  : 		////////////////////////////////////////
; 176  : 		//
; 177  : 		// enable weapons
; 178  : 		//
; 179  : 		////////////////////////////////////////
; 180  : 
; 181  : 		for (package = 0; package < NUM_WEAPON_PACKAGES; package++)

  0032d	c7 85 3c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _package$[ebp], 0
  00337	eb 0f		 jmp	 SHORT $LN10@reset_enti
$LN8@reset_enti:
  00339	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR _package$[ebp]
  0033f	83 c0 01	 add	 eax, 1
  00342	89 85 3c ff ff
	ff		 mov	 DWORD PTR _package$[ebp], eax
$LN10@reset_enti:
  00348	83 bd 3c ff ff
	ff 20		 cmp	 DWORD PTR _package$[ebp], 32 ; 00000020H
  0034f	0f 8d ce 01 00
	00		 jge	 $LN9@reset_enti

; 182  : 		{
; 183  : 			if (weapon_config_database[config_type][package].sub_type == ENTITY_SUB_TYPE_WEAPON_NO_WEAPON)

  00355	69 45 f8 80 09
	00 00		 imul	 eax, DWORD PTR _config_type$[ebp], 2432
  0035c	6b 8d 3c ff ff
	ff 4c		 imul	 ecx, DWORD PTR _package$[ebp], 76
  00363	83 bc 08 00 00
	00 00 00	 cmp	 DWORD PTR ?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A[eax+ecx], 0
  0036b	75 05		 jne	 SHORT $LN23@reset_enti

; 184  : 			{
; 185  : 				break;

  0036d	e9 b1 01 00 00	 jmp	 $LN9@reset_enti
$LN23@reset_enti:

; 186  : 			}
; 187  : 
; 188  : 			ASSERT (package_status[package].number <= weapon_config_database[config_type][package].number);

  00372	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR _package$[ebp]
  00378	c1 e0 04	 shl	 eax, 4
  0037b	8b 4d fc	 mov	 ecx, DWORD PTR _package_status$[ebp]
  0037e	0f b7 14 01	 movzx	 edx, WORD PTR [ecx+eax]
  00382	69 45 f8 80 09
	00 00		 imul	 eax, DWORD PTR _config_type$[ebp], 2432
  00389	6b 8d 3c ff ff
	ff 4c		 imul	 ecx, DWORD PTR _package$[ebp], 76
  00390	3b 94 08 04 00
	00 00		 cmp	 edx, DWORD PTR ?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A[eax+ecx+4]
  00397	7e 18		 jle	 SHORT $LN24@reset_enti
  00399	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z@4JA
  0039e	83 c0 6c	 add	 eax, 108		; 0000006cH
  003a1	50		 push	 eax
  003a2	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@KIPDHJMA@c?3?2users?2nhv90?2projects?2eech?2ap@
  003a7	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@GEBDIPMM@package_status?$FLpackage?$FN?4number?5@
  003ac	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN24@reset_enti:

; 189  : 
; 190  : 			search_weapon_system_heading.search_depth = weapon_config_database[config_type][package].heading_depth;

  003b1	69 45 f8 80 09
	00 00		 imul	 eax, DWORD PTR _config_type$[ebp], 2432
  003b8	6b 8d 3c ff ff
	ff 4c		 imul	 ecx, DWORD PTR _package$[ebp], 76
  003bf	8b 94 08 08 00
	00 00		 mov	 edx, DWORD PTR ?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A[eax+ecx+8]
  003c6	89 55 c4	 mov	 DWORD PTR _search_weapon_system_heading$[ebp+8], edx

; 191  : 			search_weapon_system_heading.search_object = inst3d;

  003c9	8b 45 f4	 mov	 eax, DWORD PTR _inst3d$[ebp]
  003cc	89 45 bc	 mov	 DWORD PTR _search_weapon_system_heading$[ebp], eax

; 192  : 			search_weapon_system_heading.sub_object_index = OBJECT_3D_SUB_OBJECT_WEAPON_SYSTEM_HEADING;

  003cf	c7 45 c8 03 00
	00 00		 mov	 DWORD PTR _search_weapon_system_heading$[ebp+12], 3

; 193  : 
; 194  : 			if (find_object_3d_sub_object (&search_weapon_system_heading) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  003d6	8d 45 bc	 lea	 eax, DWORD PTR _search_weapon_system_heading$[ebp]
  003d9	50		 push	 eax
  003da	e8 00 00 00 00	 call	 ?find_object_3d_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@@Z ; find_object_3d_sub_object
  003df	83 f8 01	 cmp	 eax, 1
  003e2	0f 85 36 01 00
	00		 jne	 $LN12@reset_enti

; 195  : 			{
; 196  : 				if (weapon_config_database[config_type][package].rotate)

  003e8	69 45 f8 80 09
	00 00		 imul	 eax, DWORD PTR _config_type$[ebp], 2432
  003ef	6b 8d 3c ff ff
	ff 4c		 imul	 ecx, DWORD PTR _package$[ebp], 76
  003f6	83 bc 08 18 00
	00 00 00	 cmp	 DWORD PTR ?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A[eax+ecx+24], 0
  003fe	74 16		 je	 SHORT $LN26@reset_enti

; 197  : 				{
; 198  : 					search_weapon_system_heading.result_sub_object->relative_heading = package_status[package].weapon_system_heading;

  00400	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR _package$[ebp]
  00406	c1 e0 04	 shl	 eax, 4
  00409	8b 4d c0	 mov	 ecx, DWORD PTR _search_weapon_system_heading$[ebp+4]
  0040c	8b 55 fc	 mov	 edx, DWORD PTR _package_status$[ebp]
  0040f	8b 44 02 04	 mov	 eax, DWORD PTR [edx+eax+4]
  00413	89 41 18	 mov	 DWORD PTR [ecx+24], eax
$LN26@reset_enti:

; 199  : 				}
; 200  : 
; 201  : 				search_weapon_system_pitch.search_depth = weapon_config_database[config_type][package].pitch_depth;

  00416	69 45 f8 80 09
	00 00		 imul	 eax, DWORD PTR _config_type$[ebp], 2432
  0041d	6b 8d 3c ff ff
	ff 4c		 imul	 ecx, DWORD PTR _package$[ebp], 76
  00424	8b 94 08 0c 00
	00 00		 mov	 edx, DWORD PTR ?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A[eax+ecx+12]
  0042b	89 55 8c	 mov	 DWORD PTR _search_weapon_system_pitch$[ebp+8], edx

; 202  : 				search_weapon_system_pitch.sub_object_index = OBJECT_3D_SUB_OBJECT_WEAPON_SYSTEM_PITCH;

  0042e	c7 45 90 1c 00
	00 00		 mov	 DWORD PTR _search_weapon_system_pitch$[ebp+12], 28 ; 0000001cH

; 203  : 
; 204  : 				if (find_object_3d_sub_object_from_sub_object (&search_weapon_system_heading, &search_weapon_system_pitch) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  00435	8d 45 84	 lea	 eax, DWORD PTR _search_weapon_system_pitch$[ebp]
  00438	50		 push	 eax
  00439	8d 4d bc	 lea	 ecx, DWORD PTR _search_weapon_system_heading$[ebp]
  0043c	51		 push	 ecx
  0043d	e8 00 00 00 00	 call	 ?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z ; find_object_3d_sub_object_from_sub_object
  00442	83 f8 01	 cmp	 eax, 1
  00445	0f 85 d3 00 00
	00		 jne	 $LN12@reset_enti

; 205  : 				{
; 206  : 					if (weapon_config_database[config_type][package].rotate)

  0044b	69 45 f8 80 09
	00 00		 imul	 eax, DWORD PTR _config_type$[ebp], 2432
  00452	6b 8d 3c ff ff
	ff 4c		 imul	 ecx, DWORD PTR _package$[ebp], 76
  00459	83 bc 08 18 00
	00 00 00	 cmp	 DWORD PTR ?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A[eax+ecx+24], 0
  00461	74 21		 je	 SHORT $LN28@reset_enti

; 207  : 					{
; 208  : 						search_weapon_system_pitch.result_sub_object->relative_pitch = -package_status[package].weapon_system_pitch;

  00463	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR _package$[ebp]
  00469	c1 e0 04	 shl	 eax, 4
  0046c	8b 4d fc	 mov	 ecx, DWORD PTR _package_status$[ebp]
  0046f	f3 0f 10 44 01
	08		 movss	 xmm0, DWORD PTR [ecx+eax+8]
  00475	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  0047c	8b 55 88	 mov	 edx, DWORD PTR _search_weapon_system_pitch$[ebp+4]
  0047f	f3 0f 11 42 1c	 movss	 DWORD PTR [edx+28], xmm0
$LN28@reset_enti:

; 209  : 					}
; 210  : 
; 211  : 					search_weapon_system_pitch.result_sub_object->visible_object = TRUE;

  00484	8b 45 88	 mov	 eax, DWORD PTR _search_weapon_system_pitch$[ebp+4]
  00487	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0048a	83 c9 01	 or	 ecx, 1
  0048d	8b 55 88	 mov	 edx, DWORD PTR _search_weapon_system_pitch$[ebp+4]
  00490	89 4a 08	 mov	 DWORD PTR [edx+8], ecx

; 212  : 
; 213  : 					search_weapon_system_weapon_depth = weapon_config_database[config_type][package].number - package_status[package].number;

  00493	69 45 f8 80 09
	00 00		 imul	 eax, DWORD PTR _config_type$[ebp], 2432
  0049a	6b 8d 3c ff ff
	ff 4c		 imul	 ecx, DWORD PTR _package$[ebp], 76
  004a1	8b 95 3c ff ff
	ff		 mov	 edx, DWORD PTR _package$[ebp]
  004a7	c1 e2 04	 shl	 edx, 4
  004aa	8b 75 fc	 mov	 esi, DWORD PTR _package_status$[ebp]
  004ad	0f b7 14 16	 movzx	 edx, WORD PTR [esi+edx]
  004b1	8b 84 08 04 00
	00 00		 mov	 eax, DWORD PTR ?weapon_config_database@@3PAY0CA@UWEAPON_PACKAGE@@A[eax+ecx+4]
  004b8	2b c2		 sub	 eax, edx
  004ba	89 85 40 ff ff
	ff		 mov	 DWORD PTR _search_weapon_system_weapon_depth$[ebp], eax
$LN11@reset_enti:

; 214  : 
; 215  : 					while (TRUE)

  004c0	b8 01 00 00 00	 mov	 eax, 1
  004c5	85 c0		 test	 eax, eax
  004c7	74 55		 je	 SHORT $LN12@reset_enti

; 216  : 					{
; 217  : 						search_weapon_system_weapon.search_depth = search_weapon_system_weapon_depth;

  004c9	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_weapon_depth$[ebp]
  004cf	89 85 54 ff ff
	ff		 mov	 DWORD PTR _search_weapon_system_weapon$[ebp+8], eax

; 218  : 						search_weapon_system_weapon.sub_object_index = OBJECT_3D_SUB_OBJECT_WEAPON_SYSTEM_WEAPON;

  004d5	c7 85 58 ff ff
	ff 1d 00 00 00	 mov	 DWORD PTR _search_weapon_system_weapon$[ebp+12], 29 ; 0000001dH

; 219  : 
; 220  : 						if (find_object_3d_sub_object_from_sub_object (&search_weapon_system_pitch, &search_weapon_system_weapon) == SUB_OBJECT_SEARCH_RESULT_OBJECT_FOUND)

  004df	8d 85 4c ff ff
	ff		 lea	 eax, DWORD PTR _search_weapon_system_weapon$[ebp]
  004e5	50		 push	 eax
  004e6	8d 4d 84	 lea	 ecx, DWORD PTR _search_weapon_system_pitch$[ebp]
  004e9	51		 push	 ecx
  004ea	e8 00 00 00 00	 call	 ?find_object_3d_sub_object_from_sub_object@@YG?AW4SUB_OBJECT_SEARCH_RESULT_TYPES@@PAUOBJECT_3D_SUB_OBJECT_SEARCH_DATA@@0@Z ; find_object_3d_sub_object_from_sub_object
  004ef	83 f8 01	 cmp	 eax, 1
  004f2	75 17		 jne	 SHORT $LN29@reset_enti

; 221  : 						{
; 222  : 							search_weapon_system_weapon.result_sub_object->visible_object = TRUE;

  004f4	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_weapon$[ebp+4]
  004fa	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  004fd	83 c9 01	 or	 ecx, 1
  00500	8b 95 50 ff ff
	ff		 mov	 edx, DWORD PTR _search_weapon_system_weapon$[ebp+4]
  00506	89 4a 08	 mov	 DWORD PTR [edx+8], ecx

; 223  : 						}
; 224  : 						else

  00509	eb 02		 jmp	 SHORT $LN30@reset_enti
$LN29@reset_enti:

; 225  : 						{
; 226  : 							break;

  0050b	eb 11		 jmp	 SHORT $LN12@reset_enti
$LN30@reset_enti:

; 227  : 						}
; 228  : 
; 229  : 						search_weapon_system_weapon_depth++;

  0050d	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _search_weapon_system_weapon_depth$[ebp]
  00513	83 c0 01	 add	 eax, 1
  00516	89 85 40 ff ff
	ff		 mov	 DWORD PTR _search_weapon_system_weapon_depth$[ebp], eax

; 230  : 					}

  0051c	eb a2		 jmp	 SHORT $LN11@reset_enti
$LN12@reset_enti:

; 231  : 				}
; 232  : 			}
; 233  : 		}

  0051e	e9 16 fe ff ff	 jmp	 $LN8@reset_enti
$LN9@reset_enti:

; 234  : 	}
; 235  : }

  00523	5f		 pop	 edi
  00524	5e		 pop	 esi
  00525	5b		 pop	 ebx
  00526	8b e5		 mov	 esp, ebp
  00528	5d		 pop	 ebp
  00529	c2 04 00	 ret	 4
?reset_entity_weapon_config_animation@@YGXPAUENTITY@@@Z ENDP ; reset_entity_weapon_config_animation
_TEXT	ENDS
END
