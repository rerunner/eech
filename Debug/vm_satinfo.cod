; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\views\vm_satinfo.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?draw_satellite_info@@YGXXZ			; draw_satellite_info
PUBLIC	?initialise_satellite_info@@YGXXZ		; initialise_satellite_info
PUBLIC	?deinitialise_satellite_info@@YGXXZ		; deinitialise_satellite_info
PUBLIC	__real@3d4ccccd
PUBLIC	__real@3f000000
PUBLIC	__real@3f50624dd2f1a9fc
PUBLIC	__real@3f7fbe77
PUBLIC	__real@3f800000
PUBLIC	__real@3fb999999999999a
PUBLIC	__real@3fd999999999999a
PUBLIC	__real@3fe1111111111111
PUBLIC	__real@3feff7ced916872b
PUBLIC	__real@40466666
PUBLIC	__real@406ffff7ced91687
PUBLIC	__real@4070000000000000
PUBLIC	__real@407e000000000000
PUBLIC	__real@4084000000000000
PUBLIC	__real@43800000
PUBLIC	__real@43ffffdf
PUBLIC	__real@bd4ccccd
PUBLIC	__real@bf800000
PUBLIC	__real@c0466666
EXTRN	?create_system_texture_screen@@YGPAUSCREEN@@HHHH@Z:PROC ; create_system_texture_screen
EXTRN	?destroy_screen@@YGHPAUSCREEN@@@Z:PROC		; destroy_screen
EXTRN	?lock_screen@@YGHPAUSCREEN@@@Z:PROC		; lock_screen
EXTRN	?unlock_screen@@YGHPAUSCREEN@@@Z:PROC		; unlock_screen
EXTRN	?set_active_screen@@YGHPAUSCREEN@@@Z:PROC	; set_active_screen
EXTRN	?set_block@@YGXHHHHUREAL_COLOUR@@@Z:PROC	; set_block
EXTRN	?set_d3d_transparency_on@@YGXXZ:PROC		; set_d3d_transparency_on
EXTRN	?set_d3d_transparency_off@@YGXXZ:PROC		; set_d3d_transparency_off
EXTRN	?set_d3d_zbuffer_comparison@@YGXH@Z:PROC	; set_d3d_zbuffer_comparison
EXTRN	?set_d3d_culling@@YGXH@Z:PROC			; set_d3d_culling
EXTRN	?set_d3d_texture_wrapping@@YGXHH@Z:PROC		; set_d3d_texture_wrapping
EXTRN	?set_d3d_texture_mag_filtering@@YGXH@Z:PROC	; set_d3d_texture_mag_filtering
EXTRN	?set_d3d_texture_min_filtering@@YGXH@Z:PROC	; set_d3d_texture_min_filtering
EXTRN	?set_d3d_texture_mip_filtering@@YGXH@Z:PROC	; set_d3d_texture_mip_filtering
EXTRN	?set_d3d_flat_shaded_textured_renderstate@@YGXPAUSCREEN@@@Z:PROC ; set_d3d_flat_shaded_textured_renderstate
EXTRN	?draw_wbuffered_flat_shaded_textured_polygon@@YGXPAUVERTEX@@UREAL_COLOUR@@1@Z:PROC ; draw_wbuffered_flat_shaded_textured_polygon
EXTRN	?get_system_texture_ptr@@YGPAUSCREEN@@H@Z:PROC	; get_system_texture_ptr
EXTRN	?flush_screen_texture_graphics@@YGXPAUSCREEN@@@Z:PROC ; flush_screen_texture_graphics
EXTRN	?set_mono_font_colour@@YGXUREAL_COLOUR@@@Z:PROC	; set_mono_font_colour
EXTRN	?create_2d_environment@@YGPAUENV_2D@@XZ:PROC	; create_2d_environment
EXTRN	?destroy_2d_environment@@YGXPAUENV_2D@@@Z:PROC	; destroy_2d_environment
EXTRN	?set_2d_active_environment@@YGXPAUENV_2D@@@Z:PROC ; set_2d_active_environment
EXTRN	?set_2d_viewport@@YGXPAUENV_2D@@MMMM@Z:PROC	; set_2d_viewport
EXTRN	?set_2d_window@@YGXPAUENV_2D@@MMMM@Z:PROC	; set_2d_window
EXTRN	?draw_2d_line@@YGXMMMMUREAL_COLOUR@@@Z:PROC	; draw_2d_line
EXTRN	?set_3d_active_environment@@YGXPAUENV_3D@@@Z:PROC ; set_3d_active_environment
EXTRN	?begin_3d_scene@@YGHXZ:PROC			; begin_3d_scene
EXTRN	?end_3d_scene@@YGXXZ:PROC			; end_3d_scene
EXTRN	?set_main_3d_full_screen_params@@YGXW4DISPLAY_3D_TINTS@@W4DISPLAY_3D_LIGHT_LEVELS@@W4DISPLAY_3D_NOISE_LEVELS@@@Z:PROC ; set_main_3d_full_screen_params
EXTRN	?application_video_width@@3HA:DWORD		; application_video_width
EXTRN	?sys_col_red@@3UREAL_COLOUR@@A:DWORD		; sys_col_red
EXTRN	?video_screen@@3PAUSCREEN@@A:DWORD		; video_screen
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?full_screen_width@@3MA:DWORD			; full_screen_width
EXTRN	?full_screen_height@@3MA:DWORD			; full_screen_height
EXTRN	?full_screen_x_mid@@3MA:DWORD			; full_screen_x_mid
EXTRN	?full_screen_y_mid@@3MA:DWORD			; full_screen_y_mid
EXTRN	?main_3d_env@@3PAUENV_3D@@A:DWORD		; main_3d_env
EXTRN	?hud_colour_table@@3PAUREAL_COLOUR@@A:BYTE	; hud_colour_table
EXTRN	?hud_colour@@3UREAL_COLOUR@@A:DWORD		; hud_colour
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?sat_env@@3PAUENV_2D@@A DD 01H DUP (?)			; sat_env
?sat_viewport_x_org@@3MA DD 01H DUP (?)			; sat_viewport_x_org
?sat_viewport_y_org@@3MA DD 01H DUP (?)			; sat_viewport_y_org
?sat_viewport_x_min@@3MA DD 01H DUP (?)			; sat_viewport_x_min
?sat_viewport_y_min@@3MA DD 01H DUP (?)			; sat_viewport_y_min
?sat_viewport_x_max@@3MA DD 01H DUP (?)			; sat_viewport_x_max
?sat_viewport_y_max@@3MA DD 01H DUP (?)			; sat_viewport_y_max
?sat_screen_x_min@@3MA DD 01H DUP (?)			; sat_screen_x_min
?sat_screen_y_min@@3MA DD 01H DUP (?)			; sat_screen_y_min
?sat_screen_x_max@@3MA DD 01H DUP (?)			; sat_screen_x_max
?sat_screen_y_max@@3MA DD 01H DUP (?)			; sat_screen_y_max
?sat_screen_x_scale@@3MA DD 01H DUP (?)			; sat_screen_x_scale
?sat_screen_y_scale@@3MA DD 01H DUP (?)			; sat_screen_y_scale
?sat_texture_screen@@3PAUSCREEN@@A DD 01H DUP (?)	; sat_texture_screen
?clear_hud_colour@@3UREAL_COLOUR@@A DD 01H DUP (?)	; clear_hud_colour
_BSS	ENDS
;	COMDAT __real@c0466666
CONST	SEGMENT
__real@c0466666 DD 0c0466666r			; -3.1
CONST	ENDS
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
CONST	ENDS
;	COMDAT __real@bd4ccccd
CONST	SEGMENT
__real@bd4ccccd DD 0bd4ccccdr			; -0.05
CONST	ENDS
;	COMDAT __real@43ffffdf
CONST	SEGMENT
__real@43ffffdf DD 043ffffdfr			; 511.999
CONST	ENDS
;	COMDAT __real@43800000
CONST	SEGMENT
__real@43800000 DD 043800000r			; 256
CONST	ENDS
;	COMDAT __real@4084000000000000
CONST	SEGMENT
__real@4084000000000000 DQ 04084000000000000r	; 640
CONST	ENDS
;	COMDAT __real@407e000000000000
CONST	SEGMENT
__real@407e000000000000 DQ 0407e000000000000r	; 480
CONST	ENDS
;	COMDAT __real@4070000000000000
CONST	SEGMENT
__real@4070000000000000 DQ 04070000000000000r	; 256
CONST	ENDS
;	COMDAT __real@406ffff7ced91687
CONST	SEGMENT
__real@406ffff7ced91687 DQ 0406ffff7ced91687r	; 255.999
CONST	ENDS
;	COMDAT __real@40466666
CONST	SEGMENT
__real@40466666 DD 040466666r			; 3.1
CONST	ENDS
;	COMDAT __real@3feff7ced916872b
CONST	SEGMENT
__real@3feff7ced916872b DQ 03feff7ced916872br	; 0.999
CONST	ENDS
;	COMDAT __real@3fe1111111111111
CONST	SEGMENT
__real@3fe1111111111111 DQ 03fe1111111111111r	; 0.533333
CONST	ENDS
;	COMDAT __real@3fd999999999999a
CONST	SEGMENT
__real@3fd999999999999a DQ 03fd999999999999ar	; 0.4
CONST	ENDS
;	COMDAT __real@3fb999999999999a
CONST	SEGMENT
__real@3fb999999999999a DQ 03fb999999999999ar	; 0.1
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f7fbe77
CONST	SEGMENT
__real@3f7fbe77 DD 03f7fbe77r			; 0.999
CONST	ENDS
;	COMDAT __real@3f50624dd2f1a9fc
CONST	SEGMENT
__real@3f50624dd2f1a9fc DQ 03f50624dd2f1a9fcr	; 0.001
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3d4ccccd
CONST	SEGMENT
__real@3d4ccccd DD 03d4ccccdr			; 0.05
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_satinfo.c
;	COMDAT ?draw_sat_centre_datum@@YGXXZ
_TEXT	SEGMENT
?draw_sat_centre_datum@@YGXXZ PROC			; draw_sat_centre_datum, COMDAT

; 325  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 326  : 	draw_2d_line (-3.10, +0.00, -0.05, +0.00, hud_colour);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hud_colour@@3UREAL_COLOUR@@A ; hud_colour
  0000e	50		 push	 eax
  0000f	51		 push	 ecx
  00010	0f 57 c0	 xorps	 xmm0, xmm0
  00013	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00018	51		 push	 ecx
  00019	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bd4ccccd
  00021	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00026	51		 push	 ecx
  00027	0f 57 c0	 xorps	 xmm0, xmm0
  0002a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0002f	51		 push	 ecx
  00030	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@c0466666
  00038	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0003d	e8 00 00 00 00	 call	 ?draw_2d_line@@YGXMMMMUREAL_COLOUR@@@Z ; draw_2d_line

; 327  : 	draw_2d_line (+3.10, +0.00, +0.05, +0.00, hud_colour);

  00042	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hud_colour@@3UREAL_COLOUR@@A ; hud_colour
  00047	50		 push	 eax
  00048	51		 push	 ecx
  00049	0f 57 c0	 xorps	 xmm0, xmm0
  0004c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00051	51		 push	 ecx
  00052	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  0005a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0005f	51		 push	 ecx
  00060	0f 57 c0	 xorps	 xmm0, xmm0
  00063	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00068	51		 push	 ecx
  00069	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40466666
  00071	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00076	e8 00 00 00 00	 call	 ?draw_2d_line@@YGXMMMMUREAL_COLOUR@@@Z ; draw_2d_line

; 328  : 	draw_2d_line (+0.00, -3.10, +0.00, -0.05, hud_colour);

  0007b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hud_colour@@3UREAL_COLOUR@@A ; hud_colour
  00080	50		 push	 eax
  00081	51		 push	 ecx
  00082	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bd4ccccd
  0008a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0008f	51		 push	 ecx
  00090	0f 57 c0	 xorps	 xmm0, xmm0
  00093	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00098	51		 push	 ecx
  00099	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@c0466666
  000a1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a6	51		 push	 ecx
  000a7	0f 57 c0	 xorps	 xmm0, xmm0
  000aa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000af	e8 00 00 00 00	 call	 ?draw_2d_line@@YGXMMMMUREAL_COLOUR@@@Z ; draw_2d_line

; 329  : 	draw_2d_line (+0.00, +3.10, +0.00, +0.05, hud_colour);

  000b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hud_colour@@3UREAL_COLOUR@@A ; hud_colour
  000b9	50		 push	 eax
  000ba	51		 push	 ecx
  000bb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3d4ccccd
  000c3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c8	51		 push	 ecx
  000c9	0f 57 c0	 xorps	 xmm0, xmm0
  000cc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d1	51		 push	 ecx
  000d2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40466666
  000da	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000df	51		 push	 ecx
  000e0	0f 57 c0	 xorps	 xmm0, xmm0
  000e3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000e8	e8 00 00 00 00	 call	 ?draw_2d_line@@YGXMMMMUREAL_COLOUR@@@Z ; draw_2d_line

; 330  : }

  000ed	5f		 pop	 edi
  000ee	5e		 pop	 esi
  000ef	5b		 pop	 ebx
  000f0	8b e5		 mov	 esp, ebp
  000f2	5d		 pop	 ebp
  000f3	c3		 ret	 0
?draw_sat_centre_datum@@YGXXZ ENDP			; draw_sat_centre_datum
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_satinfo.c
;	COMDAT ?draw_layout_grid@@YGXXZ
_TEXT	SEGMENT
_y$ = -8						; size = 4
_x$ = -4						; size = 4
?draw_layout_grid@@YGXXZ PROC				; draw_layout_grid, COMDAT

; 304  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 305  : 	float
; 306  : 		x,
; 307  : 		y;
; 308  : 
; 309  : 	for (x = SAT_WINDOW_X_MIN; x <= SAT_WINDOW_X_MAX; x += 0.1)

  00009	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  00011	f3 0f 11 45 fc	 movss	 DWORD PTR _x$[ebp], xmm0
  00016	eb 16		 jmp	 SHORT $LN4@draw_layou
$LN2@draw_layou:
  00018	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _x$[ebp]
  0001d	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fb999999999999a
  00025	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00029	f3 0f 11 45 fc	 movss	 DWORD PTR _x$[ebp], xmm0
$LN4@draw_layou:
  0002e	f3 0f 5a 45 fc	 cvtss2sd xmm0, DWORD PTR _x$[ebp]
  00033	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3feff7ced916872b
  0003b	66 0f 2f c8	 comisd	 xmm1, xmm0
  0003f	72 3f		 jb	 SHORT $LN3@draw_layou

; 310  : 	{
; 311  : 		draw_2d_line (x, SAT_WINDOW_Y_MIN, x, SAT_WINDOW_Y_MAX, sys_col_red);

  00041	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sys_col_red@@3UREAL_COLOUR@@A ; sys_col_red
  00046	50		 push	 eax
  00047	51		 push	 ecx
  00048	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f7fbe77
  00050	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00055	51		 push	 ecx
  00056	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _x$[ebp]
  0005b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00060	51		 push	 ecx
  00061	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  00069	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0006e	51		 push	 ecx
  0006f	f3 0f 10 45 fc	 movss	 xmm0, DWORD PTR _x$[ebp]
  00074	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00079	e8 00 00 00 00	 call	 ?draw_2d_line@@YGXMMMMUREAL_COLOUR@@@Z ; draw_2d_line

; 312  : 	}

  0007e	eb 98		 jmp	 SHORT $LN2@draw_layou
$LN3@draw_layou:

; 313  : 
; 314  : 	for (y = SAT_WINDOW_Y_MIN; y <= SAT_WINDOW_Y_MAX; y += 0.1)

  00080	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  00088	f3 0f 11 45 f8	 movss	 DWORD PTR _y$[ebp], xmm0
  0008d	eb 16		 jmp	 SHORT $LN7@draw_layou
$LN5@draw_layou:
  0008f	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _y$[ebp]
  00094	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fb999999999999a
  0009c	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  000a0	f3 0f 11 45 f8	 movss	 DWORD PTR _y$[ebp], xmm0
$LN7@draw_layou:
  000a5	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _y$[ebp]
  000aa	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3feff7ced916872b
  000b2	66 0f 2f c8	 comisd	 xmm1, xmm0
  000b6	72 3f		 jb	 SHORT $LN6@draw_layou

; 315  : 	{
; 316  : 		draw_2d_line (SAT_WINDOW_X_MIN, y, SAT_WINDOW_X_MAX, y, sys_col_red);

  000b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sys_col_red@@3UREAL_COLOUR@@A ; sys_col_red
  000bd	50		 push	 eax
  000be	51		 push	 ecx
  000bf	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _y$[ebp]
  000c4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c9	51		 push	 ecx
  000ca	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f7fbe77
  000d2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d7	51		 push	 ecx
  000d8	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _y$[ebp]
  000dd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000e2	51		 push	 ecx
  000e3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  000eb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000f0	e8 00 00 00 00	 call	 ?draw_2d_line@@YGXMMMMUREAL_COLOUR@@@Z ; draw_2d_line

; 317  : 	}

  000f5	eb 98		 jmp	 SHORT $LN5@draw_layou
$LN6@draw_layou:

; 318  : }

  000f7	5f		 pop	 edi
  000f8	5e		 pop	 esi
  000f9	5b		 pop	 ebx
  000fa	8b e5		 mov	 esp, ebp
  000fc	5d		 pop	 ebp
  000fd	c3		 ret	 0
?draw_layout_grid@@YGXXZ ENDP				; draw_layout_grid
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_satinfo.c
;	COMDAT ?deinitialise_satellite_info@@YGXXZ
_TEXT	SEGMENT
?deinitialise_satellite_info@@YGXXZ PROC		; deinitialise_satellite_info, COMDAT

; 661  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 662  : 	destroy_2d_environment (sat_env);

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_env@@3PAUENV_2D@@A
  0000e	50		 push	 eax
  0000f	e8 00 00 00 00	 call	 ?destroy_2d_environment@@YGXPAUENV_2D@@@Z ; destroy_2d_environment

; 663  : 
; 664  : 	destroy_screen (sat_texture_screen);

  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_texture_screen@@3PAUSCREEN@@A
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?destroy_screen@@YGHPAUSCREEN@@@Z ; destroy_screen

; 665  : }

  0001f	5f		 pop	 edi
  00020	5e		 pop	 esi
  00021	5b		 pop	 ebx
  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?deinitialise_satellite_info@@YGXXZ ENDP		; deinitialise_satellite_info
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_satinfo.c
;	COMDAT ?initialise_satellite_info@@YGXXZ
_TEXT	SEGMENT
?initialise_satellite_info@@YGXXZ PROC			; initialise_satellite_info, COMDAT

; 645  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 646  : 	sat_env = create_2d_environment ();

  00009	e8 00 00 00 00	 call	 ?create_2d_environment@@YGPAUENV_2D@@XZ ; create_2d_environment
  0000e	a3 00 00 00 00	 mov	 DWORD PTR ?sat_env@@3PAUENV_2D@@A, eax

; 647  : 
; 648  : 	sat_texture_screen = create_system_texture_screen (SAT_VIEWPORT_SIZE, SAT_VIEWPORT_SIZE, SAT_TEXTURE_INDEX, TEXTURE_TYPE_SINGLEALPHA);

  00013	6a 02		 push	 2
  00015	68 55 06 00 00	 push	 1621			; 00000655H
  0001a	68 00 02 00 00	 push	 512			; 00000200H
  0001f	68 00 02 00 00	 push	 512			; 00000200H
  00024	e8 00 00 00 00	 call	 ?create_system_texture_screen@@YGPAUSCREEN@@HHHH@Z ; create_system_texture_screen
  00029	a3 00 00 00 00	 mov	 DWORD PTR ?sat_texture_screen@@3PAUSCREEN@@A, eax

; 649  : 
; 650  : 	clear_hud_colour.r = 255;

  0002e	c6 05 02 00 00
	00 ff		 mov	 BYTE PTR ?clear_hud_colour@@3UREAL_COLOUR@@A+2, 255 ; 000000ffH

; 651  : 	clear_hud_colour.g = 255;

  00035	c6 05 01 00 00
	00 ff		 mov	 BYTE PTR ?clear_hud_colour@@3UREAL_COLOUR@@A+1, 255 ; 000000ffH

; 652  : 	clear_hud_colour.b = 255;

  0003c	c6 05 00 00 00
	00 ff		 mov	 BYTE PTR ?clear_hud_colour@@3UREAL_COLOUR@@A, 255 ; 000000ffH

; 653  : 	clear_hud_colour.a = 0;

  00043	c6 05 03 00 00
	00 00		 mov	 BYTE PTR ?clear_hud_colour@@3UREAL_COLOUR@@A+3, 0

; 654  : }

  0004a	5f		 pop	 edi
  0004b	5e		 pop	 esi
  0004c	5b		 pop	 ebx
  0004d	8b e5		 mov	 esp, ebp
  0004f	5d		 pop	 ebp
  00050	c3		 ret	 0
?initialise_satellite_info@@YGXXZ ENDP			; initialise_satellite_info
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\views\vm_satinfo.c
;	COMDAT ?draw_satellite_info@@YGXXZ
_TEXT	SEGMENT
_specular$ = -272					; size = 4
_colour$ = -268						; size = 4
_quad$ = -264						; size = 256
_alpha$ = -8						; size = 4
_store_hud_colour$ = -4					; size = 4
?draw_satellite_info@@YGXXZ PROC			; draw_satellite_info, COMDAT

; 672  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 673  : 	rgb_colour
; 674  : 		store_hud_colour;
; 675  : 
; 676  : 	const int
; 677  : 		alpha = 255;

  0000c	c7 45 f8 ff 00
	00 00		 mov	 DWORD PTR _alpha$[ebp], 255 ; 000000ffH

; 678  : 
; 679  : #if 0
; 680  : 	float
; 681  : 		heading_offset,
; 682  : 		pitch_offset,
; 683  : 		max_offset;
; 684  : #endif
; 685  : 
; 686  : 	vertex
; 687  : 		quad[4];
; 688  : 
; 689  : 	real_colour
; 690  : 		colour,
; 691  : 		specular;
; 692  : 
; 693  : 	////////////////////////////////////////
; 694  : 	//
; 695  : 	// set active 3D environment now else 2D clipping will be affected
; 696  : 	//
; 697  : 	////////////////////////////////////////
; 698  : 
; 699  : 	set_main_3d_full_screen_params (DISPLAY_3D_TINT_CLEAR, DISPLAY_3D_LIGHT_LEVEL_HIGH, DISPLAY_3D_NOISE_LEVEL_NONE);

  00013	6a 00		 push	 0
  00015	6a 02		 push	 2
  00017	6a 00		 push	 0
  00019	e8 00 00 00 00	 call	 ?set_main_3d_full_screen_params@@YGXW4DISPLAY_3D_TINTS@@W4DISPLAY_3D_LIGHT_LEVELS@@W4DISPLAY_3D_NOISE_LEVELS@@@Z ; set_main_3d_full_screen_params

; 700  : 
; 701  : 	set_3d_active_environment (main_3d_env);

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  00023	50		 push	 eax
  00024	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 702  : 
; 703  : 	////////////////////////////////////////
; 704  : 	//
; 705  : 	// set up SAT 2D environment
; 706  : 	//
; 707  : 	////////////////////////////////////////
; 708  : 
; 709  : 	set_2d_active_environment (sat_env);

  00029	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_env@@3PAUENV_2D@@A
  0002e	50		 push	 eax
  0002f	e8 00 00 00 00	 call	 ?set_2d_active_environment@@YGXPAUENV_2D@@@Z ; set_2d_active_environment

; 710  : 
; 711  : 	set_2d_window (sat_env, SAT_WINDOW_X_MIN, SAT_WINDOW_Y_MIN, SAT_WINDOW_X_MAX, SAT_WINDOW_Y_MAX);

  00034	51		 push	 ecx
  00035	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f7fbe77
  0003d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00042	51		 push	 ecx
  00043	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f7fbe77
  0004b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00050	51		 push	 ecx
  00051	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  00059	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0005e	51		 push	 ecx
  0005f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@bf800000
  00067	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_env@@3PAUENV_2D@@A
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 ?set_2d_window@@YGXPAUENV_2D@@MMMM@Z ; set_2d_window

; 712  : 
; 713  : 	sat_viewport_x_org = SAT_VIEWPORT_SIZE * 0.5;

  00077	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43800000
  0007f	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_viewport_x_org@@3MA, xmm0

; 714  : 
; 715  : 	sat_viewport_y_org = SAT_VIEWPORT_SIZE * 0.5;

  00087	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43800000
  0008f	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_viewport_y_org@@3MA, xmm0

; 716  : 
; 717  : 	sat_viewport_x_min = 0.0;

  00097	0f 57 c0	 xorps	 xmm0, xmm0
  0009a	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_viewport_x_min@@3MA, xmm0

; 718  : 
; 719  : 	sat_viewport_y_min = 0.0;

  000a2	0f 57 c0	 xorps	 xmm0, xmm0
  000a5	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_viewport_y_min@@3MA, xmm0

; 720  : 
; 721  : 	sat_viewport_x_max = SAT_VIEWPORT_SIZE - 0.001;

  000ad	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43ffffdf
  000b5	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_viewport_x_max@@3MA, xmm0

; 722  : 
; 723  : 	sat_viewport_y_max = SAT_VIEWPORT_SIZE - 0.001;

  000bd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@43ffffdf
  000c5	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_viewport_y_max@@3MA, xmm0

; 724  : 
; 725  : 	set_2d_viewport (sat_env, sat_viewport_x_min, sat_viewport_y_min, sat_viewport_x_max, sat_viewport_y_max);

  000cd	51		 push	 ecx
  000ce	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_viewport_y_max@@3MA
  000d6	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000db	51		 push	 ecx
  000dc	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_viewport_x_max@@3MA
  000e4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000e9	51		 push	 ecx
  000ea	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_viewport_y_min@@3MA
  000f2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000f7	51		 push	 ecx
  000f8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_viewport_x_min@@3MA
  00100	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_env@@3PAUENV_2D@@A
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?set_2d_viewport@@YGXPAUENV_2D@@MMMM@Z ; set_2d_viewport

; 726  : 
; 727  : 	//
; 728  : 	// get screen co-ords (scaled to keep SAT size constant)
; 729  : 	//
; 730  : 
; 731  : 	if (get_global_unscaled_displays ())

  00110	83 3d 74 03 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+884, 0
  00117	0f 84 95 00 00
	00		 je	 $LN2@draw_satel

; 732  : 	{
; 733  : 		sat_screen_x_min = full_screen_x_mid - 256.0;

  0011d	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_x_mid@@3MA
  00125	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@4070000000000000
  0012d	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00131	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_x_min@@3MA, xmm0

; 734  : 		sat_screen_y_min = full_screen_y_mid - 256.0;

  00139	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_y_mid@@3MA
  00141	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@4070000000000000
  00149	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0014d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_y_min@@3MA, xmm0

; 735  : 
; 736  : 		sat_screen_x_max = full_screen_x_mid + 255.999;

  00155	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_x_mid@@3MA
  0015d	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@406ffff7ced91687
  00165	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00169	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_x_max@@3MA, xmm0

; 737  : 		sat_screen_y_max = full_screen_y_mid + 255.999;

  00171	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_y_mid@@3MA
  00179	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@406ffff7ced91687
  00181	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00185	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_y_max@@3MA, xmm0

; 738  : 
; 739  : 		sat_screen_x_scale = 1.0;

  0018d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00195	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_x_scale@@3MA, xmm0

; 740  : 		sat_screen_y_scale = 1.0;

  0019d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001a5	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_y_scale@@3MA, xmm0

; 741  : 	}
; 742  : 	else

  001ad	e9 f0 00 00 00	 jmp	 $LN3@draw_satel
$LN2@draw_satel:

; 743  : 	{
; 744  : 		sat_screen_x_min = full_screen_x_mid - ((256.0 / (640.0 * 1.0)) * full_screen_width);

  001b2	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_x_mid@@3MA
  001ba	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?full_screen_width@@3MA
  001c2	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fd999999999999a
  001ca	f2 0f 5c c1	 subsd	 xmm0, xmm1
  001ce	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001d2	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_x_min@@3MA, xmm0

; 745  : 		sat_screen_y_min = full_screen_y_mid - ((256.0 / (480.0 * 1.0)) * full_screen_height);

  001da	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_y_mid@@3MA
  001e2	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?full_screen_height@@3MA
  001ea	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe1111111111111
  001f2	f2 0f 5c c1	 subsd	 xmm0, xmm1
  001f6	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  001fa	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_y_min@@3MA, xmm0

; 746  : 
; 747  : 		sat_screen_x_max = full_screen_x_mid + ((256.0 / (640.0 * 1.0)) * full_screen_width) - 0.001;

  00202	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_x_mid@@3MA
  0020a	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?full_screen_width@@3MA
  00212	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fd999999999999a
  0021a	f2 0f 58 c1	 addsd	 xmm0, xmm1
  0021e	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3f50624dd2f1a9fc
  00226	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0022a	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_x_max@@3MA, xmm0

; 748  : 		sat_screen_y_max = full_screen_y_mid + ((256.0 / (480.0 * 1.0)) * full_screen_height) - 0.001;

  00232	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_y_mid@@3MA
  0023a	f3 0f 5a 0d 00
	00 00 00	 cvtss2sd xmm1, DWORD PTR ?full_screen_height@@3MA
  00242	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe1111111111111
  0024a	f2 0f 58 c1	 addsd	 xmm0, xmm1
  0024e	f2 0f 5c 05 00
	00 00 00	 subsd	 xmm0, QWORD PTR __real@3f50624dd2f1a9fc
  00256	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  0025a	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_y_max@@3MA, xmm0

; 749  : 
; 750  : 		sat_screen_x_scale = 640.0 / full_screen_width;

  00262	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_width@@3MA
  0026a	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4084000000000000
  00272	f2 0f 5e c8	 divsd	 xmm1, xmm0
  00276	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  0027a	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_x_scale@@3MA, xmm0

; 751  : 		sat_screen_y_scale = 480.0 / full_screen_height;

  00282	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?full_screen_height@@3MA
  0028a	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@407e000000000000
  00292	f2 0f 5e c8	 divsd	 xmm1, xmm0
  00296	f2 0f 5a c1	 cvtsd2ss xmm0, xmm1
  0029a	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?sat_screen_y_scale@@3MA, xmm0
$LN3@draw_satel:

; 752  : 	}
; 753  : 
; 754  : 	////////////////////////////////////////
; 755  : 	//
; 756  : 	// draw SAT on texture
; 757  : 	//
; 758  : 	////////////////////////////////////////
; 759  : 
; 760  : 	set_active_screen (sat_texture_screen);

  002a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_texture_screen@@3PAUSCREEN@@A
  002a7	50		 push	 eax
  002a8	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 761  : 
; 762  : 	if (lock_screen (sat_texture_screen))

  002ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_texture_screen@@3PAUSCREEN@@A
  002b2	50		 push	 eax
  002b3	e8 00 00 00 00	 call	 ?lock_screen@@YGHPAUSCREEN@@@Z ; lock_screen
  002b8	85 c0		 test	 eax, eax
  002ba	74 70		 je	 SHORT $LN4@draw_satel

; 763  : 	{
; 764  : 	 	store_hud_colour = hud_colour;

  002bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hud_colour@@3UREAL_COLOUR@@A ; hud_colour
  002c1	89 45 fc	 mov	 DWORD PTR _store_hud_colour$[ebp], eax

; 765  : 
; 766  : 		set_rgb_colour (hud_colour, 255, 255, 255, 255);

  002c4	c6 05 02 00 00
	00 ff		 mov	 BYTE PTR ?hud_colour@@3UREAL_COLOUR@@A+2, 255 ; 000000ffH
  002cb	c6 05 01 00 00
	00 ff		 mov	 BYTE PTR ?hud_colour@@3UREAL_COLOUR@@A+1, 255 ; 000000ffH
  002d2	c6 05 00 00 00
	00 ff		 mov	 BYTE PTR ?hud_colour@@3UREAL_COLOUR@@A, 255 ; 000000ffH
  002d9	c6 05 03 00 00
	00 ff		 mov	 BYTE PTR ?hud_colour@@3UREAL_COLOUR@@A+3, 255 ; 000000ffH

; 767  : 
; 768  : 		set_mono_font_colour (hud_colour);

  002e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hud_colour@@3UREAL_COLOUR@@A ; hud_colour
  002e5	50		 push	 eax
  002e6	e8 00 00 00 00	 call	 ?set_mono_font_colour@@YGXUREAL_COLOUR@@@Z ; set_mono_font_colour

; 769  : 
; 770  : 		set_block (0, 0, SAT_VIEWPORT_SIZE - 1, SAT_VIEWPORT_SIZE - 1, clear_hud_colour);

  002eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?clear_hud_colour@@3UREAL_COLOUR@@A
  002f0	50		 push	 eax
  002f1	68 ff 01 00 00	 push	 511			; 000001ffH
  002f6	68 ff 01 00 00	 push	 511			; 000001ffH
  002fb	6a 00		 push	 0
  002fd	6a 00		 push	 0
  002ff	e8 00 00 00 00	 call	 ?set_block@@YGXHHHHUREAL_COLOUR@@@Z ; set_block

; 771  : 
; 772  : 		draw_layout_grid ();

  00304	e8 00 00 00 00	 call	 ?draw_layout_grid@@YGXXZ ; draw_layout_grid

; 773  : 
; 774  : 		draw_sat_centre_datum ();

  00309	e8 00 00 00 00	 call	 ?draw_sat_centre_datum@@YGXXZ ; draw_sat_centre_datum

; 775  : 
; 776  : 		hud_colour = store_hud_colour;

  0030e	8b 45 fc	 mov	 eax, DWORD PTR _store_hud_colour$[ebp]
  00311	a3 00 00 00 00	 mov	 DWORD PTR ?hud_colour@@3UREAL_COLOUR@@A, eax ; hud_colour

; 777  : 
; 778  : 		flush_screen_texture_graphics (sat_texture_screen);

  00316	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_texture_screen@@3PAUSCREEN@@A
  0031b	50		 push	 eax
  0031c	e8 00 00 00 00	 call	 ?flush_screen_texture_graphics@@YGXPAUSCREEN@@@Z ; flush_screen_texture_graphics

; 779  : 
; 780  : 		unlock_screen (sat_texture_screen);

  00321	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sat_texture_screen@@3PAUSCREEN@@A
  00326	50		 push	 eax
  00327	e8 00 00 00 00	 call	 ?unlock_screen@@YGHPAUSCREEN@@@Z ; unlock_screen
$LN4@draw_satel:

; 781  : 	}
; 782  : 
; 783  : 	set_active_screen (video_screen);

  0032c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?video_screen@@3PAUSCREEN@@A ; video_screen
  00331	50		 push	 eax
  00332	e8 00 00 00 00	 call	 ?set_active_screen@@YGHPAUSCREEN@@@Z ; set_active_screen

; 784  : 
; 785  : 	////////////////////////////////////////
; 786  : 	//
; 787  : 	// render SAT to screen
; 788  : 	//
; 789  : 	////////////////////////////////////////
; 790  : 
; 791  : 	set_3d_active_environment (main_3d_env);

  00337	a1 00 00 00 00	 mov	 eax, DWORD PTR ?main_3d_env@@3PAUENV_3D@@A ; main_3d_env
  0033c	50		 push	 eax
  0033d	e8 00 00 00 00	 call	 ?set_3d_active_environment@@YGXPAUENV_3D@@@Z ; set_3d_active_environment

; 792  : 
; 793  : 	if (begin_3d_scene ())

  00342	e8 00 00 00 00	 call	 ?begin_3d_scene@@YGHXZ	; begin_3d_scene
  00347	85 c0		 test	 eax, eax
  00349	0f 84 a1 03 00
	00		 je	 $LN5@draw_satel

; 794  : 	{
; 795  : 		set_d3d_transparency_on ();

  0034f	e8 00 00 00 00	 call	 ?set_d3d_transparency_on@@YGXXZ ; set_d3d_transparency_on

; 796  : 
; 797  : 		set_d3d_zbuffer_comparison (FALSE);

  00354	6a 00		 push	 0
  00356	e8 00 00 00 00	 call	 ?set_d3d_zbuffer_comparison@@YGXH@Z ; set_d3d_zbuffer_comparison

; 798  : 
; 799  : 		set_d3d_culling (FALSE);

  0035b	6a 00		 push	 0
  0035d	e8 00 00 00 00	 call	 ?set_d3d_culling@@YGXH@Z ; set_d3d_culling

; 800  : 
; 801  : 		set_d3d_texture_wrapping (0, FALSE);

  00362	6a 00		 push	 0
  00364	6a 00		 push	 0
  00366	e8 00 00 00 00	 call	 ?set_d3d_texture_wrapping@@YGXHH@Z ; set_d3d_texture_wrapping

; 802  : 
; 803  : 		if ((application_video_width == 640) || (get_global_unscaled_displays ()))

  0036b	81 3d 00 00 00
	00 80 02 00 00	 cmp	 DWORD PTR ?application_video_width@@3HA, 640 ; application_video_width, 00000280H
  00375	74 09		 je	 SHORT $LN8@draw_satel
  00377	83 3d 74 03 00
	00 00		 cmp	 DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+884, 0
  0037e	74 17		 je	 SHORT $LN6@draw_satel
$LN8@draw_satel:

; 804  : 		{
; 805  : 			set_d3d_texture_mag_filtering (FALSE);

  00380	6a 00		 push	 0
  00382	e8 00 00 00 00	 call	 ?set_d3d_texture_mag_filtering@@YGXH@Z ; set_d3d_texture_mag_filtering

; 806  : 			set_d3d_texture_min_filtering (FALSE);

  00387	6a 00		 push	 0
  00389	e8 00 00 00 00	 call	 ?set_d3d_texture_min_filtering@@YGXH@Z ; set_d3d_texture_min_filtering

; 807  : 			set_d3d_texture_mip_filtering (FALSE);

  0038e	6a 00		 push	 0
  00390	e8 00 00 00 00	 call	 ?set_d3d_texture_mip_filtering@@YGXH@Z ; set_d3d_texture_mip_filtering

; 808  : 		}
; 809  : 		else

  00395	eb 15		 jmp	 SHORT $LN7@draw_satel
$LN6@draw_satel:

; 810  : 		{
; 811  : 			set_d3d_texture_mag_filtering (TRUE);

  00397	6a 01		 push	 1
  00399	e8 00 00 00 00	 call	 ?set_d3d_texture_mag_filtering@@YGXH@Z ; set_d3d_texture_mag_filtering

; 812  : 			set_d3d_texture_min_filtering (TRUE);

  0039e	6a 01		 push	 1
  003a0	e8 00 00 00 00	 call	 ?set_d3d_texture_min_filtering@@YGXH@Z ; set_d3d_texture_min_filtering

; 813  : 			set_d3d_texture_mip_filtering (FALSE);

  003a5	6a 00		 push	 0
  003a7	e8 00 00 00 00	 call	 ?set_d3d_texture_mip_filtering@@YGXH@Z ; set_d3d_texture_mip_filtering
$LN7@draw_satel:

; 814  : 		}
; 815  : 
; 816  : 		set_d3d_flat_shaded_textured_renderstate (get_system_texture_ptr (SAT_TEXTURE_INDEX));

  003ac	68 55 06 00 00	 push	 1621			; 00000655H
  003b1	e8 00 00 00 00	 call	 ?get_system_texture_ptr@@YGPAUSCREEN@@H@Z ; get_system_texture_ptr
  003b6	50		 push	 eax
  003b7	e8 00 00 00 00	 call	 ?set_d3d_flat_shaded_textured_renderstate@@YGXPAUSCREEN@@@Z ; set_d3d_flat_shaded_textured_renderstate

; 817  : 
; 818  : 		////////////////////////////////////////
; 819  : 		//
; 820  : 
; 821  : 		colour.red	  			= hud_colour_table[get_global_hud_colour ()].r;

  003bc	a1 10 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+16
  003c1	8a 0c 85 02 00
	00 00		 mov	 cl, BYTE PTR ?hud_colour_table@@3PAUREAL_COLOUR@@A[eax*4+2]
  003c8	88 8d f6 fe ff
	ff		 mov	 BYTE PTR _colour$[ebp+2], cl

; 822  : 		colour.green 			= hud_colour_table[get_global_hud_colour ()].g;

  003ce	a1 10 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+16
  003d3	8a 0c 85 01 00
	00 00		 mov	 cl, BYTE PTR ?hud_colour_table@@3PAUREAL_COLOUR@@A[eax*4+1]
  003da	88 8d f5 fe ff
	ff		 mov	 BYTE PTR _colour$[ebp+1], cl

; 823  : 		colour.blue	 			= hud_colour_table[get_global_hud_colour ()].b;

  003e0	a1 10 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+16
  003e5	8a 0c 85 00 00
	00 00		 mov	 cl, BYTE PTR ?hud_colour_table@@3PAUREAL_COLOUR@@A[eax*4]
  003ec	88 8d f4 fe ff
	ff		 mov	 BYTE PTR _colour$[ebp], cl

; 824  : 		colour.alpha			= alpha;

  003f2	c6 85 f7 fe ff
	ff ff		 mov	 BYTE PTR _colour$[ebp+3], 255 ; 000000ffH

; 825  : 
; 826  : 		specular.red  			= 0;

  003f9	c6 85 f2 fe ff
	ff 00		 mov	 BYTE PTR _specular$[ebp+2], 0

; 827  : 		specular.green			= 0;

  00400	c6 85 f1 fe ff
	ff 00		 mov	 BYTE PTR _specular$[ebp+1], 0

; 828  : 		specular.blue			= 0;

  00407	c6 85 f0 fe ff
	ff 00		 mov	 BYTE PTR _specular$[ebp], 0

; 829  : 		specular.alpha			= 255;

  0040e	c6 85 f3 fe ff
	ff ff		 mov	 BYTE PTR _specular$[ebp+3], 255 ; 000000ffH

; 830  : 
; 831  : 		quad[0].i				= sat_screen_x_min;

  00415	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0041a	6b c8 00	 imul	 ecx, eax, 0
  0041d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_x_min@@3MA
  00425	f3 0f 11 84 0d
	08 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+16], xmm0

; 832  : 		quad[0].j	  			= sat_screen_y_min;

  0042e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00433	6b c8 00	 imul	 ecx, eax, 0
  00436	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_y_min@@3MA
  0043e	f3 0f 11 84 0d
	0c ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+20], xmm0

; 833  : 		quad[0].z	  			= 0.5;

  00447	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0044c	6b c8 00	 imul	 ecx, eax, 0
  0044f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00457	f3 0f 11 84 0d
	00 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+8], xmm0

; 834  : 		quad[0].q	  			= 0.5;

  00460	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00465	6b c8 00	 imul	 ecx, eax, 0
  00468	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00470	f3 0f 11 84 0d
	04 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+12], xmm0

; 835  : 		quad[0].u	  			= 0.0;

  00479	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0047e	6b c8 00	 imul	 ecx, eax, 0
  00481	0f 57 c0	 xorps	 xmm0, xmm0
  00484	f3 0f 11 84 0d
	10 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+24], xmm0

; 836  : 		quad[0].v	  			= 0.0;

  0048d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00492	6b c8 00	 imul	 ecx, eax, 0
  00495	0f 57 c0	 xorps	 xmm0, xmm0
  00498	f3 0f 11 84 0d
	14 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+28], xmm0

; 837  : 
; 838  : 		quad[1].i  				= sat_screen_x_max;

  004a1	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004a6	c1 e0 00	 shl	 eax, 0
  004a9	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_x_max@@3MA
  004b1	f3 0f 11 84 05
	08 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+16], xmm0

; 839  : 		quad[1].j  				= sat_screen_y_min;

  004ba	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004bf	c1 e0 00	 shl	 eax, 0
  004c2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_y_min@@3MA
  004ca	f3 0f 11 84 05
	0c ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+20], xmm0

; 840  : 		quad[1].z  				= 0.5;

  004d3	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004d8	c1 e0 00	 shl	 eax, 0
  004db	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  004e3	f3 0f 11 84 05
	00 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+8], xmm0

; 841  : 		quad[1].q  				= 0.5;

  004ec	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004f1	c1 e0 00	 shl	 eax, 0
  004f4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  004fc	f3 0f 11 84 05
	04 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+12], xmm0

; 842  : 		quad[1].u  				= 1.0;

  00505	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0050a	c1 e0 00	 shl	 eax, 0
  0050d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00515	f3 0f 11 84 05
	10 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+24], xmm0

; 843  : 		quad[1].v  				= 0.0;

  0051e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00523	c1 e0 00	 shl	 eax, 0
  00526	0f 57 c0	 xorps	 xmm0, xmm0
  00529	f3 0f 11 84 05
	14 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+28], xmm0

; 844  : 
; 845  : 		quad[2].i				= sat_screen_x_max;

  00532	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00537	d1 e0		 shl	 eax, 1
  00539	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_x_max@@3MA
  00541	f3 0f 11 84 05
	08 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+16], xmm0

; 846  : 		quad[2].j  				= sat_screen_y_max;

  0054a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0054f	d1 e0		 shl	 eax, 1
  00551	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_y_max@@3MA
  00559	f3 0f 11 84 05
	0c ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+20], xmm0

; 847  : 		quad[2].z  				= 0.5;

  00562	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00567	d1 e0		 shl	 eax, 1
  00569	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00571	f3 0f 11 84 05
	00 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+8], xmm0

; 848  : 		quad[2].q  				= 0.5;

  0057a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0057f	d1 e0		 shl	 eax, 1
  00581	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00589	f3 0f 11 84 05
	04 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+12], xmm0

; 849  : 		quad[2].u  				= 1.0;

  00592	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00597	d1 e0		 shl	 eax, 1
  00599	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  005a1	f3 0f 11 84 05
	10 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+24], xmm0

; 850  : 		quad[2].v  				= 1.0;

  005aa	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  005af	d1 e0		 shl	 eax, 1
  005b1	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  005b9	f3 0f 11 84 05
	14 ff ff ff	 movss	 DWORD PTR _quad$[ebp+eax+28], xmm0

; 851  : 
; 852  : 		quad[3].i				= sat_screen_x_min;

  005c2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  005c7	6b c8 03	 imul	 ecx, eax, 3
  005ca	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_x_min@@3MA
  005d2	f3 0f 11 84 0d
	08 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+16], xmm0

; 853  : 		quad[3].j				= sat_screen_y_max;

  005db	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  005e0	6b c8 03	 imul	 ecx, eax, 3
  005e3	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?sat_screen_y_max@@3MA
  005eb	f3 0f 11 84 0d
	0c ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+20], xmm0

; 854  : 		quad[3].z				= 0.5;

  005f4	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  005f9	6b c8 03	 imul	 ecx, eax, 3
  005fc	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00604	f3 0f 11 84 0d
	00 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+8], xmm0

; 855  : 		quad[3].q				= 0.5;

  0060d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00612	6b c8 03	 imul	 ecx, eax, 3
  00615	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0061d	f3 0f 11 84 0d
	04 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+12], xmm0

; 856  : 		quad[3].u				= 0.0;

  00626	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0062b	6b c8 03	 imul	 ecx, eax, 3
  0062e	0f 57 c0	 xorps	 xmm0, xmm0
  00631	f3 0f 11 84 0d
	10 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+24], xmm0

; 857  : 		quad[3].v				= 1.0;

  0063a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0063f	6b c8 03	 imul	 ecx, eax, 3
  00642	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  0064a	f3 0f 11 84 0d
	14 ff ff ff	 movss	 DWORD PTR _quad$[ebp+ecx+28], xmm0

; 858  : 
; 859  : 		quad[0].next_vertex 	= &quad[1];

  00653	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00658	c1 e0 00	 shl	 eax, 0
  0065b	8d 8c 05 f8 fe
	ff ff		 lea	 ecx, DWORD PTR _quad$[ebp+eax]
  00662	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  00667	6b c2 00	 imul	 eax, edx, 0
  0066a	89 8c 05 20 ff
	ff ff		 mov	 DWORD PTR _quad$[ebp+eax+40], ecx

; 860  : 		quad[1].next_vertex 	= &quad[2];

  00671	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00676	d1 e0		 shl	 eax, 1
  00678	8d 8c 05 f8 fe
	ff ff		 lea	 ecx, DWORD PTR _quad$[ebp+eax]
  0067f	ba 40 00 00 00	 mov	 edx, 64			; 00000040H
  00684	c1 e2 00	 shl	 edx, 0
  00687	89 8c 15 20 ff
	ff ff		 mov	 DWORD PTR _quad$[ebp+edx+40], ecx

; 861  : 		quad[2].next_vertex 	= &quad[3];

  0068e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00693	6b c8 03	 imul	 ecx, eax, 3
  00696	8d 94 0d f8 fe
	ff ff		 lea	 edx, DWORD PTR _quad$[ebp+ecx]
  0069d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  006a2	d1 e0		 shl	 eax, 1
  006a4	89 94 05 20 ff
	ff ff		 mov	 DWORD PTR _quad$[ebp+eax+40], edx

; 862  : 		quad[3].next_vertex	= NULL;

  006ab	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  006b0	6b c8 03	 imul	 ecx, eax, 3
  006b3	c7 84 0d 20 ff
	ff ff 00 00 00
	00		 mov	 DWORD PTR _quad$[ebp+ecx+40], 0

; 863  : 
; 864  : 		//
; 865  : 		////////////////////////////////////////
; 866  : 
; 867  : 		draw_wbuffered_flat_shaded_textured_polygon (quad, colour, specular);

  006be	8b 85 f0 fe ff
	ff		 mov	 eax, DWORD PTR _specular$[ebp]
  006c4	50		 push	 eax
  006c5	8b 8d f4 fe ff
	ff		 mov	 ecx, DWORD PTR _colour$[ebp]
  006cb	51		 push	 ecx
  006cc	8d 95 f8 fe ff
	ff		 lea	 edx, DWORD PTR _quad$[ebp]
  006d2	52		 push	 edx
  006d3	e8 00 00 00 00	 call	 ?draw_wbuffered_flat_shaded_textured_polygon@@YGXPAUVERTEX@@UREAL_COLOUR@@1@Z ; draw_wbuffered_flat_shaded_textured_polygon

; 868  : 
; 869  : 		set_d3d_transparency_off ();

  006d8	e8 00 00 00 00	 call	 ?set_d3d_transparency_off@@YGXXZ ; set_d3d_transparency_off

; 870  : 
; 871  : 		set_d3d_zbuffer_comparison (TRUE);

  006dd	6a 01		 push	 1
  006df	e8 00 00 00 00	 call	 ?set_d3d_zbuffer_comparison@@YGXH@Z ; set_d3d_zbuffer_comparison

; 872  : 
; 873  : 		set_d3d_culling (TRUE);

  006e4	6a 01		 push	 1
  006e6	e8 00 00 00 00	 call	 ?set_d3d_culling@@YGXH@Z ; set_d3d_culling

; 874  : 
; 875  : 		end_3d_scene ();

  006eb	e8 00 00 00 00	 call	 ?end_3d_scene@@YGXXZ	; end_3d_scene
$LN5@draw_satel:

; 876  : 	}
; 877  : }

  006f0	5f		 pop	 edi
  006f1	5e		 pop	 esi
  006f2	5b		 pop	 ebx
  006f3	8b e5		 mov	 esp, ebp
  006f5	5d		 pop	 ebp
  006f6	c3		 ret	 0
?draw_satellite_info@@YGXXZ ENDP			; draw_satellite_info
_TEXT	ENDS
END
