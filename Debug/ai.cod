; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\ai\ai.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?ai_memory_counter@@3HA				; ai_memory_counter
_BSS	SEGMENT
?ai_memory_counter@@3HA DD 01H DUP (?)			; ai_memory_counter
_BSS	ENDS
PUBLIC	?initialise_ai_system@@YGXXZ			; initialise_ai_system
PUBLIC	?start_ai_system@@YGXXZ				; start_ai_system
PUBLIC	?stop_ai_system@@YGXXZ				; stop_ai_system
PUBLIC	?reinitialise_client_ai_system@@YGXXZ		; reinitialise_client_ai_system
PUBLIC	?reinitialise_ai_system@@YGXXZ			; reinitialise_ai_system
PUBLIC	?deinitialise_ai_system@@YGXXZ			; deinitialise_ai_system
PUBLIC	?__LINE__Var@?0??reinitialise_ai_system@@YGXXZ@4JA ; `reinitialise_ai_system'::`1'::__LINE__Var
PUBLIC	??_C@_0DE@IHLIOLKI@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@ ; `string'
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?initialise_formation_database@@YGXXZ:PROC	; initialise_formation_database
EXTRN	?deinitialise_formation_database@@YGXXZ:PROC	; deinitialise_formation_database
EXTRN	?initialise_formation_component_database@@YGXXZ:PROC ; initialise_formation_component_database
EXTRN	?deinitialise_formation_component_database@@YGXXZ:PROC ; deinitialise_formation_component_database
EXTRN	?set_comms_data_flow@@YGXW4COMMS_DATA_FLOW_TYPES@@@Z:PROC ; set_comms_data_flow
EXTRN	?set_comms_model@@YGXW4COMMS_MODEL_TYPES@@@Z:PROC ; set_comms_model
EXTRN	?initialise_speech_buffers@@YGXXZ:PROC		; initialise_speech_buffers
EXTRN	?deinitialise_speech_buffers@@YGXXZ:PROC	; deinitialise_speech_buffers
EXTRN	?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z:PROC ; get_local_force_entity
EXTRN	?initialise_keysite_farp_enable@@YGXPAUENTITY@@@Z:PROC ; initialise_keysite_farp_enable
EXTRN	?destroy_debug_landing_route_check@@YGXXZ:PROC	; destroy_debug_landing_route_check
EXTRN	?initialise_object_3d_regeneration_database@@YGXXZ:PROC ; initialise_object_3d_regeneration_database
EXTRN	?initialise_route_data@@YGXXZ:PROC		; initialise_route_data
EXTRN	?clear_road_route_data@@YGXXZ:PROC		; clear_road_route_data
EXTRN	?deinitialise_route_data@@YGXXZ:PROC		; deinitialise_route_data
EXTRN	?initialise_ai_database@@YGXXZ:PROC		; initialise_ai_database
EXTRN	?deinitialise_ai_database@@YGXXZ:PROC		; deinitialise_ai_database
EXTRN	?read_population_placement_file@@YGXPBD@Z:PROC	; read_population_placement_file
EXTRN	?initialise_briefing_parser@@YGXXZ:PROC		; initialise_briefing_parser
EXTRN	?deinitialise_briefing_parser@@YGXXZ:PROC	; deinitialise_briefing_parser
EXTRN	?initialise_high_level_ai@@YGXXZ:PROC		; initialise_high_level_ai
EXTRN	?deinitialise_high_level_ai@@YGXXZ:PROC		; deinitialise_high_level_ai
EXTRN	?start_high_level_ai@@YGXXZ:PROC		; start_high_level_ai
EXTRN	?stop_high_level_ai@@YGXXZ:PROC			; stop_high_level_ai
EXTRN	?system_comms_model@@3W4COMMS_MODEL_TYPES@@A:DWORD ; system_comms_model
EXTRN	?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A:DWORD ; system_comms_data_flow
EXTRN	?current_game_session@@3PAUSESSION_LIST_DATA_TYPE@@A:DWORD ; current_game_session
EXTRN	?assign_create_waypoint_route@@3HA:DWORD	; assign_create_waypoint_route
EXTRN	?population_placement_filename@@3PADA:DWORD	; population_placement_filename
;	COMDAT ??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@ DB 'get_current_ga'
	DB	'me_session ()', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@IHLIOLKI@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0DE@IHLIOLKI@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\ai\ai.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??reinitialise_ai_system@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??reinitialise_ai_system@@YGXXZ@4JA DD 0dbH ; `reinitialise_ai_system'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\ai.c
;	COMDAT ?reinitialise_ai_debug@@YGXXZ
_TEXT	SEGMENT
?reinitialise_ai_debug@@YGXXZ PROC			; reinitialise_ai_debug, COMDAT

; 255  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 256  : 
; 257  : 	#if LANDING_ROUTE_CHECK
; 258  : 
; 259  : 	destroy_debug_landing_route_check ();

  00009	e8 00 00 00 00	 call	 ?destroy_debug_landing_route_check@@YGXXZ ; destroy_debug_landing_route_check

; 260  : 
; 261  : 	#endif
; 262  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?reinitialise_ai_debug@@YGXXZ ENDP			; reinitialise_ai_debug
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\ai.c
;	COMDAT ?deinitialise_ai_system@@YGXXZ
_TEXT	SEGMENT
?deinitialise_ai_system@@YGXXZ PROC			; deinitialise_ai_system, COMDAT

; 143  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 144  : 
; 145  : 	deinitialise_briefing_parser ();

  00009	e8 00 00 00 00	 call	 ?deinitialise_briefing_parser@@YGXXZ ; deinitialise_briefing_parser

; 146  : 
; 147  : 	deinitialise_ai_database ();

  0000e	e8 00 00 00 00	 call	 ?deinitialise_ai_database@@YGXXZ ; deinitialise_ai_database

; 148  : 
; 149  : 	deinitialise_route_data ();

  00013	e8 00 00 00 00	 call	 ?deinitialise_route_data@@YGXXZ ; deinitialise_route_data

; 150  : 
; 151  : 	deinitialise_formation_database ();

  00018	e8 00 00 00 00	 call	 ?deinitialise_formation_database@@YGXXZ ; deinitialise_formation_database

; 152  : 
; 153  : 	deinitialise_formation_component_database ();

  0001d	e8 00 00 00 00	 call	 ?deinitialise_formation_component_database@@YGXXZ ; deinitialise_formation_component_database

; 154  : 
; 155  : 	deinitialise_high_level_ai ();

  00022	e8 00 00 00 00	 call	 ?deinitialise_high_level_ai@@YGXXZ ; deinitialise_high_level_ai

; 156  : 
; 157  : 	deinitialise_speech_buffers ();

  00027	e8 00 00 00 00	 call	 ?deinitialise_speech_buffers@@YGXXZ ; deinitialise_speech_buffers

; 158  : 
; 159  : 	reinitialise_ai_debug ();

  0002c	e8 00 00 00 00	 call	 ?reinitialise_ai_debug@@YGXXZ ; reinitialise_ai_debug

; 160  : 
; 161  : 	#if AI_DEBUG
; 162  : 
; 163  : 	debug_log ("Deinitialise AI system");
; 164  : 
; 165  : 	debug_log ("AI Memory count = %d", ai_memory_counter);
; 166  : 
; 167  : 	#endif
; 168  : }

  00031	5f		 pop	 edi
  00032	5e		 pop	 esi
  00033	5b		 pop	 ebx
  00034	8b e5		 mov	 esp, ebp
  00036	5d		 pop	 ebp
  00037	c3		 ret	 0
?deinitialise_ai_system@@YGXXZ ENDP			; deinitialise_ai_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\ai.c
;	COMDAT ?reinitialise_ai_system@@YGXXZ
_TEXT	SEGMENT
?reinitialise_ai_system@@YGXXZ PROC			; reinitialise_ai_system, COMDAT

; 219  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 220  : 
; 221  : 	ASSERT (get_current_game_session ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?current_game_session@@3PAUSESSION_LIST_DATA_TYPE@@A, 0 ; current_game_session
  00010	75 18		 jne	 SHORT $LN2@reinitiali
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??reinitialise_ai_system@@YGXXZ@4JA
  00017	83 c0 02	 add	 eax, 2
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@IHLIOLKI@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@KLGILHCH@get_current_game_session?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@reinitiali:

; 222  : 
; 223  : 	initialise_briefing_parser ();

  0002a	e8 00 00 00 00	 call	 ?initialise_briefing_parser@@YGXXZ ; initialise_briefing_parser

; 224  : 
; 225  : 	reinitialise_ai_debug ();

  0002f	e8 00 00 00 00	 call	 ?reinitialise_ai_debug@@YGXXZ ; reinitialise_ai_debug

; 226  : 
; 227  : 	clear_road_route_data ();

  00034	e8 00 00 00 00	 call	 ?clear_road_route_data@@YGXXZ ; clear_road_route_data

; 228  : 
; 229  : 	deinitialise_formation_database ();

  00039	e8 00 00 00 00	 call	 ?deinitialise_formation_database@@YGXXZ ; deinitialise_formation_database

; 230  : 
; 231  : 	initialise_formation_database ();

  0003e	e8 00 00 00 00	 call	 ?initialise_formation_database@@YGXXZ ; initialise_formation_database

; 232  : 
; 233  : 	deinitialise_formation_component_database ();

  00043	e8 00 00 00 00	 call	 ?deinitialise_formation_component_database@@YGXXZ ; deinitialise_formation_component_database

; 234  : 
; 235  : 	initialise_formation_component_database ();

  00048	e8 00 00 00 00	 call	 ?initialise_formation_component_database@@YGXXZ ; initialise_formation_component_database

; 236  : 
; 237  : 	deinitialise_speech_buffers ();

  0004d	e8 00 00 00 00	 call	 ?deinitialise_speech_buffers@@YGXXZ ; deinitialise_speech_buffers

; 238  : 
; 239  : 	initialise_speech_buffers ();

  00052	e8 00 00 00 00	 call	 ?initialise_speech_buffers@@YGXXZ ; initialise_speech_buffers

; 240  : 
; 241  : 	set_assign_create_waypoint_route (TRUE);

  00057	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?assign_create_waypoint_route@@3HA, 1 ; assign_create_waypoint_route

; 242  : 
; 243  : 	#if AI_DEBUG
; 244  : 
; 245  : 	debug_log ("Reinitialise AI system");
; 246  : 
; 247  : 	#endif
; 248  : }

  00061	5f		 pop	 edi
  00062	5e		 pop	 esi
  00063	5b		 pop	 ebx
  00064	8b e5		 mov	 esp, ebp
  00066	5d		 pop	 ebp
  00067	c3		 ret	 0
?reinitialise_ai_system@@YGXXZ ENDP			; reinitialise_ai_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\ai.c
;	COMDAT ?reinitialise_client_ai_system@@YGXXZ
_TEXT	SEGMENT
_temp_comms_data_flow$ = -8				; size = 4
_temp_comms_model$ = -4					; size = 4
?reinitialise_client_ai_system@@YGXXZ PROC		; reinitialise_client_ai_system, COMDAT

; 175  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 176  : 
; 177  : 	comms_model_types
; 178  : 		temp_comms_model;
; 179  : 
; 180  : 	comms_data_flow_types
; 181  : 		temp_comms_data_flow;
; 182  : 
; 183  : 	temp_comms_model = get_comms_model ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_model@@3W4COMMS_MODEL_TYPES@@A ; system_comms_model
  0000e	89 45 fc	 mov	 DWORD PTR _temp_comms_model$[ebp], eax

; 184  : 
; 185  : 	temp_comms_data_flow = get_comms_data_flow ();

  00011	a1 00 00 00 00	 mov	 eax, DWORD PTR ?system_comms_data_flow@@3W4COMMS_DATA_FLOW_TYPES@@A ; system_comms_data_flow
  00016	89 45 f8	 mov	 DWORD PTR _temp_comms_data_flow$[ebp], eax

; 186  : 
; 187  : 	//
; 188  : 	// set comms model and data flow to SERVER/TX
; 189  : 	//
; 190  : 
; 191  : 	set_comms_model (COMMS_MODEL_SERVER);

  00019	6a 00		 push	 0
  0001b	e8 00 00 00 00	 call	 ?set_comms_model@@YGXW4COMMS_MODEL_TYPES@@@Z ; set_comms_model

; 192  : 
; 193  : 	set_comms_data_flow (COMMS_DATA_FLOW_TX);

  00020	6a 00		 push	 0
  00022	e8 00 00 00 00	 call	 ?set_comms_data_flow@@YGXW4COMMS_DATA_FLOW_TYPES@@@Z ; set_comms_data_flow

; 194  : 
; 195  : 	if (population_placement_filename)

  00027	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?population_placement_filename@@3PADA, 0 ; population_placement_filename
  0002e	74 0b		 je	 SHORT $LN2@reinitiali

; 196  : 	{
; 197  : 
; 198  : 		read_population_placement_file (population_placement_filename);

  00030	a1 00 00 00 00	 mov	 eax, DWORD PTR ?population_placement_filename@@3PADA ; population_placement_filename
  00035	50		 push	 eax
  00036	e8 00 00 00 00	 call	 ?read_population_placement_file@@YGXPBD@Z ; read_population_placement_file
$LN2@reinitiali:

; 199  : 	}
; 200  : 
; 201  : 	set_comms_model (temp_comms_model);

  0003b	8b 45 fc	 mov	 eax, DWORD PTR _temp_comms_model$[ebp]
  0003e	50		 push	 eax
  0003f	e8 00 00 00 00	 call	 ?set_comms_model@@YGXW4COMMS_MODEL_TYPES@@@Z ; set_comms_model

; 202  : 
; 203  : 	set_comms_data_flow (temp_comms_data_flow);

  00044	8b 45 f8	 mov	 eax, DWORD PTR _temp_comms_data_flow$[ebp]
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?set_comms_data_flow@@YGXW4COMMS_DATA_FLOW_TYPES@@@Z ; set_comms_data_flow

; 204  : 
; 205  : 	initialise_keysite_farp_enable (get_local_force_entity (ENTITY_SIDE_BLUE_FORCE));

  0004d	6a 01		 push	 1
  0004f	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00054	50		 push	 eax
  00055	e8 00 00 00 00	 call	 ?initialise_keysite_farp_enable@@YGXPAUENTITY@@@Z ; initialise_keysite_farp_enable

; 206  : 
; 207  : 	initialise_keysite_farp_enable (get_local_force_entity (ENTITY_SIDE_RED_FORCE));

  0005a	6a 02		 push	 2
  0005c	e8 00 00 00 00	 call	 ?get_local_force_entity@@YGPAUENTITY@@W4ENTITY_SIDES@@@Z ; get_local_force_entity
  00061	50		 push	 eax
  00062	e8 00 00 00 00	 call	 ?initialise_keysite_farp_enable@@YGXPAUENTITY@@@Z ; initialise_keysite_farp_enable

; 208  : 
; 209  : 	initialise_briefing_parser ();

  00067	e8 00 00 00 00	 call	 ?initialise_briefing_parser@@YGXXZ ; initialise_briefing_parser

; 210  : 
; 211  : 	set_assign_create_waypoint_route (TRUE);

  0006c	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?assign_create_waypoint_route@@3HA, 1 ; assign_create_waypoint_route

; 212  : }

  00076	5f		 pop	 edi
  00077	5e		 pop	 esi
  00078	5b		 pop	 ebx
  00079	8b e5		 mov	 esp, ebp
  0007b	5d		 pop	 ebp
  0007c	c3		 ret	 0
?reinitialise_client_ai_system@@YGXXZ ENDP		; reinitialise_client_ai_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\ai.c
;	COMDAT ?stop_ai_system@@YGXXZ
_TEXT	SEGMENT
?stop_ai_system@@YGXXZ PROC				; stop_ai_system, COMDAT

; 134  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 135  : 	stop_high_level_ai ();

  00009	e8 00 00 00 00	 call	 ?stop_high_level_ai@@YGXXZ ; stop_high_level_ai

; 136  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?stop_ai_system@@YGXXZ ENDP				; stop_ai_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\ai.c
;	COMDAT ?start_ai_system@@YGXXZ
_TEXT	SEGMENT
?start_ai_system@@YGXXZ PROC				; start_ai_system, COMDAT

; 125  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 126  : 	start_high_level_ai ();

  00009	e8 00 00 00 00	 call	 ?start_high_level_ai@@YGXXZ ; start_high_level_ai

; 127  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?start_ai_system@@YGXXZ ENDP				; start_ai_system
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\ai\ai.c
;	COMDAT ?initialise_ai_system@@YGXXZ
_TEXT	SEGMENT
?initialise_ai_system@@YGXXZ PROC			; initialise_ai_system, COMDAT

; 99   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 100  : 
; 101  : 	#if AI_DEBUG
; 102  : 
; 103  : 	debug_log ("Initialise AI system");
; 104  : 
; 105  : 	ai_memory_counter = 0;
; 106  : 
; 107  : 	#endif
; 108  : 
; 109  : 	initialise_ai_database ();

  00009	e8 00 00 00 00	 call	 ?initialise_ai_database@@YGXXZ ; initialise_ai_database

; 110  : 
; 111  : 	initialise_route_data ();

  0000e	e8 00 00 00 00	 call	 ?initialise_route_data@@YGXXZ ; initialise_route_data

; 112  : 
; 113  : 	initialise_object_3d_regeneration_database ();

  00013	e8 00 00 00 00	 call	 ?initialise_object_3d_regeneration_database@@YGXXZ ; initialise_object_3d_regeneration_database

; 114  : 
; 115  : 	initialise_high_level_ai ();

  00018	e8 00 00 00 00	 call	 ?initialise_high_level_ai@@YGXXZ ; initialise_high_level_ai

; 116  : 
; 117  : 	initialise_speech_buffers ();

  0001d	e8 00 00 00 00	 call	 ?initialise_speech_buffers@@YGXXZ ; initialise_speech_buffers

; 118  : }

  00022	5f		 pop	 edi
  00023	5e		 pop	 esi
  00024	5b		 pop	 ebx
  00025	8b e5		 mov	 esp, ebp
  00027	5d		 pop	 ebp
  00028	c3		 ret	 0
?initialise_ai_system@@YGXXZ ENDP			; initialise_ai_system
_TEXT	ENDS
END
