; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\camera\cm_float.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?overload_camera_float_value_functions@@YGXXZ	; overload_camera_float_value_functions
PUBLIC	??$max@M@std@@YGABMABM0@Z			; std::max<float>
PUBLIC	??_C@_02DKCKIIND@?$CFs@				; `string'
PUBLIC	?__LINE__Var@?0??get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z@4JA ; `get_local_float_value'::`1'::__LINE__Var
PUBLIC	??_C@_0EN@GOHBJHCN@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0BD@FEEMDEPI@invalid?5comparator@		; `string'
PUBLIC	??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ ; `string'
PUBLIC	??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ ; `string'
PUBLIC	??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ ; `string'
PUBLIC	??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ ; `string'
EXTRN	__imp___invalid_parameter:PROC
EXTRN	__imp___CrtDbgReport:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?debug_fatal@@YAXPBDZZ:PROC			; debug_fatal
EXTRN	?get_3d_terrain_point_data_elevation@@YGMPAUTERRAIN_3D_POINT_DATA@@@Z:PROC ; get_3d_terrain_point_data_elevation
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?entity_type_database@@3PAUENTITY_TYPE_DATA@@A:BYTE ; entity_type_database
EXTRN	?float_type_database@@3PAUFLOAT_TYPE_DATA@@A:BYTE ; float_type_database
EXTRN	?debug_fatal_invalid_float_type_message@@3PBDB:DWORD ; debug_fatal_invalid_float_type_message
EXTRN	?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA:BYTE ; fn_get_local_entity_float_value
EXTRN	?entities@@3PAUENTITY@@A:DWORD			; entities
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
CONST	SEGMENT
??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ DB '"'
	DB	00H, 'i', 00H, 'n', 00H, 'v', 00H, 'a', 00H, 'l', 00H, 'i', 00H
	DB	'd', 00H, ' ', 00H, 'c', 00H, 'o', 00H, 'm', 00H, 'p', 00H, 'a'
	DB	00H, 'r', 00H, 'a', 00H, 't', 00H, 'o', 00H, 'r', 00H, '"', 00H
	DB	00H, 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
CONST	SEGMENT
??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ DB 's', 00H
	DB	't', 00H, 'd', 00H, ':', 00H, ':', 00H, 'm', 00H, 'a', 00H, 'x'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
CONST	SEGMENT
??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ DB 'c'
	DB	00H, ':', 00H, '\', 00H, 'p', 00H, 'r', 00H, 'o', 00H, 'g', 00H
	DB	'r', 00H, 'a', 00H, 'm', 00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l'
	DB	00H, 'e', 00H, 's', 00H, ' ', 00H, '(', 00H, 'x', 00H, '8', 00H
	DB	'6', 00H, ')', 00H, '\', 00H, 'm', 00H, 'i', 00H, 'c', 00H, 'r'
	DB	00H, 'o', 00H, 's', 00H, 'o', 00H, 'f', 00H, 't', 00H, ' ', 00H
	DB	'v', 00H, 'i', 00H, 's', 00H, 'u', 00H, 'a', 00H, 'l', 00H, ' '
	DB	00H, 's', 00H, 't', 00H, 'u', 00H, 'd', 00H, 'i', 00H, 'o', 00H
	DB	'\', 00H, '2', 00H, '0', 00H, '1', 00H, '7', 00H, '\', 00H, 'c'
	DB	00H, 'o', 00H, 'm', 00H, 'm', 00H, 'u', 00H, 'n', 00H, 'i', 00H
	DB	't', 00H, 'y', 00H, '\', 00H, 'v', 00H, 'c', 00H, '\', 00H, 't'
	DB	00H, 'o', 00H, 'o', 00H, 'l', 00H, 's', 00H, '\', 00H, 'm', 00H
	DB	's', 00H, 'v', 00H, 'c', 00H, '\', 00H, '1', 00H, '4', 00H, '.'
	DB	00H, '1', 00H, '6', 00H, '.', 00H, '2', 00H, '7', 00H, '0', 00H
	DB	'2', 00H, '3', 00H, '\', 00H, 'i', 00H, 'n', 00H, 'c', 00H, 'l'
	DB	00H, 'u', 00H, 'd', 00H, 'e', 00H, '\', 00H, 'a', 00H, 'l', 00H
	DB	'g', 00H, 'o', 00H, 'r', 00H, 'i', 00H, 't', 00H, 'h', 00H, 'm'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
CONST	SEGMENT
??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ DB 'c:\pro'
	DB	'gram files (x86)\microsoft visual studio\2017\community\vc\to'
	DB	'ols\msvc\14.16.27023\include\algorithm', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FEEMDEPI@invalid?5comparator@
CONST	SEGMENT
??_C@_0BD@FEEMDEPI@invalid?5comparator@ DB 'invalid comparator', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EN@GOHBJHCN@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EN@GOHBJHCN@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\camera\cm_flo'
	DB	'at.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z@4JA DD 0b8H ; `get_local_float_value'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs@ DB '%s', 00H			; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\algorithm
;	COMDAT ??$max@M@std@@YGABMABM0@Z
_TEXT	SEGMENT
__Left$ = 8						; size = 4
__Right$ = 12						; size = 4
??$max@M@std@@YGABMABM0@Z PROC				; std::max<float>, COMDAT

; 5387 : 	{	// return larger of _Left and _Right

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 5388 : 	if (_Left < _Right)

  00009	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0000c	8b 4d 08	 mov	 ecx, DWORD PTR __Left$[ebp]
  0000f	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00013	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00016	76 64		 jbe	 SHORT $LN8@max
$LN4@max:

; 5389 : 		{
; 5390 : 		_STL_ASSERT(!(_Right < _Left), "invalid comparator");

  00018	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
  0001b	8b 4d 0c	 mov	 ecx, DWORD PTR __Right$[ebp]
  0001e	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00022	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00025	77 02		 ja	 SHORT $LN9@max
  00027	eb 4a		 jmp	 SHORT $LN6@max
$LN9@max:
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FEEMDEPI@invalid?5comparator@
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs@
  00033	6a 00		 push	 0
  00035	68 0e 15 00 00	 push	 5390			; 0000150eH
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
  0003f	6a 02		 push	 2
  00041	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00047	83 c4 18	 add	 esp, 24			; 00000018H
  0004a	83 f8 01	 cmp	 eax, 1
  0004d	75 01		 jne	 SHORT $LN12@max
  0004f	cc		 int	 3
$LN12@max:
  00050	6a 00		 push	 0
  00052	68 0e 15 00 00	 push	 5390			; 0000150eH
  00057	68 00 00 00 00	 push	 OFFSET ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter
  0006c	83 c4 14	 add	 esp, 20			; 00000014H
  0006f	33 c0		 xor	 eax, eax
  00071	75 b6		 jne	 SHORT $LN9@max
$LN6@max:
  00073	33 c0		 xor	 eax, eax
  00075	75 a1		 jne	 SHORT $LN4@max

; 5391 : 		return (_Right);

  00077	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0007a	eb 03		 jmp	 SHORT $LN1@max
$LN8@max:

; 5392 : 		}
; 5393 : 
; 5394 : 	return (_Left);

  0007c	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
$LN1@max:

; 5395 : 	}

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
??$max@M@std@@YGABMABM0@Z ENDP				; std::max<float>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\camera\cm_float.c
;	COMDAT ?get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z
_TEXT	SEGMENT
tv138 = -84						; size = 4
tv91 = -84						; size = 4
tv65 = -84						; size = 4
$T1 = -80						; size = 4
$T2 = -76						; size = 4
_value$ = -8						; size = 4
_raw$ = -4						; size = 4
_en$ = 8						; size = 4
_type$ = 12						; size = 4
?get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z PROC ; get_local_float_value, COMDAT

; 184  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 185  : 	camera
; 186  : 		*raw;
; 187  : 
; 188  : 	float
; 189  : 		value;
; 190  : 
; 191  : 	raw = (camera *) get_local_entity_data (en);

  00009	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0000c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0000f	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 192  : 
; 193  : 	switch (type)

  00012	8b 45 0c	 mov	 eax, DWORD PTR _type$[ebp]
  00015	89 45 ac	 mov	 DWORD PTR tv65[ebp], eax
  00018	83 7d ac 68	 cmp	 DWORD PTR tv65[ebp], 104 ; 00000068H
  0001c	74 02		 je	 SHORT $LN4@get_local_
  0001e	eb 41		 jmp	 SHORT $LN5@get_local_
$LN4@get_local_:

; 194  : 	{
; 195  : 		////////////////////////////////////////
; 196  : 		case FLOAT_TYPE_RADAR_ALTITUDE:
; 197  : 		////////////////////////////////////////
; 198  : 		{
; 199  : 			value = max (raw->position.y - get_3d_terrain_point_data_elevation (&raw->terrain_info), 0.0f);

  00020	0f 57 c0	 xorps	 xmm0, xmm0
  00023	f3 0f 11 45 b4	 movss	 DWORD PTR $T2[ebp], xmm0
  00028	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0002b	83 c0 50	 add	 eax, 80			; 00000050H
  0002e	50		 push	 eax
  0002f	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data_elevation@@YGMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data_elevation
  00034	d9 5d ac	 fstp	 DWORD PTR tv138[ebp]
  00037	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  0003a	f3 0f 10 41 04	 movss	 xmm0, DWORD PTR [ecx+4]
  0003f	f3 0f 5c 45 ac	 subss	 xmm0, DWORD PTR tv138[ebp]
  00044	f3 0f 11 45 b0	 movss	 DWORD PTR $T1[ebp], xmm0
  00049	8d 55 b4	 lea	 edx, DWORD PTR $T2[ebp]
  0004c	52		 push	 edx
  0004d	8d 45 b0	 lea	 eax, DWORD PTR $T1[ebp]
  00050	50		 push	 eax
  00051	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  00056	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  0005a	f3 0f 11 45 f8	 movss	 DWORD PTR _value$[ebp], xmm0

; 200  : 
; 201  : 			break;

  0005f	eb 72		 jmp	 SHORT $LN2@get_local_
$LN5@get_local_:

; 202  : 		}
; 203  : 		////////////////////////////////////////
; 204  : 		default:
; 205  : 		////////////////////////////////////////
; 206  : 		{
; 207  : 			debug_fatal_invalid_float_type (en, type);

  00061	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00065	74 0a		 je	 SHORT $LN7@get_local_
  00067	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  0006a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0006c	89 4d ac	 mov	 DWORD PTR tv91[ebp], ecx
  0006f	eb 21		 jmp	 SHORT $LN8@get_local_
$LN7@get_local_:
  00071	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z@4JA
  00077	83 c2 17	 add	 edx, 23			; 00000017H
  0007a	52		 push	 edx
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@GOHBJHCN@c?3?2users?2nhv90?2projects?2eech?2ap@
  00080	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00085	50		 push	 eax
  00086	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0008b	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv91[ebp], 0
$LN8@get_local_:
  00092	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z@4JA
  00098	83 c1 17	 add	 ecx, 23			; 00000017H
  0009b	51		 push	 ecx
  0009c	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@GOHBJHCN@c?3?2users?2nhv90?2projects?2eech?2ap@
  000a1	6b 55 0c 18	 imul	 edx, DWORD PTR _type$[ebp], 24
  000a5	8b 82 00 00 00
	00		 mov	 eax, DWORD PTR ?float_type_database@@3PAUFLOAT_TYPE_DATA@@A[edx]
  000ab	50		 push	 eax
  000ac	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  000af	2b 0d 00 00 00
	00		 sub	 ecx, DWORD PTR ?entities@@3PAUENTITY@@A ; entities
  000b5	c1 f9 04	 sar	 ecx, 4
  000b8	51		 push	 ecx
  000b9	6b 55 ac 0c	 imul	 edx, DWORD PTR tv91[ebp], 12
  000bd	8b 82 00 00 00
	00		 mov	 eax, DWORD PTR ?entity_type_database@@3PAUENTITY_TYPE_DATA@@A[edx]
  000c3	50		 push	 eax
  000c4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?debug_fatal_invalid_float_type_message@@3PBDB ; debug_fatal_invalid_float_type_message
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 ?debug_fatal@@YAXPBDZZ	; debug_fatal
  000d0	83 c4 18	 add	 esp, 24			; 00000018H
$LN2@get_local_:

; 208  : 
; 209  : 			break;
; 210  : 		}
; 211  : 	}
; 212  : 
; 213  : 	return (value);

  000d3	d9 45 f8	 fld	 DWORD PTR _value$[ebp]

; 214  : }

  000d6	5f		 pop	 edi
  000d7	5e		 pop	 esi
  000d8	5b		 pop	 ebx
  000d9	8b e5		 mov	 esp, ebp
  000db	5d		 pop	 ebp
  000dc	c2 08 00	 ret	 8
?get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z ENDP ; get_local_float_value
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\camera\cm_float.c
;	COMDAT ?overload_camera_float_value_functions@@YGXXZ
_TEXT	SEGMENT
?overload_camera_float_value_functions@@YGXXZ PROC	; overload_camera_float_value_functions, COMDAT

; 223  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 224  : 	fn_get_local_entity_float_value [ENTITY_TYPE_CAMERA][FLOAT_TYPE_RADAR_ALTITUDE] = get_local_float_value;

  00009	b8 bc 02 00 00	 mov	 eax, 700		; 000002bcH
  0000e	6b c8 03	 imul	 ecx, eax, 3
  00011	ba 04 00 00 00	 mov	 edx, 4
  00016	6b c2 68	 imul	 eax, edx, 104
  00019	c7 84 01 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[ecx+eax], OFFSET ?get_local_float_value@@YGMPAUENTITY@@W4FLOAT_TYPES@@@Z ; get_local_float_value

; 225  : }

  00024	5f		 pop	 edi
  00025	5e		 pop	 esi
  00026	5b		 pop	 ebx
  00027	8b e5		 mov	 esp, ebp
  00029	5d		 pop	 ebp
  0002a	c3		 ret	 0
?overload_camera_float_value_functions@@YGXXZ ENDP	; overload_camera_float_value_functions
_TEXT	ENDS
END
