; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\fixed\fixed.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?play_building_destroyed_speech@@YGXPAUENTITY@@0@Z ; play_building_destroyed_speech
PUBLIC	?restore_local_fixed_entity@@YGXPAUENTITY@@@Z	; restore_local_fixed_entity
PUBLIC	?__LINE__Var@?0??play_building_destroyed_speech@@YGXPAUENTITY@@0@Z@4JA ; `play_building_destroyed_speech'::`1'::__LINE__Var
PUBLIC	??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_09HKMIOAOH@aggressor@			; `string'
PUBLIC	?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA ; `restore_local_fixed_entity'::`1'::__LINE__Var
PUBLIC	??_C@_02LFNMGJAP@en@				; `string'
PUBLIC	??_C@_0DB@EMHJHKIB@?$CBget_local_entity_int_value?5?$CIen@ ; `string'
PUBLIC	??_C@_0DL@NMGJMDOO@get_local_entity_int_value?5?$CIen?0@ ; `string'
PUBLIC	??_C@_07FBNBNOMI@keysite@			; `string'
PUBLIC	__real@3ecccccd
PUBLIC	__real@40800000
PUBLIC	__real@41900000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_3d_object_restored_object_index@@YGHH@Z:PROC ; get_3d_object_restored_object_index
EXTRN	?get_speech_random_value@@YGHPAUSPEECH_INSTANCE_TYPE@@HH@Z:PROC ; get_speech_random_value
EXTRN	?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z:PROC ; play_client_server_cpg_message
EXTRN	?play_client_server_wingman_message@@YGHPAUENTITY@@MMW4speech_category_types@@MW4speech_intro_types@@W4speech_array_types@@H@Z:PROC ; play_client_server_wingman_message
EXTRN	?get_fixed_structure_keysite_entity@@YGPAUENTITY@@PAU1@@Z:PROC ; get_fixed_structure_keysite_entity
EXTRN	?restore_local_entity_importance_to_keysite@@YGHPAUENTITY@@0@Z:PROC ; restore_local_entity_importance_to_keysite
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA:BYTE ; fn_set_local_entity_int_value
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?last_building_destroyed_cpg_comment@@3PAHA DD 03H DUP (?) ; last_building_destroyed_cpg_comment
_BSS	ENDS
;	COMDAT __real@41900000
CONST	SEGMENT
__real@41900000 DD 041900000r			; 18
CONST	ENDS
;	COMDAT __real@40800000
CONST	SEGMENT
__real@40800000 DD 040800000r			; 4
CONST	ENDS
;	COMDAT __real@3ecccccd
CONST	SEGMENT
__real@3ecccccd DD 03ecccccdr			; 0.4
CONST	ENDS
;	COMDAT ??_C@_07FBNBNOMI@keysite@
CONST	SEGMENT
??_C@_07FBNBNOMI@keysite@ DB 'keysite', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DL@NMGJMDOO@get_local_entity_int_value?5?$CIen?0@
CONST	SEGMENT
??_C@_0DL@NMGJMDOO@get_local_entity_int_value?5?$CIen?0@ DB 'get_local_en'
	DB	'tity_int_value (en, INT_TYPE_DAMAGE_LEVEL) > 0', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@EMHJHKIB@?$CBget_local_entity_int_value?5?$CIen@
CONST	SEGMENT
??_C@_0DB@EMHJHKIB@?$CBget_local_entity_int_value?5?$CIen@ DB '!get_local'
	DB	'_entity_int_value (en, INT_TYPE_ALIVE)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_02LFNMGJAP@en@
CONST	SEGMENT
??_C@_02LFNMGJAP@en@ DB 'en', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA DD 094H ; `restore_local_fixed_entity'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_09HKMIOAOH@aggressor@
CONST	SEGMENT
??_C@_09HKMIOAOH@aggressor@ DB 'aggressor', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\fixed\fixed.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??play_building_destroyed_speech@@YGXPAUENTITY@@0@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??play_building_destroyed_speech@@YGXPAUENTITY@@0@Z@4JA DD 05fH ; `play_building_destroyed_speech'::`1'::__LINE__Var
_DATA	ENDS
_DATA	SEGMENT
?num_building_destroyed_cpg_comments@@3PAHA DD 00H	; num_building_destroyed_cpg_comments
	DD	02H
	DD	02H
?building_destroyed_cpg_comments@@3PAUSPEECH_INSTANCE_TYPE@@A DD 0ffffffffH ; building_destroyed_cpg_comments
	DD	0ffffffffH
	DD	064H
	DD	00H
	DD	06dH
	DD	09H
	DD	019H
	DD	01H
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\fixed.c
;	COMDAT ?restore_local_fixed_entity@@YGXPAUENTITY@@@Z
_TEXT	SEGMENT
tv202 = -88						; size = 4
tv194 = -84						; size = 4
tv242 = -80						; size = 4
tv219 = -80						; size = 4
tv180 = -80						; size = 4
tv160 = -80						; size = 4
tv140 = -80						; size = 4
tv83 = -80						; size = 4
tv234 = -76						; size = 4
tv211 = -76						; size = 4
tv172 = -76						; size = 4
tv152 = -76						; size = 4
tv132 = -76						; size = 4
tv75 = -76						; size = 4
_keysite$ = -8						; size = 4
_object_index$ = -4					; size = 4
_en$ = 8						; size = 4
?restore_local_fixed_entity@@YGXPAUENTITY@@@Z PROC	; restore_local_fixed_entity, COMDAT

; 148  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 149  : 	int
; 150  : 		object_index;
; 151  : 
; 152  : 	entity
; 153  : 		*keysite;
; 154  : 
; 155  : 	ASSERT (en);

  00009	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@restore_lo
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00014	83 c0 07	 add	 eax, 7
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_02LFNMGJAP@en@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@restore_lo:

; 156  : 
; 157  : 	//
; 158  : 	// Set alive flag
; 159  : 	//
; 160  : 
; 161  : 	ASSERT (!get_local_entity_int_value (en, INT_TYPE_ALIVE));

  00027	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN7@restore_lo
  0002d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d b4	 mov	 DWORD PTR tv75[ebp], ecx
  00035	eb 21		 jmp	 SHORT $LN8@restore_lo
$LN7@restore_lo:
  00037	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  0003d	83 c2 0d	 add	 edx, 13			; 0000000dH
  00040	52		 push	 edx
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00051	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN8@restore_lo:
  00058	b9 01 00 00 00	 mov	 ecx, 1
  0005d	85 c9		 test	 ecx, ecx
  0005f	74 09		 je	 SHORT $LN9@restore_lo
  00061	c7 45 b0 07 00
	00 00		 mov	 DWORD PTR tv83[ebp], 7
  00068	eb 21		 jmp	 SHORT $LN10@restore_lo
$LN9@restore_lo:
  0006a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00070	83 c2 0d	 add	 edx, 13			; 0000000dH
  00073	52		 push	 edx
  00074	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00084	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN10@restore_lo:
  0008b	6a 07		 push	 7
  0008d	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00090	51		 push	 ecx
  00091	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv75[ebp], 1116
  00098	8b 45 b0	 mov	 eax, DWORD PTR tv83[ebp]
  0009b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  000a2	ff d1		 call	 ecx
  000a4	85 c0		 test	 eax, eax
  000a6	74 18		 je	 SHORT $LN3@restore_lo
  000a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  000ad	83 c0 0d	 add	 eax, 13			; 0000000dH
  000b0	50		 push	 eax
  000b1	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b6	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@EMHJHKIB@?$CBget_local_entity_int_value?5?$CIen@
  000bb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@restore_lo:

; 162  : 
; 163  : 	set_local_entity_int_value (en, INT_TYPE_ALIVE, TRUE);

  000c0	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  000c4	74 0a		 je	 SHORT $LN11@restore_lo
  000c6	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  000c9	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cb	89 4d b4	 mov	 DWORD PTR tv132[ebp], ecx
  000ce	eb 21		 jmp	 SHORT $LN12@restore_lo
$LN11@restore_lo:
  000d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  000d6	83 c2 0f	 add	 edx, 15			; 0000000fH
  000d9	52		 push	 edx
  000da	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e4	50		 push	 eax
  000e5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ea	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv132[ebp], 0
$LN12@restore_lo:
  000f1	b9 01 00 00 00	 mov	 ecx, 1
  000f6	85 c9		 test	 ecx, ecx
  000f8	74 09		 je	 SHORT $LN13@restore_lo
  000fa	c7 45 b0 07 00
	00 00		 mov	 DWORD PTR tv140[ebp], 7
  00101	eb 21		 jmp	 SHORT $LN14@restore_lo
$LN13@restore_lo:
  00103	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00109	83 c2 0f	 add	 edx, 15			; 0000000fH
  0010c	52		 push	 edx
  0010d	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00112	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00117	50		 push	 eax
  00118	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011d	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv140[ebp], 0
$LN14@restore_lo:
  00124	6a 01		 push	 1
  00126	6a 07		 push	 7
  00128	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  0012b	51		 push	 ecx
  0012c	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv132[ebp], 1116
  00133	8b 45 b0	 mov	 eax, DWORD PTR tv140[ebp]
  00136	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[edx+eax*4]
  0013d	ff d1		 call	 ecx

; 164  : 
; 165  : 	//
; 166  : 	// 3d shape
; 167  : 	//
; 168  : 
; 169  : 	object_index = get_local_entity_int_value (en, INT_TYPE_OBJECT_3D_SHAPE);

  0013f	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00143	74 0a		 je	 SHORT $LN15@restore_lo
  00145	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00148	8b 08		 mov	 ecx, DWORD PTR [eax]
  0014a	89 4d b4	 mov	 DWORD PTR tv152[ebp], ecx
  0014d	eb 21		 jmp	 SHORT $LN16@restore_lo
$LN15@restore_lo:
  0014f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00155	83 c2 15	 add	 edx, 21			; 00000015H
  00158	52		 push	 edx
  00159	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0015e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00163	50		 push	 eax
  00164	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00169	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv152[ebp], 0
$LN16@restore_lo:
  00170	b9 01 00 00 00	 mov	 ecx, 1
  00175	85 c9		 test	 ecx, ecx
  00177	74 09		 je	 SHORT $LN17@restore_lo
  00179	c7 45 b0 92 00
	00 00		 mov	 DWORD PTR tv160[ebp], 146 ; 00000092H
  00180	eb 21		 jmp	 SHORT $LN18@restore_lo
$LN17@restore_lo:
  00182	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00188	83 c2 15	 add	 edx, 21			; 00000015H
  0018b	52		 push	 edx
  0018c	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00191	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00196	50		 push	 eax
  00197	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019c	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv160[ebp], 0
$LN18@restore_lo:
  001a3	68 92 00 00 00	 push	 146			; 00000092H
  001a8	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  001ab	51		 push	 ecx
  001ac	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv152[ebp], 1116
  001b3	8b 45 b0	 mov	 eax, DWORD PTR tv160[ebp]
  001b6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  001bd	ff d1		 call	 ecx
  001bf	89 45 fc	 mov	 DWORD PTR _object_index$[ebp], eax

; 170  : 
; 171  : 	set_local_entity_int_value (en, INT_TYPE_OBJECT_3D_SHAPE, get_3d_object_restored_object_index (object_index));

  001c2	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  001c6	74 0a		 je	 SHORT $LN19@restore_lo
  001c8	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  001cb	8b 08		 mov	 ecx, DWORD PTR [eax]
  001cd	89 4d b4	 mov	 DWORD PTR tv172[ebp], ecx
  001d0	eb 21		 jmp	 SHORT $LN20@restore_lo
$LN19@restore_lo:
  001d2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  001d8	83 c2 17	 add	 edx, 23			; 00000017H
  001db	52		 push	 edx
  001dc	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  001e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  001e6	50		 push	 eax
  001e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001ec	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv172[ebp], 0
$LN20@restore_lo:
  001f3	b9 01 00 00 00	 mov	 ecx, 1
  001f8	85 c9		 test	 ecx, ecx
  001fa	74 09		 je	 SHORT $LN21@restore_lo
  001fc	c7 45 b0 92 00
	00 00		 mov	 DWORD PTR tv180[ebp], 146 ; 00000092H
  00203	eb 21		 jmp	 SHORT $LN22@restore_lo
$LN21@restore_lo:
  00205	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  0020b	83 c2 17	 add	 edx, 23			; 00000017H
  0020e	52		 push	 edx
  0020f	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00214	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00219	50		 push	 eax
  0021a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0021f	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv180[ebp], 0
$LN22@restore_lo:
  00226	8b 4d fc	 mov	 ecx, DWORD PTR _object_index$[ebp]
  00229	51		 push	 ecx
  0022a	e8 00 00 00 00	 call	 ?get_3d_object_restored_object_index@@YGHH@Z ; get_3d_object_restored_object_index
  0022f	50		 push	 eax
  00230	68 92 00 00 00	 push	 146			; 00000092H
  00235	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00238	52		 push	 edx
  00239	69 45 b4 5c 04
	00 00		 imul	 eax, DWORD PTR tv172[ebp], 1116
  00240	8b 4d b0	 mov	 ecx, DWORD PTR tv180[ebp]
  00243	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[eax+ecx*4]
  0024a	ff d2		 call	 edx

; 172  : 
; 173  : 	//
; 174  : 	// Restore damage level (MUST be done AFTER object 3d shape reset)
; 175  : 	//
; 176  : 
; 177  : 	set_local_entity_int_value (en, INT_TYPE_DAMAGE_LEVEL, get_local_entity_int_value (en, INT_TYPE_INITIAL_DAMAGE_LEVEL));

  0024c	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  00250	74 0a		 je	 SHORT $LN27@restore_lo
  00252	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00255	8b 08		 mov	 ecx, DWORD PTR [eax]
  00257	89 4d b4	 mov	 DWORD PTR tv211[ebp], ecx
  0025a	eb 21		 jmp	 SHORT $LN28@restore_lo
$LN27@restore_lo:
  0025c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00262	83 c2 1d	 add	 edx, 29			; 0000001dH
  00265	52		 push	 edx
  00266	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0026b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00270	50		 push	 eax
  00271	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00276	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv211[ebp], 0
$LN28@restore_lo:
  0027d	b9 01 00 00 00	 mov	 ecx, 1
  00282	85 c9		 test	 ecx, ecx
  00284	74 09		 je	 SHORT $LN29@restore_lo
  00286	c7 45 b0 69 00
	00 00		 mov	 DWORD PTR tv219[ebp], 105 ; 00000069H
  0028d	eb 21		 jmp	 SHORT $LN30@restore_lo
$LN29@restore_lo:
  0028f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00295	83 c2 1d	 add	 edx, 29			; 0000001dH
  00298	52		 push	 edx
  00299	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0029e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  002a3	50		 push	 eax
  002a4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002a9	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv219[ebp], 0
$LN30@restore_lo:
  002b0	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  002b4	74 0a		 je	 SHORT $LN23@restore_lo
  002b6	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  002b9	8b 11		 mov	 edx, DWORD PTR [ecx]
  002bb	89 55 ac	 mov	 DWORD PTR tv194[ebp], edx
  002be	eb 21		 jmp	 SHORT $LN24@restore_lo
$LN23@restore_lo:
  002c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  002c5	83 c0 1d	 add	 eax, 29			; 0000001dH
  002c8	50		 push	 eax
  002c9	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002d4	51		 push	 ecx
  002d5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002da	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv194[ebp], 0
$LN24@restore_lo:
  002e1	ba 01 00 00 00	 mov	 edx, 1
  002e6	85 d2		 test	 edx, edx
  002e8	74 09		 je	 SHORT $LN25@restore_lo
  002ea	c7 45 a8 25 00
	00 00		 mov	 DWORD PTR tv202[ebp], 37 ; 00000025H
  002f1	eb 21		 jmp	 SHORT $LN26@restore_lo
$LN25@restore_lo:
  002f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  002f8	83 c0 1d	 add	 eax, 29			; 0000001dH
  002fb	50		 push	 eax
  002fc	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00301	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00307	51		 push	 ecx
  00308	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0030d	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv202[ebp], 0
$LN26@restore_lo:
  00314	6a 69		 push	 105			; 00000069H
  00316	8b 55 08	 mov	 edx, DWORD PTR _en$[ebp]
  00319	52		 push	 edx
  0031a	69 45 b4 5c 04
	00 00		 imul	 eax, DWORD PTR tv211[ebp], 1116
  00321	8b 4d b0	 mov	 ecx, DWORD PTR tv219[ebp]
  00324	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  0032b	ff d2		 call	 edx
  0032d	50		 push	 eax
  0032e	6a 25		 push	 37			; 00000025H
  00330	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00333	50		 push	 eax
  00334	69 4d ac 5c 04
	00 00		 imul	 ecx, DWORD PTR tv194[ebp], 1116
  0033b	8b 55 a8	 mov	 edx, DWORD PTR tv202[ebp]
  0033e	8b 84 91 00 00
	00 00		 mov	 eax, DWORD PTR ?fn_set_local_entity_int_value@@3PAY0BBH@P6GXPAUENTITY@@W4INT_TYPES@@H@ZA[ecx+edx*4]
  00345	ff d0		 call	 eax

; 178  : 
; 179  : 	ASSERT (get_local_entity_int_value (en, INT_TYPE_DAMAGE_LEVEL) > 0);

  00347	83 7d 08 00	 cmp	 DWORD PTR _en$[ebp], 0
  0034b	74 0a		 je	 SHORT $LN31@restore_lo
  0034d	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  00350	8b 08		 mov	 ecx, DWORD PTR [eax]
  00352	89 4d b4	 mov	 DWORD PTR tv234[ebp], ecx
  00355	eb 21		 jmp	 SHORT $LN32@restore_lo
$LN31@restore_lo:
  00357	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  0035d	83 c2 1f	 add	 edx, 31			; 0000001fH
  00360	52		 push	 edx
  00361	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00366	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0036b	50		 push	 eax
  0036c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00371	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv234[ebp], 0
$LN32@restore_lo:
  00378	b9 01 00 00 00	 mov	 ecx, 1
  0037d	85 c9		 test	 ecx, ecx
  0037f	74 09		 je	 SHORT $LN33@restore_lo
  00381	c7 45 b0 25 00
	00 00		 mov	 DWORD PTR tv242[ebp], 37 ; 00000025H
  00388	eb 21		 jmp	 SHORT $LN34@restore_lo
$LN33@restore_lo:
  0038a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  00390	83 c2 1f	 add	 edx, 31			; 0000001fH
  00393	52		 push	 edx
  00394	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00399	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0039e	50		 push	 eax
  0039f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003a4	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv242[ebp], 0
$LN34@restore_lo:
  003ab	6a 25		 push	 37			; 00000025H
  003ad	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  003b0	51		 push	 ecx
  003b1	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv234[ebp], 1116
  003b8	8b 45 b0	 mov	 eax, DWORD PTR tv242[ebp]
  003bb	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  003c2	ff d1		 call	 ecx
  003c4	85 c0		 test	 eax, eax
  003c6	7f 18		 jg	 SHORT $LN4@restore_lo
  003c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  003cd	83 c0 1f	 add	 eax, 31			; 0000001fH
  003d0	50		 push	 eax
  003d1	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  003d6	68 00 00 00 00	 push	 OFFSET ??_C@_0DL@NMGJMDOO@get_local_entity_int_value?5?$CIen?0@
  003db	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@restore_lo:

; 180  : 
; 181  : 	//
; 182  : 	// Keysite strength
; 183  : 	//
; 184  : 
; 185  : 	keysite = get_fixed_structure_keysite_entity (en);

  003e0	8b 45 08	 mov	 eax, DWORD PTR _en$[ebp]
  003e3	50		 push	 eax
  003e4	e8 00 00 00 00	 call	 ?get_fixed_structure_keysite_entity@@YGPAUENTITY@@PAU1@@Z ; get_fixed_structure_keysite_entity
  003e9	89 45 f8	 mov	 DWORD PTR _keysite$[ebp], eax

; 186  : 
; 187  : 	ASSERT (keysite);

  003ec	83 7d f8 00	 cmp	 DWORD PTR _keysite$[ebp], 0
  003f0	75 18		 jne	 SHORT $LN5@restore_lo
  003f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??restore_local_fixed_entity@@YGXPAUENTITY@@@Z@4JA
  003f7	83 c0 27	 add	 eax, 39			; 00000027H
  003fa	50		 push	 eax
  003fb	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00400	68 00 00 00 00	 push	 OFFSET ??_C@_07FBNBNOMI@keysite@
  00405	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@restore_lo:

; 188  : 	
; 189  : 	restore_local_entity_importance_to_keysite (en, keysite);

  0040a	8b 45 f8	 mov	 eax, DWORD PTR _keysite$[ebp]
  0040d	50		 push	 eax
  0040e	8b 4d 08	 mov	 ecx, DWORD PTR _en$[ebp]
  00411	51		 push	 ecx
  00412	e8 00 00 00 00	 call	 ?restore_local_entity_importance_to_keysite@@YGHPAUENTITY@@0@Z ; restore_local_entity_importance_to_keysite

; 190  : }

  00417	5f		 pop	 edi
  00418	5e		 pop	 esi
  00419	5b		 pop	 ebx
  0041a	8b e5		 mov	 esp, ebp
  0041c	5d		 pop	 ebp
  0041d	c2 04 00	 ret	 4
?restore_local_fixed_entity@@YGXPAUENTITY@@@Z ENDP	; restore_local_fixed_entity
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\fixed\fixed.c
;	COMDAT ?play_building_destroyed_speech@@YGXPAUENTITY@@0@Z
_TEXT	SEGMENT
tv166 = -88						; size = 4
tv134 = -88						; size = 4
tv81 = -88						; size = 4
tv159 = -84						; size = 4
tv94 = -84						; size = 4
tv74 = -84						; size = 4
_aggressor_side$ = -16					; size = 4
_speech_index$ = -12					; size = 4
_array_type$ = -8					; size = 4
_val$ = -4						; size = 4
_building$ = 8						; size = 4
_aggressor$ = 12					; size = 4
?play_building_destroyed_speech@@YGXPAUENTITY@@0@Z PROC	; play_building_destroyed_speech, COMDAT

; 95   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 96   : 	int
; 97   : 		val,
; 98   : 		array_type,
; 99   : 		speech_index;
; 100  : 
; 101  : 	entity_sides
; 102  : 		aggressor_side;
; 103  : 
; 104  : 	ASSERT (aggressor);

  00009	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@play_build
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??play_building_destroyed_speech@@YGXPAUENTITY@@0@Z@4JA
  00014	83 c0 09	 add	 eax, 9
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_09HKMIOAOH@aggressor@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@play_build:

; 105  : 
; 106  : 	if (get_local_entity_int_value (aggressor, INT_TYPE_IDENTIFY_AIRCRAFT))

  00027	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN7@play_build
  0002d	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d ac	 mov	 DWORD PTR tv74[ebp], ecx
  00035	eb 1a		 jmp	 SHORT $LN8@play_build
$LN7@play_build:
  00037	6a 6a		 push	 106			; 0000006aH
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0003e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00044	52		 push	 edx
  00045	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0004a	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv74[ebp], 0
$LN8@play_build:
  00051	b8 01 00 00 00	 mov	 eax, 1
  00056	85 c0		 test	 eax, eax
  00058	74 09		 je	 SHORT $LN9@play_build
  0005a	c7 45 a8 57 00
	00 00		 mov	 DWORD PTR tv81[ebp], 87	; 00000057H
  00061	eb 1a		 jmp	 SHORT $LN10@play_build
$LN9@play_build:
  00063	6a 6a		 push	 106			; 0000006aH
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  0006a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00070	51		 push	 ecx
  00071	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00076	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN10@play_build:
  0007d	6a 57		 push	 87			; 00000057H
  0007f	8b 55 0c	 mov	 edx, DWORD PTR _aggressor$[ebp]
  00082	52		 push	 edx
  00083	69 45 ac 5c 04
	00 00		 imul	 eax, DWORD PTR tv74[ebp], 1116
  0008a	8b 4d a8	 mov	 ecx, DWORD PTR tv81[ebp]
  0008d	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00094	ff d2		 call	 edx
  00096	85 c0		 test	 eax, eax
  00098	0f 84 b0 01 00
	00		 je	 $LN5@play_build

; 107  : 	{
; 108  : 		// PLAY_SPEECH (WINGMAN/CPG)
; 109  : 		//
; 110  : 		// (There goes the neighbourhood) | (meeting adjourned) etc.
; 111  : 
; 112  : 		aggressor_side = (entity_sides) get_local_entity_int_value (aggressor, INT_TYPE_SIDE);

  0009e	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  000a2	74 0a		 je	 SHORT $LN11@play_build
  000a4	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  000a7	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a9	89 4d ac	 mov	 DWORD PTR tv94[ebp], ecx
  000ac	eb 21		 jmp	 SHORT $LN12@play_build
$LN11@play_build:
  000ae	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??play_building_destroyed_speech@@YGXPAUENTITY@@0@Z@4JA
  000b4	83 c2 11	 add	 edx, 17			; 00000011H
  000b7	52		 push	 edx
  000b8	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000bd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000c2	50		 push	 eax
  000c3	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c8	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv94[ebp], 0
$LN12@play_build:
  000cf	b9 01 00 00 00	 mov	 ecx, 1
  000d4	85 c9		 test	 ecx, ecx
  000d6	74 09		 je	 SHORT $LN13@play_build
  000d8	c7 45 a8 bb 00
	00 00		 mov	 DWORD PTR tv134[ebp], 187 ; 000000bbH
  000df	eb 21		 jmp	 SHORT $LN14@play_build
$LN13@play_build:
  000e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??play_building_destroyed_speech@@YGXPAUENTITY@@0@Z@4JA
  000e7	83 c2 11	 add	 edx, 17			; 00000011H
  000ea	52		 push	 edx
  000eb	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000f5	50		 push	 eax
  000f6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000fb	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN14@play_build:
  00102	68 bb 00 00 00	 push	 187			; 000000bbH
  00107	8b 4d 0c	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0010a	51		 push	 ecx
  0010b	69 55 ac 5c 04
	00 00		 imul	 edx, DWORD PTR tv94[ebp], 1116
  00112	8b 45 a8	 mov	 eax, DWORD PTR tv134[ebp]
  00115	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0011c	ff d1		 call	 ecx
  0011e	89 45 f0	 mov	 DWORD PTR _aggressor_side$[ebp], eax

; 113  : 		
; 114  : 		val = get_speech_random_value

  00121	8b 45 f0	 mov	 eax, DWORD PTR _aggressor_side$[ebp]
  00124	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?last_building_destroyed_cpg_comment@@3PAHA[eax*4]
  0012b	51		 push	 ecx
  0012c	8b 55 f0	 mov	 edx, DWORD PTR _aggressor_side$[ebp]
  0012f	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?num_building_destroyed_cpg_comments@@3PAHA[edx*4]
  00136	50		 push	 eax
  00137	68 00 00 00 00	 push	 OFFSET ?building_destroyed_cpg_comments@@3PAUSPEECH_INSTANCE_TYPE@@A
  0013c	e8 00 00 00 00	 call	 ?get_speech_random_value@@YGHPAUSPEECH_INSTANCE_TYPE@@HH@Z ; get_speech_random_value
  00141	89 45 fc	 mov	 DWORD PTR _val$[ebp], eax

; 115  : 				(
; 116  : 					building_destroyed_cpg_comments,
; 117  : 					num_building_destroyed_cpg_comments [aggressor_side],
; 118  : 					last_building_destroyed_cpg_comment [aggressor_side]
; 119  : 				);
; 120  : 
; 121  : 		array_type = building_destroyed_cpg_comments [val].array_type;

  00144	8b 45 fc	 mov	 eax, DWORD PTR _val$[ebp]
  00147	c1 e0 04	 shl	 eax, 4
  0014a	8b 88 04 00 00
	00		 mov	 ecx, DWORD PTR ?building_destroyed_cpg_comments@@3PAUSPEECH_INSTANCE_TYPE@@A[eax+4]
  00150	89 4d f8	 mov	 DWORD PTR _array_type$[ebp], ecx

; 122  : 		speech_index = building_destroyed_cpg_comments [val].speech_index;

  00153	8b 45 fc	 mov	 eax, DWORD PTR _val$[ebp]
  00156	c1 e0 04	 shl	 eax, 4
  00159	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?building_destroyed_cpg_comments@@3PAUSPEECH_INSTANCE_TYPE@@A[eax]
  0015f	89 4d f4	 mov	 DWORD PTR _speech_index$[ebp], ecx

; 123  : 
; 124  : 		if (get_local_entity_int_value (aggressor, INT_TYPE_PLAYER) != ENTITY_PLAYER_AI)

  00162	83 7d 0c 00	 cmp	 DWORD PTR _aggressor$[ebp], 0
  00166	74 0a		 je	 SHORT $LN15@play_build
  00168	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  0016b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0016d	89 4d ac	 mov	 DWORD PTR tv159[ebp], ecx
  00170	eb 1a		 jmp	 SHORT $LN16@play_build
$LN15@play_build:
  00172	6a 7c		 push	 124			; 0000007cH
  00174	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  00179	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0017f	52		 push	 edx
  00180	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00185	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv159[ebp], 0
$LN16@play_build:
  0018c	b8 01 00 00 00	 mov	 eax, 1
  00191	85 c0		 test	 eax, eax
  00193	74 09		 je	 SHORT $LN17@play_build
  00195	c7 45 a8 9c 00
	00 00		 mov	 DWORD PTR tv166[ebp], 156 ; 0000009cH
  0019c	eb 1a		 jmp	 SHORT $LN18@play_build
$LN17@play_build:
  0019e	6a 7c		 push	 124			; 0000007cH
  001a0	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@DGLALDCA@c?3?2users?2nhv90?2projects?2eech?2ap@
  001a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  001ab	51		 push	 ecx
  001ac	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001b1	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR tv166[ebp], 0
$LN18@play_build:
  001b8	68 9c 00 00 00	 push	 156			; 0000009cH
  001bd	8b 55 0c	 mov	 edx, DWORD PTR _aggressor$[ebp]
  001c0	52		 push	 edx
  001c1	69 45 ac 5c 04
	00 00		 imul	 eax, DWORD PTR tv159[ebp], 1116
  001c8	8b 4d a8	 mov	 ecx, DWORD PTR tv166[ebp]
  001cb	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  001d2	ff d2		 call	 edx
  001d4	85 c0		 test	 eax, eax
  001d6	74 3b		 je	 SHORT $LN4@play_build

; 125  : 		{
; 126  : 			play_client_server_cpg_message (aggressor, 0.4, 4.0, SPEECH_CATEGORY_DESTROYED_TARGETS, 18.0, speech_index);

  001d8	8b 45 f4	 mov	 eax, DWORD PTR _speech_index$[ebp]
  001db	50		 push	 eax
  001dc	51		 push	 ecx
  001dd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41900000
  001e5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001ea	6a 06		 push	 6
  001ec	51		 push	 ecx
  001ed	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40800000
  001f5	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001fa	51		 push	 ecx
  001fb	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  00203	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00208	8b 4d 0c	 mov	 ecx, DWORD PTR _aggressor$[ebp]
  0020b	51		 push	 ecx
  0020c	e8 00 00 00 00	 call	 ?play_client_server_cpg_message@@YGHPAUENTITY@@MMHMH@Z ; play_client_server_cpg_message

; 127  : 		}
; 128  : 		else

  00211	eb 3b		 jmp	 SHORT $LN5@play_build
$LN4@play_build:

; 129  : 		{
; 130  : 			play_client_server_wingman_message

  00213	6a 13		 push	 19			; 00000013H
  00215	6a 07		 push	 7
  00217	6a 01		 push	 1
  00219	51		 push	 ecx
  0021a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41900000
  00222	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00227	6a 06		 push	 6
  00229	51		 push	 ecx
  0022a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40800000
  00232	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00237	51		 push	 ecx
  00238	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3ecccccd
  00240	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00245	8b 45 0c	 mov	 eax, DWORD PTR _aggressor$[ebp]
  00248	50		 push	 eax
  00249	e8 00 00 00 00	 call	 ?play_client_server_wingman_message@@YGHPAUENTITY@@MMW4speech_category_types@@MW4speech_intro_types@@W4speech_array_types@@H@Z ; play_client_server_wingman_message
$LN5@play_build:

; 131  : 			(
; 132  : 				aggressor,
; 133  : 				0.4,
; 134  : 				4.0,
; 135  : 				SPEECH_CATEGORY_DESTROYED_TARGETS, 18.0,
; 136  : 				SPEECH_INTRODUCTION_SOMETIMES,
; 137  : 				SPEECH_ARRAY_WINGMAN_MESSAGES, SPEECH_WINGMAN_TARGET_DESTROYED
; 138  : 			);
; 139  : 		}
; 140  : 	}
; 141  : }

  0024e	5f		 pop	 edi
  0024f	5e		 pop	 esi
  00250	5b		 pop	 ebx
  00251	8b e5		 mov	 esp, ebp
  00253	5d		 pop	 ebp
  00254	c2 08 00	 ret	 8
?play_building_destroyed_speech@@YGXPAUENTITY@@0@Z ENDP	; play_building_destroyed_speech
_TEXT	ENDS
END
