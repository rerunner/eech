; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\modules\3d\3dscon.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?polygon_3d_vertices@@3PAUVERTEX@@A		; polygon_3d_vertices
_BSS	SEGMENT
?polygon_3d_vertices@@3PAUVERTEX@@A DB 04000H DUP (?)	; polygon_3d_vertices
_BSS	ENDS
PUBLIC	?asm_convert_float_to_int@@YGXMPAH@Z		; asm_convert_float_to_int
PUBLIC	?outcode_3d_object_polygon@@YGHHPAUPOINT_3D_SHORT_REFERENCE@@HPAH@Z ; outcode_3d_object_polygon
PUBLIC	?outcode_3d_object_surface_polygon@@YGHHHPAH@Z	; outcode_3d_object_surface_polygon
PUBLIC	?construct_3d_surface_polygon@@YGPAUVERTEX@@HH@Z ; construct_3d_surface_polygon
PUBLIC	?construct_3d_surface_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ; construct_3d_surface_triangle_fan
PUBLIC	?construct_3d_surface_gouraud_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z ; construct_3d_surface_gouraud_triangle_fan
PUBLIC	?construct_3d_surface_unclipped_gouraud_triangle_fan@@YGPAUVERTEX@@HMH@Z ; construct_3d_surface_unclipped_gouraud_triangle_fan
PUBLIC	?construct_3d_surface_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ; construct_3d_surface_textured_triangle_fan
PUBLIC	?construct_3d_surface_gouraud_textured_triangle_fan@@YGPAUVERTEX@@HMHHPAH@Z ; construct_3d_surface_gouraud_textured_triangle_fan
PUBLIC	?construct_3d_surface_dual_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ; construct_3d_surface_dual_textured_triangle_fan
PUBLIC	?construct_3d_surface_gouraud_dual_textured_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z ; construct_3d_surface_gouraud_dual_textured_triangle_fan
PUBLIC	?construct_3d_surface_line@@YGPAUVERTEX@@HPAH@Z	; construct_3d_surface_line
PUBLIC	?construct_3d_surface_unclipped_line@@YGPAUVERTEX@@H@Z ; construct_3d_surface_unclipped_line
PUBLIC	?construct_3d_surface_textured_line@@YGPAUVERTEX@@HPAH@Z ; construct_3d_surface_textured_line
PUBLIC	?construct_3d_surface_unclipped_textured_line@@YGPAUVERTEX@@H@Z ; construct_3d_surface_unclipped_textured_line
PUBLIC	?construct_3d_surface_reflective_triangle_fan@@YGPAUVERTEX@@HHPAHPAUVEC3D@@@Z ; construct_3d_surface_reflective_triangle_fan
PUBLIC	?construct_3d_surface_gouraud_reflective_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ; construct_3d_surface_gouraud_reflective_triangle_fan
EXTRN	?generate_environment_coordinates@@YGXHPAUOBJECT_SHORT_3D_POINT@@PAUVEC3D@@1QAY02MPAM3@Z:PROC ; generate_environment_coordinates
EXTRN	?generate_object_3d_point_normal@@YGXPAUOBJECT_3D_HEADING_PITCH_NORMAL@@PAUVEC3D@@@Z:PROC ; generate_object_3d_point_normal
EXTRN	?objects_3d_data@@3PAUOBJECT_3D@@A:DWORD	; objects_3d_data
EXTRN	?current_object_3d_surface@@3PAUFACE_SURFACE_DESCRIPTION@@A:DWORD ; current_object_3d_surface
EXTRN	?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A:DWORD ; current_object_3d_point_list
EXTRN	?current_object_3d_transformed_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A:DWORD ; current_object_3d_transformed_normals
EXTRN	?current_object_3d_dissolve_value@@3EA:BYTE	; current_object_3d_dissolve_value
EXTRN	?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A:DWORD ; current_object_3d_surface_point_texture_list
EXTRN	?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A:DWORD ; current_object_3d_surface_point_list
EXTRN	?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A:DWORD ; current_object_3d_surface_point_normal_list
EXTRN	?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A:DWORD ; current_object_3d_object_base
EXTRN	?transformed_3d_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A:BYTE ; transformed_3d_normals
EXTRN	?transformed_3d_point_outcodes@@3PAEA:BYTE	; transformed_3d_point_outcodes
EXTRN	?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A:BYTE ; transformed_3d_3d_points
EXTRN	?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A:BYTE ; transformed_3d_2d_points
EXTRN	__fltused:DWORD
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_gouraud_reflective_triangle_fan@@YGPAUVERTEX@@HHPAH@Z
_TEXT	SEGMENT
_v$ = -64						; size = 4
_u$ = -60						; size = 4
_this_colour$ = -56					; size = 4
_object_point_index$ = -52				; size = 4
_point_index$ = -48					; size = 4
_surface_point_normal_index$ = -44			; size = 4
_surface_point_index$ = -40				; size = 4
_object_index$ = -36					; size = 4
_point_normal$ = -32					; size = 4
_normal$ = -28						; size = 12
_camera_position$ = -16					; size = 12
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_base_point$ = 12					; size = 4
_polygon_outcode$ = 16					; size = 4
?construct_3d_surface_gouraud_reflective_triangle_fan@@YGPAUVERTEX@@HHPAH@Z PROC ; construct_3d_surface_gouraud_reflective_triangle_fan, COMDAT

; 1057 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 1058 : 
; 1059 : 	unsigned char
; 1060 : 		outcode,
; 1061 : 		outcode2;
; 1062 : 
; 1063 : 	vec3d
; 1064 : 		camera_position,
; 1065 : 		normal;
; 1066 : 
; 1067 : 	object_3d_heading_pitch_normal
; 1068 : 		*point_normal;
; 1069 : 
; 1070 : 	int
; 1071 : 		object_index,
; 1072 : 		surface_point_index,
; 1073 : 		surface_point_normal_index,
; 1074 : 		point_index,
; 1075 : 		object_point_index;
; 1076 : 
; 1077 : 	real_colour
; 1078 : 		this_colour;
; 1079 : 
; 1080 : 	float
; 1081 : 		u,
; 1082 : 		v;
; 1083 : 
; 1084 : 	camera_position = current_object_3d_object_base->camera_position;

  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  00011	83 c0 08	 add	 eax, 8
  00014	8b 08		 mov	 ecx, DWORD PTR [eax]
  00016	89 4d f0	 mov	 DWORD PTR _camera_position$[ebp], ecx
  00019	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0001c	89 55 f4	 mov	 DWORD PTR _camera_position$[ebp+4], edx
  0001f	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00022	89 45 f8	 mov	 DWORD PTR _camera_position$[ebp+8], eax

; 1085 : 
; 1086 : 	object_index = current_object_3d_object_base->object_number;

  00025	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  0002a	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0002d	89 4d dc	 mov	 DWORD PTR _object_index$[ebp], ecx

; 1087 : 
; 1088 : 	surface_point_index = current_object_3d_point_list[0].point;

  00030	b8 01 00 00 00	 mov	 eax, 1
  00035	6b c8 00	 imul	 ecx, eax, 0
  00038	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0003e	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00042	89 45 d8	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 1089 : 	surface_point_normal_index = current_object_3d_surface_point_normal_list[surface_point_index].point;

  00045	8b 45 d8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00048	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  0004e	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00052	89 55 d4	 mov	 DWORD PTR _surface_point_normal_index$[ebp], edx

; 1090 : 	object_point_index = current_object_3d_surface_point_list[surface_point_index].point;

  00055	8b 45 d8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00058	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0005e	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00062	89 55 cc	 mov	 DWORD PTR _object_point_index$[ebp], edx

; 1091 : 	point_index = object_point_index + base_point;

  00065	8b 45 cc	 mov	 eax, DWORD PTR _object_point_index$[ebp]
  00068	03 45 0c	 add	 eax, DWORD PTR _base_point$[ebp]
  0006b	89 45 d0	 mov	 DWORD PTR _point_index$[ebp], eax

; 1092 : 	point_normal = &objects_3d_data[object_index].point_normals[surface_point_normal_index];

  0006e	6b 45 dc 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  00072	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  00078	8b 54 01 48	 mov	 edx, DWORD PTR [ecx+eax+72]
  0007c	8b 45 d4	 mov	 eax, DWORD PTR _surface_point_normal_index$[ebp]
  0007f	8d 0c 42	 lea	 ecx, DWORD PTR [edx+eax*2]
  00082	89 4d e0	 mov	 DWORD PTR _point_normal$[ebp], ecx

; 1093 : 	generate_object_3d_point_normal ( point_normal, &normal );

  00085	8d 45 e4	 lea	 eax, DWORD PTR _normal$[ebp]
  00088	50		 push	 eax
  00089	8b 4d e0	 mov	 ecx, DWORD PTR _point_normal$[ebp]
  0008c	51		 push	 ecx
  0008d	e8 00 00 00 00	 call	 ?generate_object_3d_point_normal@@YGXPAUOBJECT_3D_HEADING_PITCH_NORMAL@@PAUVEC3D@@@Z ; generate_object_3d_point_normal

; 1094 : //	normal.x = point_normal->x / 32767.0;
; 1095 : //	normal.y = point_normal->y / 32767.0;
; 1096 : //	normal.z = point_normal->z / 32767.0;
; 1097 : 
; 1098 : 	this_colour.colour = current_object_3d_transformed_normals[surface_point_normal_index].colour;

  00092	8b 45 d4	 mov	 eax, DWORD PTR _surface_point_normal_index$[ebp]
  00095	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_transformed_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A ; current_object_3d_transformed_normals
  0009b	8b 14 c1	 mov	 edx, DWORD PTR [ecx+eax*8]
  0009e	89 55 c8	 mov	 DWORD PTR _this_colour$[ebp], edx

; 1099 : 	this_colour.alpha = current_object_3d_surface->reflectivity;

  000a1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface@@3PAUFACE_SURFACE_DESCRIPTION@@A ; current_object_3d_surface
  000a6	8a 48 0a	 mov	 cl, BYTE PTR [eax+10]
  000a9	88 4d cb	 mov	 BYTE PTR _this_colour$[ebp+3], cl

; 1100 : 
; 1101 : 	generate_environment_coordinates ( object_index, &objects_3d_data[object_index].points[object_point_index],

  000ac	8d 45 c0	 lea	 eax, DWORD PTR _v$[ebp]
  000af	50		 push	 eax
  000b0	8d 4d c4	 lea	 ecx, DWORD PTR _u$[ebp]
  000b3	51		 push	 ecx
  000b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  000ba	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  000bd	83 c0 0c	 add	 eax, 12			; 0000000cH
  000c0	50		 push	 eax
  000c1	8d 4d f0	 lea	 ecx, DWORD PTR _camera_position$[ebp]
  000c4	51		 push	 ecx
  000c5	8d 55 e4	 lea	 edx, DWORD PTR _normal$[ebp]
  000c8	52		 push	 edx
  000c9	6b 45 dc 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  000cd	6b 4d cc 06	 imul	 ecx, DWORD PTR _object_point_index$[ebp], 6
  000d1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  000d7	03 4c 02 40	 add	 ecx, DWORD PTR [edx+eax+64]
  000db	51		 push	 ecx
  000dc	8b 45 dc	 mov	 eax, DWORD PTR _object_index$[ebp]
  000df	50		 push	 eax
  000e0	e8 00 00 00 00	 call	 ?generate_environment_coordinates@@YGXHPAUOBJECT_SHORT_3D_POINT@@PAUVEC3D@@1QAY02MPAM3@Z ; generate_environment_coordinates

; 1102 : 													&normal, &camera_position, current_object_3d_object_base->object_vp->attitude, &u, &v );
; 1103 : 
; 1104 : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  000e5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ea	6b c8 00	 imul	 ecx, eax, 0
  000ed	8b 55 d0	 mov	 edx, DWORD PTR _point_index$[ebp]
  000f0	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  000f7	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 1105 : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  000fd	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00102	6b c8 00	 imul	 ecx, eax, 0
  00105	8b 55 d0	 mov	 edx, DWORD PTR _point_index$[ebp]
  00108	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0010f	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 1106 : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00115	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00118	c1 e0 04	 shl	 eax, 4
  0011b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00120	6b d1 00	 imul	 edx, ecx, 0
  00123	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00129	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 1107 : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  0012f	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00132	c1 e0 04	 shl	 eax, 4
  00135	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0013a	6b d1 00	 imul	 edx, ecx, 0
  0013d	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00143	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 1108 : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  00149	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  0014c	c1 e0 04	 shl	 eax, 4
  0014f	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00154	6b d1 00	 imul	 edx, ecx, 0
  00157	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  0015d	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 1109 : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  00163	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00166	c1 e0 04	 shl	 eax, 4
  00169	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0016e	6b d1 00	 imul	 edx, ecx, 0
  00171	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00177	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 1110 : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  0017d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00182	6b c8 00	 imul	 ecx, eax, 0
  00185	8b 55 d0	 mov	 edx, DWORD PTR _point_index$[ebp]
  00188	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  0018e	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 1111 : 	polygon_3d_vertices[0].colour = this_colour.colour;

  00194	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00199	6b c8 00	 imul	 ecx, eax, 0
  0019c	8b 55 c8	 mov	 edx, DWORD PTR _this_colour$[ebp]
  0019f	89 91 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+48], edx

; 1112 : 	polygon_3d_vertices[0].u = u;

  001a5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001aa	6b c8 00	 imul	 ecx, eax, 0
  001ad	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _u$[ebp]
  001b2	f3 0f 11 81 18
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], xmm0

; 1113 : 	polygon_3d_vertices[0].v = v;

  001ba	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001bf	6b c8 00	 imul	 ecx, eax, 0
  001c2	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _v$[ebp]
  001c7	f3 0f 11 81 1c
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], xmm0

; 1114 : 	polygon_3d_vertices[0].specular = 0;

  001cf	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001d4	6b c8 00	 imul	 ecx, eax, 0
  001d7	c6 81 2d 00 00
	00 00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+45], 0

; 1115 : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  001de	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001e3	c1 e0 00	 shl	 eax, 0
  001e6	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  001eb	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001f0	6b d1 00	 imul	 edx, ecx, 0
  001f3	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 1116 : 	outcode = transformed_3d_point_outcodes[point_index];

  001f9	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  001fc	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00202	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 1117 : 	outcode2 = transformed_3d_point_outcodes[point_index];

  00205	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00208	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0020e	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 1118 : 
; 1119 : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  00211	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00216	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  00219	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0021d	89 4d d8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 1120 : 	surface_point_normal_index = current_object_3d_surface_point_normal_list[surface_point_index].point;

  00220	8b 45 d8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00223	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00229	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0022d	89 55 d4	 mov	 DWORD PTR _surface_point_normal_index$[ebp], edx

; 1121 : 	object_point_index = current_object_3d_surface_point_list[surface_point_index].point;

  00230	8b 45 d8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00233	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00239	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0023d	89 55 cc	 mov	 DWORD PTR _object_point_index$[ebp], edx

; 1122 : 	point_index = object_point_index + base_point;

  00240	8b 45 cc	 mov	 eax, DWORD PTR _object_point_index$[ebp]
  00243	03 45 0c	 add	 eax, DWORD PTR _base_point$[ebp]
  00246	89 45 d0	 mov	 DWORD PTR _point_index$[ebp], eax

; 1123 : 	point_normal = &objects_3d_data[object_index].point_normals[surface_point_normal_index];

  00249	6b 45 dc 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  0024d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  00253	8b 54 01 48	 mov	 edx, DWORD PTR [ecx+eax+72]
  00257	8b 45 d4	 mov	 eax, DWORD PTR _surface_point_normal_index$[ebp]
  0025a	8d 0c 42	 lea	 ecx, DWORD PTR [edx+eax*2]
  0025d	89 4d e0	 mov	 DWORD PTR _point_normal$[ebp], ecx

; 1124 : 	generate_object_3d_point_normal ( point_normal, &normal );

  00260	8d 45 e4	 lea	 eax, DWORD PTR _normal$[ebp]
  00263	50		 push	 eax
  00264	8b 4d e0	 mov	 ecx, DWORD PTR _point_normal$[ebp]
  00267	51		 push	 ecx
  00268	e8 00 00 00 00	 call	 ?generate_object_3d_point_normal@@YGXPAUOBJECT_3D_HEADING_PITCH_NORMAL@@PAUVEC3D@@@Z ; generate_object_3d_point_normal

; 1125 : //	normal.x = point_normal->x / 32767.0;
; 1126 : //	normal.y = point_normal->y / 32767.0;
; 1127 : //	normal.z = point_normal->z / 32767.0;
; 1128 : 
; 1129 : 	this_colour.colour = current_object_3d_transformed_normals[surface_point_normal_index].colour;

  0026d	8b 45 d4	 mov	 eax, DWORD PTR _surface_point_normal_index$[ebp]
  00270	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_transformed_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A ; current_object_3d_transformed_normals
  00276	8b 14 c1	 mov	 edx, DWORD PTR [ecx+eax*8]
  00279	89 55 c8	 mov	 DWORD PTR _this_colour$[ebp], edx

; 1130 : 	this_colour.alpha = current_object_3d_surface->reflectivity;

  0027c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface@@3PAUFACE_SURFACE_DESCRIPTION@@A ; current_object_3d_surface
  00281	8a 48 0a	 mov	 cl, BYTE PTR [eax+10]
  00284	88 4d cb	 mov	 BYTE PTR _this_colour$[ebp+3], cl

; 1131 : 
; 1132 : 	generate_environment_coordinates ( object_index, &objects_3d_data[object_index].points[object_point_index],

  00287	8d 45 c0	 lea	 eax, DWORD PTR _v$[ebp]
  0028a	50		 push	 eax
  0028b	8d 4d c4	 lea	 ecx, DWORD PTR _u$[ebp]
  0028e	51		 push	 ecx
  0028f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  00295	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00298	83 c0 0c	 add	 eax, 12			; 0000000cH
  0029b	50		 push	 eax
  0029c	8d 4d f0	 lea	 ecx, DWORD PTR _camera_position$[ebp]
  0029f	51		 push	 ecx
  002a0	8d 55 e4	 lea	 edx, DWORD PTR _normal$[ebp]
  002a3	52		 push	 edx
  002a4	6b 45 dc 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  002a8	6b 4d cc 06	 imul	 ecx, DWORD PTR _object_point_index$[ebp], 6
  002ac	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  002b2	03 4c 02 40	 add	 ecx, DWORD PTR [edx+eax+64]
  002b6	51		 push	 ecx
  002b7	8b 45 dc	 mov	 eax, DWORD PTR _object_index$[ebp]
  002ba	50		 push	 eax
  002bb	e8 00 00 00 00	 call	 ?generate_environment_coordinates@@YGXHPAUOBJECT_SHORT_3D_POINT@@PAUVEC3D@@1QAY02MPAM3@Z ; generate_environment_coordinates

; 1133 : 													&normal, &camera_position, current_object_3d_object_base->object_vp->attitude, &u, &v );
; 1134 : 
; 1135 : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  002c0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002c5	c1 e0 00	 shl	 eax, 0
  002c8	8b 4d d0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002cb	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  002d2	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 1136 : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  002d8	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002dd	c1 e0 00	 shl	 eax, 0
  002e0	8b 4d d0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002e3	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  002ea	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 1137 : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  002f0	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  002f3	c1 e0 04	 shl	 eax, 4
  002f6	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002fb	c1 e1 00	 shl	 ecx, 0
  002fe	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00304	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 1138 : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  0030a	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  0030d	c1 e0 04	 shl	 eax, 4
  00310	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00315	c1 e1 00	 shl	 ecx, 0
  00318	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0031e	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 1139 : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  00324	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00327	c1 e0 04	 shl	 eax, 4
  0032a	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0032f	c1 e1 00	 shl	 ecx, 0
  00332	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00338	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 1140 : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  0033e	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00341	c1 e0 04	 shl	 eax, 4
  00344	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00349	c1 e1 00	 shl	 ecx, 0
  0034c	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00352	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 1141 : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  00358	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0035d	c1 e0 00	 shl	 eax, 0
  00360	8b 4d d0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00363	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  00369	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 1142 : 	polygon_3d_vertices[1].colour = this_colour.colour;

  0036f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00374	c1 e0 00	 shl	 eax, 0
  00377	8b 4d c8	 mov	 ecx, DWORD PTR _this_colour$[ebp]
  0037a	89 88 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], ecx

; 1143 : 	polygon_3d_vertices[1].u = u;

  00380	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00385	c1 e0 00	 shl	 eax, 0
  00388	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _u$[ebp]
  0038d	f3 0f 11 80 18
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], xmm0

; 1144 : 	polygon_3d_vertices[1].v = v;

  00395	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0039a	c1 e0 00	 shl	 eax, 0
  0039d	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _v$[ebp]
  003a2	f3 0f 11 80 1c
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], xmm0

; 1145 : 	polygon_3d_vertices[1].specular = 0;

  003aa	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003af	c1 e0 00	 shl	 eax, 0
  003b2	c6 80 2d 00 00
	00 00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], 0

; 1146 : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  003b9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003be	d1 e0		 shl	 eax, 1
  003c0	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  003c5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003ca	c1 e1 00	 shl	 ecx, 0
  003cd	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 1147 : 	outcode |= transformed_3d_point_outcodes[point_index];

  003d3	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  003d6	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  003dd	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  003e1	0b d1		 or	 edx, ecx
  003e3	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 1148 : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  003e6	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  003e9	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  003f0	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  003f4	23 d1		 and	 edx, ecx
  003f6	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 1149 : 
; 1150 : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  003f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  003fe	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  00401	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00405	89 4d d8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 1151 : 	surface_point_normal_index = current_object_3d_surface_point_normal_list[surface_point_index].point;

  00408	8b 45 d8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0040b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00411	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00415	89 55 d4	 mov	 DWORD PTR _surface_point_normal_index$[ebp], edx

; 1152 : 	object_point_index = current_object_3d_surface_point_list[surface_point_index].point;

  00418	8b 45 d8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0041b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00421	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00425	89 55 cc	 mov	 DWORD PTR _object_point_index$[ebp], edx

; 1153 : 	point_index = object_point_index + base_point;

  00428	8b 45 cc	 mov	 eax, DWORD PTR _object_point_index$[ebp]
  0042b	03 45 0c	 add	 eax, DWORD PTR _base_point$[ebp]
  0042e	89 45 d0	 mov	 DWORD PTR _point_index$[ebp], eax

; 1154 : 	point_normal = &objects_3d_data[object_index].point_normals[surface_point_normal_index];

  00431	6b 45 dc 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  00435	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  0043b	8b 54 01 48	 mov	 edx, DWORD PTR [ecx+eax+72]
  0043f	8b 45 d4	 mov	 eax, DWORD PTR _surface_point_normal_index$[ebp]
  00442	8d 0c 42	 lea	 ecx, DWORD PTR [edx+eax*2]
  00445	89 4d e0	 mov	 DWORD PTR _point_normal$[ebp], ecx

; 1155 : 	generate_object_3d_point_normal ( point_normal, &normal );

  00448	8d 45 e4	 lea	 eax, DWORD PTR _normal$[ebp]
  0044b	50		 push	 eax
  0044c	8b 4d e0	 mov	 ecx, DWORD PTR _point_normal$[ebp]
  0044f	51		 push	 ecx
  00450	e8 00 00 00 00	 call	 ?generate_object_3d_point_normal@@YGXPAUOBJECT_3D_HEADING_PITCH_NORMAL@@PAUVEC3D@@@Z ; generate_object_3d_point_normal

; 1156 : //	normal.x = point_normal->x / 32767.0;
; 1157 : //	normal.y = point_normal->y / 32767.0;
; 1158 : //	normal.z = point_normal->z / 32767.0;
; 1159 : 
; 1160 : 	this_colour.colour = current_object_3d_transformed_normals[surface_point_normal_index].colour;

  00455	8b 45 d4	 mov	 eax, DWORD PTR _surface_point_normal_index$[ebp]
  00458	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_transformed_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A ; current_object_3d_transformed_normals
  0045e	8b 14 c1	 mov	 edx, DWORD PTR [ecx+eax*8]
  00461	89 55 c8	 mov	 DWORD PTR _this_colour$[ebp], edx

; 1161 : 	this_colour.alpha = current_object_3d_surface->reflectivity;

  00464	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface@@3PAUFACE_SURFACE_DESCRIPTION@@A ; current_object_3d_surface
  00469	8a 48 0a	 mov	 cl, BYTE PTR [eax+10]
  0046c	88 4d cb	 mov	 BYTE PTR _this_colour$[ebp+3], cl

; 1162 : 
; 1163 : 	generate_environment_coordinates ( object_index, &objects_3d_data[object_index].points[object_point_index],

  0046f	8d 45 c0	 lea	 eax, DWORD PTR _v$[ebp]
  00472	50		 push	 eax
  00473	8d 4d c4	 lea	 ecx, DWORD PTR _u$[ebp]
  00476	51		 push	 ecx
  00477	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  0047d	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00480	83 c0 0c	 add	 eax, 12			; 0000000cH
  00483	50		 push	 eax
  00484	8d 4d f0	 lea	 ecx, DWORD PTR _camera_position$[ebp]
  00487	51		 push	 ecx
  00488	8d 55 e4	 lea	 edx, DWORD PTR _normal$[ebp]
  0048b	52		 push	 edx
  0048c	6b 45 dc 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  00490	6b 4d cc 06	 imul	 ecx, DWORD PTR _object_point_index$[ebp], 6
  00494	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  0049a	03 4c 02 40	 add	 ecx, DWORD PTR [edx+eax+64]
  0049e	51		 push	 ecx
  0049f	8b 45 dc	 mov	 eax, DWORD PTR _object_index$[ebp]
  004a2	50		 push	 eax
  004a3	e8 00 00 00 00	 call	 ?generate_environment_coordinates@@YGXHPAUOBJECT_SHORT_3D_POINT@@PAUVEC3D@@1QAY02MPAM3@Z ; generate_environment_coordinates

; 1164 : 													&normal, &camera_position, current_object_3d_object_base->object_vp->attitude, &u, &v );
; 1165 : 
; 1166 : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  004a8	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004ad	d1 e0		 shl	 eax, 1
  004af	8b 4d d0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  004b2	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  004b9	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 1167 : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  004bf	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004c4	d1 e0		 shl	 eax, 1
  004c6	8b 4d d0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  004c9	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  004d0	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 1168 : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  004d6	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  004d9	c1 e0 04	 shl	 eax, 4
  004dc	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  004e1	d1 e1		 shl	 ecx, 1
  004e3	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  004e9	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 1169 : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  004ef	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  004f2	c1 e0 04	 shl	 eax, 4
  004f5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  004fa	d1 e1		 shl	 ecx, 1
  004fc	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00502	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 1170 : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  00508	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  0050b	c1 e0 04	 shl	 eax, 4
  0050e	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00513	d1 e1		 shl	 ecx, 1
  00515	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  0051b	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 1171 : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  00521	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00524	c1 e0 04	 shl	 eax, 4
  00527	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0052c	d1 e1		 shl	 ecx, 1
  0052e	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00534	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 1172 : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  0053a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0053f	d1 e0		 shl	 eax, 1
  00541	8b 4d d0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00544	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  0054a	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 1173 : 	polygon_3d_vertices[2].colour = this_colour.colour;

  00550	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00555	d1 e0		 shl	 eax, 1
  00557	8b 4d c8	 mov	 ecx, DWORD PTR _this_colour$[ebp]
  0055a	89 88 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], ecx

; 1174 : 	polygon_3d_vertices[2].u = u;

  00560	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00565	d1 e0		 shl	 eax, 1
  00567	f3 0f 10 45 c4	 movss	 xmm0, DWORD PTR _u$[ebp]
  0056c	f3 0f 11 80 18
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], xmm0

; 1175 : 	polygon_3d_vertices[2].v = v;

  00574	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00579	d1 e0		 shl	 eax, 1
  0057b	f3 0f 10 45 c0	 movss	 xmm0, DWORD PTR _v$[ebp]
  00580	f3 0f 11 80 1c
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], xmm0

; 1176 : 	polygon_3d_vertices[2].specular = 0;

  00588	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0058d	d1 e0		 shl	 eax, 1
  0058f	c6 80 2d 00 00
	00 00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], 0

; 1177 : 	polygon_3d_vertices[2].next_vertex = NULL;

  00596	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0059b	d1 e0		 shl	 eax, 1
  0059d	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 1178 : 	outcode |= transformed_3d_point_outcodes[point_index];

  005a7	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  005aa	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  005b1	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  005b5	0b d1		 or	 edx, ecx
  005b7	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 1179 : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  005ba	8b 45 d0	 mov	 eax, DWORD PTR _point_index$[ebp]
  005bd	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  005c4	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  005c8	23 d1		 and	 edx, ecx
  005ca	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 1180 : 
; 1181 : 	*polygon_outcode = outcode;

  005cd	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  005d1	8b 4d 10	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  005d4	89 01		 mov	 DWORD PTR [ecx], eax

; 1182 : 
; 1183 : 	if ( outcode2 )

  005d6	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  005da	85 c0		 test	 eax, eax
  005dc	74 06		 je	 SHORT $LN2@construct_

; 1184 : 	{
; 1185 : 
; 1186 : 		return ( NULL );

  005de	33 c0		 xor	 eax, eax
  005e0	eb 07		 jmp	 SHORT $LN3@construct_

; 1187 : 	}
; 1188 : 	else

  005e2	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 1189 : 	{
; 1190 : 
; 1191 : 		return ( polygon_3d_vertices );

  005e4	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 1192 : 	}
; 1193 : }

  005e9	5f		 pop	 edi
  005ea	5e		 pop	 esi
  005eb	5b		 pop	 ebx
  005ec	8b e5		 mov	 esp, ebp
  005ee	5d		 pop	 ebp
  005ef	c2 0c 00	 ret	 12			; 0000000cH
?construct_3d_surface_gouraud_reflective_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ENDP ; construct_3d_surface_gouraud_reflective_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_reflective_triangle_fan@@YGPAUVERTEX@@HHPAHPAUVEC3D@@@Z
_TEXT	SEGMENT
_v$ = -40						; size = 4
_u$ = -36						; size = 4
_object_point_index$ = -32				; size = 4
_point_index$ = -28					; size = 4
_surface_point_index$ = -24				; size = 4
_object_index$ = -20					; size = 4
_camera_position$ = -16					; size = 12
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_base_point$ = 12					; size = 4
_polygon_outcode$ = 16					; size = 4
_normal$ = 20						; size = 4
?construct_3d_surface_reflective_triangle_fan@@YGPAUVERTEX@@HHPAHPAUVEC3D@@@Z PROC ; construct_3d_surface_reflective_triangle_fan, COMDAT

; 954  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 68	 sub	 esp, 104		; 00000068H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 955  : 
; 956  : 	unsigned char
; 957  : 		outcode,
; 958  : 		outcode2;
; 959  : 
; 960  : 	vec3d
; 961  : 		camera_position;
; 962  : 
; 963  : 	int
; 964  : 		object_index,
; 965  : 		surface_point_index,
; 966  : 		point_index,
; 967  : 		object_point_index;
; 968  : 
; 969  : 	float
; 970  : 		u,
; 971  : 		v;
; 972  : 
; 973  : 	camera_position = current_object_3d_object_base->camera_position;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  0000e	83 c0 08	 add	 eax, 8
  00011	8b 08		 mov	 ecx, DWORD PTR [eax]
  00013	89 4d f0	 mov	 DWORD PTR _camera_position$[ebp], ecx
  00016	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00019	89 55 f4	 mov	 DWORD PTR _camera_position$[ebp+4], edx
  0001c	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0001f	89 45 f8	 mov	 DWORD PTR _camera_position$[ebp+8], eax

; 974  : 
; 975  : 	object_index = current_object_3d_object_base->object_number;

  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  00027	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0002a	89 4d ec	 mov	 DWORD PTR _object_index$[ebp], ecx

; 976  : 
; 977  : 	surface_point_index = current_object_3d_point_list[0].point;

  0002d	b8 01 00 00 00	 mov	 eax, 1
  00032	6b c8 00	 imul	 ecx, eax, 0
  00035	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0003b	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0003f	89 45 e8	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 978  : 	object_point_index = current_object_3d_surface_point_list[surface_point_index].point;

  00042	8b 45 e8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00045	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0004b	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0004f	89 55 e0	 mov	 DWORD PTR _object_point_index$[ebp], edx

; 979  : 	point_index = object_point_index + base_point;

  00052	8b 45 e0	 mov	 eax, DWORD PTR _object_point_index$[ebp]
  00055	03 45 0c	 add	 eax, DWORD PTR _base_point$[ebp]
  00058	89 45 e4	 mov	 DWORD PTR _point_index$[ebp], eax

; 980  : 
; 981  : 	generate_environment_coordinates ( object_index, &objects_3d_data[object_index].points[object_point_index],

  0005b	8d 45 d8	 lea	 eax, DWORD PTR _v$[ebp]
  0005e	50		 push	 eax
  0005f	8d 4d dc	 lea	 ecx, DWORD PTR _u$[ebp]
  00062	51		 push	 ecx
  00063	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  00069	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0006c	83 c0 0c	 add	 eax, 12			; 0000000cH
  0006f	50		 push	 eax
  00070	8d 4d f0	 lea	 ecx, DWORD PTR _camera_position$[ebp]
  00073	51		 push	 ecx
  00074	8b 55 14	 mov	 edx, DWORD PTR _normal$[ebp]
  00077	52		 push	 edx
  00078	6b 45 ec 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  0007c	6b 4d e0 06	 imul	 ecx, DWORD PTR _object_point_index$[ebp], 6
  00080	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  00086	03 4c 02 40	 add	 ecx, DWORD PTR [edx+eax+64]
  0008a	51		 push	 ecx
  0008b	8b 45 ec	 mov	 eax, DWORD PTR _object_index$[ebp]
  0008e	50		 push	 eax
  0008f	e8 00 00 00 00	 call	 ?generate_environment_coordinates@@YGXHPAUOBJECT_SHORT_3D_POINT@@PAUVEC3D@@1QAY02MPAM3@Z ; generate_environment_coordinates

; 982  : 													normal, &camera_position, current_object_3d_object_base->object_vp->attitude, &u, &v );
; 983  : 
; 984  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00094	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00099	6b c8 00	 imul	 ecx, eax, 0
  0009c	8b 55 e4	 mov	 edx, DWORD PTR _point_index$[ebp]
  0009f	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  000a6	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 985  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  000ac	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000b1	6b c8 00	 imul	 ecx, eax, 0
  000b4	8b 55 e4	 mov	 edx, DWORD PTR _point_index$[ebp]
  000b7	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  000be	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 986  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  000c4	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000c7	c1 e0 04	 shl	 eax, 4
  000ca	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000cf	6b d1 00	 imul	 edx, ecx, 0
  000d2	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  000d8	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 987  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  000de	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000e1	c1 e0 04	 shl	 eax, 4
  000e4	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000e9	6b d1 00	 imul	 edx, ecx, 0
  000ec	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  000f2	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 988  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  000f8	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000fb	c1 e0 04	 shl	 eax, 4
  000fe	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00103	6b d1 00	 imul	 edx, ecx, 0
  00106	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  0010c	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 989  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  00112	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00115	c1 e0 04	 shl	 eax, 4
  00118	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0011d	6b d1 00	 imul	 edx, ecx, 0
  00120	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00126	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 990  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  0012c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00131	6b c8 00	 imul	 ecx, eax, 0
  00134	8b 55 e4	 mov	 edx, DWORD PTR _point_index$[ebp]
  00137	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  0013d	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 991  : 	polygon_3d_vertices[0].u = u;

  00143	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00148	6b c8 00	 imul	 ecx, eax, 0
  0014b	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _u$[ebp]
  00150	f3 0f 11 81 18
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], xmm0

; 992  : 	polygon_3d_vertices[0].v = v;

  00158	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0015d	6b c8 00	 imul	 ecx, eax, 0
  00160	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _v$[ebp]
  00165	f3 0f 11 81 1c
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], xmm0

; 993  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  0016d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00172	c1 e0 00	 shl	 eax, 0
  00175	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  0017a	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0017f	6b d1 00	 imul	 edx, ecx, 0
  00182	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 994  : 	outcode = transformed_3d_point_outcodes[point_index];

  00188	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0018b	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00191	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 995  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  00194	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00197	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0019d	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 996  : 
; 997  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  001a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  001a5	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  001a8	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  001ac	89 4d e8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 998  : 	object_point_index = current_object_3d_surface_point_list[surface_point_index].point;

  001af	8b 45 e8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  001b2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  001b8	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  001bc	89 55 e0	 mov	 DWORD PTR _object_point_index$[ebp], edx

; 999  : 	point_index = object_point_index + base_point;

  001bf	8b 45 e0	 mov	 eax, DWORD PTR _object_point_index$[ebp]
  001c2	03 45 0c	 add	 eax, DWORD PTR _base_point$[ebp]
  001c5	89 45 e4	 mov	 DWORD PTR _point_index$[ebp], eax

; 1000 : 
; 1001 : 	generate_environment_coordinates ( object_index, &objects_3d_data[object_index].points[object_point_index],

  001c8	8d 45 d8	 lea	 eax, DWORD PTR _v$[ebp]
  001cb	50		 push	 eax
  001cc	8d 4d dc	 lea	 ecx, DWORD PTR _u$[ebp]
  001cf	51		 push	 ecx
  001d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  001d6	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  001d9	83 c0 0c	 add	 eax, 12			; 0000000cH
  001dc	50		 push	 eax
  001dd	8d 4d f0	 lea	 ecx, DWORD PTR _camera_position$[ebp]
  001e0	51		 push	 ecx
  001e1	8b 55 14	 mov	 edx, DWORD PTR _normal$[ebp]
  001e4	52		 push	 edx
  001e5	6b 45 ec 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  001e9	6b 4d e0 06	 imul	 ecx, DWORD PTR _object_point_index$[ebp], 6
  001ed	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  001f3	03 4c 02 40	 add	 ecx, DWORD PTR [edx+eax+64]
  001f7	51		 push	 ecx
  001f8	8b 45 ec	 mov	 eax, DWORD PTR _object_index$[ebp]
  001fb	50		 push	 eax
  001fc	e8 00 00 00 00	 call	 ?generate_environment_coordinates@@YGXHPAUOBJECT_SHORT_3D_POINT@@PAUVEC3D@@1QAY02MPAM3@Z ; generate_environment_coordinates

; 1002 : 													normal, &camera_position, current_object_3d_object_base->object_vp->attitude, &u, &v );
; 1003 : 
; 1004 : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  00201	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00206	c1 e0 00	 shl	 eax, 0
  00209	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0020c	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00213	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 1005 : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  00219	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0021e	c1 e0 00	 shl	 eax, 0
  00221	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00224	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  0022b	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 1006 : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  00231	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00234	c1 e0 04	 shl	 eax, 4
  00237	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0023c	c1 e1 00	 shl	 ecx, 0
  0023f	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00245	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 1007 : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  0024b	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0024e	c1 e0 04	 shl	 eax, 4
  00251	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00256	c1 e1 00	 shl	 ecx, 0
  00259	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0025f	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 1008 : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  00265	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00268	c1 e0 04	 shl	 eax, 4
  0026b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00270	c1 e1 00	 shl	 ecx, 0
  00273	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00279	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 1009 : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  0027f	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00282	c1 e0 04	 shl	 eax, 4
  00285	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0028a	c1 e1 00	 shl	 ecx, 0
  0028d	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00293	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 1010 : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  00299	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0029e	c1 e0 00	 shl	 eax, 0
  002a1	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002a4	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  002aa	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 1011 : 	polygon_3d_vertices[1].u = u;

  002b0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002b5	c1 e0 00	 shl	 eax, 0
  002b8	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _u$[ebp]
  002bd	f3 0f 11 80 18
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], xmm0

; 1012 : 	polygon_3d_vertices[1].v = v;

  002c5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002ca	c1 e0 00	 shl	 eax, 0
  002cd	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _v$[ebp]
  002d2	f3 0f 11 80 1c
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], xmm0

; 1013 : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  002da	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002df	d1 e0		 shl	 eax, 1
  002e1	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  002e6	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002eb	c1 e1 00	 shl	 ecx, 0
  002ee	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 1014 : 	outcode |= transformed_3d_point_outcodes[point_index];

  002f4	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002f7	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  002fe	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  00302	0b d1		 or	 edx, ecx
  00304	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 1015 : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  00307	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0030a	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00311	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  00315	23 d1		 and	 edx, ecx
  00317	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 1016 : 
; 1017 : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  0031a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0031f	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  00322	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00326	89 4d e8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 1018 : 	object_point_index = current_object_3d_surface_point_list[surface_point_index].point;

  00329	8b 45 e8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0032c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00332	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00336	89 55 e0	 mov	 DWORD PTR _object_point_index$[ebp], edx

; 1019 : 	point_index = object_point_index + base_point;

  00339	8b 45 e0	 mov	 eax, DWORD PTR _object_point_index$[ebp]
  0033c	03 45 0c	 add	 eax, DWORD PTR _base_point$[ebp]
  0033f	89 45 e4	 mov	 DWORD PTR _point_index$[ebp], eax

; 1020 : 
; 1021 : 	generate_environment_coordinates ( object_index, &objects_3d_data[object_index].points[object_point_index],

  00342	8d 45 d8	 lea	 eax, DWORD PTR _v$[ebp]
  00345	50		 push	 eax
  00346	8d 4d dc	 lea	 ecx, DWORD PTR _u$[ebp]
  00349	51		 push	 ecx
  0034a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_object_base@@3PAUOBJECT_3D_INFO@@A ; current_object_3d_object_base
  00350	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00353	83 c0 0c	 add	 eax, 12			; 0000000cH
  00356	50		 push	 eax
  00357	8d 4d f0	 lea	 ecx, DWORD PTR _camera_position$[ebp]
  0035a	51		 push	 ecx
  0035b	8b 55 14	 mov	 edx, DWORD PTR _normal$[ebp]
  0035e	52		 push	 edx
  0035f	6b 45 ec 68	 imul	 eax, DWORD PTR _object_index$[ebp], 104
  00363	6b 4d e0 06	 imul	 ecx, DWORD PTR _object_point_index$[ebp], 6
  00367	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?objects_3d_data@@3PAUOBJECT_3D@@A ; objects_3d_data
  0036d	03 4c 02 40	 add	 ecx, DWORD PTR [edx+eax+64]
  00371	51		 push	 ecx
  00372	8b 45 ec	 mov	 eax, DWORD PTR _object_index$[ebp]
  00375	50		 push	 eax
  00376	e8 00 00 00 00	 call	 ?generate_environment_coordinates@@YGXHPAUOBJECT_SHORT_3D_POINT@@PAUVEC3D@@1QAY02MPAM3@Z ; generate_environment_coordinates

; 1022 : 													normal, &camera_position, current_object_3d_object_base->object_vp->attitude, &u, &v );
; 1023 : 
; 1024 : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  0037b	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00380	d1 e0		 shl	 eax, 1
  00382	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00385	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  0038c	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 1025 : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  00392	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00397	d1 e0		 shl	 eax, 1
  00399	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0039c	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  003a3	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 1026 : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  003a9	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  003ac	c1 e0 04	 shl	 eax, 4
  003af	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003b4	d1 e1		 shl	 ecx, 1
  003b6	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  003bc	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 1027 : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  003c2	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  003c5	c1 e0 04	 shl	 eax, 4
  003c8	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003cd	d1 e1		 shl	 ecx, 1
  003cf	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  003d5	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 1028 : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  003db	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  003de	c1 e0 04	 shl	 eax, 4
  003e1	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003e6	d1 e1		 shl	 ecx, 1
  003e8	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  003ee	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 1029 : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  003f4	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  003f7	c1 e0 04	 shl	 eax, 4
  003fa	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003ff	d1 e1		 shl	 ecx, 1
  00401	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00407	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 1030 : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  0040d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00412	d1 e0		 shl	 eax, 1
  00414	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00417	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  0041d	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 1031 : 	polygon_3d_vertices[2].u = u;

  00423	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00428	d1 e0		 shl	 eax, 1
  0042a	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _u$[ebp]
  0042f	f3 0f 11 80 18
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], xmm0

; 1032 : 	polygon_3d_vertices[2].v = v;

  00437	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0043c	d1 e0		 shl	 eax, 1
  0043e	f3 0f 10 45 d8	 movss	 xmm0, DWORD PTR _v$[ebp]
  00443	f3 0f 11 80 1c
	00 00 00	 movss	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], xmm0

; 1033 : 	polygon_3d_vertices[2].specular = 0;

  0044b	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00450	d1 e0		 shl	 eax, 1
  00452	c6 80 2d 00 00
	00 00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], 0

; 1034 : 	polygon_3d_vertices[2].next_vertex = NULL;

  00459	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0045e	d1 e0		 shl	 eax, 1
  00460	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 1035 : 	outcode |= transformed_3d_point_outcodes[point_index];

  0046a	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0046d	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00474	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  00478	0b d1		 or	 edx, ecx
  0047a	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 1036 : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  0047d	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00480	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00487	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  0048b	23 d1		 and	 edx, ecx
  0048d	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 1037 : 
; 1038 : 	*polygon_outcode = outcode;

  00490	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  00494	8b 4d 10	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  00497	89 01		 mov	 DWORD PTR [ecx], eax

; 1039 : 
; 1040 : 	if ( outcode2 )

  00499	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  0049d	85 c0		 test	 eax, eax
  0049f	74 06		 je	 SHORT $LN2@construct_

; 1041 : 	{
; 1042 : 
; 1043 : 		return ( NULL );

  004a1	33 c0		 xor	 eax, eax
  004a3	eb 07		 jmp	 SHORT $LN3@construct_

; 1044 : 	}
; 1045 : 	else

  004a5	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 1046 : 	{
; 1047 : 
; 1048 : 		return ( polygon_3d_vertices );

  004a7	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 1049 : 	}
; 1050 : }

  004ac	5f		 pop	 edi
  004ad	5e		 pop	 esi
  004ae	5b		 pop	 ebx
  004af	8b e5		 mov	 esp, ebp
  004b1	5d		 pop	 ebp
  004b2	c2 10 00	 ret	 16			; 00000010H
?construct_3d_surface_reflective_triangle_fan@@YGPAUVERTEX@@HHPAHPAUVEC3D@@@Z ENDP ; construct_3d_surface_reflective_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_unclipped_textured_line@@YGPAUVERTEX@@H@Z
_TEXT	SEGMENT
_point_index$ = -8					; size = 4
_surface_point_index$ = -4				; size = 4
_base_point$ = 8					; size = 4
?construct_3d_surface_unclipped_textured_line@@YGPAUVERTEX@@H@Z PROC ; construct_3d_surface_unclipped_textured_line, COMDAT

; 916  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 917  : 
; 918  : 	int
; 919  : 		surface_point_index,
; 920  : 		point_index;
; 921  : 
; 922  : 	surface_point_index = current_object_3d_point_list[0].point;

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00017	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0001b	89 45 fc	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 923  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0001e	8b 45 fc	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00021	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00027	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0002b	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  0002e	89 55 f8	 mov	 DWORD PTR _point_index$[ebp], edx

; 924  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00031	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00036	6b c8 00	 imul	 ecx, eax, 0
  00039	8b 55 f8	 mov	 edx, DWORD PTR _point_index$[ebp]
  0003c	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00043	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 925  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00049	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0004e	6b c8 00	 imul	 ecx, eax, 0
  00051	8b 55 f8	 mov	 edx, DWORD PTR _point_index$[ebp]
  00054	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0005b	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 926  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00061	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00064	c1 e0 04	 shl	 eax, 4
  00067	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0006c	6b d1 00	 imul	 edx, ecx, 0
  0006f	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00075	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 927  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  0007b	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0007e	c1 e0 04	 shl	 eax, 4
  00081	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00086	6b d1 00	 imul	 edx, ecx, 0
  00089	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0008f	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 928  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  00095	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00098	c1 e0 04	 shl	 eax, 4
  0009b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000a0	6b d1 00	 imul	 edx, ecx, 0
  000a3	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000a9	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 929  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000af	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000b2	c1 e0 04	 shl	 eax, 4
  000b5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ba	6b d1 00	 imul	 edx, ecx, 0
  000bd	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000c3	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 930  : 	polygon_3d_vertices[0].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  000c9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ce	6b c8 00	 imul	 ecx, eax, 0
  000d1	8b 55 fc	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  000d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  000d9	8b 14 d0	 mov	 edx, DWORD PTR [eax+edx*8]
  000dc	89 91 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], edx

; 931  : 	polygon_3d_vertices[0].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  000e2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000e7	6b c8 00	 imul	 ecx, eax, 0
  000ea	8b 55 fc	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  000f2	8b 54 d0 04	 mov	 edx, DWORD PTR [eax+edx*8+4]
  000f6	89 91 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], edx

; 932  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  000fc	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00101	c1 e0 00	 shl	 eax, 0
  00104	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00109	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0010e	6b d1 00	 imul	 edx, ecx, 0
  00111	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 933  : 
; 934  : 	surface_point_index = current_object_3d_point_list[1].point;

  00117	b8 01 00 00 00	 mov	 eax, 1
  0011c	c1 e0 00	 shl	 eax, 0
  0011f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00125	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  00129	89 55 fc	 mov	 DWORD PTR _surface_point_index$[ebp], edx

; 935  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0012c	8b 45 fc	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0012f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00135	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00139	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  0013c	89 55 f8	 mov	 DWORD PTR _point_index$[ebp], edx

; 936  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  0013f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00144	c1 e0 00	 shl	 eax, 0
  00147	8b 4d f8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0014a	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00151	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 937  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  00157	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0015c	c1 e0 00	 shl	 eax, 0
  0015f	8b 4d f8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00162	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00169	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 938  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  0016f	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00172	c1 e0 04	 shl	 eax, 4
  00175	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0017a	c1 e1 00	 shl	 ecx, 0
  0017d	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00183	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 939  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  00189	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0018c	c1 e0 04	 shl	 eax, 4
  0018f	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00194	c1 e1 00	 shl	 ecx, 0
  00197	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0019d	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 940  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  001a3	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  001a6	c1 e0 04	 shl	 eax, 4
  001a9	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001ae	c1 e1 00	 shl	 ecx, 0
  001b1	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  001b7	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 941  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  001bd	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  001c0	c1 e0 04	 shl	 eax, 4
  001c3	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001c8	c1 e1 00	 shl	 ecx, 0
  001cb	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  001d1	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 942  : 	polygon_3d_vertices[1].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  001d7	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001dc	c1 e0 00	 shl	 eax, 0
  001df	8b 4d fc	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  001e2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  001e8	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  001eb	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 943  : 	polygon_3d_vertices[1].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  001f1	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001f6	c1 e0 00	 shl	 eax, 0
  001f9	8b 4d fc	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  001fc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00202	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  00206	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 944  : 	polygon_3d_vertices[1].next_vertex = NULL;

  0020c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00211	c1 e0 00	 shl	 eax, 0
  00214	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 945  : 
; 946  : 	return ( polygon_3d_vertices );

  0021e	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices

; 947  : }

  00223	5f		 pop	 edi
  00224	5e		 pop	 esi
  00225	5b		 pop	 ebx
  00226	8b e5		 mov	 esp, ebp
  00228	5d		 pop	 ebp
  00229	c2 04 00	 ret	 4
?construct_3d_surface_unclipped_textured_line@@YGPAUVERTEX@@H@Z ENDP ; construct_3d_surface_unclipped_textured_line
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_textured_line@@YGPAUVERTEX@@HPAH@Z
_TEXT	SEGMENT
_point_index$ = -12					; size = 4
_surface_point_index$ = -8				; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_base_point$ = 8					; size = 4
_polygon_outcode$ = 12					; size = 4
?construct_3d_surface_textured_line@@YGPAUVERTEX@@HPAH@Z PROC ; construct_3d_surface_textured_line, COMDAT

; 856  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 857  : 
; 858  : 	unsigned char
; 859  : 		outcode,
; 860  : 		outcode2;
; 861  : 
; 862  : 	int
; 863  : 		surface_point_index,
; 864  : 		point_index;
; 865  : 
; 866  : 	surface_point_index = current_object_3d_point_list[0].point;

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00017	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0001b	89 45 f8	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 867  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0001e	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00021	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00027	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0002b	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  0002e	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 868  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00031	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00036	6b c8 00	 imul	 ecx, eax, 0
  00039	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  0003c	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00043	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 869  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00049	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0004e	6b c8 00	 imul	 ecx, eax, 0
  00051	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  00054	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0005b	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 870  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00061	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00064	c1 e0 04	 shl	 eax, 4
  00067	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0006c	6b d1 00	 imul	 edx, ecx, 0
  0006f	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00075	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 871  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  0007b	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0007e	c1 e0 04	 shl	 eax, 4
  00081	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00086	6b d1 00	 imul	 edx, ecx, 0
  00089	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0008f	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 872  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  00095	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00098	c1 e0 04	 shl	 eax, 4
  0009b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000a0	6b d1 00	 imul	 edx, ecx, 0
  000a3	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000a9	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 873  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000af	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000b2	c1 e0 04	 shl	 eax, 4
  000b5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ba	6b d1 00	 imul	 edx, ecx, 0
  000bd	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000c3	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 874  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  000c9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ce	6b c8 00	 imul	 ecx, eax, 0
  000d1	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  000d4	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  000da	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 875  : 	polygon_3d_vertices[0].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  000e0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000e5	6b c8 00	 imul	 ecx, eax, 0
  000e8	8b 55 f8	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  000eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  000f0	8b 14 d0	 mov	 edx, DWORD PTR [eax+edx*8]
  000f3	89 91 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], edx

; 876  : 	polygon_3d_vertices[0].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  000f9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000fe	6b c8 00	 imul	 ecx, eax, 0
  00101	8b 55 f8	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  00104	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00109	8b 54 d0 04	 mov	 edx, DWORD PTR [eax+edx*8+4]
  0010d	89 91 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], edx

; 877  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  00113	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00118	c1 e0 00	 shl	 eax, 0
  0011b	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00120	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00125	6b d1 00	 imul	 edx, ecx, 0
  00128	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 878  : 	outcode = transformed_3d_point_outcodes[point_index];

  0012e	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00131	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00137	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 879  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  0013a	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0013d	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00143	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 880  : 
; 881  : 	surface_point_index = current_object_3d_point_list[1].point;

  00146	b8 01 00 00 00	 mov	 eax, 1
  0014b	c1 e0 00	 shl	 eax, 0
  0014e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00154	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  00158	89 55 f8	 mov	 DWORD PTR _surface_point_index$[ebp], edx

; 882  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0015b	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0015e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00164	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00168	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  0016b	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 883  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  0016e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00173	c1 e0 00	 shl	 eax, 0
  00176	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00179	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00180	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 884  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  00186	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0018b	c1 e0 00	 shl	 eax, 0
  0018e	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00191	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00198	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 885  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  0019e	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001a1	c1 e0 04	 shl	 eax, 4
  001a4	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001a9	c1 e1 00	 shl	 ecx, 0
  001ac	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  001b2	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 886  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  001b8	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001bb	c1 e0 04	 shl	 eax, 4
  001be	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001c3	c1 e1 00	 shl	 ecx, 0
  001c6	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  001cc	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 887  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  001d2	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001d5	c1 e0 04	 shl	 eax, 4
  001d8	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001dd	c1 e1 00	 shl	 ecx, 0
  001e0	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  001e6	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 888  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  001ec	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001ef	c1 e0 04	 shl	 eax, 4
  001f2	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001f7	c1 e1 00	 shl	 ecx, 0
  001fa	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00200	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 889  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  00206	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0020b	c1 e0 00	 shl	 eax, 0
  0020e	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00211	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  00217	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 890  : 	polygon_3d_vertices[1].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  0021d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00222	c1 e0 00	 shl	 eax, 0
  00225	8b 4d f8	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  00228	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0022e	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  00231	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 891  : 	polygon_3d_vertices[1].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  00237	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0023c	c1 e0 00	 shl	 eax, 0
  0023f	8b 4d f8	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  00242	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00248	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  0024c	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 892  : 	polygon_3d_vertices[1].next_vertex = NULL;

  00252	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00257	c1 e0 00	 shl	 eax, 0
  0025a	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 893  : 
; 894  : 	outcode |= transformed_3d_point_outcodes[point_index];

  00264	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00267	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0026e	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  00272	0b d1		 or	 edx, ecx
  00274	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 895  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  00277	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0027a	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00281	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  00285	23 d1		 and	 edx, ecx
  00287	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 896  : 
; 897  : 	*polygon_outcode = outcode;

  0028a	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  0028e	8b 4d 0c	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  00291	89 01		 mov	 DWORD PTR [ecx], eax

; 898  : 	
; 899  : 	if ( outcode2 )

  00293	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  00297	85 c0		 test	 eax, eax
  00299	74 06		 je	 SHORT $LN2@construct_

; 900  : 	{
; 901  : 
; 902  : 		return ( NULL );

  0029b	33 c0		 xor	 eax, eax
  0029d	eb 07		 jmp	 SHORT $LN3@construct_

; 903  : 	}
; 904  : 	else

  0029f	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 905  : 	{
; 906  : 
; 907  : 		return ( polygon_3d_vertices );

  002a1	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 908  : 	}
; 909  : }

  002a6	5f		 pop	 edi
  002a7	5e		 pop	 esi
  002a8	5b		 pop	 ebx
  002a9	8b e5		 mov	 esp, ebp
  002ab	5d		 pop	 ebp
  002ac	c2 08 00	 ret	 8
?construct_3d_surface_textured_line@@YGPAUVERTEX@@HPAH@Z ENDP ; construct_3d_surface_textured_line
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_unclipped_line@@YGPAUVERTEX@@H@Z
_TEXT	SEGMENT
_point_index$ = -8					; size = 4
_surface_point_index$ = -4				; size = 4
_base_point$ = 8					; size = 4
?construct_3d_surface_unclipped_line@@YGPAUVERTEX@@H@Z PROC ; construct_3d_surface_unclipped_line, COMDAT

; 821  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 822  : 
; 823  : 	int
; 824  : 		surface_point_index,
; 825  : 		point_index;
; 826  : 
; 827  : 	surface_point_index = current_object_3d_point_list[0].point;

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00017	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0001b	89 45 fc	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 828  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0001e	8b 45 fc	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00021	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00027	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0002b	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  0002e	89 55 f8	 mov	 DWORD PTR _point_index$[ebp], edx

; 829  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00031	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00036	6b c8 00	 imul	 ecx, eax, 0
  00039	8b 55 f8	 mov	 edx, DWORD PTR _point_index$[ebp]
  0003c	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00043	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 830  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00049	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0004e	6b c8 00	 imul	 ecx, eax, 0
  00051	8b 55 f8	 mov	 edx, DWORD PTR _point_index$[ebp]
  00054	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0005b	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 831  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00061	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00064	c1 e0 04	 shl	 eax, 4
  00067	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0006c	6b d1 00	 imul	 edx, ecx, 0
  0006f	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00075	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 832  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  0007b	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0007e	c1 e0 04	 shl	 eax, 4
  00081	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00086	6b d1 00	 imul	 edx, ecx, 0
  00089	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0008f	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 833  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  00095	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00098	c1 e0 04	 shl	 eax, 4
  0009b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000a0	6b d1 00	 imul	 edx, ecx, 0
  000a3	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000a9	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 834  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000af	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000b2	c1 e0 04	 shl	 eax, 4
  000b5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ba	6b d1 00	 imul	 edx, ecx, 0
  000bd	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000c3	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 835  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  000c9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ce	c1 e0 00	 shl	 eax, 0
  000d1	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  000d6	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000db	6b d1 00	 imul	 edx, ecx, 0
  000de	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 836  : 
; 837  : 	surface_point_index = current_object_3d_point_list[1].point;

  000e4	b8 01 00 00 00	 mov	 eax, 1
  000e9	c1 e0 00	 shl	 eax, 0
  000ec	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  000f2	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  000f6	89 55 fc	 mov	 DWORD PTR _surface_point_index$[ebp], edx

; 838  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  000f9	8b 45 fc	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  000fc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00102	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00106	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  00109	89 55 f8	 mov	 DWORD PTR _point_index$[ebp], edx

; 839  : 
; 840  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  0010c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00111	c1 e0 00	 shl	 eax, 0
  00114	8b 4d f8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00117	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  0011e	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 841  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  00124	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00129	c1 e0 00	 shl	 eax, 0
  0012c	8b 4d f8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0012f	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00136	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 842  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  0013c	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0013f	c1 e0 04	 shl	 eax, 4
  00142	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00147	c1 e1 00	 shl	 ecx, 0
  0014a	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00150	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 843  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  00156	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00159	c1 e0 04	 shl	 eax, 4
  0015c	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00161	c1 e1 00	 shl	 ecx, 0
  00164	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0016a	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 844  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  00170	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00173	c1 e0 04	 shl	 eax, 4
  00176	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0017b	c1 e1 00	 shl	 ecx, 0
  0017e	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00184	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 845  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  0018a	8b 45 f8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0018d	c1 e0 04	 shl	 eax, 4
  00190	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00195	c1 e1 00	 shl	 ecx, 0
  00198	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  0019e	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 846  : 	polygon_3d_vertices[1].next_vertex = NULL;

  001a4	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001a9	c1 e0 00	 shl	 eax, 0
  001ac	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 847  : 
; 848  : 	return ( polygon_3d_vertices );

  001b6	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices

; 849  : }

  001bb	5f		 pop	 edi
  001bc	5e		 pop	 esi
  001bd	5b		 pop	 ebx
  001be	8b e5		 mov	 esp, ebp
  001c0	5d		 pop	 ebp
  001c1	c2 04 00	 ret	 4
?construct_3d_surface_unclipped_line@@YGPAUVERTEX@@H@Z ENDP ; construct_3d_surface_unclipped_line
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_line@@YGPAUVERTEX@@HPAH@Z
_TEXT	SEGMENT
_point_index$ = -12					; size = 4
_surface_point_index$ = -8				; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_base_point$ = 8					; size = 4
_polygon_outcode$ = 12					; size = 4
?construct_3d_surface_line@@YGPAUVERTEX@@HPAH@Z PROC	; construct_3d_surface_line, COMDAT

; 765  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 766  : 
; 767  : 	unsigned char
; 768  : 		outcode,
; 769  : 		outcode2;
; 770  : 
; 771  : 	int
; 772  : 		surface_point_index,
; 773  : 		point_index;
; 774  : 
; 775  : 	surface_point_index = current_object_3d_point_list[0].point;

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00017	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0001b	89 45 f8	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 776  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0001e	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00021	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00027	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0002b	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  0002e	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 777  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00031	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00036	6b c8 00	 imul	 ecx, eax, 0
  00039	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  0003c	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00043	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 778  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00049	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0004e	6b c8 00	 imul	 ecx, eax, 0
  00051	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  00054	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0005b	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 779  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00061	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00064	c1 e0 04	 shl	 eax, 4
  00067	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0006c	6b d1 00	 imul	 edx, ecx, 0
  0006f	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00075	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 780  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  0007b	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0007e	c1 e0 04	 shl	 eax, 4
  00081	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00086	6b d1 00	 imul	 edx, ecx, 0
  00089	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0008f	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 781  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  00095	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00098	c1 e0 04	 shl	 eax, 4
  0009b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000a0	6b d1 00	 imul	 edx, ecx, 0
  000a3	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000a9	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 782  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000af	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000b2	c1 e0 04	 shl	 eax, 4
  000b5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ba	6b d1 00	 imul	 edx, ecx, 0
  000bd	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000c3	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 783  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  000c9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ce	6b c8 00	 imul	 ecx, eax, 0
  000d1	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  000d4	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  000da	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 784  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  000e0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000e5	c1 e0 00	 shl	 eax, 0
  000e8	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  000ed	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000f2	6b d1 00	 imul	 edx, ecx, 0
  000f5	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 785  : 	outcode = transformed_3d_point_outcodes[point_index];

  000fb	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000fe	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00104	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 786  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  00107	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0010a	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00110	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 787  : 
; 788  : 	surface_point_index = current_object_3d_point_list[1].point;

  00113	b8 01 00 00 00	 mov	 eax, 1
  00118	c1 e0 00	 shl	 eax, 0
  0011b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00121	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  00125	89 55 f8	 mov	 DWORD PTR _surface_point_index$[ebp], edx

; 789  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00128	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0012b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00131	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00135	03 55 08	 add	 edx, DWORD PTR _base_point$[ebp]
  00138	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 790  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  0013b	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00140	c1 e0 00	 shl	 eax, 0
  00143	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00146	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  0014d	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 791  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  00153	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00158	c1 e0 00	 shl	 eax, 0
  0015b	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0015e	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00165	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 792  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  0016b	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0016e	c1 e0 04	 shl	 eax, 4
  00171	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00176	c1 e1 00	 shl	 ecx, 0
  00179	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  0017f	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 793  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  00185	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00188	c1 e0 04	 shl	 eax, 4
  0018b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00190	c1 e1 00	 shl	 ecx, 0
  00193	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00199	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 794  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  0019f	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001a2	c1 e0 04	 shl	 eax, 4
  001a5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001aa	c1 e1 00	 shl	 ecx, 0
  001ad	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  001b3	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 795  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  001b9	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001bc	c1 e0 04	 shl	 eax, 4
  001bf	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001c4	c1 e1 00	 shl	 ecx, 0
  001c7	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  001cd	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 796  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  001d3	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001d8	c1 e0 00	 shl	 eax, 0
  001db	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001de	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  001e4	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 797  : 	polygon_3d_vertices[1].next_vertex = NULL;

  001ea	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001ef	c1 e0 00	 shl	 eax, 0
  001f2	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 798  : 
; 799  : 	outcode |= transformed_3d_point_outcodes[point_index];

  001fc	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001ff	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00206	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  0020a	0b d1		 or	 edx, ecx
  0020c	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 800  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  0020f	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00212	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00219	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  0021d	23 d1		 and	 edx, ecx
  0021f	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 801  : 
; 802  : 	*polygon_outcode = outcode;

  00222	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  00226	8b 4d 0c	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  00229	89 01		 mov	 DWORD PTR [ecx], eax

; 803  : 	
; 804  : 	if ( outcode2 )

  0022b	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  0022f	85 c0		 test	 eax, eax
  00231	74 06		 je	 SHORT $LN2@construct_

; 805  : 	{
; 806  : 
; 807  : 		return ( NULL );

  00233	33 c0		 xor	 eax, eax
  00235	eb 07		 jmp	 SHORT $LN3@construct_

; 808  : 	}
; 809  : 	else

  00237	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 810  : 	{
; 811  : 
; 812  : 		return ( polygon_3d_vertices );

  00239	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 813  : 	}
; 814  : }

  0023e	5f		 pop	 edi
  0023f	5e		 pop	 esi
  00240	5b		 pop	 ebx
  00241	8b e5		 mov	 esp, ebp
  00243	5d		 pop	 ebp
  00244	c2 08 00	 ret	 8
?construct_3d_surface_line@@YGPAUVERTEX@@HPAH@Z ENDP	; construct_3d_surface_line
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_gouraud_dual_textured_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z
_TEXT	SEGMENT
_point_index$ = -28					; size = 4
_surface_texture_index$ = -24				; size = 4
_surface_point_index$ = -20				; size = 4
_ispecular$ = -16					; size = 4
_this_normal$ = -12					; size = 4
_normals_base$ = -8					; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_specular$ = 12						; size = 4
_base_point$ = 16					; size = 4
_polygon_outcode$ = 20					; size = 4
?construct_3d_surface_gouraud_dual_textured_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z PROC ; construct_3d_surface_gouraud_dual_textured_triangle_fan, COMDAT

; 659  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 660  : 
; 661  : 	unsigned char
; 662  : 		outcode,
; 663  : 		outcode2;
; 664  : 
; 665  : 	object_3d_transformed_point_normal
; 666  : 		*normals_base,
; 667  : 		*this_normal;
; 668  : 
; 669  : 	int
; 670  : 		ispecular,
; 671  : 		surface_point_index,
; 672  : 		surface_texture_index,
; 673  : 		point_index;
; 674  : 
; 675  : 	normals_base = &transformed_3d_normals[base_point];

  00009	8b 45 10	 mov	 eax, DWORD PTR _base_point$[ebp]
  0000c	8d 0c c5 00 00
	00 00		 lea	 ecx, DWORD PTR ?transformed_3d_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A[eax*8]
  00013	89 4d f8	 mov	 DWORD PTR _normals_base$[ebp], ecx

; 676  : 
; 677  : 	surface_point_index = current_object_3d_point_list[0].point;

  00016	b8 01 00 00 00	 mov	 eax, 1
  0001b	6b c8 00	 imul	 ecx, eax, 0
  0001e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00024	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00028	89 45 ec	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 678  : 	surface_texture_index = surface_point_index * 2;

  0002b	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0002e	d1 e0		 shl	 eax, 1
  00030	89 45 e8	 mov	 DWORD PTR _surface_texture_index$[ebp], eax

; 679  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00033	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00036	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0003c	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00040	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  00043	89 55 e4	 mov	 DWORD PTR _point_index$[ebp], edx

; 680  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  00046	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00049	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  0004f	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00053	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  00056	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  00059	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 681  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  0005c	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  0005f	50		 push	 eax
  00060	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  00063	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  00068	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  0006d	51		 push	 ecx
  0006e	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00073	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 682  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00078	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0007d	6b c8 00	 imul	 ecx, eax, 0
  00080	8b 55 e4	 mov	 edx, DWORD PTR _point_index$[ebp]
  00083	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  0008a	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 683  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00090	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00095	6b c8 00	 imul	 ecx, eax, 0
  00098	8b 55 e4	 mov	 edx, DWORD PTR _point_index$[ebp]
  0009b	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  000a2	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 684  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  000a8	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000ab	c1 e0 04	 shl	 eax, 4
  000ae	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000b3	6b d1 00	 imul	 edx, ecx, 0
  000b6	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  000bc	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 685  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  000c2	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000c5	c1 e0 04	 shl	 eax, 4
  000c8	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000cd	6b d1 00	 imul	 edx, ecx, 0
  000d0	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  000d6	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 686  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  000dc	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000df	c1 e0 04	 shl	 eax, 4
  000e2	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000e7	6b d1 00	 imul	 edx, ecx, 0
  000ea	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000f0	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 687  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000f6	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000f9	c1 e0 04	 shl	 eax, 4
  000fc	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00101	6b d1 00	 imul	 edx, ecx, 0
  00104	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  0010a	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 688  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  00110	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00115	6b c8 00	 imul	 ecx, eax, 0
  00118	8b 55 e4	 mov	 edx, DWORD PTR _point_index$[ebp]
  0011b	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  00121	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 689  : 	polygon_3d_vertices[0].colour = this_normal->colour;

  00127	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0012c	6b c8 00	 imul	 ecx, eax, 0
  0012f	8b 55 f4	 mov	 edx, DWORD PTR _this_normal$[ebp]
  00132	8b 02		 mov	 eax, DWORD PTR [edx]
  00134	89 81 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+48], eax

; 690  : 	polygon_3d_vertices[0].specular = ispecular;

  0013a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0013f	6b c8 00	 imul	 ecx, eax, 0
  00142	8a 55 f0	 mov	 dl, BYTE PTR _ispecular$[ebp]
  00145	88 91 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+45], dl

; 691  : 	polygon_3d_vertices[0].u = current_object_3d_surface_point_texture_list[surface_texture_index].u;

  0014b	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00150	6b c8 00	 imul	 ecx, eax, 0
  00153	8b 55 e8	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  00156	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0015b	8b 14 d0	 mov	 edx, DWORD PTR [eax+edx*8]
  0015e	89 91 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], edx

; 692  : 	polygon_3d_vertices[0].v = current_object_3d_surface_point_texture_list[surface_texture_index].v;

  00164	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00169	6b c8 00	 imul	 ecx, eax, 0
  0016c	8b 55 e8	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  0016f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00174	8b 54 d0 04	 mov	 edx, DWORD PTR [eax+edx*8+4]
  00178	89 91 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], edx

; 693  : 	polygon_3d_vertices[0].u2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].u;

  0017e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00183	6b c8 00	 imul	 ecx, eax, 0
  00186	8b 55 e8	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  00189	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0018e	8b 54 d0 08	 mov	 edx, DWORD PTR [eax+edx*8+8]
  00192	89 91 20 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+32], edx

; 694  : 	polygon_3d_vertices[0].v2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].v;

  00198	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0019d	6b c8 00	 imul	 ecx, eax, 0
  001a0	8b 55 e8	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  001a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  001a8	8b 54 d0 0c	 mov	 edx, DWORD PTR [eax+edx*8+12]
  001ac	89 91 24 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+36], edx

; 695  : 	polygon_3d_vertices[0].alpha = current_object_3d_dissolve_value;

  001b2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001b7	6b c8 00	 imul	 ecx, eax, 0
  001ba	8a 15 00 00 00
	00		 mov	 dl, BYTE PTR ?current_object_3d_dissolve_value@@3EA ; current_object_3d_dissolve_value
  001c0	88 91 33 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+51], dl

; 696  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  001c6	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001cb	c1 e0 00	 shl	 eax, 0
  001ce	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  001d3	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001d8	6b d1 00	 imul	 edx, ecx, 0
  001db	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 697  : 	outcode = transformed_3d_point_outcodes[point_index];

  001e1	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001e4	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  001ea	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 698  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  001ed	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001f0	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  001f6	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 699  : 
; 700  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  001f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  001fe	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  00201	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00205	89 4d ec	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 701  : 	surface_texture_index = surface_point_index * 2;

  00208	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0020b	d1 e0		 shl	 eax, 1
  0020d	89 45 e8	 mov	 DWORD PTR _surface_texture_index$[ebp], eax

; 702  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00210	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00213	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00219	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0021d	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  00220	89 55 e4	 mov	 DWORD PTR _point_index$[ebp], edx

; 703  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  00223	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00226	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  0022c	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00230	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  00233	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  00236	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 704  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  00239	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  0023c	50		 push	 eax
  0023d	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  00240	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  00245	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  0024a	51		 push	 ecx
  0024b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00250	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 705  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  00255	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0025a	c1 e0 00	 shl	 eax, 0
  0025d	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00260	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00267	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 706  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  0026d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00272	c1 e0 00	 shl	 eax, 0
  00275	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00278	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  0027f	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 707  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  00285	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00288	c1 e0 04	 shl	 eax, 4
  0028b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00290	c1 e1 00	 shl	 ecx, 0
  00293	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00299	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 708  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  0029f	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002a2	c1 e0 04	 shl	 eax, 4
  002a5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002aa	c1 e1 00	 shl	 ecx, 0
  002ad	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  002b3	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 709  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  002b9	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002bc	c1 e0 04	 shl	 eax, 4
  002bf	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002c4	c1 e1 00	 shl	 ecx, 0
  002c7	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  002cd	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 710  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  002d3	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002d6	c1 e0 04	 shl	 eax, 4
  002d9	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002de	c1 e1 00	 shl	 ecx, 0
  002e1	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  002e7	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 711  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  002ed	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002f2	c1 e0 00	 shl	 eax, 0
  002f5	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002f8	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  002fe	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 712  : 	polygon_3d_vertices[1].colour = this_normal->colour;

  00304	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00309	c1 e0 00	 shl	 eax, 0
  0030c	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0030f	8b 11		 mov	 edx, DWORD PTR [ecx]
  00311	89 90 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], edx

; 713  : 	polygon_3d_vertices[1].specular = ispecular;

  00317	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0031c	c1 e0 00	 shl	 eax, 0
  0031f	8a 4d f0	 mov	 cl, BYTE PTR _ispecular$[ebp]
  00322	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 714  : 	polygon_3d_vertices[1].u = current_object_3d_surface_point_texture_list[surface_texture_index].u;

  00328	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0032d	c1 e0 00	 shl	 eax, 0
  00330	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00333	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00339	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  0033c	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 715  : 	polygon_3d_vertices[1].v = current_object_3d_surface_point_texture_list[surface_texture_index].v;

  00342	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00347	c1 e0 00	 shl	 eax, 0
  0034a	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  0034d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00353	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  00357	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 716  : 	polygon_3d_vertices[1].u2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].u;

  0035d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00362	c1 e0 00	 shl	 eax, 0
  00365	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00368	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0036e	8b 4c ca 08	 mov	 ecx, DWORD PTR [edx+ecx*8+8]
  00372	89 88 20 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+32], ecx

; 717  : 	polygon_3d_vertices[1].v2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].v;

  00378	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0037d	c1 e0 00	 shl	 eax, 0
  00380	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00383	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00389	8b 4c ca 0c	 mov	 ecx, DWORD PTR [edx+ecx*8+12]
  0038d	89 88 24 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+36], ecx

; 718  : 	polygon_3d_vertices[1].alpha = current_object_3d_dissolve_value;

  00393	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00398	c1 e0 00	 shl	 eax, 0
  0039b	8a 0d 00 00 00
	00		 mov	 cl, BYTE PTR ?current_object_3d_dissolve_value@@3EA ; current_object_3d_dissolve_value
  003a1	88 88 33 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+51], cl

; 719  : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  003a7	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003ac	d1 e0		 shl	 eax, 1
  003ae	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  003b3	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003b8	c1 e1 00	 shl	 ecx, 0
  003bb	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 720  : 	outcode |= transformed_3d_point_outcodes[point_index];

  003c1	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  003c4	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  003cb	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  003cf	0b d1		 or	 edx, ecx
  003d1	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 721  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  003d4	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  003d7	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  003de	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  003e2	23 d1		 and	 edx, ecx
  003e4	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 722  : 
; 723  : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  003e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  003ec	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  003ef	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  003f3	89 4d ec	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 724  : 	surface_texture_index = surface_point_index * 2;

  003f6	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  003f9	d1 e0		 shl	 eax, 1
  003fb	89 45 e8	 mov	 DWORD PTR _surface_texture_index$[ebp], eax

; 725  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  003fe	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00401	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00407	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0040b	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  0040e	89 55 e4	 mov	 DWORD PTR _point_index$[ebp], edx

; 726  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  00411	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00414	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  0041a	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0041e	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  00421	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  00424	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 727  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  00427	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  0042a	50		 push	 eax
  0042b	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0042e	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  00433	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  00438	51		 push	 ecx
  00439	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0043e	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 728  : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  00443	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00448	d1 e0		 shl	 eax, 1
  0044a	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0044d	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00454	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 729  : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  0045a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0045f	d1 e0		 shl	 eax, 1
  00461	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00464	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  0046b	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 730  : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  00471	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00474	c1 e0 04	 shl	 eax, 4
  00477	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0047c	d1 e1		 shl	 ecx, 1
  0047e	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00484	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 731  : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  0048a	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0048d	c1 e0 04	 shl	 eax, 4
  00490	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00495	d1 e1		 shl	 ecx, 1
  00497	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0049d	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 732  : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  004a3	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  004a6	c1 e0 04	 shl	 eax, 4
  004a9	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  004ae	d1 e1		 shl	 ecx, 1
  004b0	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  004b6	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 733  : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  004bc	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  004bf	c1 e0 04	 shl	 eax, 4
  004c2	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  004c7	d1 e1		 shl	 ecx, 1
  004c9	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  004cf	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 734  : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  004d5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004da	d1 e0		 shl	 eax, 1
  004dc	8b 4d e4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  004df	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  004e5	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 735  : 	polygon_3d_vertices[2].colour = this_normal->colour;

  004eb	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004f0	d1 e0		 shl	 eax, 1
  004f2	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  004f5	8b 11		 mov	 edx, DWORD PTR [ecx]
  004f7	89 90 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], edx

; 736  : 	polygon_3d_vertices[2].specular = ispecular;

  004fd	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00502	d1 e0		 shl	 eax, 1
  00504	8a 4d f0	 mov	 cl, BYTE PTR _ispecular$[ebp]
  00507	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 737  : 	polygon_3d_vertices[2].u = current_object_3d_surface_point_texture_list[surface_texture_index].u;

  0050d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00512	d1 e0		 shl	 eax, 1
  00514	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00517	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0051d	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  00520	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 738  : 	polygon_3d_vertices[2].v = current_object_3d_surface_point_texture_list[surface_texture_index].v;

  00526	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0052b	d1 e0		 shl	 eax, 1
  0052d	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00530	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00536	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  0053a	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 739  : 	polygon_3d_vertices[2].u2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].u;

  00540	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00545	d1 e0		 shl	 eax, 1
  00547	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  0054a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00550	8b 4c ca 08	 mov	 ecx, DWORD PTR [edx+ecx*8+8]
  00554	89 88 20 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+32], ecx

; 740  : 	polygon_3d_vertices[2].v2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].v;

  0055a	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0055f	d1 e0		 shl	 eax, 1
  00561	8b 4d e8	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00564	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0056a	8b 4c ca 0c	 mov	 ecx, DWORD PTR [edx+ecx*8+12]
  0056e	89 88 24 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+36], ecx

; 741  : 	polygon_3d_vertices[2].alpha = current_object_3d_dissolve_value;

  00574	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00579	d1 e0		 shl	 eax, 1
  0057b	8a 0d 00 00 00
	00		 mov	 cl, BYTE PTR ?current_object_3d_dissolve_value@@3EA ; current_object_3d_dissolve_value
  00581	88 88 33 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+51], cl

; 742  : 	polygon_3d_vertices[2].next_vertex = NULL;

  00587	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0058c	d1 e0		 shl	 eax, 1
  0058e	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 743  : 	outcode |= transformed_3d_point_outcodes[point_index];

  00598	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0059b	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  005a2	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  005a6	0b d1		 or	 edx, ecx
  005a8	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 744  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  005ab	8b 45 e4	 mov	 eax, DWORD PTR _point_index$[ebp]
  005ae	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  005b5	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  005b9	23 d1		 and	 edx, ecx
  005bb	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 745  : 
; 746  : 	*polygon_outcode = outcode;

  005be	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  005c2	8b 4d 14	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  005c5	89 01		 mov	 DWORD PTR [ecx], eax

; 747  : 	
; 748  : 	if ( outcode2 )

  005c7	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  005cb	85 c0		 test	 eax, eax
  005cd	74 06		 je	 SHORT $LN2@construct_

; 749  : 	{
; 750  : 
; 751  : 		return ( NULL );

  005cf	33 c0		 xor	 eax, eax
  005d1	eb 07		 jmp	 SHORT $LN3@construct_

; 752  : 	}
; 753  : 	else

  005d3	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 754  : 	{
; 755  : 
; 756  : 		return ( polygon_3d_vertices );

  005d5	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 757  : 	}
; 758  : }

  005da	5f		 pop	 edi
  005db	5e		 pop	 esi
  005dc	5b		 pop	 ebx
  005dd	8b e5		 mov	 esp, ebp
  005df	5d		 pop	 ebp
  005e0	c2 10 00	 ret	 16			; 00000010H
?construct_3d_surface_gouraud_dual_textured_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z ENDP ; construct_3d_surface_gouraud_dual_textured_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_dual_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z
_TEXT	SEGMENT
_point_index$ = -16					; size = 4
_surface_texture_index$ = -12				; size = 4
_surface_point_index$ = -8				; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_base_point$ = 12					; size = 4
_polygon_outcode$ = 16					; size = 4
?construct_3d_surface_dual_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z PROC ; construct_3d_surface_dual_textured_triangle_fan, COMDAT

; 575  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 576  : 
; 577  : 	unsigned char
; 578  : 		outcode,
; 579  : 		outcode2;
; 580  : 
; 581  : 	int
; 582  : 		surface_point_index,
; 583  : 		surface_texture_index,
; 584  : 		point_index;
; 585  : 
; 586  : 	surface_point_index = current_object_3d_point_list[0].point;

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00017	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0001b	89 45 f8	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 587  : 	surface_texture_index = surface_point_index * 2;

  0001e	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00021	d1 e0		 shl	 eax, 1
  00023	89 45 f4	 mov	 DWORD PTR _surface_texture_index$[ebp], eax

; 588  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00026	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00029	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0002f	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00033	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  00036	89 55 f0	 mov	 DWORD PTR _point_index$[ebp], edx

; 589  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00039	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0003e	6b c8 00	 imul	 ecx, eax, 0
  00041	8b 55 f0	 mov	 edx, DWORD PTR _point_index$[ebp]
  00044	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  0004b	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 590  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00051	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00056	6b c8 00	 imul	 ecx, eax, 0
  00059	8b 55 f0	 mov	 edx, DWORD PTR _point_index$[ebp]
  0005c	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  00063	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 591  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00069	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  0006c	c1 e0 04	 shl	 eax, 4
  0006f	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00074	6b d1 00	 imul	 edx, ecx, 0
  00077	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  0007d	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 592  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  00083	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00086	c1 e0 04	 shl	 eax, 4
  00089	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0008e	6b d1 00	 imul	 edx, ecx, 0
  00091	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00097	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 593  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  0009d	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  000a0	c1 e0 04	 shl	 eax, 4
  000a3	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000a8	6b d1 00	 imul	 edx, ecx, 0
  000ab	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000b1	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 594  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000b7	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  000ba	c1 e0 04	 shl	 eax, 4
  000bd	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000c2	6b d1 00	 imul	 edx, ecx, 0
  000c5	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000cb	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 595  : 	polygon_3d_vertices[0].u = current_object_3d_surface_point_texture_list[surface_texture_index].u;

  000d1	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000d6	6b c8 00	 imul	 ecx, eax, 0
  000d9	8b 55 f4	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  000dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  000e1	8b 14 d0	 mov	 edx, DWORD PTR [eax+edx*8]
  000e4	89 91 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], edx

; 596  : 	polygon_3d_vertices[0].v = current_object_3d_surface_point_texture_list[surface_texture_index].v;

  000ea	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ef	6b c8 00	 imul	 ecx, eax, 0
  000f2	8b 55 f4	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  000f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  000fa	8b 54 d0 04	 mov	 edx, DWORD PTR [eax+edx*8+4]
  000fe	89 91 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], edx

; 597  : 	polygon_3d_vertices[0].u2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].u;

  00104	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00109	6b c8 00	 imul	 ecx, eax, 0
  0010c	8b 55 f4	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  0010f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00114	8b 54 d0 08	 mov	 edx, DWORD PTR [eax+edx*8+8]
  00118	89 91 20 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+32], edx

; 598  : 	polygon_3d_vertices[0].v2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].v;

  0011e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00123	6b c8 00	 imul	 ecx, eax, 0
  00126	8b 55 f4	 mov	 edx, DWORD PTR _surface_texture_index$[ebp]
  00129	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0012e	8b 54 d0 0c	 mov	 edx, DWORD PTR [eax+edx*8+12]
  00132	89 91 24 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+36], edx

; 599  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  00138	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0013d	6b c8 00	 imul	 ecx, eax, 0
  00140	8b 55 f0	 mov	 edx, DWORD PTR _point_index$[ebp]
  00143	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  00149	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 600  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  0014f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00154	c1 e0 00	 shl	 eax, 0
  00157	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  0015c	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00161	6b d1 00	 imul	 edx, ecx, 0
  00164	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 601  : 	outcode = transformed_3d_point_outcodes[point_index];

  0016a	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  0016d	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00173	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 602  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  00176	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00179	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0017f	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 603  : 
; 604  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  00182	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00187	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0018a	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0018e	89 4d f8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 605  : 	surface_texture_index = surface_point_index * 2;

  00191	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00194	d1 e0		 shl	 eax, 1
  00196	89 45 f4	 mov	 DWORD PTR _surface_texture_index$[ebp], eax

; 606  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00199	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0019c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  001a2	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  001a6	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  001a9	89 55 f0	 mov	 DWORD PTR _point_index$[ebp], edx

; 607  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  001ac	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001b1	c1 e0 00	 shl	 eax, 0
  001b4	8b 4d f0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001b7	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  001be	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 608  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  001c4	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001c9	c1 e0 00	 shl	 eax, 0
  001cc	8b 4d f0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001cf	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  001d6	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 609  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  001dc	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  001df	c1 e0 04	 shl	 eax, 4
  001e2	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001e7	c1 e1 00	 shl	 ecx, 0
  001ea	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  001f0	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 610  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  001f6	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  001f9	c1 e0 04	 shl	 eax, 4
  001fc	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00201	c1 e1 00	 shl	 ecx, 0
  00204	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0020a	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 611  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  00210	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00213	c1 e0 04	 shl	 eax, 4
  00216	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0021b	c1 e1 00	 shl	 ecx, 0
  0021e	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00224	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 612  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  0022a	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  0022d	c1 e0 04	 shl	 eax, 4
  00230	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00235	c1 e1 00	 shl	 ecx, 0
  00238	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  0023e	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 613  : 	polygon_3d_vertices[1].u = current_object_3d_surface_point_texture_list[surface_texture_index].u;

  00244	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00249	c1 e0 00	 shl	 eax, 0
  0024c	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  0024f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00255	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  00258	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 614  : 	polygon_3d_vertices[1].v = current_object_3d_surface_point_texture_list[surface_texture_index].v;

  0025e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00263	c1 e0 00	 shl	 eax, 0
  00266	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00269	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0026f	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  00273	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 615  : 	polygon_3d_vertices[1].u2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].u;

  00279	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0027e	c1 e0 00	 shl	 eax, 0
  00281	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00284	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0028a	8b 4c ca 08	 mov	 ecx, DWORD PTR [edx+ecx*8+8]
  0028e	89 88 20 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+32], ecx

; 616  : 	polygon_3d_vertices[1].v2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].v;

  00294	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00299	c1 e0 00	 shl	 eax, 0
  0029c	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  0029f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  002a5	8b 4c ca 0c	 mov	 ecx, DWORD PTR [edx+ecx*8+12]
  002a9	89 88 24 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+36], ecx

; 617  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  002af	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002b4	c1 e0 00	 shl	 eax, 0
  002b7	8b 4d f0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002ba	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  002c0	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 618  : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  002c6	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002cb	d1 e0		 shl	 eax, 1
  002cd	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  002d2	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002d7	c1 e1 00	 shl	 ecx, 0
  002da	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 619  : 	outcode |= transformed_3d_point_outcodes[point_index];

  002e0	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  002e3	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  002ea	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  002ee	0b d1		 or	 edx, ecx
  002f0	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 620  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  002f3	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  002f6	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  002fd	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  00301	23 d1		 and	 edx, ecx
  00303	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 621  : 
; 622  : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  00306	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0030b	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0030e	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00312	89 4d f8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 623  : 	surface_texture_index = surface_point_index * 2;

  00315	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00318	d1 e0		 shl	 eax, 1
  0031a	89 45 f4	 mov	 DWORD PTR _surface_texture_index$[ebp], eax

; 624  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0031d	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00320	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00326	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0032a	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  0032d	89 55 f0	 mov	 DWORD PTR _point_index$[ebp], edx

; 625  : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  00330	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00335	d1 e0		 shl	 eax, 1
  00337	8b 4d f0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0033a	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00341	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 626  : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  00347	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0034c	d1 e0		 shl	 eax, 1
  0034e	8b 4d f0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00351	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00358	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 627  : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  0035e	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00361	c1 e0 04	 shl	 eax, 4
  00364	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00369	d1 e1		 shl	 ecx, 1
  0036b	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00371	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 628  : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  00377	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  0037a	c1 e0 04	 shl	 eax, 4
  0037d	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00382	d1 e1		 shl	 ecx, 1
  00384	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0038a	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 629  : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  00390	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00393	c1 e0 04	 shl	 eax, 4
  00396	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0039b	d1 e1		 shl	 ecx, 1
  0039d	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  003a3	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 630  : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  003a9	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  003ac	c1 e0 04	 shl	 eax, 4
  003af	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003b4	d1 e1		 shl	 ecx, 1
  003b6	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  003bc	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 631  : 	polygon_3d_vertices[2].u = current_object_3d_surface_point_texture_list[surface_texture_index].u;

  003c2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003c7	d1 e0		 shl	 eax, 1
  003c9	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  003cc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  003d2	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  003d5	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 632  : 	polygon_3d_vertices[2].v = current_object_3d_surface_point_texture_list[surface_texture_index].v;

  003db	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003e0	d1 e0		 shl	 eax, 1
  003e2	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  003e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  003eb	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  003ef	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 633  : 	polygon_3d_vertices[2].u2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].u;

  003f5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003fa	d1 e0		 shl	 eax, 1
  003fc	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  003ff	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00405	8b 4c ca 08	 mov	 ecx, DWORD PTR [edx+ecx*8+8]
  00409	89 88 20 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+32], ecx

; 634  : 	polygon_3d_vertices[2].v2 = current_object_3d_surface_point_texture_list[surface_texture_index+1].v;

  0040f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00414	d1 e0		 shl	 eax, 1
  00416	8b 4d f4	 mov	 ecx, DWORD PTR _surface_texture_index$[ebp]
  00419	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0041f	8b 4c ca 0c	 mov	 ecx, DWORD PTR [edx+ecx*8+12]
  00423	89 88 24 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+36], ecx

; 635  : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  00429	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0042e	d1 e0		 shl	 eax, 1
  00430	8b 4d f0	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00433	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  00439	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 636  : 	polygon_3d_vertices[2].next_vertex = NULL;

  0043f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00444	d1 e0		 shl	 eax, 1
  00446	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 637  : 	outcode |= transformed_3d_point_outcodes[point_index];

  00450	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00453	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0045a	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  0045e	0b d1		 or	 edx, ecx
  00460	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 638  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  00463	8b 45 f0	 mov	 eax, DWORD PTR _point_index$[ebp]
  00466	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0046d	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  00471	23 d1		 and	 edx, ecx
  00473	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 639  : 
; 640  : 	*polygon_outcode = outcode;

  00476	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  0047a	8b 4d 10	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  0047d	89 01		 mov	 DWORD PTR [ecx], eax

; 641  : 	
; 642  : 	if ( outcode2 )

  0047f	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  00483	85 c0		 test	 eax, eax
  00485	74 06		 je	 SHORT $LN2@construct_

; 643  : 	{
; 644  : 
; 645  : 		return ( NULL );

  00487	33 c0		 xor	 eax, eax
  00489	eb 07		 jmp	 SHORT $LN3@construct_

; 646  : 	}
; 647  : 	else

  0048b	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 648  : 	{
; 649  : 
; 650  : 		return ( polygon_3d_vertices );

  0048d	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 651  : 	}
; 652  : }

  00492	5f		 pop	 edi
  00493	5e		 pop	 esi
  00494	5b		 pop	 ebx
  00495	8b e5		 mov	 esp, ebp
  00497	5d		 pop	 ebp
  00498	c2 0c 00	 ret	 12			; 0000000cH
?construct_3d_surface_dual_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ENDP ; construct_3d_surface_dual_textured_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_gouraud_textured_triangle_fan@@YGPAUVERTEX@@HMHHPAH@Z
_TEXT	SEGMENT
_point_index$ = -24					; size = 4
_surface_point_index$ = -20				; size = 4
_ispecular$ = -16					; size = 4
_this_normal$ = -12					; size = 4
_normals_base$ = -8					; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_specular$ = 12						; size = 4
_alpha$ = 16						; size = 4
_base_point$ = 20					; size = 4
_polygon_outcode$ = 24					; size = 4
?construct_3d_surface_gouraud_textured_triangle_fan@@YGPAUVERTEX@@HMHHPAH@Z PROC ; construct_3d_surface_gouraud_textured_triangle_fan, COMDAT

; 479  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 480  : 
; 481  : 	unsigned char
; 482  : 		outcode,
; 483  : 		outcode2;
; 484  : 
; 485  : 	object_3d_transformed_point_normal
; 486  : 		*normals_base,
; 487  : 		*this_normal;
; 488  : 
; 489  : 	int
; 490  : 		ispecular,
; 491  : 		surface_point_index,
; 492  : 		point_index;
; 493  : 
; 494  : 	normals_base = &transformed_3d_normals[base_point];

  00009	8b 45 14	 mov	 eax, DWORD PTR _base_point$[ebp]
  0000c	8d 0c c5 00 00
	00 00		 lea	 ecx, DWORD PTR ?transformed_3d_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A[eax*8]
  00013	89 4d f8	 mov	 DWORD PTR _normals_base$[ebp], ecx

; 495  : 
; 496  : 	surface_point_index = current_object_3d_point_list[0].point;

  00016	b8 01 00 00 00	 mov	 eax, 1
  0001b	6b c8 00	 imul	 ecx, eax, 0
  0001e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00024	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00028	89 45 ec	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 497  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0002b	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0002e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00034	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00038	03 55 14	 add	 edx, DWORD PTR _base_point$[ebp]
  0003b	89 55 e8	 mov	 DWORD PTR _point_index$[ebp], edx

; 498  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  0003e	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00041	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00047	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0004b	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  0004e	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  00051	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 499  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  00054	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  00057	50		 push	 eax
  00058	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0005b	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  00060	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  00065	51		 push	 ecx
  00066	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0006b	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 500  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00070	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00075	6b c8 00	 imul	 ecx, eax, 0
  00078	8b 55 e8	 mov	 edx, DWORD PTR _point_index$[ebp]
  0007b	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00082	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 501  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00088	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0008d	6b c8 00	 imul	 ecx, eax, 0
  00090	8b 55 e8	 mov	 edx, DWORD PTR _point_index$[ebp]
  00093	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0009a	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 502  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  000a0	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000a3	c1 e0 04	 shl	 eax, 4
  000a6	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ab	6b d1 00	 imul	 edx, ecx, 0
  000ae	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  000b4	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 503  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  000ba	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000bd	c1 e0 04	 shl	 eax, 4
  000c0	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000c5	6b d1 00	 imul	 edx, ecx, 0
  000c8	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  000ce	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 504  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  000d4	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000d7	c1 e0 04	 shl	 eax, 4
  000da	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000df	6b d1 00	 imul	 edx, ecx, 0
  000e2	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000e8	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 505  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000ee	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000f1	c1 e0 04	 shl	 eax, 4
  000f4	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000f9	6b d1 00	 imul	 edx, ecx, 0
  000fc	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00102	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 506  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  00108	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0010d	6b c8 00	 imul	 ecx, eax, 0
  00110	8b 55 e8	 mov	 edx, DWORD PTR _point_index$[ebp]
  00113	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  00119	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 507  : 	polygon_3d_vertices[0].colour = this_normal->colour;

  0011f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00124	6b c8 00	 imul	 ecx, eax, 0
  00127	8b 55 f4	 mov	 edx, DWORD PTR _this_normal$[ebp]
  0012a	8b 02		 mov	 eax, DWORD PTR [edx]
  0012c	89 81 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+48], eax

; 508  : 	polygon_3d_vertices[0].specular = ispecular;

  00132	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00137	6b c8 00	 imul	 ecx, eax, 0
  0013a	8a 55 f0	 mov	 dl, BYTE PTR _ispecular$[ebp]
  0013d	88 91 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+45], dl

; 509  : 	polygon_3d_vertices[0].alpha = alpha;

  00143	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00148	6b c8 00	 imul	 ecx, eax, 0
  0014b	8a 55 10	 mov	 dl, BYTE PTR _alpha$[ebp]
  0014e	88 91 33 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+51], dl

; 510  : 	polygon_3d_vertices[0].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  00154	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00159	6b c8 00	 imul	 ecx, eax, 0
  0015c	8b 55 ec	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  0015f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00164	8b 14 d0	 mov	 edx, DWORD PTR [eax+edx*8]
  00167	89 91 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], edx

; 511  : 	polygon_3d_vertices[0].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  0016d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00172	6b c8 00	 imul	 ecx, eax, 0
  00175	8b 55 ec	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  00178	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0017d	8b 54 d0 04	 mov	 edx, DWORD PTR [eax+edx*8+4]
  00181	89 91 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], edx

; 512  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  00187	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0018c	c1 e0 00	 shl	 eax, 0
  0018f	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00194	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00199	6b d1 00	 imul	 edx, ecx, 0
  0019c	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 513  : 	outcode = transformed_3d_point_outcodes[point_index];

  001a2	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  001a5	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  001ab	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 514  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  001ae	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  001b1	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  001b7	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 515  : 
; 516  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  001ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  001bf	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  001c2	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  001c6	89 4d ec	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 517  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  001c9	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  001cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  001d2	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  001d6	03 55 14	 add	 edx, DWORD PTR _base_point$[ebp]
  001d9	89 55 e8	 mov	 DWORD PTR _point_index$[ebp], edx

; 518  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  001dc	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  001df	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  001e5	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  001e9	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  001ec	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  001ef	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 519  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  001f2	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  001f5	50		 push	 eax
  001f6	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  001f9	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  001fe	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  00203	51		 push	 ecx
  00204	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00209	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 520  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  0020e	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00213	c1 e0 00	 shl	 eax, 0
  00216	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00219	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00220	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 521  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  00226	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0022b	c1 e0 00	 shl	 eax, 0
  0022e	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00231	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00238	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 522  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  0023e	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00241	c1 e0 04	 shl	 eax, 4
  00244	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00249	c1 e1 00	 shl	 ecx, 0
  0024c	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00252	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 523  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  00258	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0025b	c1 e0 04	 shl	 eax, 4
  0025e	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00263	c1 e1 00	 shl	 ecx, 0
  00266	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0026c	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 524  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  00272	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00275	c1 e0 04	 shl	 eax, 4
  00278	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0027d	c1 e1 00	 shl	 ecx, 0
  00280	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00286	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 525  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  0028c	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0028f	c1 e0 04	 shl	 eax, 4
  00292	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00297	c1 e1 00	 shl	 ecx, 0
  0029a	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  002a0	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 526  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  002a6	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002ab	c1 e0 00	 shl	 eax, 0
  002ae	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002b1	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  002b7	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 527  : 	polygon_3d_vertices[1].colour = this_normal->colour;

  002bd	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002c2	c1 e0 00	 shl	 eax, 0
  002c5	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  002c8	8b 11		 mov	 edx, DWORD PTR [ecx]
  002ca	89 90 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], edx

; 528  : 	polygon_3d_vertices[1].specular = ispecular;

  002d0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002d5	c1 e0 00	 shl	 eax, 0
  002d8	8a 4d f0	 mov	 cl, BYTE PTR _ispecular$[ebp]
  002db	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 529  : 	polygon_3d_vertices[1].alpha = alpha;

  002e1	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002e6	c1 e0 00	 shl	 eax, 0
  002e9	8a 4d 10	 mov	 cl, BYTE PTR _alpha$[ebp]
  002ec	88 88 33 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+51], cl

; 530  : 	polygon_3d_vertices[1].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  002f2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002f7	c1 e0 00	 shl	 eax, 0
  002fa	8b 4d ec	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  002fd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00303	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  00306	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 531  : 	polygon_3d_vertices[1].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  0030c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00311	c1 e0 00	 shl	 eax, 0
  00314	8b 4d ec	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  00317	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0031d	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  00321	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 532  : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  00327	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0032c	d1 e0		 shl	 eax, 1
  0032e	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00333	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00338	c1 e1 00	 shl	 ecx, 0
  0033b	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 533  : 	outcode |= transformed_3d_point_outcodes[point_index];

  00341	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00344	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0034b	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  0034f	0b d1		 or	 edx, ecx
  00351	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 534  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  00354	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00357	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0035e	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  00362	23 d1		 and	 edx, ecx
  00364	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 535  : 
; 536  : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  00367	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0036c	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0036f	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00373	89 4d ec	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 537  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00376	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00379	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0037f	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00383	03 55 14	 add	 edx, DWORD PTR _base_point$[ebp]
  00386	89 55 e8	 mov	 DWORD PTR _point_index$[ebp], edx

; 538  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  00389	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0038c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00392	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00396	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  00399	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  0039c	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 539  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  0039f	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  003a2	50		 push	 eax
  003a3	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  003a6	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  003ab	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  003b0	51		 push	 ecx
  003b1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  003b6	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 540  : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  003bb	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003c0	d1 e0		 shl	 eax, 1
  003c2	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  003c5	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  003cc	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 541  : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  003d2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003d7	d1 e0		 shl	 eax, 1
  003d9	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  003dc	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  003e3	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 542  : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  003e9	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  003ec	c1 e0 04	 shl	 eax, 4
  003ef	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003f4	d1 e1		 shl	 ecx, 1
  003f6	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  003fc	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 543  : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  00402	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00405	c1 e0 04	 shl	 eax, 4
  00408	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0040d	d1 e1		 shl	 ecx, 1
  0040f	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00415	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 544  : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  0041b	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0041e	c1 e0 04	 shl	 eax, 4
  00421	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00426	d1 e1		 shl	 ecx, 1
  00428	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  0042e	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 545  : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  00434	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00437	c1 e0 04	 shl	 eax, 4
  0043a	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0043f	d1 e1		 shl	 ecx, 1
  00441	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00447	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 546  : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  0044d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00452	d1 e0		 shl	 eax, 1
  00454	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00457	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  0045d	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 547  : 	polygon_3d_vertices[2].colour = this_normal->colour;

  00463	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00468	d1 e0		 shl	 eax, 1
  0046a	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0046d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0046f	89 90 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], edx

; 548  : 	polygon_3d_vertices[2].specular = ispecular;

  00475	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0047a	d1 e0		 shl	 eax, 1
  0047c	8a 4d f0	 mov	 cl, BYTE PTR _ispecular$[ebp]
  0047f	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 549  : 	polygon_3d_vertices[2].alpha = alpha;

  00485	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0048a	d1 e0		 shl	 eax, 1
  0048c	8a 4d 10	 mov	 cl, BYTE PTR _alpha$[ebp]
  0048f	88 88 33 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+51], cl

; 550  : 	polygon_3d_vertices[2].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  00495	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0049a	d1 e0		 shl	 eax, 1
  0049c	8b 4d ec	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  0049f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  004a5	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  004a8	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 551  : 	polygon_3d_vertices[2].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  004ae	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004b3	d1 e0		 shl	 eax, 1
  004b5	8b 4d ec	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  004b8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  004be	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  004c2	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 552  : 	polygon_3d_vertices[2].next_vertex = NULL;

  004c8	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  004cd	d1 e0		 shl	 eax, 1
  004cf	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 553  : 	outcode |= transformed_3d_point_outcodes[point_index];

  004d9	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  004dc	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  004e3	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  004e7	0b d1		 or	 edx, ecx
  004e9	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 554  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  004ec	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  004ef	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  004f6	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  004fa	23 d1		 and	 edx, ecx
  004fc	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 555  : 
; 556  : 	*polygon_outcode = outcode;

  004ff	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  00503	8b 4d 18	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  00506	89 01		 mov	 DWORD PTR [ecx], eax

; 557  : 	
; 558  : 	if ( outcode2 )

  00508	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  0050c	85 c0		 test	 eax, eax
  0050e	74 06		 je	 SHORT $LN2@construct_

; 559  : 	{
; 560  : 
; 561  : 		return ( NULL );

  00510	33 c0		 xor	 eax, eax
  00512	eb 07		 jmp	 SHORT $LN3@construct_

; 562  : 	}
; 563  : 	else

  00514	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 564  : 	{
; 565  : 
; 566  : 		return ( polygon_3d_vertices );

  00516	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 567  : 	}
; 568  : }

  0051b	5f		 pop	 edi
  0051c	5e		 pop	 esi
  0051d	5b		 pop	 ebx
  0051e	8b e5		 mov	 esp, ebp
  00520	5d		 pop	 ebp
  00521	c2 14 00	 ret	 20			; 00000014H
?construct_3d_surface_gouraud_textured_triangle_fan@@YGPAUVERTEX@@HMHHPAH@Z ENDP ; construct_3d_surface_gouraud_textured_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z
_TEXT	SEGMENT
_point_index$ = -12					; size = 4
_surface_point_index$ = -8				; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_base_point$ = 12					; size = 4
_polygon_outcode$ = 16					; size = 4
?construct_3d_surface_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z PROC ; construct_3d_surface_textured_triangle_fan, COMDAT

; 405  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 406  : 
; 407  : 	unsigned char
; 408  : 		outcode,
; 409  : 		outcode2;
; 410  : 
; 411  : 	int
; 412  : 		surface_point_index,
; 413  : 		point_index;
; 414  : 
; 415  : 	surface_point_index = current_object_3d_point_list[0].point;

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00017	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0001b	89 45 f8	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 416  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0001e	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00021	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00027	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0002b	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  0002e	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 417  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00031	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00036	6b c8 00	 imul	 ecx, eax, 0
  00039	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  0003c	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00043	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 418  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00049	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0004e	6b c8 00	 imul	 ecx, eax, 0
  00051	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  00054	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0005b	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 419  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00061	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00064	c1 e0 04	 shl	 eax, 4
  00067	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0006c	6b d1 00	 imul	 edx, ecx, 0
  0006f	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00075	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 420  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  0007b	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0007e	c1 e0 04	 shl	 eax, 4
  00081	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00086	6b d1 00	 imul	 edx, ecx, 0
  00089	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0008f	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 421  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  00095	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00098	c1 e0 04	 shl	 eax, 4
  0009b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000a0	6b d1 00	 imul	 edx, ecx, 0
  000a3	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000a9	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 422  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000af	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000b2	c1 e0 04	 shl	 eax, 4
  000b5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ba	6b d1 00	 imul	 edx, ecx, 0
  000bd	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000c3	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 423  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  000c9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ce	6b c8 00	 imul	 ecx, eax, 0
  000d1	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  000d4	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  000da	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 424  : 	polygon_3d_vertices[0].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  000e0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000e5	6b c8 00	 imul	 ecx, eax, 0
  000e8	8b 55 f8	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  000eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  000f0	8b 14 d0	 mov	 edx, DWORD PTR [eax+edx*8]
  000f3	89 91 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+24], edx

; 425  : 	polygon_3d_vertices[0].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  000f9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000fe	6b c8 00	 imul	 ecx, eax, 0
  00101	8b 55 f8	 mov	 edx, DWORD PTR _surface_point_index$[ebp]
  00104	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00109	8b 54 d0 04	 mov	 edx, DWORD PTR [eax+edx*8+4]
  0010d	89 91 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+28], edx

; 426  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  00113	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00118	c1 e0 00	 shl	 eax, 0
  0011b	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00120	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00125	6b d1 00	 imul	 edx, ecx, 0
  00128	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 427  : 	outcode = transformed_3d_point_outcodes[point_index];

  0012e	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00131	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00137	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 428  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  0013a	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0013d	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00143	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 429  : 
; 430  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  00146	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0014b	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0014e	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00152	89 4d f8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 431  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00155	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00158	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0015e	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00162	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  00165	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 432  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  00168	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0016d	c1 e0 00	 shl	 eax, 0
  00170	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00173	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  0017a	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 433  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  00180	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00185	c1 e0 00	 shl	 eax, 0
  00188	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0018b	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00192	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 434  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  00198	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0019b	c1 e0 04	 shl	 eax, 4
  0019e	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001a3	c1 e1 00	 shl	 ecx, 0
  001a6	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  001ac	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 435  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  001b2	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001b5	c1 e0 04	 shl	 eax, 4
  001b8	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001bd	c1 e1 00	 shl	 ecx, 0
  001c0	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  001c6	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 436  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  001cc	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001cf	c1 e0 04	 shl	 eax, 4
  001d2	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001d7	c1 e1 00	 shl	 ecx, 0
  001da	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  001e0	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 437  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  001e6	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001e9	c1 e0 04	 shl	 eax, 4
  001ec	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001f1	c1 e1 00	 shl	 ecx, 0
  001f4	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  001fa	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 438  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  00200	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00205	c1 e0 00	 shl	 eax, 0
  00208	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0020b	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  00211	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 439  : 	polygon_3d_vertices[1].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  00217	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0021c	c1 e0 00	 shl	 eax, 0
  0021f	8b 4d f8	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  00222	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00228	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  0022b	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 440  : 	polygon_3d_vertices[1].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  00231	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00236	c1 e0 00	 shl	 eax, 0
  00239	8b 4d f8	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  0023c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00242	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  00246	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 441  : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  0024c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00251	d1 e0		 shl	 eax, 1
  00253	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00258	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0025d	c1 e1 00	 shl	 ecx, 0
  00260	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 442  : 	outcode |= transformed_3d_point_outcodes[point_index];

  00266	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00269	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00270	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  00274	0b d1		 or	 edx, ecx
  00276	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 443  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  00279	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0027c	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00283	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  00287	23 d1		 and	 edx, ecx
  00289	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 444  : 
; 445  : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  0028c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00291	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  00294	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00298	89 4d f8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 446  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0029b	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0029e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  002a4	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  002a8	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  002ab	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 447  : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  002ae	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002b3	d1 e0		 shl	 eax, 1
  002b5	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002b8	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  002bf	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 448  : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  002c5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002ca	d1 e0		 shl	 eax, 1
  002cc	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002cf	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  002d6	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 449  : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  002dc	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002df	c1 e0 04	 shl	 eax, 4
  002e2	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002e7	d1 e1		 shl	 ecx, 1
  002e9	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  002ef	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 450  : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  002f5	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002f8	c1 e0 04	 shl	 eax, 4
  002fb	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00300	d1 e1		 shl	 ecx, 1
  00302	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00308	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 451  : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  0030e	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00311	c1 e0 04	 shl	 eax, 4
  00314	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00319	d1 e1		 shl	 ecx, 1
  0031b	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00321	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 452  : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  00327	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0032a	c1 e0 04	 shl	 eax, 4
  0032d	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00332	d1 e1		 shl	 ecx, 1
  00334	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  0033a	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 453  : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  00340	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00345	d1 e0		 shl	 eax, 1
  00347	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0034a	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  00350	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 454  : 	polygon_3d_vertices[2].u = current_object_3d_surface_point_texture_list[surface_point_index].u;

  00356	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0035b	d1 e0		 shl	 eax, 1
  0035d	8b 4d f8	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  00360	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  00366	8b 0c ca	 mov	 ecx, DWORD PTR [edx+ecx*8]
  00369	89 88 18 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+24], ecx

; 455  : 	polygon_3d_vertices[2].v = current_object_3d_surface_point_texture_list[surface_point_index].v;

  0036f	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00374	d1 e0		 shl	 eax, 1
  00376	8b 4d f8	 mov	 ecx, DWORD PTR _surface_point_index$[ebp]
  00379	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_texture_list@@3PAUOBJECT_3D_SHORT_TEXTURED_POINT@@A ; current_object_3d_surface_point_texture_list
  0037f	8b 4c ca 04	 mov	 ecx, DWORD PTR [edx+ecx*8+4]
  00383	89 88 1c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+28], ecx

; 456  : 	polygon_3d_vertices[2].next_vertex = NULL;

  00389	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0038e	d1 e0		 shl	 eax, 1
  00390	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 457  : 	outcode |= transformed_3d_point_outcodes[point_index];

  0039a	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0039d	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  003a4	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  003a8	0b d1		 or	 edx, ecx
  003aa	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 458  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  003ad	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  003b0	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  003b7	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  003bb	23 d1		 and	 edx, ecx
  003bd	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 459  : 
; 460  : 	*polygon_outcode = outcode;

  003c0	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  003c4	8b 4d 10	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  003c7	89 01		 mov	 DWORD PTR [ecx], eax

; 461  : 	
; 462  : 	if ( outcode2 )

  003c9	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  003cd	85 c0		 test	 eax, eax
  003cf	74 06		 je	 SHORT $LN2@construct_

; 463  : 	{
; 464  : 
; 465  : 		return ( NULL );

  003d1	33 c0		 xor	 eax, eax
  003d3	eb 07		 jmp	 SHORT $LN3@construct_

; 466  : 	}
; 467  : 	else

  003d5	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 468  : 	{
; 469  : 
; 470  : 		return ( polygon_3d_vertices );

  003d7	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 471  : 	}
; 472  : }

  003dc	5f		 pop	 edi
  003dd	5e		 pop	 esi
  003de	5b		 pop	 ebx
  003df	8b e5		 mov	 esp, ebp
  003e1	5d		 pop	 ebp
  003e2	c2 0c 00	 ret	 12			; 0000000cH
?construct_3d_surface_textured_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ENDP ; construct_3d_surface_textured_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_unclipped_gouraud_triangle_fan@@YGPAUVERTEX@@HMH@Z
_TEXT	SEGMENT
_point_index$ = -20					; size = 4
_surface_point_index$ = -16				; size = 4
_ispecular$ = -12					; size = 4
_this_normal$ = -8					; size = 4
_normals_base$ = -4					; size = 4
_triangle_index$ = 8					; size = 4
_specular$ = 12						; size = 4
_base_point$ = 16					; size = 4
?construct_3d_surface_unclipped_gouraud_triangle_fan@@YGPAUVERTEX@@HMH@Z PROC ; construct_3d_surface_unclipped_gouraud_triangle_fan, COMDAT

; 342  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 343  : 
; 344  : 	object_3d_transformed_point_normal
; 345  : 		*normals_base,
; 346  : 		*this_normal;
; 347  : 
; 348  : 	int
; 349  : 		ispecular,
; 350  : 		surface_point_index,
; 351  : 		point_index;
; 352  : 
; 353  : 	normals_base = &transformed_3d_normals[base_point];

  00009	8b 45 10	 mov	 eax, DWORD PTR _base_point$[ebp]
  0000c	8d 0c c5 00 00
	00 00		 lea	 ecx, DWORD PTR ?transformed_3d_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A[eax*8]
  00013	89 4d fc	 mov	 DWORD PTR _normals_base$[ebp], ecx

; 354  : 
; 355  : 	surface_point_index = current_object_3d_point_list[0].point;

  00016	b8 01 00 00 00	 mov	 eax, 1
  0001b	6b c8 00	 imul	 ecx, eax, 0
  0001e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00024	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00028	89 45 f0	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 356  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0002b	8b 45 f0	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0002e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00034	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00038	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  0003b	89 55 ec	 mov	 DWORD PTR _point_index$[ebp], edx

; 357  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  0003e	8b 45 f0	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00041	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00047	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0004b	8b 45 fc	 mov	 eax, DWORD PTR _normals_base$[ebp]
  0004e	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  00051	89 4d f8	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 358  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  00054	8d 45 f4	 lea	 eax, DWORD PTR _ispecular$[ebp]
  00057	50		 push	 eax
  00058	8b 4d f8	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0005b	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  00060	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  00065	51		 push	 ecx
  00066	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0006b	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 359  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00070	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00075	6b c8 00	 imul	 ecx, eax, 0
  00078	8b 55 ec	 mov	 edx, DWORD PTR _point_index$[ebp]
  0007b	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00082	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 360  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00088	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0008d	6b c8 00	 imul	 ecx, eax, 0
  00090	8b 55 ec	 mov	 edx, DWORD PTR _point_index$[ebp]
  00093	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0009a	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 361  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  000a0	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  000a3	c1 e0 04	 shl	 eax, 4
  000a6	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ab	6b d1 00	 imul	 edx, ecx, 0
  000ae	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  000b4	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 362  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  000ba	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  000bd	c1 e0 04	 shl	 eax, 4
  000c0	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000c5	6b d1 00	 imul	 edx, ecx, 0
  000c8	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  000ce	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 363  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  000d4	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  000d7	c1 e0 04	 shl	 eax, 4
  000da	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000df	6b d1 00	 imul	 edx, ecx, 0
  000e2	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000e8	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 364  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000ee	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  000f1	c1 e0 04	 shl	 eax, 4
  000f4	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000f9	6b d1 00	 imul	 edx, ecx, 0
  000fc	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00102	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 365  : 	polygon_3d_vertices[0].colour = this_normal->colour;

  00108	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0010d	6b c8 00	 imul	 ecx, eax, 0
  00110	8b 55 f8	 mov	 edx, DWORD PTR _this_normal$[ebp]
  00113	8b 02		 mov	 eax, DWORD PTR [edx]
  00115	89 81 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+48], eax

; 366  : 	polygon_3d_vertices[0].specular = ispecular;

  0011b	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00120	6b c8 00	 imul	 ecx, eax, 0
  00123	8a 55 f4	 mov	 dl, BYTE PTR _ispecular$[ebp]
  00126	88 91 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+45], dl

; 367  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  0012c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00131	c1 e0 00	 shl	 eax, 0
  00134	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00139	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0013e	6b d1 00	 imul	 edx, ecx, 0
  00141	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 368  : 
; 369  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  00147	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0014c	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0014f	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00153	89 4d f0	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 370  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00156	8b 45 f0	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00159	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0015f	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00163	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  00166	89 55 ec	 mov	 DWORD PTR _point_index$[ebp], edx

; 371  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  00169	8b 45 f0	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0016c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00172	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00176	8b 45 fc	 mov	 eax, DWORD PTR _normals_base$[ebp]
  00179	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  0017c	89 4d f8	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 372  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  0017f	8d 45 f4	 lea	 eax, DWORD PTR _ispecular$[ebp]
  00182	50		 push	 eax
  00183	8b 4d f8	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  00186	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  0018b	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  00190	51		 push	 ecx
  00191	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00196	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 373  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  0019b	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001a0	c1 e0 00	 shl	 eax, 0
  001a3	8b 4d ec	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001a6	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  001ad	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 374  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  001b3	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001b8	c1 e0 00	 shl	 eax, 0
  001bb	8b 4d ec	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001be	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  001c5	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 375  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  001cb	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  001ce	c1 e0 04	 shl	 eax, 4
  001d1	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001d6	c1 e1 00	 shl	 ecx, 0
  001d9	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  001df	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 376  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  001e5	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  001e8	c1 e0 04	 shl	 eax, 4
  001eb	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001f0	c1 e1 00	 shl	 ecx, 0
  001f3	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  001f9	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 377  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  001ff	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  00202	c1 e0 04	 shl	 eax, 4
  00205	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0020a	c1 e1 00	 shl	 ecx, 0
  0020d	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00213	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 378  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  00219	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  0021c	c1 e0 04	 shl	 eax, 4
  0021f	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00224	c1 e1 00	 shl	 ecx, 0
  00227	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  0022d	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 379  : 	polygon_3d_vertices[1].colour = this_normal->colour;

  00233	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00238	c1 e0 00	 shl	 eax, 0
  0023b	8b 4d f8	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0023e	8b 11		 mov	 edx, DWORD PTR [ecx]
  00240	89 90 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], edx

; 380  : 	polygon_3d_vertices[1].specular = ispecular;

  00246	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0024b	c1 e0 00	 shl	 eax, 0
  0024e	8a 4d f4	 mov	 cl, BYTE PTR _ispecular$[ebp]
  00251	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 381  : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  00257	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0025c	d1 e0		 shl	 eax, 1
  0025e	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00263	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00268	c1 e1 00	 shl	 ecx, 0
  0026b	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 382  : 
; 383  : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  00271	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00276	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  00279	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  0027d	89 4d f0	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 384  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00280	8b 45 f0	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00283	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00289	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0028d	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  00290	89 55 ec	 mov	 DWORD PTR _point_index$[ebp], edx

; 385  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  00293	8b 45 f0	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00296	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  0029c	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  002a0	8b 45 fc	 mov	 eax, DWORD PTR _normals_base$[ebp]
  002a3	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  002a6	89 4d f8	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 386  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  002a9	8d 45 f4	 lea	 eax, DWORD PTR _ispecular$[ebp]
  002ac	50		 push	 eax
  002ad	8b 4d f8	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  002b0	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  002b5	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  002ba	51		 push	 ecx
  002bb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  002c0	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 387  : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  002c5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002ca	d1 e0		 shl	 eax, 1
  002cc	8b 4d ec	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002cf	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  002d6	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 388  : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  002dc	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002e1	d1 e0		 shl	 eax, 1
  002e3	8b 4d ec	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002e6	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  002ed	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 389  : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  002f3	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  002f6	c1 e0 04	 shl	 eax, 4
  002f9	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002fe	d1 e1		 shl	 ecx, 1
  00300	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00306	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 390  : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  0030c	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  0030f	c1 e0 04	 shl	 eax, 4
  00312	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00317	d1 e1		 shl	 ecx, 1
  00319	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0031f	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 391  : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  00325	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  00328	c1 e0 04	 shl	 eax, 4
  0032b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00330	d1 e1		 shl	 ecx, 1
  00332	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00338	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 392  : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  0033e	8b 45 ec	 mov	 eax, DWORD PTR _point_index$[ebp]
  00341	c1 e0 04	 shl	 eax, 4
  00344	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00349	d1 e1		 shl	 ecx, 1
  0034b	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00351	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 393  : 	polygon_3d_vertices[2].specular = ispecular;

  00357	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0035c	d1 e0		 shl	 eax, 1
  0035e	8a 4d f4	 mov	 cl, BYTE PTR _ispecular$[ebp]
  00361	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 394  : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  00367	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0036c	d1 e0		 shl	 eax, 1
  0036e	8b 4d ec	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00371	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  00377	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 395  : 	polygon_3d_vertices[2].next_vertex = NULL;

  0037d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00382	d1 e0		 shl	 eax, 1
  00384	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 396  : 
; 397  : 	return ( polygon_3d_vertices );

  0038e	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices

; 398  : }

  00393	5f		 pop	 edi
  00394	5e		 pop	 esi
  00395	5b		 pop	 ebx
  00396	8b e5		 mov	 esp, ebp
  00398	5d		 pop	 ebp
  00399	c2 0c 00	 ret	 12			; 0000000cH
?construct_3d_surface_unclipped_gouraud_triangle_fan@@YGPAUVERTEX@@HMH@Z ENDP ; construct_3d_surface_unclipped_gouraud_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_gouraud_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z
_TEXT	SEGMENT
_point_index$ = -24					; size = 4
_surface_point_index$ = -20				; size = 4
_ispecular$ = -16					; size = 4
_this_normal$ = -12					; size = 4
_normals_base$ = -8					; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_specular$ = 12						; size = 4
_base_point$ = 16					; size = 4
_polygon_outcode$ = 20					; size = 4
?construct_3d_surface_gouraud_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z PROC ; construct_3d_surface_gouraud_triangle_fan, COMDAT

; 255  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 256  : 
; 257  : 	unsigned char
; 258  : 		outcode,
; 259  : 		outcode2;
; 260  : 
; 261  : 	object_3d_transformed_point_normal
; 262  : 		*normals_base,
; 263  : 		*this_normal;
; 264  : 
; 265  : 	int
; 266  : 		ispecular,
; 267  : 		surface_point_index,
; 268  : 		point_index;
; 269  : 
; 270  : 	normals_base = &transformed_3d_normals[base_point];

  00009	8b 45 10	 mov	 eax, DWORD PTR _base_point$[ebp]
  0000c	8d 0c c5 00 00
	00 00		 lea	 ecx, DWORD PTR ?transformed_3d_normals@@3PAUOBJECT_3D_TRANSFORMED_POINT_NORMAL@@A[eax*8]
  00013	89 4d f8	 mov	 DWORD PTR _normals_base$[ebp], ecx

; 271  : 
; 272  : 	surface_point_index = current_object_3d_point_list[0].point;

  00016	b8 01 00 00 00	 mov	 eax, 1
  0001b	6b c8 00	 imul	 ecx, eax, 0
  0001e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00024	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00028	89 45 ec	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 273  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0002b	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0002e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00034	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00038	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  0003b	89 55 e8	 mov	 DWORD PTR _point_index$[ebp], edx

; 274  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  0003e	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00041	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00047	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0004b	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  0004e	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  00051	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 275  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  00054	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  00057	50		 push	 eax
  00058	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0005b	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  00060	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  00065	51		 push	 ecx
  00066	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0006b	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 276  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00070	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00075	6b c8 00	 imul	 ecx, eax, 0
  00078	8b 55 e8	 mov	 edx, DWORD PTR _point_index$[ebp]
  0007b	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00082	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 277  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00088	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0008d	6b c8 00	 imul	 ecx, eax, 0
  00090	8b 55 e8	 mov	 edx, DWORD PTR _point_index$[ebp]
  00093	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0009a	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 278  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  000a0	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000a3	c1 e0 04	 shl	 eax, 4
  000a6	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ab	6b d1 00	 imul	 edx, ecx, 0
  000ae	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  000b4	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 279  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  000ba	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000bd	c1 e0 04	 shl	 eax, 4
  000c0	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000c5	6b d1 00	 imul	 edx, ecx, 0
  000c8	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  000ce	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 280  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  000d4	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000d7	c1 e0 04	 shl	 eax, 4
  000da	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000df	6b d1 00	 imul	 edx, ecx, 0
  000e2	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000e8	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 281  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000ee	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  000f1	c1 e0 04	 shl	 eax, 4
  000f4	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000f9	6b d1 00	 imul	 edx, ecx, 0
  000fc	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  00102	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 282  : 	polygon_3d_vertices[0].colour = this_normal->colour;

  00108	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0010d	6b c8 00	 imul	 ecx, eax, 0
  00110	8b 55 f4	 mov	 edx, DWORD PTR _this_normal$[ebp]
  00113	8b 02		 mov	 eax, DWORD PTR [edx]
  00115	89 81 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+48], eax

; 283  : 	polygon_3d_vertices[0].specular = ispecular;

  0011b	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00120	6b c8 00	 imul	 ecx, eax, 0
  00123	8a 55 f0	 mov	 dl, BYTE PTR _ispecular$[ebp]
  00126	88 91 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+45], dl

; 284  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  0012c	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00131	6b c8 00	 imul	 ecx, eax, 0
  00134	8b 55 e8	 mov	 edx, DWORD PTR _point_index$[ebp]
  00137	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  0013d	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 285  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  00143	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00148	c1 e0 00	 shl	 eax, 0
  0014b	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  00150	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00155	6b d1 00	 imul	 edx, ecx, 0
  00158	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 286  : 	outcode = transformed_3d_point_outcodes[point_index];

  0015e	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00161	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00167	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 287  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  0016a	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0016d	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00173	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 288  : 
; 289  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  00176	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0017b	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0017e	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  00182	89 4d ec	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 290  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00185	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00188	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0018e	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00192	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  00195	89 55 e8	 mov	 DWORD PTR _point_index$[ebp], edx

; 291  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  00198	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  0019b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  001a1	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  001a5	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  001a8	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  001ab	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 292  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  001ae	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  001b1	50		 push	 eax
  001b2	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  001b5	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  001ba	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  001bf	51		 push	 ecx
  001c0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001c5	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 293  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  001ca	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001cf	c1 e0 00	 shl	 eax, 0
  001d2	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001d5	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  001dc	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 294  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  001e2	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001e7	c1 e0 00	 shl	 eax, 0
  001ea	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001ed	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  001f4	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 295  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  001fa	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  001fd	c1 e0 04	 shl	 eax, 4
  00200	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00205	c1 e1 00	 shl	 ecx, 0
  00208	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  0020e	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 296  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  00214	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00217	c1 e0 04	 shl	 eax, 4
  0021a	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0021f	c1 e1 00	 shl	 ecx, 0
  00222	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00228	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 297  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  0022e	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00231	c1 e0 04	 shl	 eax, 4
  00234	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00239	c1 e1 00	 shl	 ecx, 0
  0023c	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  00242	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 298  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  00248	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0024b	c1 e0 04	 shl	 eax, 4
  0024e	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00253	c1 e1 00	 shl	 ecx, 0
  00256	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  0025c	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 299  : 	polygon_3d_vertices[1].colour = this_normal->colour;

  00262	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00267	c1 e0 00	 shl	 eax, 0
  0026a	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0026d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0026f	89 90 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], edx

; 300  : 	polygon_3d_vertices[1].specular = ispecular;

  00275	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0027a	c1 e0 00	 shl	 eax, 0
  0027d	8a 4d f0	 mov	 cl, BYTE PTR _ispecular$[ebp]
  00280	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 301  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  00286	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0028b	c1 e0 00	 shl	 eax, 0
  0028e	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00291	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  00297	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 302  : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  0029d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002a2	d1 e0		 shl	 eax, 1
  002a4	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  002a9	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002ae	c1 e1 00	 shl	 ecx, 0
  002b1	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 303  : 	outcode |= transformed_3d_point_outcodes[point_index];

  002b7	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  002ba	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  002c1	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  002c5	0b d1		 or	 edx, ecx
  002c7	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 304  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  002ca	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  002cd	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  002d4	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  002d8	23 d1		 and	 edx, ecx
  002da	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 305  : 
; 306  : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  002dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  002e2	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  002e5	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  002e9	89 4d ec	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 307  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  002ec	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  002ef	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  002f5	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  002f9	03 55 10	 add	 edx, DWORD PTR _base_point$[ebp]
  002fc	89 55 e8	 mov	 DWORD PTR _point_index$[ebp], edx

; 308  : 	this_normal = &normals_base[current_object_3d_surface_point_normal_list[surface_point_index].point];

  002ff	8b 45 ec	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00302	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_normal_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_normal_list
  00308	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0030c	8b 45 f8	 mov	 eax, DWORD PTR _normals_base$[ebp]
  0030f	8d 0c d0	 lea	 ecx, DWORD PTR [eax+edx*8]
  00312	89 4d f4	 mov	 DWORD PTR _this_normal$[ebp], ecx

; 309  : 	asm_convert_float_to_int ( ( specular * this_normal->specular ), &ispecular );

  00315	8d 45 f0	 lea	 eax, DWORD PTR _ispecular$[ebp]
  00318	50		 push	 eax
  00319	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  0031c	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _specular$[ebp]
  00321	f3 0f 59 41 04	 mulss	 xmm0, DWORD PTR [ecx+4]
  00326	51		 push	 ecx
  00327	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0032c	e8 00 00 00 00	 call	 ?asm_convert_float_to_int@@YGXMPAH@Z ; asm_convert_float_to_int

; 310  : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  00331	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00336	d1 e0		 shl	 eax, 1
  00338	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  0033b	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00342	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 311  : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  00348	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0034d	d1 e0		 shl	 eax, 1
  0034f	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00352	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  00359	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 312  : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  0035f	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00362	c1 e0 04	 shl	 eax, 4
  00365	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0036a	d1 e1		 shl	 ecx, 1
  0036c	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00372	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 313  : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  00378	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0037b	c1 e0 04	 shl	 eax, 4
  0037e	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00383	d1 e1		 shl	 ecx, 1
  00385	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0038b	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 314  : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  00391	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00394	c1 e0 04	 shl	 eax, 4
  00397	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0039c	d1 e1		 shl	 ecx, 1
  0039e	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  003a4	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 315  : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  003aa	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  003ad	c1 e0 04	 shl	 eax, 4
  003b0	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  003b5	d1 e1		 shl	 ecx, 1
  003b7	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  003bd	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 316  : 	polygon_3d_vertices[2].colour = this_normal->colour;

  003c3	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003c8	d1 e0		 shl	 eax, 1
  003ca	8b 4d f4	 mov	 ecx, DWORD PTR _this_normal$[ebp]
  003cd	8b 11		 mov	 edx, DWORD PTR [ecx]
  003cf	89 90 30 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+48], edx

; 317  : 	polygon_3d_vertices[2].specular = ispecular;

  003d5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003da	d1 e0		 shl	 eax, 1
  003dc	8a 4d f0	 mov	 cl, BYTE PTR _ispecular$[ebp]
  003df	88 88 2d 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+45], cl

; 318  : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  003e5	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  003ea	d1 e0		 shl	 eax, 1
  003ec	8b 4d e8	 mov	 ecx, DWORD PTR _point_index$[ebp]
  003ef	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  003f5	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 319  : 	polygon_3d_vertices[2].next_vertex = NULL;

  003fb	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00400	d1 e0		 shl	 eax, 1
  00402	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 320  : 	outcode |= transformed_3d_point_outcodes[point_index];

  0040c	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  0040f	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00416	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  0041a	0b d1		 or	 edx, ecx
  0041c	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 321  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  0041f	8b 45 e8	 mov	 eax, DWORD PTR _point_index$[ebp]
  00422	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00429	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  0042d	23 d1		 and	 edx, ecx
  0042f	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 322  : 
; 323  : 	*polygon_outcode = outcode;

  00432	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  00436	8b 4d 14	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  00439	89 01		 mov	 DWORD PTR [ecx], eax

; 324  : 	
; 325  : 	if ( outcode2 )

  0043b	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  0043f	85 c0		 test	 eax, eax
  00441	74 06		 je	 SHORT $LN2@construct_

; 326  : 	{
; 327  : 
; 328  : 		return ( NULL );

  00443	33 c0		 xor	 eax, eax
  00445	eb 07		 jmp	 SHORT $LN3@construct_

; 329  : 	}
; 330  : 	else

  00447	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 331  : 	{
; 332  : 
; 333  : 		return ( polygon_3d_vertices );

  00449	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 334  : 	}
; 335  : }

  0044e	5f		 pop	 edi
  0044f	5e		 pop	 esi
  00450	5b		 pop	 ebx
  00451	8b e5		 mov	 esp, ebp
  00453	5d		 pop	 ebp
  00454	c2 10 00	 ret	 16			; 00000010H
?construct_3d_surface_gouraud_triangle_fan@@YGPAUVERTEX@@HMHPAH@Z ENDP ; construct_3d_surface_gouraud_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_triangle_fan@@YGPAUVERTEX@@HHPAH@Z
_TEXT	SEGMENT
_point_index$ = -12					; size = 4
_surface_point_index$ = -8				; size = 4
_outcode2$ = -2						; size = 1
_outcode$ = -1						; size = 1
_triangle_index$ = 8					; size = 4
_base_point$ = 12					; size = 4
_polygon_outcode$ = 16					; size = 4
?construct_3d_surface_triangle_fan@@YGPAUVERTEX@@HHPAH@Z PROC ; construct_3d_surface_triangle_fan, COMDAT

; 187  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 188  : 
; 189  : 	unsigned char
; 190  : 		outcode,
; 191  : 		outcode2;
; 192  : 
; 193  : 	int
; 194  : 		surface_point_index,
; 195  : 		point_index;
; 196  : 
; 197  : 	surface_point_index = current_object_3d_point_list[0].point;

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00017	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0001b	89 45 f8	 mov	 DWORD PTR _surface_point_index$[ebp], eax

; 198  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  0001e	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00021	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00027	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0002b	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  0002e	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 199  : 	polygon_3d_vertices[0].x = transformed_3d_3d_points[point_index].x;

  00031	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00036	6b c8 00	 imul	 ecx, eax, 0
  00039	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  0003c	8b 04 d5 00 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8]
  00043	89 81 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx], eax

; 200  : 	polygon_3d_vertices[0].y = transformed_3d_3d_points[point_index].y;

  00049	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0004e	6b c8 00	 imul	 ecx, eax, 0
  00051	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  00054	8b 04 d5 04 00
	00 00		 mov	 eax, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[edx*8+4]
  0005b	89 81 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+4], eax

; 201  : 	polygon_3d_vertices[0].z = transformed_3d_2d_points[point_index].z;

  00061	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00064	c1 e0 04	 shl	 eax, 4
  00067	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0006c	6b d1 00	 imul	 edx, ecx, 0
  0006f	8b 80 0c 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00075	89 82 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+8], eax

; 202  : 	polygon_3d_vertices[0].i = transformed_3d_2d_points[point_index].i;

  0007b	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0007e	c1 e0 04	 shl	 eax, 4
  00081	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00086	6b d1 00	 imul	 edx, ecx, 0
  00089	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0008f	89 82 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+16], eax

; 203  : 	polygon_3d_vertices[0].j = transformed_3d_2d_points[point_index].j;

  00095	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00098	c1 e0 04	 shl	 eax, 4
  0009b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000a0	6b d1 00	 imul	 edx, ecx, 0
  000a3	8b 80 04 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000a9	89 82 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+20], eax

; 204  : 	polygon_3d_vertices[0].q = transformed_3d_2d_points[point_index].q;

  000af	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000b2	c1 e0 04	 shl	 eax, 4
  000b5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000ba	6b d1 00	 imul	 edx, ecx, 0
  000bd	8b 80 08 00 00
	00		 mov	 eax, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000c3	89 82 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+12], eax

; 205  : 	polygon_3d_vertices[0].outcode = transformed_3d_point_outcodes[point_index];

  000c9	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000ce	6b c8 00	 imul	 ecx, eax, 0
  000d1	8b 55 f4	 mov	 edx, DWORD PTR _point_index$[ebp]
  000d4	8a 82 00 00 00
	00		 mov	 al, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[edx]
  000da	88 81 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+44], al

; 206  : 	polygon_3d_vertices[0].next_vertex = &polygon_3d_vertices[1];

  000e0	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  000e5	c1 e0 00	 shl	 eax, 0
  000e8	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  000ed	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  000f2	6b d1 00	 imul	 edx, ecx, 0
  000f5	89 82 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[edx+40], eax

; 207  : 	outcode = transformed_3d_point_outcodes[point_index];

  000fb	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  000fe	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00104	88 4d ff	 mov	 BYTE PTR _outcode$[ebp], cl

; 208  : 	outcode2 = transformed_3d_point_outcodes[point_index];

  00107	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0010a	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00110	88 4d fe	 mov	 BYTE PTR _outcode2$[ebp], cl

; 209  : 
; 210  : 	surface_point_index = current_object_3d_point_list[triangle_index+1].point;

  00113	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00118	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0011b	0f b6 48 01	 movzx	 ecx, BYTE PTR [eax+1]
  0011f	89 4d f8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 211  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00122	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00125	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0012b	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0012f	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  00132	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 212  : 	polygon_3d_vertices[1].x = transformed_3d_3d_points[point_index].x;

  00135	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0013a	c1 e0 00	 shl	 eax, 0
  0013d	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00140	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00147	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 213  : 	polygon_3d_vertices[1].y = transformed_3d_3d_points[point_index].y;

  0014d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00152	c1 e0 00	 shl	 eax, 0
  00155	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00158	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  0015f	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 214  : 	polygon_3d_vertices[1].z = transformed_3d_2d_points[point_index].z;

  00165	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00168	c1 e0 04	 shl	 eax, 4
  0016b	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00170	c1 e1 00	 shl	 ecx, 0
  00173	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00179	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 215  : 	polygon_3d_vertices[1].i = transformed_3d_2d_points[point_index].i;

  0017f	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00182	c1 e0 04	 shl	 eax, 4
  00185	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0018a	c1 e1 00	 shl	 ecx, 0
  0018d	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  00193	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 216  : 	polygon_3d_vertices[1].j = transformed_3d_2d_points[point_index].j;

  00199	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  0019c	c1 e0 04	 shl	 eax, 4
  0019f	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001a4	c1 e1 00	 shl	 ecx, 0
  001a7	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  001ad	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 217  : 	polygon_3d_vertices[1].q = transformed_3d_2d_points[point_index].q;

  001b3	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  001b6	c1 e0 04	 shl	 eax, 4
  001b9	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001be	c1 e1 00	 shl	 ecx, 0
  001c1	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  001c7	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 218  : 	polygon_3d_vertices[1].outcode = transformed_3d_point_outcodes[point_index];

  001cd	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001d2	c1 e0 00	 shl	 eax, 0
  001d5	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  001d8	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  001de	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 219  : 	polygon_3d_vertices[1].next_vertex = &polygon_3d_vertices[2];

  001e4	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  001e9	d1 e0		 shl	 eax, 1
  001eb	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  001f0	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  001f5	c1 e1 00	 shl	 ecx, 0
  001f8	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 220  : 	outcode |= transformed_3d_point_outcodes[point_index];

  001fe	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00201	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00208	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  0020c	0b d1		 or	 edx, ecx
  0020e	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 221  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  00211	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00214	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0021b	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  0021f	23 d1		 and	 edx, ecx
  00221	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 222  : 
; 223  : 	surface_point_index = current_object_3d_point_list[triangle_index+2].point;

  00224	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00229	03 45 08	 add	 eax, DWORD PTR _triangle_index$[ebp]
  0022c	0f b6 48 02	 movzx	 ecx, BYTE PTR [eax+2]
  00230	89 4d f8	 mov	 DWORD PTR _surface_point_index$[ebp], ecx

; 224  : 	point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00233	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$[ebp]
  00236	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0023c	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00240	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  00243	89 55 f4	 mov	 DWORD PTR _point_index$[ebp], edx

; 225  : 	polygon_3d_vertices[2].x = transformed_3d_3d_points[point_index].x;

  00246	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  0024b	d1 e0		 shl	 eax, 1
  0024d	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00250	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00257	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 226  : 	polygon_3d_vertices[2].y = transformed_3d_3d_points[point_index].y;

  0025d	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  00262	d1 e0		 shl	 eax, 1
  00264	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  00267	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  0026e	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 227  : 	polygon_3d_vertices[2].z = transformed_3d_2d_points[point_index].z;

  00274	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00277	c1 e0 04	 shl	 eax, 4
  0027a	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  0027f	d1 e1		 shl	 ecx, 1
  00281	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00287	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 228  : 	polygon_3d_vertices[2].i = transformed_3d_2d_points[point_index].i;

  0028d	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00290	c1 e0 04	 shl	 eax, 4
  00293	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00298	d1 e1		 shl	 ecx, 1
  0029a	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  002a0	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 229  : 	polygon_3d_vertices[2].j = transformed_3d_2d_points[point_index].j;

  002a6	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002a9	c1 e0 04	 shl	 eax, 4
  002ac	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002b1	d1 e1		 shl	 ecx, 1
  002b3	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  002b9	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 230  : 	polygon_3d_vertices[2].q = transformed_3d_2d_points[point_index].q;

  002bf	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  002c2	c1 e0 04	 shl	 eax, 4
  002c5	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  002ca	d1 e1		 shl	 ecx, 1
  002cc	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  002d2	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 231  : 	polygon_3d_vertices[2].outcode = transformed_3d_point_outcodes[point_index];

  002d8	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002dd	d1 e0		 shl	 eax, 1
  002df	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$[ebp]
  002e2	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  002e8	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 232  : 	polygon_3d_vertices[2].next_vertex = NULL;

  002ee	b8 40 00 00 00	 mov	 eax, 64			; 00000040H
  002f3	d1 e0		 shl	 eax, 1
  002f5	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 233  : 	outcode |= transformed_3d_point_outcodes[point_index];

  002ff	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00302	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  00309	0f b6 55 ff	 movzx	 edx, BYTE PTR _outcode$[ebp]
  0030d	0b d1		 or	 edx, ecx
  0030f	88 55 ff	 mov	 BYTE PTR _outcode$[ebp], dl

; 234  : 	outcode2 &= transformed_3d_point_outcodes[point_index];

  00312	8b 45 f4	 mov	 eax, DWORD PTR _point_index$[ebp]
  00315	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[eax]
  0031c	0f b6 55 fe	 movzx	 edx, BYTE PTR _outcode2$[ebp]
  00320	23 d1		 and	 edx, ecx
  00322	88 55 fe	 mov	 BYTE PTR _outcode2$[ebp], dl

; 235  : 
; 236  : 	*polygon_outcode = outcode;

  00325	0f b6 45 ff	 movzx	 eax, BYTE PTR _outcode$[ebp]
  00329	8b 4d 10	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  0032c	89 01		 mov	 DWORD PTR [ecx], eax

; 237  : 	
; 238  : 	if ( outcode2 )

  0032e	0f b6 45 fe	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  00332	85 c0		 test	 eax, eax
  00334	74 06		 je	 SHORT $LN2@construct_

; 239  : 	{
; 240  : 
; 241  : 		return ( NULL );

  00336	33 c0		 xor	 eax, eax
  00338	eb 07		 jmp	 SHORT $LN3@construct_

; 242  : 	}
; 243  : 	else

  0033a	eb 05		 jmp	 SHORT $LN3@construct_
$LN2@construct_:

; 244  : 	{
; 245  : 
; 246  : 		return ( polygon_3d_vertices );

  0033c	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
$LN3@construct_:

; 247  : 	}
; 248  : }

  00341	5f		 pop	 edi
  00342	5e		 pop	 esi
  00343	5b		 pop	 ebx
  00344	8b e5		 mov	 esp, ebp
  00346	5d		 pop	 ebp
  00347	c2 0c 00	 ret	 12			; 0000000cH
?construct_3d_surface_triangle_fan@@YGPAUVERTEX@@HHPAH@Z ENDP ; construct_3d_surface_triangle_fan
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?construct_3d_surface_polygon@@YGPAUVERTEX@@HH@Z
_TEXT	SEGMENT
_point_index$1 = -12					; size = 4
_surface_point_index$2 = -8				; size = 4
_count$ = -4						; size = 4
_num_points$ = 8					; size = 4
_base_point$ = 12					; size = 4
?construct_3d_surface_polygon@@YGPAUVERTEX@@HH@Z PROC	; construct_3d_surface_polygon, COMDAT

; 152  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 153  : 
; 154  : 	int
; 155  : 		count;
; 156  : 
; 157  : 	for ( count = 0; count < num_points; count++ )

  00009	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00010	eb 09		 jmp	 SHORT $LN4@construct_
$LN2@construct_:
  00012	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00015	83 c0 01	 add	 eax, 1
  00018	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@construct_:
  0001b	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0001e	3b 45 08	 cmp	 eax, DWORD PTR _num_points$[ebp]
  00021	0f 8d e1 00 00
	00		 jge	 $LN3@construct_

; 158  : 	{
; 159  : 
; 160  : 		int
; 161  : 			surface_point_index,
; 162  : 			point_index;
; 163  : 
; 164  : 		surface_point_index = current_object_3d_point_list[count].point;

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0002c	03 45 fc	 add	 eax, DWORD PTR _count$[ebp]
  0002f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00032	89 4d f8	 mov	 DWORD PTR _surface_point_index$2[ebp], ecx

; 165  : 		point_index = current_object_3d_surface_point_list[surface_point_index].point + base_point;

  00035	8b 45 f8	 mov	 eax, DWORD PTR _surface_point_index$2[ebp]
  00038	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0003e	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00042	03 55 0c	 add	 edx, DWORD PTR _base_point$[ebp]
  00045	89 55 f4	 mov	 DWORD PTR _point_index$1[ebp], edx

; 166  : 
; 167  : 		polygon_3d_vertices[count].x = transformed_3d_3d_points[point_index].x;

  00048	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0004b	c1 e0 06	 shl	 eax, 6
  0004e	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$1[ebp]
  00051	8b 14 cd 00 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8]
  00058	89 90 00 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax], edx

; 168  : 		polygon_3d_vertices[count].y = transformed_3d_3d_points[point_index].y;

  0005e	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00061	c1 e0 06	 shl	 eax, 6
  00064	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$1[ebp]
  00067	8b 14 cd 04 00
	00 00		 mov	 edx, DWORD PTR ?transformed_3d_3d_points@@3PAUOBJECT_TRANSFORMED_3D_POINT@@A[ecx*8+4]
  0006e	89 90 04 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+4], edx

; 169  : 		polygon_3d_vertices[count].z = transformed_3d_2d_points[point_index].z;

  00074	8b 45 f4	 mov	 eax, DWORD PTR _point_index$1[ebp]
  00077	c1 e0 04	 shl	 eax, 4
  0007a	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  0007d	c1 e1 06	 shl	 ecx, 6
  00080	8b 90 0c 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+12]
  00086	89 91 08 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+8], edx

; 170  : 		polygon_3d_vertices[count].i = transformed_3d_2d_points[point_index].i;

  0008c	8b 45 f4	 mov	 eax, DWORD PTR _point_index$1[ebp]
  0008f	c1 e0 04	 shl	 eax, 4
  00092	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  00095	c1 e1 06	 shl	 ecx, 6
  00098	8b 90 00 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax]
  0009e	89 91 10 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+16], edx

; 171  : 		polygon_3d_vertices[count].j = transformed_3d_2d_points[point_index].j;

  000a4	8b 45 f4	 mov	 eax, DWORD PTR _point_index$1[ebp]
  000a7	c1 e0 04	 shl	 eax, 4
  000aa	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  000ad	c1 e1 06	 shl	 ecx, 6
  000b0	8b 90 04 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+4]
  000b6	89 91 14 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+20], edx

; 172  : 		polygon_3d_vertices[count].q = transformed_3d_2d_points[point_index].q;

  000bc	8b 45 f4	 mov	 eax, DWORD PTR _point_index$1[ebp]
  000bf	c1 e0 04	 shl	 eax, 4
  000c2	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  000c5	c1 e1 06	 shl	 ecx, 6
  000c8	8b 90 08 00 00
	00		 mov	 edx, DWORD PTR ?transformed_3d_2d_points@@3PAUOBJECT_TRANSFORMED_2D_POINT@@A[eax+8]
  000ce	89 91 0c 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+12], edx

; 173  : 		polygon_3d_vertices[count].outcode = transformed_3d_point_outcodes[point_index];

  000d4	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  000d7	c1 e0 06	 shl	 eax, 6
  000da	8b 4d f4	 mov	 ecx, DWORD PTR _point_index$1[ebp]
  000dd	8a 91 00 00 00
	00		 mov	 dl, BYTE PTR ?transformed_3d_point_outcodes@@3PAEA[ecx]
  000e3	88 90 2c 00 00
	00		 mov	 BYTE PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+44], dl

; 174  : 		polygon_3d_vertices[count].next_vertex = &polygon_3d_vertices[count+1];

  000e9	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  000ec	83 c0 01	 add	 eax, 1
  000ef	c1 e0 06	 shl	 eax, 6
  000f2	05 00 00 00 00	 add	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices
  000f7	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  000fa	c1 e1 06	 shl	 ecx, 6
  000fd	89 81 28 00 00
	00		 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[ecx+40], eax

; 175  : 	}

  00103	e9 0a ff ff ff	 jmp	 $LN2@construct_
$LN3@construct_:

; 176  : 
; 177  : 	polygon_3d_vertices[ ( num_points - 1 ) ].next_vertex = NULL;

  00108	8b 45 08	 mov	 eax, DWORD PTR _num_points$[ebp]
  0010b	83 e8 01	 sub	 eax, 1
  0010e	c1 e0 06	 shl	 eax, 6
  00111	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?polygon_3d_vertices@@3PAUVERTEX@@A[eax+40], 0

; 178  : 
; 179  : 	return ( polygon_3d_vertices );

  0011b	b8 00 00 00 00	 mov	 eax, OFFSET ?polygon_3d_vertices@@3PAUVERTEX@@A ; polygon_3d_vertices

; 180  : }

  00120	5f		 pop	 edi
  00121	5e		 pop	 esi
  00122	5b		 pop	 ebx
  00123	8b e5		 mov	 esp, ebp
  00125	5d		 pop	 ebp
  00126	c2 08 00	 ret	 8
?construct_3d_surface_polygon@@YGPAUVERTEX@@HH@Z ENDP	; construct_3d_surface_polygon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?outcode_3d_object_surface_polygon@@YGHHHPAH@Z
_TEXT	SEGMENT
_outcode_list$ = -12					; size = 4
_outcode2$ = -6						; size = 1
_outcode$ = -5						; size = 1
_count$ = -4						; size = 4
_num_points$ = 8					; size = 4
_base_point$ = 12					; size = 4
_polygon_outcode$ = 16					; size = 4
?outcode_3d_object_surface_polygon@@YGHHHPAH@Z PROC	; outcode_3d_object_surface_polygon, COMDAT

; 120  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 121  : 
; 122  : 	int
; 123  : 		count;
; 124  : 
; 125  : 	unsigned char
; 126  : 		outcode,
; 127  : 		outcode2,
; 128  : 		*outcode_list;
; 129  : 
; 130  : 	outcode_list = transformed_3d_point_outcodes + base_point;

  00009	8b 45 0c	 mov	 eax, DWORD PTR _base_point$[ebp]
  0000c	05 00 00 00 00	 add	 eax, OFFSET ?transformed_3d_point_outcodes@@3PAEA ; transformed_3d_point_outcodes
  00011	89 45 f4	 mov	 DWORD PTR _outcode_list$[ebp], eax

; 131  : 
; 132  : 	outcode = outcode_list[ current_object_3d_surface_point_list[ current_object_3d_point_list[0].point ].point];

  00014	b8 01 00 00 00	 mov	 eax, 1
  00019	6b c8 00	 imul	 ecx, eax, 0
  0001c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00022	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00026	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  0002c	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00030	8b 45 f4	 mov	 eax, DWORD PTR _outcode_list$[ebp]
  00033	8a 0c 10	 mov	 cl, BYTE PTR [eax+edx]
  00036	88 4d fb	 mov	 BYTE PTR _outcode$[ebp], cl

; 133  : 	outcode2 = outcode_list[ current_object_3d_surface_point_list[ current_object_3d_point_list[0].point ].point];

  00039	b8 01 00 00 00	 mov	 eax, 1
  0003e	6b c8 00	 imul	 ecx, eax, 0
  00041	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  00047	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0004b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00051	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00055	8b 45 f4	 mov	 eax, DWORD PTR _outcode_list$[ebp]
  00058	8a 0c 10	 mov	 cl, BYTE PTR [eax+edx]
  0005b	88 4d fa	 mov	 BYTE PTR _outcode2$[ebp], cl

; 134  : 
; 135  : 	for ( count = 1; count < num_points; count++ )

  0005e	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _count$[ebp], 1
  00065	eb 09		 jmp	 SHORT $LN4@outcode_3d
$LN2@outcode_3d:
  00067	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  0006a	83 c0 01	 add	 eax, 1
  0006d	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@outcode_3d:
  00070	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00073	3b 45 08	 cmp	 eax, DWORD PTR _num_points$[ebp]
  00076	7d 4c		 jge	 SHORT $LN3@outcode_3d

; 136  : 	{
; 137  : 
; 138  : 		outcode |= outcode_list[ current_object_3d_surface_point_list[ current_object_3d_point_list[count].point ].point];

  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  0007d	03 45 fc	 add	 eax, DWORD PTR _count$[ebp]
  00080	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00083	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  00089	0f b7 04 4a	 movzx	 eax, WORD PTR [edx+ecx*2]
  0008d	8b 4d f4	 mov	 ecx, DWORD PTR _outcode_list$[ebp]
  00090	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  00094	0f b6 45 fb	 movzx	 eax, BYTE PTR _outcode$[ebp]
  00098	0b c2		 or	 eax, edx
  0009a	88 45 fb	 mov	 BYTE PTR _outcode$[ebp], al

; 139  : 		outcode2 &= outcode_list[ current_object_3d_surface_point_list[ current_object_3d_point_list[count].point ].point];

  0009d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_object_3d_point_list@@3PAUPOINT_3D_SHORT_REFERENCE@@A ; current_object_3d_point_list
  000a2	03 45 fc	 add	 eax, DWORD PTR _count$[ebp]
  000a5	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  000a8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_object_3d_surface_point_list@@3PAUPOINT_3D_PLAIN_REFERENCE@@A ; current_object_3d_surface_point_list
  000ae	0f b7 04 4a	 movzx	 eax, WORD PTR [edx+ecx*2]
  000b2	8b 4d f4	 mov	 ecx, DWORD PTR _outcode_list$[ebp]
  000b5	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  000b9	0f b6 45 fa	 movzx	 eax, BYTE PTR _outcode2$[ebp]
  000bd	23 c2		 and	 eax, edx
  000bf	88 45 fa	 mov	 BYTE PTR _outcode2$[ebp], al

; 140  : 	}

  000c2	eb a3		 jmp	 SHORT $LN2@outcode_3d
$LN3@outcode_3d:

; 141  : 
; 142  : 	*polygon_outcode = outcode;

  000c4	0f b6 45 fb	 movzx	 eax, BYTE PTR _outcode$[ebp]
  000c8	8b 4d 10	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  000cb	89 01		 mov	 DWORD PTR [ecx], eax

; 143  : 
; 144  : 	return ( outcode2 );

  000cd	0f b6 45 fa	 movzx	 eax, BYTE PTR _outcode2$[ebp]

; 145  : }

  000d1	5f		 pop	 edi
  000d2	5e		 pop	 esi
  000d3	5b		 pop	 ebx
  000d4	8b e5		 mov	 esp, ebp
  000d6	5d		 pop	 ebp
  000d7	c2 0c 00	 ret	 12			; 0000000cH
?outcode_3d_object_surface_polygon@@YGHHHPAH@Z ENDP	; outcode_3d_object_surface_polygon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\3d\3dscon.c
;	COMDAT ?outcode_3d_object_polygon@@YGHHPAUPOINT_3D_SHORT_REFERENCE@@HPAH@Z
_TEXT	SEGMENT
_outcode_list$ = -12					; size = 4
_outcode2$ = -6						; size = 1
_outcode$ = -5						; size = 1
_count$ = -4						; size = 4
_num_points$ = 8					; size = 4
_points$ = 12						; size = 4
_base_point$ = 16					; size = 4
_polygon_outcode$ = 20					; size = 4
?outcode_3d_object_polygon@@YGHHPAUPOINT_3D_SHORT_REFERENCE@@HPAH@Z PROC ; outcode_3d_object_polygon, COMDAT

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 88   : 
; 89   : 	int
; 90   : 		count;
; 91   : 
; 92   : 	unsigned char
; 93   : 		outcode,
; 94   : 		outcode2,
; 95   : 		*outcode_list;
; 96   : 
; 97   : 	outcode_list = transformed_3d_point_outcodes + base_point;

  00009	8b 45 10	 mov	 eax, DWORD PTR _base_point$[ebp]
  0000c	05 00 00 00 00	 add	 eax, OFFSET ?transformed_3d_point_outcodes@@3PAEA ; transformed_3d_point_outcodes
  00011	89 45 f4	 mov	 DWORD PTR _outcode_list$[ebp], eax

; 98   : 
; 99   : 	outcode = outcode_list[ points[0].point ];

  00014	b8 01 00 00 00	 mov	 eax, 1
  00019	6b c8 00	 imul	 ecx, eax, 0
  0001c	8b 55 0c	 mov	 edx, DWORD PTR _points$[ebp]
  0001f	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00023	8b 4d f4	 mov	 ecx, DWORD PTR _outcode_list$[ebp]
  00026	8a 14 01	 mov	 dl, BYTE PTR [ecx+eax]
  00029	88 55 fb	 mov	 BYTE PTR _outcode$[ebp], dl

; 100  : 	outcode2 = outcode_list[ points[0].point ];

  0002c	b8 01 00 00 00	 mov	 eax, 1
  00031	6b c8 00	 imul	 ecx, eax, 0
  00034	8b 55 0c	 mov	 edx, DWORD PTR _points$[ebp]
  00037	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0003b	8b 4d f4	 mov	 ecx, DWORD PTR _outcode_list$[ebp]
  0003e	8a 14 01	 mov	 dl, BYTE PTR [ecx+eax]
  00041	88 55 fa	 mov	 BYTE PTR _outcode2$[ebp], dl

; 101  : 
; 102  : 	for ( count = 1; count < num_points; count++ )

  00044	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _count$[ebp], 1
  0004b	eb 09		 jmp	 SHORT $LN4@outcode_3d
$LN2@outcode_3d:
  0004d	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00050	83 c0 01	 add	 eax, 1
  00053	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
$LN4@outcode_3d:
  00056	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00059	3b 45 08	 cmp	 eax, DWORD PTR _num_points$[ebp]
  0005c	7d 34		 jge	 SHORT $LN3@outcode_3d

; 103  : 	{
; 104  : 
; 105  : 		outcode |= outcode_list[points[count].point];

  0005e	8b 45 0c	 mov	 eax, DWORD PTR _points$[ebp]
  00061	03 45 fc	 add	 eax, DWORD PTR _count$[ebp]
  00064	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00067	8b 55 f4	 mov	 edx, DWORD PTR _outcode_list$[ebp]
  0006a	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0006e	0f b6 4d fb	 movzx	 ecx, BYTE PTR _outcode$[ebp]
  00072	0b c8		 or	 ecx, eax
  00074	88 4d fb	 mov	 BYTE PTR _outcode$[ebp], cl

; 106  : 		outcode2 &= outcode_list[points[count].point];

  00077	8b 45 0c	 mov	 eax, DWORD PTR _points$[ebp]
  0007a	03 45 fc	 add	 eax, DWORD PTR _count$[ebp]
  0007d	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00080	8b 55 f4	 mov	 edx, DWORD PTR _outcode_list$[ebp]
  00083	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00087	0f b6 4d fa	 movzx	 ecx, BYTE PTR _outcode2$[ebp]
  0008b	23 c8		 and	 ecx, eax
  0008d	88 4d fa	 mov	 BYTE PTR _outcode2$[ebp], cl

; 107  : 	}

  00090	eb bb		 jmp	 SHORT $LN2@outcode_3d
$LN3@outcode_3d:

; 108  : 
; 109  : 	*polygon_outcode = outcode;

  00092	0f b6 45 fb	 movzx	 eax, BYTE PTR _outcode$[ebp]
  00096	8b 4d 14	 mov	 ecx, DWORD PTR _polygon_outcode$[ebp]
  00099	89 01		 mov	 DWORD PTR [ecx], eax

; 110  : 
; 111  : 	return ( outcode2 );

  0009b	0f b6 45 fa	 movzx	 eax, BYTE PTR _outcode2$[ebp]

; 112  : }

  0009f	5f		 pop	 edi
  000a0	5e		 pop	 esi
  000a1	5b		 pop	 ebx
  000a2	8b e5		 mov	 esp, ebp
  000a4	5d		 pop	 ebp
  000a5	c2 10 00	 ret	 16			; 00000010H
?outcode_3d_object_polygon@@YGHHPAUPOINT_3D_SHORT_REFERENCE@@HPAH@Z ENDP ; outcode_3d_object_polygon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\modules\system\fpu.h
;	COMDAT ?asm_convert_float_to_int@@YGXMPAH@Z
_TEXT	SEGMENT
_value$ = 8						; size = 4
_integer$ = 12						; size = 4
?asm_convert_float_to_int@@YGXMPAH@Z PROC		; asm_convert_float_to_int, COMDAT

; 130  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 131  : 
; 132  : 	__asm
; 133  : 	{
; 134  : 
; 135  : 		fld value

  00009	d9 45 08	 fld	 DWORD PTR _value$[ebp]

; 136  : 		mov edx, integer

  0000c	8b 55 0c	 mov	 edx, DWORD PTR _integer$[ebp]

; 137  : 		fistp dword ptr [edx]

  0000f	db 1a		 fistp	 DWORD PTR [edx]

; 138  : 	}
; 139  : }

  00011	5f		 pop	 edi
  00012	5e		 pop	 esi
  00013	5b		 pop	 ebx
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c2 08 00	 ret	 8
?asm_convert_float_to_int@@YGXMPAH@Z ENDP		; asm_convert_float_to_int
_TEXT	ENDS
END
