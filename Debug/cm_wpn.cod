; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\entity\special\camera\cm_wpn.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ ; get_external_view_entity_viewable_weapon
PUBLIC	?get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU1@@Z ; get_local_entity_viewable_weapon
PUBLIC	?weapon_camera_valid@@YGHPAUCAMERA@@@Z		; weapon_camera_valid
PUBLIC	?reset_weapon_camera@@YGXPAUCAMERA@@@Z		; reset_weapon_camera
PUBLIC	?update_weapon_camera@@YGXPAUCAMERA@@@Z		; update_weapon_camera
PUBLIC	??$max@M@std@@YGABMABM0@Z			; std::max<float>
PUBLIC	??_C@_02DKCKIIND@?$CFs@				; `string'
PUBLIC	?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA ; `get_external_view_entity_viewable_weapon'::`1'::__LINE__Var
PUBLIC	??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@	; `string'
PUBLIC	??_C@_0BK@NIGJPCBN@raw?9?$DOexternal_view_entity@ ; `string'
PUBLIC	?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA ; `get_local_entity_viewable_weapon'::`1'::__LINE__Var
PUBLIC	??_C@_0M@CNKCDEHL@this_entity@			; `string'
PUBLIC	?__LINE__Var@?0??weapon_camera_valid@@YGHPAUCAMERA@@@Z@4JA ; `weapon_camera_valid'::`1'::__LINE__Var
PUBLIC	??_C@_03DGOGAGNC@raw@				; `string'
PUBLIC	?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA ; `reset_weapon_camera'::`1'::__LINE__Var
PUBLIC	??_C@_0CC@NPNCAKKE@raw?9?$DOview_weapon_root?4first_chi@ ; `string'
PUBLIC	?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA ; `update_weapon_camera'::`1'::__LINE__Var
PUBLIC	??_C@_0BD@FEEMDEPI@invalid?5comparator@		; `string'
PUBLIC	??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ ; `string'
PUBLIC	??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ ; `string'
PUBLIC	??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ ; `string'
PUBLIC	??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ ; `string'
PUBLIC	__real@3dcccccd
PUBLIC	__real@3f50624dd2f1a9fc
PUBLIC	__real@3f8ccccd
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@4014000000000000
PUBLIC	__real@4024000000000000
PUBLIC	__real@4049000000000000
PUBLIC	__real@4059000000000000
PUBLIC	__real@406f400000000000
EXTRN	__imp___invalid_parameter:PROC
EXTRN	__imp___CrtDbgReport:PROC
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z:PROC	; get_3d_vector_magnitude
EXTRN	?normalise_3d_vector_given_magnitude@@YGXPAUVEC3D@@M@Z:PROC ; normalise_3d_vector_given_magnitude
EXTRN	?get_matrix3x3_from_unit_vec3d@@YGXQAY02MPBUVEC3D@@@Z:PROC ; get_matrix3x3_from_unit_vec3d
EXTRN	?get_3d_range@@YGMPBUVEC3D@@0@Z:PROC		; get_3d_range
EXTRN	?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z:PROC ; get_3d_terrain_point_data
EXTRN	?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ:PROC ; notify_local_entity
EXTRN	?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z:PROC ; get_local_entity_target_point
EXTRN	?adjust_camera_zoom@@YGXPAUCAMERA@@@Z:PROC	; adjust_camera_zoom
EXTRN	?reset_offset@@YGXPAUCAMERA@@@Z:PROC		; reset_offset
EXTRN	?add_turbulence@@YGXPAUCAMERA@@PAUVEC3D@@@Z:PROC ; add_turbulence
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?world_map@@3UWORLD_MAP_DATA@@A:BYTE		; world_map
EXTRN	?overload_invalid_list_type_message@@3PBDB:DWORD ; overload_invalid_list_type_message
EXTRN	?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_first_child
EXTRN	?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_parent
EXTRN	?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA:BYTE ; fn_get_local_entity_child_succ
EXTRN	?overload_invalid_float_type_message@@3PBDB:DWORD ; overload_invalid_float_type_message
EXTRN	?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA:BYTE ; fn_get_local_entity_float_value
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?overload_invalid_vec3d_type_message@@3PBDB:DWORD ; overload_invalid_vec3d_type_message
EXTRN	?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA:BYTE ; fn_get_local_entity_vec3d
EXTRN	?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA:BYTE ; fn_get_local_entity_vec3d_ptr
EXTRN	?camera_entity@@3PAUENTITY@@A:DWORD		; camera_entity
EXTRN	__fltused:DWORD
;	COMDAT __real@406f400000000000
CONST	SEGMENT
__real@406f400000000000 DQ 0406f400000000000r	; 250
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT __real@4049000000000000
CONST	SEGMENT
__real@4049000000000000 DQ 04049000000000000r	; 50
CONST	ENDS
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3f8ccccd
CONST	SEGMENT
__real@3f8ccccd DD 03f8ccccdr			; 1.1
CONST	ENDS
;	COMDAT __real@3f50624dd2f1a9fc
CONST	SEGMENT
__real@3f50624dd2f1a9fc DQ 03f50624dd2f1a9fcr	; 0.001
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
CONST	SEGMENT
??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@ DB '"'
	DB	00H, 'i', 00H, 'n', 00H, 'v', 00H, 'a', 00H, 'l', 00H, 'i', 00H
	DB	'd', 00H, ' ', 00H, 'c', 00H, 'o', 00H, 'm', 00H, 'p', 00H, 'a'
	DB	00H, 'r', 00H, 'a', 00H, 't', 00H, 'o', 00H, 'r', 00H, '"', 00H
	DB	00H, 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
CONST	SEGMENT
??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@ DB 's', 00H
	DB	't', 00H, 'd', 00H, ':', 00H, ':', 00H, 'm', 00H, 'a', 00H, 'x'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
CONST	SEGMENT
??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@ DB 'c'
	DB	00H, ':', 00H, '\', 00H, 'p', 00H, 'r', 00H, 'o', 00H, 'g', 00H
	DB	'r', 00H, 'a', 00H, 'm', 00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l'
	DB	00H, 'e', 00H, 's', 00H, ' ', 00H, '(', 00H, 'x', 00H, '8', 00H
	DB	'6', 00H, ')', 00H, '\', 00H, 'm', 00H, 'i', 00H, 'c', 00H, 'r'
	DB	00H, 'o', 00H, 's', 00H, 'o', 00H, 'f', 00H, 't', 00H, ' ', 00H
	DB	'v', 00H, 'i', 00H, 's', 00H, 'u', 00H, 'a', 00H, 'l', 00H, ' '
	DB	00H, 's', 00H, 't', 00H, 'u', 00H, 'd', 00H, 'i', 00H, 'o', 00H
	DB	'\', 00H, '2', 00H, '0', 00H, '1', 00H, '7', 00H, '\', 00H, 'c'
	DB	00H, 'o', 00H, 'm', 00H, 'm', 00H, 'u', 00H, 'n', 00H, 'i', 00H
	DB	't', 00H, 'y', 00H, '\', 00H, 'v', 00H, 'c', 00H, '\', 00H, 't'
	DB	00H, 'o', 00H, 'o', 00H, 'l', 00H, 's', 00H, '\', 00H, 'm', 00H
	DB	's', 00H, 'v', 00H, 'c', 00H, '\', 00H, '1', 00H, '4', 00H, '.'
	DB	00H, '1', 00H, '6', 00H, '.', 00H, '2', 00H, '7', 00H, '0', 00H
	DB	'2', 00H, '3', 00H, '\', 00H, 'i', 00H, 'n', 00H, 'c', 00H, 'l'
	DB	00H, 'u', 00H, 'd', 00H, 'e', 00H, '\', 00H, 'a', 00H, 'l', 00H
	DB	'g', 00H, 'o', 00H, 'r', 00H, 'i', 00H, 't', 00H, 'h', 00H, 'm'
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
CONST	SEGMENT
??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@ DB 'c:\pro'
	DB	'gram files (x86)\microsoft visual studio\2017\community\vc\to'
	DB	'ols\msvc\14.16.27023\include\algorithm', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FEEMDEPI@invalid?5comparator@
CONST	SEGMENT
??_C@_0BD@FEEMDEPI@invalid?5comparator@ DB 'invalid comparator', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA DD 0b5H ; `update_weapon_camera'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CC@NPNCAKKE@raw?9?$DOview_weapon_root?4first_chi@
CONST	SEGMENT
??_C@_0CC@NPNCAKKE@raw?9?$DOview_weapon_root?4first_chi@ DB 'raw->view_we'
	DB	'apon_root.first_child', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA DD 09bH ; `reset_weapon_camera'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_03DGOGAGNC@raw@
CONST	SEGMENT
??_C@_03DGOGAGNC@raw@ DB 'raw', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??weapon_camera_valid@@YGHPAUCAMERA@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??weapon_camera_valid@@YGHPAUCAMERA@@@Z@4JA DD 08bH ; `weapon_camera_valid'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0M@CNKCDEHL@this_entity@
CONST	SEGMENT
??_C@_0M@CNKCDEHL@this_entity@ DB 'this_entity', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA DD 071H ; `get_local_entity_viewable_weapon'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BK@NIGJPCBN@raw?9?$DOexternal_view_entity@
CONST	SEGMENT
??_C@_0BK@NIGJPCBN@raw?9?$DOexternal_view_entity@ DB 'raw->external_view_'
	DB	'entity', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@
CONST	SEGMENT
??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@ DB 'get_camera_entity ()', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\entity\special\camera\cm_wpn'
	DB	'.c', 00H					; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA DD 050H ; `get_external_view_entity_viewable_weapon'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs@ DB '%s', 00H			; `string'
CONST	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\algorithm
;	COMDAT ??$max@M@std@@YGABMABM0@Z
_TEXT	SEGMENT
__Left$ = 8						; size = 4
__Right$ = 12						; size = 4
??$max@M@std@@YGABMABM0@Z PROC				; std::max<float>, COMDAT

; 5387 : 	{	// return larger of _Left and _Right

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 5388 : 	if (_Left < _Right)

  00009	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0000c	8b 4d 08	 mov	 ecx, DWORD PTR __Left$[ebp]
  0000f	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00013	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00016	76 64		 jbe	 SHORT $LN8@max
$LN4@max:

; 5389 : 		{
; 5390 : 		_STL_ASSERT(!(_Right < _Left), "invalid comparator");

  00018	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
  0001b	8b 4d 0c	 mov	 ecx, DWORD PTR __Right$[ebp]
  0001e	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00022	0f 2f 01	 comiss	 xmm0, DWORD PTR [ecx]
  00025	77 02		 ja	 SHORT $LN9@max
  00027	eb 4a		 jmp	 SHORT $LN6@max
$LN9@max:
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@FEEMDEPI@invalid?5comparator@
  0002e	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs@
  00033	6a 00		 push	 0
  00035	68 0e 15 00 00	 push	 5390			; 0000150eH
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0GK@JMBMHIBC@c?3?2program?5files?5?$CIx86?$CJ?2microsof@
  0003f	6a 02		 push	 2
  00041	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00047	83 c4 18	 add	 esp, 24			; 00000018H
  0004a	83 f8 01	 cmp	 eax, 1
  0004d	75 01		 jne	 SHORT $LN12@max
  0004f	cc		 int	 3
$LN12@max:
  00050	6a 00		 push	 0
  00052	68 0e 15 00 00	 push	 5390			; 0000150eH
  00057	68 00 00 00 00	 push	 OFFSET ??_C@_1NE@FKBPBJEB@?$AAc?$AA?3?$AA?2?$AAp?$AAr?$AAo?$AAg?$AAr?$AAa?$AAm?$AA?5?$AAf?$AAi?$AAl?$AAe@
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_1BC@ICCOKLEG@?$AAs?$AAt?$AAd?$AA?3?$AA?3?$AAm?$AAa?$AAx@
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_1CK@NDNHPKPI@?$AA?$CC?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAa?$AAr@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter
  0006c	83 c4 14	 add	 esp, 20			; 00000014H
  0006f	33 c0		 xor	 eax, eax
  00071	75 b6		 jne	 SHORT $LN9@max
$LN6@max:
  00073	33 c0		 xor	 eax, eax
  00075	75 a1		 jne	 SHORT $LN4@max

; 5391 : 		return (_Right);

  00077	8b 45 0c	 mov	 eax, DWORD PTR __Right$[ebp]
  0007a	eb 03		 jmp	 SHORT $LN1@max
$LN8@max:

; 5392 : 		}
; 5393 : 
; 5394 : 	return (_Left);

  0007c	8b 45 08	 mov	 eax, DWORD PTR __Left$[ebp]
$LN1@max:

; 5395 : 	}

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
??$max@M@std@@YGABMABM0@Z ENDP				; std::max<float>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\camera\cm_wpn.c
;	COMDAT ?update_weapon_camera@@YGXPAUCAMERA@@@Z
_TEXT	SEGMENT
tv746 = -132						; size = 8
tv479 = -132						; size = 4
tv450 = -132						; size = 4
tv431 = -132						; size = 4
tv410 = -132						; size = 4
tv390 = -132						; size = 4
tv369 = -132						; size = 4
tv231 = -132						; size = 4
tv206 = -132						; size = 4
tv186 = -132						; size = 4
tv145 = -132						; size = 4
tv92 = -132						; size = 4
tv681 = -128						; size = 4
tv471 = -128						; size = 4
tv443 = -128						; size = 4
tv423 = -128						; size = 4
tv403 = -128						; size = 4
tv382 = -128						; size = 4
tv361 = -128						; size = 4
tv223 = -128						; size = 4
tv198 = -128						; size = 4
tv178 = -128						; size = 4
tv137 = -128						; size = 4
tv84 = -128						; size = 4
$T1 = -124						; size = 4
$T2 = -120						; size = 4
$T3 = -116						; size = 4
_spoofed$ = -48						; size = 4
_length$ = -44						; size = 4
_lifetime_zoom_factor$ = -40				; size = 4
_direction$ = -36					; size = 12
_target_position$ = -24					; size = 12
_weapon_position$ = -12					; size = 4
_target$ = -8						; size = 4
_weapon$ = -4						; size = 4
_raw$ = 8						; size = 4
?update_weapon_camera@@YGXPAUCAMERA@@@Z PROC		; update_weapon_camera, COMDAT

; 181  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 182  : 	entity
; 183  : 		*weapon,
; 184  : 		*target;
; 185  : 
; 186  : 	vec3d
; 187  : 		*weapon_position,
; 188  : 		target_position,
; 189  : 		direction;
; 190  : 
; 191  : 	float
; 192  : 		lifetime_zoom_factor,
; 193  : 		length;
; 194  : 
; 195  : 	int
; 196  : 		spoofed;
; 197  : 
; 198  : 	ASSERT (raw);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _raw$[ebp], 0
  00010	75 18		 jne	 SHORT $LN2@update_wea
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00017	83 c0 11	 add	 eax, 17			; 00000011H
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_03DGOGAGNC@raw@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@update_wea:

; 199  : 
; 200  : 	ASSERT (raw->view_weapon_root.first_child);

  0002a	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0002d	83 b8 20 01 00
	00 00		 cmp	 DWORD PTR [eax+288], 0
  00034	75 18		 jne	 SHORT $LN3@update_wea
  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  0003b	83 c0 13	 add	 eax, 19			; 00000013H
  0003e	50		 push	 eax
  0003f	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@NPNCAKKE@raw?9?$DOview_weapon_root?4first_chi@
  00049	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@update_wea:

; 201  : 
; 202  : 	weapon = raw->view_weapon_root.first_child;

  0004e	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  00051	8b 88 20 01 00
	00		 mov	 ecx, DWORD PTR [eax+288]
  00057	89 4d fc	 mov	 DWORD PTR _weapon$[ebp], ecx

; 203  : 
; 204  : 	target = get_local_entity_parent (weapon, LIST_TYPE_TARGET);

  0005a	83 7d fc 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  0005e	74 0a		 je	 SHORT $LN18@update_wea
  00060	8b 45 fc	 mov	 eax, DWORD PTR _weapon$[ebp]
  00063	8b 08		 mov	 ecx, DWORD PTR [eax]
  00065	89 4d 80	 mov	 DWORD PTR tv84[ebp], ecx
  00068	eb 21		 jmp	 SHORT $LN19@update_wea
$LN18@update_wea:
  0006a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00070	83 c2 17	 add	 edx, 23			; 00000017H
  00073	52		 push	 edx
  00074	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00084	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN19@update_wea:
  0008b	b9 01 00 00 00	 mov	 ecx, 1
  00090	85 c9		 test	 ecx, ecx
  00092	74 0c		 je	 SHORT $LN20@update_wea
  00094	c7 85 7c ff ff
	ff 26 00 00 00	 mov	 DWORD PTR tv92[ebp], 38	; 00000026H
  0009e	eb 24		 jmp	 SHORT $LN21@update_wea
$LN20@update_wea:
  000a0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  000a6	83 c2 17	 add	 edx, 23			; 00000017H
  000a9	52		 push	 edx
  000aa	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  000b4	50		 push	 eax
  000b5	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ba	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv92[ebp], 0
$LN21@update_wea:
  000c4	6a 26		 push	 38			; 00000026H
  000c6	8b 4d fc	 mov	 ecx, DWORD PTR _weapon$[ebp]
  000c9	51		 push	 ecx
  000ca	69 55 80 b4 00
	00 00		 imul	 edx, DWORD PTR tv84[ebp], 180
  000d1	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv92[ebp]
  000d7	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000de	ff d1		 call	 ecx
  000e0	89 45 f8	 mov	 DWORD PTR _target$[ebp], eax

; 205  : 
; 206  : 	////////////////////////////////////////
; 207  : 	//
; 208  : 	// update weapon camera
; 209  : 	//
; 210  : 	////////////////////////////////////////
; 211  : 
; 212  : 	adjust_camera_zoom(raw);

  000e3	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?adjust_camera_zoom@@YGXPAUCAMERA@@@Z ; adjust_camera_zoom

; 213  : 	
; 214  : 	//
; 215  : 	// camera position and attitude
; 216  : 	//
; 217  : 
; 218  : 	weapon_position = get_local_entity_vec3d_ptr (weapon, VEC3D_TYPE_POSITION);

  000ec	83 7d fc 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  000f0	74 0a		 je	 SHORT $LN22@update_wea
  000f2	8b 45 fc	 mov	 eax, DWORD PTR _weapon$[ebp]
  000f5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f7	89 4d 80	 mov	 DWORD PTR tv137[ebp], ecx
  000fa	eb 21		 jmp	 SHORT $LN23@update_wea
$LN22@update_wea:
  000fc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00102	83 c2 25	 add	 edx, 37			; 00000025H
  00105	52		 push	 edx
  00106	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0010b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00110	50		 push	 eax
  00111	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00116	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv137[ebp], 0
$LN23@update_wea:
  0011d	b9 01 00 00 00	 mov	 ecx, 1
  00122	85 c9		 test	 ecx, ecx
  00124	74 0c		 je	 SHORT $LN24@update_wea
  00126	c7 85 7c ff ff
	ff 08 00 00 00	 mov	 DWORD PTR tv145[ebp], 8
  00130	eb 24		 jmp	 SHORT $LN25@update_wea
$LN24@update_wea:
  00132	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00138	83 c2 25	 add	 edx, 37			; 00000025H
  0013b	52		 push	 edx
  0013c	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00141	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00146	50		 push	 eax
  00147	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0014c	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv145[ebp], 0
$LN25@update_wea:
  00156	6a 08		 push	 8
  00158	8b 4d fc	 mov	 ecx, DWORD PTR _weapon$[ebp]
  0015b	51		 push	 ecx
  0015c	6b 55 80 60	 imul	 edx, DWORD PTR tv137[ebp], 96
  00160	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv145[ebp]
  00166	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_vec3d_ptr@@3PAY0BI@P6GPAUVEC3D@@PAUENTITY@@W4VEC3D_TYPES@@@ZA[edx+eax*4]
  0016d	ff d1		 call	 ecx
  0016f	89 45 f4	 mov	 DWORD PTR _weapon_position$[ebp], eax

; 219  : 
; 220  : 	if (target)

  00172	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  00176	0f 84 2e 01 00
	00		 je	 $LN4@update_wea

; 221  : 	{
; 222  : 		get_local_entity_target_point (target, &target_position);

  0017c	8d 45 e8	 lea	 eax, DWORD PTR _target_position$[ebp]
  0017f	50		 push	 eax
  00180	8b 4d f8	 mov	 ecx, DWORD PTR _target$[ebp]
  00183	51		 push	 ecx
  00184	e8 00 00 00 00	 call	 ?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z ; get_local_entity_target_point

; 223  : 
; 224  : 		direction.x = target_position.x - weapon_position->x;

  00189	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  0018c	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _target_position$[ebp]
  00191	f3 0f 5c 00	 subss	 xmm0, DWORD PTR [eax]
  00195	f3 0f 11 45 dc	 movss	 DWORD PTR _direction$[ebp], xmm0

; 225  : 		direction.y = target_position.y - weapon_position->y;

  0019a	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  0019d	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _target_position$[ebp+4]
  001a2	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  001a7	f3 0f 11 45 e0	 movss	 DWORD PTR _direction$[ebp+4], xmm0

; 226  : 		direction.z = target_position.z - weapon_position->z;

  001ac	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  001af	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _target_position$[ebp+8]
  001b4	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  001b9	f3 0f 11 45 e4	 movss	 DWORD PTR _direction$[ebp+8], xmm0

; 227  : 
; 228  : 		length = get_3d_vector_magnitude (&direction);

  001be	8d 45 dc	 lea	 eax, DWORD PTR _direction$[ebp]
  001c1	50		 push	 eax
  001c2	e8 00 00 00 00	 call	 ?get_3d_vector_magnitude@@YGMPBUVEC3D@@@Z ; get_3d_vector_magnitude
  001c7	d9 5d d4	 fstp	 DWORD PTR _length$[ebp]

; 229  : 
; 230  : 		if (length > 0.001)

  001ca	f3 0f 5a 45 d4	 cvtss2sd xmm0, DWORD PTR _length$[ebp]
  001cf	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3f50624dd2f1a9fc
  001d7	76 45		 jbe	 SHORT $LN6@update_wea

; 231  : 		{
; 232  : 			if (length < 50.0)

  001d9	f3 0f 5a 45 d4	 cvtss2sd xmm0, DWORD PTR _length$[ebp]
  001de	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4049000000000000
  001e6	66 0f 2f c8	 comisd	 xmm1, xmm0
  001ea	76 19		 jbe	 SHORT $LN8@update_wea

; 233  : 			{
; 234  : 				notify_local_entity (ENTITY_MESSAGE_SET_CAMERA_ACTION, get_camera_entity (), NULL, CAMERA_ACTION_FREE);

  001ec	6a 13		 push	 19			; 00000013H
  001ee	6a 00		 push	 0
  001f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  001f5	50		 push	 eax
  001f6	6a 2f		 push	 47			; 0000002fH
  001f8	e8 00 00 00 00	 call	 ?notify_local_entity@@YAHW4ENTITY_MESSAGES@@PAUENTITY@@1ZZ ; notify_local_entity
  001fd	83 c4 10	 add	 esp, 16			; 00000010H

; 235  : 				return;

  00200	e9 51 08 00 00	 jmp	 $LN1@update_wea
$LN8@update_wea:

; 236  : 			}
; 237  : 			
; 238  : 			normalise_3d_vector_given_magnitude (&direction, length);

  00205	51		 push	 ecx
  00206	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _length$[ebp]
  0020b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00210	8d 45 dc	 lea	 eax, DWORD PTR _direction$[ebp]
  00213	50		 push	 eax
  00214	e8 00 00 00 00	 call	 ?normalise_3d_vector_given_magnitude@@YGXPAUVEC3D@@M@Z ; normalise_3d_vector_given_magnitude

; 239  : 		}
; 240  : 		else

  00219	e9 87 00 00 00	 jmp	 $LN7@update_wea
$LN6@update_wea:

; 241  : 		{
; 242  : 			get_local_entity_vec3d (weapon, VEC3D_TYPE_ZV, &direction);

  0021e	83 7d fc 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  00222	74 0a		 je	 SHORT $LN26@update_wea
  00224	8b 45 fc	 mov	 eax, DWORD PTR _weapon$[ebp]
  00227	8b 08		 mov	 ecx, DWORD PTR [eax]
  00229	89 4d 80	 mov	 DWORD PTR tv178[ebp], ecx
  0022c	eb 21		 jmp	 SHORT $LN27@update_wea
$LN26@update_wea:
  0022e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00234	83 c2 3d	 add	 edx, 61			; 0000003dH
  00237	52		 push	 edx
  00238	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0023d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00242	50		 push	 eax
  00243	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00248	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv178[ebp], 0
$LN27@update_wea:
  0024f	b9 01 00 00 00	 mov	 ecx, 1
  00254	85 c9		 test	 ecx, ecx
  00256	74 0c		 je	 SHORT $LN28@update_wea
  00258	c7 85 7c ff ff
	ff 16 00 00 00	 mov	 DWORD PTR tv186[ebp], 22 ; 00000016H
  00262	eb 24		 jmp	 SHORT $LN29@update_wea
$LN28@update_wea:
  00264	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  0026a	83 c2 3d	 add	 edx, 61			; 0000003dH
  0026d	52		 push	 edx
  0026e	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00273	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00278	50		 push	 eax
  00279	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0027e	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv186[ebp], 0
$LN29@update_wea:
  00288	8d 4d dc	 lea	 ecx, DWORD PTR _direction$[ebp]
  0028b	51		 push	 ecx
  0028c	6a 16		 push	 22			; 00000016H
  0028e	8b 55 fc	 mov	 edx, DWORD PTR _weapon$[ebp]
  00291	52		 push	 edx
  00292	6b 45 80 60	 imul	 eax, DWORD PTR tv178[ebp], 96
  00296	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv186[ebp]
  0029c	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  002a3	ff d2		 call	 edx
$LN7@update_wea:

; 243  : 		}
; 244  : 	}
; 245  : 	else

  002a5	e9 87 00 00 00	 jmp	 $LN5@update_wea
$LN4@update_wea:

; 246  : 	{
; 247  : 		get_local_entity_vec3d (weapon, VEC3D_TYPE_ZV, &direction);

  002aa	83 7d fc 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  002ae	74 0a		 je	 SHORT $LN30@update_wea
  002b0	8b 45 fc	 mov	 eax, DWORD PTR _weapon$[ebp]
  002b3	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b5	89 4d 80	 mov	 DWORD PTR tv198[ebp], ecx
  002b8	eb 21		 jmp	 SHORT $LN31@update_wea
$LN30@update_wea:
  002ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  002c0	83 c2 42	 add	 edx, 66			; 00000042H
  002c3	52		 push	 edx
  002c4	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  002c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  002ce	50		 push	 eax
  002cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  002d4	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$LN31@update_wea:
  002db	b9 01 00 00 00	 mov	 ecx, 1
  002e0	85 c9		 test	 ecx, ecx
  002e2	74 0c		 je	 SHORT $LN32@update_wea
  002e4	c7 85 7c ff ff
	ff 16 00 00 00	 mov	 DWORD PTR tv206[ebp], 22 ; 00000016H
  002ee	eb 24		 jmp	 SHORT $LN33@update_wea
$LN32@update_wea:
  002f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  002f6	83 c2 42	 add	 edx, 66			; 00000042H
  002f9	52		 push	 edx
  002fa	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  002ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00304	50		 push	 eax
  00305	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0030a	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv206[ebp], 0
$LN33@update_wea:
  00314	8d 4d dc	 lea	 ecx, DWORD PTR _direction$[ebp]
  00317	51		 push	 ecx
  00318	6a 16		 push	 22			; 00000016H
  0031a	8b 55 fc	 mov	 edx, DWORD PTR _weapon$[ebp]
  0031d	52		 push	 edx
  0031e	6b 45 80 60	 imul	 eax, DWORD PTR tv198[ebp], 96
  00322	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv206[ebp]
  00328	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  0032f	ff d2		 call	 edx
$LN5@update_wea:

; 248  : 	}
; 249  : 
; 250  : 	get_matrix3x3_from_unit_vec3d (raw->attitude, &direction);

  00331	8d 45 dc	 lea	 eax, DWORD PTR _direction$[ebp]
  00334	50		 push	 eax
  00335	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00338	83 c1 18	 add	 ecx, 24			; 00000018H
  0033b	51		 push	 ecx
  0033c	e8 00 00 00 00	 call	 ?get_matrix3x3_from_unit_vec3d@@YGXQAY02MPBUVEC3D@@@Z ; get_matrix3x3_from_unit_vec3d

; 251  : 
; 252  : 	lifetime_zoom_factor = 10.0 * max(get_local_entity_float_value(weapon, FLOAT_TYPE_WEAPON_LIFETIME), 0.0f);

  00341	0f 57 c0	 xorps	 xmm0, xmm0
  00344	f3 0f 11 45 8c	 movss	 DWORD PTR $T3[ebp], xmm0
  00349	83 7d fc 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  0034d	74 0a		 je	 SHORT $LN34@update_wea
  0034f	8b 45 fc	 mov	 eax, DWORD PTR _weapon$[ebp]
  00352	8b 08		 mov	 ecx, DWORD PTR [eax]
  00354	89 4d 80	 mov	 DWORD PTR tv223[ebp], ecx
  00357	eb 21		 jmp	 SHORT $LN35@update_wea
$LN34@update_wea:
  00359	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  0035f	83 c2 47	 add	 edx, 71			; 00000047H
  00362	52		 push	 edx
  00363	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00368	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0036d	50		 push	 eax
  0036e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00373	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv223[ebp], 0
$LN35@update_wea:
  0037a	b9 01 00 00 00	 mov	 ecx, 1
  0037f	85 c9		 test	 ecx, ecx
  00381	74 0c		 je	 SHORT $LN36@update_wea
  00383	c7 85 7c ff ff
	ff 97 00 00 00	 mov	 DWORD PTR tv231[ebp], 151 ; 00000097H
  0038d	eb 24		 jmp	 SHORT $LN37@update_wea
$LN36@update_wea:
  0038f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00395	83 c2 47	 add	 edx, 71			; 00000047H
  00398	52		 push	 edx
  00399	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0039e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_float_type_message@@3PBDB ; overload_invalid_float_type_message
  003a3	50		 push	 eax
  003a4	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  003a9	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv231[ebp], 0
$LN37@update_wea:
  003b3	68 97 00 00 00	 push	 151			; 00000097H
  003b8	8b 4d fc	 mov	 ecx, DWORD PTR _weapon$[ebp]
  003bb	51		 push	 ecx
  003bc	69 55 80 bc 02
	00 00		 imul	 edx, DWORD PTR tv223[ebp], 700
  003c3	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv231[ebp]
  003c9	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_float_value@@3PAY0KP@P6GMPAUENTITY@@W4FLOAT_TYPES@@@ZA[edx+eax*4]
  003d0	ff d1		 call	 ecx
  003d2	d9 5d 88	 fstp	 DWORD PTR $T2[ebp]
  003d5	8d 55 8c	 lea	 edx, DWORD PTR $T3[ebp]
  003d8	52		 push	 edx
  003d9	8d 45 88	 lea	 eax, DWORD PTR $T2[ebp]
  003dc	50		 push	 eax
  003dd	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  003e2	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  003e6	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4024000000000000
  003ee	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  003f2	f3 0f 11 45 d8	 movss	 DWORD PTR _lifetime_zoom_factor$[ebp], xmm0

; 253  : 
; 254  : 	raw->position.x = weapon_position->x - (raw->attitude[2][0] * (5.0 + 100.0 * raw->chase_camera_zoom + lifetime_zoom_factor)) + (raw->attitude[1][0] * 1.0);

  003f7	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  003fa	f3 0f 5a 00	 cvtss2sd xmm0, DWORD PTR [eax]
  003fe	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00403	d1 e1		 shl	 ecx, 1
  00405	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  00408	8d 44 0a 18	 lea	 eax, DWORD PTR [edx+ecx+24]
  0040c	b9 04 00 00 00	 mov	 ecx, 4
  00411	6b d1 00	 imul	 edx, ecx, 0
  00414	f3 0f 5a 0c 10	 cvtss2sd xmm1, DWORD PTR [eax+edx]
  00419	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0041c	f3 0f 5a 90 88
	00 00 00	 cvtss2sd xmm2, DWORD PTR [eax+136]
  00424	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
  0042c	f2 0f 58 15 00
	00 00 00	 addsd	 xmm2, QWORD PTR __real@4014000000000000
  00434	f3 0f 5a 5d d8	 cvtss2sd xmm3, DWORD PTR _lifetime_zoom_factor$[ebp]
  00439	f2 0f 58 d3	 addsd	 xmm2, xmm3
  0043d	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  00441	f2 0f 5c c1	 subsd	 xmm0, xmm1
  00445	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0044a	c1 e1 00	 shl	 ecx, 0
  0044d	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  00450	8d 44 0a 18	 lea	 eax, DWORD PTR [edx+ecx+24]
  00454	b9 04 00 00 00	 mov	 ecx, 4
  00459	6b d1 00	 imul	 edx, ecx, 0
  0045c	f3 0f 5a 0c 10	 cvtss2sd xmm1, DWORD PTR [eax+edx]
  00461	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ff0000000000000
  00469	f2 0f 58 c1	 addsd	 xmm0, xmm1
  0046d	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00471	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  00474	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 255  : 	raw->position.y = weapon_position->y - (raw->attitude[2][1] * (5.0 + 100.0 * raw->chase_camera_zoom + lifetime_zoom_factor)) + (raw->attitude[1][1] * 1.0);

  00478	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  0047b	f3 0f 5a 40 04	 cvtss2sd xmm0, DWORD PTR [eax+4]
  00480	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00485	d1 e1		 shl	 ecx, 1
  00487	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  0048a	8d 44 0a 18	 lea	 eax, DWORD PTR [edx+ecx+24]
  0048e	b9 04 00 00 00	 mov	 ecx, 4
  00493	c1 e1 00	 shl	 ecx, 0
  00496	f3 0f 5a 0c 08	 cvtss2sd xmm1, DWORD PTR [eax+ecx]
  0049b	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  0049e	f3 0f 5a 92 88
	00 00 00	 cvtss2sd xmm2, DWORD PTR [edx+136]
  004a6	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
  004ae	f2 0f 58 15 00
	00 00 00	 addsd	 xmm2, QWORD PTR __real@4014000000000000
  004b6	f3 0f 5a 5d d8	 cvtss2sd xmm3, DWORD PTR _lifetime_zoom_factor$[ebp]
  004bb	f2 0f 58 d3	 addsd	 xmm2, xmm3
  004bf	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  004c3	f2 0f 5c c1	 subsd	 xmm0, xmm1
  004c7	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  004cc	c1 e0 00	 shl	 eax, 0
  004cf	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  004d2	8d 54 01 18	 lea	 edx, DWORD PTR [ecx+eax+24]
  004d6	b8 04 00 00 00	 mov	 eax, 4
  004db	c1 e0 00	 shl	 eax, 0
  004de	f3 0f 5a 0c 02	 cvtss2sd xmm1, DWORD PTR [edx+eax]
  004e3	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ff0000000000000
  004eb	f2 0f 58 c1	 addsd	 xmm0, xmm1
  004ef	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  004f3	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  004f6	f3 0f 11 41 04	 movss	 DWORD PTR [ecx+4], xmm0

; 256  : 	raw->position.z = weapon_position->z - (raw->attitude[2][2] * (5.0 + 100.0 * raw->chase_camera_zoom + lifetime_zoom_factor)) + (raw->attitude[1][2] * 1.0);

  004fb	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  004fe	f3 0f 5a 40 08	 cvtss2sd xmm0, DWORD PTR [eax+8]
  00503	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  00508	d1 e1		 shl	 ecx, 1
  0050a	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  0050d	8d 44 0a 18	 lea	 eax, DWORD PTR [edx+ecx+24]
  00511	b9 04 00 00 00	 mov	 ecx, 4
  00516	d1 e1		 shl	 ecx, 1
  00518	f3 0f 5a 0c 08	 cvtss2sd xmm1, DWORD PTR [eax+ecx]
  0051d	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  00520	f3 0f 5a 92 88
	00 00 00	 cvtss2sd xmm2, DWORD PTR [edx+136]
  00528	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
  00530	f2 0f 58 15 00
	00 00 00	 addsd	 xmm2, QWORD PTR __real@4014000000000000
  00538	f3 0f 5a 5d d8	 cvtss2sd xmm3, DWORD PTR _lifetime_zoom_factor$[ebp]
  0053d	f2 0f 58 d3	 addsd	 xmm2, xmm3
  00541	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  00545	f2 0f 5c c1	 subsd	 xmm0, xmm1
  00549	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  0054e	c1 e0 00	 shl	 eax, 0
  00551	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00554	8d 54 01 18	 lea	 edx, DWORD PTR [ecx+eax+24]
  00558	b8 04 00 00 00	 mov	 eax, 4
  0055d	d1 e0		 shl	 eax, 1
  0055f	f3 0f 5a 0c 02	 cvtss2sd xmm1, DWORD PTR [edx+eax]
  00564	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3ff0000000000000
  0056c	f2 0f 58 c1	 addsd	 xmm0, xmm1
  00570	f2 0f 5a c0	 cvtsd2ss xmm0, xmm0
  00574	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00577	f3 0f 11 41 08	 movss	 DWORD PTR [ecx+8], xmm0

; 257  : 
; 258  : 	add_turbulence(raw, &raw->position);

  0057c	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0057f	50		 push	 eax
  00580	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00583	51		 push	 ecx
  00584	e8 00 00 00 00	 call	 ?add_turbulence@@YGXPAUCAMERA@@PAUVEC3D@@@Z ; add_turbulence

; 259  : 
; 260  : 	if (point_inside_map_area (&raw->position))

  00589	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0058c	f3 0f 10 00	 movss	 xmm0, DWORD PTR [eax]
  00590	0f 2f 05 24 00
	00 00		 comiss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+36
  00597	0f 82 86 00 00
	00		 jb	 $LN9@update_wea
  0059d	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  005a0	f3 0f 10 05 3c
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+60
  005a8	0f 2f 00	 comiss	 xmm0, DWORD PTR [eax]
  005ab	72 76		 jb	 SHORT $LN9@update_wea
  005ad	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  005b0	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  005b5	0f 2f 05 2c 00
	00 00		 comiss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+44
  005bc	72 65		 jb	 SHORT $LN9@update_wea
  005be	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  005c1	f3 0f 10 05 44
	00 00 00	 movss	 xmm0, DWORD PTR ?world_map@@3UWORLD_MAP_DATA@@A+68
  005c9	0f 2f 40 08	 comiss	 xmm0, DWORD PTR [eax+8]
  005cd	72 54		 jb	 SHORT $LN9@update_wea

; 261  : 	{
; 262  : 		raw->position.y = max (raw->position.y, get_3d_terrain_point_data (raw->position.x, raw->position.z, &raw->terrain_info) + CAMERA_MIN_HEIGHT_ABOVE_GROUND);

  005cf	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  005d2	83 c0 50	 add	 eax, 80			; 00000050H
  005d5	50		 push	 eax
  005d6	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  005d9	51		 push	 ecx
  005da	f3 0f 10 41 08	 movss	 xmm0, DWORD PTR [ecx+8]
  005df	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005e4	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  005e7	51		 push	 ecx
  005e8	f3 0f 10 02	 movss	 xmm0, DWORD PTR [edx]
  005ec	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005f1	e8 00 00 00 00	 call	 ?get_3d_terrain_point_data@@YGMMMPAUTERRAIN_3D_POINT_DATA@@@Z ; get_3d_terrain_point_data
  005f6	d9 5d 80	 fstp	 DWORD PTR tv681[ebp]
  005f9	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR tv681[ebp]
  005fe	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f8ccccd
  00606	f3 0f 11 45 84	 movss	 DWORD PTR $T1[ebp], xmm0
  0060b	8d 45 84	 lea	 eax, DWORD PTR $T1[ebp]
  0060e	50		 push	 eax
  0060f	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00612	83 c1 04	 add	 ecx, 4
  00615	51		 push	 ecx
  00616	e8 00 00 00 00	 call	 ??$max@M@std@@YGABMABM0@Z ; std::max<float>
  0061b	8b 55 08	 mov	 edx, DWORD PTR _raw$[ebp]
  0061e	8b 00		 mov	 eax, DWORD PTR [eax]
  00620	89 42 04	 mov	 DWORD PTR [edx+4], eax
$LN9@update_wea:

; 263  : 	}
; 264  : 
; 265  : 	//
; 266  : 	// motion vector
; 267  : 	//
; 268  : 
; 269  : 	get_local_entity_vec3d (weapon, VEC3D_TYPE_MOTION_VECTOR, &raw->motion_vector);

  00623	83 7d fc 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  00627	74 0a		 je	 SHORT $LN38@update_wea
  00629	8b 45 fc	 mov	 eax, DWORD PTR _weapon$[ebp]
  0062c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0062e	89 4d 80	 mov	 DWORD PTR tv361[ebp], ecx
  00631	eb 21		 jmp	 SHORT $LN39@update_wea
$LN38@update_wea:
  00633	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00639	83 c2 58	 add	 edx, 88			; 00000058H
  0063c	52		 push	 edx
  0063d	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00642	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00647	50		 push	 eax
  00648	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0064d	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv361[ebp], 0
$LN39@update_wea:
  00654	b9 01 00 00 00	 mov	 ecx, 1
  00659	85 c9		 test	 ecx, ecx
  0065b	74 0c		 je	 SHORT $LN40@update_wea
  0065d	c7 85 7c ff ff
	ff 06 00 00 00	 mov	 DWORD PTR tv369[ebp], 6
  00667	eb 24		 jmp	 SHORT $LN41@update_wea
$LN40@update_wea:
  00669	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  0066f	83 c2 58	 add	 edx, 88			; 00000058H
  00672	52		 push	 edx
  00673	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00678	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0067d	50		 push	 eax
  0067e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00683	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv369[ebp], 0
$LN41@update_wea:
  0068d	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00690	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00693	51		 push	 ecx
  00694	6a 06		 push	 6
  00696	8b 55 fc	 mov	 edx, DWORD PTR _weapon$[ebp]
  00699	52		 push	 edx
  0069a	6b 45 80 60	 imul	 eax, DWORD PTR tv361[ebp], 96
  0069e	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv369[ebp]
  006a4	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  006ab	ff d2		 call	 edx

; 270  : 
; 271  : 	////////////////////////////////////////
; 272  : 	//
; 273  : 	// setup the explosion camera direction
; 274  : 	//
; 275  : 	////////////////////////////////////////
; 276  : 
; 277  : 	//
; 278  : 	// default to the weapon's direction
; 279  : 	//
; 280  : 
; 281  : 	get_local_entity_vec3d (weapon, VEC3D_TYPE_ZV, &raw->weapon_camera_direction);

  006ad	83 7d fc 00	 cmp	 DWORD PTR _weapon$[ebp], 0
  006b1	74 0a		 je	 SHORT $LN42@update_wea
  006b3	8b 45 fc	 mov	 eax, DWORD PTR _weapon$[ebp]
  006b6	8b 08		 mov	 ecx, DWORD PTR [eax]
  006b8	89 4d 80	 mov	 DWORD PTR tv382[ebp], ecx
  006bb	eb 21		 jmp	 SHORT $LN43@update_wea
$LN42@update_wea:
  006bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  006c3	83 c2 64	 add	 edx, 100		; 00000064H
  006c6	52		 push	 edx
  006c7	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  006cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  006d1	50		 push	 eax
  006d2	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006d7	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv382[ebp], 0
$LN43@update_wea:
  006de	b9 01 00 00 00	 mov	 ecx, 1
  006e3	85 c9		 test	 ecx, ecx
  006e5	74 0c		 je	 SHORT $LN44@update_wea
  006e7	c7 85 7c ff ff
	ff 16 00 00 00	 mov	 DWORD PTR tv390[ebp], 22 ; 00000016H
  006f1	eb 24		 jmp	 SHORT $LN45@update_wea
$LN44@update_wea:
  006f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  006f9	83 c2 64	 add	 edx, 100		; 00000064H
  006fc	52		 push	 edx
  006fd	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00702	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00707	50		 push	 eax
  00708	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0070d	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv390[ebp], 0
$LN45@update_wea:
  00717	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  0071a	81 c1 d0 00 00
	00		 add	 ecx, 208		; 000000d0H
  00720	51		 push	 ecx
  00721	6a 16		 push	 22			; 00000016H
  00723	8b 55 fc	 mov	 edx, DWORD PTR _weapon$[ebp]
  00726	52		 push	 edx
  00727	6b 45 80 60	 imul	 eax, DWORD PTR tv382[ebp], 96
  0072b	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv390[ebp]
  00731	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00738	ff d2		 call	 edx

; 282  : 
; 283  : 	//
; 284  : 	// if the target is a decoy then get the decoy's launcher (actual target)
; 285  : 	//
; 286  : 
; 287  : 	spoofed = FALSE;

  0073a	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _spoofed$[ebp], 0

; 288  : 
; 289  : 	if (target)

  00741	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  00745	0f 84 16 01 00
	00		 je	 $LN11@update_wea

; 290  : 	{
; 291  : 		if (get_local_entity_int_value (target, INT_TYPE_IDENTIFY_WEAPON))

  0074b	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  0074f	74 0a		 je	 SHORT $LN46@update_wea
  00751	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  00754	8b 08		 mov	 ecx, DWORD PTR [eax]
  00756	89 4d 80	 mov	 DWORD PTR tv403[ebp], ecx
  00759	eb 1d		 jmp	 SHORT $LN47@update_wea
$LN46@update_wea:
  0075b	68 23 01 00 00	 push	 291			; 00000123H
  00760	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00765	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0076b	52		 push	 edx
  0076c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00771	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv403[ebp], 0
$LN47@update_wea:
  00778	b8 01 00 00 00	 mov	 eax, 1
  0077d	85 c0		 test	 eax, eax
  0077f	74 0c		 je	 SHORT $LN48@update_wea
  00781	c7 85 7c ff ff
	ff 62 00 00 00	 mov	 DWORD PTR tv410[ebp], 98 ; 00000062H
  0078b	eb 20		 jmp	 SHORT $LN49@update_wea
$LN48@update_wea:
  0078d	68 23 01 00 00	 push	 291			; 00000123H
  00792	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00797	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0079d	51		 push	 ecx
  0079e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007a3	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv410[ebp], 0
$LN49@update_wea:
  007ad	6a 62		 push	 98			; 00000062H
  007af	8b 55 f8	 mov	 edx, DWORD PTR _target$[ebp]
  007b2	52		 push	 edx
  007b3	69 45 80 5c 04
	00 00		 imul	 eax, DWORD PTR tv403[ebp], 1116
  007ba	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv410[ebp]
  007c0	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  007c7	ff d2		 call	 edx
  007c9	85 c0		 test	 eax, eax
  007cb	0f 84 90 00 00
	00		 je	 $LN11@update_wea

; 292  : 		{
; 293  : 			target = get_local_entity_parent (target, LIST_TYPE_LAUNCHED_WEAPON);

  007d1	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  007d5	74 0a		 je	 SHORT $LN50@update_wea
  007d7	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  007da	8b 08		 mov	 ecx, DWORD PTR [eax]
  007dc	89 4d 80	 mov	 DWORD PTR tv423[ebp], ecx
  007df	eb 21		 jmp	 SHORT $LN51@update_wea
$LN50@update_wea:
  007e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  007e7	83 c2 70	 add	 edx, 112		; 00000070H
  007ea	52		 push	 edx
  007eb	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  007f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  007f5	50		 push	 eax
  007f6	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  007fb	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv423[ebp], 0
$LN51@update_wea:
  00802	b9 01 00 00 00	 mov	 ecx, 1
  00807	85 c9		 test	 ecx, ecx
  00809	74 0c		 je	 SHORT $LN52@update_wea
  0080b	c7 85 7c ff ff
	ff 18 00 00 00	 mov	 DWORD PTR tv431[ebp], 24 ; 00000018H
  00815	eb 24		 jmp	 SHORT $LN53@update_wea
$LN52@update_wea:
  00817	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  0081d	83 c2 70	 add	 edx, 112		; 00000070H
  00820	52		 push	 edx
  00821	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00826	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0082b	50		 push	 eax
  0082c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00831	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv431[ebp], 0
$LN53@update_wea:
  0083b	6a 18		 push	 24			; 00000018H
  0083d	8b 4d f8	 mov	 ecx, DWORD PTR _target$[ebp]
  00840	51		 push	 ecx
  00841	69 55 80 b4 00
	00 00		 imul	 edx, DWORD PTR tv423[ebp], 180
  00848	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR tv431[ebp]
  0084e	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_parent@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  00855	ff d1		 call	 ecx
  00857	89 45 f8	 mov	 DWORD PTR _target$[ebp], eax

; 294  : 
; 295  : 			spoofed = TRUE;

  0085a	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _spoofed$[ebp], 1
$LN11@update_wea:

; 296  : 		}
; 297  : 	}
; 298  : 
; 299  : 	if (target)

  00861	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  00865	0f 84 eb 01 00
	00		 je	 $LN14@update_wea

; 300  : 	{
; 301  : 		if (get_local_entity_int_value (target, INT_TYPE_AIRBORNE_AIRCRAFT))

  0086b	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  0086f	74 0a		 je	 SHORT $LN54@update_wea
  00871	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  00874	8b 08		 mov	 ecx, DWORD PTR [eax]
  00876	89 4d 80	 mov	 DWORD PTR tv443[ebp], ecx
  00879	eb 1d		 jmp	 SHORT $LN55@update_wea
$LN54@update_wea:
  0087b	68 2d 01 00 00	 push	 301			; 0000012dH
  00880	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00885	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0088b	52		 push	 edx
  0088c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00891	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv443[ebp], 0
$LN55@update_wea:
  00898	b8 01 00 00 00	 mov	 eax, 1
  0089d	85 c0		 test	 eax, eax
  0089f	74 0c		 je	 SHORT $LN56@update_wea
  008a1	c7 85 7c ff ff
	ff 04 00 00 00	 mov	 DWORD PTR tv450[ebp], 4
  008ab	eb 20		 jmp	 SHORT $LN57@update_wea
$LN56@update_wea:
  008ad	68 2d 01 00 00	 push	 301			; 0000012dH
  008b2	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  008b7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  008bd	51		 push	 ecx
  008be	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  008c3	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv450[ebp], 0
$LN57@update_wea:
  008cd	6a 04		 push	 4
  008cf	8b 55 f8	 mov	 edx, DWORD PTR _target$[ebp]
  008d2	52		 push	 edx
  008d3	69 45 80 5c 04
	00 00		 imul	 eax, DWORD PTR tv443[ebp], 1116
  008da	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv450[ebp]
  008e0	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  008e7	ff d2		 call	 edx
  008e9	85 c0		 test	 eax, eax
  008eb	0f 84 1e 01 00
	00		 je	 $LN13@update_wea

; 302  : 		{
; 303  : 			//
; 304  : 			// air target
; 305  : 			//
; 306  : 
; 307  : 			get_local_entity_target_point (target, &target_position);

  008f1	8d 45 e8	 lea	 eax, DWORD PTR _target_position$[ebp]
  008f4	50		 push	 eax
  008f5	8b 4d f8	 mov	 ecx, DWORD PTR _target$[ebp]
  008f8	51		 push	 ecx
  008f9	e8 00 00 00 00	 call	 ?get_local_entity_target_point@@YGXPAUENTITY@@PAUVEC3D@@@Z ; get_local_entity_target_point

; 308  : 
; 309  : 			if ((!spoofed) && (get_3d_range (weapon_position, &target_position) < 250.0))

  008fe	83 7d d0 00	 cmp	 DWORD PTR _spoofed$[ebp], 0
  00902	0f 85 be 00 00
	00		 jne	 $LN15@update_wea
  00908	8d 45 e8	 lea	 eax, DWORD PTR _target_position$[ebp]
  0090b	50		 push	 eax
  0090c	8b 4d f4	 mov	 ecx, DWORD PTR _weapon_position$[ebp]
  0090f	51		 push	 ecx
  00910	e8 00 00 00 00	 call	 ?get_3d_range@@YGMPBUVEC3D@@0@Z ; get_3d_range
  00915	dd 9d 7c ff ff
	ff		 fstp	 QWORD PTR tv746[ebp]
  0091b	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@406f400000000000
  00923	66 0f 2f 85 7c
	ff ff ff	 comisd	 xmm0, QWORD PTR tv746[ebp]
  0092b	0f 86 95 00 00
	00		 jbe	 $LN15@update_wea

; 310  : 			{
; 311  : 				get_local_entity_vec3d (target, VEC3D_TYPE_MOTION_VECTOR, &raw->weapon_camera_direction);

  00931	83 7d f8 00	 cmp	 DWORD PTR _target$[ebp], 0
  00935	74 0a		 je	 SHORT $LN58@update_wea
  00937	8b 45 f8	 mov	 eax, DWORD PTR _target$[ebp]
  0093a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0093c	89 4d 80	 mov	 DWORD PTR tv471[ebp], ecx
  0093f	eb 24		 jmp	 SHORT $LN59@update_wea
$LN58@update_wea:
  00941	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00947	81 c2 82 00 00
	00		 add	 edx, 130		; 00000082H
  0094d	52		 push	 edx
  0094e	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00953	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00958	50		 push	 eax
  00959	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0095e	c7 45 80 00 00
	00 00		 mov	 DWORD PTR tv471[ebp], 0
$LN59@update_wea:
  00965	b9 01 00 00 00	 mov	 ecx, 1
  0096a	85 c9		 test	 ecx, ecx
  0096c	74 0c		 je	 SHORT $LN60@update_wea
  0096e	c7 85 7c ff ff
	ff 06 00 00 00	 mov	 DWORD PTR tv479[ebp], 6
  00978	eb 27		 jmp	 SHORT $LN61@update_wea
$LN60@update_wea:
  0097a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00980	81 c2 82 00 00
	00		 add	 edx, 130		; 00000082H
  00986	52		 push	 edx
  00987	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0098c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  00991	50		 push	 eax
  00992	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00997	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv479[ebp], 0
$LN61@update_wea:
  009a1	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  009a4	81 c1 d0 00 00
	00		 add	 ecx, 208		; 000000d0H
  009aa	51		 push	 ecx
  009ab	6a 06		 push	 6
  009ad	8b 55 f8	 mov	 edx, DWORD PTR _target$[ebp]
  009b0	52		 push	 edx
  009b1	6b 45 80 60	 imul	 eax, DWORD PTR tv471[ebp], 96
  009b5	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR tv479[ebp]
  009bb	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  009c2	ff d2		 call	 edx

; 312  : 			}
; 313  : 			else

  009c4	eb 47		 jmp	 SHORT $LN16@update_wea
$LN15@update_wea:

; 314  : 			{
; 315  :   				raw->weapon_camera_direction.x = target_position.x - weapon_position->x;

  009c6	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  009c9	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _target_position$[ebp]
  009ce	f3 0f 5c 00	 subss	 xmm0, DWORD PTR [eax]
  009d2	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  009d5	f3 0f 11 81 d0
	00 00 00	 movss	 DWORD PTR [ecx+208], xmm0

; 316  : 				raw->weapon_camera_direction.y = target_position.y - weapon_position->y;

  009dd	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  009e0	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _target_position$[ebp+4]
  009e5	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  009ea	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  009ed	f3 0f 11 81 d4
	00 00 00	 movss	 DWORD PTR [ecx+212], xmm0

; 317  : 				raw->weapon_camera_direction.z = target_position.z - weapon_position->z;

  009f5	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  009f8	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _target_position$[ebp+8]
  009fd	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  00a02	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00a05	f3 0f 11 81 d8
	00 00 00	 movss	 DWORD PTR [ecx+216], xmm0
$LN16@update_wea:

; 318  : 			}
; 319  : 		}
; 320  : 		else

  00a0d	eb 47		 jmp	 SHORT $LN14@update_wea
$LN13@update_wea:

; 321  : 		{
; 322  : 			//
; 323  : 			// ground target
; 324  : 			//
; 325  : 
; 326  : 			raw->weapon_camera_direction.x = target_position.x - weapon_position->x;

  00a0f	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  00a12	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _target_position$[ebp]
  00a17	f3 0f 5c 00	 subss	 xmm0, DWORD PTR [eax]
  00a1b	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00a1e	f3 0f 11 81 d0
	00 00 00	 movss	 DWORD PTR [ecx+208], xmm0

; 327  : 			raw->weapon_camera_direction.y = target_position.y - weapon_position->y;

  00a26	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  00a29	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _target_position$[ebp+4]
  00a2e	f3 0f 5c 40 04	 subss	 xmm0, DWORD PTR [eax+4]
  00a33	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00a36	f3 0f 11 81 d4
	00 00 00	 movss	 DWORD PTR [ecx+212], xmm0

; 328  : 			raw->weapon_camera_direction.z = target_position.z - weapon_position->z;

  00a3e	8b 45 f4	 mov	 eax, DWORD PTR _weapon_position$[ebp]
  00a41	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR _target_position$[ebp+8]
  00a46	f3 0f 5c 40 08	 subss	 xmm0, DWORD PTR [eax+8]
  00a4b	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00a4e	f3 0f 11 81 d8
	00 00 00	 movss	 DWORD PTR [ecx+216], xmm0
$LN14@update_wea:
$LN1@update_wea:

; 329  : 		}
; 330  : 	}
; 331  : }

  00a56	5f		 pop	 edi
  00a57	5e		 pop	 esi
  00a58	5b		 pop	 ebx
  00a59	8b e5		 mov	 esp, ebp
  00a5b	5d		 pop	 ebp
  00a5c	c2 04 00	 ret	 4
?update_weapon_camera@@YGXPAUCAMERA@@@Z ENDP		; update_weapon_camera
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\camera\cm_wpn.c
;	COMDAT ?reset_weapon_camera@@YGXPAUCAMERA@@@Z
_TEXT	SEGMENT
tv140 = -72						; size = 4
tv132 = -68						; size = 4
_raw$ = 8						; size = 4
?reset_weapon_camera@@YGXPAUCAMERA@@@Z PROC		; reset_weapon_camera, COMDAT

; 155  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 156  : 	ASSERT (raw);

  00009	83 7d 08 00	 cmp	 DWORD PTR _raw$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@reset_weap
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_03DGOGAGNC@raw@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@reset_weap:

; 157  : 
; 158  : 	ASSERT (raw->external_view_entity);

  00027	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0002a	83 b8 24 01 00
	00 00		 cmp	 DWORD PTR [eax+292], 0
  00031	75 18		 jne	 SHORT $LN3@reset_weap
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  00038	83 c0 03	 add	 eax, 3
  0003b	50		 push	 eax
  0003c	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@NIGJPCBN@raw?9?$DOexternal_view_entity@
  00046	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN3@reset_weap:

; 159  : 
; 160  : 	ASSERT (raw->view_weapon_root.first_child);

  0004b	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0004e	83 b8 20 01 00
	00 00		 cmp	 DWORD PTR [eax+288], 0
  00055	75 18		 jne	 SHORT $LN4@reset_weap
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  0005c	83 c0 05	 add	 eax, 5
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00065	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@NPNCAKKE@raw?9?$DOview_weapon_root?4first_chi@
  0006a	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@reset_weap:

; 161  : 
; 162  : 	raw->weapon_camera_direction.x = 0.0;

  0006f	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  00072	0f 57 c0	 xorps	 xmm0, xmm0
  00075	f3 0f 11 80 d0
	00 00 00	 movss	 DWORD PTR [eax+208], xmm0

; 163  : 	raw->weapon_camera_direction.y = 0.0;

  0007d	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  00080	0f 57 c0	 xorps	 xmm0, xmm0
  00083	f3 0f 11 80 d4
	00 00 00	 movss	 DWORD PTR [eax+212], xmm0

; 164  : 	raw->weapon_camera_direction.z = 0.0;

  0008b	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0008e	0f 57 c0	 xorps	 xmm0, xmm0
  00091	f3 0f 11 80 d8
	00 00 00	 movss	 DWORD PTR [eax+216], xmm0

; 165  : 
; 166  : 	reset_offset(raw);

  00099	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0009c	50		 push	 eax
  0009d	e8 00 00 00 00	 call	 ?reset_offset@@YGXPAUCAMERA@@@Z ; reset_offset

; 167  : 	raw->chase_camera_zoom = 0.1;

  000a2	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  000a5	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3dcccccd
  000ad	f3 0f 11 80 88
	00 00 00	 movss	 DWORD PTR [eax+136], xmm0

; 168  : 
; 169  : 	//
; 170  : 	// motion vector
; 171  : 	//
; 172  : 
; 173  : 	get_local_entity_vec3d (raw->view_weapon_root.first_child, VEC3D_TYPE_MOTION_VECTOR, &raw->motion_vector);

  000b5	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  000b8	83 b8 20 01 00
	00 00		 cmp	 DWORD PTR [eax+288], 0
  000bf	74 10		 je	 SHORT $LN6@reset_weap
  000c1	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  000c4	8b 91 20 01 00
	00		 mov	 edx, DWORD PTR [ecx+288]
  000ca	8b 02		 mov	 eax, DWORD PTR [edx]
  000cc	89 45 bc	 mov	 DWORD PTR tv132[ebp], eax
  000cf	eb 22		 jmp	 SHORT $LN7@reset_weap
$LN6@reset_weap:
  000d1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  000d7	83 c1 12	 add	 ecx, 18			; 00000012H
  000da	51		 push	 ecx
  000db	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000e0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000e6	52		 push	 edx
  000e7	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000ec	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv132[ebp], 0
$LN7@reset_weap:
  000f3	b8 01 00 00 00	 mov	 eax, 1
  000f8	85 c0		 test	 eax, eax
  000fa	74 09		 je	 SHORT $LN8@reset_weap
  000fc	c7 45 b8 06 00
	00 00		 mov	 DWORD PTR tv140[ebp], 6
  00103	eb 22		 jmp	 SHORT $LN9@reset_weap
$LN8@reset_weap:
  00105	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??reset_weapon_camera@@YGXPAUCAMERA@@@Z@4JA
  0010b	83 c1 12	 add	 ecx, 18			; 00000012H
  0010e	51		 push	 ecx
  0010f	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00114	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?overload_invalid_vec3d_type_message@@3PBDB ; overload_invalid_vec3d_type_message
  0011a	52		 push	 edx
  0011b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00120	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv140[ebp], 0
$LN9@reset_weap:
  00127	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0012a	83 c0 0c	 add	 eax, 12			; 0000000cH
  0012d	50		 push	 eax
  0012e	6a 06		 push	 6
  00130	8b 4d 08	 mov	 ecx, DWORD PTR _raw$[ebp]
  00133	8b 91 20 01 00
	00		 mov	 edx, DWORD PTR [ecx+288]
  00139	52		 push	 edx
  0013a	6b 45 bc 60	 imul	 eax, DWORD PTR tv132[ebp], 96
  0013e	8b 4d b8	 mov	 ecx, DWORD PTR tv140[ebp]
  00141	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_vec3d@@3PAY0BI@P6GXPAUENTITY@@W4VEC3D_TYPES@@PAUVEC3D@@@ZA[eax+ecx*4]
  00148	ff d2		 call	 edx

; 174  : }

  0014a	5f		 pop	 edi
  0014b	5e		 pop	 esi
  0014c	5b		 pop	 ebx
  0014d	8b e5		 mov	 esp, ebp
  0014f	5d		 pop	 ebp
  00150	c2 04 00	 ret	 4
?reset_weapon_camera@@YGXPAUCAMERA@@@Z ENDP		; reset_weapon_camera
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\camera\cm_wpn.c
;	COMDAT ?weapon_camera_valid@@YGHPAUCAMERA@@@Z
_TEXT	SEGMENT
_raw$ = 8						; size = 4
?weapon_camera_valid@@YGHPAUCAMERA@@@Z PROC		; weapon_camera_valid, COMDAT

; 139  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 140  : 	ASSERT (raw);

  00009	83 7d 08 00	 cmp	 DWORD PTR _raw$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN2@weapon_cam
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??weapon_camera_valid@@YGHPAUCAMERA@@@Z@4JA
  00014	83 c0 01	 add	 eax, 1
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_03DGOGAGNC@raw@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN2@weapon_cam:

; 141  : 
; 142  : 	if (raw->view_weapon_root.first_child)

  00027	8b 45 08	 mov	 eax, DWORD PTR _raw$[ebp]
  0002a	83 b8 20 01 00
	00 00		 cmp	 DWORD PTR [eax+288], 0
  00031	74 07		 je	 SHORT $LN3@weapon_cam

; 143  : 	{
; 144  : 		return (TRUE);

  00033	b8 01 00 00 00	 mov	 eax, 1
  00038	eb 02		 jmp	 SHORT $LN1@weapon_cam
$LN3@weapon_cam:

; 145  : 	}
; 146  : 
; 147  : 	return (FALSE);

  0003a	33 c0		 xor	 eax, eax
$LN1@weapon_cam:

; 148  : }

  0003c	5f		 pop	 edi
  0003d	5e		 pop	 esi
  0003e	5b		 pop	 ebx
  0003f	8b e5		 mov	 esp, ebp
  00041	5d		 pop	 ebp
  00042	c2 04 00	 ret	 4
?weapon_camera_valid@@YGHPAUCAMERA@@@Z ENDP		; weapon_camera_valid
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\camera\cm_wpn.c
;	COMDAT ?get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU1@@Z
_TEXT	SEGMENT
tv155 = -76						; size = 4
tv134 = -76						; size = 4
tv83 = -76						; size = 4
tv147 = -72						; size = 4
tv95 = -72						; size = 4
tv75 = -72						; size = 4
_en$ = -4						; size = 4
_this_entity$ = 8					; size = 4
?get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU1@@Z PROC ; get_local_entity_viewable_weapon, COMDAT

; 113  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 114  : 	entity
; 115  : 		*en;
; 116  : 
; 117  : 	ASSERT (this_entity);

  00009	83 7d 08 00	 cmp	 DWORD PTR _this_entity$[ebp], 0
  0000d	75 18		 jne	 SHORT $LN4@get_local_
  0000f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA
  00014	83 c0 04	 add	 eax, 4
  00017	50		 push	 eax
  00018	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0001d	68 00 00 00 00	 push	 OFFSET ??_C@_0M@CNKCDEHL@this_entity@
  00022	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@get_local_:

; 118  : 
; 119  : 	en = get_local_entity_first_child (this_entity, LIST_TYPE_LAUNCHED_WEAPON);

  00027	83 7d 08 00	 cmp	 DWORD PTR _this_entity$[ebp], 0
  0002b	74 0a		 je	 SHORT $LN7@get_local_
  0002d	8b 45 08	 mov	 eax, DWORD PTR _this_entity$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	89 4d b8	 mov	 DWORD PTR tv75[ebp], ecx
  00035	eb 21		 jmp	 SHORT $LN8@get_local_
$LN7@get_local_:
  00037	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA
  0003d	83 c2 06	 add	 edx, 6
  00040	52		 push	 edx
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00051	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$LN8@get_local_:
  00058	b9 01 00 00 00	 mov	 ecx, 1
  0005d	85 c9		 test	 ecx, ecx
  0005f	74 09		 je	 SHORT $LN9@get_local_
  00061	c7 45 b4 18 00
	00 00		 mov	 DWORD PTR tv83[ebp], 24	; 00000018H
  00068	eb 21		 jmp	 SHORT $LN10@get_local_
$LN9@get_local_:
  0006a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA
  00070	83 c2 06	 add	 edx, 6
  00073	52		 push	 edx
  00074	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00084	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv83[ebp], 0
$LN10@get_local_:
  0008b	6a 18		 push	 24			; 00000018H
  0008d	8b 4d 08	 mov	 ecx, DWORD PTR _this_entity$[ebp]
  00090	51		 push	 ecx
  00091	69 55 b8 b4 00
	00 00		 imul	 edx, DWORD PTR tv75[ebp], 180
  00098	8b 45 b4	 mov	 eax, DWORD PTR tv83[ebp]
  0009b	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000a2	ff d1		 call	 ecx
  000a4	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax
$LN2@get_local_:

; 120  : 
; 121  : 	while (en)

  000a7	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  000ab	0f 84 00 01 00
	00		 je	 $LN3@get_local_

; 122  : 	{
; 123  : 		if (get_local_entity_int_value (en, INT_TYPE_VIEWABLE_WEAPON))

  000b1	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  000b5	74 0a		 je	 SHORT $LN11@get_local_
  000b7	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  000ba	8b 08		 mov	 ecx, DWORD PTR [eax]
  000bc	89 4d b8	 mov	 DWORD PTR tv95[ebp], ecx
  000bf	eb 1a		 jmp	 SHORT $LN12@get_local_
$LN11@get_local_:
  000c1	6a 7b		 push	 123			; 0000007bH
  000c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000c8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  000ce	52		 push	 edx
  000cf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000d4	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv95[ebp], 0
$LN12@get_local_:
  000db	b8 01 00 00 00	 mov	 eax, 1
  000e0	85 c0		 test	 eax, eax
  000e2	74 09		 je	 SHORT $LN13@get_local_
  000e4	c7 45 b4 f9 00
	00 00		 mov	 DWORD PTR tv134[ebp], 249 ; 000000f9H
  000eb	eb 1a		 jmp	 SHORT $LN14@get_local_
$LN13@get_local_:
  000ed	6a 7b		 push	 123			; 0000007bH
  000ef	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000f4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  000fa	51		 push	 ecx
  000fb	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00100	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN14@get_local_:
  00107	68 f9 00 00 00	 push	 249			; 000000f9H
  0010c	8b 55 fc	 mov	 edx, DWORD PTR _en$[ebp]
  0010f	52		 push	 edx
  00110	69 45 b8 5c 04
	00 00		 imul	 eax, DWORD PTR tv95[ebp], 1116
  00117	8b 4d b4	 mov	 ecx, DWORD PTR tv134[ebp]
  0011a	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00121	ff d2		 call	 edx
  00123	85 c0		 test	 eax, eax
  00125	74 05		 je	 SHORT $LN5@get_local_

; 124  : 		{
; 125  : 			break;

  00127	e9 85 00 00 00	 jmp	 $LN3@get_local_
$LN5@get_local_:

; 126  : 		}
; 127  : 
; 128  : 		en = get_local_entity_child_succ (en, LIST_TYPE_LAUNCHED_WEAPON);

  0012c	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00130	74 0a		 je	 SHORT $LN15@get_local_
  00132	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00135	8b 08		 mov	 ecx, DWORD PTR [eax]
  00137	89 4d b8	 mov	 DWORD PTR tv147[ebp], ecx
  0013a	eb 21		 jmp	 SHORT $LN16@get_local_
$LN15@get_local_:
  0013c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA
  00142	83 c2 0f	 add	 edx, 15			; 0000000fH
  00145	52		 push	 edx
  00146	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00156	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv147[ebp], 0
$LN16@get_local_:
  0015d	b9 01 00 00 00	 mov	 ecx, 1
  00162	85 c9		 test	 ecx, ecx
  00164	74 09		 je	 SHORT $LN17@get_local_
  00166	c7 45 b4 18 00
	00 00		 mov	 DWORD PTR tv155[ebp], 24 ; 00000018H
  0016d	eb 21		 jmp	 SHORT $LN18@get_local_
$LN17@get_local_:
  0016f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU2@@Z@4JA
  00175	83 c2 0f	 add	 edx, 15			; 0000000fH
  00178	52		 push	 edx
  00179	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0017e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  00183	50		 push	 eax
  00184	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00189	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv155[ebp], 0
$LN18@get_local_:
  00190	6a 18		 push	 24			; 00000018H
  00192	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00195	51		 push	 ecx
  00196	69 55 b8 b4 00
	00 00		 imul	 edx, DWORD PTR tv147[ebp], 180
  0019d	8b 45 b4	 mov	 eax, DWORD PTR tv155[ebp]
  001a0	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001a7	ff d1		 call	 ecx
  001a9	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 129  : 	}

  001ac	e9 f6 fe ff ff	 jmp	 $LN2@get_local_
$LN3@get_local_:

; 130  : 
; 131  : 	return (en);

  001b1	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]

; 132  : }

  001b4	5f		 pop	 edi
  001b5	5e		 pop	 esi
  001b6	5b		 pop	 ebx
  001b7	8b e5		 mov	 esp, ebp
  001b9	5d		 pop	 ebp
  001ba	c2 04 00	 ret	 4
?get_local_entity_viewable_weapon@@YGPAUENTITY@@PAU1@@Z ENDP ; get_local_entity_viewable_weapon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\entity\special\camera\cm_wpn.c
;	COMDAT ?get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ
_TEXT	SEGMENT
tv165 = -80						; size = 4
tv144 = -80						; size = 4
tv92 = -80						; size = 4
tv157 = -76						; size = 4
tv137 = -76						; size = 4
tv84 = -76						; size = 4
_en$ = -8						; size = 4
_raw$ = -4						; size = 4
?get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ PROC ; get_external_view_entity_viewable_weapon, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 81   : 	camera
; 82   : 		*raw;
; 83   : 
; 84   : 	entity
; 85   : 		*en;
; 86   : 
; 87   : 	ASSERT (get_camera_entity ());

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?camera_entity@@3PAUENTITY@@A, 0 ; camera_entity
  00010	75 18		 jne	 SHORT $LN4@get_extern
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA
  00017	83 c0 07	 add	 eax, 7
  0001a	50		 push	 eax
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@ODENDPAE@get_camera_entity?5?$CI?$CJ@
  00025	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN4@get_extern:

; 88   : 
; 89   : 	raw = (camera *) get_local_entity_data (get_camera_entity ());

  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?camera_entity@@3PAUENTITY@@A ; camera_entity
  0002f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00032	89 4d fc	 mov	 DWORD PTR _raw$[ebp], ecx

; 90   : 
; 91   : 	ASSERT (raw->external_view_entity);

  00035	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  00038	83 b8 24 01 00
	00 00		 cmp	 DWORD PTR [eax+292], 0
  0003f	75 18		 jne	 SHORT $LN5@get_extern
  00041	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA
  00046	83 c0 0b	 add	 eax, 11			; 0000000bH
  00049	50		 push	 eax
  0004a	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0004f	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@NIGJPCBN@raw?9?$DOexternal_view_entity@
  00054	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
$LN5@get_extern:

; 92   : 
; 93   : 	en = get_local_entity_first_child (raw->external_view_entity, LIST_TYPE_LAUNCHED_WEAPON);

  00059	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  0005c	83 b8 24 01 00
	00 00		 cmp	 DWORD PTR [eax+292], 0
  00063	74 10		 je	 SHORT $LN8@get_extern
  00065	8b 4d fc	 mov	 ecx, DWORD PTR _raw$[ebp]
  00068	8b 91 24 01 00
	00		 mov	 edx, DWORD PTR [ecx+292]
  0006e	8b 02		 mov	 eax, DWORD PTR [edx]
  00070	89 45 b4	 mov	 DWORD PTR tv84[ebp], eax
  00073	eb 22		 jmp	 SHORT $LN9@get_extern
$LN8@get_extern:
  00075	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA
  0007b	83 c1 0d	 add	 ecx, 13			; 0000000dH
  0007e	51		 push	 ecx
  0007f	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00084	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0008a	52		 push	 edx
  0008b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00090	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$LN9@get_extern:
  00097	b8 01 00 00 00	 mov	 eax, 1
  0009c	85 c0		 test	 eax, eax
  0009e	74 09		 je	 SHORT $LN10@get_extern
  000a0	c7 45 b0 18 00
	00 00		 mov	 DWORD PTR tv92[ebp], 24	; 00000018H
  000a7	eb 22		 jmp	 SHORT $LN11@get_extern
$LN10@get_extern:
  000a9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA
  000af	83 c1 0d	 add	 ecx, 13			; 0000000dH
  000b2	51		 push	 ecx
  000b3	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  000b8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  000be	52		 push	 edx
  000bf	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  000c4	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv92[ebp], 0
$LN11@get_extern:
  000cb	6a 18		 push	 24			; 00000018H
  000cd	8b 45 fc	 mov	 eax, DWORD PTR _raw$[ebp]
  000d0	8b 88 24 01 00
	00		 mov	 ecx, DWORD PTR [eax+292]
  000d6	51		 push	 ecx
  000d7	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv84[ebp], 180
  000de	8b 45 b0	 mov	 eax, DWORD PTR tv92[ebp]
  000e1	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_first_child@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  000e8	ff d1		 call	 ecx
  000ea	89 45 f8	 mov	 DWORD PTR _en$[ebp], eax
$LN2@get_extern:

; 94   : 
; 95   : 	while (en)

  000ed	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  000f1	0f 84 00 01 00
	00		 je	 $LN3@get_extern

; 96   : 	{
; 97   : 		if (get_local_entity_int_value (en, INT_TYPE_VIEWABLE_WEAPON))

  000f7	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  000fb	74 0a		 je	 SHORT $LN12@get_extern
  000fd	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  00100	8b 08		 mov	 ecx, DWORD PTR [eax]
  00102	89 4d b4	 mov	 DWORD PTR tv137[ebp], ecx
  00105	eb 1a		 jmp	 SHORT $LN13@get_extern
$LN12@get_extern:
  00107	6a 61		 push	 97			; 00000061H
  00109	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0010e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00114	52		 push	 edx
  00115	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0011a	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv137[ebp], 0
$LN13@get_extern:
  00121	b8 01 00 00 00	 mov	 eax, 1
  00126	85 c0		 test	 eax, eax
  00128	74 09		 je	 SHORT $LN14@get_extern
  0012a	c7 45 b0 f9 00
	00 00		 mov	 DWORD PTR tv144[ebp], 249 ; 000000f9H
  00131	eb 1a		 jmp	 SHORT $LN15@get_extern
$LN14@get_extern:
  00133	6a 61		 push	 97			; 00000061H
  00135	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  0013a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00140	51		 push	 ecx
  00141	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00146	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv144[ebp], 0
$LN15@get_extern:
  0014d	68 f9 00 00 00	 push	 249			; 000000f9H
  00152	8b 55 f8	 mov	 edx, DWORD PTR _en$[ebp]
  00155	52		 push	 edx
  00156	69 45 b4 5c 04
	00 00		 imul	 eax, DWORD PTR tv137[ebp], 1116
  0015d	8b 4d b0	 mov	 ecx, DWORD PTR tv144[ebp]
  00160	8b 94 88 00 00
	00 00		 mov	 edx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[eax+ecx*4]
  00167	ff d2		 call	 edx
  00169	85 c0		 test	 eax, eax
  0016b	74 05		 je	 SHORT $LN6@get_extern

; 98   : 		{
; 99   : 			break;

  0016d	e9 85 00 00 00	 jmp	 $LN3@get_extern
$LN6@get_extern:

; 100  : 		}
; 101  : 
; 102  : 		en = get_local_entity_child_succ (en, LIST_TYPE_LAUNCHED_WEAPON);

  00172	83 7d f8 00	 cmp	 DWORD PTR _en$[ebp], 0
  00176	74 0a		 je	 SHORT $LN16@get_extern
  00178	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]
  0017b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0017d	89 4d b4	 mov	 DWORD PTR tv157[ebp], ecx
  00180	eb 21		 jmp	 SHORT $LN17@get_extern
$LN16@get_extern:
  00182	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA
  00188	83 c2 16	 add	 edx, 22			; 00000016H
  0018b	52		 push	 edx
  0018c	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  00191	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00196	50		 push	 eax
  00197	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0019c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv157[ebp], 0
$LN17@get_extern:
  001a3	b9 01 00 00 00	 mov	 ecx, 1
  001a8	85 c9		 test	 ecx, ecx
  001aa	74 09		 je	 SHORT $LN18@get_extern
  001ac	c7 45 b0 18 00
	00 00		 mov	 DWORD PTR tv165[ebp], 24 ; 00000018H
  001b3	eb 21		 jmp	 SHORT $LN19@get_extern
$LN18@get_extern:
  001b5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ@4JA
  001bb	83 c2 16	 add	 edx, 22			; 00000016H
  001be	52		 push	 edx
  001bf	68 00 00 00 00	 push	 OFFSET ??_C@_0EL@DMKLGFAL@c?3?2users?2nhv90?2projects?2eech?2ap@
  001c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_list_type_message@@3PBDB ; overload_invalid_list_type_message
  001c9	50		 push	 eax
  001ca	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  001cf	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv165[ebp], 0
$LN19@get_extern:
  001d6	6a 18		 push	 24			; 00000018H
  001d8	8b 4d f8	 mov	 ecx, DWORD PTR _en$[ebp]
  001db	51		 push	 ecx
  001dc	69 55 b4 b4 00
	00 00		 imul	 edx, DWORD PTR tv157[ebp], 180
  001e3	8b 45 b0	 mov	 eax, DWORD PTR tv165[ebp]
  001e6	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_child_succ@@3PAY0CN@P6GPAUENTITY@@PAU1@W4LIST_TYPES@@@ZA[edx+eax*4]
  001ed	ff d1		 call	 ecx
  001ef	89 45 f8	 mov	 DWORD PTR _en$[ebp], eax

; 103  : 	}

  001f2	e9 f6 fe ff ff	 jmp	 $LN2@get_extern
$LN3@get_extern:

; 104  : 
; 105  : 	return (en);

  001f7	8b 45 f8	 mov	 eax, DWORD PTR _en$[ebp]

; 106  : }

  001fa	5f		 pop	 edi
  001fb	5e		 pop	 esi
  001fc	5b		 pop	 ebx
  001fd	8b e5		 mov	 esp, ebp
  001ff	5d		 pop	 ebp
  00200	c3		 ret	 0
?get_external_view_entity_viewable_weapon@@YGPAUENTITY@@XZ ENDP ; get_external_view_entity_viewable_weapon
_TEXT	ENDS
END
