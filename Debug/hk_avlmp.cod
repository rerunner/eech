; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\nhv90\Projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?activate_hokum_master_caution@@YGXXZ		; activate_hokum_master_caution
PUBLIC	?deactivate_hokum_master_caution@@YGXXZ		; deactivate_hokum_master_caution
PUBLIC	?initialise_hokum_lamp_avionics@@YGXXZ		; initialise_hokum_lamp_avionics
PUBLIC	?deinitialise_hokum_lamp_avionics@@YGXXZ	; deinitialise_hokum_lamp_avionics
PUBLIC	?update_hokum_lamp_avionics@@YGXXZ		; update_hokum_lamp_avionics
PUBLIC	?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA ; `update_hokum_lamp_avionics'::`1'::__LINE__Var
PUBLIC	??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@ ; `string'
PUBLIC	__real@3e800000
PUBLIC	__real@3f000000
PUBLIC	__real@3fd0000000000000
PUBLIC	__real@3fe999999999999a
PUBLIC	__real@40400000
PUBLIC	__real@4056800000000000
EXTRN	?process_assert@@YGXPBD0H@Z:PROC		; process_assert
EXTRN	?get_local_entity_undercarriage_state@@YGHPAUENTITY@@@Z:PROC ; get_local_entity_undercarriage_state
EXTRN	?play_client_server_warning_message@@YGHPAUENTITY@@H@Z:PROC ; play_client_server_warning_message
EXTRN	?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z:PROC ; pause_local_entity_sound_type
EXTRN	?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z:PROC ; resume_local_entity_sound_type
EXTRN	?get_hokum_mfd_has_focus@@YGHW4HOKUM_MFD_LOCATIONS@@@Z:PROC ; get_hokum_mfd_has_focus
EXTRN	?get_current_flight_dynamics_auto_pilot@@YGHXZ:PROC ; get_current_flight_dynamics_auto_pilot
EXTRN	?system_delta_time@@3MA:DWORD			; system_delta_time
EXTRN	?null_entity_pointer_message@@3PBDB:DWORD	; null_entity_pointer_message
EXTRN	?global_options@@3UGLOBAL_OPTIONS_DATA@@A:BYTE	; global_options
EXTRN	?overload_invalid_int_type_message@@3PBDB:DWORD	; overload_invalid_int_type_message
EXTRN	?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA:BYTE ; fn_get_local_entity_int_value
EXTRN	?gunship_entity@@3PAUENTITY@@A:DWORD		; gunship_entity
EXTRN	?fire_extinguisher_used@@3HA:DWORD		; fire_extinguisher_used
EXTRN	?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A:BYTE	; hokum_lamps
EXTRN	?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A:DWORD ; current_flight_dynamics
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?master_caution_alert@@3HA DD 01H DUP (?)		; master_caution_alert
?engine_damage_imminent_status@@3HA DD 01H DUP (?)	; engine_damage_imminent_status
?previous_engine_damage_imminent_status@@3HA DD 01H DUP (?) ; previous_engine_damage_imminent_status
?master_caution_flash_timer@@3MA DD 01H DUP (?)		; master_caution_flash_timer
?master_caution_sound_timer@@3MA DD 01H DUP (?)		; master_caution_sound_timer
?gear_transition_state@@3HA DD 01H DUP (?)		; gear_transition_state
?gear_transition_timer@@3MA DD 01H DUP (?)		; gear_transition_timer
_BSS	ENDS
;	COMDAT __real@4056800000000000
CONST	SEGMENT
__real@4056800000000000 DQ 04056800000000000r	; 90
CONST	ENDS
;	COMDAT __real@40400000
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
CONST	ENDS
;	COMDAT __real@3fe999999999999a
CONST	SEGMENT
__real@3fe999999999999a DQ 03fe999999999999ar	; 0.8
CONST	ENDS
;	COMDAT __real@3fd0000000000000
CONST	SEGMENT
__real@3fd0000000000000 DQ 03fd0000000000000r	; 0.25
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3e800000
CONST	SEGMENT
__real@3e800000 DD 03e800000r			; 0.25
CONST	ENDS
;	COMDAT ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
CONST	SEGMENT
??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@ DB 'c:\users\nh'
	DB	'v90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_a'
	DB	'vlmp.c', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA DD 0f5H ; `update_hokum_lamp_avionics'::`1'::__LINE__Var
_DATA	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?update_master_caution@@YGXXZ
_TEXT	SEGMENT
tv80 = -68						; size = 4
?update_master_caution@@YGXXZ PROC			; update_master_caution, COMDAT

; 172  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 173  : 	//
; 174  : 	// monitor engine damage
; 175  : 	//
; 176  : 
; 177  : 	engine_damage_imminent_status = get_current_flight_dynamics_engine_damage_imminent ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0000e	f3 0f 5a 80 c4
	1c 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7364]
  00016	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0001c	f3 0f 5a 89 d0
	1c 00 00	 cvtss2sd xmm1, DWORD PTR [ecx+7376]
  00024	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe999999999999a
  0002c	66 0f 2f c1	 comisd	 xmm0, xmm1
  00030	77 32		 ja	 SHORT $LN7@update_mas
  00032	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00038	f3 0f 5a 82 24
	1d 00 00	 cvtss2sd xmm0, DWORD PTR [edx+7460]
  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00045	f3 0f 5a 88 30
	1d 00 00	 cvtss2sd xmm1, DWORD PTR [eax+7472]
  0004d	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fe999999999999a
  00055	66 0f 2f c1	 comisd	 xmm0, xmm1
  00059	77 09		 ja	 SHORT $LN7@update_mas
  0005b	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv80[ebp], 0
  00062	eb 07		 jmp	 SHORT $LN8@update_mas
$LN7@update_mas:
  00064	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv80[ebp], 1
$LN8@update_mas:
  0006b	8b 4d bc	 mov	 ecx, DWORD PTR tv80[ebp]
  0006e	89 0d 00 00 00
	00		 mov	 DWORD PTR ?engine_damage_imminent_status@@3HA, ecx

; 178  : 
; 179  : 	if ((!previous_engine_damage_imminent_status) && engine_damage_imminent_status)

  00074	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, 0
  0007b	75 1b		 jne	 SHORT $LN2@update_mas
  0007d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?engine_damage_imminent_status@@3HA, 0
  00084	74 12		 je	 SHORT $LN2@update_mas

; 180  : 	{
; 181  : 		play_client_server_warning_message (get_gunship_entity (), SPEECH_SYSTEM_ENGINE_OVERTORQUE);

  00086	6a 28		 push	 40			; 00000028H
  00088	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0008d	50		 push	 eax
  0008e	e8 00 00 00 00	 call	 ?play_client_server_warning_message@@YGHPAUENTITY@@H@Z ; play_client_server_warning_message

; 182  : 
; 183  : 		activate_hokum_master_caution ();

  00093	e8 00 00 00 00	 call	 ?activate_hokum_master_caution@@YGXXZ ; activate_hokum_master_caution
$LN2@update_mas:

; 184  : 	}
; 185  : 
; 186  : 	previous_engine_damage_imminent_status = engine_damage_imminent_status;

  00098	a1 00 00 00 00	 mov	 eax, DWORD PTR ?engine_damage_imminent_status@@3HA
  0009d	a3 00 00 00 00	 mov	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, eax

; 187  : 
; 188  : 	//
; 189  : 	// update master caution lamp
; 190  : 	//
; 191  : 
; 192  : 	if (master_caution_alert)

  000a2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?master_caution_alert@@3HA, 0
  000a9	0f 84 a7 00 00
	00		 je	 $LN5@update_mas

; 193  : 	{
; 194  : 		master_caution_flash_timer -= get_delta_time ();

  000af	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?master_caution_flash_timer@@3MA
  000b7	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  000bf	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 195  : 
; 196  : 		if (master_caution_flash_timer <= 0.0)

  000c7	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?master_caution_flash_timer@@3MA
  000cf	0f 57 c9	 xorps	 xmm1, xmm1
  000d2	66 0f 2f c8	 comisd	 xmm1, xmm0
  000d6	72 2f		 jb	 SHORT $LN4@update_mas

; 197  : 		{
; 198  : 			master_caution_flash_timer = MASTER_CAUTION_FLASH_RATE;

  000d8	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  000e0	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 199  : 
; 200  : 			hokum_lamps.master_caution ^= 1;

  000e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  000ed	83 e0 01	 and	 eax, 1
  000f0	83 f0 01	 xor	 eax, 1
  000f3	83 e0 01	 and	 eax, 1
  000f6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  000fc	83 e1 fe	 and	 ecx, -2			; fffffffeH
  000ff	0b c8		 or	 ecx, eax
  00101	89 0d 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, ecx
$LN4@update_mas:

; 201  : 		}
; 202  : 
; 203  : 		master_caution_sound_timer -= get_delta_time ();

  00107	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?master_caution_sound_timer@@3MA
  0010f	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00117	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 204  : 
; 205  : 		if (master_caution_sound_timer <= 0.0)

  0011f	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?master_caution_sound_timer@@3MA
  00127	0f 57 c9	 xorps	 xmm1, xmm1
  0012a	66 0f 2f c8	 comisd	 xmm1, xmm0
  0012e	72 26		 jb	 SHORT $LN5@update_mas

; 206  : 		{
; 207  : 			master_caution_sound_timer = 0.0;

  00130	0f 57 c0	 xorps	 xmm0, xmm0
  00133	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 208  : 
; 209  : 			pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  0013b	51		 push	 ecx
  0013c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00144	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00149	6a 19		 push	 25			; 00000019H
  0014b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN5@update_mas:

; 210  : 		}
; 211  : 	}
; 212  : }

  00156	5f		 pop	 edi
  00157	5e		 pop	 esi
  00158	5b		 pop	 ebx
  00159	8b e5		 mov	 esp, ebp
  0015b	5d		 pop	 ebp
  0015c	c3		 ret	 0
?update_master_caution@@YGXXZ ENDP			; update_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?deinitialise_master_caution@@YGXXZ
_TEXT	SEGMENT
?deinitialise_master_caution@@YGXXZ PROC		; deinitialise_master_caution, COMDAT

; 126  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 127  : 	if (get_gunship_entity ())

  00009	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gunship_entity@@3PAUENTITY@@A, 0 ; gunship_entity
  00010	74 1b		 je	 SHORT $LN2@deinitiali

; 128  : 	{
; 129  : 		pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  00012	51		 push	 ecx
  00013	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0001b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00020	6a 19		 push	 25			; 00000019H
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00027	50		 push	 eax
  00028	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type
$LN2@deinitiali:

; 130  : 	}
; 131  : }

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c3		 ret	 0
?deinitialise_master_caution@@YGXXZ ENDP		; deinitialise_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?initialise_master_caution@@YGXXZ
_TEXT	SEGMENT
?initialise_master_caution@@YGXXZ PROC			; initialise_master_caution, COMDAT

; 109  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 110  : 	master_caution_alert = FALSE;

  00009	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 0

; 111  : 
; 112  : 	master_caution_flash_timer = 0.0;

  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 113  : 
; 114  : 	master_caution_sound_timer = 0.0;

  0001e	0f 57 c0	 xorps	 xmm0, xmm0
  00021	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 115  : 
; 116  : 	engine_damage_imminent_status = FALSE;

  00029	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?engine_damage_imminent_status@@3HA, 0

; 117  : 
; 118  : 	previous_engine_damage_imminent_status = FALSE;

  00033	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?previous_engine_damage_imminent_status@@3HA, 0

; 119  : }

  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi
  0003f	5b		 pop	 ebx
  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c3		 ret	 0
?initialise_master_caution@@YGXXZ ENDP			; initialise_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?update_hokum_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
tv347 = -84						; size = 4
tv322 = -84						; size = 4
tv297 = -84						; size = 4
tv272 = -84						; size = 4
tv219 = -84						; size = 4
tv141 = -84						; size = 4
tv341 = -80						; size = 4
tv316 = -80						; size = 4
tv291 = -80						; size = 4
tv266 = -80						; size = 4
tv213 = -80						; size = 4
tv138 = -80						; size = 4
tv403 = -76						; size = 4
tv396 = -76						; size = 4
tv389 = -76						; size = 4
tv382 = -76						; size = 4
tv368 = -76						; size = 4
tv363 = -76						; size = 4
tv333 = -76						; size = 4
tv308 = -76						; size = 4
tv283 = -76						; size = 4
tv258 = -76						; size = 4
tv247 = -76						; size = 4
tv241 = -76						; size = 4
tv232 = -76						; size = 4
tv205 = -76						; size = 4
tv180 = -76						; size = 4
tv167 = -76						; size = 4
tv156 = -76						; size = 4
tv134 = -76						; size = 4
tv94 = -76						; size = 4
tv82 = -76						; size = 4
tv73 = -76						; size = 4
_gear_state$ = -8					; size = 4
_en$ = -4						; size = 4
?update_hokum_lamp_avionics@@YGXXZ PROC			; update_hokum_lamp_avionics, COMDAT

; 245  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 246  : 	entity
; 247  : 		*en;
; 248  : 
; 249  : 	int
; 250  : 		gear_state;
; 251  : 
; 252  : 	en = get_gunship_entity ();

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0000e	89 45 fc	 mov	 DWORD PTR _en$[ebp], eax

; 253  : 
; 254  : 	update_master_caution ();

  00011	e8 00 00 00 00	 call	 ?update_master_caution@@YGXXZ ; update_master_caution

; 255  : 
; 256  : 	////////////////////////////////////////
; 257  : 
; 258  : 	gear_state = get_local_entity_undercarriage_state (en);

  00016	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?get_local_entity_undercarriage_state@@YGHPAUENTITY@@@Z ; get_local_entity_undercarriage_state
  0001f	89 45 f8	 mov	 DWORD PTR _gear_state$[ebp], eax

; 259  : 
; 260  : 	gear_transition_timer -= get_delta_time ();

  00022	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?gear_transition_timer@@3MA
  0002a	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?system_delta_time@@3MA
  00032	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?gear_transition_timer@@3MA, xmm0

; 261  : 
; 262  : 	if (gear_transition_timer <= 0.0)

  0003a	f3 0f 5a 05 00
	00 00 00	 cvtss2sd xmm0, DWORD PTR ?gear_transition_timer@@3MA
  00042	0f 57 c9	 xorps	 xmm1, xmm1
  00045	66 0f 2f c8	 comisd	 xmm1, xmm0
  00049	72 1d		 jb	 SHORT $LN4@update_hok

; 263  : 	{
; 264  : 		gear_transition_state ^= 1;

  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gear_transition_state@@3HA
  00050	83 f0 01	 xor	 eax, 1
  00053	a3 00 00 00 00	 mov	 DWORD PTR ?gear_transition_state@@3HA, eax

; 265  : 
; 266  : 		gear_transition_timer = GEAR_TRANSITION_FLASH_RATE;

  00058	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3e800000
  00060	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?gear_transition_timer@@3MA, xmm0
$LN4@update_hok:

; 267  : 	}
; 268  : 
; 269  : 	////////////////////////////////////////
; 270  : 
; 271  : 	hokum_lamps.left_engine_fire = get_dynamics_damage_type (DYNAMICS_DAMAGE_LEFT_ENGINE_FIRE);

  00068	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0006d	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  00073	83 e1 20	 and	 ecx, 32			; 00000020H
  00076	74 09		 je	 SHORT $LN10@update_hok
  00078	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv73[ebp], 1
  0007f	eb 07		 jmp	 SHORT $LN11@update_hok
$LN10@update_hok:
  00081	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv73[ebp], 0
$LN11@update_hok:
  00088	8b 55 b4	 mov	 edx, DWORD PTR tv73[ebp]
  0008b	83 e2 01	 and	 edx, 1
  0008e	d1 e2		 shl	 edx, 1
  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00095	83 e0 fd	 and	 eax, -3			; fffffffdH
  00098	0b c2		 or	 eax, edx
  0009a	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 272  : 
; 273  : 	hokum_lamps.apu_fire = 0;

  0009f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  000a4	83 e0 fb	 and	 eax, -5			; fffffffbH
  000a7	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 274  : 
; 275  : 	hokum_lamps.right_engine_fire = get_dynamics_damage_type (DYNAMICS_DAMAGE_RIGHT_ENGINE_FIRE);

  000ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  000b1	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  000b7	83 e1 40	 and	 ecx, 64			; 00000040H
  000ba	74 09		 je	 SHORT $LN12@update_hok
  000bc	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv82[ebp], 1
  000c3	eb 07		 jmp	 SHORT $LN13@update_hok
$LN12@update_hok:
  000c5	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$LN13@update_hok:
  000cc	8b 55 b4	 mov	 edx, DWORD PTR tv82[ebp]
  000cf	83 e2 01	 and	 edx, 1
  000d2	c1 e2 03	 shl	 edx, 3
  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  000da	83 e0 f7	 and	 eax, -9			; fffffff7H
  000dd	0b c2		 or	 eax, edx
  000df	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 276  : 
; 277  : 	hokum_lamps.fire_extinguiser = fire_extinguisher_used;

  000e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?fire_extinguisher_used@@3HA ; fire_extinguisher_used
  000e9	83 e0 01	 and	 eax, 1
  000ec	c1 e0 04	 shl	 eax, 4
  000ef	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  000f5	83 e1 ef	 and	 ecx, -17		; ffffffefH
  000f8	0b c8		 or	 ecx, eax
  000fa	89 0d 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, ecx

; 278  : 
; 279  : 	hokum_lamps.hydraulic_pressure = get_dynamics_damage_type (DYNAMICS_DAMAGE_LOW_HYDRAULICS);

  00100	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00105	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  0010b	81 e1 80 00 00
	00		 and	 ecx, 128		; 00000080H
  00111	74 09		 je	 SHORT $LN14@update_hok
  00113	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv94[ebp], 1
  0011a	eb 07		 jmp	 SHORT $LN15@update_hok
$LN14@update_hok:
  0011c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv94[ebp], 0
$LN15@update_hok:
  00123	8b 55 b4	 mov	 edx, DWORD PTR tv94[ebp]
  00126	83 e2 01	 and	 edx, 1
  00129	c1 e2 05	 shl	 edx, 5
  0012c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00131	83 e0 df	 and	 eax, -33		; ffffffdfH
  00134	0b c2		 or	 eax, edx
  00136	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 280  : 
; 281  : 	hokum_lamps.oil_pressure = get_dynamics_damage_type (DYNAMICS_DAMAGE_LOW_OIL_PRESSURE) || get_dynamics_damage_type (DYNAMICS_DAMAGE_HIGH_OIL_PRESSURE);

  0013b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00140	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  00146	81 e1 00 04 00
	00		 and	 ecx, 1024		; 00000400H
  0014c	74 09		 je	 SHORT $LN16@update_hok
  0014e	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv134[ebp], 1
  00155	eb 07		 jmp	 SHORT $LN17@update_hok
$LN16@update_hok:
  00157	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv134[ebp], 0
$LN17@update_hok:
  0015e	83 7d b4 00	 cmp	 DWORD PTR tv134[ebp], 0
  00162	75 32		 jne	 SHORT $LN20@update_hok
  00164	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0016a	8b 82 24 25 00
	00		 mov	 eax, DWORD PTR [edx+9508]
  00170	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  00175	74 09		 je	 SHORT $LN18@update_hok
  00177	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR tv138[ebp], 1
  0017e	eb 07		 jmp	 SHORT $LN19@update_hok
$LN18@update_hok:
  00180	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv138[ebp], 0
$LN19@update_hok:
  00187	83 7d b0 00	 cmp	 DWORD PTR tv138[ebp], 0
  0018b	75 09		 jne	 SHORT $LN20@update_hok
  0018d	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR tv141[ebp], 0
  00194	eb 07		 jmp	 SHORT $LN21@update_hok
$LN20@update_hok:
  00196	c7 45 ac 01 00
	00 00		 mov	 DWORD PTR tv141[ebp], 1
$LN21@update_hok:
  0019d	8b 4d ac	 mov	 ecx, DWORD PTR tv141[ebp]
  001a0	83 e1 01	 and	 ecx, 1
  001a3	c1 e1 06	 shl	 ecx, 6
  001a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  001ac	83 e2 bf	 and	 edx, -65		; ffffffbfH
  001af	0b d1		 or	 edx, ecx
  001b1	89 15 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, edx

; 282  : 
; 283  : 	hokum_lamps.oil_temperature = 0;

  001b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  001bc	25 7f ff ff ff	 and	 eax, -129		; ffffff7fH
  001c1	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 284  : 
; 285  : 	hokum_lamps.overtorque = get_current_flight_dynamics_overtorque ();

  001c6	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  001cb	85 c0		 test	 eax, eax
  001cd	75 2c		 jne	 SHORT $LN22@update_hok
  001cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  001d4	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  001da	83 e1 01	 and	 ecx, 1
  001dd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  001e3	8b 82 28 25 00
	00		 mov	 eax, DWORD PTR [edx+9512]
  001e9	d1 e8		 shr	 eax, 1
  001eb	83 e0 01	 and	 eax, 1
  001ee	0b c8		 or	 ecx, eax
  001f0	74 09		 je	 SHORT $LN22@update_hok
  001f2	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv156[ebp], 1
  001f9	eb 07		 jmp	 SHORT $LN23@update_hok
$LN22@update_hok:
  001fb	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv156[ebp], 0
$LN23@update_hok:
  00202	8b 4d b4	 mov	 ecx, DWORD PTR tv156[ebp]
  00205	83 e1 01	 and	 ecx, 1
  00208	c1 e1 08	 shl	 ecx, 8
  0020b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00211	81 e2 ff fe ff
	ff		 and	 edx, -257		; fffffeffH
  00217	0b d1		 or	 edx, ecx
  00219	89 15 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, edx

; 286  : 
; 287  : 	hokum_lamps.rotor_rpm = get_current_flight_dynamics_low_rotor_rpm ();

  0021f	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  00224	85 c0		 test	 eax, eax
  00226	75 24		 jne	 SHORT $LN24@update_hok
  00228	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  0022d	f3 0f 5a 80 14
	1e 00 00	 cvtss2sd xmm0, DWORD PTR [eax+7700]
  00235	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4056800000000000
  0023d	66 0f 2f c8	 comisd	 xmm1, xmm0
  00241	76 09		 jbe	 SHORT $LN24@update_hok
  00243	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv167[ebp], 1
  0024a	eb 07		 jmp	 SHORT $LN25@update_hok
$LN24@update_hok:
  0024c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv167[ebp], 0
$LN25@update_hok:
  00253	8b 4d b4	 mov	 ecx, DWORD PTR tv167[ebp]
  00256	83 e1 01	 and	 ecx, 1
  00259	c1 e1 09	 shl	 ecx, 9
  0025c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00262	81 e2 ff fd ff
	ff		 and	 edx, -513		; fffffdffH
  00268	0b d1		 or	 edx, ecx
  0026a	89 15 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, edx

; 288  : 
; 289  : 	hokum_lamps.fuel_low = current_flight_dynamics->fuel_weight.value < (current_flight_dynamics->fuel_weight.max * 0.25);

  00270	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00275	f3 0f 5a 80 a4
	24 00 00	 cvtss2sd xmm0, DWORD PTR [eax+9380]
  0027d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00283	f3 0f 5a 89 b0
	24 00 00	 cvtss2sd xmm1, DWORD PTR [ecx+9392]
  0028b	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@3fd0000000000000
  00293	66 0f 2f c8	 comisd	 xmm1, xmm0
  00297	76 09		 jbe	 SHORT $LN26@update_hok
  00299	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv180[ebp], 1
  002a0	eb 07		 jmp	 SHORT $LN27@update_hok
$LN26@update_hok:
  002a2	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv180[ebp], 0
$LN27@update_hok:
  002a9	8b 55 b4	 mov	 edx, DWORD PTR tv180[ebp]
  002ac	83 e2 01	 and	 edx, 1
  002af	c1 e2 0a	 shl	 edx, 10			; 0000000aH
  002b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  002b7	25 ff fb ff ff	 and	 eax, -1025		; fffffbffH
  002bc	0b c2		 or	 eax, edx
  002be	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 290  : 
; 291  : 	hokum_lamps.rotor_brake = get_current_flight_dynamics_rotor_brake ();

  002c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  002c8	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  002ce	c1 e9 05	 shr	 ecx, 5
  002d1	83 e1 01	 and	 ecx, 1
  002d4	83 e1 01	 and	 ecx, 1
  002d7	c1 e1 0b	 shl	 ecx, 11			; 0000000bH
  002da	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  002e0	81 e2 ff f7 ff
	ff		 and	 edx, -2049		; fffff7ffH
  002e6	0b d1		 or	 edx, ecx
  002e8	89 15 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, edx

; 292  : 
; 293  : 	hokum_lamps.wheel_brake = get_current_flight_dynamics_wheel_brake ();

  002ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  002f3	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  002f9	c1 e9 06	 shr	 ecx, 6
  002fc	83 e1 01	 and	 ecx, 1
  002ff	83 e1 01	 and	 ecx, 1
  00302	c1 e1 0c	 shl	 ecx, 12			; 0000000cH
  00305	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  0030b	81 e2 ff ef ff
	ff		 and	 edx, -4097		; ffffefffH
  00311	0b d1		 or	 edx, ecx
  00313	89 15 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, edx

; 294  : 
; 295  : 	hokum_lamps.navigation_lights = get_local_entity_int_value (en, INT_TYPE_LIGHTS_ON);

  00319	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0031d	74 0a		 je	 SHORT $LN28@update_hok
  0031f	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00322	8b 08		 mov	 ecx, DWORD PTR [eax]
  00324	89 4d b4	 mov	 DWORD PTR tv205[ebp], ecx
  00327	eb 21		 jmp	 SHORT $LN29@update_hok
$LN28@update_hok:
  00329	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  0032f	83 c2 32	 add	 edx, 50			; 00000032H
  00332	52		 push	 edx
  00333	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00338	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0033d	50		 push	 eax
  0033e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00343	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv205[ebp], 0
$LN29@update_hok:
  0034a	b9 01 00 00 00	 mov	 ecx, 1
  0034f	85 c9		 test	 ecx, ecx
  00351	74 09		 je	 SHORT $LN30@update_hok
  00353	c7 45 b0 7a 00
	00 00		 mov	 DWORD PTR tv213[ebp], 122 ; 0000007aH
  0035a	eb 21		 jmp	 SHORT $LN31@update_hok
$LN30@update_hok:
  0035c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  00362	83 c2 32	 add	 edx, 50			; 00000032H
  00365	52		 push	 edx
  00366	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  0036b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00370	50		 push	 eax
  00371	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00376	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv213[ebp], 0
$LN31@update_hok:
  0037d	6a 7a		 push	 122			; 0000007aH
  0037f	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00382	51		 push	 ecx
  00383	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv205[ebp], 1116
  0038a	8b 45 b0	 mov	 eax, DWORD PTR tv213[ebp]
  0038d	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00394	ff d1		 call	 ecx
  00396	89 45 ac	 mov	 DWORD PTR tv219[ebp], eax
  00399	8b 55 ac	 mov	 edx, DWORD PTR tv219[ebp]
  0039c	83 e2 01	 and	 edx, 1
  0039f	c1 e2 0d	 shl	 edx, 13			; 0000000dH
  003a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  003a7	25 ff df ff ff	 and	 eax, -8193		; ffffdfffH
  003ac	0b c2		 or	 eax, edx
  003ae	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 296  : 
; 297  : 	hokum_lamps.hover_hold = get_current_flight_dynamics_auto_hover ();

  003b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  003b8	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  003be	c1 e9 07	 shr	 ecx, 7
  003c1	83 e1 07	 and	 ecx, 7
  003c4	83 f9 01	 cmp	 ecx, 1
  003c7	74 20		 je	 SHORT $LN32@update_hok
  003c9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  003cf	8b 82 28 25 00
	00		 mov	 eax, DWORD PTR [edx+9512]
  003d5	c1 e8 07	 shr	 eax, 7
  003d8	83 e0 07	 and	 eax, 7
  003db	83 f8 02	 cmp	 eax, 2
  003de	74 09		 je	 SHORT $LN32@update_hok
  003e0	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv232[ebp], 0
  003e7	eb 07		 jmp	 SHORT $LN33@update_hok
$LN32@update_hok:
  003e9	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv232[ebp], 1
$LN33@update_hok:
  003f0	8b 4d b4	 mov	 ecx, DWORD PTR tv232[ebp]
  003f3	83 e1 01	 and	 ecx, 1
  003f6	c1 e1 0e	 shl	 ecx, 14			; 0000000eH
  003f9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  003ff	81 e2 ff bf ff
	ff		 and	 edx, -16385		; ffffbfffH
  00405	0b d1		 or	 edx, ecx
  00407	89 15 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, edx

; 298  : 
; 299  : 	hokum_lamps.altitude_hold = get_current_flight_dynamics_altitude_lock ();

  0040d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00412	8b 88 28 25 00
	00		 mov	 ecx, DWORD PTR [eax+9512]
  00418	c1 e9 07	 shr	 ecx, 7
  0041b	83 e1 07	 and	 ecx, 7
  0041e	83 f9 03	 cmp	 ecx, 3
  00421	75 09		 jne	 SHORT $LN34@update_hok
  00423	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv241[ebp], 1
  0042a	eb 07		 jmp	 SHORT $LN35@update_hok
$LN34@update_hok:
  0042c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv241[ebp], 0
$LN35@update_hok:
  00433	8b 55 b4	 mov	 edx, DWORD PTR tv241[ebp]
  00436	83 e2 01	 and	 edx, 1
  00439	c1 e2 0f	 shl	 edx, 15			; 0000000fH
  0043c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00441	25 ff 7f ff ff	 and	 eax, -32769		; ffff7fffH
  00446	0b c2		 or	 eax, edx
  00448	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 300  : 
; 301  : 	hokum_lamps.auto_pilot = get_current_flight_dynamics_auto_pilot ();

  0044d	e8 00 00 00 00	 call	 ?get_current_flight_dynamics_auto_pilot@@YGHXZ ; get_current_flight_dynamics_auto_pilot
  00452	89 45 b4	 mov	 DWORD PTR tv247[ebp], eax
  00455	8b 45 b4	 mov	 eax, DWORD PTR tv247[ebp]
  00458	83 e0 01	 and	 eax, 1
  0045b	c1 e0 10	 shl	 eax, 16			; 00000010H
  0045e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00464	81 e1 ff ff fe
	ff		 and	 ecx, -65537		; fffeffffH
  0046a	0b c8		 or	 ecx, eax
  0046c	89 0d 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, ecx

; 302  : 
; 303  : 	hokum_lamps.radar = get_local_entity_int_value (en, INT_TYPE_RADAR_ON);

  00472	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00476	74 0a		 je	 SHORT $LN36@update_hok
  00478	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0047b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0047d	89 4d b4	 mov	 DWORD PTR tv258[ebp], ecx
  00480	eb 21		 jmp	 SHORT $LN37@update_hok
$LN36@update_hok:
  00482	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  00488	83 c2 3a	 add	 edx, 58			; 0000003aH
  0048b	52		 push	 edx
  0048c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00491	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00496	50		 push	 eax
  00497	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0049c	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv258[ebp], 0
$LN37@update_hok:
  004a3	b9 01 00 00 00	 mov	 ecx, 1
  004a8	85 c9		 test	 ecx, ecx
  004aa	74 09		 je	 SHORT $LN38@update_hok
  004ac	c7 45 b0 a9 00
	00 00		 mov	 DWORD PTR tv266[ebp], 169 ; 000000a9H
  004b3	eb 21		 jmp	 SHORT $LN39@update_hok
$LN38@update_hok:
  004b5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  004bb	83 c2 3a	 add	 edx, 58			; 0000003aH
  004be	52		 push	 edx
  004bf	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  004c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  004c9	50		 push	 eax
  004ca	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  004cf	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv266[ebp], 0
$LN39@update_hok:
  004d6	68 a9 00 00 00	 push	 169			; 000000a9H
  004db	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  004de	51		 push	 ecx
  004df	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv258[ebp], 1116
  004e6	8b 45 b0	 mov	 eax, DWORD PTR tv266[ebp]
  004e9	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  004f0	ff d1		 call	 ecx
  004f2	89 45 ac	 mov	 DWORD PTR tv272[ebp], eax
  004f5	8b 55 ac	 mov	 edx, DWORD PTR tv272[ebp]
  004f8	83 e2 01	 and	 edx, 1
  004fb	c1 e2 11	 shl	 edx, 17			; 00000011H
  004fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00503	25 ff ff fd ff	 and	 eax, -131073		; fffdffffH
  00508	0b c2		 or	 eax, edx
  0050a	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 304  : 
; 305  : 	hokum_lamps.laser = get_local_entity_int_value (en, INT_TYPE_LASER_ON);

  0050f	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  00513	74 0a		 je	 SHORT $LN40@update_hok
  00515	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  00518	8b 08		 mov	 ecx, DWORD PTR [eax]
  0051a	89 4d b4	 mov	 DWORD PTR tv283[ebp], ecx
  0051d	eb 21		 jmp	 SHORT $LN41@update_hok
$LN40@update_hok:
  0051f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  00525	83 c2 3c	 add	 edx, 60			; 0000003cH
  00528	52		 push	 edx
  00529	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  0052e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  00533	50		 push	 eax
  00534	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00539	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv283[ebp], 0
$LN41@update_hok:
  00540	b9 01 00 00 00	 mov	 ecx, 1
  00545	85 c9		 test	 ecx, ecx
  00547	74 09		 je	 SHORT $LN42@update_hok
  00549	c7 45 b0 78 00
	00 00		 mov	 DWORD PTR tv291[ebp], 120 ; 00000078H
  00550	eb 21		 jmp	 SHORT $LN43@update_hok
$LN42@update_hok:
  00552	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  00558	83 c2 3c	 add	 edx, 60			; 0000003cH
  0055b	52		 push	 edx
  0055c	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00561	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00566	50		 push	 eax
  00567	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  0056c	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv291[ebp], 0
$LN43@update_hok:
  00573	6a 78		 push	 120			; 00000078H
  00575	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00578	51		 push	 ecx
  00579	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv283[ebp], 1116
  00580	8b 45 b0	 mov	 eax, DWORD PTR tv291[ebp]
  00583	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  0058a	ff d1		 call	 ecx
  0058c	89 45 ac	 mov	 DWORD PTR tv297[ebp], eax
  0058f	8b 55 ac	 mov	 edx, DWORD PTR tv297[ebp]
  00592	83 e2 01	 and	 edx, 1
  00595	c1 e2 12	 shl	 edx, 18			; 00000012H
  00598	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  0059d	25 ff ff fb ff	 and	 eax, -262145		; fffbffffH
  005a2	0b c2		 or	 eax, edx
  005a4	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 306  : 
; 307  : 	hokum_lamps.radar_jammer = get_local_entity_int_value (en, INT_TYPE_RADAR_JAMMER_ON);

  005a9	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  005ad	74 0a		 je	 SHORT $LN44@update_hok
  005af	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  005b2	8b 08		 mov	 ecx, DWORD PTR [eax]
  005b4	89 4d b4	 mov	 DWORD PTR tv308[ebp], ecx
  005b7	eb 21		 jmp	 SHORT $LN45@update_hok
$LN44@update_hok:
  005b9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  005bf	83 c2 3e	 add	 edx, 62			; 0000003eH
  005c2	52		 push	 edx
  005c3	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  005c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  005cd	50		 push	 eax
  005ce	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  005d3	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv308[ebp], 0
$LN45@update_hok:
  005da	b9 01 00 00 00	 mov	 ecx, 1
  005df	85 c9		 test	 ecx, ecx
  005e1	74 09		 je	 SHORT $LN46@update_hok
  005e3	c7 45 b0 a8 00
	00 00		 mov	 DWORD PTR tv316[ebp], 168 ; 000000a8H
  005ea	eb 21		 jmp	 SHORT $LN47@update_hok
$LN46@update_hok:
  005ec	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  005f2	83 c2 3e	 add	 edx, 62			; 0000003eH
  005f5	52		 push	 edx
  005f6	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  005fb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  00600	50		 push	 eax
  00601	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00606	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv316[ebp], 0
$LN47@update_hok:
  0060d	68 a8 00 00 00	 push	 168			; 000000a8H
  00612	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  00615	51		 push	 ecx
  00616	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv308[ebp], 1116
  0061d	8b 45 b0	 mov	 eax, DWORD PTR tv316[ebp]
  00620	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  00627	ff d1		 call	 ecx
  00629	89 45 ac	 mov	 DWORD PTR tv322[ebp], eax
  0062c	8b 55 ac	 mov	 edx, DWORD PTR tv322[ebp]
  0062f	83 e2 01	 and	 edx, 1
  00632	c1 e2 13	 shl	 edx, 19			; 00000013H
  00635	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  0063a	25 ff ff f7 ff	 and	 eax, -524289		; fff7ffffH
  0063f	0b c2		 or	 eax, edx
  00641	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 308  : 
; 309  : 	hokum_lamps.ir_jammer = get_local_entity_int_value (en, INT_TYPE_INFRA_RED_JAMMER_ON);

  00646	83 7d fc 00	 cmp	 DWORD PTR _en$[ebp], 0
  0064a	74 0a		 je	 SHORT $LN48@update_hok
  0064c	8b 45 fc	 mov	 eax, DWORD PTR _en$[ebp]
  0064f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00651	89 4d b4	 mov	 DWORD PTR tv333[ebp], ecx
  00654	eb 21		 jmp	 SHORT $LN49@update_hok
$LN48@update_hok:
  00656	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  0065c	83 c2 40	 add	 edx, 64			; 00000040H
  0065f	52		 push	 edx
  00660	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00665	a1 00 00 00 00	 mov	 eax, DWORD PTR ?null_entity_pointer_message@@3PBDB ; null_entity_pointer_message
  0066a	50		 push	 eax
  0066b	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  00670	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv333[ebp], 0
$LN49@update_hok:
  00677	b9 01 00 00 00	 mov	 ecx, 1
  0067c	85 c9		 test	 ecx, ecx
  0067e	74 09		 je	 SHORT $LN50@update_hok
  00680	c7 45 b0 68 00
	00 00		 mov	 DWORD PTR tv341[ebp], 104 ; 00000068H
  00687	eb 21		 jmp	 SHORT $LN51@update_hok
$LN50@update_hok:
  00689	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?__LINE__Var@?0??update_hokum_lamp_avionics@@YGXXZ@4JA
  0068f	83 c2 40	 add	 edx, 64			; 00000040H
  00692	52		 push	 edx
  00693	68 00 00 00 00	 push	 OFFSET ??_C@_0EP@BCJDABOG@c?3?2users?2nhv90?2projects?2eech?2ap@
  00698	a1 00 00 00 00	 mov	 eax, DWORD PTR ?overload_invalid_int_type_message@@3PBDB ; overload_invalid_int_type_message
  0069d	50		 push	 eax
  0069e	e8 00 00 00 00	 call	 ?process_assert@@YGXPBD0H@Z ; process_assert
  006a3	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR tv341[ebp], 0
$LN51@update_hok:
  006aa	6a 68		 push	 104			; 00000068H
  006ac	8b 4d fc	 mov	 ecx, DWORD PTR _en$[ebp]
  006af	51		 push	 ecx
  006b0	69 55 b4 5c 04
	00 00		 imul	 edx, DWORD PTR tv333[ebp], 1116
  006b7	8b 45 b0	 mov	 eax, DWORD PTR tv341[ebp]
  006ba	8b 8c 82 00 00
	00 00		 mov	 ecx, DWORD PTR ?fn_get_local_entity_int_value@@3PAY0BBH@P6GHPAUENTITY@@W4INT_TYPES@@@ZA[edx+eax*4]
  006c1	ff d1		 call	 ecx
  006c3	89 45 ac	 mov	 DWORD PTR tv347[ebp], eax
  006c6	8b 55 ac	 mov	 edx, DWORD PTR tv347[ebp]
  006c9	83 e2 01	 and	 edx, 1
  006cc	c1 e2 14	 shl	 edx, 20			; 00000014H
  006cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  006d4	25 ff ff ef ff	 and	 eax, -1048577		; ffefffffH
  006d9	0b c2		 or	 eax, edx
  006db	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 310  : 
; 311  : 	hokum_lamps.auto_counter_measures = get_global_auto_counter_measures ();

  006e0	a1 90 00 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+144
  006e5	83 e0 01	 and	 eax, 1
  006e8	c1 e0 15	 shl	 eax, 21			; 00000015H
  006eb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  006f1	81 e1 ff ff df
	ff		 and	 ecx, -2097153		; ffdfffffH
  006f7	0b c8		 or	 ecx, eax
  006f9	89 0d 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, ecx

; 312  : 
; 313  : 	hokum_lamps.ase_auto_page = get_global_ase_auto_page ();

  006ff	a1 64 03 00 00	 mov	 eax, DWORD PTR ?global_options@@3UGLOBAL_OPTIONS_DATA@@A+868
  00704	83 e0 01	 and	 eax, 1
  00707	c1 e0 16	 shl	 eax, 22			; 00000016H
  0070a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  00710	81 e1 ff ff bf
	ff		 and	 ecx, -4194305		; ffbfffffH
  00716	0b c8		 or	 ecx, eax
  00718	89 0d 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, ecx

; 314  : 
; 315  : 	hokum_lamps.gear_damaged = get_dynamics_damage_type (DYNAMICS_DAMAGE_UNDERCARRIAGE);

  0071e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?current_flight_dynamics@@3PAUDYNAMICS_TYPE@@A ; current_flight_dynamics
  00723	8b 88 24 25 00
	00		 mov	 ecx, DWORD PTR [eax+9508]
  00729	81 e1 00 40 00
	00		 and	 ecx, 16384		; 00004000H
  0072f	74 09		 je	 SHORT $LN52@update_hok
  00731	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR tv363[ebp], 1
  00738	eb 07		 jmp	 SHORT $LN53@update_hok
$LN52@update_hok:
  0073a	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv363[ebp], 0
$LN53@update_hok:
  00741	8b 55 b4	 mov	 edx, DWORD PTR tv363[ebp]
  00744	83 e2 01	 and	 edx, 1
  00747	c1 e2 17	 shl	 edx, 23			; 00000017H
  0074a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  0074f	25 ff ff 7f ff	 and	 eax, -8388609		; ff7fffffH
  00754	0b c2		 or	 eax, edx
  00756	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 316  : 
; 317  : 	switch (gear_state)

  0075b	8b 45 f8	 mov	 eax, DWORD PTR _gear_state$[ebp]
  0075e	89 45 b4	 mov	 DWORD PTR tv368[ebp], eax
  00761	83 7d b4 03	 cmp	 DWORD PTR tv368[ebp], 3
  00765	0f 87 94 00 00
	00		 ja	 $LN2@update_hok
  0076b	8b 4d b4	 mov	 ecx, DWORD PTR tv368[ebp]
  0076e	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN54@update_hok[ecx*4]
$LN5@update_hok:

; 318  : 	{
; 319  : 		////////////////////////////////////////
; 320  : 		case AIRCRAFT_UNDERCARRIAGE_UP:
; 321  : 		////////////////////////////////////////
; 322  : 		{
; 323  : 			hokum_lamps.gear_status = 1;

  00775	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  0077a	0d 00 00 00 01	 or	 eax, 16777216		; 01000000H
  0077f	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 324  : 
; 325  : 			hokum_lamps.gear_red = 1;

  00784	c7 05 04 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+4, 1

; 326  : 
; 327  : 			break;

  0078e	eb 6f		 jmp	 SHORT $LN2@update_hok
$LN6@update_hok:

; 328  : 		}
; 329  : 		////////////////////////////////////////
; 330  : 		case AIRCRAFT_UNDERCARRIAGE_LOWERING:
; 331  : 		////////////////////////////////////////
; 332  : 		{
; 333  : 			hokum_lamps.gear_status = gear_transition_state;

  00790	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gear_transition_state@@3HA
  00795	83 e0 01	 and	 eax, 1
  00798	c1 e0 18	 shl	 eax, 24			; 00000018H
  0079b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  007a1	81 e1 ff ff ff
	fe		 and	 ecx, -16777217		; feffffffH
  007a7	0b c8		 or	 ecx, eax
  007a9	89 0d 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, ecx

; 334  : 
; 335  : 			hokum_lamps.gear_red = 0;

  007af	c7 05 04 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+4, 0

; 336  : 
; 337  : 			break;

  007b9	eb 44		 jmp	 SHORT $LN2@update_hok
$LN7@update_hok:

; 338  : 		}
; 339  : 		////////////////////////////////////////
; 340  : 		case AIRCRAFT_UNDERCARRIAGE_DOWN:
; 341  : 		////////////////////////////////////////
; 342  : 		{
; 343  : 			hokum_lamps.gear_status = 1;

  007bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  007c0	0d 00 00 00 01	 or	 eax, 16777216		; 01000000H
  007c5	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 344  : 
; 345  : 			hokum_lamps.gear_red = 0;

  007ca	c7 05 04 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+4, 0

; 346  : 
; 347  : 			break;

  007d4	eb 29		 jmp	 SHORT $LN2@update_hok
$LN8@update_hok:

; 348  : 		}
; 349  : 		////////////////////////////////////////
; 350  : 		case AIRCRAFT_UNDERCARRIAGE_RAISING:
; 351  : 		////////////////////////////////////////
; 352  : 		{
; 353  : 			hokum_lamps.gear_status = gear_transition_state;

  007d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gear_transition_state@@3HA
  007db	83 e0 01	 and	 eax, 1
  007de	c1 e0 18	 shl	 eax, 24			; 00000018H
  007e1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  007e7	81 e1 ff ff ff
	fe		 and	 ecx, -16777217		; feffffffH
  007ed	0b c8		 or	 ecx, eax
  007ef	89 0d 00 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, ecx

; 354  : 
; 355  : 			hokum_lamps.gear_red = 1;

  007f5	c7 05 04 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+4, 1
$LN2@update_hok:

; 356  : 
; 357  : 			break;
; 358  : 		}
; 359  : 	}
; 360  : 
; 361  : 	hokum_lamps.pilot_lh_mfd_focus = get_hokum_mfd_has_focus (HOKUM_MFD_LOCATION_PILOT_LHS);

  007ff	6a 00		 push	 0
  00801	e8 00 00 00 00	 call	 ?get_hokum_mfd_has_focus@@YGHW4HOKUM_MFD_LOCATIONS@@@Z ; get_hokum_mfd_has_focus
  00806	89 45 b4	 mov	 DWORD PTR tv382[ebp], eax
  00809	8b 45 b4	 mov	 eax, DWORD PTR tv382[ebp]
  0080c	83 e0 01	 and	 eax, 1
  0080f	d1 e0		 shl	 eax, 1
  00811	8b 0d 08 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8
  00817	83 e1 fd	 and	 ecx, -3			; fffffffdH
  0081a	0b c8		 or	 ecx, eax
  0081c	89 0d 08 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8, ecx

; 362  : 
; 363  : 	hokum_lamps.pilot_rh_mfd_focus = get_hokum_mfd_has_focus (HOKUM_MFD_LOCATION_PILOT_RHS);

  00822	6a 01		 push	 1
  00824	e8 00 00 00 00	 call	 ?get_hokum_mfd_has_focus@@YGHW4HOKUM_MFD_LOCATIONS@@@Z ; get_hokum_mfd_has_focus
  00829	89 45 b4	 mov	 DWORD PTR tv389[ebp], eax
  0082c	8b 45 b4	 mov	 eax, DWORD PTR tv389[ebp]
  0082f	83 e0 01	 and	 eax, 1
  00832	c1 e0 02	 shl	 eax, 2
  00835	8b 0d 08 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8
  0083b	83 e1 fb	 and	 ecx, -5			; fffffffbH
  0083e	0b c8		 or	 ecx, eax
  00840	89 0d 08 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8, ecx

; 364  : 
; 365  : 	hokum_lamps.co_pilot_lh_mfd_focus = get_hokum_mfd_has_focus (HOKUM_MFD_LOCATION_CO_PILOT_LHS);

  00846	6a 02		 push	 2
  00848	e8 00 00 00 00	 call	 ?get_hokum_mfd_has_focus@@YGHW4HOKUM_MFD_LOCATIONS@@@Z ; get_hokum_mfd_has_focus
  0084d	89 45 b4	 mov	 DWORD PTR tv396[ebp], eax
  00850	8b 45 b4	 mov	 eax, DWORD PTR tv396[ebp]
  00853	83 e0 01	 and	 eax, 1
  00856	c1 e0 03	 shl	 eax, 3
  00859	8b 0d 08 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8
  0085f	83 e1 f7	 and	 ecx, -9			; fffffff7H
  00862	0b c8		 or	 ecx, eax
  00864	89 0d 08 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8, ecx

; 366  : 
; 367  : 	hokum_lamps.co_pilot_rh_mfd_focus = get_hokum_mfd_has_focus (HOKUM_MFD_LOCATION_CO_PILOT_RHS);

  0086a	6a 03		 push	 3
  0086c	e8 00 00 00 00	 call	 ?get_hokum_mfd_has_focus@@YGHW4HOKUM_MFD_LOCATIONS@@@Z ; get_hokum_mfd_has_focus
  00871	89 45 b4	 mov	 DWORD PTR tv403[ebp], eax
  00874	8b 45 b4	 mov	 eax, DWORD PTR tv403[ebp]
  00877	83 e0 01	 and	 eax, 1
  0087a	c1 e0 04	 shl	 eax, 4
  0087d	8b 0d 08 00 00
	00		 mov	 ecx, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8
  00883	83 e1 ef	 and	 ecx, -17		; ffffffefH
  00886	0b c8		 or	 ecx, eax
  00888	89 0d 08 00 00
	00		 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A+8, ecx

; 368  : }

  0088e	5f		 pop	 edi
  0088f	5e		 pop	 esi
  00890	5b		 pop	 ebx
  00891	8b e5		 mov	 esp, ebp
  00893	5d		 pop	 ebp
  00894	c3		 ret	 0
  00895	0f 1f 00	 npad	 3
$LN54@update_hok:
  00898	00 00 00 00	 DD	 $LN5@update_hok
  0089c	00 00 00 00	 DD	 $LN6@update_hok
  008a0	00 00 00 00	 DD	 $LN7@update_hok
  008a4	00 00 00 00	 DD	 $LN8@update_hok
?update_hokum_lamp_avionics@@YGXXZ ENDP			; update_hokum_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?deinitialise_hokum_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
?deinitialise_hokum_lamp_avionics@@YGXXZ PROC		; deinitialise_hokum_lamp_avionics, COMDAT

; 236  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 237  : 	deinitialise_master_caution ();

  00009	e8 00 00 00 00	 call	 ?deinitialise_master_caution@@YGXXZ ; deinitialise_master_caution

; 238  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
?deinitialise_hokum_lamp_avionics@@YGXXZ ENDP		; deinitialise_hokum_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?initialise_hokum_lamp_avionics@@YGXXZ
_TEXT	SEGMENT
?initialise_hokum_lamp_avionics@@YGXXZ PROC		; initialise_hokum_lamp_avionics, COMDAT

; 223  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 224  : 	initialise_master_caution ();

  00009	e8 00 00 00 00	 call	 ?initialise_master_caution@@YGXXZ ; initialise_master_caution

; 225  : 
; 226  : 	gear_transition_state = 0;

  0000e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?gear_transition_state@@3HA, 0

; 227  : 
; 228  : 	gear_transition_timer = 0.0;

  00018	0f 57 c0	 xorps	 xmm0, xmm0
  0001b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?gear_transition_timer@@3MA, xmm0

; 229  : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
?initialise_hokum_lamp_avionics@@YGXXZ ENDP		; initialise_hokum_lamp_avionics
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?deactivate_hokum_master_caution@@YGXXZ
_TEXT	SEGMENT
?deactivate_hokum_master_caution@@YGXXZ PROC		; deactivate_hokum_master_caution, COMDAT

; 155  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 156  : 	hokum_lamps.master_caution = 0;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  0000e	83 e0 fe	 and	 eax, -2			; fffffffeH
  00011	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 157  : 
; 158  : 	master_caution_alert = FALSE;

  00016	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 0

; 159  : 
; 160  : 	master_caution_flash_timer = 0.0;

  00020	0f 57 c0	 xorps	 xmm0, xmm0
  00023	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 161  : 
; 162  : 	master_caution_sound_timer = 0.0;

  0002b	0f 57 c0	 xorps	 xmm0, xmm0
  0002e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 163  : 
; 164  : 	pause_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA, 0.5);

  00036	51		 push	 ecx
  00037	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  0003f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00044	6a 19		 push	 25			; 00000019H
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?pause_local_entity_sound_type@@YGHPAUENTITY@@HM@Z ; pause_local_entity_sound_type

; 165  : }

  00051	5f		 pop	 edi
  00052	5e		 pop	 esi
  00053	5b		 pop	 ebx
  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c3		 ret	 0
?deactivate_hokum_master_caution@@YGXXZ ENDP		; deactivate_hokum_master_caution
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\users\nhv90\projects\eech\aphavoc\source\gunships\avionics\hokum\hk_avlmp.c
;	COMDAT ?activate_hokum_master_caution@@YGXXZ
_TEXT	SEGMENT
?activate_hokum_master_caution@@YGXXZ PROC		; activate_hokum_master_caution, COMDAT

; 138  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 139  : 	hokum_lamps.master_caution = 1;

  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A
  0000e	83 c8 01	 or	 eax, 1
  00011	a3 00 00 00 00	 mov	 DWORD PTR ?hokum_lamps@@3UHOKUM_LAMP_FLAGS@@A, eax

; 140  : 
; 141  : 	master_caution_alert = TRUE;

  00016	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?master_caution_alert@@3HA, 1

; 142  : 
; 143  : 	master_caution_flash_timer = MASTER_CAUTION_FLASH_RATE;

  00020	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f000000
  00028	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_flash_timer@@3MA, xmm0

; 144  : 
; 145  : 	master_caution_sound_timer = 3.0;

  00030	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40400000
  00038	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?master_caution_sound_timer@@3MA, xmm0

; 146  : 
; 147  : 	resume_local_entity_sound_type (get_gunship_entity (), ENTITY_SUB_TYPE_EFFECT_SOUND_MCA);

  00040	6a 19		 push	 25			; 00000019H
  00042	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gunship_entity@@3PAUENTITY@@A ; gunship_entity
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?resume_local_entity_sound_type@@YGHPAUENTITY@@H@Z ; resume_local_entity_sound_type

; 148  : }

  0004d	5f		 pop	 edi
  0004e	5e		 pop	 esi
  0004f	5b		 pop	 ebx
  00050	8b e5		 mov	 esp, ebp
  00052	5d		 pop	 ebp
  00053	c3		 ret	 0
?activate_hokum_master_caution@@YGXXZ ENDP		; activate_hokum_master_caution
_TEXT	ENDS
END
