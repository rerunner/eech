; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	c:\users\nhv90\projects\eech\modules\graphics\d3d.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB OLDNAMES

PUBLIC	?d3d_using_hardware_tnl@@3HA			; d3d_using_hardware_tnl
PUBLIC	?d3d_modulate_alpha@@3HA			; d3d_modulate_alpha
PUBLIC	?d3d_can_render_to_texture@@3HA			; d3d_can_render_to_texture
PUBLIC	?d3d_flat_only_alpha@@3HA			; d3d_flat_only_alpha
PUBLIC	?d3d_textured_lines@@3HA			; d3d_textured_lines
PUBLIC	?d3d@@3UDIRECT_3D_VECTORS@@A			; d3d
PUBLIC	?d3d_use_rgb_device@@3HA			; d3d_use_rgb_device
PUBLIC	?d3d_data@@3UDIRECT_3D_DATA@@A			; d3d_data
PUBLIC	?d3d_mipmap_textures@@3HA			; d3d_mipmap_textures
PUBLIC	?d3d_override_render_to_texture@@3HA		; d3d_override_render_to_texture
PUBLIC	?d3d_use_dx_pipeline@@3HA			; d3d_use_dx_pipeline
PUBLIC	?d3d_maximum_texture_height@@3HA		; d3d_maximum_texture_height
PUBLIC	?d3d_square_only_textures@@3HA			; d3d_square_only_textures
PUBLIC	?d3d_maximum_texture_width@@3HA			; d3d_maximum_texture_width
PUBLIC	?d3d_in_3d_scene@@3HA				; d3d_in_3d_scene
PUBLIC	?d3d_valid@@3HA					; d3d_valid
PUBLIC	?d3d_initialised@@3HA				; d3d_initialised
PUBLIC	?d3d_total_video_memory@@3HA			; d3d_total_video_memory
PUBLIC	?d3d_total_video_texture_memory@@3HA		; d3d_total_video_texture_memory
PUBLIC	??_C@_0BP@OGFNALJO@Error?5creating?5d3d?5device2?3?5?$CFs@ ; `string'
PUBLIC	??_C@_0CK@CDHJKEKF@Error?5getting?5d3d?5device?5capabi@ ; `string'
PUBLIC	??_C@_0CA@DMNIBGCO@Error?5setting?5render?5target?3?5?$CFs@ ; `string'
PUBLIC	??_C@_06GGPLJKG@D3D_OK@				; `string'
PUBLIC	??_C@_0BC@EHNKEPFO@D3D_UNKNOWN?5ERROR@		; `string'
PUBLIC	?d3d_error_table@@3PAUdirect_3d_errors@@A	; d3d_error_table
PUBLIC	?d3d_vertex_buffer_in_video_memory@@3HA		; d3d_vertex_buffer_in_video_memory
EXTRN	_IID_IDirect3DRGBDevice:BYTE
EXTRN	_IID_IDirect3DTnLHalDevice:BYTE
?d3d_using_hardware_tnl@@3HA DD 01H DUP (?)		; d3d_using_hardware_tnl
?d3d_modulate_alpha@@3HA DD 01H DUP (?)			; d3d_modulate_alpha
?d3d_flat_only_alpha@@3HA DD 01H DUP (?)		; d3d_flat_only_alpha
?d3d_textured_lines@@3HA DD 01H DUP (?)			; d3d_textured_lines
?d3d@@3UDIRECT_3D_VECTORS@@A DB 0224a0H DUP (?)		; d3d
?d3d_use_rgb_device@@3HA DD 01H DUP (?)			; d3d_use_rgb_device
?d3d_data@@3UDIRECT_3D_DATA@@A DB 014H DUP (?)		; d3d_data
?d3d_mipmap_textures@@3HA DD 01H DUP (?)		; d3d_mipmap_textures
?d3d_override_render_to_texture@@3HA DD 01H DUP (?)	; d3d_override_render_to_texture
?d3d_use_dx_pipeline@@3HA DD 01H DUP (?)		; d3d_use_dx_pipeline
?d3d_maximum_texture_height@@3HA DD 01H DUP (?)		; d3d_maximum_texture_height
?d3d_square_only_textures@@3HA DD 01H DUP (?)		; d3d_square_only_textures
?d3d_maximum_texture_width@@3HA DD 01H DUP (?)		; d3d_maximum_texture_width
?d3d_in_3d_scene@@3HA DD 01H DUP (?)			; d3d_in_3d_scene
?d3d_valid@@3HA DD 01H DUP (?)				; d3d_valid
?d3d_initialised@@3HA DD 01H DUP (?)			; d3d_initialised
?d3d_total_video_memory@@3HA DD 01H DUP (?)		; d3d_total_video_memory
?d3d_total_video_texture_memory@@3HA DD 01H DUP (?)	; d3d_total_video_texture_memory
?d3d_vertex_buffer_in_video_memory@@3HA DD 01H DUP (?)	; d3d_vertex_buffer_in_video_memory
_BSS	ENDS
;	COMDAT ??_C@_0BC@EHNKEPFO@D3D_UNKNOWN?5ERROR@
CONST	SEGMENT
??_C@_0BC@EHNKEPFO@D3D_UNKNOWN?5ERROR@ DB 'D3D_UNKNOWN ERROR', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06GGPLJKG@D3D_OK@
CONST	SEGMENT
??_C@_06GGPLJKG@D3D_OK@ DB 'D3D_OK', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@DMNIBGCO@Error?5setting?5render?5target?3?5?$CFs@
CONST	SEGMENT
??_C@_0CA@DMNIBGCO@Error?5setting?5render?5target?3?5?$CFs@ DB 'Error set'
	DB	'ting render target: %s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@CDHJKEKF@Error?5getting?5d3d?5device?5capabi@
CONST	SEGMENT
??_C@_0CK@CDHJKEKF@Error?5getting?5d3d?5device?5capabi@ DB 'Error getting'
	DB	' d3d device capabilities: %s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@OGFNALJO@Error?5creating?5d3d?5device2?3?5?$CFs@
CONST	SEGMENT
??_C@_0BP@OGFNALJO@Error?5creating?5d3d?5device2?3?5?$CFs@ DB 'Error crea'
	DB	'ting d3d device2: %s', 00H			; `string'
?d3d_can_render_to_texture@@3HA DD 01H			; d3d_can_render_to_texture
?d3d_error_table@@3PAUdirect_3d_errors@@A DD 00H	; d3d_error_table
	DD	FLAT:??_C@_06GGPLJKG@D3D_OK@
	DD	0887602bcH
	DD	FLAT:??_C@_0BH@MDNDAAEO@D3DERR_BADMAJORVERSION@
	DD	0887602bdH
	DD	FLAT:??_C@_0BH@HFAGAFDC@D3DERR_BADMINORVERSION@
	DD	0887602c1H
	DD	FLAT:??_C@_0BG@ODDFEDPK@D3DERR_INVALID_DEVICE@
	DD	0887602c2H
	DD	FLAT:??_C@_0BC@KKFHIJCP@D3DERR_INITFAILED@
	DD	0887602c3H
	DD	FLAT:??_C@_0BI@EOAANMDP@D3DERR_DEVICEAGGREGATED@
	DD	0887602c6H
	DD	FLAT:??_C@_0BN@FLDMEHKH@D3DERR_EXECUTE_CREATE_FAILED@
	DD	0887602c7H
	DD	FLAT:??_C@_0BO@LGHMOFHO@D3DERR_EXECUTE_DESTROY_FAILED@
	DD	0887602c8H
	DD	FLAT:??_C@_0BL@DMBHKLLG@D3DERR_EXECUTE_LOCK_FAILED@
	DD	0887602c9H
	DD	FLAT:??_C@_0BN@CJJOHPMI@D3DERR_EXECUTE_UNLOCK_FAILED@
	DD	0887602caH
	DD	FLAT:??_C@_0BG@EADNNNJB@D3DERR_EXECUTE_LOCKED@
	DD	0887602cbH
	DD	FLAT:??_C@_0BK@LKPIANLL@D3DERR_EXECUTE_NOT_LOCKED@
	DD	0887602ccH
	DD	FLAT:??_C@_0BG@JCAMDLH@D3DERR_EXECUTE_FAILED@
	DD	0887602cdH
	DD	FLAT:??_C@_0BO@BMLEGCIJ@D3DERR_EXECUTE_CLIPPED_FAILED@
	DD	0887602d0H
	DD	FLAT:??_C@_0BK@GLBGKNEI@D3DERR_TEXTURE_NO_SUPPORT@
	DD	0887602d1H
	DD	FLAT:??_C@_0BN@KOAJFPFI@D3DERR_TEXTURE_CREATE_FAILED@
	DD	0887602d2H
	DD	FLAT:??_C@_0BO@JLILDPOL@D3DERR_TEXTURE_DESTROY_FAILED@
	DD	0887602d3H
	DD	FLAT:??_C@_0BL@FFOODCNH@D3DERR_TEXTURE_LOCK_FAILED@
	DD	0887602d4H
	DD	FLAT:??_C@_0BN@NMKLGHDH@D3DERR_TEXTURE_UNLOCK_FAILED@
	DD	0887602d5H
	DD	FLAT:??_C@_0BL@IOKCCNDL@D3DERR_TEXTURE_LOAD_FAILED@
	DD	0887602d6H
	DD	FLAT:??_C@_0BL@BFDHGJEF@D3DERR_TEXTURE_SWAP_FAILED@
	DD	0887602d7H
	DD	FLAT:??_C@_0BG@OKFJGHJB@D3DERR_TEXTURE_LOCKED@
	DD	0887602d8H
	DD	FLAT:??_C@_0BK@EFKDJCCI@D3DERR_TEXTURE_NOT_LOCKED@
	DD	0887602d9H
	DD	FLAT:??_C@_0BO@LAPCIDO@D3DERR_TEXTURE_GETSURF_FAILED@
	DD	0887602daH
	DD	FLAT:??_C@_0BM@CJGICNIN@D3DERR_MATRIX_CREATE_FAILED@
	DD	0887602dbH
	DD	FLAT:??_C@_0BN@GNLFHIMC@D3DERR_MATRIX_DESTROY_FAILED@
	DD	0887602dcH
	DD	FLAT:??_C@_0BN@DMPPDLIP@D3DERR_MATRIX_SETDATA_FAILED@
	DD	0887602ddH
	DD	FLAT:??_C@_0BN@PCOBMBKD@D3DERR_MATRIX_GETDATA_FAILED@
	DD	0887602deH
	DD	FLAT:??_C@_0BO@DCNECMNP@D3DERR_SETVIEWPORTDATA_FAILED@
	DD	0887602dfH
	DD	FLAT:??_C@_0BO@CDIKJFGJ@D3DERR_INVALIDCURRENTVIEWPORT@
	DD	0887602e0H
	DD	FLAT:??_C@_0BM@BHBKHMAF@D3DERR_INVALIDPRIMITIVETYPE@
	DD	0887602e1H
	DD	FLAT:??_C@_0BJ@IPDJKALI@D3DERR_INVALIDVERTEXTYPE@
	DD	0887602e2H
	DD	FLAT:??_C@_0BH@FOKCPFKD@D3DERR_TEXTURE_BADSIZE@
	DD	0887602e3H
	DD	FLAT:??_C@_0BK@GHFAPHHM@D3DERR_INVALIDRAMPTEXTURE@
	DD	0887602e4H
	DD	FLAT:??_C@_0BO@EAEEHEME@D3DERR_MATERIAL_CREATE_FAILED@
	DD	0887602e5H
	DD	FLAT:??_C@_0BP@GCNMKNKP@D3DERR_MATERIAL_DESTROY_FAILED@
	DD	0887602e6H
	DD	FLAT:??_C@_0BP@DDJGOOOC@D3DERR_MATERIAL_SETDATA_FAILED@
	DD	0887602e7H
	DD	FLAT:??_C@_0BP@PNIIBEMO@D3DERR_MATERIAL_GETDATA_FAILED@
	DD	0887602e8H
	DD	FLAT:??_C@_0BG@NDHIPINM@D3DERR_INVALIDPALETTE@
	DD	0887602e9H
	DD	FLAT:??_C@_0CA@GNDHJEMJ@D3DERR_ZBUFF_NEEDS_SYSTEMMEMORY@
	DD	0887602eaH
	DD	FLAT:??_C@_0BP@KALLEADK@D3DERR_ZBUFF_NEEDS_VIDEOMEMORY@
	DD	0887602ebH
	DD	FLAT:??_C@_0BK@HAKLCOCO@D3DERR_SURFACENOTINVIDMEM@
	DD	0887602eeH
	DD	FLAT:??_C@_0BI@POLEELME@D3DERR_LIGHT_SET_FAILED@
	DD	0887602efH
	DD	FLAT:??_C@_0BI@GLFNFJK@D3DERR_LIGHTHASVIEWPORT@
	DD	0887602f0H
	DD	FLAT:??_C@_0BO@BMBKCJNB@D3DERR_LIGHTNOTINTHISVIEWPORT@
	DD	0887602f8H
	DD	FLAT:??_C@_0BG@EGAAIAPO@D3DERR_SCENE_IN_SCENE@
	DD	0887602f9H
	DD	FLAT:??_C@_0BK@FPAJMCGE@D3DERR_SCENE_NOT_IN_SCENE@
	DD	0887602faH
	DD	FLAT:??_C@_0BK@HIPOGPOB@D3DERR_SCENE_BEGIN_FAILED@
	DD	0887602fbH
	DD	FLAT:??_C@_0BI@PAGCGJDG@D3DERR_SCENE_END_FAILED@
	DD	088760302H
	DD	FLAT:??_C@_0P@LNCHBLHP@D3DERR_INBEGIN@
	DD	088760303H
	DD	FLAT:??_C@_0BC@ICOADBGJ@D3DERR_NOTINBEGIN@
	DD	088760304H
	DD	FLAT:??_C@_0BD@DMMBGGIJ@D3DERR_NOVIEWPORTS@
	DD	088760305H
	DD	FLAT:??_C@_0BK@FEIHOJMK@D3DERR_VIEWPORTDATANOTSET@
	DD	088760306H
	DD	FLAT:??_C@_0BL@FDPMIOEJ@D3DERR_VIEWPORTHASNODEVICE@
	DD	088760307H
	DD	FLAT:??_C@_0BJ@JJGBBFEH@D3DERR_NOCURRENTVIEWPORT@
	DD	088760800H
	DD	FLAT:??_C@_0BL@MPPPGACI@D3DERR_INVALIDVERTEXFORMAT@
	DD	088760802H
	DD	FLAT:??_C@_0BI@IKBKGCAC@D3DERR_COLORKEYATTACHED@
	DD	08876080cH
	DD	FLAT:??_C@_0BN@GLHOJIJ@D3DERR_VERTEXBUFFEROPTIMIZED@
	DD	08876080dH
	DD	FLAT:??_C@_0BK@KOPJOFIM@D3DERR_VBUF_CREATE_FAILED@
	DD	08876080eH
	DD	FLAT:??_C@_0BK@GEECGJAB@D3DERR_VERTEXBUFFERLOCKED@
	DD	088760816H
	DD	FLAT:??_C@_0BK@FFCPDOHF@D3DERR_ZBUFFER_NOTPRESENT@
	DD	088760817H
	DD	FLAT:??_C@_0CA@OJPGCALL@D3DERR_STENCILBUFFER_NOTPRESENT@
	DD	088760818H
	DD	FLAT:??_C@_0BK@BPHFHCLE@D3DERR_WRONGTEXTUREFORMAT@
	DD	088760819H
	DD	FLAT:??_C@_0CB@CGHHLPPG@D3DERR_UNSUPPORTEDCOLOROPERATIO@
	DD	08876081aH
	DD	FLAT:??_C@_0BL@CDKLBBHI@D3DERR_UNSUPPORTEDCOLORARG@
	DD	08876081bH
	DD	FLAT:??_C@_0CB@JPKBHPNI@D3DERR_UNSUPPORTEDALPHAOPERATIO@
	DD	08876081cH
	DD	FLAT:??_C@_0BL@BJOJBFEN@D3DERR_UNSUPPORTEDALPHAARG@
	DD	08876081dH
	DD	FLAT:??_C@_0BJ@INFNOJNF@D3DERR_TOOMANYOPERATIONS@
	DD	08876081eH
	DD	FLAT:??_C@_0CA@CFPOKCEH@D3DERR_CONFLICTINGTEXTUREFILTER@
	DD	08876081fH
	DD	FLAT:??_C@_0BO@MOJGBOAN@D3DERR_UNSUPPORTEDFACTORVALUE@
	DD	088760821H
	DD	FLAT:??_C@_0BO@EMDMGLEF@D3DERR_CONFLICTINGRENDERSTATE@
	DD	088760822H
	DD	FLAT:??_C@_0CA@FJBFGLDN@D3DERR_UNSUPPORTEDTEXTUREFILTER@
	DD	088760823H
	DD	FLAT:??_C@_0BJ@OFKCGAOF@D3DERR_TOOMANYPRIMITIVES@
	DD	088760824H
	DD	FLAT:??_C@_0BF@ILKGKDDM@D3DERR_INVALIDMATRIX@
	DD	088760825H
	DD	FLAT:??_C@_0BH@CCKJFGJF@D3DERR_TOOMANYVERTICES@
	DD	088760826H
	DD	FLAT:??_C@_0CB@FNAABFGA@D3DERR_CONFLICTINGTEXTUREPALETT@
	DD	0ffffffffH
	DD	FLAT:??_C@_0BC@EHNKEPFO@D3D_UNKNOWN?5ERROR@
PUBLIC	?d3d_restore_objects@@YGXH@Z			; d3d_restore_objects
PUBLIC	?set_d3d_capabilities@@YGXPAU_D3DDeviceDesc7@@@Z ; set_d3d_capabilities
PUBLIC	?create_d3d_vertex_buffers@@YGXXZ		; create_d3d_vertex_buffers
PUBLIC	?initialise_direct_3d@@YGHXZ			; initialise_direct_3d
PUBLIC	?destroy_d3d_vertex_buffers@@YGXXZ		; destroy_d3d_vertex_buffers
PUBLIC	?d3d_release_objects@@YGXXZ			; d3d_release_objects
PUBLIC	?d3d_render_target_recreated@@YGXXZ		; d3d_render_target_recreated
PUBLIC	?recreate_d3d@@YGXXZ				; recreate_d3d
PUBLIC	?get_d3d_error_message@@YGPBDJ@Z		; get_d3d_error_message
PUBLIC	?register_restore_vb_routine@@YGXP6GXXZ@Z	; register_restore_vb_routine
PUBLIC	?d3d_begin_scene@@YGHXZ				; d3d_begin_scene
PUBLIC	?d3d_end_scene@@YGHXZ				; d3d_end_scene
?restore_vb_friend_function@@3P6GXXZA DD 01H DUP (?)	; restore_vb_friend_function
_BSS	ENDS
END
